"use strict";(self.webpackChunkadmin_ui_duende=self.webpackChunkadmin_ui_duende||[]).push([[822],{7822:(A,p,i)=>{i.r(p),i.d(p,{ViewIdentityResourcesModule:()=>X});var u=i(8434),v=i(9262),f=i(5139),a=i(8018),I=i(1683),C=i(2571),T=i(8389),g=i(5731),S=i(6843),D=i(7677),$=i(7175),O=i(367),l=i(9838),Y=i(1746),y=i(6303),e=i(1360),d=i(345),c=i(8261),m=i(8698),R=i(8762);function G(n,P){if(1&n&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&n){const r=e.XpG();e.Y8G("label","Resources.AssignedClaims"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Multi)("values",r.displayClaims)}}let F=(()=>{class n{get ReadOnlyFieldType(){return y.t}constructor(r,t,s){this.titleService=r,this.identityResourceService=t,this.translate=s,this.displayClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe({next:r=>{this.identityResource=r,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${l.$9.SITE_TITLE}`),this.displayClaims=this.identityResource.allowedClaims.sort().map(t=>new Y.w(t))}})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(d.hE),e.rXU(c.A),e.rXU(a.c$))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-identity-resource-claims"]],standalone:!1,decls:5,vars:4,consts:[[1,"cms"],[3,"label",4,"ngIf"],[3,"label"],[3,"fieldType","values"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,G,2,3,"app-form-row",1)),2&t&&(e.R7$(2),e.JRh(e.bMT(3,2,"IdentityResources.UserClaimTypes")),e.R7$(2),e.Y8G("ngIf",s.displayClaims))},dependencies:[u.bT,m.Y,R.O,a.D9],encapsulation:2})}}return n})();var b=i(6697),U=i(5794),V=i(6520);let E=(()=>{class n{constructor(r,t,s,h){this.titleService=r,this.identityResourceService=t,this.toastr=s,this.translate=h,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${l.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(r){this.properties=r;const t=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(t).pipe((0,b.s)(1)).subscribe(s=>{this.identityResource=t,this.identityResourceService.getCachedIdentityResource().next(t),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(d.hE),e.rXU(c.A),e.rXU(U.tw),e.rXU(a.c$))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-identity-resource-properties"]],standalone:!1,decls:1,vars:3,consts:[[3,"propertiesChanged","modalId","isReadOnly","properties"]],template:function(t,s){1&t&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(j){return s.onPropertiesChanged(j)}),e.k0s()),2&t&&e.Y8G("modalId",s.identityResource.id)("isReadOnly",!0)("properties",s.properties)},dependencies:[V.C],encapsulation:2})}}return n})();var w=i(7921);const o=n=>[n],N=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:(()=>{class n{constructor(r,t,s){this.titleService=r,this.identityResourceService=t,this.translate=s}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResourceDictionary=new w.b(r),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+r.displayName+" "+this.translate.instant("Nav.Details")+` - ${l.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}get ReadOnlyFieldType(){return y.t}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(d.hE),e.rXU(c.A),e.rXU(a.c$))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-view-identityresource-details"]],standalone:!1,decls:14,vars:37,consts:[["id","identityResourceDetails"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help","isLast"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"form")(2,"app-form-row",1),e.nrm(3,"app-readonly",2),e.k0s(),e.j41(4,"app-form-row",1),e.nrm(5,"app-readonly",2),e.k0s(),e.j41(6,"app-form-row",1),e.nrm(7,"app-readonly",2),e.k0s(),e.j41(8,"app-form-row",1),e.nrm(9,"app-readonly",2),e.k0s(),e.j41(10,"app-form-row",1),e.nrm(11,"app-readonly",2),e.k0s(),e.j41(12,"app-form-row",3),e.nrm(13,"app-readonly",2),e.k0s()()()),2&t&&(e.R7$(2),e.Y8G("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Single)("values",e.eq3(25,o,s.identityResourceDictionary.name)),e.R7$(),e.Y8G("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Single)("values",e.eq3(27,o,s.identityResourceDictionary.displayName)),e.R7$(),e.Y8G("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Single)("values",e.eq3(29,o,s.identityResourceDictionary.description)),e.R7$(),e.Y8G("label","Resources.Required")("help","IdentityResources.ConsentResource"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Single)("values",e.eq3(31,o,s.identityResourceDictionary.required)),e.R7$(),e.Y8G("label","IdentityResources.ShowInDiscoveryDocumentReadOnly")("help","IdentityResources.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Single)("values",e.eq3(33,o,s.identityResourceDictionary.showInDiscoveryDocument)),e.R7$(),e.Y8G("label","Common.EmphasizeReadOnly")("help","IdentityResources.ConsentScreen")("isLast",!0),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Single)("values",e.eq3(35,o,s.identityResourceDictionary.emphasize)))},dependencies:[m.Y,R.O],encapsulation:2})}}return n})()},{path:"claims",component:F},{path:"properties",component:E}];let X=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[u.MD,a.h.forChild({extend:!0}),v.iI.forChild(N),I.Y,O.m,g.i,f.XE,T.w,C.A,$.c,S.l,D.N]})}}return n})()}}]);