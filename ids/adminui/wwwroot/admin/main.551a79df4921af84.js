(self.webpackChunkadmin_ui_duende=self.webpackChunkadmin_ui_duende||[]).push([[792],{17:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>w});var t=l(1985),a=l(8359),p=l(9898),A=l(4360),e=l(9974);class w extends t.c{constructor(D,S){super(),this.source=D,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,e.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new a.yU;const S=this.getSubject();D.add(this.source.subscribe((0,A._)(S,void 0,()=>{this._teardown(),S.complete()},g=>{this._teardown(),S.error(g)},()=>this._teardown()))),D.closed&&(this._connection=null,D=a.yU.EMPTY)}return D}refCount(){return(0,p.B)()(this)}}},57:(ot,ve,l)=>{var t=l(6589);function a(E,B){t.cipher.registerAlgorithm(E,function(){return new t.aes.Algorithm(E,B)})}l(5855),l(6199),l(812),ot.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!1,mode:F});return M.start(B),M},t.aes.createEncryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!1,mode:B})},t.aes.startDecrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!0,mode:F});return M.start(B),M},t.aes.createDecryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!0,mode:B})},t.aes.Algorithm=function(E,B){p||g();var V=this;V.name=E,V.mode=new B({blockSize:16,cipher:{encrypt:function(F,M){return Y(V._w,F,M,!1)},decrypt:function(F,M){return Y(V._w,F,M,!0)}}}),V._init=!1},t.aes.Algorithm.prototype.initialize=function(E){if(!this._init){var V,B=E.key;if("string"!=typeof B||16!==B.length&&24!==B.length&&32!==B.length){if(t.util.isArray(B)&&(16===B.length||24===B.length||32===B.length)){V=B,B=t.util.createBuffer();for(var F=0;F<V.length;++F)B.putByte(V[F])}}else B=t.util.createBuffer(B);if(!t.util.isArray(B)){V=B,B=[];var M=V.length();if(16===M||24===M||32===M)for(M>>>=2,F=0;F<M;++F)B.push(V.getInt32())}if(!t.util.isArray(B)||4!==B.length&&6!==B.length&&8!==B.length)throw new Error("Invalid key parameter.");var y=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=k(B,E.decrypt&&!y),this._init=!0}},t.aes._expandKey=function(E,B){return p||g(),k(E,B)},t.aes._updateBlock=Y,a("AES-ECB",t.cipher.modes.ecb),a("AES-CBC",t.cipher.modes.cbc),a("AES-CFB",t.cipher.modes.cfb),a("AES-OFB",t.cipher.modes.ofb),a("AES-CTR",t.cipher.modes.ctr),a("AES-GCM",t.cipher.modes.gcm);var e,w,m,D,S,p=!1,A=4;function g(){p=!0,m=[0,1,2,4,8,16,32,64,128,27,54];for(var E=new Array(256),B=0;B<128;++B)E[B]=B<<1,E[B+128]=B+128<<1^283;for(e=new Array(256),w=new Array(256),D=new Array(4),S=new Array(4),B=0;B<4;++B)D[B]=new Array(256),S[B]=new Array(256);var M,W,y,z,Z,v,L,V=0,F=0;for(B=0;B<256;++B){e[V]=z=(z=F^F<<1^F<<2^F<<3^F<<4)>>8^255&z^99,w[z]=V,v=(Z=E[z])<<24^z<<16^z<<8^z^Z,L=((M=E[V])^(W=E[M])^(y=E[W]))<<24^(V^y)<<16^(V^W^y)<<8^V^M^y;for(var J=0;J<4;++J)D[J][V]=v,S[J][z]=L,v=v<<24|v>>>8,L=L<<24|L>>>8;0===V?V=F=1:(V=M^E[E[E[M^y]]],F^=E[E[F]])}}function k(E,B){for(var F,V=E.slice(0),M=1,W=V.length,z=A*(W+6+1),Z=W;Z<z;++Z)F=V[Z-1],Z%W==0?(F=e[F>>>16&255]<<24^e[F>>>8&255]<<16^e[255&F]<<8^e[F>>>24]^m[M]<<24,M++):W>6&&Z%W==4&&(F=e[F>>>24]<<24^e[F>>>16&255]<<16^e[F>>>8&255]<<8^e[255&F]),V[Z]=V[Z-W]^F;if(B){for(var v,L=S[0],J=S[1],te=S[2],N=S[3],fe=V.slice(0),oe=(Z=0,(z=V.length)-A);Z<z;Z+=A,oe-=A)if(0===Z||Z===z-A)fe[Z]=V[oe],fe[Z+1]=V[oe+3],fe[Z+2]=V[oe+2],fe[Z+3]=V[oe+1];else for(var R=0;R<A;++R)fe[Z+(3&-R)]=L[e[(v=V[oe+R])>>>24]]^J[e[v>>>16&255]]^te[e[v>>>8&255]]^N[e[255&v]];V=fe}return V}function Y(E,B,V,F){var W,y,z,Z,v,L,J,te,N,fe,oe,R,M=E.length/4-1;F?(W=S[0],y=S[1],z=S[2],Z=S[3],v=w):(W=D[0],y=D[1],z=D[2],Z=D[3],v=e),L=B[0]^E[0],J=B[F?3:1]^E[1],te=B[2]^E[2],N=B[F?1:3]^E[3];for(var Pe=3,Te=1;Te<M;++Te)fe=W[L>>>24]^y[J>>>16&255]^z[te>>>8&255]^Z[255&N]^E[++Pe],oe=W[J>>>24]^y[te>>>16&255]^z[N>>>8&255]^Z[255&L]^E[++Pe],R=W[te>>>24]^y[N>>>16&255]^z[L>>>8&255]^Z[255&J]^E[++Pe],N=W[N>>>24]^y[L>>>16&255]^z[J>>>8&255]^Z[255&te]^E[++Pe],L=fe,J=oe,te=R;V[0]=v[L>>>24]<<24^v[J>>>16&255]<<16^v[te>>>8&255]<<8^v[255&N]^E[++Pe],V[F?3:1]=v[J>>>24]<<24^v[te>>>16&255]<<16^v[N>>>8&255]<<8^v[255&L]^E[++Pe],V[2]=v[te>>>24]<<24^v[N>>>16&255]<<16^v[L>>>8&255]<<8^v[255&J]^E[++Pe],V[F?1:3]=v[N>>>24]<<24^v[L>>>16&255]<<16^v[J>>>8&255]<<8^v[255&te]^E[++Pe]}function u(E){var F,V="AES-"+((E=E||{}).mode||"CBC").toUpperCase(),M=(F=E.decrypt?t.cipher.createDecipher(V,E.key):t.cipher.createCipher(V,E.key)).start;return F.start=function(W,y){var z=null;y instanceof t.util.ByteBuffer&&(z=y,y={}),(y=y||{}).output=z,y.iv=W,M.call(F,y)},F}},75:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>m});var t=l(1683),a=l(8434),p=l(8018),A=l(9417),e=l(8389),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.Y,a.MD,p.h,A.YN,e.w]})}}return D})()},76:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{RolesModule:()=>Qi});var t=l(8434),a=l(9262),p=l(9417),A=l(779),e=l(1683),w=l(8018),m=l(8455),D=l(8580),S=l(5139),g=l(367),k=l(5731),Y=l(4193),u=l(3665),E=l(7175),B=l(275),V=l(1993),F=l(8389),M=l(7677),W=l(4367),y=l(1360),z=l(2947),Z=l(5424),v=l(7883),L=l(9196),J=l(3680),te=l(6719),N=l(251);const fe=(Bt,ce)=>({title:Bt,link:ce}),oe=Bt=>[Bt];function R(Bt,ce){1&Bt&&(y.j41(0,"span",9),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Policy")," "))}function Pe(Bt,ce){1&Bt&&(y.j41(0,"span",10),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Reserved")," "))}function Te(Bt,ce){if(1&Bt&&(y.qex(0,6),y.DNE(1,R,3,3,"span",7)(2,Pe,3,3,"span",8),y.bVm()),2&Bt){const Ie=y.XpG();y.R7$(),y.Y8G("ngIf",Ie.isPolicyRole()),y.R7$(),y.Y8G("ngIf",Ie.role.reserved)}}function We(Bt,ce){1&Bt&&y.nrm(0,"app-custom-tab",3),2&Bt&&y.Y8G("tabTitle","Nav.Additional Details")("tabValue","additionaldetails")}let rt=(()=>{class Bt{constructor(Ie,ae,be,ke,At){this.activatedRoute=Ie,this.errorService=ae,this.router=be,this.securityService=ke,this.configService=At,this.enabledRoleClaims=!1}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(Ie=>{this.role=Ie.role},Ie=>{this.errorService.handleError(Ie)}),this.configService.getConfig().subscribe(Ie=>{this.enabledRoleClaims=Ie.featureFlagOptions.enableRoleClaims})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const Ie=this.securityService.policyClaims;for(let ae=0;ae<Ie.length;ae++)if("role"===Ie[ae].type&&Ie[ae].value===this.role.name)return!0;return!1}mobRoute(Ie){this.router.navigate([Ie],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(z.nX),y.rXU(Z.I),y.rXU(z.Ix),y.rXU(v.i),y.rXU(L.w))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["ng-component"]],standalone:!1,decls:11,vars:18,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(ae,be){1&ae&&(y.j41(0,"app-title-bar",0),y.nI1(1,"translate"),y.nI1(2,"localize"),y.DNE(3,Te,3,2,"ng-container",1),y.qex(4,2),y.j41(5,"app-custom-tabs"),y.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),y.DNE(8,We,1,2,"app-custom-tab",4),y.k0s(),y.bVm(),y.k0s(),y.j41(9,"div",5),y.nrm(10,"router-outlet"),y.k0s()),2&ae&&(y.Y8G("title",be.role.name)("crumbs",y.eq3(16,oe,y.l_i(13,fe,y.bMT(1,9,"Nav.Roles"),y.bMT(2,11,"/roles"))))("hasTabs",!0),y.R7$(3),y.Y8G("ngIf",be.isPolicyRole()||be.role.reserved),y.R7$(3),y.Y8G("tabTitle","Nav.Details")("tabValue","details"),y.R7$(),y.Y8G("tabTitle","Nav.Users")("tabValue","users"),y.R7$(),y.Y8G("ngIf",be.enabledRoleClaims))},dependencies:[z.n3,t.bT,J.z,te.G,N.v,w.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var lt=l(9838),vt=l(9957),je=l(6303),Ye=l(6411),Ke=l(3519),it=l(345),Ve=l(5794),Be=l(7499),Xe=l(6728),Ue=l(6406),ct=l(8698),st=l(8762),Qe=l(7778),ne=l(4692);const K=Bt=>[Bt];function de(Bt,ce){1&Bt&&y.nrm(0,"input",12)}function ge(Bt,ce){if(1&Bt&&(y.nrm(0,"app-readonly",13),y.nI1(1,"readOnlyValue")),2&Bt){const Ie=y.XpG();y.Y8G("fieldType",Ie.ReadOnlyFieldType.Single)("values",y.eq3(4,K,y.bMT(1,2,Ie.role.name)))}}function o(Bt,ce){1&Bt&&y.nrm(0,"textarea",14)}function dt(Bt,ce){if(1&Bt&&(y.nrm(0,"app-readonly",13),y.nI1(1,"readOnlyValue")),2&Bt){const Ie=y.XpG();y.Y8G("fieldType",Ie.ReadOnlyFieldType.Single)("values",y.eq3(4,K,y.bMT(1,2,Ie.role.description)))}}let gt=(()=>{class Bt extends Ye.A{get ReadOnlyFieldType(){return je.t}constructor(Ie,ae,be,ke,At,hn,Fn,Wi,Di,Vi,li){super(li),this.rolesService=Ie,this.route=ae,this.securityService=be,this.router=ke,this.fb=At,this.titleService=hn,this.toastr=Fn,this.translate=Wi,this.localize=Di,this.errorService=Vi}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(Ie=>{this.role=Ie,this.buildForms(),this.initialData=JSON.stringify(Ie);const ae=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+lt.$9.SITE_TITLE;this.titleService.setTitle(ae)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}get unsavedChanges(){return!this.editRoleForm.pristine}onDeactivate(){}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const Ie=this.translate.instant("Notifications.Saving Success Title"),ae=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,Ie)},Ie=>{if(401===Ie.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const ae={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message"),forceToast:!0};(this.errorService.handleError(Ie,ae)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(ae.toastBody,ae.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(Ie=>{const ae=this.localize.translateRoute("/roles");this.router.navigate([ae]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},Ie=>{if(401===Ie.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const ae={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message"),forceToast:!0};(this.errorService.handleError(Ie,ae)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(ae.toastBody,ae.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const Ie=this.securityService.policyClaims;for(let ae=0;ae<Ie.length;ae++)if("role"===Ie[ae].type&&Ie[ae].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(Ke.P),y.rXU(z.nX),y.rXU(v.i),y.rXU(z.Ix),y.rXU(p.ze),y.rXU(it.hE),y.rXU(Ve.tw),y.rXU(w.c$),y.rXU(S.QG),y.rXU(Z.I),y.rXU(Be.o))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-details"]],standalone:!1,features:[y.Vt3],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(ae,be){if(1&ae){const ke=y.RV6();y.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),y.DNE(3,de,1,0,"input",4)(4,ge,2,6,"app-readonly",5),y.k0s(),y.j41(5,"app-form-row",6),y.DNE(6,o,1,0,"textarea",7)(7,dt,2,6,"app-readonly",5),y.k0s()()(),y.j41(8,"app-button-bar")(9,"button",8),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.updateRole())}),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.qex(12,9),y.j41(13,"button",10),y.bIt("click",function(){y.eBV(ke);const hn=y.sdS(17);return y.Njj(hn.show())}),y.EFF(14),y.nI1(15,"translate"),y.k0s(),y.bVm(),y.k0s(),y.j41(16,"app-delete-confirmation-modal",11,0),y.bIt("delete",function(){return y.eBV(ke),y.Njj(be.deleteRole())}),y.k0s(),y.nrm(18,"app-can-deactivate")}2&ae&&(y.R7$(),y.Y8G("formGroup",be.editRoleForm),y.R7$(),y.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),y.R7$(),y.Y8G("ngIf",!be.isControlDisabled()),y.R7$(),y.Y8G("ngIf",be.isControlDisabled()),y.R7$(),y.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),y.R7$(),y.Y8G("ngIf",!be.isControlDisabled()),y.R7$(),y.Y8G("ngIf",be.isControlDisabled()),y.R7$(2),y.Y8G("disabled",!be.editRoleForm.dirty&&be.editRoleForm.valid||be.allowedToEditRole()||be.role.reserved),y.R7$(),y.SpI(" ",y.bMT(11,17,"Common.Save")," "),y.R7$(3),y.Y8G("disabled",be.isControlDisabled()),y.R7$(),y.SpI(" ",y.bMT(15,19,"Common.Delete.Title")," "),y.R7$(2),y.Y8G("modalId","deleteRoleModal")("resourceName",be.role.name))},dependencies:[t.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,Xe.E,Ue.z,ct.Y,st.O,Qe.w,ne.u,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var qt=l(1413),Tn=l(1594),Wn=l(6354),en=l(1716),Ln=l(9172),ni=l(1397),mt=l(1655),Jt=l(5435),he=l(5602),ue=l(7156),P=l(7294),q=l(7384),De=l(8114),Ae=function(Bt){return Bt.Remove="Remove",Bt.Add="Add",Bt}(Ae||{}),et=l(1068);const _t=["roleManagerUsers"],Ht=()=>({animated:!1,backdrop:"static"}),nn=(Bt,ce,Ie,ae)=>({id:"usersAddingSummary",title:Bt,data:ce,label:Ie,empty:ae}),wn=(Bt,ce,Ie,ae)=>({id:"usersRemovingSummary",title:Bt,data:ce,label:Ie,empty:ae});function Kn(Bt,ce){1&Bt&&(y.nrm(0,"app-simple-loader",19),y.nI1(1,"translate")),2&Bt&&y.Y8G("text",y.bMT(1,1,"Roles.SavingPleaseWait"))}function ei(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"li",38)(1,"label",39)(2,"input",40),y.bIt("change",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(3);return y.Njj(ke.toggleIfInRole(be))}),y.k0s(),y.j41(3,"div",41)(4,"span",42),y.EFF(5),y.k0s(),y.j41(6,"span",43),y.EFF(7),y.k0s()()()()}if(2&Bt){const Ie=ce.$implicit,ae=y.XpG(3);y.R7$(2),y.Y8G("checked",ae.checkChecked(Ie)),y.R7$(3),y.JRh(Ie.userName),y.R7$(2),y.JRh(Ie.email)}}function Ot(Bt,ce){if(1&Bt&&(y.j41(0,"div",35)(1,"ul",36),y.DNE(2,ei,8,3,"li",37),y.k0s()()),2&Bt){const Ie=y.XpG(2);y.R7$(2),y.Y8G("ngForOf",Ie.users)}}function Gn(Bt,ce){1&Bt&&(y.j41(0,"p",44),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.NotSelected")," "))}function Qt(Bt,ce){1&Bt&&(y.j41(0,"p",44),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.NoResults")," "))}function Sn(Bt,ce){1&Bt&&y.nrm(0,"app-simple-loader")}function In(Bt,ce){1&Bt&&y.eu8(0)}function rs(Bt,ce){1&Bt&&y.eu8(0)}function _i(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"div")(1,"div",20),y.nrm(2,"p",21),y.k0s(),y.j41(3,"div",22)(4,"h2",23),y.EFF(5),y.nI1(6,"translate"),y.k0s(),y.j41(7,"div",24)(8,"label",25)(9,"span",9),y.EFF(10),y.nI1(11,"translate"),y.k0s()(),y.j41(12,"input",26),y.mxI("ngModelChange",function(be){y.eBV(Ie);const ke=y.XpG();return y.DH7(ke.searchTerm,be)||(ke.searchTerm=be),y.Njj(be)}),y.bIt("keyup",function(be){y.eBV(Ie);const ke=y.XpG();return y.Njj(ke.search(be))}),y.k0s()()(),y.j41(13,"div",27)(14,"div",28),y.DNE(15,Ot,3,1,"div",29)(16,Gn,3,3,"p",30)(17,Qt,3,3,"p",30)(18,Sn,1,0,"app-simple-loader",12),y.k0s(),y.j41(19,"div",31)(20,"div",32),y.DNE(21,In,1,0,"ng-container",33),y.nI1(22,"translate"),y.nI1(23,"translate"),y.nI1(24,"translate"),y.k0s(),y.j41(25,"div",34),y.DNE(26,rs,1,0,"ng-container",33),y.nI1(27,"translate"),y.nI1(28,"translate"),y.nI1(29,"translate"),y.k0s()()()()}if(2&Bt){const Ie=y.XpG(),ae=y.sdS(17);y.R7$(2),y.Y8G("innerHtml",Ie.summaryText,y.npT),y.R7$(3),y.JRh(y.bMT(6,12,"Roles.SearchAllUsers")),y.R7$(5),y.JRh(y.bMT(11,14,"Roles.SearchUsers")),y.R7$(2),y.R50("ngModel",Ie.searchTerm),y.R7$(3),y.Y8G("ngIf",!Ie.isLoading&&Ie.hasSearched&&Ie.users.length>0),y.R7$(),y.Y8G("ngIf",!Ie.isLoading&&!Ie.hasSearched&&Ie.users.length<1),y.R7$(),y.Y8G("ngIf",!Ie.isLoading&&Ie.hasSearched&&Ie.users.length<1),y.R7$(),y.Y8G("ngIf",Ie.isLoading),y.R7$(3),y.Y8G("ngTemplateOutlet",ae)("ngTemplateOutletContext",y.ziG(28,nn,y.bMT(22,16,"Roles.Adding"),Ie.usersAdding,y.bMT(23,18,"Roles.CancelAdding"),y.bMT(24,20,"Roles.NoUsersAdding"))),y.R7$(5),y.Y8G("ngTemplateOutlet",ae)("ngTemplateOutletContext",y.ziG(33,wn,y.bMT(27,22,"Roles.Removing"),Ie.usersRemoving,y.bMT(28,24,"Roles.CancelRemoving"),y.bMT(29,26,"Roles.NoUsersRemoving")))}}function Fi(Bt,ce){if(1&Bt&&(y.j41(0,"p",44),y.EFF(1),y.k0s()),2&Bt){const Ie=y.XpG().empty;y.R7$(),y.JRh(Ie)}}function Ni(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"li",52)(1,"button",53),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(3);return y.Njj(ke.toggleIfInRole(be))}),y.j41(2,"div",54),y.nrm(3,"span",55),y.j41(4,"span",56),y.EFF(5),y.k0s()()()()}if(2&Bt){const Ie=ce.$implicit,ae=y.XpG(2).label;y.R7$(),y.BMQ("aria-label",ae+" "+Ie.userName),y.R7$(4),y.JRh(Ie.userName)}}function os(Bt,ce){if(1&Bt&&(y.j41(0,"div",49)(1,"ul",50),y.DNE(2,Ni,6,2,"li",51),y.k0s()()),2&Bt){const Ie=y.XpG(),ae=Ie.id,be=Ie.data;y.R7$(),y.FS9("id",ae),y.R7$(),y.Y8G("ngForOf",be)}}function zn(Bt,ce){if(1&Bt&&(y.j41(0,"h2",45),y.EFF(1),y.j41(2,"span",46),y.EFF(3),y.k0s()(),y.j41(4,"div",47),y.DNE(5,Fi,2,1,"p",30)(6,os,3,2,"div",48),y.k0s()),2&Bt){const Ie=ce.title,ae=ce.data;y.R7$(),y.SpI(" ",Ie," "),y.R7$(2),y.SpI("(",ae.length,")"),y.R7$(2),y.Y8G("ngIf",ae.length<1),y.R7$(),y.Y8G("ngIf",ae.length>0)}}let ms=(()=>{class Bt extends Jt.if{constructor(Ie,ae,be,ke,At){super(ke,At,!1),this.userService=Ie,this.rolesService=ae,this.translateService=be,this.onSubmitted=new y.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,en.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(At=>{this.users=At.results;const hn=[...this.users.filter(Fn=>Fn.isInRole),...this.usersInRole];this.usersInRole=et.Am(hn,!1,Fn=>Fn.subject),this.isLoading=!1,this.hasSearched=!0},At=>{this.isLoading=!1})})}mapSearchTerm(Ie){return{searchTerm:Ie}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(Ie){if(Ie.isInRole){const ae=et.SL(this.usersRemoving,be=>be.subject===Ie.subject);ae>-1?(this.usersRemoving.splice(ae,1),this.usersInRole.push(Ie)):(this.usersRemoving.push(Ie),this.usersInRole.splice(this.usersInRole.indexOf(Ie),1))}else{const ae=et.SL(this.usersAdding,be=>be.subject===Ie.subject);ae>-1?(this.usersAdding.splice(ae,1),this.usersInRole.splice(this.usersInRole.indexOf(Ie),1)):(this.usersAdding.push(Ie),this.usersInRole.push(Ie))}}checkChecked(Ie){let ae;return Ie.isInRole?(ae=et.I6(this.usersRemoving,be=>be.subject===Ie.subject),void 0===ae):(ae=et.I6(this.usersAdding,be=>be.subject===Ie.subject),void 0!==ae)}addOrRemoveUsers(){const Ie=[];this.isSaving=!0,Ie.push(...this.usersAdding.map(ae=>({username:ae.userName,subject:ae.subject,addOrRemove:Ae.Add}))),Ie.push(...this.usersRemoving.map(ae=>({username:ae.userName,subject:ae.subject,addOrRemove:Ae.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,Ie).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},ae=>{this.isSaving=!1,401===ae.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(he.D),y.rXU(Ke.P),y.rXU(w.c$),y.rXU(Ve.tw),y.rXU(w.c$))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-manageusers"]],viewQuery:function(ae,be){if(1&ae&&y.GBs(_t,7),2&ae){let ke;y.mGM(ke=y.lsd())&&(be.roleManagerUsers=ke.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},standalone:!1,features:[y.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(ae,be){if(1&ae){const ke=y.RV6();y.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),y.EFF(6),y.nI1(7,"translate"),y.k0s(),y.j41(8,"button",7),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.hide())}),y.nrm(9,"span",8),y.j41(10,"span",9),y.EFF(11),y.nI1(12,"translate"),y.k0s()()(),y.j41(13,"div",10),y.DNE(14,Kn,2,3,"app-simple-loader",11)(15,_i,30,38,"div",12)(16,zn,7,4,"ng-template",null,1,y.C5r),y.k0s(),y.nrm(18,"div",13),y.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.addOrRemoveUsers())}),y.EFF(23),y.nI1(24,"translate"),y.k0s()(),y.j41(25,"button",18),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.hide())}),y.EFF(26),y.nI1(27,"translate"),y.k0s()()()()()()}2&ae&&(y.Y8G("config",y.lJ4(18,Ht)),y.R7$(6),y.JRh(y.bMT(7,10,"Roles.RoleUserManagement")),y.R7$(2),y.Y8G("disabled",be.isSaving),y.R7$(3),y.JRh(y.bMT(12,12,"Common.Close")),y.R7$(3),y.Y8G("ngIf",be.isSaving),y.R7$(),y.Y8G("ngIf",!be.isSaving),y.R7$(7),y.Y8G("disabled",be.isSaving||be.usersAdding.length<1&&be.usersRemoving.length<1),y.R7$(),y.SpI(" ",y.bMT(24,14,"Common.Save")," "),y.R7$(2),y.Y8G("disabled",be.isSaving),y.R7$(),y.JRh(y.bMT(27,16,"Common.Close")))},dependencies:[t.Sq,t.bT,t.T3,p.me,p.BC,p.YS,p.xh,p.tU,p.vS,A.hZ,q.d,w.D9],encapsulation:2})}}return Bt})();function xi(Bt,ce){if(1&Bt){const Ie=y.RV6();y.qex(0,20),y.j41(1,"div",21)(2,"label",22),y.EFF(3),y.nI1(4,"translate"),y.k0s(),y.j41(5,"select",23),y.mxI("ngModelChange",function(be){y.eBV(Ie);const ke=y.XpG(2);return y.DH7(ke.pageSize,be)||(ke.pageSize=be),y.Njj(be)}),y.bIt("change",function(){y.eBV(Ie);const be=y.XpG(2);return y.Njj(be.setPageLength(+be.pageSize))}),y.j41(6,"option",24),y.EFF(7),y.nI1(8,"translate"),y.k0s(),y.j41(9,"option",25),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"option",26),y.EFF(13),y.nI1(14,"translate"),y.k0s()()(),y.bVm()}if(2&Bt){const Ie=y.XpG(2);y.R7$(3),y.Lme("",Ie.pageSize," ",y.bMT(4,6,"Nav.PerPage"),""),y.R7$(2),y.R50("ngModel",Ie.pageSize),y.R7$(2),y.SpI("25 ",y.bMT(8,8,"Nav.PerPage"),""),y.R7$(3),y.SpI("50 ",y.bMT(11,10,"Nav.PerPage"),""),y.R7$(3),y.SpI("100 ",y.bMT(14,12,"Nav.PerPage"),"")}}function wt(Bt,ce){1&Bt&&(y.j41(0,"span"),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.ManageUsers")," "))}function Tt(Bt,ce){1&Bt&&(y.j41(0,"span"),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.AddUsers")," "))}function xt(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"app-action-bar"),y.DNE(1,xi,15,14,"ng-container",17),y.qex(2,18),y.j41(3,"button",19),y.bIt("click",function(){y.eBV(Ie),y.XpG();const be=y.sdS(11);return y.Njj(be.show())}),y.DNE(4,wt,3,3,"span",9)(5,Tt,3,3,"span",9),y.k0s(),y.bVm(),y.k0s()}if(2&Bt){const Ie=y.XpG();y.R7$(),y.Y8G("ngIf",(null==Ie.pagedResult?null:Ie.pagedResult.results.length)>0),y.R7$(3),y.Y8G("ngIf",Ie.users&&Ie.users.length>0),y.R7$(),y.Y8G("ngIf",Ie.users&&Ie.users.length<1)}}function Kt(Bt,ce){1&Bt&&y.nrm(0,"app-simple-loader")}function cn(Bt,ce){1&Bt&&(y.j41(0,"div",27)(1,"div"),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Users.NoUsersFound")))}function ii(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"tr")(1,"td",34),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.goToUser(be))}),y.j41(2,"b",35),y.EFF(3),y.k0s()(),y.j41(4,"td",36),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.goToUser(be))}),y.EFF(5),y.k0s(),y.j41(6,"td",36),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.goToUser(be))}),y.EFF(7),y.k0s(),y.j41(8,"td",37),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.removeUser(be))}),y.j41(9,"button",38),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2),At=y.sdS(17);return ke.removeUser(be),y.Njj(At.show())}),y.nrm(10,"span",39),y.j41(11,"span",7),y.EFF(12),y.nI1(13,"translate"),y.k0s()()()()}if(2&Bt){const Ie=ce.$implicit;y.R7$(3),y.JRh(Ie.username),y.R7$(2),y.SpI(" ",Ie.firstName," "),y.R7$(2),y.SpI(" ",Ie.lastName," "),y.R7$(5),y.JRh(y.bMT(13,4,"Common.Remove.Title"))}}function Ei(Bt,ce){if(1&Bt&&(y.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),y.EFF(4),y.nI1(5,"translate"),y.k0s(),y.j41(6,"th",30),y.EFF(7),y.nI1(8,"translate"),y.k0s(),y.j41(9,"th",30),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"th",31)(13,"span",7),y.EFF(14),y.nI1(15,"translate"),y.k0s()()()(),y.j41(16,"tbody",32),y.DNE(17,ii,14,6,"tr",33),y.k0s()()),2&Bt){const Ie=y.XpG();y.R7$(4),y.JRh(y.bMT(5,5,"Users.Username")),y.R7$(3),y.JRh(y.bMT(8,7,"Users.FirstName")),y.R7$(3),y.JRh(y.bMT(11,9,"Users.LastName")),y.R7$(4),y.JRh(y.bMT(15,11,"Common.Actions")),y.R7$(3),y.Y8G("ngForOf",Ie.users)}}function Ii(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"app-pager",40),y.bIt("onGoToPage",function(be){y.eBV(Ie);const ke=y.XpG();return y.Njj(ke.goToPage(be))}),y.k0s()}if(2&Bt){const Ie=y.XpG();y.Y8G("totalResults",null==Ie.pagedResult?null:Ie.pagedResult.totalCount)("currentPage",Ie.page)("lastPage",null==Ie.pagedResult?null:Ie.pagedResult.pageCount)}}let Ti=(()=>{class Bt extends Jt.if{constructor(Ie,ae,be,ke,At,hn,Fn){super(At,ae,!0),this.rolesService=Ie,this.localize=be,this.router=ke,this.errorService=hn,this.userService=Fn,this.pageStream=new qt.B,this.pageSizeStream=new qt.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=ae.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Tn.$)()).subscribe(Ie=>{this.role=Ie,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const ae=this.pageStream.pipe((0,Wn.T)(At=>(this.page=At,{searchTerm:this.searchTerm,page:At,pageSize:this.pageSize}))),be=this.pageSizeStream.pipe((0,Wn.T)(At=>(this.pageSize=At,{searchTerm:this.searchTerm,page:this.page,pageSize:At})));ae.pipe((0,en.h)(be),(0,en.h)(this.searchSource),(0,en.h)(this.enterKeySource),(0,Ln.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ni.Z)(At=>(this.isLoading=!0,this.rolesService.getUsersInRole(Ie.id,At.page,At.pageSize,At.searchTerm).pipe((0,mt.c)(200))))).subscribe(At=>{this.pagedResult=At,this.users=At.results,this.isLoading=!1},At=>{this.errorService.handleError(At),this.isLoading=!1})})}mapSearchTerm(Ie){return this.searchTerm=Ie,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(Ie){this.pageStream.next(1)}goToPage(Ie){this.pageStream.next(Ie)}setPageLength(Ie){this.page=1,this.pageSizeStream.next(Ie)}goToUser(Ie){const ae=[this.localize.translateRoute("/users"),Ie.subject,"roles"];this.router.navigate(ae)}removeUser(Ie){this.removeSummary=this.removeSummaryTranslation.replace("{0}",Ie.username),this.userToRemove=Ie}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(Ie=>{let ae=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;ae<1&&(ae=1),this.goToPage(ae),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},Ie=>{this.isLoading=!1,401===Ie.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(Ke.P),y.rXU(w.c$),y.rXU(S.QG),y.rXU(z.Ix),y.rXU(Ve.tw),y.rXU(Z.I),y.rXU(he.D))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-users"]],standalone:!1,features:[y.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ae,be){if(1&ae){const ke=y.RV6();y.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),y.nrm(4,"span",6),y.j41(5,"span",7),y.EFF(6),y.nI1(7,"translate"),y.k0s()(),y.j41(8,"input",8),y.mxI("ngModelChange",function(hn){return y.eBV(ke),y.DH7(be.searchTerm,hn)||(be.searchTerm=hn),y.Njj(hn)}),y.bIt("keyup",function(hn){return y.eBV(ke),y.Njj(be.search(hn))}),y.k0s()()(),y.DNE(9,xt,6,3,"app-action-bar",9),y.j41(10,"app-role-manageusers",10,0),y.bIt("onSubmitted",function(hn){return y.eBV(ke),y.Njj(be.onSubmit(hn))}),y.k0s(),y.DNE(12,Kt,1,0,"app-simple-loader",9)(13,cn,4,3,"div",11)(14,Ei,18,13,"table",12)(15,Ii,1,3,"app-pager",13),y.k0s(),y.j41(16,"app-confirmation-modal",14,1),y.bIt("confirm",function(){return y.eBV(ke),y.Njj(be.delete())}),y.qex(18,15),y.nrm(19,"p",16),y.bVm(),y.k0s()}2&ae&&(y.R7$(6),y.JRh(y.bMT(7,15,"Common.Search")),y.R7$(2),y.R50("ngModel",be.searchTerm),y.R7$(),y.Y8G("ngIf",!be.isLoading),y.R7$(),y.Y8G("role",be.role),y.R7$(2),y.Y8G("ngIf",be.isLoading),y.R7$(),y.Y8G("ngIf",be.users&&0==be.users.length&&!be.isLoading),y.R7$(),y.Y8G("ngIf",be.users&&be.users.length>0&&!be.isLoading),y.R7$(),y.Y8G("ngIf",(null==be.pagedResult?null:be.pagedResult.results.length)>0&&!be.isLoading),y.R7$(),y.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),y.R7$(3),y.Y8G("innerHtml",be.removeSummary,y.npT))},dependencies:[t.Sq,t.bT,p.xH,p.y7,p.me,p.wz,p.BC,p.YS,p.xh,p.tU,p.vS,ue.B,P.n,q.d,De.B,ms,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var Dn=l(8412),Bi=l(7263),Ui=l(6494),zi=l(2510);class ls{constructor(){this.selected=!1}}const ut=["addRoleModal"],Rt=()=>({animated:!1,backdrop:"static"});let yt=(()=>{class Bt{constructor(Ie,ae,be,ke,At,hn){this.rolesService=Ie,this.errorService=ae,this.translate=be,this.router=ke,this.fb=At,this.toastr=hn,this.added=new y.bkB}keydown(Ie){"Enter"===Ie.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",p.k0.required],description:["",p.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let Ie=new ls;Ie=this.addRoleForm.value,Ie.name=Ie.name.trim(),this.rolesService.addRole(Ie).subscribe({next:ae=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+Ie.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},error:ae=>{this.errorService.handleError(ae)}})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(Ke.P),y.rXU(Z.I),y.rXU(w.c$),y.rXU(z.Ix),y.rXU(p.ze),y.rXU(Ve.tw))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-add-role"]],viewQuery:function(ae,be){if(1&ae&&y.GBs(ut,7),2&ae){let ke;y.mGM(ke=y.lsd())&&(be.addRoleModal=ke.first)}},hostBindings:function(ae,be){1&ae&&y.bIt("keydown",function(At){return be.keydown(At)},!1,y.EBC)},outputs:{added:"added"},standalone:!1,decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn-secondary",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(ae,be){if(1&ae){const ke=y.RV6();y.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),y.EFF(6),y.nI1(7,"translate"),y.k0s(),y.j41(8,"button",6),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.hide())}),y.nrm(9,"span",7),y.j41(10,"span",8),y.EFF(11),y.nI1(12,"translate"),y.k0s()()(),y.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),y.nrm(16,"input",12),y.k0s(),y.j41(17,"app-form-row",13),y.nrm(18,"textarea",14),y.k0s()()(),y.nrm(19,"div",15),y.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),y.bIt("click",function(){return y.eBV(ke),be.addRole(),y.Njj(be.hide())}),y.EFF(24),y.nI1(25,"translate"),y.k0s(),y.j41(26,"span",20)(27,"button",21),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.addAnotherRole())}),y.EFF(28),y.nI1(29,"translate"),y.k0s()()(),y.j41(30,"button",22),y.bIt("click",function(){return y.eBV(ke),y.Njj(be.hide())}),y.EFF(31),y.nI1(32,"translate"),y.k0s()()()()()()}2&ae&&(y.Y8G("config",y.lJ4(25,Rt)),y.R7$(6),y.JRh(y.bMT(7,15,"Roles.NewRole")),y.R7$(5),y.JRh(y.bMT(12,17,"Common.Close")),y.R7$(3),y.Y8G("formGroup",be.addRoleForm),y.R7$(),y.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),y.R7$(2),y.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),y.R7$(6),y.Y8G("disabled",!be.addRoleForm.valid),y.R7$(),y.JRh(y.bMT(25,19,"Common.Save")),y.R7$(3),y.Y8G("disabled",!be.addRoleForm.valid),y.R7$(),y.JRh(y.bMT(29,21,"Common.SaveAndAdd")),y.R7$(3),y.JRh(y.bMT(32,23,"Common.Cancel")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,A.hZ,ct.Y,w.D9],encapsulation:2})}}return Bt})();function tn(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"app-action-bar"),y.qex(1,9),y.j41(2,"button",10),y.bIt("click",function(){y.eBV(Ie),y.XpG();const be=y.sdS(3);return y.Njj(be.show())}),y.EFF(3),y.nI1(4,"translate"),y.k0s(),y.bVm(),y.k0s()}2&Bt&&(y.R7$(3),y.SpI(" ",y.bMT(4,1,"Roles.AddRole")," "))}function Vn(Bt,ce){1&Bt&&y.nrm(0,"app-simple-loader")}function on(Bt,ce){1&Bt&&(y.j41(0,"div",11)(1,"div"),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Roles.NoRolesFound")))}function Xn(Bt,ce){1&Bt&&y.nrm(0,"span",15)}function qn(Bt,ce){1&Bt&&y.nrm(0,"span",16)}function Gt(Bt,ce){1&Bt&&(y.j41(0,"span",33),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Policy")," "))}function oi(Bt,ce){1&Bt&&(y.j41(0,"span",34),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Reserved")," "))}function zt(Bt,ce){1&Bt&&(y.nrm(0,"span",35),y.j41(1,"span",19),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Common.Edit")))}function Un(Bt,ce){1&Bt&&(y.nrm(0,"span",36),y.j41(1,"span",19),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Common.View")))}function fn(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"tr",23)(1,"td",24),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.navigate(be,be.id))}),y.j41(2,"b",25),y.EFF(3),y.k0s()(),y.j41(4,"td",26),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.navigate(be,be.id))}),y.EFF(5),y.k0s(),y.j41(6,"td",27),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.navigate(be,be.id))}),y.DNE(7,Gt,3,3,"span",28),y.k0s(),y.j41(8,"td",29),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.navigate(be,be.id))}),y.DNE(9,oi,3,3,"span",30),y.k0s(),y.j41(10,"td",31),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.navigate(be,be.id))}),y.j41(11,"button",32),y.bIt("click",function(){const be=y.eBV(Ie).$implicit,ke=y.XpG(2);return y.Njj(ke.navigate(be,be.id))}),y.DNE(12,zt,4,3)(13,Un,4,3),y.k0s()()()}if(2&Bt){const Ie=ce.$implicit,ae=y.XpG(2);y.R7$(3),y.JRh(Ie.name),y.R7$(2),y.SpI(" ",Ie.description," "),y.R7$(2),y.Y8G("ngIf",ae.isPolicyRole(Ie)),y.R7$(2),y.Y8G("ngIf",Ie.reserved),y.R7$(3),y.vxM(ae.hasEditPermission?12:13)}}function Qn(Bt,ce){if(1&Bt){const Ie=y.RV6();y.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),y.bIt("click",function(){y.eBV(Ie);const be=y.XpG();return y.Njj(be.sort())}),y.j41(4,"span",14),y.EFF(5),y.nI1(6,"translate"),y.k0s(),y.DNE(7,Xn,1,0,"span",15)(8,qn,1,0,"span",16),y.k0s(),y.j41(9,"th",17),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"th",18)(13,"span",19),y.EFF(14),y.nI1(15,"translate"),y.k0s()(),y.j41(16,"th",20)(17,"span",19),y.EFF(18),y.nI1(19,"translate"),y.k0s()(),y.j41(20,"th",21)(21,"span",19),y.EFF(22),y.nI1(23,"translate"),y.k0s()()()(),y.j41(24,"tbody"),y.DNE(25,fn,14,5,"tr",22),y.k0s()()}if(2&Bt){const Ie=y.XpG();y.R7$(5),y.JRh(y.bMT(6,7,"Common.Name")),y.R7$(2),y.vxM(Ie.sortIconAscending?7:8),y.R7$(3),y.SpI(" ",y.bMT(11,9,"Common.Description")," "),y.R7$(4),y.JRh(y.bMT(15,11,"Common.Policy")),y.R7$(4),y.JRh(y.bMT(19,13,"Common.Reserved")),y.R7$(4),y.JRh(y.bMT(23,15,"Common.Actions")),y.R7$(3),y.Y8G("ngForOf",Ie.roles)}}function vi(Bt,ce){if(1&Bt&&y.nrm(0,"app-pager",37),2&Bt){const Ie=y.XpG();y.Y8G("totalResults",null==Ie.roles?null:Ie.roles.length)}}let Fe=(()=>{class Bt extends Ui.u{constructor(Ie,ae,be,ke,At,hn,Fn,Wi,Di){super(Wi,hn,!0,Di,At,Fn),this.rolesService=Ie,this.titleService=ae,this.localize=be,this.errorService=ke,this.roleListLength=0,this.term="",this.sortCriteria="name",this.sortIconAscending=!0,this.sortStream=new qt.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}mapSearchTerm(Ie){return this.term=Ie,{searchTerm:this.term,sort:this.sortCriteria}}ngOnInit(){const Ie=this.translate.instant("Nav.Roles")+" - "+lt.$9.SITE_TITLE;this.titleService.setTitle(Ie),this.isLoading=!0;const ae=this.sortStream.pipe((0,Wn.T)(ke=>({searchTerm:this.term,sort:ke})));this.searchSource.pipe((0,Dn.X)(ae),(0,Ln.Z)({searchTerm:this.term,sort:this.sortCriteria}),(0,ni.Z)(ke=>this.rolesService.getRoles(ke.searchTerm,ke.sort))).subscribe({next:ke=>{this.roles=ke,this.isLoading=!1},error:ke=>{this.errorService.handleError(ke),this.isLoading=!1}})}update(){this.sortStream.next(this.sortCriteria)}sort(){const Ie=!this.sortCriteria.startsWith("-");this.sortCriteria=Ie?"-name":"name",this.sortStream.next(this.sortCriteria),this.sortIconAscending=!Ie}allowedToEditRole(Ie){return!this.securityService.allView&&this.isPolicyRole(Ie)}isPolicyRole(Ie){const ae=this.securityService.policyClaims;for(let be=0;be<ae.length;be++)if("role"===ae[be].type&&ae[be].value===Ie.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Bi.zG)(this.securityService.userPermissions)}resourceIsReadOnly(Ie){return!this.hasEditPermission}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(Ke.P),y.rXU(it.hE),y.rXU(S.QG),y.rXU(Z.I),y.rXU(v.i),y.rXU(w.c$),y.rXU(z.Ix),y.rXU(Ve.tw),y.rXU(z.nX))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["ng-component"]],standalone:!1,features:[y.Vt3],decls:12,vars:12,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill-warning"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["hidePager","true",3,"totalResults"]],template:function(ae,be){if(1&ae){const ke=y.RV6();y.nrm(0,"app-title-bar",1),y.nI1(1,"translate"),y.j41(2,"app-add-role",2,0),y.bIt("added",function(){return y.eBV(ke),y.Njj(be.update())}),y.k0s(),y.j41(4,"div",3)(5,"app-search",4),y.nI1(6,"translate"),y.mxI("searchTermChange",function(hn){return y.eBV(ke),y.DH7(be.searchTerm,hn)||(be.searchTerm=hn),y.Njj(hn)}),y.bIt("onSearch",function(hn){return y.eBV(ke),y.Njj(be.search(hn))}),y.k0s(),y.DNE(7,tn,5,3,"app-action-bar",5)(8,Vn,1,0,"app-simple-loader",5)(9,on,4,3,"div",6)(10,Qn,26,17,"table",7)(11,vi,1,1,"app-pager",8),y.k0s()}2&ae&&(y.Y8G("title",y.bMT(1,8,"Nav.Roles")),y.R7$(5),y.R50("searchTerm",be.searchTerm),y.Y8G("placeholder",y.bMT(6,10,"Roles.SearchPlaceholder")),y.R7$(2),y.Y8G("ngIf",!be.isLoading&&be.hasEditPermission),y.R7$(),y.Y8G("ngIf",be.isLoading),y.R7$(),y.Y8G("ngIf",(!be.roles||be.roles.length<=0)&&!be.isLoading),y.R7$(),y.Y8G("ngIf",be.roles&&be.roles.length>0&&!be.isLoading),y.R7$(),y.Y8G("ngIf",be.roles&&be.roles.length>0&&!be.isLoading))},dependencies:[t.Sq,t.bT,J.z,ue.B,P.n,zi.S,q.d,yt,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();const Ze=(Bt,ce)=>({title:Bt,link:ce}),ht=Bt=>[Bt];function Ut(Bt,ce){1&Bt&&(y.j41(0,"span",9),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Policy")," "))}function Xt(Bt,ce){1&Bt&&(y.j41(0,"span",10),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Reserved")," "))}function Mn(Bt,ce){if(1&Bt&&(y.qex(0,6),y.DNE(1,Ut,3,3,"span",7)(2,Xt,3,3,"span",8),y.bVm()),2&Bt){const Ie=y.XpG();y.R7$(),y.Y8G("ngIf",Ie.isPolicyRole()),y.R7$(),y.Y8G("ngIf",Ie.role.reserved)}}function hi(Bt,ce){1&Bt&&y.nrm(0,"app-custom-tab",3),2&Bt&&y.Y8G("tabTitle","Nav.Additional Details")("tabValue","additionaldetails")}let ri=(()=>{class Bt{constructor(Ie,ae,be,ke,At){this.activatedRoute=Ie,this.errorService=ae,this.router=be,this.securityService=ke,this.configService=At,this.enabledRoleClaims=!1}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(Ie=>{this.role=Ie.role},Ie=>{this.errorService.handleError(Ie)}),this.configService.getConfig().subscribe(Ie=>{this.enabledRoleClaims=Ie.featureFlagOptions.enableRoleClaims})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const Ie=this.securityService.policyClaims;for(let ae=0;ae<Ie.length;ae++)if("role"===Ie[ae].type&&Ie[ae].value===this.role.name)return!0;return!1}mobRoute(Ie){this.router.navigate([Ie],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(z.nX),y.rXU(Z.I),y.rXU(z.Ix),y.rXU(v.i),y.rXU(L.w))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["ng-component"]],standalone:!1,decls:11,vars:19,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(ae,be){1&ae&&(y.j41(0,"app-title-bar",0),y.nI1(1,"translate"),y.nI1(2,"localize"),y.DNE(3,Mn,3,2,"ng-container",1),y.qex(4,2),y.j41(5,"app-custom-tabs"),y.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),y.DNE(8,hi,1,2,"app-custom-tab",4),y.k0s(),y.bVm(),y.k0s(),y.j41(9,"div",5),y.nrm(10,"router-outlet"),y.k0s()),2&ae&&(y.Y8G("title",be.role.name)("crumbs",y.eq3(17,ht,y.l_i(14,Ze,y.bMT(1,10,"Nav.Roles"),y.bMT(2,12,"/roles"))))("hasTabs",!0)("isReadOnly",!0),y.R7$(3),y.Y8G("ngIf",be.isPolicyRole()||be.role.reserved),y.R7$(3),y.Y8G("tabTitle","Nav.Details")("tabValue","details"),y.R7$(),y.Y8G("tabTitle","Nav.Users")("tabValue","users"),y.R7$(),y.Y8G("ngIf",be.enabledRoleClaims))},dependencies:[t.bT,z.n3,J.z,te.G,N.v,w.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var Nn=l(3178),Ki=l(4446),Ji=l(2892),Os=l(8416),jt=l(380);let Ai=(()=>{class Bt{constructor(Ie,ae,be,ke){this.roleService=Ie,this.translate=ae,this.errorService=be,this.toastr=ke}ngOnInit(){this.roleService.getCachedRole().subscribe(Ie=>{this.role=Ie,this.roleId=Ie.id.toString()})}addClaim(Ie){this.roleService.addRoleClaim(this.roleId,Ie).subscribe({next:()=>{this.role.claims=[...this.role.claims,Ie],this.roleService.setCachedRole(this.role),this.claimsManager.claimAdded(Ie);const ae=this.translate.instant("Notifications.Saving Success Title"),be=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,be)},error:ae=>{if(401===ae.status)this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarning"),this.translate.instant("Notifications.Unauthorized"));else{const be={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message"),forceToast:!0};(this.errorService.handleError(ae,be)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(be.toastBody,be.toastTitle)}}})}updateClaim(Ie){this.roleService.updateRoleClaim(this.roleId,Ie).subscribe({next:()=>{this.role.claims=this.claimsManager.getAllClaims(),this.roleService.setCachedRole(this.role);const ae=this.translate.instant("Notifications.Saving Success Title"),be=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,be)},error:ae=>{if(401===ae.status)this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarningEdit"),this.translate.instant("Notifications.Unauthorized"));else{const be={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(ae,be)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(be.toastBody,be.toastTitle)}}})}deleteClaim(Ie){this.roleService.deleteRoleClaim(this.roleId,Ie).subscribe({next:()=>{this.role.claims=this.role.claims.filter(ke=>ke.type!=Ie.type||ke.value!=Ie.value),this.roleService.setCachedRole(this.role),this.claimsManager.claimDeleted(Ie);const ae=this.translate.instant("Notifications.Saving Success Title"),be=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,be)},error:ae=>{401===ae.status?this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarningDelete"),this.translate.instant("Notifications.Unauthorized")):this.errorService.handleError(ae,{forceToast:!0})}})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(Ke.P),y.rXU(w.c$),y.rXU(Z.I),y.rXU(Ve.tw))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-additional-details"]],viewQuery:function(ae,be){if(1&ae&&y.GBs(jt.U,5),2&ae){let ke;y.mGM(ke=y.lsd())&&(be.claimsManager=ke.first)}},standalone:!1,decls:5,vars:5,consts:[[1,"tw-container","tw-mx-auto","cms"],[3,"addClaimOutPut","deleteClaimOutPut","updateClaimOutPut","initialClaims","readOnly"]],template:function(ae,be){1&ae&&(y.j41(0,"div",0)(1,"p"),y.EFF(2),y.nI1(3,"translate"),y.k0s()(),y.j41(4,"app-claims-manager",1),y.bIt("addClaimOutPut",function(At){return be.addClaim(At)})("deleteClaimOutPut",function(At){return be.deleteClaim(At)})("updateClaimOutPut",function(At){return be.updateClaim(At)}),y.k0s()),2&ae&&(y.R7$(2),y.JRh(y.bMT(3,3,"Roles.AdditionalDetailsBody")),y.R7$(2),y.Y8G("initialClaims",be.role.claims)("readOnly",be.role.reserved))},dependencies:[jt.U,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var Et=l(5866);const vn=[{path:"roles",component:Fe,canActivate:[Ji.h,Ki._],data:{permissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.UserManagerReadOnly],Nn.a[Nn.a.AllReadOnly],Nn.a[Nn.a.All]],editPermissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.All]]}},{path:"roles/:id",component:rt,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:gt,canDeactivate:[Os.M]},{path:"users",component:Ti,canDeactivate:[Os.M]},{path:"additionaldetails",component:Ai,canDeactivate:[Os.M],canActivate:[Et.K]}],resolve:{role:D.v},canDeactivate:[Os.M],canActivate:[Ji.h,Ki._],data:{permissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.All]]}},{path:"roles/view/:id",component:ri,loadChildren:()=>l.e(954).then(l.bind(l,2954)).then(Bt=>Bt.ViewRolesModule),resolve:{role:D.v},canActivate:[Ji.h,Ki._],data:{permissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.UserManagerReadOnly],Nn.a[Nn.a.AllReadOnly],Nn.a[Nn.a.All]]}}];let Wt=(()=>{class Bt{static{this.\u0275fac=function(ae){return new(ae||Bt)}}static{this.\u0275mod=y.$C({type:Bt})}static{this.\u0275inj=y.G2t({imports:[a.iI.forChild(vn),S.XE.forChild(vn),a.iI]})}}return Bt})();var Pn=l(9115);let Qi=(()=>{class Bt{static{this.\u0275fac=function(ae){return new(ae||Bt)}}static{this.\u0275mod=y.$C({type:Bt})}static{this.\u0275inj=y.G2t({providers:[D.v,Et.K],imports:[Wt,t.MD,p.YN,p.X1,A.Q_,e.Y,a.iI,w.h,m.p,S.XE,g.m,k.i,Y.c,u.t,E.c,B.W,V.E,F.w,M.N,W.N,Pn.P]})}}return Bt})()},78:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>t});var t=function(a){return a.ReUse="ReUse",a.OneTimeOnly="OneTimeOnly",a}(t||{})},140:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>D});var t=l(4572),a=l(9974),p=l(2326),A=l(6450),e=l(1203),w=l(9326);function m(...S){const g=(0,w.ms)(S);return g?(0,e.F)(m(...S),(0,A.I)(g)):(0,a.N)((k,Y)=>{(0,t.P)([k,...(0,p.K)(S)])(Y)})}function D(...S){return m(...S)}},152:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>A});var t=l(3236),a=l(9974),p=l(4360);function A(e,w=t.E){return(0,a.N)((m,D)=>{let S=null,g=null,k=null;const Y=()=>{if(S){S.unsubscribe(),S=null;const E=g;g=null,D.next(E)}};function u(){const E=k+e,B=w.now();if(B<E)return S=this.schedule(void 0,E-B),void D.add(S);Y()}m.subscribe((0,p._)(D,E=>{g=E,k=w.now(),S||(S=w.schedule(u,e),D.add(S))},()=>{Y(),D.complete()},void 0,()=>{g=S=null}))})}},251:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>k});var t=l(6719),a=l(1360),p=l(2947),A=l(8434),e=l(8018);const w=(Y,u)=>({tabs:Y,"pill-tabs":u}),m=(Y,u)=>({tabs__item:Y,"pill-tabs__item":u}),D=(Y,u)=>({tabs__link:Y,"pill-tabs__link":u});function S(Y,u){1&Y&&(a.j41(0,"span",5)(1,"span",6),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.nrm(4,"span",7),a.k0s()),2&Y&&(a.R7$(2),a.JRh(a.bMT(3,1,"StarterMode.RequiresUpgrade")))}function g(Y,u){if(1&Y){const E=a.RV6();a.j41(0,"li",2)(1,"button",3),a.bIt("click",function(){const V=a.eBV(E).$implicit,F=a.XpG();return a.Njj(F.changeTab(V))}),a.EFF(2),a.nI1(3,"translate"),a.DNE(4,S,5,3,"span",4),a.k0s()()}if(2&Y){const E=u.$implicit,B=u.index,V=a.XpG();a.Y8G("ngClass",a.l_i(11,m,!V.pillMode,V.pillMode)),a.R7$(),a.AVh("active",E.active),a.Y8G("id","customTab"+B)("ngClass",a.l_i(14,D,!V.pillMode,V.pillMode)),a.BMQ("data-value",E.value)("aria-selected",E.active),a.R7$(),a.SpI(" ",a.bMT(3,9,E.title)," "),a.R7$(2),a.Y8G("ngIf",E.restrictedStarter)}}let k=(()=>{class Y{constructor(E,B){this.router=E,this.activatedRoute=B,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const E=this.tabs.filter(B=>B.active);E&&!E.length&&this.changeTab(this.tabs.first)}changeTab(E){!this.tabs||!this.tabs.length||E.active||(this.setActiveTab(E),this.router.navigate([E.value],{relativeTo:this.activatedRoute}))}setActiveTab(E){this.tabs.toArray().forEach(B=>B.active=!1),E.active=!0}static{this.\u0275fac=function(B){return new(B||Y)(a.rXU(p.Ix),a.rXU(p.nX))}}static{this.\u0275cmp=a.VBU({type:Y,selectors:[["app-custom-tabs"]],contentQueries:function(B,V,F){if(1&B&&a.wni(F,t.G,4),2&B){let M;a.mGM(M=a.lsd())&&(V.tabs=M)}},inputs:{pillMode:"pillMode"},standalone:!1,decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(B,V){1&B&&(a.j41(0,"ul",0),a.nI1(1,"translate"),a.DNE(2,g,5,17,"li",1),a.k0s()),2&B&&(a.Y8G("ngClass",a.l_i(5,w,!V.pillMode,V.pillMode)),a.BMQ("aria-label",a.bMT(1,3,"Nav.SubMenu")),a.R7$(2),a.Y8G("ngForOf",V.tabs))},dependencies:[A.YU,A.Sq,A.bT,e.D9],encapsulation:2})}}return Y})()},274:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>p});var t=l(1397),a=l(8071);function p(A,e){return(0,a.T)(e)?(0,t.Z)(A,e,1):(0,t.Z)(A,1)}},275:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>e});var t=l(8434),a=l(8018),p=l(9262),A=l(1360);let e=(()=>{class w{static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275mod=A.$C({type:w})}static{this.\u0275inj=A.G2t({imports:[t.MD,a.h,p.iI]})}}return w})()},308:(ot,ve,l)=>{"use strict";l.d(ve,{EX:()=>a});var m,t=l(9988),a=function(m){return m[m.OIDC=0]="OIDC",m[m.SAML=1]="SAML",m}(a||{});(m=a||(a={})).fromWizardType=function D(S){switch(S){case t.$.AddOidcDynamicAuth:return m.OIDC;case t.$.AddSamlDynamicAuth:return m.SAML}}},310:()=>{},316:(ot,ve,l)=>{"use strict";function t(a){const p=a.value;if(null==p)return{validEmail:!1};if(p.indexOf(" ")>-1)return{validEmail:!1};let A=!1;for(let e=0;e<p.length;e++)if("@"===a.value[e]){if(A||0===e||e===p.length-1)return{validEmail:!1};A=!0}return A?null:{validEmail:!1}}l.d(ve,{D:()=>t})},345:(ot,ve,l)=>{"use strict";l.d(ve,{hE:()=>e,up:()=>y});var t=l(9361),a=l(1360);let e=(()=>{class Te{_doc;constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}static \u0275fac=function(lt){return new(lt||Te)(a.KVO(t.q))};static \u0275prov=a.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),y=(()=>{class Te{static \u0275fac=function(lt){return new(lt||Te)};static \u0275prov=a.jDH({token:Te,factory:function(lt){let vt=null;return vt=lt?new(lt||Te):a.KVO(z),vt},providedIn:"root"})}return Te})(),z=(()=>{class Te extends y{_doc;constructor(rt){super(),this._doc=rt}sanitize(rt,lt){if(null==lt)return null;switch(rt){case a.WPN.NONE:return lt;case a.WPN.HTML:return(0,a.ZF7)(lt,"HTML")?(0,a.rcV)(lt):(0,a.h9k)(this._doc,String(lt)).toString();case a.WPN.STYLE:return(0,a.ZF7)(lt,"Style")?(0,a.rcV)(lt):lt;case a.WPN.SCRIPT:if((0,a.ZF7)(lt,"Script"))return(0,a.rcV)(lt);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(lt,"URL")?(0,a.rcV)(lt):(0,a.$MX)(String(lt));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(lt,"ResourceURL"))return(0,a.rcV)(lt);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(rt){return(0,a.Kcf)(rt)}bypassSecurityTrustStyle(rt){return(0,a.cWb)(rt)}bypassSecurityTrustScript(rt){return(0,a.UyX)(rt)}bypassSecurityTrustUrl(rt){return(0,a.osQ)(rt)}bypassSecurityTrustResourceUrl(rt){return(0,a.e5t)(rt)}static \u0275fac=function(lt){return new(lt||Te)(a.KVO(t.q))};static \u0275prov=a.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},367:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>m});var t=l(8434),a=l(9262),p=l(1683),A=l(5139),e=l(8018),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,a.iI,p.Y,e.h,A.XE]})}}return D})()},380:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>Jt});var t=l(1360),a=l(9417),p=l(6411),A=l(526),e=l(6807),w=l(7499),m=l(8434),D=l(779),S=l(8698),g=l(9550),k=l(3860),Y=l(7811),u=l(6536),E=l(6728),B=l(7294),V=l(7156),F=l(8018),M=l(1589);const W=["editClaimsForm"],y=["addClaimModal"],z=["deleteClaimModal"],Z=()=>({animated:!1,backdrop:"static"}),v=he=>({"disabled inactive":he});function L(he,ue){if(1&he){const P=t.RV6();t.j41(0,"app-action-bar"),t.qex(1,36),t.j41(2,"button",37),t.bIt("click",function(){t.eBV(P),t.XpG();const De=t.sdS(3);return t.Njj(De.show())}),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm(),t.k0s()}2&he&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"Users.Details.AddClaim")," "))}function J(he,ue){if(1&he&&(t.j41(0,"option",39)(1,"span"),t.EFF(2),t.k0s()()),2&he){let P;const q=t.XpG(),De=q.$implicit;t.Y8G("value",q.index),t.R7$(2),t.SpI(" ",null!==(P=De.displayName)&&void 0!==P?P:De.name," ")}}function te(he,ue){if(1&he&&(t.qex(0),t.DNE(1,J,3,2,"option",38),t.bVm()),2&he){const P=ue.$implicit,q=t.XpG();t.R7$(),t.Y8G("ngIf",q.canDisplayClaimType(P))}}function N(he,ue){if(1&he&&t.nrm(0,"input",46),2&he){const P=t.XpG(2);t.Y8G("appClaimRegex",P.selectedClaim.rule)}}function fe(he,ue){1&he&&t.nrm(0,"input",47)}function oe(he,ue){1&he&&(t.j41(0,"app-form-toggle",48),t.nrm(1,"input",49),t.k0s()),2&he&&t.Y8G("id","claimsFormInput")("isTraffic",!0)("isAlt",!1)}function R(he,ue){1&he&&(t.qex(0),t.nrm(1,"app-date-time",51),t.bVm())}function Pe(he,ue){1&he&&(t.qex(0),t.nrm(1,"app-date-time",52),t.bVm()),2&he&&(t.R7$(),t.Y8G("displayType","date"))}function Te(he,ue){if(1&he&&(t.j41(0,"div",50),t.DNE(1,R,2,0,"ng-container",4)(2,Pe,2,1,"ng-container",4),t.k0s()),2&he){const P=t.XpG(2);t.R7$(),t.Y8G("ngIf","birthdate"!=P.selectedClaim.name),t.R7$(),t.Y8G("ngIf","birthdate"==P.selectedClaim.name)}}function We(he,ue){if(1&he){const P=t.RV6();t.j41(0,"div",53)(1,"app-enum-claim-type-input",54),t.bIt("valueChanged",function(De){t.eBV(P);const Ae=t.XpG(2);return t.Njj(Ae.claimsForm.controls.value.setValue(De))}),t.k0s()()}if(2&he){const P=t.XpG(2);t.Y8G("id","value-for-"+P.selectedClaim.id),t.R7$(),t.Y8G("id","claimsFormInput")("typeId",P.selectedClaim.id)("hostingModal","addClaimModal")("value",P.claimsForm.value.value)}}function rt(he,ue){if(1&he&&(t.j41(0,"p",55),t.EFF(1),t.k0s()),2&he){let P;const q=t.XpG(2);t.R7$(),t.SpI(" ",null!==(P=q.selectedClaim.ruleValidationFailureDescription)&&void 0!==P?P:""," ")}}function lt(he,ue){if(1&he&&(t.j41(0,"app-form-row",14),t.DNE(1,N,1,1,"input",40)(2,fe,1,0,"input",41)(3,oe,2,3,"app-form-toggle",42)(4,Te,3,2,"div",43)(5,We,2,5,"div",44)(6,rt,2,1,"p",45),t.k0s()),2&he){const P=t.XpG();t.Y8G("id","claimsFormInput")("label","Common.Value")("isLast",!0),t.R7$(),t.Y8G("ngIf","String"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","Int"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","Boolean"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","DateTime"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","Enum"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf",P.claimsForm.invalid&&P.claimsForm.dirty)}}function vt(he,ue){1&he&&(t.j41(0,"div",56)(1,"div"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&he&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function je(he,ue){if(1&he&&(t.j41(0,"b"),t.EFF(1),t.k0s()),2&he){const P=t.XpG().$implicit;t.R7$(),t.JRh(P.displayName)}}function Ye(he,ue){if(1&he&&(t.j41(0,"b"),t.EFF(1),t.k0s()),2&he){const P=t.XpG().$implicit;t.R7$(),t.JRh(P.type)}}function Ke(he,ue){if(1&he&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&he){const P=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",P.value," ")}}function it(he,ue){if(1&he&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"standardDate"),t.k0s()),2&he){const P=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,P.value),"")}}function Ve(he,ue){if(1&he&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"standardDateTime"),t.k0s()),2&he){const P=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,P.value),"")}}function Be(he,ue){if(1&he&&(t.j41(0,"span"),t.DNE(1,it,3,3,"span",4)(2,Ve,3,3,"span",4),t.k0s()),2&he){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","birthdate"==P.type),t.R7$(),t.Y8G("ngIf","birthdate"!=P.type)}}function Xe(he,ue){1&he&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&he&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.True")))}function Ue(he,ue){1&he&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&he&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.False")))}function ct(he,ue){if(1&he&&(t.j41(0,"span"),t.DNE(1,Xe,3,3,"div",4)(2,Ue,3,3,"div",4),t.k0s()),2&he){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","true"==P.value),t.R7$(),t.Y8G("ngIf","false"==P.value)}}function st(he,ue){1&he&&(t.j41(0,"span",66),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&he&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Policy")," "))}function Qe(he,ue){if(1&he){const P=t.RV6();t.j41(0,"div",22)(1,"button",67),t.bIt("click",function(){t.eBV(P);const De=t.XpG(2).$implicit,Ae=t.XpG(2);return t.Njj(Ae.editClaim(De))}),t.nrm(2,"span",68),t.j41(3,"span",12),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",69),t.bIt("click",function(){t.eBV(P);const De=t.XpG(2).$implicit,Ae=t.XpG(2);return t.Njj(Ae.delete(De))}),t.nrm(7,"span",11),t.j41(8,"span",12),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}2&he&&(t.R7$(4),t.JRh(t.bMT(5,2,"Common.Edit")),t.R7$(5),t.JRh(t.bMT(10,4,"Common.Delete.Title")))}function ne(he,ue){if(1&he&&(t.qex(0),t.j41(1,"td")(2,"div",63),t.DNE(3,Ke,2,1,"span",4)(4,Be,3,2,"span",4)(5,ct,3,2,"span",4),t.k0s()(),t.j41(6,"td"),t.DNE(7,st,3,3,"span",64),t.k0s(),t.j41(8,"td"),t.DNE(9,Qe,11,6,"div",65),t.k0s(),t.bVm()),2&he){const P=t.XpG().$implicit,q=t.XpG(2);t.R7$(3),t.Y8G("ngIf","DateTime"!=P.format&&"Boolean"!=P.format),t.R7$(),t.Y8G("ngIf","DateTime"==P.format),t.R7$(),t.Y8G("ngIf","Boolean"==P.format),t.R7$(2),t.Y8G("ngIf",q.isPolicyClaim(P)),t.R7$(2),t.Y8G("ngIf",!q.readOnly&&!q.notAllowedToEditClaim(P))}}function K(he,ue){if(1&he){const P=t.RV6();t.j41(0,"input",76),t.mxI("ngModelChange",function(De){t.eBV(P);const Ae=t.XpG(2).$implicit;return t.DH7(Ae.value,De)||(Ae.value=De),t.Njj(De)}),t.k0s()}if(2&he){const P=t.XpG(2).$implicit;t.R50("ngModel",P.value),t.Y8G("appClaimRegex",P.regex)}}function de(he,ue){if(1&he){const P=t.RV6();t.j41(0,"input",77),t.mxI("ngModelChange",function(De){t.eBV(P);const Ae=t.XpG(2).$implicit;return t.DH7(Ae.value,De)||(Ae.value=De),t.Njj(De)}),t.k0s()}if(2&he){const P=t.XpG(2).$implicit;t.R50("ngModel",P.value)}}function ge(he,ue){if(1&he){const P=t.RV6();t.qex(0),t.j41(1,"app-date-time",79),t.mxI("ngModelChange",function(De){t.eBV(P);const Ae=t.XpG(3).$implicit;return t.DH7(Ae.value,De)||(Ae.value=De),t.Njj(De)}),t.k0s(),t.bVm()}if(2&he){const P=t.XpG(3).$implicit;t.R7$(),t.R50("ngModel",P.value)}}function o(he,ue){if(1&he){const P=t.RV6();t.qex(0),t.j41(1,"app-date-time",80),t.mxI("ngModelChange",function(De){t.eBV(P);const Ae=t.XpG(3).$implicit;return t.DH7(Ae.value,De)||(Ae.value=De),t.Njj(De)}),t.k0s(),t.bVm()}if(2&he){const P=t.XpG(3).$implicit;t.R7$(),t.R50("ngModel",P.value),t.Y8G("displayType","date")}}function dt(he,ue){if(1&he&&(t.j41(0,"div"),t.DNE(1,ge,2,1,"ng-container",4)(2,o,2,2,"ng-container",4),t.j41(3,"span",78),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&he){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","birthdate"!=P.type),t.R7$(),t.Y8G("ngIf","birthdate"==P.type),t.R7$(2),t.SpI(" ",t.bMT(5,3,"Common.Dates.UTCWarning")," ")}}function gt(he,ue){if(1&he){const P=t.RV6();t.j41(0,"app-form-toggle",48)(1,"input",81),t.bIt("ngModelChange",function(De){t.eBV(P);const Ae=t.XpG(2).$implicit;return t.Njj(Ae.value=De?"true":"false")}),t.k0s()()}if(2&he){const P=t.XpG(2).$implicit;t.Y8G("id","claim-"+P.type)("isTraffic",!0)("isAlt",!1),t.R7$(),t.Y8G("id","claim-"+P.type)("ngModel","true"==P.value)}}function qt(he,ue){if(1&he){const P=t.RV6();t.j41(0,"span")(1,"app-enum-claim-type-input",82),t.bIt("valueChanged",function(De){t.eBV(P);const Ae=t.XpG(2).$implicit;return t.Njj(Ae.value=De)}),t.k0s()()}if(2&he){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("id","claimsFormInput")("typeId",P.typeId)("value",P.value)}}function Tn(he,ue){if(1&he&&(t.j41(0,"span",55),t.EFF(1),t.k0s()),2&he){let P;const q=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",null!==(P=null==q?null:q.failureMessage)&&void 0!==P?P:""," ")}}function Wn(he,ue){1&he&&(t.j41(0,"span",66),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&he&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Policy")," "))}function en(he,ue){if(1&he){const P=t.RV6();t.qex(0),t.j41(1,"td")(2,"form",null,2),t.DNE(4,K,1,2,"input",70)(5,de,1,1,"input",71)(6,dt,6,5,"div",4)(7,gt,2,5,"app-form-toggle",42)(8,qt,2,3,"span",4)(9,Tn,2,1,"span",45),t.k0s()(),t.j41(10,"td"),t.DNE(11,Wn,3,3,"span",64),t.k0s(),t.j41(12,"td")(13,"div",72)(14,"button",73),t.bIt("click",function(){t.eBV(P);const De=t.XpG().$implicit,Ae=t.XpG(2);return t.Njj(Ae.updateClaim(De))}),t.nrm(15,"span",74),t.j41(16,"span",12),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"button",75),t.bIt("click",function(){t.eBV(P);const De=t.XpG().$implicit,Ae=t.XpG(2);return t.Njj(Ae.cancelEdit(De))}),t.nrm(20,"span",11),t.j41(21,"span",12),t.EFF(22),t.nI1(23,"translate"),t.k0s()()()(),t.bVm()}if(2&he){let P,q;const De=t.sdS(3),Ae=t.XpG(),et=Ae.$implicit,_t=Ae.index,Ht=t.XpG(2);t.R7$(4),t.Y8G("ngIf","String"==et.format),t.R7$(),t.Y8G("ngIf","Int"==et.format),t.R7$(),t.Y8G("ngIf","DateTime"==et.format),t.R7$(),t.Y8G("ngIf","Boolean"==et.format),t.R7$(),t.Y8G("ngIf","Enum"==et.format),t.R7$(),t.Y8G("ngIf",null!==(P=null==(P=De.form.get("claimValue"))?null:P.invalid)&&void 0!==P&&P),t.R7$(2),t.Y8G("ngIf",Ht.isPolicyClaim(et)),t.R7$(3),t.Y8G("disabled",Ht.notAllowedToEditClaim(et)||Ht.checkDisabled("Claim"+_t)||null!==(q=null==(q=De.form.get("claimValue"))?null:q.invalid)&&void 0!==q&&q),t.R7$(3),t.JRh(t.bMT(18,10,"Common.Save")),t.R7$(5),t.JRh(t.bMT(23,12,"Common.Cancel"))}}function Ln(he,ue){if(1&he&&(t.j41(0,"tr",62)(1,"td"),t.DNE(2,je,2,1,"b",4)(3,Ye,2,1,"b",4),t.k0s(),t.DNE(4,ne,10,5,"ng-container",4)(5,en,24,14,"ng-container",4),t.k0s()),2&he){const P=ue.$implicit,q=t.XpG(2);t.Y8G("ngClass",t.eq3(5,v,q.notAllowedToEditClaim(P))),t.R7$(2),t.Y8G("ngIf",P.displayName),t.R7$(),t.Y8G("ngIf",!P.displayName),t.R7$(),t.Y8G("ngIf",!P.editing),t.R7$(),t.Y8G("ngIf",P.editing)}}function ni(he,ue){if(1&he&&(t.j41(0,"table",57)(1,"thead")(2,"tr")(3,"th",58),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"th"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th",59)(10,"span",12),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"th",59)(14,"span",12),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()(),t.j41(17,"tbody",60),t.DNE(18,Ln,6,7,"tr",61),t.k0s()()),2&he){const P=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,5,"Common.Name")," "),t.R7$(3),t.SpI(" ",t.bMT(8,7,"Common.Value")," "),t.R7$(4),t.SpI("",t.bMT(12,9,"Common.Policy")," "),t.R7$(4),t.JRh(t.bMT(16,11,"Common.Actions")),t.R7$(3),t.Y8G("ngForOf",P.displayClaims)}}function mt(he,ue){if(1&he&&t.nrm(0,"app-pager",83),2&he){const P=t.XpG();t.Y8G("totalResults",null==P.displayClaims?null:P.displayClaims.length)}}let Jt=(()=>{class he extends p.A{constructor(P,q,De,Ae,et){super(et),this.fb=P,this.claimTypesService=q,this.apClaimsService=De,this.cdref=Ae,this.initialClaims=[],this.excludeRequiredClaims=!1,this.excludeRoleClaims=!1,this.excludeSubClaims=!1,this.readOnly=!1,this.addClaimOutPut=new t.bkB,this.deleteClaimOutPut=new t.bkB,this.updateClaimOutPut=new t.bkB,this.editing=!1,this.displayClaims=[],this.nonDisplayClaims=[],this.parser=new DOMParser}ngOnInit(){this.claimTypesService.getClaimTypes(null,null,!0).subscribe(P=>{this.claimTypes=P,this.initaliseDisplayClaims()}),this.claimsForm=this.fb.group({type:["",[a.k0.required]],value:["",[a.k0.required]]})}get unsavedChanges(){return this.editing&&this.editClaimsForm.dirty}onDeactivate(){}deleteClaim(P){this.closeDeleteModal(),this.deleteClaimOutPut.emit(P)}delete(P){this.toDelete=P,this.deleteClaimModal.show()}closeDeleteModal(){this.toDelete=null,this.deleteClaimModal.hide()}closeAddModal(){this.claimsForm.controls.value.setValue(null),this.claimsForm.markAsPristine(),this.addClaimModal.hide()}cancelEdit(P){P.value=P.oldValue,P.editing=!1,this.editing=!1}changeFormat(P){var q=this.claimTypes[P];this.claimsForm.controls.value.setValue(null),this.claimsForm.markAsPristine(),"Boolean"===q?.valueType&&this.claimsForm.controls.value.setValue(!1),this.selectedClaim=q,this.cdref.detectChanges()}editClaim(P){P.oldValue=P.value,P.editing=!0,this.editing=!0}addClaim(){if("sub"!==this.selectedClaim.name){var P={type:this.selectedClaim.name,typeId:this.selectedClaim.id,displayName:this.selectedClaim.displayName,value:"Int"===this.selectedClaim.valueType||"Boolean"===this.selectedClaim.valueType?this.claimsForm.value.value.toString():this.claimsForm.value.value,format:this.selectedClaim.valueType,regex:"",failureMessage:"",editing:!1};this.addClaimOutPut.emit(P),this.selectedClaim=void 0,this.claimsForm.setValue({type:"",value:""}),this.closeAddModal()}}checkDisabled(P){return!(!this.editClaimsForm||!this.editClaimsForm.controls[P])&&this.editClaimsForm.controls[P].invalid}updateClaim(P){"Int"===P.format&&(P.value=P.value.toString()),this.updateClaimOutPut.emit({oldClaimType:P.type,oldClaimValue:P.oldValue,newClaimType:P.type,newClaimValue:P.value}),P.editing=!1,this.editing=!1}initaliseDisplayClaims(){this.displayClaims=[],this.nonDisplayClaims=[];for(let P of this.initialClaims){if(this.excludeRoleClaims&&"role"==P.type||this.excludeSubClaims&&"sub"==P.type)continue;const q=this.claimTypes?.findIndex(et=>et.name==P.type)??-1,De=-1!=q?this.claimTypes[q]:{};let Ae=this.initialiseClaim(P);this.excludeRequiredClaims&&De.required?this.nonDisplayClaims.push(Ae):this.displayClaims.push(Ae)}}initialiseClaim(P){const q=this.claimTypes?.findIndex(et=>et.name==P.type)??-1,De=-1!=q?this.claimTypes[q]:{};let Ae={...P,format:"String"};return-1!=q&&(Ae={format:De.valueType,type:P.type,typeId:De.id,displayName:De.displayName,value:P.value,editing:!1,required:De.required},De.rule&&(Ae.regex=De.rule,Ae.failureMessage=De.ruleValidationFailureDescription)),Ae}notAllowedToEditClaim(P){return this.apClaimsService.notAllowedToEditClaim(P)}isPolicyClaim(P){return this.apClaimsService.isPolicyClaim(P)}getAllowedValues(P){const q=this.claimTypes.find(De=>De.name===P.type);return q&&q.allowedValues||[]}canDisplayClaimType(P){return!(this.excludeRequiredClaims&&P.required||this.excludeRoleClaims&&"role"==P.name||this.excludeSubClaims&&"sub"==P.name)}getAllClaims(){return this.displayClaims.concat(this.nonDisplayClaims)}claimAdded(P){const q=this.initialiseClaim(P);this.displayClaims.push(q)}claimDeleted(P){const q=this.displayClaims.findIndex(De=>De.type==P.type&&De.value==P.value);this.displayClaims.splice(q,1)}static{this.\u0275fac=function(q){return new(q||he)(t.rXU(a.ze),t.rXU(A.X),t.rXU(e.B),t.rXU(t.gRc),t.rXU(w.o))}}static{this.\u0275cmp=t.VBU({type:he,selectors:[["app-claims-manager"]],viewQuery:function(q,De){if(1&q&&(t.GBs(W,5),t.GBs(y,7),t.GBs(z,7)),2&q){let Ae;t.mGM(Ae=t.lsd())&&(De.editClaimsForm=Ae.first),t.mGM(Ae=t.lsd())&&(De.addClaimModal=Ae.first),t.mGM(Ae=t.lsd())&&(De.deleteClaimModal=Ae.first)}},inputs:{initialClaims:"initialClaims",excludeRequiredClaims:"excludeRequiredClaims",excludeRoleClaims:"excludeRoleClaims",excludeSubClaims:"excludeSubClaims",readOnly:"readOnly"},outputs:{addClaimOutPut:"addClaimOutPut",deleteClaimOutPut:"deleteClaimOutPut",updateClaimOutPut:"updateClaimOutPut"},standalone:!1,features:[t.Vt3],decls:68,vars:46,consts:[["addClaimModal","bs-modal"],["deleteClaimModal","bs-modal"],["editClaimsForm","ngForm"],["id","editUserClaims",1,"tw-container","tw-mx-auto"],[4,"ngIf"],["bsModal","","id","addClaimModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content",3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label","isLast"],[1,"tw-form-select"],["formControlName","type","id","claimsFormDropdown",1,"tw-form-control",3,"change"],["disabled","","selected",""],[4,"ngFor","ngForOf"],[3,"id","label","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["bsModal","","id","deleteClaimModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-btn-danger",3,"click"],["right",""],["id","addClaimButton",1,"tw-btn-success",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["class","tw-form-control","formControlName","value","type","text","name","string","id","claimsFormInput","required","",3,"appClaimRegex",4,"ngIf"],["class","tw-form-control","formControlName","value","type","number","name","number","id","claimsFormInput","required","",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-form-text-danger",4,"ngIf"],["formControlName","value","type","text","name","string","id","claimsFormInput","required","",1,"tw-form-control",3,"appClaimRegex"],["formControlName","value","type","number","name","number","id","claimsFormInput","required","",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","claimsFormInput","formControlName","value","type","checkbox","binary","true",1,"tw-form-switch__input"],[1,"tw-w-full","sm:tw-max-w-2xl"],["id","claimsFormInput","formControlName","value","required","true"],["id","claimsFormInput","formControlName","value","required","true",3,"displayType"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-form-text-danger"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"tw-w-1/4"],[1,"tw-w-1"],["id","claimsTable"],["class","claim",3,"ngClass",4,"ngFor","ngForOf"],[1,"claim",3,"ngClass"],[1,"tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-flex tw-items-center",4,"ngIf"],[1,"tw-pill"],["value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["class","tw-form-control","type","text","name","claimValue","required","",3,"ngModel","appClaimRegex","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","claimValue","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"tw-flex"],["value","Save",1,"tw-btn-success","tw-mr-2","tw-h-10","tw-w-10",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-check"],["value","CancelEdit",1,"tw-btn-secondary","tw-h-10","tw-w-10",3,"click"],["type","text","name","claimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel","appClaimRegex"],["type","number","name","claimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[1,"tw-form-text"],["id","claimsFormInput","name","claimValue","required","true",3,"ngModelChange","ngModel"],["id","claimsFormInput","name","claimValue","required","true",3,"ngModelChange","ngModel","displayType"],["type","checkbox","name","claimValue",1,"tw-form-switch__input",3,"ngModelChange","id","ngModel"],["name","claimValue",3,"valueChanged","id","typeId","value"],["hidePager","true",3,"totalResults"]],template:function(q,De){if(1&q){const Ae=t.RV6();t.j41(0,"div",3),t.DNE(1,L,5,3,"app-action-bar",4),t.j41(2,"div",5,0)(4,"div",6)(5,"form",7)(6,"div",8)(7,"h5",9),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"button",10),t.bIt("click",function(){return t.eBV(Ae),t.Njj(De.closeAddModal())}),t.nrm(11,"span",11),t.j41(12,"span",12),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"div",13)(16,"app-form-row",14)(17,"div",15)(18,"select",16),t.bIt("change",function(_t){return t.eBV(Ae),t.Njj(De.changeFormat(_t.target.value))}),t.nrm(19,"option",17),t.DNE(20,te,2,1,"ng-container",18),t.k0s()()(),t.DNE(21,lt,7,9,"app-form-row",19),t.k0s(),t.nrm(22,"div",20),t.j41(23,"div",21)(24,"div",22)(25,"div",23)(26,"button",24),t.bIt("click",function(){return t.eBV(Ae),t.Njj(De.addClaim())}),t.EFF(27),t.nI1(28,"translate"),t.k0s()(),t.j41(29,"button",25),t.bIt("click",function(){return t.eBV(Ae),t.Njj(De.closeAddModal())}),t.EFF(30),t.nI1(31,"translate"),t.k0s()()()()()(),t.DNE(32,vt,4,3,"div",26)(33,ni,19,13,"table",27)(34,mt,1,1,"app-pager",28),t.k0s(),t.j41(35,"div",29,1)(37,"div",30)(38,"div",31)(39,"div",8)(40,"h5",9),t.EFF(41),t.nI1(42,"translate"),t.k0s(),t.j41(43,"button",10),t.bIt("click",function(){return t.eBV(Ae),t.Njj(De.closeDeleteModal())}),t.nrm(44,"span",11),t.j41(45,"span",12),t.EFF(46),t.nI1(47,"translate"),t.k0s()()(),t.j41(48,"div",32)(49,"p",33),t.EFF(50),t.nI1(51,"translate"),t.j41(52,"strong"),t.EFF(53),t.k0s(),t.EFF(54,"?"),t.k0s(),t.nrm(55,"p",34),t.nI1(56,"translate"),t.k0s(),t.nrm(57,"div",20),t.j41(58,"div",21)(59,"div",22)(60,"div",23)(61,"button",35),t.bIt("click",function(){return t.eBV(Ae),t.Njj(De.deleteClaim(De.toDelete))}),t.EFF(62),t.nI1(63,"translate"),t.k0s()(),t.j41(64,"button",25),t.bIt("click",function(){return t.eBV(Ae),t.Njj(De.closeDeleteModal())}),t.EFF(65),t.nI1(66,"translate"),t.k0s()()()()()(),t.nrm(67,"app-can-deactivate")}2&q&&(t.R7$(),t.Y8G("ngIf",!De.readOnly),t.R7$(),t.Y8G("config",t.lJ4(44,Z)),t.R7$(3),t.Y8G("formGroup",De.claimsForm),t.R7$(3),t.JRh(t.bMT(9,24,"Users.Details.AddClaim")),t.R7$(5),t.JRh(t.bMT(14,26,"Common.Close")),t.R7$(3),t.Y8G("id","claimsFormDropdown")("label","Common.Type")("isLast",!De.selectedClaim),t.R7$(4),t.Y8G("ngForOf",De.claimTypes),t.R7$(),t.Y8G("ngIf",De.selectedClaim),t.R7$(5),t.Y8G("disabled",!De.claimsForm.valid||!De.selectedClaim),t.R7$(),t.JRh(t.bMT(28,28,"Common.Add")),t.R7$(3),t.JRh(t.bMT(31,30,"Common.Cancel")),t.R7$(2),t.Y8G("ngIf",De.displayClaims&&De.displayClaims.length<=0),t.R7$(),t.Y8G("ngIf",(null==De.displayClaims?null:De.displayClaims.length)>0),t.R7$(),t.Y8G("ngIf",(null==De.displayClaims?null:De.displayClaims.length)>0),t.R7$(),t.Y8G("config",t.lJ4(45,Z)),t.R7$(6),t.JRh(t.bMT(42,32,"Common.Delete.Confirm")),t.R7$(5),t.JRh(t.bMT(47,34,"Common.Close")),t.R7$(4),t.SpI("",t.bMT(51,36,"Common.Delete.AreYouSure")," "),t.R7$(3),t.JRh(null==De.toDelete?null:De.toDelete.type),t.R7$(2),t.Y8G("innerHTML",t.bMT(56,38,"Common.Delete.Warning"),t.npT),t.R7$(7),t.JRh(t.bMT(63,40,"Common.Delete.Title")),t.R7$(3),t.JRh(t.bMT(66,42,"Common.Delete.No")))},dependencies:[m.YU,m.Sq,m.bT,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV,a.j4,a.JD,D.hZ,S.Y,g.m,k.$,Y.j,u.Z,E.E,B.n,V.B,F.D9,M.r7,M.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return he})()},409:(ot,ve,l)=>{var t=l(6589);l(812);var a=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(a=l(310)),(ot.exports=t.prng=t.prng||{}).create=function(A){for(var e={plugin:A,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},w=A.md,m=new Array(32),D=0;D<32;++D)m[D]=w.create();function g(){if(e.pools[0].messageLength>=32)return k();e.collect(e.seedFileSync(32-e.pools[0].messageLength<<5)),k()}function k(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var E=1,B=0;B<32;++B)e.reseeds%E==0&&(u.update(e.pools[B].digest().getBytes()),e.pools[B].start()),E<<=1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var V=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(V),e.generated=0}function Y(u){var E=null,B=t.util.globalScope,V=B.crypto||B.msCrypto;V&&V.getRandomValues&&(E=function(J){return V.getRandomValues(J)});var F=t.util.createBuffer();if(E)for(;F.length()<u;){var M=Math.max(1,Math.min(u-F.length(),65536)/4),W=new Uint32Array(Math.floor(M));try{E(W);for(var y=0;y<W.length;++y)F.putInt32(W[y])}catch(J){if(!(typeof QuotaExceededError<"u"&&J instanceof QuotaExceededError))throw J}}if(F.length()<u)for(var z,Z,v,L=Math.floor(65536*Math.random());F.length()<u;)for(Z=16807*(65535&L),Z+=(32767&(z=16807*(L>>16)))<<16,L=4294967295&(Z=(2147483647&(Z+=z>>15))+(Z>>31)),y=0;y<3;++y)v=L>>>(y<<3),v^=Math.floor(256*Math.random()),F.putByte(255&v);return F.getBytes(u)}return e.pools=m,e.pool=0,e.generate=function(u,E){if(!E)return e.generateSync(u);var B=e.plugin.cipher,V=e.plugin.increment,F=e.plugin.formatKey,M=e.plugin.formatSeed,W=t.util.createBuffer();e.key=null,function y(z){if(z)return E(z);if(W.length()>=u)return E(null,W.getBytes(u));if(e.generated>1048575&&(e.key=null),null===e.key)return t.util.nextTick(function(){!function S(u){if(e.pools[0].messageLength>=32)return k(),u();e.seedFile(32-e.pools[0].messageLength<<5,function(B,V){if(B)return u(B);e.collect(V),k(),u()})}(y)});var Z=B(e.key,e.seed);e.generated+=Z.length,W.putBytes(Z),e.key=F(B(e.key,V(e.seed))),e.seed=M(B(e.key,e.seed)),t.util.setImmediate(y)}()},e.generateSync=function(u){var E=e.plugin.cipher,B=e.plugin.increment,V=e.plugin.formatKey,F=e.plugin.formatSeed;e.key=null;for(var M=t.util.createBuffer();M.length()<u;){e.generated>1048575&&(e.key=null),null===e.key&&g();var W=E(e.key,e.seed);e.generated+=W.length,M.putBytes(W),e.key=V(E(e.key,B(e.seed))),e.seed=F(E(e.key,e.seed))}return M.getBytes(u)},a?(e.seedFile=function(u,E){a.randomBytes(u,function(B,V){if(B)return E(B);E(null,V.toString())})},e.seedFileSync=function(u){return a.randomBytes(u).toString()}):(e.seedFile=function(u,E){try{E(null,Y(u))}catch(B){E(B)}},e.seedFileSync=Y),e.collect=function(u){for(var E=u.length,B=0;B<E;++B)e.pools[e.pool].update(u.substr(B,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(u,E){for(var B="",V=0;V<E;V+=8)B+=String.fromCharCode(u>>V&255);e.collect(B)},e.registerWorker=function(u){u===self?e.seedFile=function(B,V){self.addEventListener("message",function F(M){var W=M.data;W.forge&&W.forge.prng&&(self.removeEventListener("message",F),V(W.forge.prng.err,W.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:B}}})}:u.addEventListener("message",function(B){var V=B.data;V.forge&&V.forge.prng&&e.seedFile(V.forge.prng.needed,function(F,M){u.postMessage({forge:{prng:{err:F,bytes:M}}})})})},e}},455:(ot,ve,l)=>{"use strict";l.d(ve,{e:()=>p});var t=l(4412),a=l(1360);let p=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},467:(ot,ve,l)=>{"use strict";function t(p,A,e,w,m,D,S){try{var g=p[D](S),k=g.value}catch(Y){return void e(Y)}g.done?A(k):Promise.resolve(k).then(w,m)}function a(p){return function(){var A=this,e=arguments;return new Promise(function(w,m){var D=p.apply(A,e);function S(k){t(D,w,m,S,g,"next",k)}function g(k){t(D,w,m,S,g,"throw",k)}S(void 0)})}}l.d(ve,{A:()=>a})},526:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>w});var t=l(3165),a=l(2771),p=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.claimTypeSubject=new a.m(1),this.actionUrl="ClaimTypes",this.headers=g.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}getClaimTypes(S,g,k=!1){let Y=new t.Nl;return(0,p.gP)(S)||(Y=Y.append("name",S)),Y=Y.append("sort",(0,p.gP)(g)?"name":g),this.http.get(k?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:Y})}addClaimType(S){const g=`${this.actionUrl}`,k=JSON.stringify(S);return this.http.post(g,k,{headers:this.headers})}updateClaimType(S){const g=`${this.actionUrl}/${S.id}`,k=JSON.stringify(S);return this.http.put(g,k,{headers:this.headers})}deleteClaimType(S){return this.http.delete(`${this.actionUrl}/${S.id}`,{headers:this.headers})}getAllowedValues(S,g,k){let Y=new t.Nl;return(0,p.gP)(g)||(Y=Y.append("query",g)),k&&(Y=Y.append("resultThreshold",k)),this.http.get(`${this.actionUrl}/AllowedValues/${S}`,{headers:this.headers,params:Y})}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},534:(ot,ve,l)=>{"use strict";l.d(ve,{Ss:()=>u,dg:()=>Y});var t=l(1360),a=l(2806),p=l(2865),A=l(1635),e=l(6932),w=l(1584),m=l(8434);const D=["*"];let S=(()=>{class E{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275prov=t.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),g=(()=>{class E{get _bsVersions(){return(0,a.Bu)()}constructor(V){Object.assign(this,V)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=p.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(F){return new(F||E)(t.rXU(S))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(F,M){2&F&&(t.BMQ("id",M.id),t.HbH("show tooltip in tooltip-"+M.placement+" bs-tooltip-"+M.placement+" "+M.placement+" "+M.containerClass))},ngContentSelectors:D,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(F,M){1&F&&(t.NAR(),t.nrm(0,"div",0),t.j41(1,"div",1),t.SdG(2),t.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return E})(),k=0,Y=(()=>{class E{get isOpen(){return this._tooltip.isShown}set isOpen(V){V?this.show():this.hide()}set htmlContent(V){(0,a.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=V}set _placement(V){(0,a.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=V}set _isOpen(V){(0,a.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=V}get _isOpen(){return(0,a.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(V){(0,a.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!V}get _enable(){return(0,a.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(V){(0,a.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=V?"body":this.container}get _appendToBody(){return(0,a.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(V){(0,a.mc)("tooltipClass deprecated")}set _tooltipContext(V){(0,a.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(V){(0,a.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=V}get _tooltipTrigger(){return(0,a.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(V){(0,a.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(V||"").toString()}constructor(V,F,M,W,y,z){this._elementRef=W,this._renderer=y,this._positionService=z,this.tooltipId=k++,this.adaptivePosition=!0,this.tooltipChange=new t.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new t.bkB,this._tooltip=F.createLoader(this._elementRef,V,this._renderer).provide({provide:S,useValue:M}),Object.assign(this,M),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(V=>{V||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const V=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(g).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},F=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,w.O)(this.delay).subscribe(()=>{V(),F()}),this.triggers&&(0,a.Zu)(this.triggers).forEach(M=>{M.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,M.close,()=>{this._delaySubscription?.unsubscribe(),F()}))})):V()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(F){return new(F||E)(t.rXU(t.c1b),t.rXU(e.Li),t.rXU(S),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(p.DF))}}static{this.\u0275dir=t.FsC({type:E,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[0,"tooltipHtml","htmlContent"],_placement:[0,"tooltipPlacement","_placement"],_isOpen:[0,"tooltipIsOpen","_isOpen"],_enable:[0,"tooltipEnable","_enable"],_appendToBody:[0,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[0,"tooltipClass","_popupClass"],_tooltipContext:[0,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[0,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[0,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"],features:[t.Jv_([e.Li,p.DF])]})}}return(0,A.Cg)([(0,a.Yr)(),(0,A.Sn)("design:type",Object)],E.prototype,"tooltip",void 0),E})(),u=(()=>{class E{static forRoot(){return{ngModule:E,providers:[]}}static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=t.$C({type:E})}static{this.\u0275inj=t.G2t({imports:[m.MD]})}}return E})()},590:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>a});var t=l(1744);let a=(()=>{class p{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(e){switch(e){case t.ot.Client:return this.client;case t.ot.IdentityResource:case t.ot.ProtectedResource:return this.resource;case t.ot.ClaimType:return this.claimType}}}return p})()},591:(ot,ve,l)=>{"use strict";function t(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(ve,{L:()=>t})},632:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>t});class t{constructor(){this.enabled=!0,this.name="",this.displayName="",this.description="",this.required=!1,this.emphasize=!1,this.userClaims=[],this.showInDiscoveryDocument=!0,this.isFinalInstanceOnResource=!0,this.shared=!1,this.properties=[]}}},651:(ot,ve,l)=>{var t=l(6589);l(3364),l(1675),l(1290),l(812);var a=l(2758),p=a.publicKeyValidator,A=a.privateKeyValidator;if(typeof e>"u")var e=t.jsbn.BigInteger;var w=t.util.ByteBuffer,m=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},ot.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var D=t.ed25519;function S(st){var Qe=st.message;if(Qe instanceof Uint8Array||Qe instanceof m)return Qe;var ne=st.encoding;if(void 0===Qe){if(!st.md)throw new TypeError('"options.message" or "options.md" not specified.');Qe=st.md.digest().getBytes(),ne="binary"}if("string"==typeof Qe&&!ne)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof Qe){if(typeof Buffer<"u")return Buffer.from(Qe,ne);Qe=new w(Qe,ne)}else if(!(Qe instanceof w))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var K=new m(Qe.length()),de=0;de<K.length;++de)K[de]=Qe.at(de);return K}D.constants={},D.constants.PUBLIC_KEY_BYTE_LENGTH=32,D.constants.PRIVATE_KEY_BYTE_LENGTH=64,D.constants.SEED_BYTE_LENGTH=32,D.constants.SIGN_BYTE_LENGTH=64,D.constants.HASH_BYTE_LENGTH=64,D.generateKeyPair=function(st){var Qe=(st=st||{}).seed;if(void 0===Qe)Qe=t.random.getBytesSync(D.constants.SEED_BYTE_LENGTH);else if("string"==typeof Qe){if(Qe.length!==D.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+D.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(Qe instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');Qe=S({message:Qe,encoding:"binary"});for(var ne=new m(D.constants.PUBLIC_KEY_BYTE_LENGTH),K=new m(D.constants.PRIVATE_KEY_BYTE_LENGTH),de=0;de<32;++de)K[de]=Qe[de];return function W(st,Qe){var K,ne=[Ve(),Ve(),Ve(),Ve()],de=M(Qe,32);for(de[0]&=248,de[31]&=127,de[31]|=64,vt(ne,de),te(st,ne),K=0;K<32;++K)Qe[K+32]=st[K]}(ne,K),{publicKey:ne,privateKey:K}},D.privateKeyFromAsn1=function(st){var Qe={},ne=[];if(!t.asn1.validate(st,A,Qe,ne)){var de=new Error("Invalid Key.");throw de.errors=ne,de}var ge=t.asn1.derToOid(Qe.privateKeyOid),o=t.oids.EdDSA25519;if(ge!==o)throw new Error('Invalid OID "'+ge+'"; OID must be "'+o+'".');return{privateKeyBytes:S({message:t.asn1.fromDer(Qe.privateKey).value,encoding:"binary"})}},D.publicKeyFromAsn1=function(st){var Qe={},ne=[];if(!t.asn1.validate(st,p,Qe,ne)){var de=new Error("Invalid Key.");throw de.errors=ne,de}var ge=t.asn1.derToOid(Qe.publicKeyOid),o=t.oids.EdDSA25519;if(ge!==o)throw new Error('Invalid OID "'+ge+'"; OID must be "'+o+'".');var dt=Qe.ed25519PublicKey;if(dt.length!==D.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return S({message:dt,encoding:"binary"})},D.publicKeyFromPrivateKey=function(st){var Qe=S({message:(st=st||{}).privateKey,encoding:"binary"});if(Qe.length!==D.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D.constants.PRIVATE_KEY_BYTE_LENGTH);for(var ne=new m(D.constants.PUBLIC_KEY_BYTE_LENGTH),K=0;K<ne.length;++K)ne[K]=Qe[32+K];return ne},D.sign=function(st){var Qe=S(st=st||{}),ne=S({message:st.privateKey,encoding:"binary"});if(ne.length===D.constants.SEED_BYTE_LENGTH)ne=D.generateKeyPair({seed:ne}).privateKey;else if(ne.length!==D.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D.constants.SEED_BYTE_LENGTH+" or "+D.constants.PRIVATE_KEY_BYTE_LENGTH);var de=new m(D.constants.SIGN_BYTE_LENGTH+Qe.length);!function y(st,Qe,ne,K){var de,ge,o=new Float64Array(64),dt=[Ve(),Ve(),Ve(),Ve()],gt=M(K,32);gt[0]&=248,gt[31]&=127,gt[31]|=64;var qt=ne+64;for(de=0;de<ne;++de)st[64+de]=Qe[de];for(de=0;de<32;++de)st[32+de]=gt[32+de];var Tn=M(st.subarray(32),ne+32);for(v(Tn),vt(dt,Tn),te(st,dt),de=32;de<64;++de)st[de]=K[de];var Wn=M(st,ne+64);for(v(Wn),de=32;de<64;++de)o[de]=0;for(de=0;de<32;++de)o[de]=Tn[de];for(de=0;de<32;++de)for(ge=0;ge<32;ge++)o[de+ge]+=Wn[de]*gt[ge];Z(st.subarray(32),o)}(de,Qe,Qe.length,ne);for(var ge=new m(D.constants.SIGN_BYTE_LENGTH),o=0;o<ge.length;++o)ge[o]=de[o];return ge},D.verify=function(st){var Qe=S(st=st||{});if(void 0===st.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var ne=S({message:st.signature,encoding:"binary"});if(ne.length!==D.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+D.constants.SIGN_BYTE_LENGTH);var K=S({message:st.publicKey,encoding:"binary"});if(K.length!==D.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+D.constants.PUBLIC_KEY_BYTE_LENGTH);var o,de=new m(D.constants.SIGN_BYTE_LENGTH+Qe.length),ge=new m(D.constants.SIGN_BYTE_LENGTH+Qe.length);for(o=0;o<D.constants.SIGN_BYTE_LENGTH;++o)de[o]=ne[o];for(o=0;o<Qe.length;++o)de[o+D.constants.SIGN_BYTE_LENGTH]=Qe[o];return function z(st,Qe,ne,K){var de,o=new m(32),dt=[Ve(),Ve(),Ve(),Ve()],gt=[Ve(),Ve(),Ve(),Ve()];if(ne<64||function fe(st,Qe){var ne=Ve(),K=Ve(),de=Ve(),ge=Ve(),o=Ve(),dt=Ve(),gt=Ve();return je(st[2],k),function oe(st,Qe){var ne;for(ne=0;ne<16;++ne)st[ne]=Qe[2*ne]+(Qe[2*ne+1]<<8);st[15]&=32767}(st[1],Qe),Ue(de,st[1]),ct(ge,de,Y),Xe(de,de,st[2]),Be(ge,st[2],ge),Ue(o,ge),Ue(dt,o),ct(gt,dt,o),ct(ne,gt,de),ct(ne,ne,ge),function R(st,Qe){var K,ne=Ve();for(K=0;K<16;++K)ne[K]=Qe[K];for(K=250;K>=0;--K)Ue(ne,ne),1!==K&&ct(ne,ne,Qe);for(K=0;K<16;++K)st[K]=ne[K]}(ne,ne),ct(ne,ne,de),ct(ne,ne,ge),ct(ne,ne,ge),ct(st[0],ne,ge),Ue(K,st[0]),ct(K,K,ge),Pe(K,de)&&ct(st[0],st[0],F),Ue(K,st[0]),ct(K,K,ge),Pe(K,de)?-1:(rt(st[0])===Qe[31]>>7&&Xe(st[0],g,st[0]),ct(st[3],st[0],st[1]),0)}(gt,K))return-1;for(de=0;de<ne;++de)st[de]=Qe[de];for(de=0;de<32;++de)st[de+32]=K[de];var qt=M(st,ne);if(v(qt),lt(dt,gt,qt),vt(gt,Qe.subarray(32)),L(dt,gt),te(o,dt),ne-=64,Te(Qe,0,o,0)){for(de=0;de<ne;++de)st[de]=0;return-1}for(de=0;de<ne;++de)st[de]=Qe[de+64];return ne}(ge,de,de.length,K)>=0};var g=Ve(),k=Ve([1]),Y=Ve([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=Ve([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),E=Ve([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),B=Ve([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),V=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),F=Ve([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function M(st,Qe){var ne=t.md.sha512.create(),K=new w(st);ne.update(K.getBytes(Qe),"binary");var de=ne.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(de,"binary");for(var ge=new m(D.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)ge[o]=de.charCodeAt(o);return ge}function Z(st,Qe){var ne,K,de,ge;for(K=63;K>=32;--K){for(ne=0,de=K-32,ge=K-12;de<ge;++de)Qe[de]+=ne-16*Qe[K]*V[de-(K-32)],Qe[de]-=256*(ne=Qe[de]+128>>8);Qe[de]+=ne,Qe[K]=0}for(ne=0,de=0;de<32;++de)Qe[de]+=ne-(Qe[31]>>4)*V[de],ne=Qe[de]>>8,Qe[de]&=255;for(de=0;de<32;++de)Qe[de]-=ne*V[de];for(K=0;K<32;++K)Qe[K+1]+=Qe[K]>>8,st[K]=255&Qe[K]}function v(st){for(var Qe=new Float64Array(64),ne=0;ne<64;++ne)Qe[ne]=st[ne],st[ne]=0;Z(st,Qe)}function L(st,Qe){var ne=Ve(),K=Ve(),de=Ve(),ge=Ve(),o=Ve(),dt=Ve(),gt=Ve(),qt=Ve(),Tn=Ve();Xe(ne,st[1],st[0]),Xe(Tn,Qe[1],Qe[0]),ct(ne,ne,Tn),Be(K,st[0],st[1]),Be(Tn,Qe[0],Qe[1]),ct(K,K,Tn),ct(de,st[3],Qe[3]),ct(de,de,u),ct(ge,st[2],Qe[2]),Be(ge,ge,ge),Xe(o,K,ne),Xe(dt,ge,de),Be(gt,ge,de),Be(qt,K,ne),ct(st[0],o,dt),ct(st[1],qt,gt),ct(st[2],gt,dt),ct(st[3],o,qt)}function J(st,Qe,ne){for(var K=0;K<4;++K)it(st[K],Qe[K],ne)}function te(st,Qe){var ne=Ve(),K=Ve(),de=Ve();(function Ye(st,Qe){var K,ne=Ve();for(K=0;K<16;++K)ne[K]=Qe[K];for(K=253;K>=0;--K)Ue(ne,ne),2!==K&&4!==K&&ct(ne,ne,Qe);for(K=0;K<16;++K)st[K]=ne[K]})(de,Qe[2]),ct(ne,Qe[0],de),ct(K,Qe[1],de),N(st,K),st[31]^=rt(ne)<<7}function N(st,Qe){var ne,K,de,ge=Ve(),o=Ve();for(ne=0;ne<16;++ne)o[ne]=Qe[ne];for(Ke(o),Ke(o),Ke(o),K=0;K<2;++K){for(ge[0]=o[0]-65517,ne=1;ne<15;++ne)ge[ne]=o[ne]-65535-(ge[ne-1]>>16&1),ge[ne-1]&=65535;ge[15]=o[15]-32767-(ge[14]>>16&1),de=ge[15]>>16&1,ge[14]&=65535,it(o,ge,1-de)}for(ne=0;ne<16;ne++)st[2*ne]=255&o[ne],st[2*ne+1]=o[ne]>>8}function Pe(st,Qe){var ne=new m(32),K=new m(32);return N(ne,st),N(K,Qe),Te(ne,0,K,0)}function Te(st,Qe,ne,K){return function We(st,Qe,ne,K,de){var ge,o=0;for(ge=0;ge<de;++ge)o|=st[Qe+ge]^ne[K+ge];return(1&o-1>>>8)-1}(st,Qe,ne,K,32)}function rt(st){var Qe=new m(32);return N(Qe,st),1&Qe[0]}function lt(st,Qe,ne){var K,de;for(je(st[0],g),je(st[1],k),je(st[2],k),je(st[3],g),de=255;de>=0;--de)J(st,Qe,K=ne[de/8|0]>>(7&de)&1),L(Qe,st),L(st,st),J(st,Qe,K)}function vt(st,Qe){var ne=[Ve(),Ve(),Ve(),Ve()];je(ne[0],E),je(ne[1],B),je(ne[2],k),ct(ne[3],E,B),lt(st,ne,Qe)}function je(st,Qe){var ne;for(ne=0;ne<16;ne++)st[ne]=0|Qe[ne]}function Ke(st){var Qe,ne,K=1;for(Qe=0;Qe<16;++Qe)ne=st[Qe]+K+65535,K=Math.floor(ne/65536),st[Qe]=ne-65536*K;st[0]+=K-1+37*(K-1)}function it(st,Qe,ne){for(var K,de=~(ne-1),ge=0;ge<16;++ge)st[ge]^=K=de&(st[ge]^Qe[ge]),Qe[ge]^=K}function Ve(st){var Qe,ne=new Float64Array(16);if(st)for(Qe=0;Qe<st.length;++Qe)ne[Qe]=st[Qe];return ne}function Be(st,Qe,ne){for(var K=0;K<16;++K)st[K]=Qe[K]+ne[K]}function Xe(st,Qe,ne){for(var K=0;K<16;++K)st[K]=Qe[K]-ne[K]}function Ue(st,Qe){ct(st,Qe,Qe)}function ct(st,Qe,ne){var K,de,ge=0,o=0,dt=0,gt=0,qt=0,Tn=0,Wn=0,en=0,Ln=0,ni=0,mt=0,Jt=0,he=0,ue=0,P=0,q=0,De=0,Ae=0,et=0,_t=0,Ht=0,nn=0,wn=0,Kn=0,ei=0,Ot=0,Gn=0,Qt=0,Sn=0,In=0,rs=0,_i=ne[0],Fi=ne[1],Ni=ne[2],os=ne[3],zn=ne[4],ms=ne[5],xi=ne[6],wt=ne[7],Tt=ne[8],xt=ne[9],Kt=ne[10],cn=ne[11],ii=ne[12],Ei=ne[13],Ii=ne[14],Ti=ne[15];ge+=(K=Qe[0])*_i,o+=K*Fi,dt+=K*Ni,gt+=K*os,qt+=K*zn,Tn+=K*ms,Wn+=K*xi,en+=K*wt,Ln+=K*Tt,ni+=K*xt,mt+=K*Kt,Jt+=K*cn,he+=K*ii,ue+=K*Ei,P+=K*Ii,q+=K*Ti,o+=(K=Qe[1])*_i,dt+=K*Fi,gt+=K*Ni,qt+=K*os,Tn+=K*zn,Wn+=K*ms,en+=K*xi,Ln+=K*wt,ni+=K*Tt,mt+=K*xt,Jt+=K*Kt,he+=K*cn,ue+=K*ii,P+=K*Ei,q+=K*Ii,De+=K*Ti,dt+=(K=Qe[2])*_i,gt+=K*Fi,qt+=K*Ni,Tn+=K*os,Wn+=K*zn,en+=K*ms,Ln+=K*xi,ni+=K*wt,mt+=K*Tt,Jt+=K*xt,he+=K*Kt,ue+=K*cn,P+=K*ii,q+=K*Ei,De+=K*Ii,Ae+=K*Ti,gt+=(K=Qe[3])*_i,qt+=K*Fi,Tn+=K*Ni,Wn+=K*os,en+=K*zn,Ln+=K*ms,ni+=K*xi,mt+=K*wt,Jt+=K*Tt,he+=K*xt,ue+=K*Kt,P+=K*cn,q+=K*ii,De+=K*Ei,Ae+=K*Ii,et+=K*Ti,qt+=(K=Qe[4])*_i,Tn+=K*Fi,Wn+=K*Ni,en+=K*os,Ln+=K*zn,ni+=K*ms,mt+=K*xi,Jt+=K*wt,he+=K*Tt,ue+=K*xt,P+=K*Kt,q+=K*cn,De+=K*ii,Ae+=K*Ei,et+=K*Ii,_t+=K*Ti,Tn+=(K=Qe[5])*_i,Wn+=K*Fi,en+=K*Ni,Ln+=K*os,ni+=K*zn,mt+=K*ms,Jt+=K*xi,he+=K*wt,ue+=K*Tt,P+=K*xt,q+=K*Kt,De+=K*cn,Ae+=K*ii,et+=K*Ei,_t+=K*Ii,Ht+=K*Ti,Wn+=(K=Qe[6])*_i,en+=K*Fi,Ln+=K*Ni,ni+=K*os,mt+=K*zn,Jt+=K*ms,he+=K*xi,ue+=K*wt,P+=K*Tt,q+=K*xt,De+=K*Kt,Ae+=K*cn,et+=K*ii,_t+=K*Ei,Ht+=K*Ii,nn+=K*Ti,en+=(K=Qe[7])*_i,Ln+=K*Fi,ni+=K*Ni,mt+=K*os,Jt+=K*zn,he+=K*ms,ue+=K*xi,P+=K*wt,q+=K*Tt,De+=K*xt,Ae+=K*Kt,et+=K*cn,_t+=K*ii,Ht+=K*Ei,nn+=K*Ii,wn+=K*Ti,Ln+=(K=Qe[8])*_i,ni+=K*Fi,mt+=K*Ni,Jt+=K*os,he+=K*zn,ue+=K*ms,P+=K*xi,q+=K*wt,De+=K*Tt,Ae+=K*xt,et+=K*Kt,_t+=K*cn,Ht+=K*ii,nn+=K*Ei,wn+=K*Ii,Kn+=K*Ti,ni+=(K=Qe[9])*_i,mt+=K*Fi,Jt+=K*Ni,he+=K*os,ue+=K*zn,P+=K*ms,q+=K*xi,De+=K*wt,Ae+=K*Tt,et+=K*xt,_t+=K*Kt,Ht+=K*cn,nn+=K*ii,wn+=K*Ei,Kn+=K*Ii,ei+=K*Ti,mt+=(K=Qe[10])*_i,Jt+=K*Fi,he+=K*Ni,ue+=K*os,P+=K*zn,q+=K*ms,De+=K*xi,Ae+=K*wt,et+=K*Tt,_t+=K*xt,Ht+=K*Kt,nn+=K*cn,wn+=K*ii,Kn+=K*Ei,ei+=K*Ii,Ot+=K*Ti,Jt+=(K=Qe[11])*_i,he+=K*Fi,ue+=K*Ni,P+=K*os,q+=K*zn,De+=K*ms,Ae+=K*xi,et+=K*wt,_t+=K*Tt,Ht+=K*xt,nn+=K*Kt,wn+=K*cn,Kn+=K*ii,ei+=K*Ei,Ot+=K*Ii,Gn+=K*Ti,he+=(K=Qe[12])*_i,ue+=K*Fi,P+=K*Ni,q+=K*os,De+=K*zn,Ae+=K*ms,et+=K*xi,_t+=K*wt,Ht+=K*Tt,nn+=K*xt,wn+=K*Kt,Kn+=K*cn,ei+=K*ii,Ot+=K*Ei,Gn+=K*Ii,Qt+=K*Ti,ue+=(K=Qe[13])*_i,P+=K*Fi,q+=K*Ni,De+=K*os,Ae+=K*zn,et+=K*ms,_t+=K*xi,Ht+=K*wt,nn+=K*Tt,wn+=K*xt,Kn+=K*Kt,ei+=K*cn,Ot+=K*ii,Gn+=K*Ei,Qt+=K*Ii,Sn+=K*Ti,P+=(K=Qe[14])*_i,q+=K*Fi,De+=K*Ni,Ae+=K*os,et+=K*zn,_t+=K*ms,Ht+=K*xi,nn+=K*wt,wn+=K*Tt,Kn+=K*xt,ei+=K*Kt,Ot+=K*cn,Gn+=K*ii,Qt+=K*Ei,Sn+=K*Ii,In+=K*Ti,q+=(K=Qe[15])*_i,o+=38*(Ae+=K*Ni),dt+=38*(et+=K*os),gt+=38*(_t+=K*zn),qt+=38*(Ht+=K*ms),Tn+=38*(nn+=K*xi),Wn+=38*(wn+=K*wt),en+=38*(Kn+=K*Tt),Ln+=38*(ei+=K*xt),ni+=38*(Ot+=K*Kt),mt+=38*(Gn+=K*cn),Jt+=38*(Qt+=K*ii),he+=38*(Sn+=K*Ei),ue+=38*(In+=K*Ii),P+=38*(rs+=K*Ti),ge=(K=(ge+=38*(De+=K*Fi))+(de=1)+65535)-65536*(de=Math.floor(K/65536)),o=(K=o+de+65535)-65536*(de=Math.floor(K/65536)),dt=(K=dt+de+65535)-65536*(de=Math.floor(K/65536)),gt=(K=gt+de+65535)-65536*(de=Math.floor(K/65536)),qt=(K=qt+de+65535)-65536*(de=Math.floor(K/65536)),Tn=(K=Tn+de+65535)-65536*(de=Math.floor(K/65536)),Wn=(K=Wn+de+65535)-65536*(de=Math.floor(K/65536)),en=(K=en+de+65535)-65536*(de=Math.floor(K/65536)),Ln=(K=Ln+de+65535)-65536*(de=Math.floor(K/65536)),ni=(K=ni+de+65535)-65536*(de=Math.floor(K/65536)),mt=(K=mt+de+65535)-65536*(de=Math.floor(K/65536)),Jt=(K=Jt+de+65535)-65536*(de=Math.floor(K/65536)),he=(K=he+de+65535)-65536*(de=Math.floor(K/65536)),ue=(K=ue+de+65535)-65536*(de=Math.floor(K/65536)),P=(K=P+de+65535)-65536*(de=Math.floor(K/65536)),q=(K=q+de+65535)-65536*(de=Math.floor(K/65536)),ge=(K=(ge+=de-1+37*(de-1))+(de=1)+65535)-65536*(de=Math.floor(K/65536)),o=(K=o+de+65535)-65536*(de=Math.floor(K/65536)),dt=(K=dt+de+65535)-65536*(de=Math.floor(K/65536)),gt=(K=gt+de+65535)-65536*(de=Math.floor(K/65536)),qt=(K=qt+de+65535)-65536*(de=Math.floor(K/65536)),Tn=(K=Tn+de+65535)-65536*(de=Math.floor(K/65536)),Wn=(K=Wn+de+65535)-65536*(de=Math.floor(K/65536)),en=(K=en+de+65535)-65536*(de=Math.floor(K/65536)),Ln=(K=Ln+de+65535)-65536*(de=Math.floor(K/65536)),ni=(K=ni+de+65535)-65536*(de=Math.floor(K/65536)),mt=(K=mt+de+65535)-65536*(de=Math.floor(K/65536)),Jt=(K=Jt+de+65535)-65536*(de=Math.floor(K/65536)),he=(K=he+de+65535)-65536*(de=Math.floor(K/65536)),ue=(K=ue+de+65535)-65536*(de=Math.floor(K/65536)),P=(K=P+de+65535)-65536*(de=Math.floor(K/65536)),q=(K=q+de+65535)-65536*(de=Math.floor(K/65536)),st[0]=ge+=de-1+37*(de-1),st[1]=o,st[2]=dt,st[3]=gt,st[4]=qt,st[5]=Tn,st[6]=Wn,st[7]=en,st[8]=Ln,st[9]=ni,st[10]=mt,st[11]=Jt,st[12]=he,st[13]=ue,st[14]=P,st[15]=q}},779:(ot,ve,l)=>{"use strict";l.d(ve,{I8:()=>Xe,hZ:()=>Qe,Q_:()=>ne});var t=l(1360),a=l(6932),p=l(2806),A=l(9377),e=l(9361),w=l(8434),m=l(6697);function D(K){return null!=K&&"false"!=`${K}`}let S;try{S=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S=!1}let g=(()=>{class K{constructor(ge){this._platformId=ge,this.isBrowser=this._platformId?(0,A.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(o){return new(o||K)(t.KVO(t.Agw))}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),Y=(()=>{class K{constructor(ge){this._platform=ge}isDisabled(ge){return ge.hasAttribute("disabled")}isVisible(ge){return function E(K){return!!(K.offsetWidth||K.offsetHeight||"function"==typeof K.getClientRects&&K.getClientRects().length)}(ge)&&"visible"===getComputedStyle(ge).visibility}isTabbable(ge){if(!this._platform.isBrowser)return!1;const o=function u(K){try{return K.frameElement}catch{return null}}(function L(K){return K.ownerDocument&&K.ownerDocument.defaultView||window}(ge));if(o&&(-1===z(o)||!this.isVisible(o)))return!1;let dt=ge.nodeName.toLowerCase(),gt=z(ge);return ge.hasAttribute("contenteditable")?-1!==gt:!("iframe"===dt||"object"===dt||this._platform.WEBKIT&&this._platform.IOS&&!function Z(K){let de=K.nodeName.toLowerCase(),ge="input"===de&&K.type;return"text"===ge||"password"===ge||"select"===de||"textarea"===de}(ge))&&("audio"===dt?!!ge.hasAttribute("controls")&&-1!==gt:"video"===dt?-1!==gt&&(null!==gt||this._platform.FIREFOX||ge.hasAttribute("controls")):ge.tabIndex>=0)}isFocusable(ge,o){return function v(K){return!function V(K){return function M(K){return"input"==K.nodeName.toLowerCase()}(K)&&"hidden"==K.type}(K)&&(function B(K){let de=K.nodeName.toLowerCase();return"input"===de||"select"===de||"button"===de||"textarea"===de}(K)||function F(K){return function W(K){return"a"==K.nodeName.toLowerCase()}(K)&&K.hasAttribute("href")}(K)||K.hasAttribute("contenteditable")||y(K))}(ge)&&!this.isDisabled(ge)&&(o?.ignoreVisibility||this.isVisible(ge))}static{this.\u0275fac=function(o){return new(o||K)(t.KVO(g))}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();function y(K){if(!K.hasAttribute("tabindex")||void 0===K.tabIndex)return!1;let de=K.getAttribute("tabindex");return"-32768"!=de&&!(!de||isNaN(parseInt(de,10)))}function z(K){if(!y(K))return null;const de=parseInt(K.getAttribute("tabindex")||"",10);return isNaN(de)?-1:de}let J=(()=>{class K{constructor(){this._focusTrapStack=[]}register(ge){this._focusTrapStack=this._focusTrapStack.filter(dt=>dt!==ge);let o=this._focusTrapStack;o.length&&o[o.length-1]._disable(),o.push(ge),ge._enable()}deregister(ge){ge._disable();const o=this._focusTrapStack,dt=o.indexOf(ge);-1!==dt&&(o.splice(dt,1),o.length&&o[o.length-1]._enable())}static{this.\u0275fac=function(o){return new(o||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();class te{get enabled(){return this._enabled}set enabled(de){this._enabled=de,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(de,this._startAnchor),this._toggleAnchorTabIndex(de,this._endAnchor))}constructor(de,ge,o,dt,gt=!1){this._element=de,this._checker=ge,this._ngZone=o,this._document=dt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,gt||this.attachAnchors()}destroy(){const de=this._startAnchor,ge=this._endAnchor;de&&(de.removeEventListener("focus",this.startAnchorListener),de.parentNode&&de.parentNode.removeChild(de)),ge&&(ge.removeEventListener("focus",this.endAnchorListener),ge.parentNode&&ge.parentNode.removeChild(ge)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(de=>{this._executeOnStable(()=>de(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(de=>{this._executeOnStable(()=>de(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(de=>{this._executeOnStable(()=>de(this.focusLastTabbableElement()))})}_getRegionBoundary(de){let ge=this._element.querySelectorAll(`[cdk-focus-region-${de}], [cdkFocusRegion${de}], [cdk-focus-${de}]`);for(let o=0;o<ge.length;o++)ge[o].hasAttribute(`cdk-focus-${de}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${de}', use 'cdkFocusRegion${de}' instead. The deprecated attribute will be removed in 8.0.0.`,ge[o]):ge[o].hasAttribute(`cdk-focus-region-${de}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${de}', use 'cdkFocusRegion${de}' instead. The deprecated attribute will be removed in 8.0.0.`,ge[o]);return"start"==de?ge.length?ge[0]:this._getFirstTabbableElement(this._element):ge.length?ge[ge.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const de=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(de){if(de.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",de),!this._checker.isFocusable(de)){const ge=this._getFirstTabbableElement(de);return ge?.focus(),!!ge}return de.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const de=this._getRegionBoundary("start");return de&&de.focus(),!!de}focusLastTabbableElement(){const de=this._getRegionBoundary("end");return de&&de.focus(),!!de}hasAttached(){return this._hasAttached}_getFirstTabbableElement(de){if(this._checker.isFocusable(de)&&this._checker.isTabbable(de))return de;let ge=de.children||de.childNodes;for(let o=0;o<ge.length;o++){let dt=ge[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ge[o]):null;if(dt)return dt}return null}_getLastTabbableElement(de){if(this._checker.isFocusable(de)&&this._checker.isTabbable(de))return de;let ge=de.children||de.childNodes;for(let o=ge.length-1;o>=0;o--){let dt=ge[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ge[o]):null;if(dt)return dt}return null}_createAnchor(){const de=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,de),de.classList.add("cdk-visually-hidden"),de.classList.add("cdk-focus-trap-anchor"),de.setAttribute("aria-hidden","true"),de}_toggleAnchorTabIndex(de,ge){de?ge.setAttribute("tabindex","0"):ge.removeAttribute("tabindex")}toggleAnchors(de){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(de,this._startAnchor),this._toggleAnchorTabIndex(de,this._endAnchor))}_executeOnStable(de){this._ngZone.isStable?de():this._ngZone.onStable.pipe((0,m.s)(1)).subscribe(de)}}let N=(()=>{class K{constructor(ge,o,dt){this._checker=ge,this._ngZone=o,this._document=dt}create(ge,o=!1){return new te(ge,this._checker,this._ngZone,this._document,o)}static{this.\u0275fac=function(o){return new(o||K)(t.KVO(Y),t.KVO(t.SKi),t.KVO(e.q))}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),fe=(()=>{class K{get enabled(){return this.focusTrap.enabled}set enabled(ge){this.focusTrap.enabled=D(ge)}get autoCapture(){return this._autoCapture}set autoCapture(ge){this._autoCapture=D(ge)}constructor(ge,o,dt){this._elementRef=ge,this._focusTrapFactory=o,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=dt,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(ge){const o=ge.autoCapture;o&&!o.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(o){return new(o||K)(t.rXU(t.aKT),t.rXU(N),t.rXU(e.q))}}static{this.\u0275dir=t.FsC({type:K,selectors:[["","focusTrap",""]],inputs:{enabled:[0,"cdkTrapFocus","enabled"],autoCapture:[0,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[t.Jv_([J,g,Y]),t.OA$]})}}return K})(),oe=(()=>{class K{static forRoot(){return{ngModule:K,providers:[]}}static{this.\u0275fac=function(o){return new(o||K)}}static{this.\u0275mod=t.$C({type:K})}static{this.\u0275inj=t.G2t({imports:[w.MD]})}}return K})();var R=l(2865);const Pe=["*"];let Te=(()=>{class K{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(o){return new(o||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"platform"})}}return K})(),rt=(()=>{class K{static{this.\u0275fac=function(o){return new(o||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"platform"})}}return K})();const lt={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},vt=new t.nKC("override-default-config"),je_OPEN="modal-open";let Ve=(()=>{class K{get isAnimated(){return this._isAnimated}set isAnimated(ge){this._isAnimated=ge}get isShown(){return this._isShown}set isShown(ge){this._isShown=ge,ge?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(ge,o){this._isAnimated=!1,this._isShown=!1,this.element=ge,this.renderer=o}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),p.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(o){return new(o||K)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(o,dt){},encapsulation:2})}}return K})(),Be=1,Xe=(()=>{class K{constructor(ge,o,dt){this.clf=o,this.modalDefaultOption=dt,this.onShow=new t.bkB,this.onShown=new t.bkB,this.onHide=new t.bkB,this.onHidden=new t.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastHiddenId=null,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=ge.createRenderer(null,null),this.config=dt?Object.assign({},lt,dt):lt}show(ge,o){this._focusEl=p.Al.activeElement,this.modalsCount++,this.lastHiddenId=null,this._createLoaders();const dt=o?.id||Be++;return this.config=this.modalDefaultOption?Object.assign({},lt,this.modalDefaultOption,o):Object.assign({},lt,o),this.config.id=dt,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(ge)}hide(ge){this.lastHiddenId!==ge&&(this.lastHiddenId=ge,(1===this.modalsCount||null==ge)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=ge?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(ge),this.removeLoaders(ge)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus())}_showBackdrop(){const ge=!0===this.config.backdrop||"static"===this.config.backdrop,o=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),ge&&o&&(this._backdropLoader.attach(Ve).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(ge){const o=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const qt of this.config.providers)o.provide(qt);const dt=new Te,gt=o.provide({provide:rt,useValue:this.config}).provide({provide:Te,useValue:dt}).attach(Ue).to("body");return dt.hide=()=>gt.instance?.hide(),dt.setClass=qt=>{gt.instance&&(gt.instance.config.class=qt)},dt.onHidden=new t.bkB,dt.onHide=new t.bkB,this.copyEvent(o.onBeforeHide,dt.onHide),this.copyEvent(o.onHidden,dt.onHidden),gt.show({content:ge,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),gt.instance&&(gt.instance.level=this.getModalsCount(),dt.content=o.getInnerComponent(),dt.id=gt.instance.config?.id),dt}_hideModal(ge){if(null!=ge){const o=this.loaders.findIndex(gt=>gt.instance?.config.id===ge),dt=this.loaders[o];dt&&dt.hide(ge)}else this.loaders.forEach(o=>{o.instance&&o.hide(o.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(ge){this.lastDismissReason=ge}removeBackdrop(){this._renderer.removeClass(p.Al.body,je_OPEN),this._renderer.setStyle(p.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=p.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){p.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(p.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(p.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){p.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ge=this._renderer.createElement("div");this._renderer.addClass(ge,"modal-scrollbar-measure"),this._renderer.appendChild(p.Al.body,ge);const o=ge.offsetWidth-ge.clientWidth;return this._renderer.removeChild(p.Al.body,ge),o}_createLoaders(){const ge=this.clf.createLoader();this.copyEvent(ge.onBeforeShow,this.onShow),this.copyEvent(ge.onShown,this.onShown),this.copyEvent(ge.onBeforeHide,this.onHide),this.copyEvent(ge.onHidden,this.onHidden),this.loaders.push(ge)}removeLoaders(ge){if(null!=ge){const o=this.loaders.findIndex(dt=>dt.instance?.config.id===ge);o>=0&&(this.loaders.splice(o,1),this.loaders.forEach((dt,gt)=>{dt.instance&&(dt.instance.level=gt+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(ge,o){ge.subscribe(dt=>{o.emit(this.lastDismissReason||dt)})}static{this.\u0275fac=function(o){return new(o||K)(t.KVO(t._9s),t.KVO(a.Li),t.KVO(vt,8))}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"platform"})}}return K})(),Ue=(()=>{class K{constructor(ge,o,dt){this._element=o,this._renderer=dt,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},ge)}ngOnInit(){this._focusEl=p.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),p.Al&&p.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(p.Al.body,je_OPEN),this._renderer.setStyle(p.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(ge){this.clickStartedInContent=ge.target!==this._element.nativeElement}onClickStop(ge){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ge.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(ge){this.isShown&&((27===ge.keyCode||"Escape"===ge.key)&&ge.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,this.bsModalService?.hide(this.config.id),p.Al&&p.Al.body&&0===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(p.Al.body,je_OPEN),this._renderer.setStyle(p.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(o){return new(o||K)(t.rXU(rt),t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(o,dt){1&o&&t.bIt("mousedown",function(qt){return dt.onClickStarted(qt)})("click",function(qt){return dt.onClickStop(qt)})("popstate",function(){return dt.onPopState()},!1,t.tSv)("keydown.esc",function(qt){return dt.onEsc(qt)},!1,t.tSv),2&o&&t.BMQ("aria-modal",!0)("aria-labelledby",dt.config.ariaLabelledBy)("aria-describedby",dt.config.ariaDescribedby)},features:[t.Jv_([Xe])],ngContentSelectors:Pe,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(o,dt){1&o&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s()()),2&o&&t.HbH("modal-dialog"+(dt.config.class?" "+dt.config.class:""))},dependencies:[fe],encapsulation:2})}}return K})(),Qe=(()=>{class K{set config(ge){this._config=this.getConfig(ge)}get config(){return this._config}get isShown(){return this._isShown}constructor(ge,o,dt,gt,qt){this._element=ge,this._renderer=dt,this.onShow=new t.bkB,this.onShown=new t.bkB,this.onHide=new t.bkB,this.onHidden=new t.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=gt.createLoader(ge,o,dt),this._config=qt||lt}onClickStarted(ge){this.clickStartedInContent=ge.target!==this._element.nativeElement}onClickStop(ge){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ge.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(ge))}onEsc(ge){this._isShown&&((27===ge.keyCode||"Escape"===ge.key)&&ge.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),p.Al&&p.Al.body&&(p.Al.body.classList.contains(je_OPEN)?this.isNested=!0:(this._renderer.addClass(p.Al.body,je_OPEN),this._renderer.setStyle(p.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(ge){if(this._isShown){if(ge&&ge.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),p.x.clearTimeout(this.timerHideModal),p.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=p.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(ge){return Object.assign({},this._config,ge)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&p.Al&&p.Al.body&&p.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&p.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const ge=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(ge,300):ge()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(p.Al&&p.Al.body&&(this._renderer.removeClass(p.Al.body,je_OPEN),this._renderer.setStyle(p.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(ge){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const o=()=>{this.removeBackdrop(),ge&&ge()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=p.x.setTimeout(o,150):o()}else ge&&ge();else{if(this.removeBackdrop(),this._backdrop.attach(Ve).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!ge)return;if(!this._config.animated)return void ge();setTimeout(ge,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const ge=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");ge.length&&ge[ge.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=p.Al.body.clientWidth<p.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){p.Al&&(this.originalBodyPadding=parseInt(p.x.getComputedStyle(p.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(p.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){p.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ge=this._renderer.createElement("div");this._renderer.addClass(ge,"modal-scrollbar-measure"),this._renderer.appendChild(p.Al.body,ge);const o=ge.offsetWidth-ge.clientWidth;return this._renderer.removeChild(p.Al.body,ge),o}static{this.\u0275fac=function(o){return new(o||K)(t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.sFG),t.rXU(a.Li),t.rXU(vt,8))}}static{this.\u0275dir=t.FsC({type:K,selectors:[["","bsModal",""]],hostBindings:function(o,dt){1&o&&t.bIt("mousedown",function(qt){return dt.onClickStarted(qt)})("mouseup",function(qt){return dt.onClickStop(qt)})("keydown.esc",function(qt){return dt.onEsc(qt)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return K})(),ne=(()=>{class K{static forRoot(){return{ngModule:K,providers:[Xe,a.Li,R.DF]}}static forChild(){return{ngModule:K,providers:[Xe,a.Li,R.DF]}}static{this.\u0275fac=function(o){return new(o||K)}}static{this.\u0275mod=t.$C({type:K})}static{this.\u0275inj=t.G2t({imports:[oe]})}}return K})()},785:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>a});var t=l(9838);class a{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new t.S9).SharedSecret}}},803:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>A});var t=l(1360);const a=[[["","left",""]],[["","right",""]]],p=["[left]","[right]"];let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-row-bar"]],standalone:!1,ngContentSelectors:p,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(D,S){1&D&&(t.NAR(a),t.j41(0,"div",0),t.SdG(1),t.j41(2,"div",1),t.SdG(3,1),t.k0s()())},encapsulation:2})}}return e})()},812:(ot,ve,l)=>{var t=l(6589),a=l(3175),p=ot.exports=t.util=t.util||{};function A(M){if(8!==M&&16!==M&&24!==M&&32!==M)throw new Error("Only 8, 16, 24, or 32 bits supported: "+M)}function e(M){if(this.data="",this.read=0,"string"==typeof M)this.data=M;else if(p.isArrayBuffer(M)||p.isArrayBufferView(M))if(typeof Buffer<"u"&&M instanceof Buffer)this.data=M.toString("binary");else{var W=new Uint8Array(M);try{this.data=String.fromCharCode.apply(null,W)}catch{for(var y=0;y<W.length;++y)this.putByte(W[y])}}else(M instanceof e||"object"==typeof M&&"string"==typeof M.data&&"number"==typeof M.read)&&(this.data=M.data,this.read=M.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return p.nextTick=process.nextTick,void(p.setImmediate="function"==typeof setImmediate?setImmediate:p.nextTick);if("function"==typeof setImmediate)return p.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(p.nextTick=function(J){return setImmediate(J)});if(p.setImmediate=function(J){setTimeout(J,0)},typeof window<"u"&&"function"==typeof window.postMessage){let J=function(te){if(te.source===window&&te.data===M){te.stopPropagation();var N=W.slice();W.length=0,N.forEach(function(fe){fe()})}};var M="forge.setImmediate",W=[];p.setImmediate=function(te){W.push(te),1===W.length&&window.postMessage(M,"*")},window.addEventListener("message",J,!0)}if(typeof MutationObserver<"u"){var y=Date.now(),z=!0,Z=document.createElement("div");W=[],new MutationObserver(function(){var te=W.slice();W.length=0,te.forEach(function(N){N()})}).observe(Z,{attributes:!0});var v=p.setImmediate;p.setImmediate=function(te){Date.now()-y>15?(y=Date.now(),v(te)):(W.push(te),1===W.length&&Z.setAttribute("a",z=!z))}}p.nextTick=p.setImmediate})(),p.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,p.globalScope=p.isNodejs?global:typeof self>"u"?window:self,p.isArray=Array.isArray||function(M){return"[object Array]"===Object.prototype.toString.call(M)},p.isArrayBuffer=function(M){return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer},p.isArrayBufferView=function(M){return M&&p.isArrayBuffer(M.buffer)&&void 0!==M.byteLength},p.ByteBuffer=e,p.ByteStringBuffer=e,p.ByteStringBuffer.prototype._optimizeConstructedString=function(M){this._constructedStringLength+=M,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},p.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},p.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},p.ByteStringBuffer.prototype.putByte=function(M){return this.putBytes(String.fromCharCode(M))},p.ByteStringBuffer.prototype.fillWithByte=function(M,W){M=String.fromCharCode(M);for(var y=this.data;W>0;)1&W&&(y+=M),(W>>>=1)>0&&(M+=M);return this.data=y,this._optimizeConstructedString(W),this},p.ByteStringBuffer.prototype.putBytes=function(M){return this.data+=M,this._optimizeConstructedString(M.length),this},p.ByteStringBuffer.prototype.putString=function(M){return this.putBytes(p.encodeUtf8(M))},p.ByteStringBuffer.prototype.putInt16=function(M){return this.putBytes(String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},p.ByteStringBuffer.prototype.putInt24=function(M){return this.putBytes(String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},p.ByteStringBuffer.prototype.putInt32=function(M){return this.putBytes(String.fromCharCode(M>>24&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},p.ByteStringBuffer.prototype.putInt16Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255))},p.ByteStringBuffer.prototype.putInt24Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255)+String.fromCharCode(M>>16&255))},p.ByteStringBuffer.prototype.putInt32Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>24&255))},p.ByteStringBuffer.prototype.putInt=function(M,W){A(W);var y="";do{W-=8,y+=String.fromCharCode(M>>W&255)}while(W>0);return this.putBytes(y)},p.ByteStringBuffer.prototype.putSignedInt=function(M,W){return M<0&&(M+=2<<W-1),this.putInt(M,W)},p.ByteStringBuffer.prototype.putBuffer=function(M){return this.putBytes(M.getBytes())},p.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},p.ByteStringBuffer.prototype.getInt16=function(){var M=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,M},p.ByteStringBuffer.prototype.getInt24=function(){var M=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,M},p.ByteStringBuffer.prototype.getInt32=function(){var M=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,M},p.ByteStringBuffer.prototype.getInt16Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,M},p.ByteStringBuffer.prototype.getInt24Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,M},p.ByteStringBuffer.prototype.getInt32Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,M},p.ByteStringBuffer.prototype.getInt=function(M){A(M);var W=0;do{W=(W<<8)+this.data.charCodeAt(this.read++),M-=8}while(M>0);return W},p.ByteStringBuffer.prototype.getSignedInt=function(M){var W=this.getInt(M),y=2<<M-2;return W>=y&&(W-=y<<1),W},p.ByteStringBuffer.prototype.getBytes=function(M){var W;return M?(M=Math.min(this.length(),M),W=this.data.slice(this.read,this.read+M),this.read+=M):0===M?W="":(W=0===this.read?this.data:this.data.slice(this.read),this.clear()),W},p.ByteStringBuffer.prototype.bytes=function(M){return typeof M>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+M)},p.ByteStringBuffer.prototype.at=function(M){return this.data.charCodeAt(this.read+M)},p.ByteStringBuffer.prototype.setAt=function(M,W){return this.data=this.data.substr(0,this.read+M)+String.fromCharCode(W)+this.data.substr(this.read+M+1),this},p.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},p.ByteStringBuffer.prototype.copy=function(){var M=p.createBuffer(this.data);return M.read=this.read,M},p.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},p.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},p.ByteStringBuffer.prototype.truncate=function(M){var W=Math.max(0,this.length()-M);return this.data=this.data.substr(this.read,W),this.read=0,this},p.ByteStringBuffer.prototype.toHex=function(){for(var M="",W=this.read;W<this.data.length;++W){var y=this.data.charCodeAt(W);y<16&&(M+="0"),M+=y.toString(16)}return M},p.ByteStringBuffer.prototype.toString=function(){return p.decodeUtf8(this.bytes())},p.DataBuffer=function m(M,W){this.read=(W=W||{}).readOffset||0,this.growSize=W.growSize||1024;var y=p.isArrayBuffer(M),z=p.isArrayBufferView(M);if(y||z)return this.data=y?new DataView(M):new DataView(M.buffer,M.byteOffset,M.byteLength),void(this.write="writeOffset"in W?W.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=M&&this.putBytes(M),"writeOffset"in W&&(this.write=W.writeOffset)},p.DataBuffer.prototype.length=function(){return this.write-this.read},p.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},p.DataBuffer.prototype.accommodate=function(M,W){if(this.length()>=M)return this;W=Math.max(W||this.growSize,M);var y=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),z=new Uint8Array(this.length()+W);return z.set(y),this.data=new DataView(z.buffer),this},p.DataBuffer.prototype.putByte=function(M){return this.accommodate(1),this.data.setUint8(this.write++,M),this},p.DataBuffer.prototype.fillWithByte=function(M,W){this.accommodate(W);for(var y=0;y<W;++y)this.data.setUint8(M);return this},p.DataBuffer.prototype.putBytes=function(M,W){if(p.isArrayBufferView(M)){var z=(y=new Uint8Array(M.buffer,M.byteOffset,M.byteLength)).byteLength-y.byteOffset;return this.accommodate(z),new Uint8Array(this.data.buffer,this.write).set(y),this.write+=z,this}if(p.isArrayBuffer(M)){var y=new Uint8Array(M);return this.accommodate(y.byteLength),new Uint8Array(this.data.buffer).set(y,this.write),this.write+=y.byteLength,this}if(M instanceof p.DataBuffer||"object"==typeof M&&"number"==typeof M.read&&"number"==typeof M.write&&p.isArrayBufferView(M.data))return y=new Uint8Array(M.data.byteLength,M.read,M.length()),this.accommodate(y.byteLength),new Uint8Array(M.data.byteLength,this.write).set(y),this.write+=y.byteLength,this;if(M instanceof p.ByteStringBuffer&&(M=M.data,W="binary"),W=W||"binary","string"==typeof M){var v;if("hex"===W)return this.accommodate(Math.ceil(M.length/2)),v=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.hex.decode(M,v,this.write),this;if("base64"===W)return this.accommodate(3*Math.ceil(M.length/4)),v=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.base64.decode(M,v,this.write),this;if("utf8"===W&&(M=p.encodeUtf8(M),W="binary"),"binary"===W||"raw"===W)return this.accommodate(M.length),v=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.raw.decode(v),this;if("utf16"===W)return this.accommodate(2*M.length),v=new Uint16Array(this.data.buffer,this.write),this.write+=p.text.utf16.encode(v),this;throw new Error("Invalid encoding: "+W)}throw Error("Invalid parameter: "+M)},p.DataBuffer.prototype.putBuffer=function(M){return this.putBytes(M),M.clear(),this},p.DataBuffer.prototype.putString=function(M){return this.putBytes(M,"utf16")},p.DataBuffer.prototype.putInt16=function(M){return this.accommodate(2),this.data.setInt16(this.write,M),this.write+=2,this},p.DataBuffer.prototype.putInt24=function(M){return this.accommodate(3),this.data.setInt16(this.write,M>>8&65535),this.data.setInt8(this.write,M>>16&255),this.write+=3,this},p.DataBuffer.prototype.putInt32=function(M){return this.accommodate(4),this.data.setInt32(this.write,M),this.write+=4,this},p.DataBuffer.prototype.putInt16Le=function(M){return this.accommodate(2),this.data.setInt16(this.write,M,!0),this.write+=2,this},p.DataBuffer.prototype.putInt24Le=function(M){return this.accommodate(3),this.data.setInt8(this.write,M>>16&255),this.data.setInt16(this.write,M>>8&65535,!0),this.write+=3,this},p.DataBuffer.prototype.putInt32Le=function(M){return this.accommodate(4),this.data.setInt32(this.write,M,!0),this.write+=4,this},p.DataBuffer.prototype.putInt=function(M,W){A(W),this.accommodate(W/8);do{W-=8,this.data.setInt8(this.write++,M>>W&255)}while(W>0);return this},p.DataBuffer.prototype.putSignedInt=function(M,W){return A(W),this.accommodate(W/8),M<0&&(M+=2<<W-1),this.putInt(M,W)},p.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},p.DataBuffer.prototype.getInt16=function(){var M=this.data.getInt16(this.read);return this.read+=2,M},p.DataBuffer.prototype.getInt24=function(){var M=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,M},p.DataBuffer.prototype.getInt32=function(){var M=this.data.getInt32(this.read);return this.read+=4,M},p.DataBuffer.prototype.getInt16Le=function(){var M=this.data.getInt16(this.read,!0);return this.read+=2,M},p.DataBuffer.prototype.getInt24Le=function(){var M=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,M},p.DataBuffer.prototype.getInt32Le=function(){var M=this.data.getInt32(this.read,!0);return this.read+=4,M},p.DataBuffer.prototype.getInt=function(M){A(M);var W=0;do{W=(W<<8)+this.data.getInt8(this.read++),M-=8}while(M>0);return W},p.DataBuffer.prototype.getSignedInt=function(M){var W=this.getInt(M),y=2<<M-2;return W>=y&&(W-=y<<1),W},p.DataBuffer.prototype.getBytes=function(M){var W;return M?(M=Math.min(this.length(),M),W=this.data.slice(this.read,this.read+M),this.read+=M):0===M?W="":(W=0===this.read?this.data:this.data.slice(this.read),this.clear()),W},p.DataBuffer.prototype.bytes=function(M){return typeof M>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+M)},p.DataBuffer.prototype.at=function(M){return this.data.getUint8(this.read+M)},p.DataBuffer.prototype.setAt=function(M,W){return this.data.setUint8(M,W),this},p.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},p.DataBuffer.prototype.copy=function(){return new p.DataBuffer(this)},p.DataBuffer.prototype.compact=function(){if(this.read>0){var M=new Uint8Array(this.data.buffer,this.read),W=new Uint8Array(M.byteLength);W.set(M),this.data=new DataView(W),this.write-=this.read,this.read=0}return this},p.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},p.DataBuffer.prototype.truncate=function(M){return this.write=Math.max(0,this.length()-M),this.read=Math.min(this.read,this.write),this},p.DataBuffer.prototype.toHex=function(){for(var M="",W=this.read;W<this.data.byteLength;++W){var y=this.data.getUint8(W);y<16&&(M+="0"),M+=y.toString(16)}return M},p.DataBuffer.prototype.toString=function(M){var W=new Uint8Array(this.data,this.read,this.length());if("binary"===(M=M||"utf8")||"raw"===M)return p.binary.raw.encode(W);if("hex"===M)return p.binary.hex.encode(W);if("base64"===M)return p.binary.base64.encode(W);if("utf8"===M)return p.text.utf8.decode(W);if("utf16"===M)return p.text.utf16.decode(W);throw new Error("Invalid encoding: "+M)},p.createBuffer=function(M,W){return W=W||"raw",void 0!==M&&"utf8"===W&&(M=p.encodeUtf8(M)),new p.ByteBuffer(M)},p.fillString=function(M,W){for(var y="";W>0;)1&W&&(y+=M),(W>>>=1)>0&&(M+=M);return y},p.xorBytes=function(M,W,y){for(var z="",Z="",v="",L=0,J=0;y>0;--y,++L)Z=M.charCodeAt(L)^W.charCodeAt(L),J>=10&&(z+=v,v="",J=0),v+=String.fromCharCode(Z),++J;return z+v},p.hexToBytes=function(M){var W="",y=0;for(!0&M.length&&(y=1,W+=String.fromCharCode(parseInt(M[0],16)));y<M.length;y+=2)W+=String.fromCharCode(parseInt(M.substr(y,2),16));return W},p.bytesToHex=function(M){return p.createBuffer(M).toHex()},p.int32ToBytes=function(M){return String.fromCharCode(M>>24&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M)};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],g="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";p.encode64=function(M,W){for(var Z,v,L,y="",z="",J=0;J<M.length;)Z=M.charCodeAt(J++),v=M.charCodeAt(J++),L=M.charCodeAt(J++),y+=D.charAt(Z>>2),y+=D.charAt((3&Z)<<4|v>>4),isNaN(v)?y+="==":(y+=D.charAt((15&v)<<2|L>>6),y+=isNaN(L)?"=":D.charAt(63&L)),W&&y.length>W&&(z+=y.substr(0,W)+"\r\n",y=y.substr(W));return z+y},p.decode64=function(M){M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var y,z,Z,v,W="",L=0;L<M.length;)y=S[M.charCodeAt(L++)-43],z=S[M.charCodeAt(L++)-43],Z=S[M.charCodeAt(L++)-43],v=S[M.charCodeAt(L++)-43],W+=String.fromCharCode(y<<2|z>>4),64!==Z&&(W+=String.fromCharCode((15&z)<<4|Z>>2),64!==v&&(W+=String.fromCharCode((3&Z)<<6|v)));return W},p.encodeUtf8=function(M){return unescape(encodeURIComponent(M))},p.decodeUtf8=function(M){return decodeURIComponent(escape(M))},p.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},p.binary.raw.encode=function(M){return String.fromCharCode.apply(null,M)},p.binary.raw.decode=function(M,W,y){var z=W;z||(z=new Uint8Array(M.length));for(var Z=y=y||0,v=0;v<M.length;++v)z[Z++]=M.charCodeAt(v);return W?Z-y:z},p.binary.hex.encode=p.bytesToHex,p.binary.hex.decode=function(M,W,y){var z=W;z||(z=new Uint8Array(Math.ceil(M.length/2)));var Z=0,v=y=y||0;for(1&M.length&&(Z=1,z[v++]=parseInt(M[0],16));Z<M.length;Z+=2)z[v++]=parseInt(M.substr(Z,2),16);return W?v-y:z},p.binary.base64.encode=function(M,W){for(var Z,v,L,y="",z="",J=0;J<M.byteLength;)Z=M[J++],v=M[J++],L=M[J++],y+=D.charAt(Z>>2),y+=D.charAt((3&Z)<<4|v>>4),isNaN(v)?y+="==":(y+=D.charAt((15&v)<<2|L>>6),y+=isNaN(L)?"=":D.charAt(63&L)),W&&y.length>W&&(z+=y.substr(0,W)+"\r\n",y=y.substr(W));return z+y},p.binary.base64.decode=function(M,W,y){var z=W;z||(z=new Uint8Array(3*Math.ceil(M.length/4))),M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var Z,v,L,J,te=0,N=y=y||0;te<M.length;)Z=S[M.charCodeAt(te++)-43],v=S[M.charCodeAt(te++)-43],L=S[M.charCodeAt(te++)-43],J=S[M.charCodeAt(te++)-43],z[N++]=Z<<2|v>>4,64!==L&&(z[N++]=(15&v)<<4|L>>2,64!==J&&(z[N++]=(3&L)<<6|J));return W?N-y:z.subarray(0,N)},p.binary.base58.encode=function(M,W){return p.binary.baseN.encode(M,g,W)},p.binary.base58.decode=function(M,W){return p.binary.baseN.decode(M,g,W)},p.text={utf8:{},utf16:{}},p.text.utf8.encode=function(M,W,y){M=p.encodeUtf8(M);var z=W;z||(z=new Uint8Array(M.length));for(var Z=y=y||0,v=0;v<M.length;++v)z[Z++]=M.charCodeAt(v);return W?Z-y:z},p.text.utf8.decode=function(M){return p.decodeUtf8(String.fromCharCode.apply(null,M))},p.text.utf16.encode=function(M,W,y){var z=W;z||(z=new Uint8Array(2*M.length));for(var Z=new Uint16Array(z.buffer),v=y=y||0,L=y,J=0;J<M.length;++J)Z[L++]=M.charCodeAt(J),v+=2;return W?v-y:z},p.text.utf16.decode=function(M){return String.fromCharCode.apply(null,new Uint16Array(M.buffer))},p.deflate=function(M,W,y){if(W=p.decode64(M.deflate(p.encode64(W)).rval),y){var z=2;32&W.charCodeAt(1)&&(z=6),W=W.substring(z,W.length-4)}return W},p.inflate=function(M,W,y){var z=M.inflate(p.encode64(W)).rval;return null===z?null:p.decode64(z)};var k=function(M,W,y){if(!M)throw new Error("WebStorage not available.");var z;if(null===y?z=M.removeItem(W):(y=p.encode64(JSON.stringify(y)),z=M.setItem(W,y)),typeof z<"u"&&!0!==z.rval){var Z=new Error(z.error.message);throw Z.id=z.error.id,Z.name=z.error.name,Z}},Y=function(M,W){if(!M)throw new Error("WebStorage not available.");var y=M.getItem(W);if(M.init)if(null===y.rval){if(y.error){var z=new Error(y.error.message);throw z.id=y.error.id,z.name=y.error.name,z}y=null}else y=y.rval;return null!==y&&(y=JSON.parse(p.decode64(y))),y},u=function(M,W,y,z){var Z=Y(M,W);null===Z&&(Z={}),Z[y]=z,k(M,W,Z)},E=function(M,W,y){var z=Y(M,W);return null!==z&&(z=y in z?z[y]:null),z},B=function(M,W,y){var z=Y(M,W);if(null!==z&&y in z){delete z[y];var Z=!0;for(var v in z){Z=!1;break}Z&&(z=null),k(M,W,z)}},V=function(M,W){k(M,W,null)},F=function(M,W,y){var z=null;typeof y>"u"&&(y=["web","flash"]);var Z,v=!1,L=null;for(var J in y){Z=y[J];try{if("flash"===Z||"both"===Z){if(null===W[0])throw new Error("Flash local storage not available.");z=M.apply(this,W),v="flash"===Z}("web"===Z||"both"===Z)&&(W[0]=localStorage,z=M.apply(this,W),v=!0)}catch(te){L=te}if(v)break}if(!v)throw L;return z};p.setItem=function(M,W,y,z,Z){F(u,arguments,Z)},p.getItem=function(M,W,y,z){return F(E,arguments,z)},p.removeItem=function(M,W,y,z){F(B,arguments,z)},p.clearItems=function(M,W,y){F(V,arguments,y)},p.isEmpty=function(M){for(var W in M)if(M.hasOwnProperty(W))return!1;return!0},p.format=function(M){for(var y,z,W=/%./g,Z=0,v=[],L=0;y=W.exec(M);){(z=M.substring(L,W.lastIndex-2)).length>0&&v.push(z),L=W.lastIndex;var J=y[0][1];switch(J){case"s":case"o":v.push(Z<arguments.length?arguments[1+Z++]:"<?>");break;case"%":v.push("%");break;default:v.push("<%"+J+"?>")}}return v.push(M.substring(L)),v.join("")},p.formatNumber=function(M,W,y,z){var Z=M,v=isNaN(W=Math.abs(W))?2:W,L=void 0===y?",":y,J=void 0===z?".":z,te=Z<0?"-":"",N=parseInt(Z=Math.abs(+Z||0).toFixed(v),10)+"",fe=N.length>3?N.length%3:0;return te+(fe?N.substr(0,fe)+J:"")+N.substr(fe).replace(/(\d{3})(?=\d)/g,"$1"+J)+(v?L+Math.abs(Z-N).toFixed(v).slice(2):"")},p.formatSize=function(M){return M>=1073741824?p.formatNumber(M/1073741824,2,".","")+" GiB":M>=1048576?p.formatNumber(M/1048576,2,".","")+" MiB":M>=1024?p.formatNumber(M/1024,0)+" KiB":p.formatNumber(M,0)+" bytes"},p.bytesFromIP=function(M){return-1!==M.indexOf(".")?p.bytesFromIPv4(M):-1!==M.indexOf(":")?p.bytesFromIPv6(M):null},p.bytesFromIPv4=function(M){if(4!==(M=M.split(".")).length)return null;for(var W=p.createBuffer(),y=0;y<M.length;++y){var z=parseInt(M[y],10);if(isNaN(z))return null;W.putByte(z)}return W.getBytes()},p.bytesFromIPv6=function(M){for(var W=0,y=2*(8-(M=M.split(":").filter(function(L){return 0===L.length&&++W,!0})).length+W),z=p.createBuffer(),Z=0;Z<8;++Z)if(M[Z]&&0!==M[Z].length){var v=p.hexToBytes(M[Z]);v.length<2&&z.putByte(0),z.putBytes(v)}else z.fillWithByte(0,y),y=0;return z.getBytes()},p.bytesToIP=function(M){return 4===M.length?p.bytesToIPv4(M):16===M.length?p.bytesToIPv6(M):null},p.bytesToIPv4=function(M){if(4!==M.length)return null;for(var W=[],y=0;y<M.length;++y)W.push(M.charCodeAt(y));return W.join(".")},p.bytesToIPv6=function(M){if(16!==M.length)return null;for(var W=[],y=[],z=0,Z=0;Z<M.length;Z+=2){for(var v=p.bytesToHex(M[Z]+M[Z+1]);"0"===v[0]&&"0"!==v;)v=v.substr(1);if("0"===v){var L=y[y.length-1],J=W.length;L&&J===L.end+1?(L.end=J,L.end-L.start>y[z].end-y[z].start&&(z=y.length-1)):y.push({start:J,end:J})}W.push(v)}if(y.length>0){var te=y[z];te.end-te.start>0&&(W.splice(te.start,te.end-te.start+1,""),0===te.start&&W.unshift(""),7===te.end&&W.push(""))}return W.join(":")},p.estimateCores=function(M,W){if("function"==typeof M&&(W=M,M={}),M=M||{},"cores"in p&&!M.update)return W(null,p.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return p.cores=navigator.hardwareConcurrency,W(null,p.cores);if(typeof Worker>"u")return p.cores=1,W(null,p.cores);if(typeof Blob>"u")return p.cores=2,W(null,p.cores);var y=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(L){for(var J=Date.now(),te=J+4;Date.now()<te;);self.postMessage({st:J,et:te})})}.toString(),")()"],{type:"application/javascript"}));!function z(L,J,te){if(0===J){var N=Math.floor(L.reduce(function(fe,oe){return fe+oe},0)/L.length);return p.cores=Math.max(1,N),URL.revokeObjectURL(y),W(null,p.cores)}!function Z(L,J){for(var te=[],N=[],fe=0;fe<L;++fe){var oe=new Worker(y);oe.addEventListener("message",function(R){if(N.push(R.data),N.length===L){for(var Pe=0;Pe<L;++Pe)te[Pe].terminate();J(null,N)}}),te.push(oe)}for(fe=0;fe<L;++fe)te[fe].postMessage(fe)}(te,function(fe,oe){L.push(function v(L,J){for(var te=[],N=0;N<L;++N)for(var fe=J[N],oe=te[N]=[],R=0;R<L;++R)if(N!==R){var Pe=J[R];(fe.st>Pe.st&&fe.st<Pe.et||Pe.st>fe.st&&Pe.st<fe.et)&&oe.push(R)}return te.reduce(function(Te,We){return Math.max(Te,We.length)},0)}(te,oe)),z(L,J-1,te)})}([],5,16)}},872:(ot,ve,l)=>{var t=l(6589);l(812),ot.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var a={},p=[],A=null;t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8;for(var e=0;e<t.log.levels.length;++e){var w=t.log.levels[e];a[w]={index:e,name:w.toUpperCase()}}t.log.logMessage=function(u){for(var E=a[u.level].index,B=0;B<p.length;++B){var V=p[B];V.flags&t.log.NO_LEVEL_CHECK?V.f(u):E<=a[V.level].index&&V.f(V,u)}},t.log.prepareStandard=function(u){"standard"in u||(u.standard=a[u.level].name+" ["+u.category+"] "+u.message)},t.log.prepareFull=function(u){if(!("full"in u)){var E=[u.message];E=E.concat([]),u.full=t.util.format.apply(this,E)}},t.log.prepareStandardFull=function(u){"standardFull"in u||(t.log.prepareStandard(u),u.standardFull=u.standard)};var m=["error","warning","info","debug","verbose"];for(e=0;e<m.length;++e)!function(E){t.log[E]=function(B,V){var F=Array.prototype.slice.call(arguments).slice(2);t.log.logMessage({timestamp:new Date,level:E,category:B,message:V,arguments:F})}}(m[e]);if(t.log.makeLogger=function(u){var E={flags:0,f:u};return t.log.setLevel(E,"none"),E},t.log.setLevel=function(u,E){var B=!1;if(u&&!(u.flags&t.log.LEVEL_LOCKED))for(var V=0;V<t.log.levels.length;++V)if(E==t.log.levels[V]){u.level=E,B=!0;break}return B},t.log.lock=function(u,E){typeof E>"u"||E?u.flags|=t.log.LEVEL_LOCKED:u.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(u){p.push(u)},typeof console<"u"&&"log"in console){var D;if(console.error&&console.warn&&console.info&&console.debug){var S={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},g=function(u,E){t.log.prepareStandard(E);var B=S[E.level],V=[E.standard];V=V.concat(E.arguments.slice()),B.apply(console,V)};D=t.log.makeLogger(g)}else g=function(E,B){t.log.prepareStandardFull(B),console.log(B.standardFull)},D=t.log.makeLogger(g);t.log.setLevel(D,"debug"),t.log.addLogger(D),A=D}else console={log:function(){}};if(null!==A&&typeof window<"u"&&window.location){var k=new URL(window.location.href).searchParams;k.has("console.level")&&t.log.setLevel(A,k.get("console.level").slice(-1)[0]),k.has("console.lock")&&"true"==k.get("console.lock").slice(-1)[0]&&t.log.lock(A)}t.log.consoleLogger=A},923:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>t});var t=function(a){return a.standardDate="standardDate",a.standardDateTime="standardDateTime",a.prettyDateTime="prettyDateTime",a}(t||{})},967:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>w});var t=l(8434),a=l(5139),p=l(9417),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,p.YN,p.X1,a.XE,A.h]})}}return m})()},978:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>a,U:()=>t});var t=function(p){return p[p.Disabled=0]="Disabled",p[p.Duende=1]="Duende",p[p.Rsk=2]="Rsk",p}(t||{});class a{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0,this.enableRoleClaims=!1}}},980:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>a});var t=l(9974);function a(p){return(0,t.N)((A,e)=>{try{A.subscribe(e)}finally{e.add(p)}})}},983:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>p,w:()=>a});var t=l(1985);const a=new t.c(e=>e.complete());function p(e){return e?function A(e){return new t.c(w=>e.schedule(()=>w.complete()))}(e):a}},1026:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1068:(ot,ve,l)=>{"use strict";l.d(ve,{gR:()=>Ci,R9:()=>Vs,I6:()=>un,SL:()=>Yi,kH:()=>Jn,zN:()=>ca,sb:()=>Lr,Am:()=>Lr,FF:()=>_r});var t={};l.r(t),l.d(t,{VERSION:()=>a,after:()=>Wi,all:()=>ks,allKeys:()=>Ht,any:()=>ca,assign:()=>Tt,before:()=>Di,bind:()=>Wt,bindAll:()=>Bt,chain:()=>jt,chunk:()=>Wr,clone:()=>Ei,collect:()=>Jn,compact:()=>Sa,compose:()=>Fn,constant:()=>ge,contains:()=>Ci,countBy:()=>fr,create:()=>ii,debounce:()=>ke,default:()=>Uo,defaults:()=>xt,defer:()=>ae,delay:()=>Ie,detect:()=>un,difference:()=>Vs,drop:()=>Na,each:()=>pn,escape:()=>vi,every:()=>ks,extend:()=>wt,extendOwn:()=>Tt,filter:()=>Ts,find:()=>un,findIndex:()=>Yi,findKey:()=>li,findLastIndex:()=>xs,findWhere:()=>Vt,first:()=>pr,flatten:()=>Pr,foldl:()=>pi,foldr:()=>js,forEach:()=>pn,functions:()=>ms,get:()=>Ui,groupBy:()=>da,has:()=>zi,head:()=>pr,identity:()=>ls,include:()=>Ci,includes:()=>Ci,indexBy:()=>Fa,indexOf:()=>Qr,initial:()=>Vr,inject:()=>pi,intersection:()=>ya,invert:()=>zn,invoke:()=>wr,isArguments:()=>ne,isArray:()=>ct,isArrayBuffer:()=>lt,isBoolean:()=>te,isDataView:()=>Ue,isDate:()=>Pe,isElement:()=>N,isEmpty:()=>he,isEqual:()=>_t,isError:()=>We,isFinite:()=>K,isFunction:()=>Ye,isMap:()=>In,isMatch:()=>ue,isNaN:()=>de,isNull:()=>L,isNumber:()=>R,isObject:()=>v,isRegExp:()=>Te,isSet:()=>_i,isString:()=>oe,isSymbol:()=>rt,isTypedArray:()=>en,isUndefined:()=>J,isWeakMap:()=>rs,isWeakSet:()=>Fi,iteratee:()=>Vn,keys:()=>Jt,last:()=>qa,lastIndexOf:()=>Dt,map:()=>Jn,mapObject:()=>Xn,matcher:()=>ut,matches:()=>ut,max:()=>ua,memoize:()=>ce,methods:()=>ms,min:()=>uo,mixin:()=>Jo,negate:()=>hn,noop:()=>qn,now:()=>Un,object:()=>As,omit:()=>Ba,once:()=>Vi,pairs:()=>os,partial:()=>vn,partition:()=>kr,pick:()=>Da,pluck:()=>Zr,property:()=>Rt,propertyOf:()=>Gt,random:()=>zt,range:()=>Ps,reduce:()=>pi,reduceRight:()=>js,reject:()=>Hr,rest:()=>Na,restArguments:()=>Z,result:()=>Ki,sample:()=>Or,select:()=>Ts,shuffle:()=>Kr,size:()=>Lo,some:()=>ca,sortBy:()=>xr,sortedIndex:()=>Bs,tail:()=>Na,take:()=>pr,tap:()=>Ii,template:()=>Nn,templateSettings:()=>ht,throttle:()=>be,times:()=>oi,toArray:()=>Cr,toPath:()=>Ti,transpose:()=>rr,unescape:()=>Ze,union:()=>So,uniq:()=>Lr,unique:()=>Lr,uniqueId:()=>Os,unzip:()=>rr,values:()=>Ni,where:()=>Aa,without:()=>_r,wrap:()=>At,zip:()=>hs});var a="1.13.6",p="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},A=Array.prototype,e=Object.prototype,w=typeof Symbol<"u"?Symbol.prototype:null,m=A.push,D=A.slice,S=e.toString,g=e.hasOwnProperty,k=typeof ArrayBuffer<"u",Y=typeof DataView<"u",u=Array.isArray,E=Object.keys,B=Object.create,V=k&&ArrayBuffer.isView,F=isNaN,M=isFinite,W=!{toString:null}.propertyIsEnumerable("toString"),y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=Math.pow(2,53)-1;function Z(H,ie){return ie=null==ie?H.length-1:+ie,function(){for(var ee=Math.max(arguments.length-ie,0),Ee=Array(ee),qe=0;qe<ee;qe++)Ee[qe]=arguments[qe+ie];switch(ie){case 0:return H.call(this,Ee);case 1:return H.call(this,arguments[0],Ee);case 2:return H.call(this,arguments[0],arguments[1],Ee)}var Pt=Array(ie+1);for(qe=0;qe<ie;qe++)Pt[qe]=arguments[qe];return Pt[ie]=Ee,H.apply(this,Pt)}}function v(H){var ie=typeof H;return"function"===ie||"object"===ie&&!!H}function L(H){return null===H}function J(H){return void 0===H}function te(H){return!0===H||!1===H||"[object Boolean]"===S.call(H)}function N(H){return!(!H||1!==H.nodeType)}function fe(H){var ie="[object "+H+"]";return function(ee){return S.call(ee)===ie}}const oe=fe("String"),R=fe("Number"),Pe=fe("Date"),Te=fe("RegExp"),We=fe("Error"),rt=fe("Symbol"),lt=fe("ArrayBuffer");var vt=fe("Function");"object"!=typeof Int8Array&&"function"!=typeof(p.document&&p.document.childNodes)&&(vt=function(H){return"function"==typeof H||!1});const Ye=vt,Ke=fe("Object");var it=Y&&Ke(new DataView(new ArrayBuffer(8))),Ve=typeof Map<"u"&&Ke(new Map),Be=fe("DataView");const Ue=it?function Xe(H){return null!=H&&Ye(H.getInt8)&&lt(H.buffer)}:Be,ct=u||fe("Array");function st(H,ie){return null!=H&&g.call(H,ie)}var Qe=fe("Arguments");!function(){Qe(arguments)||(Qe=function(H){return st(H,"callee")})}();const ne=Qe;function K(H){return!rt(H)&&M(H)&&!isNaN(parseFloat(H))}function de(H){return R(H)&&F(H)}function ge(H){return function(){return H}}function o(H){return function(ie){var ee=H(ie);return"number"==typeof ee&&ee>=0&&ee<=z}}function dt(H){return function(ie){return ie?.[H]}}const gt=dt("byteLength"),qt=o(gt);var Tn=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const en=k?function Wn(H){return V?V(H)&&!Ue(H):qt(H)&&Tn.test(S.call(H))}:ge(!1),Ln=dt("length");function mt(H,ie){ie=function ni(H){for(var ie={},ee=H.length,Ee=0;Ee<ee;++Ee)ie[H[Ee]]=!0;return{contains:function(qe){return!0===ie[qe]},push:function(qe){return ie[qe]=!0,H.push(qe)}}}(ie);var ee=y.length,Ee=H.constructor,qe=Ye(Ee)&&Ee.prototype||e,Pt="constructor";for(st(H,Pt)&&!ie.contains(Pt)&&ie.push(Pt);ee--;)(Pt=y[ee])in H&&H[Pt]!==qe[Pt]&&!ie.contains(Pt)&&ie.push(Pt)}function Jt(H){if(!v(H))return[];if(E)return E(H);var ie=[];for(var ee in H)st(H,ee)&&ie.push(ee);return W&&mt(H,ie),ie}function he(H){if(null==H)return!0;var ie=Ln(H);return"number"==typeof ie&&(ct(H)||oe(H)||ne(H))?0===ie:0===Ln(Jt(H))}function ue(H,ie){var ee=Jt(ie),Ee=ee.length;if(null==H)return!Ee;for(var qe=Object(H),Pt=0;Pt<Ee;Pt++){var yn=ee[Pt];if(ie[yn]!==qe[yn]||!(yn in qe))return!1}return!0}function P(H){return H instanceof P?H:this instanceof P?void(this._wrapped=H):new P(H)}function q(H){return new Uint8Array(H.buffer||H,H.byteOffset||0,gt(H))}P.VERSION=a,P.prototype.valueOf=P.prototype.toJSON=P.prototype.value=function(){return this._wrapped},P.prototype.toString=function(){return String(this._wrapped)};var De="[object DataView]";function Ae(H,ie,ee,Ee){if(H===ie)return 0!==H||1/H==1/ie;if(null==H||null==ie)return!1;if(H!=H)return ie!=ie;var qe=typeof H;return("function"===qe||"object"===qe||"object"==typeof ie)&&et(H,ie,ee,Ee)}function et(H,ie,ee,Ee){H instanceof P&&(H=H._wrapped),ie instanceof P&&(ie=ie._wrapped);var qe=S.call(H);if(qe!==S.call(ie))return!1;if(it&&"[object Object]"==qe&&Ue(H)){if(!Ue(ie))return!1;qe=De}switch(qe){case"[object RegExp]":case"[object String]":return""+H==""+ie;case"[object Number]":return+H!=+H?+ie!=+ie:0==+H?1/+H==1/ie:+H==+ie;case"[object Date]":case"[object Boolean]":return+H==+ie;case"[object Symbol]":return w.valueOf.call(H)===w.valueOf.call(ie);case"[object ArrayBuffer]":case De:return et(q(H),q(ie),ee,Ee)}var Pt="[object Array]"===qe;if(!Pt&&en(H)){if(gt(H)!==gt(ie))return!1;if(H.buffer===ie.buffer&&H.byteOffset===ie.byteOffset)return!0;Pt=!0}if(!Pt){if("object"!=typeof H||"object"!=typeof ie)return!1;var ai=H.constructor,ts=ie.constructor;if(ai!==ts&&!(Ye(ai)&&ai instanceof ai&&Ye(ts)&&ts instanceof ts)&&"constructor"in H&&"constructor"in ie)return!1}Ee=Ee||[];for(var ji=(ee=ee||[]).length;ji--;)if(ee[ji]===H)return Ee[ji]===ie;if(ee.push(H),Ee.push(ie),Pt){if((ji=H.length)!==ie.length)return!1;for(;ji--;)if(!Ae(H[ji],ie[ji],ee,Ee))return!1}else{var Ur,Js=Jt(H);if(ji=Js.length,Jt(ie).length!==ji)return!1;for(;ji--;)if(!st(ie,Ur=Js[ji])||!Ae(H[Ur],ie[Ur],ee,Ee))return!1}return ee.pop(),Ee.pop(),!0}function _t(H,ie){return Ae(H,ie)}function Ht(H){if(!v(H))return[];var ie=[];for(var ee in H)ie.push(ee);return W&&mt(H,ie),ie}function nn(H){var ie=Ln(H);return function(ee){if(null==ee)return!1;var Ee=Ht(ee);if(Ln(Ee))return!1;for(var qe=0;qe<ie;qe++)if(!Ye(ee[H[qe]]))return!1;return H!==Qt||!Ye(ee[wn])}}var wn="forEach",ei=["clear","delete"],Ot=["get","has","set"],Gn=ei.concat(wn,Ot),Qt=ei.concat(Ot),Sn=["add"].concat(ei,wn,"has");const In=Ve?nn(Gn):fe("Map"),rs=Ve?nn(Qt):fe("WeakMap"),_i=Ve?nn(Sn):fe("Set"),Fi=fe("WeakSet");function Ni(H){for(var ie=Jt(H),ee=ie.length,Ee=Array(ee),qe=0;qe<ee;qe++)Ee[qe]=H[ie[qe]];return Ee}function os(H){for(var ie=Jt(H),ee=ie.length,Ee=Array(ee),qe=0;qe<ee;qe++)Ee[qe]=[ie[qe],H[ie[qe]]];return Ee}function zn(H){for(var ie={},ee=Jt(H),Ee=0,qe=ee.length;Ee<qe;Ee++)ie[H[ee[Ee]]]=ee[Ee];return ie}function ms(H){var ie=[];for(var ee in H)Ye(H[ee])&&ie.push(ee);return ie.sort()}function xi(H,ie){return function(ee){var Ee=arguments.length;if(ie&&(ee=Object(ee)),Ee<2||null==ee)return ee;for(var qe=1;qe<Ee;qe++)for(var Pt=arguments[qe],yn=H(Pt),ai=yn.length,ts=0;ts<ai;ts++){var ji=yn[ts];(!ie||void 0===ee[ji])&&(ee[ji]=Pt[ji])}return ee}}const wt=xi(Ht),Tt=xi(Jt),xt=xi(Ht,!0);function cn(H){if(!v(H))return{};if(B)return B(H);var ie=function(){};ie.prototype=H;var ee=new ie;return ie.prototype=null,ee}function ii(H,ie){var ee=cn(H);return ie&&Tt(ee,ie),ee}function Ei(H){return v(H)?ct(H)?H.slice():wt({},H):H}function Ii(H,ie){return ie(H),H}function Ti(H){return ct(H)?H:[H]}function Dn(H){return P.toPath(H)}function Bi(H,ie){for(var ee=ie.length,Ee=0;Ee<ee;Ee++){if(null==H)return;H=H[ie[Ee]]}return ee?H:void 0}function Ui(H,ie,ee){var Ee=Bi(H,Dn(ie));return J(Ee)?ee:Ee}function zi(H,ie){for(var ee=(ie=Dn(ie)).length,Ee=0;Ee<ee;Ee++){var qe=ie[Ee];if(!st(H,qe))return!1;H=H[qe]}return!!ee}function ls(H){return H}function ut(H){return H=Tt({},H),function(ie){return ue(ie,H)}}function Rt(H){return H=Dn(H),function(ie){return Bi(ie,H)}}function yt(H,ie,ee){if(void 0===ie)return H;switch(ee??3){case 1:return function(Ee){return H.call(ie,Ee)};case 3:return function(Ee,qe,Pt){return H.call(ie,Ee,qe,Pt)};case 4:return function(Ee,qe,Pt,yn){return H.call(ie,Ee,qe,Pt,yn)}}return function(){return H.apply(ie,arguments)}}function tn(H,ie,ee){return null==H?ls:Ye(H)?yt(H,ie,ee):v(H)&&!ct(H)?ut(H):Rt(H)}function Vn(H,ie){return tn(H,ie,1/0)}function on(H,ie,ee){return P.iteratee!==Vn?P.iteratee(H,ie):tn(H,ie,ee)}function Xn(H,ie,ee){ie=on(ie,ee);for(var Ee=Jt(H),qe=Ee.length,Pt={},yn=0;yn<qe;yn++){var ai=Ee[yn];Pt[ai]=ie(H[ai],ai,H)}return Pt}function qn(){}function Gt(H){return null==H?qn:function(ie){return Ui(H,ie)}}function oi(H,ie,ee){var Ee=Array(Math.max(0,H));ie=yt(ie,ee,1);for(var qe=0;qe<H;qe++)Ee[qe]=ie(qe);return Ee}function zt(H,ie){return null==ie&&(ie=H,H=0),H+Math.floor(Math.random()*(ie-H+1))}P.toPath=Ti,P.iteratee=Vn;const Un=Date.now||function(){return(new Date).getTime()};function fn(H){var ie=function(Pt){return H[Pt]},ee="(?:"+Jt(H).join("|")+")",Ee=RegExp(ee),qe=RegExp(ee,"g");return function(Pt){return Ee.test(Pt=null==Pt?"":""+Pt)?Pt.replace(qe,ie):Pt}}const Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},vi=fn(Qn),Ze=fn(zn(Qn)),ht=P.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ut=/(.)^/,Xt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Mn=/\\|'|\r|\n|\u2028|\u2029/g;function hi(H){return"\\"+Xt[H]}var ri=/^\s*(\w|\$)+\s*$/;function Nn(H,ie,ee){!ie&&ee&&(ie=ee),ie=xt({},ie,P.templateSettings);var Ee=RegExp([(ie.escape||Ut).source,(ie.interpolate||Ut).source,(ie.evaluate||Ut).source].join("|")+"|$","g"),qe=0,Pt="__p+='";H.replace(Ee,function(ji,Js,Ur,ma,Va){return Pt+=H.slice(qe,Va).replace(Mn,hi),qe=Va+ji.length,Js?Pt+="'+\n((__t=("+Js+"))==null?'':_.escape(__t))+\n'":Ur?Pt+="'+\n((__t=("+Ur+"))==null?'':__t)+\n'":ma&&(Pt+="';\n"+ma+"\n__p+='"),ji}),Pt+="';\n";var ai,yn=ie.variable;if(yn){if(!ri.test(yn))throw new Error("variable is not a bare identifier: "+yn)}else Pt="with(obj||{}){\n"+Pt+"}\n",yn="obj";Pt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Pt+"return __p;\n";try{ai=new Function(yn,"_",Pt)}catch(ji){throw ji.source=Pt,ji}var ts=function(ji){return ai.call(this,ji,P)};return ts.source="function("+yn+"){\n"+Pt+"}",ts}function Ki(H,ie,ee){var Ee=(ie=Dn(ie)).length;if(!Ee)return Ye(ee)?ee.call(H):ee;for(var qe=0;qe<Ee;qe++){var Pt=H?.[ie[qe]];void 0===Pt&&(Pt=ee,qe=Ee),H=Ye(Pt)?Pt.call(H):Pt}return H}var Ji=0;function Os(H){var ie=++Ji+"";return H?H+ie:ie}function jt(H){var ie=P(H);return ie._chain=!0,ie}function Ai(H,ie,ee,Ee,qe){if(!(Ee instanceof ie))return H.apply(ee,qe);var Pt=cn(H.prototype),yn=H.apply(Pt,qe);return v(yn)?yn:Pt}var Et=Z(function(H,ie){var ee=Et.placeholder,Ee=function(){for(var qe=0,Pt=ie.length,yn=Array(Pt),ai=0;ai<Pt;ai++)yn[ai]=ie[ai]===ee?arguments[qe++]:ie[ai];for(;qe<arguments.length;)yn.push(arguments[qe++]);return Ai(H,Ee,this,this,yn)};return Ee});Et.placeholder=P;const vn=Et,Wt=Z(function(H,ie,ee){if(!Ye(H))throw new TypeError("Bind must be called on a function");var Ee=Z(function(qe){return Ai(H,Ee,ie,this,ee.concat(qe))});return Ee}),Pn=o(Ln);function Qi(H,ie,ee,Ee){if(Ee=Ee||[],ie||0===ie){if(ie<=0)return Ee.concat(H)}else ie=1/0;for(var qe=Ee.length,Pt=0,yn=Ln(H);Pt<yn;Pt++){var ai=H[Pt];if(Pn(ai)&&(ct(ai)||ne(ai)))if(ie>1)Qi(ai,ie-1,ee,Ee),qe=Ee.length;else for(var ts=0,ji=ai.length;ts<ji;)Ee[qe++]=ai[ts++];else ee||(Ee[qe++]=ai)}return Ee}const Bt=Z(function(H,ie){var ee=(ie=Qi(ie,!1,!1)).length;if(ee<1)throw new Error("bindAll must be passed function names");for(;ee--;){var Ee=ie[ee];H[Ee]=Wt(H[Ee],H)}return H});function ce(H,ie){var ee=function(Ee){var qe=ee.cache,Pt=""+(ie?ie.apply(this,arguments):Ee);return st(qe,Pt)||(qe[Pt]=H.apply(this,arguments)),qe[Pt]};return ee.cache={},ee}const Ie=Z(function(H,ie,ee){return setTimeout(function(){return H.apply(null,ee)},ie)}),ae=vn(Ie,P,1);function be(H,ie,ee){var Ee,qe,Pt,yn,ai=0;ee||(ee={});var ts=function(){ai=!1===ee.leading?0:Un(),Ee=null,yn=H.apply(qe,Pt),Ee||(qe=Pt=null)},ji=function(){var Js=Un();!ai&&!1===ee.leading&&(ai=Js);var Ur=ie-(Js-ai);return qe=this,Pt=arguments,Ur<=0||Ur>ie?(Ee&&(clearTimeout(Ee),Ee=null),ai=Js,yn=H.apply(qe,Pt),Ee||(qe=Pt=null)):!Ee&&!1!==ee.trailing&&(Ee=setTimeout(ts,Ur)),yn};return ji.cancel=function(){clearTimeout(Ee),ai=0,Ee=qe=Pt=null},ji}function ke(H,ie,ee){var Ee,qe,Pt,yn,ai,ts=function(){var Js=Un()-qe;ie>Js?Ee=setTimeout(ts,ie-Js):(Ee=null,ee||(yn=H.apply(ai,Pt)),Ee||(Pt=ai=null))},ji=Z(function(Js){return ai=this,Pt=Js,qe=Un(),Ee||(Ee=setTimeout(ts,ie),ee&&(yn=H.apply(ai,Pt))),yn});return ji.cancel=function(){clearTimeout(Ee),Ee=Pt=ai=null},ji}function At(H,ie){return vn(ie,H)}function hn(H){return function(){return!H.apply(this,arguments)}}function Fn(){var H=arguments,ie=H.length-1;return function(){for(var ee=ie,Ee=H[ie].apply(this,arguments);ee--;)Ee=H[ee].call(this,Ee);return Ee}}function Wi(H,ie){return function(){if(--H<1)return ie.apply(this,arguments)}}function Di(H,ie){var ee;return function(){return--H>0&&(ee=ie.apply(this,arguments)),H<=1&&(ie=null),ee}}const Vi=vn(Di,2);function li(H,ie,ee){ie=on(ie,ee);for(var qe,Ee=Jt(H),Pt=0,yn=Ee.length;Pt<yn;Pt++)if(ie(H[qe=Ee[Pt]],qe,H))return qe}function Li(H){return function(ie,ee,Ee){ee=on(ee,Ee);for(var qe=Ln(ie),Pt=H>0?0:qe-1;Pt>=0&&Pt<qe;Pt+=H)if(ee(ie[Pt],Pt,ie))return Pt;return-1}}const Yi=Li(1),xs=Li(-1);function Bs(H,ie,ee,Ee){for(var qe=(ee=on(ee,Ee,1))(ie),Pt=0,yn=Ln(H);Pt<yn;){var ai=Math.floor((Pt+yn)/2);ee(H[ai])<qe?Pt=ai+1:yn=ai}return Pt}function Mr(H,ie,ee){return function(Ee,qe,Pt){var yn=0,ai=Ln(Ee);if("number"==typeof Pt)H>0?yn=Pt>=0?Pt:Math.max(Pt+ai,yn):ai=Pt>=0?Math.min(Pt+1,ai):Pt+ai+1;else if(ee&&Pt&&ai)return Ee[Pt=ee(Ee,qe)]===qe?Pt:-1;if(qe!=qe)return(Pt=ie(D.call(Ee,yn,ai),de))>=0?Pt+yn:-1;for(Pt=H>0?yn:ai-1;Pt>=0&&Pt<ai;Pt+=H)if(Ee[Pt]===qe)return Pt;return-1}}const Qr=Mr(1,Yi,Bs),Dt=Mr(-1,xs);function un(H,ie,ee){var qe=(Pn(H)?Yi:li)(H,ie,ee);if(void 0!==qe&&-1!==qe)return H[qe]}function Vt(H,ie){return un(H,ut(ie))}function pn(H,ie,ee){var Ee,qe;if(ie=yt(ie,ee),Pn(H))for(Ee=0,qe=H.length;Ee<qe;Ee++)ie(H[Ee],Ee,H);else{var Pt=Jt(H);for(Ee=0,qe=Pt.length;Ee<qe;Ee++)ie(H[Pt[Ee]],Pt[Ee],H)}return H}function Jn(H,ie,ee){ie=on(ie,ee);for(var Ee=!Pn(H)&&Jt(H),qe=(Ee||H).length,Pt=Array(qe),yn=0;yn<qe;yn++){var ai=Ee?Ee[yn]:yn;Pt[yn]=ie(H[ai],ai,H)}return Pt}function yi(H){return function(ee,Ee,qe,Pt){var yn=arguments.length>=3;return function(ee,Ee,qe,Pt){var yn=!Pn(ee)&&Jt(ee),ai=(yn||ee).length,ts=H>0?0:ai-1;for(Pt||(qe=ee[yn?yn[ts]:ts],ts+=H);ts>=0&&ts<ai;ts+=H){var ji=yn?yn[ts]:ts;qe=Ee(qe,ee[ji],ji,ee)}return qe}(ee,yt(Ee,Pt,4),qe,yn)}}const pi=yi(1),js=yi(-1);function Ts(H,ie,ee){var Ee=[];return ie=on(ie,ee),pn(H,function(qe,Pt,yn){ie(qe,Pt,yn)&&Ee.push(qe)}),Ee}function Hr(H,ie,ee){return Ts(H,hn(on(ie)),ee)}function ks(H,ie,ee){ie=on(ie,ee);for(var Ee=!Pn(H)&&Jt(H),qe=(Ee||H).length,Pt=0;Pt<qe;Pt++){var yn=Ee?Ee[Pt]:Pt;if(!ie(H[yn],yn,H))return!1}return!0}function ca(H,ie,ee){ie=on(ie,ee);for(var Ee=!Pn(H)&&Jt(H),qe=(Ee||H).length,Pt=0;Pt<qe;Pt++){var yn=Ee?Ee[Pt]:Pt;if(ie(H[yn],yn,H))return!0}return!1}function Ci(H,ie,ee,Ee){return Pn(H)||(H=Ni(H)),("number"!=typeof ee||Ee)&&(ee=0),Qr(H,ie,ee)>=0}const wr=Z(function(H,ie,ee){var Ee,qe;return Ye(ie)?qe=ie:(ie=Dn(ie),Ee=ie.slice(0,-1),ie=ie[ie.length-1]),Jn(H,function(Pt){var yn=qe;if(!yn){if(Ee&&Ee.length&&(Pt=Bi(Pt,Ee)),null==Pt)return;yn=Pt[ie]}return null==yn?yn:yn.apply(Pt,ee)})});function Zr(H,ie){return Jn(H,Rt(ie))}function Aa(H,ie){return Ts(H,ut(ie))}function ua(H,ie,ee){var Pt,yn,Ee=-1/0,qe=-1/0;if(null==ie||"number"==typeof ie&&"object"!=typeof H[0]&&null!=H)for(var ai=0,ts=(H=Pn(H)?H:Ni(H)).length;ai<ts;ai++)null!=(Pt=H[ai])&&Pt>Ee&&(Ee=Pt);else ie=on(ie,ee),pn(H,function(ji,Js,Ur){((yn=ie(ji,Js,Ur))>qe||yn===-1/0&&Ee===-1/0)&&(Ee=ji,qe=yn)});return Ee}function uo(H,ie,ee){var Pt,yn,Ee=1/0,qe=1/0;if(null==ie||"number"==typeof ie&&"object"!=typeof H[0]&&null!=H)for(var ai=0,ts=(H=Pn(H)?H:Ni(H)).length;ai<ts;ai++)null!=(Pt=H[ai])&&Pt<Ee&&(Ee=Pt);else ie=on(ie,ee),pn(H,function(ji,Js,Ur){((yn=ie(ji,Js,Ur))<qe||yn===1/0&&Ee===1/0)&&(Ee=ji,qe=yn)});return Ee}var pa=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Cr(H){return H?ct(H)?D.call(H):oe(H)?H.match(pa):Pn(H)?Jn(H,ls):Ni(H):[]}function Or(H,ie,ee){if(null==ie||ee)return Pn(H)||(H=Ni(H)),H[zt(H.length-1)];var Ee=Cr(H),qe=Ln(Ee);ie=Math.max(Math.min(ie,qe),0);for(var Pt=qe-1,yn=0;yn<ie;yn++){var ai=zt(yn,Pt),ts=Ee[yn];Ee[yn]=Ee[ai],Ee[ai]=ts}return Ee.slice(0,ie)}function Kr(H){return Or(H,1/0)}function xr(H,ie,ee){var Ee=0;return ie=on(ie,ee),Zr(Jn(H,function(qe,Pt,yn){return{value:qe,index:Ee++,criteria:ie(qe,Pt,yn)}}).sort(function(qe,Pt){var yn=qe.criteria,ai=Pt.criteria;if(yn!==ai){if(yn>ai||void 0===yn)return 1;if(yn<ai||void 0===ai)return-1}return qe.index-Pt.index}),"value")}function qr(H,ie){return function(ee,Ee,qe){var Pt=ie?[[],[]]:{};return Ee=on(Ee,qe),pn(ee,function(yn,ai){var ts=Ee(yn,ai,ee);H(Pt,yn,ts)}),Pt}}const da=qr(function(H,ie,ee){st(H,ee)?H[ee].push(ie):H[ee]=[ie]}),Fa=qr(function(H,ie,ee){H[ee]=ie}),fr=qr(function(H,ie,ee){st(H,ee)?H[ee]++:H[ee]=1}),kr=qr(function(H,ie,ee){H[ee?0:1].push(ie)},!0);function Lo(H){return null==H?0:Pn(H)?H.length:Jt(H).length}function ea(H,ie,ee){return ie in ee}const Da=Z(function(H,ie){var ee={},Ee=ie[0];if(null==H)return ee;Ye(Ee)?(ie.length>1&&(Ee=yt(Ee,ie[1])),ie=Ht(H)):(Ee=ea,ie=Qi(ie,!1,!1),H=Object(H));for(var qe=0,Pt=ie.length;qe<Pt;qe++){var yn=ie[qe],ai=H[yn];Ee(ai,yn,H)&&(ee[yn]=ai)}return ee}),Ba=Z(function(H,ie){var Ee,ee=ie[0];return Ye(ee)?(ee=hn(ee),ie.length>1&&(Ee=ie[1])):(ie=Jn(Qi(ie,!1,!1),String),ee=function(qe,Pt){return!Ci(ie,Pt)}),Da(H,ee,Ee)});function Vr(H,ie,ee){return D.call(H,0,Math.max(0,H.length-(null==ie||ee?1:ie)))}function pr(H,ie,ee){return null==H||H.length<1?null==ie||ee?void 0:[]:null==ie||ee?H[0]:Vr(H,H.length-ie)}function Na(H,ie,ee){return D.call(H,null==ie||ee?1:ie)}function qa(H,ie,ee){return null==H||H.length<1?null==ie||ee?void 0:[]:null==ie||ee?H[H.length-1]:Na(H,Math.max(0,H.length-ie))}function Sa(H){return Ts(H,Boolean)}function Pr(H,ie){return Qi(H,ie,!1)}const Vs=Z(function(H,ie){return ie=Qi(ie,!0,!0),Ts(H,function(ee){return!Ci(ie,ee)})}),_r=Z(function(H,ie){return Vs(H,ie)});function Lr(H,ie,ee,Ee){te(ie)||(Ee=ee,ee=ie,ie=!1),null!=ee&&(ee=on(ee,Ee));for(var qe=[],Pt=[],yn=0,ai=Ln(H);yn<ai;yn++){var ts=H[yn],ji=ee?ee(ts,yn,H):ts;ie&&!ee?((!yn||Pt!==ji)&&qe.push(ts),Pt=ji):ee?Ci(Pt,ji)||(Pt.push(ji),qe.push(ts)):Ci(qe,ts)||qe.push(ts)}return qe}const So=Z(function(H){return Lr(Qi(H,!0,!0))});function ya(H){for(var ie=[],ee=arguments.length,Ee=0,qe=Ln(H);Ee<qe;Ee++){var Pt=H[Ee];if(!Ci(ie,Pt)){var yn;for(yn=1;yn<ee&&Ci(arguments[yn],Pt);yn++);yn===ee&&ie.push(Pt)}}return ie}function rr(H){for(var ie=H&&ua(H,Ln).length||0,ee=Array(ie),Ee=0;Ee<ie;Ee++)ee[Ee]=Zr(H,Ee);return ee}const hs=Z(rr);function As(H,ie){for(var ee={},Ee=0,qe=Ln(H);Ee<qe;Ee++)ie?ee[H[Ee]]=ie[Ee]:ee[H[Ee][0]]=H[Ee][1];return ee}function Ps(H,ie,ee){null==ie&&(ie=H||0,H=0),ee||(ee=ie<H?-1:1);for(var Ee=Math.max(Math.ceil((ie-H)/ee),0),qe=Array(Ee),Pt=0;Pt<Ee;Pt++,H+=ee)qe[Pt]=H;return qe}function Wr(H,ie){if(null==ie||ie<1)return[];for(var ee=[],Ee=0,qe=H.length;Ee<qe;)ee.push(D.call(H,Ee,Ee+=ie));return ee}function Sr(H,ie){return H._chain?P(ie).chain():ie}function Jo(H){return pn(ms(H),function(ie){var ee=P[ie]=H[ie];P.prototype[ie]=function(){var Ee=[this._wrapped];return m.apply(Ee,arguments),Sr(this,ee.apply(P,Ee))}}),P}pn(["pop","push","reverse","shift","sort","splice","unshift"],function(H){var ie=A[H];P.prototype[H]=function(){var ee=this._wrapped;return null!=ee&&(ie.apply(ee,arguments),("shift"===H||"splice"===H)&&0===ee.length&&delete ee[0]),Sr(this,ee)}}),pn(["concat","join","slice"],function(H){var ie=A[H];P.prototype[H]=function(){var ee=this._wrapped;return null!=ee&&(ee=ie.apply(ee,arguments)),Sr(this,ee)}});const Uo=P;var eo=Jo(t);eo._=eo},1082:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{ClientModule:()=>ta});var t=l(8434),a=l(9417),p=l(9262),A=l(5139),e=l(779),w=l(534),m=l(1683),D=l(3929),S=l(983),g=l(6354),k=l(9437),Y=l(8284),u=l(1360),E=l(7594),B=l(455),V=l(5424);let F=(()=>{class Ge{constructor($e,It,at){this.clientService=$e,this.clientCachingService=It,this.errorService=at}resolve($e,It){const at=$e.paramMap.get("id");return this.clientService.getClient(at).pipe((0,g.T)(bn=>(this.clientCachingService.unsavedCache.next(bn),bn)),(0,k.W)(bn=>(404===bn.status?this.errorService.resourceNotFound(Y.v.client):this.errorService.handleError(bn),(0,S.I)())))}static{this.\u0275fac=function(It){return new(It||Ge)(u.KVO(E._),u.KVO(B.e),u.KVO(V.I))}}static{this.\u0275prov=u.jDH({token:Ge,factory:Ge.\u0275fac})}}return Ge})();var M=l(3384),W=l(4442),y=l(8892),z=l(8556),Z=l(2036),v=l(4193),L=l(9475),J=l(1993),te=l(8251),N=l(6599),fe=l(8389),oe=l(4367),R=l(8018),Pe=l(5731),Te=l(3665),We=l(7175),rt=l(367),lt=l(9947),vt=l(9838),je=l(7468),Ye=l(7673),Ke=l(1594),it=l(5175),Ve=l(6701),Be=l(3165),Xe=l(1068),Ue=function(Ge){return Ge.Client="Client",Ge.WsFed="WsFed",Ge.Saml="Saml",Ge}(Ue||{}),ct=l(7263),st=l(9957),Qe=l(6411),ne=l(1176),K=l(9069),de=l(9156),ge=l(345),o=l(2947),dt=l(5794),gt=l(3853),qt=l(7499),Tn=l(6719),Wn=l(251),en=l(3680),Ln=l(6728),ni=l(6406),mt=l(7778);let Jt=(()=>{class Ge{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return Ge})();var he=l(8698),ue=l(9550),P=l(8114),q=l(2467);const De=["cloneClientModal"],Ae=["addClaimTypeModal"];function et(Ge,mn){if(1&Ge&&(u.j41(0,"div",14)(1,"div"),u.EFF(2),u.k0s()()),2&Ge){const $e=u.XpG();u.R7$(2),u.JRh($e.errorCode)}}function _t(Ge,mn){if(1&Ge&&(u.j41(0,"app-form-row",11)(1,"app-form-toggle",15),u.nrm(2,"input",16),u.k0s()()),2&Ge){const $e=u.XpG();u.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",$e.clientType!==$e.clientTypes.Saml),u.R7$(),u.Y8G("id","cloneSecrets")}}function Ht(Ge,mn){1&Ge&&(u.j41(0,"app-form-row",11)(1,"app-form-toggle",15),u.nrm(2,"input",17),u.k0s()()),2&Ge&&(u.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),u.R7$(),u.Y8G("id","cloneCerts"))}let nn=(()=>{class Ge{constructor($e,It,at,bn,Ri){this.clientsService=$e,this.fb=It,this.localize=at,this.router=bn,this.translate=Ri,this.clientTypeKey=Jt.Default,this.clientTypes=Ve.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",a.k0.required],clientName:["",a.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Jt.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Jt.WsFed)}cloneClient(){const $e=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,$e).subscribe(It=>{const at=It.headers.get("location");if(at){this.clearForm();const bn=at.lastIndexOf("/"),Ri=at.substring(bn+1),us=[this.localize.translateRoute("/clients"),Ri];this.router.navigate(us)}},It=>{this.errorCode=this.translate.instant(400===It.status?`Errors.CloneClientError.${It.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const $e=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,ct.Nl)(),clientName:$e,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,ct.Nl)()})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(E._),u.rXU(a.ze),u.rXU(A.QG),u.rXU(o.Ix),u.rXU(R.c$))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-clone-client"]],viewQuery:function(It,at){if(1&It&&(u.GBs(De,7),u.GBs(Ae,7)),2&It){let bn;u.mGM(bn=u.lsd())&&(at.cloneClientModal=bn.first),u.mGM(bn=u.lsd())&&(at.addClaimTypeModal=bn.first)}},inputs:{client:"client",clientType:"clientType"},standalone:!1,decls:18,vars:20,consts:[["cloneClientModal",""],[3,"close","confirm","title","okText","type","inFlight"],["body",""],[1,"tw-text-left",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(It,at){if(1&It){const bn=u.RV6();u.j41(0,"app-confirmation-modal",1,0),u.bIt("close",function(){return u.eBV(bn),u.Njj(at.clearForm())})("confirm",function(){return u.eBV(bn),u.Njj(at.cloneClient())}),u.qex(2,2),u.j41(3,"div",3),u.DNE(4,et,3,1,"div",4),u.j41(5,"app-form-row",5),u.nI1(6,"keyToString"),u.j41(7,"div",6),u.nrm(8,"input",7),u.j41(9,"button",8),u.bIt("click",function(){return u.eBV(bn),u.Njj(at.setRandomID())}),u.nrm(10,"span",9),u.j41(11,"span",10),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()(),u.j41(14,"app-form-row",11),u.nrm(15,"input",12),u.k0s(),u.DNE(16,_t,3,5,"app-form-row",13)(17,Ht,3,5,"app-form-row",13),u.k0s(),u.bVm(),u.k0s()}2&It&&(u.Y8G("title","Clients.Clone.Title")("okText","Common.Save")("type",null)("inFlight",!at.newClientForm.valid),u.R7$(3),u.Y8G("formGroup",at.newClientForm),u.R7$(),u.Y8G("ngIf",""!=at.errorCode),u.R7$(),u.Y8G("id","cloneClientId")("label",u.bMT(6,16,at.clientTypeKey))("help","Clients.IDHelp"),u.R7$(7),u.JRh(u.bMT(13,18,"Common.GenerateRandom")),u.R7$(2),u.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===at.client.clientSecrets.length&&at.clientType!==at.clientTypes.Saml),u.R7$(2),u.Y8G("ngIf",0!==at.client.clientSecrets.length),u.R7$(),u.Y8G("ngIf",at.clientType===at.clientTypes.Saml))},dependencies:[t.bT,a.me,a.Zm,a.BC,a.cb,a.j4,a.JD,he.Y,ue.m,P.B,R.D9,q.C],encapsulation:2})}}return Ge})();const wn=(Ge,mn)=>({title:Ge,link:mn}),Kn=Ge=>[Ge];function ei(Ge,mn){1&Ge&&(u.j41(0,"option",29),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Nav.Saml")))}function Ot(Ge,mn){1&Ge&&(u.j41(0,"option",30),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.RelyingParty.Heading")))}function Gn(Ge,mn){1&Ge&&(u.j41(0,"option",31),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.URLS.Title")))}function Qt(Ge,mn){1&Ge&&(u.j41(0,"option",32),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Secrets")))}function Sn(Ge,mn){1&Ge&&(u.j41(0,"option",33),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.CIBA")))}function In(Ge,mn){1&Ge&&(u.j41(0,"span",34),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" - ",u.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function rs(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function _i(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Fi(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Ni(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function os(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let zn=(()=>{class Ge extends Qe.A{constructor($e,It,at,bn,Ri,us,qi,Er,Br,Yr,mr,Ys,tr,el,$o,Mi){super(Mi),this.clientsService=$e,this.clientCachingService=It,this.relyingPartyCachingService=at,this.serviceProviderCachingService=bn,this.samlClientService=Ri,this.wsFedClientService=us,this.clientViewService=qi,this.titleService=Er,this.translate=Br,this.errorService=Yr,this.router=mr,this.route=Ys,this.toastr=tr,this.localize=el,this.licenseService=$o}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe($e=>{this.client=$e;const It=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+vt.$9.SITE_TITLE;this.titleService.setTitle(It),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe($e=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe($e=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,Ke.$)()).subscribe({next:$e=>{this.licenseInfo=$e}})}get unsavedChanges(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}onDeactivate(){this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear()}checkSubmitEnabled(){const $e=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===$e.length||$e.some(It=>!It.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient($e){this.clientsService.deleteClient($e).subscribe(It=>{const at=this.localize.translateRoute("/clients");this.router.navigate([at]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},It=>{const at={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message"),forceToast:!0};(this.errorService.handleError(It,at)&st.I.Toast)!==st.I.Toast&&this.toastr.error(at.toastBody,at.toastTitle)})}saveClient(){const $e=this.buildStreamArray();(0,je.p)($e).subscribe(It=>{It.some(bn=>bn instanceof Be.yz)?this.handleError(It):this.handleSave(It),this.checkSubmitEnabled()},It=>{this.errorService.handleError(It)})}buildStreamArray(){const $e=[];return this.clientCachingService.componentDirtyValidMap.size>0&&$e.push(this.clientsService.updateClient(this.client).pipe((0,g.T)(()=>Ue.Client),(0,k.W)(It=>(0,Ye.of)(It)))),this.client.clientType===Ve.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,Ke.$)()).subscribe(It=>{const at=JSON.parse(JSON.stringify(It));at.claimMappings=(0,ct.Li)(It.claimMappings),$e.push(this.wsFedClientService.updateRelyingParty(this.client.id,at).pipe((0,g.T)(()=>Ue.WsFed),(0,k.W)(bn=>(0,Ye.of)(bn))))}):this.client.clientType===Ve.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,Ke.$)()).subscribe(It=>{const at=JSON.parse(JSON.stringify(It));at.claimMappings=(0,ct.Li)(It.claimMappings),$e.push(this.samlClientService.updateServiceProvider(this.client.id,at).pipe((0,g.T)(()=>Ue.Saml),(0,k.W)(bn=>(0,Ye.of)(bn))))}),$e}handleSave($e){$e.forEach(It=>{switch(It){case Ue.WsFed:this.relyingPartyCachingService.onSave();break;case Ue.Saml:this.serviceProviderCachingService.onClientSave();break;case Ue.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError($e){const It=$e.filter(at=>at instanceof Be.yz);It.length===$e.length?this.errorService.handleError(It[0],{forceToast:!0}):400===It[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(Xe.R9($e,It))):this.errorService.handleError(It[0],{forceToast:!0})}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute($e){this.router.navigate([$e],{relativeTo:this.route})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(E._),u.rXU(B.e),u.rXU(ne.z),u.rXU(K.d),u.rXU(de.s),u.rXU(Z.c),u.rXU(it.q),u.rXU(ge.hE),u.rXU(R.c$),u.rXU(V.I),u.rXU(o.Ix),u.rXU(o.nX),u.rXU(dt.tw),u.rXU(A.QG),u.rXU(gt.X),u.rXU(qt.o))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-edit-client"]],standalone:!1,features:[u.Jv_([it.q]),u.Vt3],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(It,at){if(1&It){const bn=u.RV6();u.j41(0,"app-title-bar",2),u.nI1(1,"translate"),u.nI1(2,"localize"),u.qex(3,3),u.j41(4,"div",4)(5,"label",5),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"div",6)(9,"select",7),u.bIt("change",function(us){return u.eBV(bn),u.Njj(at.mobRoute(us.target.value))}),u.j41(10,"option",8),u.EFF(11),u.nI1(12,"translate"),u.k0s(),u.j41(13,"option",8),u.EFF(14),u.nI1(15,"translate"),u.k0s(),u.DNE(16,ei,3,3,"option",9)(17,Ot,3,3,"option",10)(18,Gn,3,3,"option",11)(19,Qt,3,3,"option",12),u.j41(20,"option",13),u.EFF(21),u.nI1(22,"translate"),u.k0s(),u.DNE(23,Sn,3,3,"option",14),u.j41(24,"option",15),u.EFF(25),u.nI1(26,"translate"),u.k0s(),u.j41(27,"option",16),u.EFF(28),u.nI1(29,"translate"),u.DNE(30,In,3,3,"span",17),u.k0s()()()(),u.j41(31,"app-custom-tabs",18),u.nrm(32,"app-custom-tab",19),u.DNE(33,rs,1,2,"app-custom-tab",20)(34,_i,1,2,"app-custom-tab",20)(35,Fi,1,2,"app-custom-tab",20)(36,Ni,1,2,"app-custom-tab",20),u.nrm(37,"app-custom-tab",19),u.DNE(38,os,1,2,"app-custom-tab",20),u.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),u.k0s(),u.bVm(),u.k0s(),u.j41(41,"div",22),u.nrm(42,"router-outlet"),u.k0s(),u.j41(43,"app-button-bar")(44,"button",23),u.bIt("click",function(){return u.eBV(bn),u.Njj(at.saveClient())}),u.j41(45,"span"),u.EFF(46),u.nI1(47,"translate"),u.k0s()(),u.j41(48,"button",24),u.bIt("click",function(){u.eBV(bn);const us=u.sdS(57);return u.Njj(us.show())}),u.j41(49,"span"),u.EFF(50),u.nI1(51,"translate"),u.k0s()(),u.qex(52,25),u.j41(53,"button",26),u.bIt("click",function(){u.eBV(bn);const us=u.sdS(59);return u.Njj(us.show())}),u.EFF(54),u.nI1(55,"translate"),u.k0s(),u.bVm(),u.k0s(),u.nrm(56,"app-clone-client",27,0),u.j41(58,"app-delete-confirmation-modal",28,1),u.bIt("delete",function(){return u.eBV(bn),u.Njj(at.deleteClient(at.client.id))}),u.k0s(),u.nrm(60,"app-can-deactivate")}if(2&It){let bn,Ri;u.Y8G("title",at.client.clientName)("crumbs",u.eq3(63,Kn,u.l_i(60,wn,u.bMT(1,38,"Nav.Clients"),u.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),u.R7$(6),u.JRh(u.bMT(7,42,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(12,44,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(15,46,"Nav.Details")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(2),u.JRh(u.bMT(22,48,"Nav.Resources")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(2),u.JRh(u.bMT(26,50,"Common.Advanced")),u.R7$(3),u.SpI(" ",u.bMT(29,52,"Nav.Audits")," "),u.R7$(2),u.Y8G("ngIf",null!==(bn=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==bn&&bn),u.R7$(2),u.Y8G("tabTitle","Nav.Details")("tabValue","details"),u.R7$(),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(),u.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),u.R7$(),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(),u.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),u.R7$(),u.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Ri=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==Ri&&Ri),u.R7$(4),u.Y8G("disabled",at.submitDisabled),u.R7$(2),u.JRh(u.bMT(47,54,"Common.SaveAll")),u.R7$(2),u.Y8G("disabled",at.isCloneDisabled()),u.R7$(2),u.JRh(u.bMT(51,56,"Clients.Clone.Label")),u.R7$(4),u.JRh(u.bMT(55,58,"Common.Delete.Title")),u.R7$(2),u.Y8G("client",at.client)("clientType",at.client.clientType),u.R7$(2),u.Y8G("resourceName",at.client.clientName)}},dependencies:[o.n3,t.bT,a.xH,a.y7,Tn.G,Wn.v,en.z,Ln.E,ni.z,mt.w,nn,R.D9,A.tl],encapsulation:2})}}return Ge})();var ms=l(1413),xi=l(8412),wt=l(9172),Tt=l(1397),xt=l(1655);l(78),l(6772),l(1927);class Ei{constructor(mn){this.id=mn.id,this.clientId=mn.clientId,this.clientName=mn.clientName,this.description=mn.description,this.enabled=mn.enabled,this.selected=!1,this.nonEditable=mn.nonEditable,this.clientType=mn.clientType}}var Ti=l(6026),Dn=l(6976);class Bi{static{this.RestrictedClientTypes=[Ve.s.ServerSide,Ve.s.ServerSidePKCE,Ve.s.Native,Ve.s.NativePKCE,Ve.s.Device,Ve.s.Saml,Ve.s.WsFed,Ve.s.LegacyClientSide]}}var Ui=l(6494),zi=l(7883),ls=l(7156),ut=l(7294),Rt=l(7384),yt=l(9988),tn=l(1744),Vn=l(1138),on=l(2858),Xn=l(7212);class qn extends tn.$R{set selected(mn){this.isSelectable&&(this._selected=mn)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==tn.jD.Duplicate&&this.resourceType===tn.ot.Client}constructor(mn,$e=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=Vn.r.DoNotSet,this.certificateAction=on.AU.DoNotSet,this.identifier=mn.identifier,this.resourceType=mn.resourceType,this.resourceState=mn.resourceState,this.displayType=mn.displayType,this.displayName=mn.displayName,this.conflicts=mn.conflicts,this.dependantClients=mn.dependantClients,this.hadSecrets=mn.hadSecrets,this.hadCertificates=mn.hadCertificates,this.existingHasSecrets=mn.existingHasSecrets,this.existingHasCertificates=mn.existingHasCertificates,this.selected=$e,this.certificates=new Xn.D}}var Gt=l(9113),oi=l(5826),zt=l(2286),Un=l(7629),fn=l(6193);function Qn(Ge,mn){if(1&Ge&&(u.j41(0,"div",7),u.nrm(1,"div",8),u.k0s()),2&Ge){const $e=u.XpG();u.R7$(),u.xc7("width",$e.progressComplete+"%"),u.BMQ("aria-valuenow",$e.progressComplete)}}function vi(Ge,mn){}let Fe=(()=>{class Ge{constructor($e){this.viewContainerRef=$e}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(u.c1b))}}static{this.\u0275dir=u.FsC({type:Ge,selectors:[["","appImportStepHost",""]],standalone:!1})}}return Ge})(),Ze=(()=>{class Ge{constructor($e){this.importWizardController=$e,this.finish=new u.bkB,this.warning=new u.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe($e=>{$e?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const $e=this.importWizardController.getCurrentStep();let It;if($e.component===on.zI){const at=this.components.get($e);this.wizardHost.viewContainerRef.detach(),It=at??this.wizardHost.viewContainerRef.createComponent($e.component)}else It=this.wizardHost.viewContainerRef.createComponent($e.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(It.hostView),It.instance.data=$e.data,It.instance.importWizardController=this.importWizardController,this.title=$e.stepTitle,this.components.set($e,It),this.updateProgressBar(),this.hideProgressBar=It.instance.isWarningModal||It.instance.hideProgressBar,this.warning.emit(It.instance.isWarningModal)}closeButton(){const $e=this.importWizardController.getCurrentStep();$e.component!==zt.E?this.importWizardController.cancel():this.components.get($e).instance.goNext()}getStepsProgressForCurrentStep(){const $e=this.importWizardController.getCurrentStep();if($e.component===Vn.u||$e.component===on.zI){const It=this.importWizardController.stepsCompleted.filter(bn=>bn.component===$e.component).length,at=It+this.importWizardController.stepsAhead.filter(bn=>bn.component===$e.component).length;return 1===at?"":"("+(It+1)+"/"+at+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==Un.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach($e=>{$e.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(fn.V))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-import-wizard-host"]],viewQuery:function(It,at){if(1&It&&u.GBs(Fe,7),2&It){let bn;u.mGM(bn=u.lsd())&&(at.wizardHost=bn.first)}},outputs:{finish:"finish",warning:"warning"},standalone:!1,decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(It,at){1&It&&(u.j41(0,"div",0)(1,"h5",1),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"button",2),u.bIt("click",function(){return at.closeButton()}),u.nrm(5,"span",3),u.j41(6,"span",4),u.EFF(7),u.nI1(8,"translate"),u.k0s()()(),u.DNE(9,Qn,2,3,"div",5),u.j41(10,"div"),u.DNE(11,vi,0,0,"ng-template",6),u.k0s()),2&It&&(u.R7$(2),u.Lme("",u.bMT(3,5,at.title)," ",at.progressStepString,""),u.R7$(2),u.Y8G("disabled",at.disableCloseButton()),u.R7$(3),u.JRh(u.bMT(8,7,"Common.Close")),u.R7$(2),u.Y8G("ngIf",!at.hideProgressBar))},dependencies:[t.bT,Fe,R.D9],encapsulation:2})}}return Ge})();function ht(Ge,mn){1&Ge&&(u.nrm(0,"app-simple-loader",17),u.nI1(1,"translate")),2&Ge&&u.Y8G("text",u.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function Ut(Ge,mn){if(1&Ge&&(u.j41(0,"div",23)(1,"div"),u.EFF(2),u.k0s()()),2&Ge){const $e=u.XpG(3);u.R7$(2),u.JRh($e.errorCode)}}function Xt(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"div")(1,"div",18)(2,"p"),u.EFF(3),u.nI1(4,"translate"),u.k0s()(),u.DNE(5,Ut,3,1,"div",19),u.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),u.bIt("change",function(at){u.eBV($e);const bn=u.XpG(2);return u.Njj(bn.handleFileInput(at.target.files))}),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.R7$(3),u.JRh(u.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),u.R7$(2),u.Y8G("ngIf",""!=$e.errorCode),u.R7$(),u.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function Mn(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"div")(1,"div",3)(2,"h5",4),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"button",5),u.nI1(6,"translate"),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hide())}),u.nrm(7,"span",6),u.k0s()(),u.j41(8,"div",7),u.nrm(9,"div",8,0),u.k0s(),u.j41(11,"div",9),u.DNE(12,ht,2,3,"app-simple-loader",10)(13,Xt,11,8,"div",2),u.k0s(),u.nrm(14,"div",11),u.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.startImport())}),u.EFF(19),u.nI1(20,"translate"),u.k0s()(),u.j41(21,"button",16),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hide())}),u.EFF(22),u.nI1(23,"translate"),u.k0s()()()()}if(2&Ge){const $e=u.XpG();u.R7$(2),u.Y8G("id",$e.titleId),u.R7$(),u.JRh(u.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),u.R7$(2),u.Y8G("disabled",$e.disableButtons),u.BMQ("aria-label",u.bMT(6,12,"Common.Close")),u.R7$(7),u.Y8G("ngIf",$e.isLoading),u.R7$(),u.Y8G("ngIf",!$e.isLoading),u.R7$(5),u.Y8G("disabled",$e.disableButtons||null==$e.fileToUpload),u.R7$(),u.SpI(" ",u.bMT(20,14,"Common.Start")," "),u.R7$(2),u.Y8G("disabled",$e.disableButtons),u.R7$(),u.SpI(" ",u.bMT(23,16,"Common.Cancel")," ")}}function hi(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"div")(1,"app-import-wizard-host",24),u.bIt("warning",function(at){u.eBV($e);const bn=u.XpG();return u.Njj(bn.onWarning(at))})("finish",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.onFinish())}),u.k0s()()}}let ri=(()=>{class Ge{constructor($e,It,at,bn){this.translate=$e,this.clientImportService=It,this.importWizardService=at,this.modalService=bn,this.finish=new u.bkB,this.titleId=Ti.R.TileId,this.wizardTypes=yt.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(Ri=>{this.reset(),null!=Ri&&(this.errorCode=Ri)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning($e){this.isWarningModal=$e}hide(){this.reset(),this.modalService.hide(Ti.R.Id)}handleFileInput($e){this.fileToUpload=$e.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then($e=>{this.clientImportService.validateImportFile($e).subscribe(It=>{try{JSON.parse($e)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage($e);const at=It.importResources.map(bn=>new qn(bn));this.importWizardService.cache.next(at),this.isLoading=!1,this.showWizard=!0},It=>{if(400===It.status){this.reset();const at=It.error;this.errorCode=this.translate.instant(`Errors.${at.errorCode}`),"ValidateImportError.WrongVersion"===at.errorCode&&(this.errorCode=this.errorCode.replace("{0}",at.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",at.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage($e){this.storage.setItem("importFile",$e)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(R.c$),u.rXU(Gt.qJ),u.rXU(oi.o),u.rXU(e.I8))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},standalone:!1,decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(It,at){1&It&&u.DNE(0,Mn,24,18,"div",2)(1,hi,2,0,"div",2),2&It&&(u.Y8G("ngIf",!at.showWizard),u.R7$(),u.Y8G("ngIf",at.showWizard))},dependencies:[t.bT,Rt.d,he.Y,Ze,R.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ge})();var Nn=l(7329),Ki=l(7957),Ji=l(8575);class Os{constructor(mn){this.clientType=mn}}class jt{constructor(mn){this.clientType=mn}}let Ai=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",a.k0.required]})}getStepSummary(){const $e=new Map;return $e.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===Ve.s.BrowserBased||this.data.clientType===Ve.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,ct.kI)(this.callbackUrlForm.get("callbackUrl").value),$e.set("corsurl",[this.corsUrl])),$e}getStepDTO(){const $e=this.getStepSummary(),It={};return $e.forEach((at,bn)=>{"corsurl"===bn&&(bn="allowedCorsOrigins"),"callbackUrl"===bn&&(bn="redirectUris"),It[bn]=at}),It}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(a.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-callback-url"]],inputs:{data:"data"},standalone:!1,decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.nrm(1,"p",1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"form",2)(4,"app-form-row",3),u.nrm(5,"input",4),u.k0s()()),2&It&&(u.R7$(),u.Y8G("innerHTML",u.bMT(2,6,"Clients.CallbackURL"),u.npT),u.R7$(2),u.Y8G("formGroup",at.callbackUrlForm),u.R7$(),u.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,he.Y,R.D9],encapsulation:2})}}return Ge})();class Et{constructor(mn,$e=Jt.Default){this.clientType=mn,this.clientIdKey=$e}}function vn(Ge,mn){1&Ge&&(u.j41(0,"div")(1,"app-form-row",2),u.nrm(2,"input",13),u.k0s(),u.j41(3,"app-form-row",2),u.nrm(4,"input",14),u.k0s()()),2&Ge&&(u.R7$(),u.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),u.R7$(2),u.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function Wt(Ge,mn){1&Ge&&(u.j41(0,"app-form-row",10)(1,"app-form-toggle",15),u.nrm(2,"input",16),u.k0s()()),2&Ge&&(u.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),u.R7$(),u.Y8G("id","requireConsent"))}let Pn=(()=>{class Ge{constructor($e){this.fb=$e,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[a.k0.required,a.k0.maxLength(100),a.k0.pattern(/^\S*$/)]],clientName:["",[a.k0.required,a.k0.maxLength(50)]],description:["",a.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===Ve.s.Native||this.data.clientType===Ve.s.NativePKCE||this.data.clientType===Ve.s.BrowserBased||this.data.clientType===Ve.s.LegacyClientSide||this.data.clientType===Ve.s.ServerSide||this.data.clientType===Ve.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new a.hs("",a.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new a.hs("",a.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new a.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,ct.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const $e=new Map;for(const It in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(It)&&$e.set("clientId"===It?this.clientIdKey:It,[this.descriptionForm.value[It]]);return $e.delete("clientType"),$e}getStepDTO(){const $e=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&($e.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&($e.logoUri=null)),$e}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(a.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!1,decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(It,at){1&It&&(u.j41(0,"div",0)(1,"p"),u.EFF(2),u.nI1(3,"translate"),u.k0s()(),u.j41(4,"div",1)(5,"app-form-row",2),u.nI1(6,"keyToString"),u.j41(7,"div",3),u.nrm(8,"input",4),u.j41(9,"button",5),u.bIt("click",function(){return at.setRandomID()}),u.nrm(10,"span",6),u.j41(11,"span",7),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()(),u.j41(14,"app-form-row",2),u.nrm(15,"input",8),u.k0s(),u.DNE(16,vn,5,6,"div",9),u.j41(17,"app-form-row",10)(18,"textarea",11),u.bIt("blur",function(){return at.desFocus=!at.desFocus})("focus",function(){return at.desFocus=!at.desFocus}),u.k0s()(),u.DNE(19,Wt,3,5,"app-form-row",12),u.k0s()),2&It&&(u.R7$(2),u.JRh(u.bMT(3,15,"Clients.EnterBasicDetails")),u.R7$(2),u.Y8G("formGroup",at.descriptionForm),u.R7$(),u.Y8G("id","ClientId")("label",u.bMT(6,17,at.clientIdKey))("help","Clients.IDHelp"),u.R7$(7),u.JRh(u.bMT(13,19,"Common.GenerateRandom")),u.R7$(2),u.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),u.R7$(2),u.Y8G("ngIf",at.hasExtraFields),u.R7$(),u.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!at.hasExtraFields),u.R7$(2),u.Y8G("ngIf",at.hasExtraFields))},dependencies:[t.bT,a.me,a.Zm,a.BC,a.cb,a.j4,a.JD,he.Y,ue.m,R.D9,q.C],encapsulation:2})}}return Ge})();var Qi=l(9767),Bt=l(9764);const ce=["secretPicker"];let Ie=(()=>{class Ge{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const $e=new Map;return $e.set("secrets",this.secrets.map(It=>It.type)),$e}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe($e=>{this.secretPicker.clientSecrets.push($e)}),this.secretPicker.secretsRemoveStream.subscribe($e=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf($e),1)})}filePickerStateChanged($e){this.filePickerClosed=!$e}static{this.\u0275fac=function(It){return new(It||Ge)}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-client-secret-picker"]],viewQuery:function(It,at){if(1&It&&u.GBs(ce,7),2&It){let bn;u.mGM(bn=u.lsd())&&(at.secretPicker=bn.first)}},standalone:!1,decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(It,at){if(1&It){const bn=u.RV6();u.j41(0,"p",1),u.EFF(1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"app-secret-picker",2,0),u.bIt("filepickerDisplayed",function(us){return u.eBV(bn),u.Njj(at.filePickerStateChanged(us))}),u.k0s()}2&It&&(u.R7$(),u.JRh(u.bMT(2,4,"Clients.NativeApp.Secrets")),u.R7$(2),u.Y8G("clientSecrets",at.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[Bt.s,R.D9],encapsulation:2,data:{animation:[(0,Qi.Ws)()]}})}}return Ge})();function ae(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.SloEndpoints")))}function be(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.AcsEndpoints")))}function ke(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.ArsEndpoints")))}function At(Ge,mn){1&Ge&&(u.j41(0,"option",13),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Post")))}function hn(Ge,mn){1&Ge&&(u.j41(0,"option",14),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Redirect")))}function Fn(Ge,mn){1&Ge&&(u.j41(0,"option",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Artifact")))}function Wi(Ge,mn){1&Ge&&(u.j41(0,"option",16),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Soap")))}let Di=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){const $e=[a.k0.pattern("^https?://.*$")],It=[];"ACSEndpoint"===this.data.endpointType&&($e.push(a.k0.required),It.push(a.k0.required)),this.endpointForm=this.fb.group({location:["",$e],index:[0,[a.k0.min(0),a.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",It]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const $e=this.endpointForm.get("location"),It=this.endpointForm.get("binding");this.valueChangesSub=$e.valueChanges.subscribe(at=>{It.setValidators(at.length>0?a.k0.required:null),It.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let $e,It;switch(this.data.endpointType){case"SLOEndpoint":$e="SLOBindingType",It="SLOEndpointIndex";break;case"ACSEndpoint":$e="ACSBindingType",It="ACSEndpointIndex";break;default:$e="ARSBindingType",It="ARSEndpointIndex"}const at=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[$e]:this.endpointForm.get("binding").value,[It]:at}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(a.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-endpoints"]],standalone:!1,decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.DNE(1,ae,3,3,"p",1)(2,be,3,3,"p",1)(3,ke,3,3,"p",1),u.k0s(),u.j41(4,"form",2)(5,"app-form-row",3),u.nrm(6,"input",4),u.k0s(),u.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),u.DNE(10,At,3,3,"option",7)(11,hn,3,3,"option",8)(12,Fn,3,3,"option",9)(13,Wi,3,3,"option",10),u.k0s()()(),u.j41(14,"app-form-row",11),u.nrm(15,"input",12),u.k0s()()),2&It&&(u.R7$(),u.Y8G("ngIf","SLOEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("ngIf","ACSEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("formGroup",at.endpointForm),u.R7$(),u.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==at.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==at.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),u.R7$(2),u.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),u.R7$(3),u.Y8G("ngIf","ARSEndpoint"!=at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"!=at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"!=at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[t.bT,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.VZ,a.j4,a.JD,he.Y,R.D9],encapsulation:2})}}return Ge})(),li=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",a.k0.pattern("^https?://.*$")]})}getStepSummary(){const $e="logoutUrl",It=new Map,at=this.logoutUrlForm.value[$e];return(0,ct.gP)(at)||It.set($e,[at]),It}getStepDTO(){const $e=this.logoutUrlForm.value.logoutUrl;return(0,ct.gP)($e)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[$e]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(a.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-logout-url"]],inputs:{data:"data"},standalone:!1,decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.nrm(1,"p",1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"form",2)(4,"app-form-row",3),u.nrm(5,"input",4),u.k0s()()),2&It&&(u.R7$(),u.Y8G("innerHTML",u.bMT(2,6,"Clients.PostLogoutURL"),u.npT),u.R7$(2),u.Y8G("formGroup",at.logoutUrlForm),u.R7$(),u.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,he.Y,R.D9],encapsulation:2})}}return Ge})(),Li=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",a.k0.required],pollingInterval:["",a.k0.required]})}getStepSummary(){const $e=new Map;return $e.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),$e.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===Ve.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,$e.set("cibaLifetime",[this.cibaLifetime.toString()]),$e.set("pollingInterval",[this.pollingInterval.toString()])),$e}getStepDTO(){const $e=this.getStepSummary(),It={};return $e.forEach((at,bn)=>{"cibaLifetime"===bn&&(bn="cibaLifetime"),"pollingInterval"===bn&&(bn="pollingInterval"),It[bn]=at[0]}),It}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(a.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},standalone:!1,decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.nrm(1,"p",1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"form",2)(4,"app-form-row",3),u.nrm(5,"input",4),u.k0s(),u.j41(6,"app-form-row",5),u.nrm(7,"input",6),u.k0s()()),2&It&&(u.R7$(),u.Y8G("innerHTML",u.bMT(2,9,"Clients.CIBAConfiguration"),u.npT),u.R7$(2),u.Y8G("formGroup",at.cibaConfigForm),u.R7$(),u.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),u.R7$(2),u.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD,he.Y,R.D9],encapsulation:2})}}return Ge})();const Yi=["commonPicker"];let xs=(()=>{class Ge{constructor($e,It){this.wizardResourceService=It,this.resourceType=$e}hosted(){}ngOnInit(){}getStepSummary(){const It=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(at=>at.name);return new Map([[this.resourceType,It]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(at=>at.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(It){u.QTQ()}}static{this.\u0275dir=u.FsC({type:Ge,viewQuery:function(It,at){if(1&It&&u.GBs(Yi,7),2&It){let bn;u.mGM(bn=u.lsd())&&(at.commonPicker=bn.first)}}})}}return Ge})();var Bs=l(8261),Mr=l(2653),Qr=l(4112);function Dt(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function un(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Vt=(()=>{class Ge extends xs{constructor($e,It){super("identityResources",It),this.identityResourceService=$e,this.wizardResourceService=It,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe($e=>{const It=$e.find(at=>"openid"===at.name);It&&($e.splice($e.indexOf(It),1),this.assignedResources=[It],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=$e})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe($e=>{this.resources=(0,ct.Yt)(this.resources.slice(),$e);const It=this.assignedResources.slice();this.assignedResources=It.concat($e),this.wizardResourceService.assignedIdentityResources=this.assignedResources}),this.commonPicker.unAssignedStream.subscribe($e=>{const It=this.resources;this.assignedResources=(0,ct.Yt)(this.assignedResources.slice(),$e),this.resources=It.concat($e),this.wizardResourceService.assignedIdentityResources=this.assignedResources})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(Bs.A),u.rXU(Mr.f))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["wizard-identity-resource-picker"]],standalone:!1,features:[u.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(It,at){1&It&&(u.j41(0,"div",1),u.DNE(1,Dt,3,3,"p",2)(2,un,3,3,"p",2),u.k0s(),u.nrm(3,"app-common-picker",3,0)),2&It&&(u.R7$(),u.Y8G("ngIf","protectedResources"==at.resourceType),u.R7$(),u.Y8G("ngIf","identityResources"==at.resourceType),u.R7$(),u.Y8G("assignedInput",at.assignedResources)("availableInput",at.resources))},dependencies:[t.bT,Qr.f,R.D9],encapsulation:2})}}return Ge})();var pn=l(5893);function Jn(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function yi(Ge,mn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.IdentityResourcesAccess")))}let pi=(()=>{class Ge extends xs{constructor($e,It){super("protectedResources",It),this.protectedResourceService=$e,this.wizardResourceService=It,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe($e=>{const It=[];$e.forEach(at=>{at.scopes.forEach(bn=>{It.find(Ri=>Ri.name==bn.name)||It.push(bn)})}),this.resources=It})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe($e=>{this.resources=(0,ct.Yt)(this.resources.slice(),$e);const It=this.assignedResources.slice();this.assignedResources=It.concat($e),this.wizardResourceService.assignedProtectedResources=this.assignedResources}),this.commonPicker.unAssignedStream.subscribe($e=>{const It=this.resources;this.assignedResources=(0,ct.Yt)(this.assignedResources.slice(),$e),this.resources=It.concat($e),this.wizardResourceService.assignedProtectedResources=this.assignedResources})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(pn.x),u.rXU(Mr.f))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["wizard-protected-resource-picker"]],standalone:!1,features:[u.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(It,at){1&It&&(u.j41(0,"div",1),u.DNE(1,Jn,3,3,"p",2)(2,yi,3,3,"p",2),u.k0s(),u.nrm(3,"app-common-picker",3,0)),2&It&&(u.R7$(),u.Y8G("ngIf","protectedResources"==at.resourceType),u.R7$(),u.Y8G("ngIf","identityResources"==at.resourceType),u.R7$(),u.Y8G("assignedInput",at.assignedResources)("availableInput",at.resources))},dependencies:[t.bT,Qr.f,R.D9],encapsulation:2})}}return Ge})();var js=l(1410),Ts=l(9196),Hr=l(2552);function ks(Ge,mn){if(1&Ge&&(u.j41(0,"option",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=mn.$implicit;u.Y8G("value",$e),u.R7$(),u.JRh(u.bMT(2,2,"Clients.WizardTypes."+$e))}}function ca(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"form",12)(1,"app-form-row",13)(2,"div",14)(3,"select",15,0),u.bIt("change",function(){u.eBV($e);const at=u.sdS(4),bn=u.XpG(2);return u.Njj(bn.setActive(at.value))}),u.DNE(5,ks,3,4,"option",16),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.Y8G("formGroup",$e.webAppSelectForm),u.R7$(),u.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),u.R7$(4),u.Y8G("ngForOf",$e.webAppTypes)}}function Ci(Ge,mn){if(1&Ge&&(u.j41(0,"option",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=mn.$implicit;u.Y8G("value",$e),u.R7$(),u.JRh(u.bMT(2,2,"Clients.WizardTypes."+$e))}}function wr(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"form",18)(1,"app-form-row",13)(2,"div",14)(3,"select",19,1),u.bIt("change",function(){u.eBV($e);const at=u.sdS(4),bn=u.XpG(2);return u.Njj(bn.setActive(at.value))}),u.DNE(5,Ci,3,4,"option",16),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.Y8G("formGroup",$e.robotAppSelectForm),u.R7$(),u.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),u.R7$(4),u.Y8G("ngForOf",$e.robotAppTypes)}}function Zr(Ge,mn){if(1&Ge&&(u.j41(0,"option",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=mn.$implicit;u.Y8G("value",$e),u.R7$(),u.JRh(u.bMT(2,2,"Clients.WizardTypes."+$e))}}function Aa(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"form",20)(1,"app-form-row",13)(2,"div",14)(3,"select",21,2),u.bIt("change",function(){u.eBV($e);const at=u.sdS(4),bn=u.XpG(2);return u.Njj(bn.setActive(at.value))}),u.DNE(5,Zr,3,4,"option",16),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.Y8G("formGroup",$e.nativeAppSelectForm),u.R7$(),u.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),u.R7$(4),u.Y8G("ngForOf",$e.nativeAppTypes)}}function ua(Ge,mn){if(1&Ge&&u.DNE(0,ca,6,5,"form",9)(1,wr,6,5,"form",10)(2,Aa,6,5,"form",11),2&Ge){const $e=u.XpG();u.Y8G("ngIf",!$e.isStarterMode&&($e.activeType===$e.wizardTypes.WebApplication||$e.activeType===$e.wizardTypes.PKCEWebApplication)),u.R7$(),u.Y8G("ngIf",$e.activeType===$e.wizardTypes.RobotApplication||$e.activeType===$e.wizardTypes.CIBARobotApplication),u.R7$(),u.Y8G("ngIf",!$e.isStarterMode&&($e.activeType===$e.wizardTypes.NativeApplication||$e.activeType===$e.wizardTypes.PKCENativeApplication))}}function uo(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Home.Title")))}function pa(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.SPA.Title")))}function Cr(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.WebApp.Title")))}function Or(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.PKCEWebApp.Title")))}function Kr(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.NativeApp.Title")))}function xr(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.PKCENativeApp.Title")))}function qr(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.MachineToMachine.Title")))}function da(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function Fa(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.DeviceFlow.Title")))}function fr(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Saml.Title")))}function kr(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.WsFed.Title")))}function Lo(Ge,mn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.LegacySPA.Title")))}function ea(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.Home.Description"),u.npT)}function Da(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.SPA.Description"),u.npT)}function Ba(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.WebApp.Description"),u.npT)}function Vr(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.PKCEWebApp.Description"),u.npT)}function pr(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.NativeApp.Description"),u.npT)}function Na(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.PKCENativeApp.Description"),u.npT)}function qa(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.MachineToMachine.Description"),u.npT)}function Sa(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),u.npT)}function Pr(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.DeviceFlow.Description"),u.npT)}function Vs(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.Saml.Description"),u.npT)}function _r(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.WsFed.Description"),u.npT)}function Lr(Ge,mn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.LegacySPA.Description"),u.npT)}let So=(()=>{class Ge{get isDuende(){return this.data===js.y.Duende}constructor($e,It,at){this.licenseService=$e,this.fb=It,this.configService=at,this.wizardTypes=yt.$,this.activeType=yt.$.SinglePageApplication,this.webAppTypes=[yt.$.PKCEWebApplication,yt.$.WebApplication],this.robotAppTypes=[yt.$.RobotApplication,yt.$.CIBARobotApplication],this.nativeAppTypes=[yt.$.PKCENativeApplication,yt.$.NativeApplication],this.starterModeProtectedSetups=[yt.$.WebApplication,yt.$.PKCEWebApplication,yt.$.PKCENativeApplication,yt.$.NativeApplication,yt.$.DeviceApplication,yt.$.SamlApplication,yt.$.WsFedApplication,yt.$.LegacySinglePageApplication]}hosted(){}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,Ke.$)()).subscribe($e=>{this.isStarterMode=$e.isStarterLicense()}),this.configService.getConfig().pipe((0,Ke.$)()).subscribe({next:$e=>{this.samlDisabled=!$e.samlPersistenceAvailable}})}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!this.isStarterMode||!this.starterModeProtectedType()}selectedType(){return this.activeType}onNext(){throw new Error("Method not implemented.")}buildOptionsArray(){var $e=[{id:"spaBtn",btnId:"spaTestBtn",title:"Clients.SPA.Title",summary:"Clients.SPA.Summary",icon:"fab fa-chrome",type:yt.$.SinglePageApplication,selectedTypes:[yt.$.SinglePageApplication],starterMode:!0,disabled:!1},{id:"webAppBtn",btnId:"webAppTestBtn",title:"Clients.WebApp.Title",summary:"Clients.WebApp.Summary",icon:"fas fa-globe",type:yt.$.PKCEWebApplication,selectedTypes:[yt.$.WebApplication,yt.$.PKCEWebApplication],starterMode:!1,disabled:!1},{id:"nativeBtn",btnId:"nativeTestBtn",title:"Clients.NativeApp.Title",summary:"Clients.PKCENativeApp.Summary",icon:"fas fa-mobile-alt",type:yt.$.PKCENativeApplication,selectedTypes:[yt.$.NativeApplication,yt.$.PKCENativeApplication],starterMode:!1,disabled:!1},{id:"robotBtn",btnId:"robotTestBtn",title:"Clients.MachineToMachine.Title",summary:"Clients.MachineToMachine.Summary",icon:"fas fa-microchip",type:yt.$.RobotApplication,selectedTypes:[yt.$.RobotApplication,yt.$.CIBARobotApplication],starterMode:!0,disabled:!1},{id:"deviceBtn",btnId:"deviceTestBtn",title:"Clients.DeviceFlow.Title",summary:"Clients.DeviceFlow.Summary",icon:"fas fa-wifi",type:yt.$.DeviceApplication,selectedTypes:[yt.$.DeviceApplication],starterMode:!1,disabled:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"Clients.Saml.Title",summary:"Clients.Saml.Summary",icon:"fas fa-code",type:yt.$.SamlApplication,selectedTypes:[yt.$.SamlApplication],starterMode:!1,disabled:this.samlDisabled},{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:"Clients.LegacySPA.Title",summary:"Clients.LegacySPA.Summary",icon:"fab fa-chrome",type:yt.$.LegacySinglePageApplication,selectedTypes:[yt.$.LegacySinglePageApplication],starterMode:!1,disabled:!1}];return this.isDuende&&$e.push({id:"wsfedBtn",btnId:"wsfedTestBtn",title:"Clients.WsFed.Title",summary:"Clients.WsFed.Summary",icon:"far fa-id-card",type:yt.$.WsFedApplication,selectedTypes:[yt.$.WsFedApplication],starterMode:!1,disabled:!1}),$e}setActive($e){this.activeType=$e,this.setWebAppSelection($e),this.setRobotAppSelection($e),this.setNativeAppSelection($e)}starterModeProtectedType(){return this.starterModeProtectedSetups.includes(this.activeType)}setWebAppSelection($e){($e===yt.$.WebApplication||$e===yt.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:$e}))}setRobotAppSelection($e){this.isDuende&&($e===yt.$.RobotApplication||$e===yt.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:$e}))}setNativeAppSelection($e){($e===yt.$.NativeApplication||$e===yt.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:$e}))}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(gt.X),u.rXU(a.ze),u.rXU(Ts.w))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-client-type-select"]],inputs:{data:"data"},standalone:!1,decls:32,vars:9,consts:[["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"]],template:function(It,at){if(1&It&&(u.j41(0,"div",3),u.nrm(1,"p",4),u.nI1(2,"translate"),u.k0s(),u.j41(3,"app-type-selector",5),u.bIt("select",function(Ri){return at.setActive(Ri)}),u.k0s(),u.DNE(4,ua,3,3),u.j41(5,"div",6)(6,"h2",7),u.nrm(7,"span",8),u.DNE(8,uo,3,3,"span")(9,pa,3,3,"span")(10,Cr,3,3,"span")(11,Or,3,3,"span")(12,Kr,3,3,"span")(13,xr,3,3,"span")(14,qr,3,3,"span")(15,da,3,3,"span")(16,Fa,3,3,"span")(17,fr,3,3,"span")(18,kr,3,3,"span")(19,Lo,3,3,"span"),u.k0s(),u.DNE(20,ea,2,3,"p",4)(21,Da,2,3,"p",4)(22,Ba,2,3,"p",4)(23,Vr,2,3,"p",4)(24,pr,2,3,"p",4)(25,Na,2,3,"p",4)(26,qa,2,3,"p",4)(27,Sa,2,3,"p",4)(28,Pr,2,3,"p",4)(29,Vs,2,3,"p",4)(30,_r,2,3,"p",4)(31,Lr,2,3,"p",4),u.k0s()),2&It){let bn,Ri;u.R7$(),u.Y8G("innerHTML",u.bMT(2,7,"Clients.Home.Description"),u.npT),u.R7$(2),u.Y8G("activeType",at.activeType)("isStarterMode",at.isStarterMode)("options",at.buildOptionsArray()),u.R7$(),u.vxM(at.isDuende?4:-1),u.R7$(4),u.vxM((bn=at.activeType)===at.wizardTypes.Home?8:bn===at.wizardTypes.SinglePageApplication?9:bn===at.wizardTypes.WebApplication?10:bn===at.wizardTypes.PKCEWebApplication?11:bn===at.wizardTypes.NativeApplication?12:bn===at.wizardTypes.PKCENativeApplication?13:bn===at.wizardTypes.RobotApplication?14:bn===at.wizardTypes.CIBARobotApplication?15:bn===at.wizardTypes.DeviceApplication?16:bn===at.wizardTypes.SamlApplication?17:bn===at.wizardTypes.WsFedApplication?18:bn===at.wizardTypes.LegacySinglePageApplication?19:-1),u.R7$(12),u.vxM((Ri=at.activeType)===at.wizardTypes.Home?20:Ri===at.wizardTypes.SinglePageApplication?21:Ri===at.wizardTypes.WebApplication?22:Ri===at.wizardTypes.PKCEWebApplication?23:Ri===at.wizardTypes.NativeApplication?24:Ri===at.wizardTypes.PKCENativeApplication?25:Ri===at.wizardTypes.RobotApplication?26:Ri===at.wizardTypes.CIBARobotApplication?27:Ri===at.wizardTypes.DeviceApplication?28:Ri===at.wizardTypes.SamlApplication?29:Ri===at.wizardTypes.WsFedApplication?30:Ri===at.wizardTypes.LegacySinglePageApplication?31:-1)}},dependencies:[t.Sq,t.bT,a.qT,a.xH,a.y7,a.wz,a.BC,a.cb,a.j4,a.JD,he.Y,Hr.N,R.D9],encapsulation:2})}}return Ge})();class ya extends Ki.p{constructor(){super(),this.nameComponentMap.set(yt.$.Home,[new Nn.W(So,js.y.Duende)]),this.nameComponentMap.set(yt.$.SinglePageApplication,[new Nn.W(Pn,new Et(Ve.s.BrowserBased)),new Nn.W(Ai,new jt(Ve.s.BrowserBased)),new Nn.W(li,new Os(Ve.s.BrowserBased)),new Nn.W(Vt,{}),new Nn.W(pi,{})]),this.nameComponentMap.set(yt.$.LegacySinglePageApplication,[new Nn.W(Pn,new Et(Ve.s.LegacyClientSide)),new Nn.W(Ai,new jt(Ve.s.LegacyClientSide)),new Nn.W(li,new Os(Ve.s.LegacyClientSide)),new Nn.W(Vt,{}),new Nn.W(pi,{})]),this.nameComponentMap.set(yt.$.SamlApplication,[new Nn.W(Pn,new Et(Ve.s.Saml,Jt.Saml)),new Nn.W(Di,{endpointType:"ACSEndpoint"}),new Nn.W(Di,{endpointType:"SLOEndpoint"}),new Nn.W(Di,{endpointType:"ARSEndpoint"}),new Nn.W(Vt)]),this.nameComponentMap.set(yt.$.WsFedApplication,[new Nn.W(Pn,new Et(Ve.s.WsFed,Jt.WsFed)),new Nn.W(Ai,new jt(Ve.s.WsFed)),new Nn.W(Vt)]),this.nameComponentMap.set(yt.$.DeviceApplication,[new Nn.W(Pn,new Et(Ve.s.Device)),new Nn.W(pi,{}),new Nn.W(Vt,{})]),this.nameComponentMap.set(yt.$.RobotApplication,[new Nn.W(Pn,new Et(Ve.s.Machine)),new Nn.W(pi,{}),new Nn.W(Ie,{})]),this.nameComponentMap.set(yt.$.CIBARobotApplication,[new Nn.W(Pn,new Et(Ve.s.CIBAMachine)),new Nn.W(Vt,{}),new Nn.W(pi,{}),new Nn.W(Ie,{}),new Nn.W(Li,{})]),this.nameComponentMap.set(yt.$.NativeApplication,[new Nn.W(Pn,new Et(Ve.s.Native)),new Nn.W(Ai,new jt(Ve.s.Native)),new Nn.W(Ie,{}),new Nn.W(Vt,{}),new Nn.W(pi,{})]),this.nameComponentMap.set(yt.$.PKCENativeApplication,[new Nn.W(Pn,new Et(Ve.s.NativePKCE)),new Nn.W(Ai,new jt(Ve.s.NativePKCE)),new Nn.W(Ie,{}),new Nn.W(Vt,{}),new Nn.W(pi,{})]),this.nameComponentMap.set(yt.$.WebApplication,[new Nn.W(Pn,new Et(Ve.s.ServerSide)),new Nn.W(Ai,new jt(Ve.s.ServerSide)),new Nn.W(li,new Os(Ve.s.ServerSide)),new Nn.W(Ie,{}),new Nn.W(Vt,{}),new Nn.W(pi,{})]),this.nameComponentMap.set(yt.$.PKCEWebApplication,[new Nn.W(Pn,new Et(Ve.s.ServerSidePKCE)),new Nn.W(Ai,new jt(Ve.s.ServerSidePKCE)),new Nn.W(li,new Os(Ve.s.ServerSidePKCE)),new Nn.W(Ie,{}),new Nn.W(Vt,{}),new Nn.W(pi,{})]),this.nameTitleMap.set(yt.$.Home,new Ji.J("Clients.Home.Title","")),this.nameTitleMap.set(yt.$.SinglePageApplication,new Ji.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(yt.$.LegacySinglePageApplication,new Ji.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(yt.$.DeviceApplication,new Ji.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(yt.$.RobotApplication,new Ji.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(yt.$.CIBARobotApplication,new Ji.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(yt.$.NativeApplication,new Ji.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(yt.$.PKCENativeApplication,new Ji.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(yt.$.WebApplication,new Ji.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(yt.$.PKCEWebApplication,new Ji.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(yt.$.SamlApplication,new Ji.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(yt.$.WsFedApplication,new Ji.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(mn){return this.nameComponentMap.get(mn)}getWizardTitle(mn){return this.nameTitleMap.get(mn)}}var rr=l(3973),hs=l(1715);function As(Ge,mn){if(1&Ge&&(u.j41(0,"div",5),u.nrm(1,"div",17),u.k0s()),2&Ge){const $e=u.XpG();u.R7$(),u.xc7("width",$e.progressPercent+"%"),u.BMQ("aria-valuenow",$e.progressPercent)}}function Ps(Ge,mn){}function Wr(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",18),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.nextTab())}),u.EFF(1),u.nI1(2,"translate"),u.k0s()}if(2&Ge){const $e=u.XpG();u.Y8G("disabled",!$e.canNext()),u.R7$(),u.JRh(u.bMT(2,2,"Common.Next"))}}function Sr(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",19),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.submit())}),u.EFF(1),u.nI1(2,"translate"),u.k0s()}2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Save")))}function Jo(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",20),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.previousTab())}),u.EFF(1),u.nI1(2,"translate"),u.k0s()}2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Back")))}function Uo(Ge,mn){1&Ge&&(u.j41(0,"a",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let eo=(()=>{class Ge extends rr.P{constructor($e,It,at,bn){super(It,at,bn),this.clientsService=$e,this.wizardProvider=new ya,this.wizardName=yt.$.Home}submit(){const $e=this.getWizardDto();this.clientsService.addClient($e).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+$e.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:It=>{this.errorService.handleError(It)}})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(E._),u.rXU(V.I),u.rXU(dt.tw),u.rXU(R.c$))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-client-wizard-host"]],standalone:!1,features:[u.Jv_([E._]),u.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn-secondary","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn-secondary",3,"click"]],template:function(It,at){if(1&It&&(u.j41(0,"div",0)(1,"h5",1),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"button",2),u.bIt("click",function(){return at.hideWizard()}),u.nrm(5,"span",3),u.j41(6,"span",4),u.EFF(7),u.nI1(8,"translate"),u.k0s()()(),u.DNE(9,As,2,3,"div",5),u.j41(10,"div",6),u.DNE(11,Ps,0,0,"ng-template",7),u.k0s(),u.nrm(12,"div",8),u.j41(13,"div",9)(14,"div",10)(15,"div",11),u.DNE(16,Wr,3,4,"button",12)(17,Sr,3,3,"button",13)(18,Jo,3,3,"button",14)(19,Uo,3,3,"a",15),u.k0s(),u.j41(20,"button",16),u.bIt("click",function(){return at.cancelWizard()}),u.EFF(21),u.nI1(22,"translate"),u.k0s()()()),2&It){let bn;u.R7$(),u.Y8G("id",at.titleId),u.R7$(),u.JRh(u.bMT(3,9,null!==(bn=null==at.wizardTitles?null:at.wizardTitles.setupTitle)&&void 0!==bn?bn:"")),u.R7$(5),u.JRh(u.bMT(8,11,"Common.Close")),u.R7$(2),u.vxM(at.showProgress?9:-1),u.R7$(7),u.Y8G("ngIf",at.index<(null==at.wizardSteps?null:at.wizardSteps.length)),u.R7$(),u.Y8G("ngIf",at.index==(null==at.wizardSteps?null:at.wizardSteps.length)),u.R7$(),u.Y8G("ngIf",!at.initialStep()),u.R7$(),u.vxM(at.initialStep()&&null!=at.asAny&&at.asAny.displayUpgradeIcon?19:-1),u.R7$(2),u.JRh(u.bMT(22,13,"Common.Cancel"))}},dependencies:[t.bT,hs.t,R.D9],encapsulation:2})}}return Ge})();const Qo=(Ge,mn)=>({"tw-alert":Ge,"tw-alert-warning":mn}),H=Ge=>({limit:Ge,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"});function ie(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-client-wizard-host",12,0),u.bIt("finish",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.onFinish())})("hide",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hideWizard())})("wizardCancel",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hideWizard())}),u.k0s()}if(2&Ge){const $e=u.XpG();u.Y8G("displayUpgradeIcon",$e.licenseInfo.isStarterLicense())}}function ee(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-import-wizard",13,1),u.bIt("finish",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.reload())}),u.k0s()}}function Ee(Ge,mn){if(1&Ge&&(u.j41(0,"div",14),u.nrm(1,"span",15),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=u.XpG();u.Y8G("ngClass",u.l_i(5,Qo,$e.limitReached,$e.overLimit)),u.R7$(),u.Y8G("innerHTML",u.i5U(2,2,"Common.QuotaLimit",u.eq3(8,H,$e.licenseInfo.maxClients)),u.npT)}}function qe(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"div",22)(1,"label",23),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"select",24),u.mxI("ngModelChange",function(at){u.eBV($e);const bn=u.XpG(2);return u.DH7(bn.pageSize,at)||(bn.pageSize=at),u.Njj(at)}),u.bIt("change",function(){u.eBV($e);const at=u.XpG(2);return u.Njj(at.setPageLength(+at.pageSize))}),u.j41(5,"option",25),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"option",26),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"option",27),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()}if(2&Ge){const $e=u.XpG(2);u.R7$(2),u.Lme("",$e.pageSize," ",u.bMT(3,6,"Nav.PerPage"),""),u.R7$(2),u.R50("ngModel",$e.pageSize),u.R7$(2),u.SpI("25 ",u.bMT(7,8,"Nav.PerPage"),""),u.R7$(3),u.SpI("50 ",u.bMT(10,10,"Nav.PerPage"),""),u.R7$(3),u.SpI("100 ",u.bMT(13,12,"Nav.PerPage"),"")}}function Pt(Ge,mn){1&Ge&&(u.j41(0,"span",31)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.nrm(4,"span",32),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"StarterMode.RequiresUpgrade")))}function yn(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",28),u.nI1(1,"translate"),u.bIt("click",function(){u.eBV($e);const at=u.XpG(2),bn=u.sdS(5);return u.Njj(at.showWizard(bn,!0))}),u.j41(2,"span")(3,"span",9),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.nrm(6,"span",29),u.k0s(),u.DNE(7,Pt,5,3,"span",30),u.k0s()}if(2&Ge){const $e=u.XpG(2);u.Y8G("tooltip",u.bMT(1,3,"Clients.Import.Import")),u.R7$(4),u.JRh(u.bMT(5,5,"Clients.Import.ImportClients")),u.R7$(3),u.Y8G("ngIf",$e.licenseInfo.isStarterLicense())}}function ai(Ge,mn){if(1&Ge&&(u.j41(0,"span",37),u.EFF(1),u.k0s()),2&Ge){const $e=u.XpG(3);u.R7$(),u.JRh($e.clientSelectedCount)}}function ts(Ge,mn){1&Ge&&(u.j41(0,"span",38)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.nrm(4,"span",32),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"StarterMode.RequiresUpgrade")))}function ji(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",33),u.bIt("click",function(){u.eBV($e);const at=u.XpG(2);return u.Njj(at.exportClients())}),u.j41(1,"span")(2,"span",9),u.EFF(3),u.k0s(),u.nrm(4,"span",34),u.DNE(5,ai,2,1,"span",35),u.k0s(),u.DNE(6,ts,5,3,"span",36),u.k0s()}if(2&Ge){const $e=u.XpG(2);u.Y8G("tooltip",$e.currentExportTooltip),u.R7$(3),u.JRh($e.currentExportText),u.R7$(2),u.Y8G("ngIf",$e.shouldDisplayCount),u.R7$(),u.Y8G("ngIf",$e.licenseInfo.isStarterLicense())}}function Js(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-action-bar"),u.qex(1,16),u.DNE(2,qe,14,14,"div",17),u.bVm(),u.qex(3,18),u.j41(4,"button",19),u.bIt("click",function(){u.eBV($e);const at=u.XpG(),bn=u.sdS(3);return u.Njj(at.showWizard(bn,at.limitReached))}),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.DNE(7,yn,8,7,"button",20)(8,ji,7,4,"button",21),u.bVm(),u.k0s()}if(2&Ge){const $e=u.XpG();u.R7$(2),u.Y8G("ngIf",(null==$e.pagedResult?null:$e.pagedResult.results.length)>0),u.R7$(2),u.Y8G("disabled",$e.limitReached),u.R7$(),u.SpI(" ",u.bMT(6,5,"Clients.Add")," "),u.R7$(2),u.Y8G("ngIf",$e.canImportExport),u.R7$(),u.Y8G("ngIf",$e.canImportExport)}}function Ur(Ge,mn){1&Ge&&u.nrm(0,"app-simple-loader")}function ma(Ge,mn){1&Ge&&(u.j41(0,"div",42)(1,"div"),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Clients.None")))}function Va(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"th",49)(1,"label",50)(2,"input",51),u.bIt("change",function(){u.eBV($e);const at=u.XpG(3);return u.Njj(at.toggleAllClients())}),u.mxI("ngModelChange",function(at){u.eBV($e);const bn=u.XpG(3);return u.DH7(bn.allClientsSelected,at)||(bn.allClientsSelected=at),u.Njj(at)}),u.k0s()()()}if(2&Ge){const $e=u.XpG(3);u.R7$(2),u.R50("ngModel",$e.allClientsSelected)}}function Ir(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"label",63)(1,"input",64),u.bIt("change",function(){u.eBV($e);const at=u.XpG(5);return u.Njj(at.areAllClientsSelected())}),u.mxI("ngModelChange",function(at){u.eBV($e);const bn=u.XpG(2).$implicit;return u.DH7(bn.selected,at)||(bn.selected=at),u.Njj(at)}),u.k0s()()}if(2&Ge){const $e=u.XpG(2).$implicit;u.FS9("for",$e.id),u.R7$(),u.FS9("id",$e.id),u.R50("ngModel",$e.selected)}}function La(Ge,mn){if(1&Ge&&(u.j41(0,"td",61),u.DNE(1,Ir,2,3,"label",62),u.k0s()),2&Ge){const $e=u.XpG().$implicit,It=u.XpG(3);u.R7$(),u.Y8G("ngIf",!It.resourceIsReadOnly($e))}}function to(Ge,mn){1&Ge&&(u.j41(0,"span",65)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Common.Disabled")))}function _c(Ge,mn){1&Ge&&(u.j41(0,"span",66),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Common.Disabled")," "))}function Is(Ge,mn){1&Ge&&(u.j41(0,"span",67),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Common.Reserved")," "))}function Ma(Ge,mn){1&Ge&&(u.nrm(0,"span",68),u.j41(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Common.View")))}function Zo(Ge,mn){1&Ge&&(u.nrm(0,"span",69),u.j41(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Common.Edit")))}function Ks(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"tr",52),u.DNE(1,La,2,1,"td",53),u.j41(2,"td",54),u.bIt("click",function(){const at=u.eBV($e).$implicit,bn=u.XpG(3);return u.Njj(bn.navigate(at,at.id))}),u.DNE(3,to,4,3,"span",55),u.j41(4,"b"),u.EFF(5),u.k0s()(),u.j41(6,"td",56),u.bIt("click",function(){const at=u.eBV($e).$implicit,bn=u.XpG(3);return u.Njj(bn.navigate(at,at.id))}),u.EFF(7),u.k0s(),u.j41(8,"td",57),u.bIt("click",function(){const at=u.eBV($e).$implicit,bn=u.XpG(3);return u.Njj(bn.navigate(at,at.id))}),u.DNE(9,_c,3,3,"span",58)(10,Is,3,3,"span",59),u.k0s(),u.j41(11,"td",57),u.bIt("click",function(){const at=u.eBV($e).$implicit,bn=u.XpG(3);return u.Njj(bn.navigate(at,at.id))}),u.j41(12,"button",60),u.bIt("click",function(){const at=u.eBV($e).$implicit,bn=u.XpG(3);return u.Njj(bn.navigate(at,at.id))}),u.DNE(13,Ma,4,3)(14,Zo,4,3),u.k0s()()()}if(2&Ge){const $e=mn.$implicit,It=u.XpG(3);u.AVh("inactive",!$e.enabled||It.resourceIsReadOnly($e)),u.FS9("id",$e.clientName),u.R7$(),u.Y8G("ngIf",It.hasEditPermission),u.R7$(2),u.Y8G("ngIf",!$e.enabled),u.R7$(),u.AVh("tw-text-blue-500",!(null!=$e&&$e.nonEditable)),u.R7$(),u.SpI(" ",null==$e?null:$e.clientName," "),u.R7$(2),u.SpI(" ",null==$e?null:$e.description," "),u.R7$(2),u.Y8G("ngIf",!$e.enabled),u.R7$(),u.Y8G("ngIf",null==$e?null:$e.nonEditable),u.R7$(3),u.vxM(It.resourceIsReadOnly($e)?13:14)}}function Eo(Ge,mn){if(1&Ge&&(u.j41(0,"table",43)(1,"thead")(2,"tr"),u.DNE(3,Va,3,1,"th",44),u.j41(4,"th",45),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.j41(7,"th",46),u.EFF(8),u.nI1(9,"translate"),u.k0s(),u.j41(10,"th",47)(11,"span",9),u.EFF(12),u.nI1(13,"translate"),u.k0s()(),u.j41(14,"th",47)(15,"span",9),u.EFF(16),u.nI1(17,"translate"),u.k0s()()()(),u.j41(18,"tbody"),u.DNE(19,Ks,15,12,"tr",48),u.k0s()()),2&Ge){const $e=u.XpG(2);u.R7$(3),u.Y8G("ngIf",$e.hasEditPermission),u.R7$(2),u.JRh(u.bMT(6,6,"Common.Name")),u.R7$(3),u.JRh(u.bMT(9,8,"Common.Description")),u.R7$(4),u.JRh(u.bMT(13,10,"Common.Reserved")),u.R7$(4),u.JRh(u.bMT(17,12,"Common.Actions")),u.R7$(3),u.Y8G("ngForOf",$e.allClients)}}function Sl(Ge,mn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-pager",70),u.bIt("onGoToPage",function(at){u.eBV($e);const bn=u.XpG(2);return u.Njj(bn.goToPage(at))}),u.k0s()}if(2&Ge){const $e=u.XpG(2);u.Y8G("totalResults",null==$e.pagedResult?null:$e.pagedResult.totalCount)("currentPage",$e.page)("lastPage",null==$e.pagedResult?null:$e.pagedResult.pageCount)}}function El(Ge,mn){if(1&Ge&&(u.qex(0),u.DNE(1,ma,4,3,"div",39)(2,Eo,20,14,"table",40)(3,Sl,1,3,"app-pager",41),u.bVm()),2&Ge){const $e=u.XpG();u.R7$(),u.Y8G("ngIf",(null==$e.allClients?null:$e.allClients.length)<1),u.R7$(),u.Y8G("ngIf",(null==$e.allClients?null:$e.allClients.length)>0),u.R7$(),u.Y8G("ngIf",(null==$e.pagedResult?null:$e.pagedResult.results.length)>0&&!$e.isLoading)}}let To=(()=>{class Ge extends Ui.u{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor($e,It,at,bn,Ri,us,qi,Er,Br,Yr,mr,Ys,tr){super(mr,bn,!0,tr,Ys,Yr),this.errorService=$e,this.titleService=It,this.clientsService=at,this.translate=bn,this.localize=Ri,this.exportService=us,this.modalService=qi,this.localizeRouter=Er,this.licenseService=Br,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new ms.B,this.pageSizeStream=new ms.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm($e){return this.term=$e,{searchTerm:$e,page:1,pageSize:this.pageSize}}ngOnInit(){const $e=this.translate.instant("Nav.Clients")+" - "+vt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle($e),this.canImportExport=this.securityService.allView;const It=this.pageStream.pipe((0,g.T)(Ri=>(this.page=Ri,{searchTerm:this.term,page:Ri,pageSize:this.pageSize}))),at=this.pageSizeStream.pipe((0,g.T)(Ri=>(this.pageSize=Ri,{searchTerm:this.term,page:this.page,pageSize:Ri})));It.pipe((0,xi.X)(at),(0,xi.X)(this.searchSource),(0,xi.X)(this.enterKeySource),(0,wt.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Tt.Z)(Ri=>(this.isLoading=!0,this.clientsService.getClients(Ri.searchTerm,Ri.page,Ri.pageSize).pipe((0,xt.c)(200))))).subscribe({next:Ri=>{this.pagedResult=Ri,this.allClients=this.pagedResult.results.map(us=>new Ei(us)).sort((us,qi)=>Number(qi.nonEditable)-Number(us.nonEditable)),this.isLoading=!1},error:Ri=>{this.errorService.handleError(Ri),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,Ke.$)()).subscribe(Ri=>{this.licenseInfo=Ri})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const $e=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([$e],{queryParams:{feature:Dn.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard($e,It=!1){It&&this.checkStarterMode()||this.modalService.show($e,{id:Ti.R.Id,ariaLabelledBy:Ti.R.TileId,ariaDescribedby:Ti.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(Ti.R.Id)}goToPage($e){this.pageStream.next($e)}setPageLength($e){this.page=1,this.pageSizeStream.next($e)}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const $e=this.allClients.filter(It=>It.selected).map(It=>It.clientId);this.exportService.exportSelectedClients($e)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every($e=>$e.selected||$e.nonEditable),this.clientSelectedCount=this.allClients.filter($e=>$e.selected&&!$e.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter($e=>!$e.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let $e=!0;this.allClients.forEach(It=>{!It.nonEditable&&!It.selected&&($e=!1)}),this.allClients.forEach(It=>{It.nonEditable||(It.selected=!$e)}),this.shouldDisplayCount=!1,this.clientSelectedCount=$e?0:this.allClients.filter(It=>!It.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!$e}get isAuthorizationServerManagerReadOnly(){return(0,ct.tb)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}resourceIsReadOnly($e){const It=Bi.RestrictedClientTypes.includes($e.clientType);return!this.hasEditPermission||$e.nonEditable||this.overLimit||It&&this.licenseInfo.isStarterLicense()}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(V.I),u.rXU(ge.hE),u.rXU(E._),u.rXU(R.c$),u.rXU(A.QG),u.rXU(y._),u.rXU(e.I8),u.rXU(A.QG),u.rXU(gt.X),u.rXU(o.Ix),u.rXU(dt.tw),u.rXU(zi.i),u.rXU(o.nX))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["ng-component"]],standalone:!1,features:[u.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(It,at){if(1&It){const bn=u.RV6();u.nrm(0,"app-title-bar",2),u.nI1(1,"translate"),u.DNE(2,ie,2,1,"ng-template",null,0,u.C5r)(4,ee,2,0,"ng-template",null,1,u.C5r),u.j41(6,"div",3),u.DNE(7,Ee,3,10,"div",4),u.j41(8,"div",5)(9,"div",6)(10,"label",7),u.nrm(11,"span",8),u.j41(12,"span",9),u.EFF(13),u.nI1(14,"translate"),u.k0s()(),u.j41(15,"input",10),u.nI1(16,"translate"),u.mxI("ngModelChange",function(us){return u.eBV(bn),u.DH7(at.searchTerm,us)||(at.searchTerm=us),u.Njj(us)}),u.bIt("keyup",function(us){return u.eBV(bn),u.Njj(at.search(us))}),u.k0s()()(),u.DNE(17,Js,9,7,"app-action-bar",11)(18,Ur,1,0,"app-simple-loader",11)(19,El,4,3,"ng-container",11),u.k0s()}2&It&&(u.Y8G("title",u.bMT(1,8,"Nav.Clients")),u.R7$(7),u.Y8G("ngIf",at.limitReached),u.R7$(6),u.JRh(u.bMT(14,10,"Common.Search")),u.R7$(2),u.FS9("placeholder",u.bMT(16,12,"Clients.SearchPlaceholder")),u.R50("ngModel",at.searchTerm),u.R7$(2),u.Y8G("ngIf",!at.isLoading&&at.hasEditPermission),u.R7$(),u.Y8G("ngIf",at.isLoading),u.R7$(),u.Y8G("ngIf",!at.isLoading))},dependencies:[t.YU,t.Sq,t.bT,a.xH,a.y7,a.me,a.Zm,a.wz,a.BC,a.vS,w.dg,en.z,ls.B,ut.n,Rt.d,ri,eo,R.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ge})();const jr=(Ge,mn)=>({title:Ge,link:mn}),ws=Ge=>[Ge];function ga(Ge,mn){1&Ge&&(u.j41(0,"option",23),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Nav.Saml")))}function _a(Ge,mn){1&Ge&&(u.j41(0,"option",24),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.RelyingParty.Heading")))}function jo(Ge,mn){1&Ge&&(u.j41(0,"option",25),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.URLS.Title")))}function wo(Ge,mn){1&Ge&&(u.j41(0,"option",26),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Secrets")))}function Rr(Ge,mn){1&Ge&&(u.j41(0,"option",27),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.CIBA")))}function Ea(Ge,mn){1&Ge&&(u.j41(0,"span",28),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" - ",u.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function qo(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function Oa(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Yl(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function vc(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function Ua(Ge,mn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function dl(Ge,mn){1&Ge&&(u.j41(0,"span",29),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Common.Disabled")," "))}let Tl=(()=>{class Ge{constructor($e,It,at,bn,Ri,us,qi,Er){this.clientCachingService=$e,this.clientViewService=It,this.titleService=at,this.translate=bn,this.errorService=Ri,this.licenseService=us,this.router=qi,this.route=Er}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe($e=>{this.client=$e;const It=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+vt.$9.SITE_TITLE;this.titleService.setTitle(It)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:$e=>this.licenseInfo=$e})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute($e){this.router.navigate([$e],{relativeTo:this.route})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(B.e),u.rXU(it.q),u.rXU(ge.hE),u.rXU(R.c$),u.rXU(V.I),u.rXU(gt.X),u.rXU(o.Ix),u.rXU(o.nX))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-view-client"]],standalone:!1,features:[u.Jv_([it.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(It,at){if(1&It&&(u.j41(0,"app-title-bar",0),u.nI1(1,"translate"),u.nI1(2,"localize"),u.qex(3,1),u.j41(4,"div",2)(5,"label",3),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"div",4)(9,"select",5),u.bIt("change",function(Ri){return at.mobRoute(Ri.target.value)}),u.j41(10,"option",6),u.EFF(11),u.nI1(12,"translate"),u.k0s(),u.j41(13,"option",6),u.EFF(14),u.nI1(15,"translate"),u.k0s(),u.DNE(16,ga,3,3,"option",7)(17,_a,3,3,"option",8)(18,jo,3,3,"option",9)(19,wo,3,3,"option",10),u.j41(20,"option",11),u.EFF(21),u.nI1(22,"translate"),u.k0s(),u.DNE(23,Rr,3,3,"option",12),u.j41(24,"option",13),u.EFF(25),u.nI1(26,"translate"),u.k0s(),u.j41(27,"option",14),u.EFF(28),u.nI1(29,"translate"),u.DNE(30,Ea,3,3,"span",15),u.k0s()()()(),u.j41(31,"app-custom-tabs",16),u.nrm(32,"app-custom-tab",17),u.DNE(33,qo,1,2,"app-custom-tab",18)(34,Oa,1,2,"app-custom-tab",18)(35,Yl,1,2,"app-custom-tab",18)(36,vc,1,2,"app-custom-tab",18),u.nrm(37,"app-custom-tab",17),u.DNE(38,Ua,1,2,"app-custom-tab",18),u.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),u.k0s(),u.bVm(),u.qex(41,20),u.DNE(42,dl,3,3,"span",21),u.bVm(),u.k0s(),u.j41(43,"div",22),u.nrm(44,"router-outlet"),u.k0s()),2&It){let bn,Ri;u.Y8G("title",at.client.clientName)("crumbs",u.eq3(52,ws,u.l_i(49,jr,u.bMT(1,33,"Nav.Clients"),u.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",at.client.nonEditable),u.R7$(6),u.JRh(u.bMT(7,37,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(12,39,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(15,41,"Nav.Details")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(2),u.JRh(u.bMT(22,43,"Nav.Resources")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(2),u.JRh(u.bMT(26,45,"Common.Advanced")),u.R7$(3),u.SpI(" ",u.bMT(29,47,"Nav.Audits")," "),u.R7$(2),u.Y8G("ngIf",null!==(bn=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==bn&&bn),u.R7$(2),u.Y8G("tabTitle","Nav.Details")("tabValue","details"),u.R7$(),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(),u.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),u.R7$(),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(),u.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),u.R7$(),u.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Ri=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==Ri&&Ri),u.R7$(2),u.Y8G("ngIf",!at.client.enabled)}},dependencies:[o.n3,t.bT,en.z,Tn.G,Wn.v,R.D9,A.tl],encapsulation:2})}}return Ge})();var or=l(3178),no=l(2892),ho=l(8416),Fs=l(4446),ci=l(9962);const ns=[{path:"clients",component:To,canActivate:[no.h,Fs._],data:{permissions:[or.a[or.a.AuthorizationServerManager],or.a[or.a.AuthorizationServerManagerReadOnly],or.a[or.a.AllReadOnly],or.a[or.a.All]],editPermissions:[or.a[or.a.AuthorizationServerManager],or.a[or.a.All]]}},{path:"clients/:id",component:zn,loadChildren:()=>Promise.all([l.e(105),l.e(763)]).then(l.bind(l,2763)).then(Ge=>Ge.EditClientModule),canDeactivate:[ho.M],resolve:{client:F},canActivate:[no.h,Fs._,ci.m],data:{permissions:[or.a[or.a.AuthorizationServerManager],or.a[or.a.All]]}},{path:"clients/view/:id",component:Tl,loadChildren:()=>Promise.all([l.e(105),l.e(632)]).then(l.bind(l,8632)).then(Ge=>Ge.ViewClientModule),resolve:{client:F},canActivate:[no.h,Fs._],data:{permissions:[or.a[or.a.AuthorizationServerManager],or.a[or.a.AuthorizationServerManagerReadOnly],or.a[or.a.AllReadOnly],or.a[or.a.All]]}}];let lr=(()=>{class Ge{static{this.\u0275fac=function(It){return new(It||Ge)}}static{this.\u0275mod=u.$C({type:Ge})}static{this.\u0275inj=u.G2t({imports:[p.iI.forChild(ns),A.XE.forChild(ns),p.iI]})}}return Ge})();var dr=l(1466),Fr=l(5667);let ta=(()=>{class Ge{static{this.\u0275fac=function(It){return new(It||Ge)}}static{this.\u0275mod=u.$C({type:Ge})}static{this.\u0275inj=u.G2t({providers:[F,M.R,dr.z,Z.c,ne.z,K.d,z.S,W._,y._,D.V],imports:[lr,t.MD,p.iI,a.YN,m.Y,a.X1,w.Ss,e.Q_,R.h,A.XE,L.F,lt.a,rt.m,Pe.i,v.c,Te.t,We.c,J.E,te.h,fe.w,oe.N,N.Y,Fr.g]})}}return Ge})()},1088:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>p});var t=l(3806),a=l(4866);class p{constructor(e){this.unitMap=a.A.getUnitMap(),this.formatSeconds(e)}formatSeconds(e){return this.years=Math.floor(e/this.unitMap.get(t.u.Years)),e-=this.years*this.unitMap.get(t.u.Years),this.months=Math.floor(e/this.unitMap.get(t.u.Month)),e-=this.months*this.unitMap.get(t.u.Month),this.weeks=Math.floor(e/this.unitMap.get(t.u.Weeks)),e-=this.weeks*this.unitMap.get(t.u.Weeks),this.days=Math.floor(e/this.unitMap.get(t.u.Days)),e-=this.days*this.unitMap.get(t.u.Days),this.hours=Math.floor(e/this.unitMap.get(t.u.Hours)),e-=this.hours*this.unitMap.get(t.u.Hours),this.minutes=Math.floor(e/this.unitMap.get(t.u.Minute)),e-=this.minutes*this.unitMap.get(t.u.Minute),this.seconds=e,this}}},1097:(ot,ve,l)=>{var t=l(6589);l(4579),l(5437),l(812);var p,a=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(p=l(310)),ot.exports=t.pbkdf2=a.pbkdf2=function(A,e,w,m,D,S){if("function"==typeof D&&(S=D,D=null),t.util.isNodejs&&!t.options.usePureJavaScript&&p.pbkdf2&&(null===D||"object"!=typeof D)&&(p.pbkdf2Sync.length>4||!D||"sha1"===D))return"string"!=typeof D&&(D="sha1"),A=Buffer.from(A,"binary"),e=Buffer.from(e,"binary"),S?4===p.pbkdf2Sync.length?p.pbkdf2(A,e,w,m,function(v,L){if(v)return S(v);S(null,L.toString("binary"))}):p.pbkdf2(A,e,w,m,D,function(v,L){if(v)return S(v);S(null,L.toString("binary"))}):4===p.pbkdf2Sync.length?p.pbkdf2Sync(A,e,w,m).toString("binary"):p.pbkdf2Sync(A,e,w,m,D).toString("binary");if((typeof D>"u"||null===D)&&(D="sha1"),"string"==typeof D){if(!(D in t.md.algorithms))throw new Error("Unknown hash algorithm: "+D);D=t.md[D].create()}var g=D.digestLength;if(m>4294967295*g){var k=new Error("Derived key is too long.");if(S)return S(k);throw k}var Y=Math.ceil(m/g),u=m-(Y-1)*g,E=t.hmac.create();E.start(D,A);var V,F,M,B="";if(!S){for(var W=1;W<=Y;++W){E.start(null,null),E.update(e),E.update(t.util.int32ToBytes(W)),V=M=E.digest().getBytes();for(var y=2;y<=w;++y)E.start(null,null),E.update(M),F=E.digest().getBytes(),V=t.util.xorBytes(V,F,g),M=F;B+=W<Y?V:V.substr(0,u)}return B}function z(){if(W>Y)return S(null,B);E.start(null,null),E.update(e),E.update(t.util.int32ToBytes(W)),V=M=E.digest().getBytes(),y=2,Z()}function Z(){if(y<=w)return E.start(null,null),E.update(M),F=E.digest().getBytes(),V=t.util.xorBytes(V,F,g),M=F,++y,t.util.setImmediate(Z);B+=W<Y?V:V.substr(0,u),++W,z()}W=1,z()}},1108:function(ot,ve){var a;!function(){"use strict";void 0!==(a=function(p){return function(e){e=e||{},function m(){e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",e.jsAttributeFilter=e.jsAttributeFilter,e.jsAttributeConverter=e.jsAttributeConverter,e.attributeConverters=e.attributeConverters||[],e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],e.xmldomOptions=e.xmldomOptions||{},void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!0),void 0===e.ignoreRoot&&(e.ignoreRoot=!1),void 0===e.escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),void 0===e.selfClosingElements&&(e.selfClosingElements=!0),void 0===e.keepCData&&(e.keepCData=!1),void 0===e.keepText&&(e.keepText=!1),void 0===e.jsDateUTC&&(e.jsDateUTC=!1)}(),function D(){function Te(We){var rt=String(We);return 1===rt.length&&(rt="0"+rt),rt}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Te(this.getUTCMonth()+1)+"-"+Te(this.getUTCDate())+"T"+Te(this.getUTCHours())+":"+Te(this.getUTCMinutes())+":"+Te(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var S_ELEMENT_NODE=1,S_TEXT_NODE=3,S_CDATA_SECTION_NODE=4,S_COMMENT_NODE=8,S_DOCUMENT_NODE=9;function g(Te){var We=Te.localName;return null==We&&(We=Te.baseName),(null==We||""===We)&&(We=Te.nodeName),We}function Y(Te){return"string"==typeof Te?Te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Te}function E(Te,We,rt){if("property"===e.arrayAccessForm&&(Te[We+"_asArray"]=Te[We]instanceof Array?Te[We]:[Te[We]]),!(Te[We]instanceof Array)&&e.arrayAccessFormPaths.length>0){for(var lt=!1,vt=0;vt<e.arrayAccessFormPaths.length;vt++){var je=e.arrayAccessFormPaths[vt];if("string"==typeof je){if(je===rt){lt=!0;break}}else if(je instanceof RegExp){if(je.test(rt)){lt=!0;break}}else if("function"==typeof je&&je(We,rt)){lt=!0;break}}lt&&(Te[We]=[Te[We]])}}function B(Te){var rt=Te.split(/[-T:+Z]/g),lt=new Date(rt[0],rt[1]-1,rt[2]),vt=rt[5].split(".");if(lt.setHours(rt[3],rt[4],vt[0]),vt.length>1&&lt.setMilliseconds(vt[1]),rt[6]&&rt[7]){var je=60*rt[6]+Number(rt[7]);je=0+("-"==(/\d\d-\d\d:\d\d$/.test(Te)?"-":"+")?-1*je:je),lt.setMinutes(lt.getMinutes()-je-lt.getTimezoneOffset())}else-1!==Te.indexOf("Z",Te.length-1)&&(lt=new Date(Date.UTC(lt.getFullYear(),lt.getMonth(),lt.getDate(),lt.getHours(),lt.getMinutes(),lt.getSeconds(),lt.getMilliseconds())));return lt}function M(Te,We){for(var rt={__cnt:0},lt=Te.childNodes,vt=0;vt<lt.length;vt++){var je=lt.item(vt),Ye=g(je);je.nodeType!==S_COMMENT_NODE&&(rt.__cnt++,null==rt[Ye]?(rt[Ye]=W(je,We+"."+Ye),E(rt,Ye,We+"."+Ye)):(rt[Ye]instanceof Array||(rt[Ye]=[rt[Ye]],E(rt,Ye,We+"."+Ye)),rt[Ye][rt[Ye].length]=W(je,We+"."+Ye)))}for(var Ke=0;Ke<Te.attributes.length;Ke++){var it=Te.attributes.item(Ke);rt.__cnt++;for(var Ve=it.value,Be=0;Be<e.attributeConverters.length;Be++){var Xe=e.attributeConverters[Be];Xe.test.call(null,it.name,it.value)&&(Ve=Xe.convert.call(null,it.name,it.value))}rt[e.attributePrefix+it.name]=Ve}var Ue=function k(Te){return Te.prefix}(Te);return Ue&&(rt.__cnt++,rt.__prefix=Ue),rt["#text"]&&(rt.__text=rt["#text"],rt.__text instanceof Array&&(rt.__text=rt.__text.join("\n")),e.escapeMode&&(rt.__text=function u(Te){return Te.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(rt.__text)),e.stripWhitespaces&&(rt.__text=rt.__text.trim()),delete rt["#text"],"property"===e.arrayAccessForm&&delete rt["#text_asArray"],rt.__text=function V(Te,We,rt){if(e.datetimeAccessFormPaths.length>0)for(var lt=rt.split(".#")[0],vt=0;vt<e.datetimeAccessFormPaths.length;vt++){var je=e.datetimeAccessFormPaths[vt];if("string"==typeof je){if(je===lt)return B(Te)}else if(je instanceof RegExp){if(je.test(lt))return B(Te)}else if("function"==typeof je&&je(lt))return B(Te)}return Te}(rt.__text,0,We+".#text")),rt.hasOwnProperty("#cdata-section")&&(rt.__cdata=rt["#cdata-section"],delete rt["#cdata-section"],"property"===e.arrayAccessForm&&delete rt["#cdata-section_asArray"]),1===rt.__cnt&&rt.__text&&!e.keepText?rt=rt.__text:0===rt.__cnt&&"text"===e.emptyNodeForm?rt="":rt.__cnt>1&&void 0!==rt.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""===rt.__text||""===rt.__text.trim())&&delete rt.__text,delete rt.__cnt,e.keepCData||rt.hasOwnProperty("__text")||!rt.hasOwnProperty("__cdata")||1!==Object.keys(rt).length?(e.enableToStringFunc&&(rt.__text||rt.__cdata)&&(rt.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),rt):rt.__cdata?rt.__cdata:""}function W(Te,We){return Te.nodeType===S_DOCUMENT_NODE?function F(Te){for(var We={},rt=Te.childNodes,lt=0;lt<rt.length;lt++){var vt=rt.item(lt);if(vt.nodeType===S_ELEMENT_NODE){var je=g(vt);e.ignoreRoot?We=W(vt,je):We[je]=W(vt,je)}}return We}(Te):Te.nodeType===S_ELEMENT_NODE?M(Te,We):Te.nodeType===S_TEXT_NODE||Te.nodeType===S_CDATA_SECTION_NODE?Te.nodeValue:null}function y(Te,We,rt,lt){var vt="<"+(Te&&Te.__prefix?Te.__prefix+":":"")+We;if(rt)for(var je=0;je<rt.length;je++){var Ye=rt[je],Ke=Te[Ye];e.escapeMode&&(Ke=Y(Ke)),vt+=" "+Ye.substr(e.attributePrefix.length)+"=",vt+=e.useDoubleQuotes?'"'+Ke+'"':"'"+Ke+"'"}return vt+(lt?" />":">")}function z(Te,We){return"</"+(Te&&Te.__prefix?Te.__prefix+":":"")+We+">"}function v(Te,We){return!!("property"===e.arrayAccessForm&&function Z(Te,We){return-1!==Te.indexOf(We,Te.length-We.length)}(We.toString(),"_asArray")||0===We.toString().indexOf(e.attributePrefix)||0===We.toString().indexOf("__")||Te[We]instanceof Function)}function L(Te){var We=0;if(Te instanceof Object)for(var rt in Te)v(Te,rt)||We++;return We}function J(Te){var We=[];if(Te instanceof Object)for(var rt in Te)-1===rt.toString().indexOf("__")&&0===rt.toString().indexOf(e.attributePrefix)&&We.push(rt);return We}function N(Te){var We="";return Te instanceof Object?We+=function te(Te){var We="";return Te.__cdata&&(We+="<![CDATA["+Te.__cdata+"]]>"),(Te.__text||"number"==typeof Te.__text||"boolean"==typeof Te.__text)&&(We+=e.escapeMode?Y(Te.__text):Te.__text),We}(Te):null!==Te&&(We+=e.escapeMode?Y(Te):Te),We}function oe(Te,We,rt){var lt="";return e.jsAttributeFilter&&e.jsAttributeFilter.call(null,We,Te)||(e.jsAttributeConverter&&(Te=e.jsAttributeConverter.call(null,We,Te)),null!=Te&&""!==Te||!e.selfClosingElements?"object"==typeof Te?"[object Array]"===Object.prototype.toString.call(Te)?lt+=function fe(Te,We,rt){var lt="";if(0===Te.length)lt+=y(Te,We,rt,!0);else for(var vt=0;vt<Te.length;vt++)lt+=oe(Te[vt],We,J(Te[vt]));return lt}(Te,We,rt):Te instanceof Date?(lt+=y(Te,We,rt,!1),lt+=e.jsDateUTC?Te.toUTCString():Te.toISOString(),lt+=z(Te,We)):L(Te)>0||"number"==typeof Te.__text||"boolean"==typeof Te.__text||Te.__text||Te.__cdata?(lt+=y(Te,We,rt,!1),lt+=R(Te),lt+=z(Te,We)):e.selfClosingElements?lt+=y(Te,We,rt,!0):(lt+=y(Te,We,rt,!1),lt+=z(Te,We)):(lt+=y(Te,We,rt,!1),lt+=N(Te),lt+=z(Te,We)):lt+=y(Te,We,rt,!0)),lt}function R(Te){var We="";if(L(Te)>0)for(var lt in Te)if(!v(Te,lt)){var vt=Te[lt];We+=oe(vt,lt,J(vt))}return We+N(Te)}function Pe(Te){if(void 0===Te||"string"!=typeof Te)return null;var We=null,rt=null;if(p)rt=(We=new p(e.xmldomOptions)).parseFromString(Te,"text/xml");else if(window&&window.DOMParser){We=new window.DOMParser;var lt=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{lt=We.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{lt=null}try{rt=We.parseFromString(Te,"text/xml"),null!==lt&&rt.getElementsByTagNameNS(lt,"parsererror").length>0&&(rt=null)}catch{rt=null}}else 0===Te.indexOf("<?")&&(Te=Te.substr(Te.indexOf("?>")+2)),(rt=new ActiveXObject("Microsoft.XMLDOM")).async="false",rt.loadXML(Te);return rt}this.asArray=function(We){return null==We?[]:We instanceof Array?We:[We]},this.toXmlDateTime=function(We){return We instanceof Date?We.toISOString():"number"==typeof We?new Date(We).toISOString():null},this.asDateTime=function(We){return"string"==typeof We?B(We):We},this.xml2dom=function(We){return Pe(We)},this.dom2js=function(We){return W(We,null)},this.js2dom=function(We){return Pe(this.js2xml(We))},this.xml2js=function(We){var rt=Pe(We);return null!=rt?this.dom2js(rt):null},this.js2xml=function(We){return R(We)},this.getVersion=function(){return"3.4.4"}}}.apply(ve,[]))&&(ot.exports=a)}()},1138:(ot,ve,l)=>{"use strict";l.d(ve,{r:()=>V,u:()=>F});var t=l(1744),a=l(9417),p=l(785),A=l(7263),e=l(6799),w=l(590),m=l(1360),D=l(8018),S=l(8434),g=l(9764);const k=["secretPicker"];function Y(M,W){if(1&M&&(m.j41(0,"li",11)(1,"label",28),m.nrm(2,"input",29),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&M){const y=m.XpG();m.R7$(2),m.Y8G("value",y.SecretsActions.DoNotSet),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function u(M,W){if(1&M&&(m.j41(0,"li",11)(1,"label",30),m.nrm(2,"input",31),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&M){const y=m.XpG();m.R7$(2),m.Y8G("value",y.SecretsActions.UseExistingSecret),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function E(M,W){if(1&M&&m.nrm(0,"app-secret-picker",32,1),2&M){const y=m.XpG();m.Y8G("clientSecrets",y.possibleSecrets)("nonModelCertPicker",!1)}}function B(M,W){if(1&M){const y=m.RV6();m.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),m.mxI("ngModelChange",function(Z){m.eBV(y);const v=m.XpG();return m.DH7(v.data.rememberSecretAction,Z)||(v.data.rememberSecretAction=Z),m.Njj(Z)}),m.k0s(),m.j41(5,"span",37),m.EFF(6),m.nI1(7,"translate"),m.k0s()()()()()}if(2&M){const y=m.XpG();m.R7$(4),m.R50("ngModel",y.data.rememberSecretAction),m.R7$(2),m.SpI(" ",m.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var V=function(M){return M[M.DoNotSet=0]="DoNotSet",M[M.Generate=1]="Generate",M[M.ManuallyCreate=2]="ManuallyCreate",M[M.UseExistingSecret=3]="UseExistingSecret",M}(V||{});let F=(()=>{class M extends e.P{get data(){return this._selectableImportResource}set data(y){this._selectableImportResource=y}constructor(y,z,Z){super(),this.translate=y,this.fb=z,this.changeDetector=Z,this.SecretsActions=V,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",a.k0.required]}),this.data){const y=this.data.existingHasSecrets?V.UseExistingSecret:V.DoNotSet;this.form.get("secretAction").setValue(y),this.displayResourceType=this.data.resourceType===t.ot.Client?w.n.client:w.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===V.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:V.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:V.Generate})),this.form.valueChanges.subscribe(()=>{const y=this.form.value.secretAction;this.data.secretsAction=y,y===V.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?t.ot[this.data.resourceType]:""}goNext(){const y=this.form.get("secretAction");if(y.value===V.DoNotSet)this.data.secrets=[];else if(y.value===V.UseExistingSecret)this.data.useExistingSecrets=!0;else if(y.value===V.Generate){const z=new p.z;z.value=(0,A.Nl)(),z.type="Shared Secret",z.description="",this.data.secrets=[z]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(y=>{this.possibleSecrets.push(y)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(y=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(y),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function(z){return new(z||M)(m.rXU(D.c$),m.rXU(a.ze),m.rXU(m.gRc))}}static{this.\u0275cmp=m.VBU({type:M,selectors:[["app-import-secrets"]],viewQuery:function(z,Z){if(1&z&&m.GBs(k,5),2&z){let v;m.mGM(v=m.lsd())&&(Z.secretPicker=v.first)}},standalone:!1,features:[m.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(z,Z){if(1&z){const v=m.RV6();m.j41(0,"div",2)(1,"h2",3)(2,"span",4),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span",5),m.EFF(6),m.nI1(7,"translate"),m.k0s()(),m.j41(8,"div",6)(9,"p",7),m.EFF(10),m.nI1(11,"translate"),m.k0s()(),m.j41(12,"form",8)(13,"ul",9),m.DNE(14,Y,6,4,"li",10)(15,u,6,4,"ng-template",null,0,m.C5r),m.j41(17,"li",11)(18,"label",12),m.nrm(19,"input",13),m.j41(20,"span"),m.EFF(21),m.nI1(22,"translate"),m.k0s()()(),m.j41(23,"li",11)(24,"label",14),m.nrm(25,"input",15),m.j41(26,"span"),m.EFF(27),m.nI1(28,"translate"),m.k0s()()()()(),m.j41(29,"div",16)(30,"p",17)(31,"b",18),m.EFF(32),m.nI1(33,"translate"),m.k0s(),m.EFF(34),m.nI1(35,"translate"),m.k0s()(),m.DNE(36,E,2,2,"app-secret-picker",19)(37,B,8,4,"div",20),m.k0s(),m.nrm(38,"div",21),m.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),m.bIt("click",function(){return m.eBV(v),m.Njj(Z.goNext())}),m.EFF(43),m.nI1(44,"translate"),m.k0s(),m.j41(45,"button",26),m.bIt("click",function(){return m.eBV(v),m.Njj(Z.back())}),m.EFF(46),m.nI1(47,"translate"),m.k0s()(),m.j41(48,"button",27),m.bIt("click",function(){return m.eBV(v),m.Njj(Z.cancel())}),m.EFF(49),m.nI1(50,"translate"),m.k0s()()()}if(2&z){const v=m.sdS(16);m.R7$(3),m.SpI("",m.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),m.R7$(3),m.Lme("",null==Z.data?null:Z.data.displayName," (",m.bMT(7,20,"Clients.Import.Wizard.Secrets."+Z.displayResourceType),")"),m.R7$(4),m.JRh(m.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),m.R7$(2),m.Y8G("formGroup",Z.form),m.R7$(2),m.Y8G("ngIf",!(null!=Z.data&&Z.data.existingHasSecrets))("ngIfElse",v),m.R7$(5),m.Y8G("value",Z.SecretsActions.Generate),m.R7$(2),m.JRh(m.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),m.R7$(4),m.Y8G("value",Z.SecretsActions.ManuallyCreate),m.R7$(2),m.JRh(m.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),m.R7$(5),m.SpI("",m.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),m.R7$(2),m.SpI(" ",m.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),m.R7$(2),m.Y8G("ngIf",Z.showSecretPicker),m.R7$(),m.Y8G("ngIf",!Z.showSecretPicker),m.R7$(6),m.JRh(m.bMT(44,32,"Common.Next")),m.R7$(3),m.JRh(m.bMT(47,34,"Common.Back")),m.R7$(3),m.JRh(m.bMT(50,36,"Common.Cancel"))}},dependencies:[S.bT,a.qT,a.me,a.Zm,a.Fm,a.BC,a.cb,a.vS,a.j4,a.JD,g.s,D.D9],encapsulation:2})}}return M})()},1176:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>p});var t=l(4412),a=l(1360);let p=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},1203:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>a,m:()=>p});var t=l(3669);function a(...A){return p(A)}function p(A){return 0===A.length?t.D:1===A.length?A[0]:function(w){return A.reduce((m,D)=>D(m),w)}}},1258:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>t});var t=function(a){return a.Save="Save",a.SaveAndReAdd="SaveAndReAdd",a.Delete="Delete",a}(t||{})},1290:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var a=ot.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=a;var p=t.sha384=t.sha512.sha384=t.sha512.sha384||{};p.create=function(){return a.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=p,t.sha512.sha256=t.sha512.sha256||{create:function(){return a.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return a.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,a.create=function(g){if(e||function D(){A="\x80",A+=t.util.fillString("\0",128),w=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(m={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],m["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],m["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],m["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],e=!0}(),typeof g>"u"&&(g="SHA-512"),!(g in m))throw new Error("Invalid SHA-512 algorithm: "+g);for(var k=m[g],Y=null,u=t.util.createBuffer(),E=new Array(80),B=0;B<80;++B)E[B]=new Array(2);var V=64;switch(g){case"SHA-384":V=48;break;case"SHA-512/256":V=32;break;case"SHA-512/224":V=28}var F={algorithm:g.replace("-","").toLowerCase(),blockLength:128,digestLength:V,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){F.messageLength=0,F.fullMessageLength=F.messageLength128=[];for(var M=F.messageLengthSize/4,W=0;W<M;++W)F.fullMessageLength.push(0);for(u=t.util.createBuffer(),Y=new Array(k.length),W=0;W<k.length;++W)Y[W]=k[W].slice(0);return F}};return F.start(),F.update=function(M,W){"utf8"===W&&(M=t.util.encodeUtf8(M));var y=M.length;F.messageLength+=y,y=[y/4294967296>>>0,y>>>0];for(var z=F.fullMessageLength.length-1;z>=0;--z)F.fullMessageLength[z]+=y[1],y[1]=y[0]+(F.fullMessageLength[z]/4294967296>>>0),F.fullMessageLength[z]=F.fullMessageLength[z]>>>0,y[0]=y[1]/4294967296>>>0;return u.putBytes(M),S(Y,E,u),(u.read>2048||0===u.length())&&u.compact(),F},F.digest=function(){var M=t.util.createBuffer();M.putBytes(u.bytes()),M.putBytes(A.substr(0,F.blockLength-(F.fullMessageLength[F.fullMessageLength.length-1]+F.messageLengthSize&F.blockLength-1)));for(var z,v=8*F.fullMessageLength[0],L=0;L<F.fullMessageLength.length-1;++L)M.putInt32((v+=(z=8*F.fullMessageLength[L+1])/4294967296>>>0)>>>0),v=z>>>0;M.putInt32(v);var J=new Array(Y.length);for(L=0;L<Y.length;++L)J[L]=Y[L].slice(0);S(J,E,M);var N,te=t.util.createBuffer();for(N="SHA-512"===g?J.length:"SHA-384"===g?J.length-2:J.length-4,L=0;L<N;++L)te.putInt32(J[L][0]),(L!==N-1||"SHA-512/224"!==g)&&te.putInt32(J[L][1]);return te},F};var A=null,e=!1,w=null,m=null;function S(g,k,Y){for(var u,E,B,V,J,te,N,fe,oe,R,Pe,Te,We,rt,lt,vt,je,Ye,Ke,it,Ve,Be,Xe,Ue,ct,st,Qe,ne=Y.length();ne>=128;){for(Ve=0;Ve<16;++Ve)k[Ve][0]=Y.getInt32()>>>0,k[Ve][1]=Y.getInt32()>>>0;for(;Ve<80;++Ve)E=(((Be=(Ue=k[Ve-2])[0])<<13|(Xe=Ue[1])>>>19)^(Xe<<3|Be>>>29)^(Be<<26|Xe>>>6))>>>0,k[Ve][0]=(u=((Be>>>19|Xe<<13)^(Xe>>>29|Be<<3)^Be>>>6)>>>0)+(ct=k[Ve-7])[0]+(B=(((Be=(st=k[Ve-15])[0])>>>1|(Xe=st[1])<<31)^(Be>>>8|Xe<<24)^Be>>>7)>>>0)+(Qe=k[Ve-16])[0]+((Xe=E+ct[1]+(V=((Be<<31|Xe>>>1)^(Be<<24|Xe>>>8)^(Be<<25|Xe>>>7))>>>0)+Qe[1])/4294967296>>>0)>>>0,k[Ve][1]=Xe>>>0;for(J=g[0][0],te=g[0][1],N=g[1][0],fe=g[1][1],oe=g[2][0],R=g[2][1],Pe=g[3][0],Te=g[3][1],We=g[4][0],rt=g[4][1],lt=g[5][0],vt=g[5][1],je=g[6][0],Ye=g[6][1],Ke=g[7][0],it=g[7][1],Ve=0;Ve<80;++Ve)u=Ke+(((We>>>14|rt<<18)^(We>>>18|rt<<14)^(rt>>>9|We<<23))>>>0)+((je^We&(lt^je))>>>0)+w[Ve][0]+k[Ve][0]+((Xe=it+(((We<<18|rt>>>14)^(We<<14|rt>>>18)^(rt<<23|We>>>9))>>>0)+((Ye^rt&(vt^Ye))>>>0)+w[Ve][1]+k[Ve][1])/4294967296>>>0)>>>0,E=Xe>>>0,B=(((J>>>28|te<<4)^(te>>>2|J<<30)^(te>>>7|J<<25))>>>0)+((J&N|oe&(J^N))>>>0)+((Xe=(((J<<4|te>>>28)^(te<<30|J>>>2)^(te<<25|J>>>7))>>>0)+((te&fe|R&(te^fe))>>>0))/4294967296>>>0)>>>0,V=Xe>>>0,Ke=je,it=Ye,je=lt,Ye=vt,lt=We,vt=rt,We=Pe+u+((Xe=Te+E)/4294967296>>>0)>>>0,rt=Xe>>>0,Pe=oe,Te=R,oe=N,R=fe,N=J,fe=te,J=u+B+((Xe=E+V)/4294967296>>>0)>>>0,te=Xe>>>0;g[0][0]=g[0][0]+J+((Xe=g[0][1]+te)/4294967296>>>0)>>>0,g[0][1]=Xe>>>0,g[1][0]=g[1][0]+N+((Xe=g[1][1]+fe)/4294967296>>>0)>>>0,g[1][1]=Xe>>>0,g[2][0]=g[2][0]+oe+((Xe=g[2][1]+R)/4294967296>>>0)>>>0,g[2][1]=Xe>>>0,g[3][0]=g[3][0]+Pe+((Xe=g[3][1]+Te)/4294967296>>>0)>>>0,g[3][1]=Xe>>>0,g[4][0]=g[4][0]+We+((Xe=g[4][1]+rt)/4294967296>>>0)>>>0,g[4][1]=Xe>>>0,g[5][0]=g[5][0]+lt+((Xe=g[5][1]+vt)/4294967296>>>0)>>>0,g[5][1]=Xe>>>0,g[6][0]=g[6][0]+je+((Xe=g[6][1]+Ye)/4294967296>>>0)>>>0,g[6][1]=Xe>>>0,g[7][0]=g[7][0]+Ke+((Xe=g[7][1]+it)/4294967296>>>0)>>>0,g[7][1]=Xe>>>0,ne-=128}}},1339:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>e});var t=l(7263),a=l(1360),p=l(3165),A=l(2972);let e=(()=>{class w{constructor(D,S){this.http=D,this.appComponentViewService=S,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const g=(0,t.$_)();this.actionUrl="auth",this.authUrl=`${g}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(S){return new(S||w)(a.KVO(p.Qq),a.KVO(A.X))}}static{this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},1347:(ot,ve,l)=>{var t=l(6589);if(l(57),l(7097),l(3674),l(5437),l(1817),l(1097),l(9368),l(1675),l(1881),l(2880),l(812),typeof a>"u")var a=t.jsbn.BigInteger;var p=t.asn1,A=t.pki=t.pki||{};ot.exports=A.pbe=t.pbe=t.pbe||{};var e=A.oids,w={name:"EncryptedPrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},m={name:"PBES2Algorithms",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},D={name:"pkcs-12PbeParams",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"iterations"}]};function S(u,E){return u.start().update(E).digest().getBytes()}function g(u){var E;if(u){if(!(E=A.oids[p.derToOid(u)])){var B=new Error("Unsupported PRF OID.");throw B.oid=u,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}}else E="hmacWithSHA1";return k(E)}function k(u){var E=t.md;switch(u){case"hmacWithSHA224":E=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":u=u.substr(8).toLowerCase();break;default:var B=new Error("Unsupported PRF algorithm.");throw B.algorithm=u,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}if(!E||!(u in E))throw new Error("Unknown hash algorithm: "+u);return E[u].create()}A.encryptPrivateKeyInfo=function(u,E,B){(B=B||{}).saltSize=B.saltSize||8,B.count=B.count||2048,B.algorithm=B.algorithm||"aes128",B.prfAlgorithm=B.prfAlgorithm||"sha1";var W,y,z,V=t.random.getBytesSync(B.saltSize),F=B.count,M=p.integerToDer(F);if(0===B.algorithm.indexOf("aes")||"des"===B.algorithm){var Z,v,L;switch(B.algorithm){case"aes128":W=16,Z=16,v=e["aes128-CBC"],L=t.aes.createEncryptionCipher;break;case"aes192":W=24,Z=16,v=e["aes192-CBC"],L=t.aes.createEncryptionCipher;break;case"aes256":W=32,Z=16,v=e["aes256-CBC"],L=t.aes.createEncryptionCipher;break;case"des":W=8,Z=8,v=e.desCBC,L=t.des.createEncryptionCipher;break;default:throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=B.algorithm,J}var te="hmacWith"+B.prfAlgorithm.toUpperCase(),N=k(te),fe=t.pkcs5.pbkdf2(E,V,F,W,N),oe=t.random.getBytesSync(Z);(R=L(fe)).start(oe),R.update(p.toDer(u)),R.finish(),z=R.output.getBytes();var Pe=function Y(u,E,B,V){var F=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,u),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,E.getBytes())]);return"hmacWithSHA1"!==V&&F.value.push(p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,t.util.hexToBytes(B.toString(16))),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(A.oids[V]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])),F}(V,M,W,te);y=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.pkcs5PBES2).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.pkcs5PBKDF2).getBytes()),Pe]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(v).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,oe)])])])}else{var J;if("3des"!==B.algorithm)throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=B.algorithm,J;W=24;var R,Te=new t.util.ByteBuffer(V);fe=A.pbe.generatePkcs12Key(E,Te,1,F,W),oe=A.pbe.generatePkcs12Key(E,Te,2,F,W),(R=t.des.createEncryptionCipher(fe)).start(oe),R.update(p.toDer(u)),R.finish(),z=R.output.getBytes(),y=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,V),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,M.getBytes())])])}return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[y,p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,z)])},A.decryptPrivateKeyInfo=function(u,E){var B=null,V={},F=[];if(!p.validate(u,w,V,F)){var M=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw M.errors=F,M}var W=p.derToOid(V.encryptionOid),y=A.pbe.getCipher(W,V.encryptionParams,E),z=t.util.createBuffer(V.encryptedData);return y.update(z),y.finish()&&(B=p.fromDer(y.output)),B},A.encryptedPrivateKeyToPem=function(u,E){var B={type:"ENCRYPTED PRIVATE KEY",body:p.toDer(u).getBytes()};return t.pem.encode(B,{maxline:E})},A.encryptedPrivateKeyFromPem=function(u){var E=t.pem.decode(u)[0];if("ENCRYPTED PRIVATE KEY"!==E.type){var B=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw B.headerType=E.type,B}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return p.fromDer(E.body)},A.encryptRsaPrivateKey=function(u,E,B){if(!(B=B||{}).legacy){var V=A.wrapRsaPrivateKey(A.privateKeyToAsn1(u));return V=A.encryptPrivateKeyInfo(V,E,B),A.encryptedPrivateKeyToPem(V)}var F,M,W,y;switch(B.algorithm){case"aes128":F="AES-128-CBC",W=16,M=t.random.getBytesSync(16),y=t.aes.createEncryptionCipher;break;case"aes192":F="AES-192-CBC",W=24,M=t.random.getBytesSync(16),y=t.aes.createEncryptionCipher;break;case"aes256":F="AES-256-CBC",W=32,M=t.random.getBytesSync(16),y=t.aes.createEncryptionCipher;break;case"3des":F="DES-EDE3-CBC",W=24,M=t.random.getBytesSync(8),y=t.des.createEncryptionCipher;break;case"des":F="DES-CBC",W=8,M=t.random.getBytesSync(8),y=t.des.createEncryptionCipher;break;default:var z=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+B.algorithm+'".');throw z.algorithm=B.algorithm,z}var v=y(t.pbe.opensslDeriveBytes(E,M.substr(0,8),W));v.start(M),v.update(p.toDer(A.privateKeyToAsn1(u))),v.finish();var L={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:F,parameters:t.util.bytesToHex(M).toUpperCase()},body:v.output.getBytes()};return t.pem.encode(L)},A.decryptRsaPrivateKey=function(u,E){var B=null,V=t.pem.decode(u)[0];if("ENCRYPTED PRIVATE KEY"!==V.type&&"PRIVATE KEY"!==V.type&&"RSA PRIVATE KEY"!==V.type)throw(F=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=F,F;if(V.procType&&"ENCRYPTED"===V.procType.type){var M,W;switch(V.dekInfo.algorithm){case"DES-CBC":M=8,W=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":M=24,W=t.des.createDecryptionCipher;break;case"AES-128-CBC":M=16,W=t.aes.createDecryptionCipher;break;case"AES-192-CBC":M=24,W=t.aes.createDecryptionCipher;break;case"AES-256-CBC":M=32,W=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":M=5,W=function(L){return t.rc2.createDecryptionCipher(L,40)};break;case"RC2-64-CBC":M=8,W=function(L){return t.rc2.createDecryptionCipher(L,64)};break;case"RC2-128-CBC":M=16,W=function(L){return t.rc2.createDecryptionCipher(L,128)};break;default:var F;throw(F=new Error('Could not decrypt private key; unsupported encryption algorithm "'+V.dekInfo.algorithm+'".')).algorithm=V.dekInfo.algorithm,F}var y=t.util.hexToBytes(V.dekInfo.parameters),Z=W(t.pbe.opensslDeriveBytes(E,y.substr(0,8),M));if(Z.start(y),Z.update(t.util.createBuffer(V.body)),!Z.finish())return B;B=Z.output.getBytes()}else B=V.body;return null!==(B="ENCRYPTED PRIVATE KEY"===V.type?A.decryptPrivateKeyInfo(p.fromDer(B),E):p.fromDer(B))&&(B=A.privateKeyFromAsn1(B)),B},A.pbe.generatePkcs12Key=function(u,E,B,V,F,M){var W,y;if(typeof M>"u"||null===M){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');M=t.md.sha1.create()}var z=M.digestLength,Z=M.blockLength,v=new t.util.ByteBuffer,L=new t.util.ByteBuffer;if(null!=u){for(y=0;y<u.length;y++)L.putInt16(u.charCodeAt(y));L.putInt16(0)}var J=L.length(),te=E.length(),N=new t.util.ByteBuffer;N.fillWithByte(B,Z);var fe=Z*Math.ceil(te/Z),oe=new t.util.ByteBuffer;for(y=0;y<fe;y++)oe.putByte(E.at(y%te));var R=Z*Math.ceil(J/Z),Pe=new t.util.ByteBuffer;for(y=0;y<R;y++)Pe.putByte(L.at(y%J));var Te=oe;Te.putBuffer(Pe);for(var We=Math.ceil(F/z),rt=1;rt<=We;rt++){var lt=new t.util.ByteBuffer;lt.putBytes(N.bytes()),lt.putBytes(Te.bytes());for(var vt=0;vt<V;vt++)M.start(),M.update(lt.getBytes()),lt=M.digest();var je=new t.util.ByteBuffer;for(y=0;y<Z;y++)je.putByte(lt.at(y%z));var Ye=Math.ceil(te/Z)+Math.ceil(J/Z),Ke=new t.util.ByteBuffer;for(W=0;W<Ye;W++){var it=new t.util.ByteBuffer(Te.getBytes(Z)),Ve=511;for(y=je.length()-1;y>=0;y--)Ve>>=8,Ve+=je.at(y)+it.at(y),it.setAt(y,255&Ve);Ke.putBuffer(it)}Te=Ke,v.putBuffer(lt)}return v.truncate(v.length()-F),v},A.pbe.getCipher=function(u,E,B){switch(u){case A.oids.pkcs5PBES2:return A.pbe.getCipherForPBES2(u,E,B);case A.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case A.oids["pbewithSHAAnd40BitRC2-CBC"]:return A.pbe.getCipherForPKCS12PBE(u,E,B);default:var V=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw V.oid=u,V.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],V}},A.pbe.getCipherForPBES2=function(u,E,B){var M,V={},F=[];if(!p.validate(E,m,V,F))throw(M=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=F,M;if((u=p.derToOid(V.kdfOid))!==A.oids.pkcs5PBKDF2)throw(M=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=u,M.supportedOids=["pkcs5PBKDF2"],M;if((u=p.derToOid(V.encOid))!==A.oids["aes128-CBC"]&&u!==A.oids["aes192-CBC"]&&u!==A.oids["aes256-CBC"]&&u!==A.oids["des-EDE3-CBC"]&&u!==A.oids.desCBC)throw(M=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=u,M.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],M;var z,Z,W=V.kdfSalt,y=t.util.createBuffer(V.kdfIterationCount);switch(y=y.getInt(y.length()<<3),A.oids[u]){case"aes128-CBC":z=16,Z=t.aes.createDecryptionCipher;break;case"aes192-CBC":z=24,Z=t.aes.createDecryptionCipher;break;case"aes256-CBC":z=32,Z=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":z=24,Z=t.des.createDecryptionCipher;break;case"desCBC":z=8,Z=t.des.createDecryptionCipher}var v=g(V.prfOid),L=t.pkcs5.pbkdf2(B,W,y,z,v),J=V.encIv,te=Z(L);return te.start(J),te},A.pbe.getCipherForPKCS12PBE=function(u,E,B){var V={},F=[];if(!p.validate(E,D,V,F))throw(M=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=F,M;var z,Z,v,W=t.util.createBuffer(V.salt),y=t.util.createBuffer(V.iterations);switch(y=y.getInt(y.length()<<3),u){case A.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:z=24,Z=8,v=t.des.startDecrypting;break;case A.oids["pbewithSHAAnd40BitRC2-CBC"]:z=5,Z=8,v=function(fe,oe){var R=t.rc2.createDecryptionCipher(fe,40);return R.start(oe,null),R};break;default:var M;throw(M=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=u,M}var L=g(V.prfOid),J=A.pbe.generatePkcs12Key(B,W,1,y,z,L);return L.start(),v(J,A.pbe.generatePkcs12Key(B,W,2,y,Z,L))},A.pbe.opensslDeriveBytes=function(u,E,B,V){if(typeof V>"u"||null===V){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');V=t.md.md5.create()}null===E&&(E="");for(var F=[S(V,u+E)],M=16,W=1;M<B;++W,M+=16)F.push(S(V,F[W-1]+u+E));return F.join("").substr(0,B)}},1360:(ot,ve,l)=>{"use strict";function a(n,i){return Object.is(n,i)}l.d(ve,{bc$:()=>xC,iLQ:()=>vy,sZ2:()=>xh,hnV:()=>SE,Hbi:()=>CO,o8S:()=>qc,BIS:()=>kC,gRc:()=>qR,Ql9:()=>jM,OM3:()=>vs,Ocv:()=>zM,abz:()=>rl,Z63:()=>_r,aKT:()=>Xu,uvJ:()=>Ir,zcH:()=>Wa,bkB:()=>al,$GK:()=>Li,nKC:()=>Xt,zZn:()=>ha,_q3:()=>_T,MKu:()=>vT,xe9:()=>hT,Co$:()=>nC,Vns:()=>rf,SKi:()=>cr,Xx1:()=>Or,Agw:()=>zy,PLl:()=>Rg,sFG:()=>Tu,_9s:()=>Jc,czy:()=>Dm,WPN:()=>qd,kdw:()=>xr,C4Q:()=>Gl,NYb:()=>_D,giA:()=>ew,RxE:()=>jR,c1b:()=>L1,gXe:()=>nd,mal:()=>_o,Tzd:()=>$c,Af3:()=>ga,L39:()=>GO,EWP:()=>Oy,a0P:()=>ux,Ol2:()=>b,w6W:()=>oE,oH4:()=>XR,SmG:()=>aO,Rfq:()=>xi,WQX:()=>Ci,hFB:()=>f_,naY:()=>rO,QuC:()=>Wr,EmA:()=>Sr,fpN:()=>bO,phd:()=>bD,HJs:()=>dx,N4e:()=>jr,vPA:()=>Fd,O8t:()=>pd,H3F:()=>mE,H8p:()=>ji,KH2:()=>a_,Ua0:()=>lu,wOt:()=>ue,WHO:()=>ZT,e01:()=>qT,Lf2:()=>Bl,lNU:()=>he,h9k:()=>W_,$MX:()=>Qg,ZF7:()=>uc,Kcf:()=>Jf,e5t:()=>Zd,UyX:()=>$_,cWb:()=>cm,osQ:()=>um,H5H:()=>GE,Zy3:()=>q,mq5:()=>Xw,JZv:()=>Sn,LfX:()=>Un,plB:()=>wu,jNT:()=>CE,zjR:()=>tw,ngT:()=>zo,TL$:()=>Wy,Tbb:()=>Ni,rcV:()=>_u,nM4:()=>Xa,Vt3:()=>ys,OA$:()=>Ao,Jv_:()=>rR,R7$:()=>Q0,BMQ:()=>RE,HbH:()=>Dw,ZvI:()=>Fw,STu:()=>Bw,AVh:()=>kE,vxM:()=>jw,wni:()=>OI,VBU:()=>f,FsC:()=>Ct,jDH:()=>qn,G2t:()=>oi,$C:()=>le,EJ8:()=>Lt,rXU:()=>up,nrm:()=>LE,eu8:()=>UE,bVm:()=>gC,qex:()=>mC,k0s:()=>pC,j41:()=>fC,RV6:()=>zw,xGo:()=>Ka,Mr5:()=>jE,pXf:()=>pI,KVO:()=>ks,kS0:()=>Oo,QTQ:()=>Cb,bIt:()=>WE,lsd:()=>PI,XpG:()=>SI,nI1:()=>yR,bMT:()=>bR,i5U:()=>CR,brH:()=>SR,SdG:()=>TI,NAR:()=>EI,Y8G:()=>ME,FS9:()=>zE,Mz_:()=>CC,FCK:()=>XE,lJ4:()=>oR,eq3:()=>lR,l_i:()=>cR,sMw:()=>uR,ziG:()=>dR,s1E:()=>hR,l4e:()=>fR,mGM:()=>kI,sdS:()=>FI,Dyx:()=>Kw,Z7z:()=>Hw,fX1:()=>Gw,Vm6:()=>$w,Njj:()=>Sc,EBC:()=>B0,tSv:()=>F0,eBV:()=>yp,npT:()=>t1,B4B:()=>eh,n$t:()=>I0,xc7:()=>xE,zvX:()=>$E,DNE:()=>fy,C5r:()=>ER,EFF:()=>WI,JRh:()=>QE,SpI:()=>SC,Lme:()=>ZE,DH7:()=>tR,mxI:()=>eT,R50:()=>qE,GBs:()=>xI}),l(467);let p=null,A=!1,e=1;const w=Symbol("SIGNAL");function m(n){const i=p;return p=n,i}const k={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(n){if(A)throw new Error("");if(null===p)return;p.consumerOnSignalRead(n);const i=p.nextProducerIndex++;te(p),i<p.producerNode.length&&p.producerNode[i]!==n&&J(p)&&L(p.producerNode[i],p.producerIndexOfThis[i]),p.producerNode[i]!==n&&(p.producerNode[i]=n,p.producerIndexOfThis[i]=J(p)?v(n,p,i):0),p.producerLastReadVersion[i]=n.version}function E(n){if((!J(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==e)){if(!n.producerMustRecompute(n)&&!z(n))return void M(n);n.producerRecomputeValue(n),M(n)}}function B(n){if(void 0===n.liveConsumerNode)return;const i=A;A=!0;try{for(const s of n.liveConsumerNode)s.dirty||F(s)}finally{A=i}}function V(){return!1!==p?.consumerAllowSignalWrites}function F(n){n.dirty=!0,B(n),n.consumerMarkedDirty?.(n)}function M(n){n.dirty=!1,n.lastCleanEpoch=e}function W(n){return n&&(n.nextProducerIndex=0),m(n)}function y(n,i){if(m(i),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(J(n))for(let s=n.nextProducerIndex;s<n.producerNode.length;s++)L(n.producerNode[s],n.producerIndexOfThis[s]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function z(n){te(n);for(let i=0;i<n.producerNode.length;i++){const s=n.producerNode[i],c=n.producerLastReadVersion[i];if(c!==s.version||(E(s),c!==s.version))return!0}return!1}function Z(n){if(te(n),J(n))for(let i=0;i<n.producerNode.length;i++)L(n.producerNode[i],n.producerIndexOfThis[i]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function v(n,i,s){if(N(n),0===n.liveConsumerNode.length&&fe(n))for(let c=0;c<n.producerNode.length;c++)n.producerIndexOfThis[c]=v(n.producerNode[c],n,c);return n.liveConsumerIndexOfThis.push(s),n.liveConsumerNode.push(i)-1}function L(n,i){if(N(n),1===n.liveConsumerNode.length&&fe(n))for(let c=0;c<n.producerNode.length;c++)L(n.producerNode[c],n.producerIndexOfThis[c]);const s=n.liveConsumerNode.length-1;if(n.liveConsumerNode[i]=n.liveConsumerNode[s],n.liveConsumerIndexOfThis[i]=n.liveConsumerIndexOfThis[s],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,i<n.liveConsumerNode.length){const c=n.liveConsumerIndexOfThis[i],_=n.liveConsumerNode[i];te(_),_.producerIndexOfThis[c]=i}}function J(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function te(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function N(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function fe(n){return void 0!==n.producerNode}const R=Symbol("UNSET"),Pe=Symbol("COMPUTING"),Te=Symbol("ERRORED"),We={...k,value:R,dirty:!0,error:null,equal:a,kind:"computed",producerMustRecompute:n=>n.value===R||n.value===Pe,producerRecomputeValue(n){if(n.value===Pe)throw new Error("Detected cycle in computations.");const i=n.value;n.value=Pe;const s=W(n);let c,_=!1;try{c=n.computation(),m(null),_=i!==R&&i!==Te&&c!==Te&&n.equal(i,c)}catch(I){c=Te,n.error=I}finally{y(n,s)}_?n.value=i:(n.value=c,n.version++)}};let lt=function rt(){throw new Error};function vt(n){lt(n)}let Ye=null;function Ve(n,i){V()||vt(n),n.equal(n.value,i)||(n.value=i,function ct(n){n.version++,function u(){e++}(),B(n),Ye?.()}(n))}const Ue={...k,equal:a,value:void 0,kind:"signal"};let o;function dt(){return o}function gt(n){const i=o;return o=n,i}const qt=Symbol("NotFound");Error;var en=l(4412),Ln=l(1413),ni=l(8359),mt=l(6354);const he="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ue extends Error{code;constructor(i,s){super(q(i,s)),this.code=i}}function q(n,i){return`${function P(n){return`NG0${Math.abs(n)}`}(n)}${i?": "+i:""}`}const De=Symbol("InputSignalNode#UNSET"),Ae={...Ue,transformFn:void 0,applyValueToInputSignal(n,i){Ve(n,i)}};function _t(n,i){const s=Object.create(Ae);function c(){if(Y(s),s.value===De)throw new ue(-950,null);return s.value}return s.value=n,s.transformFn=i?.transform,c[w]=s,c}function Ht(n){return{toString:n}.toString()}const wn="__parameters__";function Gn(n,i,s){return Ht(()=>{const c=function Ot(n){return function(...s){if(n){const c=n(...s);for(const _ in c)this[_]=c[_]}}}(i);function _(...I){if(this instanceof _)return c.apply(this,I),this;const O=new _(...I);return X.annotation=O,X;function X(re,Ne,He){const pt=re.hasOwnProperty(wn)?re[wn]:Object.defineProperty(re,wn,{value:[]})[wn];for(;pt.length<=He;)pt.push(null);return(pt[He]=pt[He]||[]).push(O),re}}return _.prototype.ngMetadataName=n,_.annotationCls=_,_})}const Sn=globalThis;function _i(n){for(let i in n)if(n[i]===_i)return i;throw Error("Could not find renamed property on target object.")}function Fi(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function Ni(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(Ni).join(", ")}]`;if(null==n)return""+n;const i=n.overriddenName||n.name;if(i)return`${i}`;const s=n.toString();if(null==s)return""+s;const c=s.indexOf("\n");return c>=0?s.slice(0,c):s}function os(n,i){return n?i?`${n} ${i}`:n:i||""}const ms=_i({__forward_ref__:_i});function xi(n){return n.__forward_ref__=xi,n.toString=function(){return Ni(this())},n}function wt(n){return Tt(n)?n():n}function Tt(n){return"function"==typeof n&&n.hasOwnProperty(ms)&&n.__forward_ref__===xi}function Ei(n,i,s){n!=i&&function Rt(n,i,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(s,n,i,"==")}function qn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function oi(n){return{providers:n.providers||[],imports:n.imports||[]}}function zt(n){return fn(n,Fe)||fn(n,ht)}function Un(n){return null!==zt(n)}function fn(n,i){return n.hasOwnProperty(i)?n[i]:null}function vi(n){return n&&(n.hasOwnProperty(Ze)||n.hasOwnProperty(Ut))?n[Ze]:null}const Fe=_i({\u0275prov:_i}),Ze=_i({\u0275inj:_i}),ht=_i({ngInjectableDef:_i}),Ut=_i({ngInjectorDef:_i});class Xt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,s){this._desc=i,this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=qn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wt(n){return n&&!!n.\u0275providers}const Pn=_i({\u0275cmp:_i}),Qi=_i({\u0275dir:_i}),Bt=_i({\u0275pipe:_i}),ce=_i({\u0275mod:_i}),Ie=_i({\u0275fac:_i}),ae=_i({__NG_ELEMENT_ID__:_i}),be=_i({__NG_ENV_ID__:_i});function ke(n){return"string"==typeof n?n:null==n?"":String(n)}function Wi(n,i){throw new ue(-200,n)}function li(n,i){throw new ue(-201,!1)}var Li=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Li||{});let Yi;function xs(){return Yi}function Bs(n){const i=Yi;return Yi=n,i}function Mr(n,i,s){const c=zt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Li.Optional?null:void 0!==i?i:void li()}const un={},Vt="__NG_DI_FLAG__";class pn{injector;constructor(i){this.injector=i}retrieve(i,s){return this.injector.get(i,s.optional?qt:un,s)}}const Jn="ngTempTokenPath",pi=/\n/gm,Ts="__source";function Hr(n,i=Li.Default){if(void 0===dt())throw new ue(-203,!1);if(null===dt())return Mr(n,void 0,i);{const s=dt();let c;return c=s instanceof pn?s.injector:s,c.get(n,i&Li.Optional?null:void 0,i)}}function ks(n,i=Li.Default){return(xs()||Hr)(wt(n),i)}function Ci(n,i=Li.Default){return ks(n,wr(i))}function wr(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zr(n){const i=[];for(let s=0;s<n.length;s++){const c=wt(n[s]);if(Array.isArray(c)){if(0===c.length)throw new ue(900,!1);let _,I=Li.Default;for(let O=0;O<c.length;O++){const X=c[O],re=ua(X);"number"==typeof re?-1===re?_=X.token:I|=re:_=X}i.push(ks(_,I))}else i.push(ks(c))}return i}function Aa(n,i){return n[Vt]=i,n.prototype[Vt]=i,n}function ua(n){return n[Vt]}const Or=Aa(Gn("Optional"),8),xr=Aa(Gn("SkipSelf"),4);function da(n,i){return n.hasOwnProperty(Ie)?n[Ie]:null}function kr(n,i){n.forEach(s=>Array.isArray(s)?kr(s,i):i(s))}function Lo(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function ea(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function pr(n,i,s){let c=qa(n,i);return c>=0?n[1|c]=s:(c=~c,function Vr(n,i,s,c){let _=n.length;if(_==i)n.push(s,c);else if(1===_)n.push(c,n[0]),n[0]=s;else{for(_--,n.push(n[_-1],n[_]);_>i;)n[_]=n[_-2],_--;n[i]=s,n[i+1]=c}}(n,c,i,s)),c}function Na(n,i){const s=qa(n,i);if(s>=0)return n[1|s]}function qa(n,i){return function Sa(n,i,s){let c=0,_=n.length>>s;for(;_!==c;){const I=c+(_-c>>1),O=n[I<<s];if(i===O)return I<<s;O>i?_=I:c=I+1}return~(_<<s)}(n,i,1)}const Pr={},Vs=[],_r=new Xt(""),Lr=new Xt("",-1),So=new Xt("");class ya{get(i,s=un){if(s===un){const c=new Error(`NullInjectorError: No provider for ${Ni(i)}!`);throw c.name="NullInjectorError",c}return s}}function rr(n,i){const s=n[ce]||null;if(!s&&!0===i)throw new Error(`Type ${Ni(n)} does not have '\u0275mod' property.`);return s}function hs(n){return n[Pn]||null}function As(n){return n[Qi]||null}function Ps(n){return n[Bt]||null}function Wr(n){const i=hs(n)||As(n)||Ps(n);return null!==i&&i.standalone}function Sr(n){return{\u0275providers:n}}function Uo(...n){return{\u0275providers:eo(0,n),\u0275fromNgModule:!0}}function eo(n,...i){const s=[],c=new Set;let _;const I=O=>{s.push(O)};return kr(i,O=>{const X=O;H(X,I,[],c)&&(_||=[],_.push(X))}),void 0!==_&&Qo(_,I),s}function Qo(n,i){for(let s=0;s<n.length;s++){const{ngModule:c,providers:_}=n[s];ee(_,I=>{i(I,c)})}}function H(n,i,s,c){if(!(n=wt(n)))return!1;let _=null,I=vi(n);const O=!I&&hs(n);if(I||O){if(O&&!O.standalone)return!1;_=n}else{const re=n.ngModule;if(I=vi(re),!I)return!1;_=re}const X=c.has(_);if(O){if(X)return!1;if(c.add(_),O.dependencies){const re="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const Ne of re)H(Ne,i,s,c)}}else{if(!I)return!1;{if(null!=I.imports&&!X){let Ne;c.add(_);try{kr(I.imports,He=>{H(He,i,s,c)&&(Ne||=[],Ne.push(He))})}finally{}void 0!==Ne&&Qo(Ne,i)}if(!X){const Ne=da(_)||(()=>new _);i({provide:_,useFactory:Ne,deps:Vs},_),i({provide:So,useValue:_,multi:!0},_),i({provide:_r,useValue:()=>ks(_),multi:!0},_)}const re=I.providers;if(null!=re&&!X){const Ne=n;ee(re,He=>{i(He,Ne)})}}}return _!==n&&void 0!==n.providers}function ee(n,i){for(let s of n)Wt(s)&&(s=s.\u0275providers),Array.isArray(s)?ee(s,i):i(s)}const Ee=_i({provide:String,useValue:_i});function qe(n){return null!==n&&"object"==typeof n&&Ee in n}function ai(n){return"function"==typeof n}const ji=new Xt(""),Js={},Ur={};let ma;function Va(){return void 0===ma&&(ma=new ya),ma}class Ir{}class La extends Ir{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,s,c,_){super(),this.parent=s,this.source=c,this.scopes=_,To(i,O=>this.processProvider(O)),this.records.set(Lr,Ks(void 0,this)),_.has("environment")&&this.records.set(Ir,Ks(void 0,this));const I=this.records.get(ji);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(So,Vs,Li.Self))}retrieve(i,s){return this.get(i,s.optional?qt:un,s)}destroy(){Zo(this),this._destroyed=!0;const i=m(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of s)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(i)}}onDestroy(i){return Zo(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){Zo(this);const s=gt(this),c=Bs(void 0);try{return i()}finally{gt(s),Bs(c)}}get(i,s=un,c=Li.Default){if(Zo(this),i.hasOwnProperty(be))return i[be](this);c=wr(c);const I=gt(this),O=Bs(void 0);try{if(!(c&Li.SkipSelf)){let re=this.records.get(i);if(void 0===re){const Ne=function El(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xt}(i)&&zt(i);re=Ne&&this.injectableDefInScope(Ne)?Ks(to(i),Js):null,this.records.set(i,re)}if(null!=re)return this.hydrate(i,re)}return(c&Li.Self?Va():this.parent).get(i,s=c&Li.Optional&&s===un?null:s)}catch(X){if("NullInjectorError"===X.name){if((X[Jn]=X[Jn]||[]).unshift(Ni(i)),I)throw X;return function uo(n,i,s,c){const _=n[Jn];throw i[Ts]&&_.unshift(i[Ts]),n.message=function pa(n,i,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let _=Ni(i);if(Array.isArray(i))_=i.map(Ni).join(" -> ");else if("object"==typeof i){let I=[];for(let O in i)if(i.hasOwnProperty(O)){let X=i[O];I.push(O+":"+("string"==typeof X?JSON.stringify(X):Ni(X)))}_=`{${I.join(", ")}}`}return`${s}${c?"("+c+")":""}[${_}]: ${n.replace(pi,"\n  ")}`}("\n"+n.message,_,s,c),n.ngTokenPath=_,n[Jn]=null,n}(X,i,"R3InjectorError",this.source)}throw X}finally{Bs(O),gt(I)}}resolveInjectorInitializers(){const i=m(null),s=gt(this),c=Bs(void 0);try{const I=this.get(_r,Vs,Li.Self);for(const O of I)O()}finally{gt(s),Bs(c),m(i)}}toString(){const i=[],s=this.records;for(const c of s.keys())i.push(Ni(c));return`R3Injector[${i.join(", ")}]`}processProvider(i){let s=ai(i=wt(i))?i:wt(i&&i.provide);const c=function Is(n){return qe(n)?Ks(void 0,n.useValue):Ks(Ma(n),Js)}(i);if(!ai(i)&&!0===i.multi){let _=this.records.get(s);_||(_=Ks(void 0,Js,!0),_.factory=()=>Zr(_.multi),this.records.set(s,_)),s=i,_.multi.push(i)}this.records.set(s,c)}hydrate(i,s){const c=m(null);try{return s.value===Ur?Wi(Ni(i)):s.value===Js&&(s.value=Ur,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Sl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{m(c)}}injectableDefInScope(i){if(!i.providedIn)return!1;const s=wt(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function to(n){const i=zt(n),s=null!==i?i.factory:da(n);if(null!==s)return s;if(n instanceof Xt)throw new ue(204,!1);if(n instanceof Function)return function _c(n){if(n.length>0)throw new ue(204,!1);const s=function Qn(n){return n&&(n[Fe]||n[ht])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ue(204,!1)}function Ma(n,i,s){let c;if(ai(n)){const _=wt(n);return da(_)||to(_)}if(qe(n))c=()=>wt(n.useValue);else if(function yn(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Zr(n.deps||[]));else if(function Pt(n){return!(!n||!n.useExisting)}(n))c=()=>ks(wt(n.useExisting));else{const _=wt(n&&(n.useClass||n.provide));if(!function Eo(n){return!!n.deps}(n))return da(_)||to(_);c=()=>new _(...Zr(n.deps))}return c}function Zo(n){if(n.destroyed)throw new ue(205,!1)}function Ks(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function To(n,i){for(const s of n)Array.isArray(s)?To(s,i):s&&Wt(s)?To(s.\u0275providers,i):i(s)}function jr(n,i){let s;n instanceof La?(Zo(n),s=n):s=new pn(n);const _=gt(s),I=Bs(void 0);try{return i()}finally{gt(_),Bs(I)}}function ws(){return void 0!==xs()||null!=dt()}function ga(n){if(!ws())throw new ue(-203,!1)}const Fs=0,ci=1,ns=2,lr=3,dr=4,Fr=5,ta=6,Ge=7,mn=8,$e=9,It=10,at=11,bn=12,Ri=13,us=14,qi=15,Er=16,Br=17,Yr=18,mr=19,Ys=20,tr=21,$o=23,Mi=24,se=26,Ce=1,we=7,Mt=9,St=10;function rn(n){return Array.isArray(n)&&"object"==typeof n[Ce]}function kn(n){return Array.isArray(n)&&!0===n[Ce]}function Yn(n){return!!(4&n.flags)}function es(n){return n.componentOffset>-1}function sn(n){return!(1&~n.flags)}function Se(n){return!!n.template}function $(n){return!!(512&n[ns])}function ft(n){return!(256&~n[ns])}class md{previousValue;currentValue;firstChange;constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ro(n,i,s,c){null!==i?i.applyValueToInputSignal(i,c):n[s]=c}const Ao=(()=>{const n=()=>ja;return n.ngInherit=!0,n})();function ja(n){return n.type.prototype.ngOnChanges&&(n.setInput=zl),gd}function gd(){const n=Ds(this),i=n?.current;if(i){const s=n.previous;if(s===Pr)n.previous=i;else for(let c in i)s[c]=i[c];n.current=null,this.ngOnChanges(i)}}function zl(n,i,s,c,_){const I=this.declaredInputs[c],O=Ds(n)||function tu(n,i){return n[wl]=i}(n,{previous:Pr,current:null}),X=O.current||(O.current={}),re=O.previous,Ne=re[I];X[I]=new md(Ne&&Ne.currentValue,s,re===Pr),Ro(n,i,_,s)}const wl="__ngSimpleChanges__";function Ds(n){return n[wl]||null}const ir=function(n,i=null,s){};function me(n){for(;Array.isArray(n);)n=n[Fs];return n}function Q(n,i){return me(i[n])}function Re(n,i){return me(i[n.index])}function gn(n,i){return n.data[i]}function $i(n,i){return n[i]}function fs(n,i){const s=i[n];return rn(s)?s:s[Fs]}function nu(n){return!(128&~n[ns])}function $a(n,i){return null==i?null:n[i]}function Au(n){n[Br]=0}function _d(n){1024&n[ns]||(n[ns]|=1024,nu(n)&&Mu(n))}function Du(n){return!!(9216&n[ns]||n[Mi]?.dirty)}function Nu(n){n[It].changeDetectionScheduler?.notify(8),64&n[ns]&&(n[ns]|=1024),Du(n)&&Mu(n)}function Mu(n){n[It].changeDetectionScheduler?.notify(0);let i=hl(n);for(;null!==i&&!(8192&i[ns])&&(i[ns]|=8192,nu(i));)i=hl(i)}function su(n,i){if(ft(n))throw new ue(911,!1);null===n[tr]&&(n[tr]=[]),n[tr].push(i)}function hl(n){const i=n[lr];return kn(i)?i[lr]:i}function gh(n){return n[Ge]??=[]}function _h(n){return n.cleanup??=[]}const Ns={lFrame:lg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let yd=!1;function yh(){return Ns.bindingsEnabled}function bc(){return null!==Ns.skipHydrationRootTNode}function Bn(){return Ns.lFrame.lView}function Cs(){return Ns.lFrame.tView}function yp(n){return Ns.lFrame.contextLView=n,n[mn]}function Sc(n){return Ns.lFrame.contextLView=null,n}function zs(){let n=Ec();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ec(){return Ns.lFrame.currentTNode}function Tc(){const n=Ns.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Ko(n,i){const s=Ns.lFrame;s.currentTNode=n,s.isParent=i}function bd(){return Ns.lFrame.isParent}function hf(){Ns.lFrame.isParent=!1}function ff(){return yd}function bp(n){const i=yd;return yd=n,i}function Do(){const n=Ns.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function tl(){return Ns.lFrame.bindingIndex++}function Dr(n){const i=Ns.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Il(n){Ns.lFrame.inI18n=n}function pf(n,i){const s=Ns.lFrame;s.bindingIndex=s.bindingRootIndex=n,ro(i)}function ro(n){Ns.lFrame.currentDirectiveIndex=n}function Rc(n){const i=Ns.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Cp(){return Ns.lFrame.currentQueryIndex}function bh(n){Ns.lFrame.currentQueryIndex=n}function mf(n){const i=n[ci];return 2===i.type?i.declTNode:1===i.type?n[Fr]:null}function l_(n,i,s){if(s&Li.SkipSelf){let _=i,I=n;for(;!(_=_.parent,null!==_||s&Li.Host||(_=mf(I),null===_||(I=I[us],10&_.type))););if(null===_)return!1;i=_,n=I}const c=Ns.lFrame=Cd();return c.currentTNode=i,c.lView=n,!0}function ku(n){const i=Cd(),s=n[ci];Ns.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Cd(){const n=Ns.lFrame,i=null===n?null:n.child;return null===i?lg(n):i}function lg(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Sp(){const n=Ns.lFrame;return Ns.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ac=Sp;function Rl(){const n=Sp();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hr(){return Ns.lFrame.selectedIndex}function Al(n){Ns.lFrame.selectedIndex=n}function yr(){const n=Ns.lFrame;return gn(n.tView,n.selectedIndex)}let Pu=!0;function nl(){return Pu}function Dl(n){Pu=n}function Ql(n,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const I=n.data[s].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:X,ngAfterViewInit:re,ngAfterViewChecked:Ne,ngOnDestroy:He}=I;O&&(n.contentHooks??=[]).push(-s,O),X&&((n.contentHooks??=[]).push(s,X),(n.contentCheckHooks??=[]).push(s,X)),re&&(n.viewHooks??=[]).push(-s,re),Ne&&((n.viewHooks??=[]).push(s,Ne),(n.viewCheckHooks??=[]).push(s,Ne)),null!=He&&(n.destroyHooks??=[]).push(s,He)}}function Ga(n,i,s){Td(n,i,3,s)}function Ed(n,i,s,c){(3&n[ns])===s&&Td(n,i,s,c)}function Ch(n,i){let s=n[ns];(3&s)===i&&(s&=16383,s+=1,n[ns]=s)}function Td(n,i,s,c){const I=c??-1,O=i.length-1;let X=0;for(let re=void 0!==c?65535&n[Br]:0;re<O;re++)if("number"==typeof i[re+1]){if(X=i[re],null!=c&&X>=c)break}else i[re]<0&&(n[Br]+=65536),(X<I||-1==I)&&(ug(n,s,i,re),n[Br]=(4294901760&n[Br])+re+2),re++}function gf(n,i){ir(4,n,i);const s=m(null);try{i.call(n)}finally{m(s),ir(5,n,i)}}function ug(n,i,s,c){const _=s[c]<0,I=s[c+1],X=n[_?-s[c]:s[c]];_?n[ns]>>14<n[Br]>>16&&(3&n[ns])===i&&(n[ns]+=16384,gf(X,I)):gf(X,I)}const Zl=-1;class Sh{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,s,c){this.factory=i,this.canSeeViewProviders=s,this.injectImpl=c}}function Nl(n){return 3===n||4===n||6===n}function il(n){return 64===n.charCodeAt(0)}function Ml(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const _=i[c];"number"==typeof _?s=_:0===s||Id(n,s,_,0,-1===s||2===s?i[++c]:null)}}return n}function Id(n,i,s,c,_){let I=0,O=n.length;if(-1===i)O=-1;else for(;I<n.length;){const X=n[I++];if("number"==typeof X){if(X===i){O=-1;break}if(X>i){O=I-1;break}}}for(;I<n.length;){const X=n[I];if("number"==typeof X)break;if(X===s)return void(null!==_&&(n[I+1]=_));I++,null!==_&&I++}-1!==O&&(n.splice(O,0,i),I=O+1),n.splice(I++,0,s),null!==_&&n.splice(I++,0,_)}function Bu(n){return n!==Zl}function Ol(n){return 32767&n}function Eh(n,i){let s=function fl(n){return n>>16}(n),c=i;for(;s>0;)c=c[us],s--;return c}let Vu=!0;function xl(n){const i=Vu;return Vu=n,i}const hg=255,fg=5;let Nc=0;const Ha={};function _f(n,i){const s=Ad(n,i);if(-1!==s)return s;const c=i[ci];c.firstCreatePass&&(n.injectorIndex=i.length,Lu(c.data,n),Lu(i,null),Lu(c.blueprint,null));const _=vf(n,i),I=n.injectorIndex;if(Bu(_)){const O=Ol(_),X=Eh(_,i),re=X[ci].data;for(let Ne=0;Ne<8;Ne++)i[I+Ne]=X[O+Ne]|re[O+Ne]}return i[I+8]=_,I}function Lu(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ad(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function vf(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,_=i;for(;null!==_;){if(c=Nd(_),null===c)return Zl;if(s++,_=_[us],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Zl}function mo(n,i,s){!function c_(n,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(ae)&&(c=s[ae]),null==c&&(c=s[ae]=Nc++);const _=c&hg;i.data[n+(_>>fg)]|=1<<_}(n,i,s)}function sl(n,i,s){if(s&Li.Optional||void 0!==n)return n;li()}function yf(n,i,s,c){if(s&Li.Optional&&void 0===c&&(c=null),!(s&(Li.Self|Li.Host))){const _=n[$e],I=Bs(void 0);try{return _?_.get(i,c,s&Li.Optional):Mr(i,c,s&Li.Optional)}finally{Bs(I)}}return sl(c,0,s)}function go(n,i,s,c=Li.Default,_){if(null!==n){if(2048&i[ns]&&!(c&Li.Self)){const O=function Dd(n,i,s,c,_){let I=n,O=i;for(;null!==I&&null!==O&&2048&O[ns]&&!$(O);){const X=Mo(I,O,s,c|Li.Self,Ha);if(X!==Ha)return X;let re=I.parent;if(!re){const Ne=O[Ys];if(Ne){const He=Ne.get(s,Ha,c);if(He!==Ha)return He}re=Nd(O),O=O[us]}I=re}return _}(n,i,s,c,Ha);if(O!==Ha)return O}const I=Mo(n,i,s,c,Ha);if(I!==Ha)return I}return yf(i,s,c,_)}function Mo(n,i,s,c,_){const I=function ql(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ae)?n[ae]:void 0;return"number"==typeof i?i>=0?i&hg:Uu:i}(s);if("function"==typeof I){if(!l_(i,n,c))return c&Li.Host?sl(_,0,c):yf(i,s,c,_);try{let O;if(O=I(c),null!=O||c&Li.Optional)return O;li()}finally{Ac()}}else if("number"==typeof I){let O=null,X=Ad(n,i),re=Zl,Ne=c&Li.Host?i[qi][Fr]:null;for((-1===X||c&Li.SkipSelf)&&(re=-1===X?vf(n,i):i[X+8],re!==Zl&&Cf(c,!1)?(O=i[ci],X=Ol(re),i=Eh(re,i)):X=-1);-1!==X;){const He=i[ci];if(ml(I,X,He.data)){const pt=bf(X,i,s,O,c,Ne);if(pt!==Ha)return pt}re=i[X+8],re!==Zl&&Cf(c,i[ci].data[X+8]===Ne)&&ml(I,X,i)?(O=He,X=Ol(re),i=Eh(re,i)):X=-1}}return _}function bf(n,i,s,c,_,I){const O=i[ci],X=O.data[n+8],He=Mc(X,O,s,null==c?es(X)&&Vu:c!=O&&!!(3&X.type),_&Li.Host&&I===X);return null!==He?pl(i,O,He,X):Ha}function Mc(n,i,s,c,_){const I=n.providerIndexes,O=i.data,X=1048575&I,re=n.directiveStart,He=I>>20,kt=_?X+He:n.directiveEnd;for(let Nt=c?X:X+He;Nt<kt;Nt++){const an=O[Nt];if(Nt<re&&s===an||Nt>=re&&an.type===s)return Nt}if(_){const Nt=O[re];if(Nt&&Se(Nt)&&Nt.type===s)return re}return null}function pl(n,i,s,c){let _=n[s];const I=i.data;if(_ instanceof Sh){const O=_;O.resolving&&Wi(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ke(n)}(I[s]));const X=xl(O.canSeeViewProviders);O.resolving=!0;const Ne=O.injectImpl?Bs(O.injectImpl):null;l_(n,c,Li.Default);try{_=n[s]=O.factory(void 0,I,n,c),i.firstCreatePass&&s>=c.directiveStart&&function Fu(n,i,s){const{ngOnChanges:c,ngOnInit:_,ngDoCheck:I}=i.type.prototype;if(c){const O=ja(i);(s.preOrderHooks??=[]).push(n,O),(s.preOrderCheckHooks??=[]).push(n,O)}_&&(s.preOrderHooks??=[]).push(0-n,_),I&&((s.preOrderHooks??=[]).push(n,I),(s.preOrderCheckHooks??=[]).push(n,I))}(s,I[s],i)}finally{null!==Ne&&Bs(Ne),xl(X),O.resolving=!1,Ac()}}return _}function ml(n,i,s){return!!(s[i+(n>>fg)]&1<<n)}function Cf(n,i){return!(n&Li.Self||n&Li.Host&&i)}class br{_tNode;_lView;constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return go(this._tNode,this._lView,i,wr(c),s)}}function Uu(){return new br(zs(),Bn())}function Ka(n){return Ht(()=>{const i=n.prototype.constructor,s=i[Ie]||Oc(i),c=Object.prototype;let _=Object.getPrototypeOf(n.prototype).constructor;for(;_&&_!==c;){const I=_[Ie]||Oc(_);if(I&&I!==s)return I;_=Object.getPrototypeOf(_)}return I=>new I})}function Oc(n){return Tt(n)?()=>{const i=Oc(wt(n));return i&&i()}:da(n)}function Nd(n){const i=n[ci],s=i.type;return 2===s?i.declTNode:1===s?n[Fr]:null}function Oo(n){return function kl(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const c=s.length;let _=0;for(;_<c;){const I=s[_];if(Nl(I))break;if(0===I)_+=2;else if("number"==typeof I)for(_++;_<c&&"string"==typeof s[_];)_++;else{if(I===i)return s[_+1];_+=2}}}return null}(zs(),n)}function Ku(n,i=null,s=null,c){const _=Wu(n,i,s,c);return _.resolveInjectorInitializers(),_}function Wu(n,i=null,s=null,c,_=new Set){const I=[s||Vs,Uo(n)];return c=c||("object"==typeof n?void 0:Ni(n)),new La(I,i||Va(),c||null,_)}class ha{static THROW_IF_NOT_FOUND=un;static NULL=new ya;static create(i,s){if(Array.isArray(i))return Ku({name:""},s,i,"");{const c=i.name??"";return Ku({name:c},i.parent,i.providers,c)}}static \u0275prov=qn({token:ha,providedIn:"any",factory:()=>ks(Lr)});static __NG_ELEMENT_ID__=-1}new Xt("").__NG_ELEMENT_ID__=n=>{const i=zs();if(null===i)throw new ue(204,!1);if(2&i.type)return i.value;if(n&Li.Optional)return null;throw new ue(204,!1)};const Od=!1;let rl=(()=>class n{static __NG_ELEMENT_ID__=wh;static __NG_ENV_ID__=s=>s})();class nc extends rl{_lView;constructor(i){super(),this._lView=i}onDestroy(i){return su(this._lView,i),()=>function vd(n,i){if(null===n[tr])return;const s=n[tr].indexOf(i);-1!==s&&n[tr].splice(s,1)}(this._lView,i)}}function wh(){return new nc(Bn())}class xo{}const Pc=new Xt("",{providedIn:"root",factory:()=>!1}),xd=new Xt(""),Fc=new Xt("");let lu=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new en.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}has(s){return this.pendingTasks.has(s)}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}return n})();const al=class Ih extends Ln.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,ws()&&(this.destroyRef=Ci(rl,{optional:!0})??void 0,this.pendingTasks=Ci(lu,{optional:!0})??void 0)}emit(i){const s=m(null);try{super.next(i)}finally{m(s)}}subscribe(i,s,c){let _=i,I=s||(()=>null),O=c;if(i&&"object"==typeof i){const re=i;_=re.next?.bind(re),I=re.error?.bind(re),O=re.complete?.bind(re)}this.__isAsync&&(I=this.wrapInTimeout(I),_&&(_=this.wrapInTimeout(_)),O&&(O=this.wrapInTimeout(O)));const X=super.subscribe({next:_,error:I,complete:O});return i instanceof ni.yU&&i.add(X),X}wrapInTimeout(i){return s=>{const c=this.pendingTasks?.add();setTimeout(()=>{i(s),void 0!==c&&this.pendingTasks?.remove(c)})}}};function Bc(...n){}function cu(n){let i,s;function c(){n=Bc;try{void 0!==s&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(s),void 0!==i&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{n(),c()}),"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(()=>{n(),c()})),()=>c()}function Rh(n){return queueMicrotask(()=>n()),()=>{n=Bc}}const kd="isAngularZone",Vc=kd+"_ID";let Yu=0;class cr{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new al(!1);onMicrotaskEmpty=new al(!1);onStable=new al(!1);onError=new al(!1);constructor(i){const{enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:_=!1,scheduleInRootZone:I=Od}=i;if(typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const O=this;O._nesting=0,O._outer=O._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(O._inner=O._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(O._inner=O._inner.fork(Zone.longStackTraceZoneSpec)),O.shouldCoalesceEventChangeDetection=!_&&c,O.shouldCoalesceRunChangeDetection=_,O.callbackScheduled=!1,O.scheduleInRootZone=I,function uu(n){const i=()=>{!function Tf(n){function i(){cu(()=>{n.callbackScheduled=!1,ic(n),n.isCheckStableRunning=!0,Ip(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{i()}):n._outer.run(()=>{i()}),ic(n))}(n)},s=Yu++;n._inner=n._inner.fork({name:"angular",properties:{[kd]:!0,[Vc]:s,[Vc+s]:!0},onInvokeTask:(c,_,I,O,X,re)=>{if(function Ap(n){return Pd(n,"__ignore_ng_zone__")}(re))return c.invokeTask(I,O,X,re);try{return Lc(n),c.invokeTask(I,O,X,re)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||n.shouldCoalesceRunChangeDetection)&&i(),Uc(n)}},onInvoke:(c,_,I,O,X,re,Ne)=>{try{return Lc(n),c.invoke(I,O,X,re,Ne)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function zu(n){return Pd(n,"__scheduler_tick__")}(re)&&i(),Uc(n)}},onHasTask:(c,_,I,O)=>{c.hasTask(I,O),_===I&&("microTask"==O.change?(n._hasPendingMicrotasks=O.microTask,ic(n),Ip(n)):"macroTask"==O.change&&(n.hasPendingMacrotasks=O.macroTask))},onHandleError:(c,_,I,O)=>(c.handleError(I,O),n.runOutsideAngular(()=>n.onError.emit(O)),!1)})}(O)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(kd)}static assertInAngularZone(){if(!cr.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new ue(909,!1)}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,_){const I=this._inner,O=I.scheduleEventTask("NgZoneEvent: "+_,i,d_,Bc,Bc);try{return I.runTask(O,s,c)}finally{I.cancelTask(O)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const d_={};function Ip(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ic(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function Lc(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Uc(n){n._nesting--,Ip(n)}class Rp{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new al;onMicrotaskEmpty=new al;onStable=new al;onError=new al;run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,_){return i.apply(s,c)}}function Pd(n,i){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[i]}class Wa{_console=console;handleError(i){this._console.error("ERROR",i)}}const h_=new Xt("",{providedIn:"root",factory:()=>{const n=Ci(cr),i=Ci(Wa);return s=>n.runOutsideAngular(()=>i.handleError(s))}});function vg(n,i){return _t(n,i)}const f_=(vg.required=function yg(n){return _t(De,n)},vg);function bg(){return du(zs(),Bn())}function du(n,i){return new Xu(Re(n,i))}let Xu=(()=>class n{nativeElement;constructor(s){this.nativeElement=s}static __NG_ELEMENT_ID__=bg})();function Rf(n){return n instanceof Xu?n.nativeElement:n}function Fd(n,i){const s=function Ke(n,i){const s=Object.create(Ue);s.value=n,void 0!==i&&(s.equal=i);const c=()=>(Y(s),s.value);return c[w]=s,c}(n,i?.equal),c=s[w];return s.set=_=>Ve(c,_),s.update=_=>function Be(n,i){V()||vt(n),Ve(n,i(n.value))}(c,_),s.asReadonly=Dp.bind(s),s}function Dp(){const n=this[w];if(void 0===n.readonlyFn){const i=()=>this();i[w]=n,n.readonlyFn=i}return n.readonlyFn}function co(n){return function Cg(n){return"function"==typeof n&&void 0!==n[w]}(n)&&"function"==typeof n.set}function Vy(){return this._results[Symbol.iterator]()}class Ly{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ln.B}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){this.dirty=!1;const c=function fr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Fa(n,i,s){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let _=n[c],I=i[c];if(s&&(_=s(_),I=s(I)),I!==_)return!1}return!0}(this._results,c,s))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Vy}function Df(n){return!(128&~n.flags)}var Mp=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Mp||{});const Bd=new Map;let Op=0;function Dh(n){Bd.delete(n[mr])}const kf="__ngContext__";function Po(n,i){rn(i)?(n[kf]=i[mr],function kp(n){Bd.set(n[mr],n)}(i)):n[kf]=i}function Vf(n){return Ld(n[bn])}function zr(n){return Ld(n[dr])}function Ld(n){for(;null!==n&&!kn(n);)n=n[dr];return n}let Ig;function Wy(n){Ig=n}function jc(){if(void 0!==Ig)return Ig;if(typeof document<"u")return document;throw new ue(210,!1)}const xh=new Xt("",{providedIn:"root",factory:()=>Yy}),Yy="ng",Rg=new Xt(""),zy=new Xt("",{providedIn:"platform",factory:()=>"unknown"}),xC=new Xt(""),kC=new Xt("",{providedIn:"root",factory:()=>jc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),R_=new Xt("",{providedIn:"root",factory:()=>!1});var Fo=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Fo||{});const Bl=new Xt(""),Og=new Set;function zo(n){Og.has(n)||(Og.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let Yp=(()=>class n{view;node;constructor(s,c){this.view=s,this.node=c}static __NG_ELEMENT_ID__=Ph})();function Ph(){return new Yp(Bn(),zs())}var Fh=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Fh||{});let N_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}return n})();const xg=[Fh.EarlyRead,Fh.Write,Fh.MixedReadWrite,Fh.Read];let Uf=(()=>{class n{ngZone=Ci(cr);scheduler=Ci(xo);errorHandler=Ci(Wa,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ci(Bl,{optional:!0})}execute(){const s=this.sequences.size>0;s&&ir(16),this.executing=!0;for(const c of xg)for(const _ of this.sequences)if(!_.erroredOrDestroyed&&_.hooks[c])try{_.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,_.hooks[c])(_.pipelinedValue),_.snapshot))}catch(I){_.erroredOrDestroyed=!0,this.errorHandler?.handleError(I)}this.executing=!1;for(const c of this.sequences)c.afterRun(),c.once&&(this.sequences.delete(c),c.destroy());for(const c of this.deferredRegistrations)this.sequences.add(c);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),s&&ir(17)}register(s){const{view:c}=s;void 0!==c?((c[25]??=[]).push(s),Mu(c),c[ns]|=8192):this.executing?this.deferredRegistrations.add(s):this.addSequence(s)}addSequence(s){this.sequences.add(s),this.scheduler.notify(7)}unregister(s){this.executing&&this.sequences.has(s)?(s.erroredOrDestroyed=!0,s.pipelinedValue=void 0,s.once=!0):(this.sequences.delete(s),this.deferredRegistrations.delete(s))}maybeTrace(s,c){return c?c.run(Fo.AFTER_NEXT_RENDER,s):s()}static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}return n})();class jf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,s,c,_,I,O=null){this.impl=i,this.hooks=s,this.view=c,this.once=_,this.snapshot=O,this.unregisterOnDestroy=I?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const i=this.view?.[25];i&&(this.view[25]=i.filter(s=>s!==this))}}function $c(n,i){!i?.injector&&ga();const s=i?.injector??Ci(ha);return zo("NgAfterRender"),kg(n,s,i,!1)}function _o(n,i){!i?.injector&&ga();const s=i?.injector??Ci(ha);return zo("NgAfterNextRender"),kg(n,s,i,!0)}function kg(n,i,s,c){const _=i.get(N_);_.impl??=i.get(Uf);const I=i.get(Bl,null,{optional:!0}),O=s?.phase??Fh.MixedReadWrite,X=!0!==s?.manualCleanup?i.get(rl):null,re=i.get(Yp,null,{optional:!0}),Ne=new jf(_.impl,function Qy(n,i){if(n instanceof Function){const s=[void 0,void 0,void 0,void 0];return s[i]=n,s}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,O),re?.view,c,X,I?.snapshot(null));return _.impl.register(Ne),Ne}let $g=()=>null;function Gg(n,i,s=!1){return $g(n,i,s)}function h0(n,i){const s=n.contentQueries;if(null!==s){const c=m(null);try{for(let _=0;_<s.length;_+=2){const O=s[_+1];if(-1!==O){const X=n.data[O];bh(s[_]),X.contentQueries(2,i[O],O)}}}finally{m(c)}}}function U_(n,i,s){bh(0);const c=m(null);try{i(n,s)}finally{m(c)}}function rm(n,i,s){if(Yn(i)){const c=m(null);try{const I=i.directiveEnd;for(let O=i.directiveStart;O<I;O++){const X=n.data[O];X.contentQueries&&X.contentQueries(1,s[O],O)}}finally{m(c)}}}var nd=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nd||{});let ll,Jd;function id(n){return function na(){if(void 0===ll&&(ll=null,Sn.trustedTypes))try{ll=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ll}()?.createHTML(n)||n}function am(){if(void 0===Jd&&(Jd=null,Sn.trustedTypes))try{Jd=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jd}function Xg(n){return am()?.createHTML(n)||n}function f0(n){return am()?.createScriptURL(n)||n}class cc{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${he})`}}class lm extends cc{getTypeName(){return"HTML"}}class j_ extends cc{getTypeName(){return"Style"}}class p0 extends cc{getTypeName(){return"Script"}}class m0 extends cc{getTypeName(){return"URL"}}class g0 extends cc{getTypeName(){return"ResourceURL"}}function _u(n){return n instanceof cc?n.changingThisBreaksApplicationSecurity:n}function uc(n,i){const s=function Qd(n){return n instanceof cc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${he})`)}return s===i}function Jf(n){return new lm(n)}function cm(n){return new j_(n)}function $_(n){return new p0(n)}function um(n){return new m0(n)}function Zd(n){return new g0(n)}function Jg(n){const i=new eS(n);return function tS(){try{return!!(new window.DOMParser).parseFromString(id(""),"text/html")}catch{return!1}}()?new qC(i):i}class qC{inertDocumentHelper;constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(id(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.firstChild?.remove(),s)}catch{return null}}}class eS{defaultDoc;inertDocument;constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=id(i),s}}const nS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qg(n){return(n=String(n)).match(nS)?n:"unsafe:"+n}function sd(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function dm(...n){const i={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const _0=sd("area,br,col,hr,img,wbr"),v0=sd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y0=sd("rp,rt"),hm=dm(_0,dm(v0,sd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dm(y0,sd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dm(y0,v0)),Zg=sd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fm=dm(Zg,sd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C0=sd("script,style,template");class pm{sanitizedSomething=!1;buf=[];sanitizeChildren(i){let s=i.firstChild,c=!0,_=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)_.push(s),s=G_(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let I=rS(s);if(I){s=I;break}s=_.pop()}return this.buf.join("")}startElement(i){const s=H_(i).toLowerCase();if(!hm.hasOwnProperty(s))return this.sanitizedSomething=!0,!C0.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let _=0;_<c.length;_++){const I=c.item(_),O=I.name,X=O.toLowerCase();if(!fm.hasOwnProperty(X)){this.sanitizedSomething=!0;continue}let re=I.value;Zg[X]&&(re=Qg(re)),this.buf.push(" ",O,'="',E0(re),'"')}return this.buf.push(">"),!0}endElement(i){const s=H_(i).toLowerCase();hm.hasOwnProperty(s)&&!_0.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(E0(i))}}function rS(n){const i=n.nextSibling;if(i&&n!==i.previousSibling)throw K_(i);return i}function G_(n){const i=n.firstChild;if(i&&function sS(n,i){return(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,i))throw K_(i);return i}function H_(n){const i=n.nodeName;return"string"==typeof i?i:"FORM"}function K_(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const S0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aS=/([^\#-~ |!])/g;function E0(n){return n.replace(/&/g,"&amp;").replace(S0,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(aS,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qg;function W_(n,i){let s=null;try{qg=qg||Jg(n);let c=i?String(i):"";s=qg.getInertBodyElement(c);let _=5,I=c;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,c=I,I=s.innerHTML,s=qg.getInertBodyElement(c)}while(c!==I);return id((new pm).sanitizeChildren(e1(s)||s))}finally{if(s){const c=e1(s)||s;for(;c.firstChild;)c.firstChild.remove()}}}function e1(n){return"content"in n&&function T0(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qd||{});function t1(n){const i=dc();return i?Xg(i.sanitize(qd.HTML,n)||""):uc(n,"HTML")?Xg(_u(n)):W_(jc(),ke(n))}function eh(n){const i=dc();return i?i.sanitize(qd.URL,n)||"":uc(n,"URL")?_u(n):Qg(ke(n))}function Qf(n){const i=dc();if(i)return f0(i.sanitize(qd.RESOURCE_URL,n)||"");if(uc(n,"ResourceURL"))return f0(_u(n));throw new ue(904,!1)}function I0(n,i,s){return function gm(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Qf:eh}(i,s)(n)}function dc(){const n=Bn();return n&&n[It].sanitizer}const lS=/^>|^->|<!--|-->|--!>|<!-$/g,R0=/(<|>)/g;function F0(n){return n.ownerDocument.defaultView}function B0(n){return n.ownerDocument}function hc(n){return n instanceof Function?n():n}function Q_(n,i,s){let c=n.length;for(;;){const _=n.indexOf(i,s);if(-1===_)return _;if(0===_||n.charCodeAt(_-1)<=32){const I=i.length;if(_+I===c||n.charCodeAt(_+I)<=32)return _}s=_+1}}const Z_="ng-template";function $0(n,i,s,c){let _=0;if(c){for(;_<i.length&&"string"==typeof i[_];_+=2)if("class"===i[_]&&-1!==Q_(i[_+1].toLowerCase(),s,0))return!0}else if(q_(n))return!1;if(_=i.indexOf(1,_),_>-1){let I;for(;++_<i.length&&"string"==typeof(I=i[_]);)if(I.toLowerCase()===s)return!0}return!1}function q_(n){return 4===n.type&&n.value!==Z_}function hS(n,i,s){return i===(4!==n.type||s?n.value:Z_)}function G0(n,i,s){let c=4;const _=n.attrs,I=null!==_?function Hh(n){for(let i=0;i<n.length;i++)if(Nl(n[i]))return i;return n.length}(_):0;let O=!1;for(let X=0;X<i.length;X++){const re=i[X];if("number"!=typeof re){if(!O)if(4&c){if(c=2|1&c,""!==re&&!hS(n,re,s)||""===re&&1===i.length){if(fc(c))return!1;O=!0}}else if(8&c){if(null===_||!$0(n,_,re,s)){if(fc(c))return!1;O=!0}}else{const Ne=i[++X],He=H0(re,_,q_(n),s);if(-1===He){if(fc(c))return!1;O=!0;continue}if(""!==Ne){let pt;if(pt=He>I?"":_[He+1].toLowerCase(),2&c&&Ne!==pt){if(fc(c))return!1;O=!0}}}}else{if(!O&&!fc(c)&&!fc(re))return!1;if(O&&fc(re))continue;O=!1,c=re|1&c}}return fc(c)||O}function fc(n){return!(1&n)}function H0(n,i,s,c){if(null===i)return-1;let _=0;if(c||!s){let I=!1;for(;_<i.length;){const O=i[_];if(O===n)return _;if(3===O||6===O)I=!0;else{if(1===O||2===O){let X=i[++_];for(;"string"==typeof X;)X=i[++_];continue}if(4===O)break;if(0===O){_+=4;continue}}_+=I?1:2}return-1}return function W0(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,n)}function Em(n,i,s=!1){for(let c=0;c<i.length;c++)if(G0(n,i[c],s))return!0;return!1}function u1(n,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(n.length===c.length){for(let _=0;_<n.length;_++)if(n[_]!==c[_])continue e;return!0}}return!1}function ev(n,i){return n?":not("+i.trim()+")":i}function Y0(n){let i=n[0],s=1,c=2,_="",I=!1;for(;s<n.length;){let O=n[s];if("string"==typeof O)if(2&c){const X=n[++s];_+="["+O+(X.length>0?'="'+X+'"':"")+"]"}else 8&c?_+="."+O:4&c&&(_+=" "+O);else""!==_&&!fc(O)&&(i+=ev(I,_),_=""),c=O,I=I||!fc(c);s++}return""!==_&&(i+=ev(I,_)),i}const Ls={};function qf(n,i){return n.createText(i)}function ep(n,i){return n.createComment(function i1(n){return n.replace(lS,i=>i.replace(R0,"\u200b$1\u200b"))}(i))}function Kh(n,i,s){return n.createElement(i,s)}function vu(n,i,s,c,_){n.insertBefore(i,s,c,_)}function wm(n,i,s){n.appendChild(i,s)}function Im(n,i,s,c,_){null!==c?vu(n,i,s,c,_):wm(n,i,s)}function nv(n,i,s){const{mergedAttrs:c,classes:_,styles:I}=s;null!==c&&function Ta(n,i,s){let c=0;for(;c<s.length;){const _=s[c];if("number"==typeof _){if(0!==_)break;c++;const I=s[c++],O=s[c++],X=s[c++];n.setAttribute(i,O,X,I)}else{const I=_,O=s[++c];il(I)?n.setProperty(i,I,O):n.setAttribute(i,I,O),c++}}}(n,i,c),null!==_&&function tv(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}(n,i,_),null!==I&&function X0(n,i,s){n.setAttribute(i,"style",s)}(n,i,I)}function h1(n,i,s,c,_,I,O,X,re,Ne,He){const pt=se+c,kt=pt+_,Nt=function iv(n,i){const s=[];for(let c=0;c<i;c++)s.push(c<n?null:Ls);return s}(pt,kt),an="function"==typeof Ne?Ne():Ne;return Nt[ci]={type:n,blueprint:Nt,template:s,queries:null,viewQuery:X,declTNode:i,data:Nt.slice().fill(null,pt),bindingStartIndex:pt,expandoStartIndex:kt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:re,consts:an,incompleteFirstPass:!1,ssrId:He}}function th(n,i,s,c,_,I,O,X,re,Ne,He){const pt=i.blueprint.slice();return pt[Fs]=_,pt[ns]=1228|c,(null!==Ne||n&&2048&n[ns])&&(pt[ns]|=2048),Au(pt),pt[lr]=pt[us]=n,pt[mn]=s,pt[It]=O||n&&n[It],pt[at]=X||n&&n[at],pt[$e]=re||n&&n[$e]||null,pt[Fr]=I,pt[mr]=function xp(){return Op++}(),pt[ta]=He,pt[Ys]=Ne,pt[qi]=2==i.type?n[qi]:pt,pt}function f1(n){let i=16;return n.signals?i=4096:n.onPush&&(i=64),i}function nh(n,i,s,c){if(0===s)return-1;const _=i.length;for(let I=0;I<s;I++)i.push(c),n.blueprint.push(c),n.data.push(null);return _}function p1(n,i){return n[bn]?n[Ri][dr]=i:n[bn]=i,n[Ri]=i,i}function Q0(n=1){Z0(Cs(),Bn(),hr()+n,!1)}function Z0(n,i,s,c){if(!c)if(3&~i[ns]){const I=n.preOrderHooks;null!==I&&Ed(i,I,0,s)}else{const I=n.preOrderCheckHooks;null!==I&&Ga(i,I,s)}Al(s)}var m1=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(m1||{});function rv(n,i,s,c){const _=m(null);try{const[I,O,X]=n.inputs[s];let re=null;!!(O&m1.SignalBased)&&(re=i[I][w]),null!==re&&void 0!==re.transformFn?c=re.transformFn(c):null!==X&&(c=X.call(i,c)),null!==n.setInput?n.setInput(i,re,c,s,I):Ro(i,re,I,c)}finally{m(_)}}function g1(n,i,s,c,_){const I=hr(),O=2&c;try{Al(-1),O&&i.length>se&&Z0(n,i,se,!1),ir(O?2:0,_),s(c,_)}finally{Al(I),ir(O?3:1,_)}}function _1(n,i,s){(function pS(n,i,s){const c=s.directiveStart,_=s.directiveEnd;es(s)&&function J0(n,i,s){const c=Re(i,n),_=function sv(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=h1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}(s),I=n[It].rendererFactory,O=p1(n,th(n,_,null,f1(s),c,i,null,I.createRenderer(c,s),null,null,null));n[i.index]=O}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||_f(s,i);const I=s.initialInputs;for(let O=c;O<_;O++){const X=n.data[O],re=pl(i,n,O,s);Po(re,i),null!==I&&gS(0,O-c,re,X,0,I),Se(X)&&(fs(s.index,i)[mn]=pl(i,n,O,s))}})(n,i,s),!(64&~s.flags)&&function uv(n,i,s){const c=s.directiveStart,_=s.directiveEnd,I=s.index,O=function so(){return Ns.lFrame.currentDirectiveIndex}();try{Al(I);for(let X=c;X<_;X++){const re=n.data[X],Ne=i[X];ro(X),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&mS(re,Ne)}}finally{Al(-1),ro(O)}}(n,i,s)}function av(n,i,s=Re){const c=i.localNames;if(null!==c){let _=i.index+1;for(let I=0;I<c.length;I+=2){const O=c[I+1],X=-1===O?s(i,n):n[O];n[_++]=X}}}let y1,yu=()=>null;function Xo(n,i,s,c,_,I,O,X){if(X||!Rm(i,n,s,c,_)){if(3&i.type){const re=Re(i,s);c=function cv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),_=null!=O?O(_,i.value||"",c):_,I.setProperty(re,c,_)}}else es(i)&&function fS(n,i){const s=fs(i,n);16&s[ns]||(s[ns]|=64)}(s,i.index)}function mS(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function dv(n,i){const s=n.directiveRegistry;let c=null;if(s)for(let _=0;_<s.length;_++){const I=s[_];Em(i,I.selectors,!1)&&(c??=[],Se(I)?c.unshift(I):c.push(I))}return c}function bu(n,i,s,c,_,I){const O=Re(n,i);!function v1(n,i,s,c,_,I,O){if(null==I)n.removeAttribute(i,_,s);else{const X=null==O?ke(I):O(I,c||"",_);n.setAttribute(i,_,X,s)}}(i[at],O,I,n.value,s,c,_)}function gS(n,i,s,c,_,I){const O=I[i];if(null!==O)for(let X=0;X<O.length;X+=2)rv(c,s,O[X],O[X+1])}function nb(n,i,s){return(null===n||Se(n))&&(s=function An(n){for(;Array.isArray(n);){if("object"==typeof n[Ce])return n;n=n[Fs]}return null}(s[i.index])),s[at]}function Rm(n,i,s,c,_){const I=n.inputs?.[c],O=n.hostDirectiveInputs?.[c];let X=!1;if(O)for(let re=0;re<O.length;re+=2){const Ne=O[re];rv(i.data[Ne],s[Ne],O[re+1],_),X=!0}if(I)for(const re of I)rv(i.data[re],s[re],c,_),X=!0;return X}function ib(n,i){const s=fs(i,n),c=s[ci];!function fv(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(c,s);const _=s[Fs];null!==_&&null===s[ta]&&(s[ta]=Gg(_,s[$e])),ir(18),Am(c,s,s[mn]),ir(19,s[mn])}function Am(n,i,s){ku(i);try{const c=n.viewQuery;null!==c&&U_(1,c,s);const _=n.template;null!==_&&g1(n,i,_,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),i[Yr]?.finishViewCreation(n),n.staticContentQueries&&h0(n,i),n.staticViewQueries&&U_(2,n.viewQuery,s);const I=n.components;null!==I&&function pv(n,i){for(let s=0;s<i.length;s++)ib(n,i[s])}(i,I)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[ns]&=-5,Rl()}}function ih(n,i,s,c){const _=m(null);try{const I=i.tView,re=th(n,I,s,4096&n[ns]?4096:16,null,i,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);re[Er]=n[i.index];const He=n[Yr];return null!==He&&(re[Yr]=He.createEmbeddedView(I)),Am(I,re,s),re}finally{m(_)}}function sh(n,i){return!i||null===i.firstChild||Df(n)}function b1(n,i){return y1(n,i)}var Dm=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Dm||{});function ad(n){return!(32&~n.flags)}function Wh(n,i,s,c,_){if(null!=c){let I,O=!1;kn(c)?I=c:rn(c)&&(O=!0,c=c[Fs]);const X=me(c);0===n&&null!==s?null==_?wm(i,s,X):vu(i,s,X,_||null,!0):1===n&&null!==s?vu(i,s,X,_||null,!0):2===n?function Hc(n,i,s){n.removeChild(null,i,s)}(i,X,O):3===n&&i.destroyNode(X),null!=I&&function ab(n,i,s,c,_){const I=s[we];I!==me(s)&&Wh(i,n,c,I,_);for(let X=St;X<s.length;X++){const re=s[X];km(re[ci],re,n,i,c,I)}}(i,n,I,s,_)}}function gv(n,i){i[It].changeDetectionScheduler?.notify(9),km(n,i,i[at],2,null,null)}function od(n,i){const s=n[Mt],c=s.indexOf(i);s.splice(c,1)}function Yh(n,i){if(ft(i))return;const s=i[at];s.destroyNode&&km(n,i,s,3,null,null),function _v(n){let i=n[bn];if(!i)return Mm(n[ci],n);for(;i;){let s=null;if(rn(i))s=i[bn];else{const c=i[St];c&&(s=c)}if(!s){for(;i&&!i[dr]&&i!==n;)rn(i)&&Mm(i[ci],i),i=i[lr];null===i&&(i=n),rn(i)&&Mm(i[ci],i),s=i&&i[dr]}i=s}}(i)}function Mm(n,i){if(ft(i))return;const s=m(null);try{i[ns]&=-129,i[ns]|=256,i[Mi]&&Z(i[Mi]),function C1(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const _=i[s[c]];if(!(_ instanceof Sh)){const I=s[c+1];if(Array.isArray(I))for(let O=0;O<I.length;O+=2){const X=_[I[O]],re=I[O+1];ir(4,X,re);try{re.call(X)}finally{ir(5,X,re)}}else{ir(4,_,I);try{I.call(_)}finally{ir(5,_,I)}}}}}(n,i),function Om(n,i){const s=n.cleanup,c=i[Ge];if(null!==s)for(let O=0;O<s.length-1;O+=2)if("string"==typeof s[O]){const X=s[O+3];X>=0?c[X]():c[-X].unsubscribe(),O+=2}else s[O].call(c[s[O+1]]);null!==c&&(i[Ge]=null);const _=i[tr];if(null!==_){i[tr]=null;for(let O=0;O<_.length;O++)(0,_[O])()}const I=i[$o];if(null!==I){i[$o]=null;for(const O of I)O.destroy()}}(n,i),1===i[ci].type&&i[at].destroy();const c=i[Er];if(null!==c&&kn(i[lr])){c!==i[lr]&&od(c,i);const _=i[Yr];null!==_&&_.detachView(n)}Dh(i)}finally{m(s)}}function S1(n,i,s){return vv(n,i.parent,s)}function vv(n,i,s){let c=i;for(;null!==c&&168&c.type;)c=(i=c).parent;if(null===c)return s[Fs];if(es(c)){const{encapsulation:_}=n.data[c.directiveStart+c.componentOffset];if(_===nd.None||_===nd.Emulated)return null}return Re(c,s)}function yv(n,i,s){return Cv(n,i,s)}function bv(n,i,s){return 40&n.type?Re(n,s):null}let E1,Cv=bv;function Sv(n,i){Cv=n,E1=i}function xm(n,i,s,c){const _=S1(n,c,i),I=i[at],X=yv(c.parent||i[Fr],c,i);if(null!=_)if(Array.isArray(s))for(let re=0;re<s.length;re++)Im(I,_,s[re],X,!1);else Im(I,_,s,X,!1);void 0!==E1&&E1(I,c,i,s,_)}function rh(n,i){if(null!==i){const s=i.type;if(3&s)return Re(i,n);if(4&s)return T1(-1,n[i.index]);if(8&s){const c=i.child;if(null!==c)return rh(n,c);{const _=n[i.index];return kn(_)?T1(-1,_):me(_)}}if(128&s)return rh(n,i.next);if(32&s)return b1(i,n)()||me(n[i.index]);{const c=Ev(n,i);return null!==c?Array.isArray(c)?c[0]:rh(hl(n[qi]),c):rh(n,i.next)}}return null}function Ev(n,i){return null!==i?n[qi][Fr].projection[i.projection]:null}function T1(n,i){const s=St+n+1;if(s<i.length){const c=i[s],_=c[ci].firstChild;if(null!==_)return rh(c,_)}return i[we]}function w1(n,i,s,c,_,I,O){for(;null!=s;){if(128===s.type){s=s.next;continue}const X=c[s.index],re=s.type;if(O&&0===i&&(X&&Po(me(X),c),s.flags|=2),!ad(s))if(8&re)w1(n,i,s.child,c,_,I,!1),Wh(i,n,_,X,I);else if(32&re){const Ne=b1(s,c);let He;for(;He=Ne();)Wh(i,n,_,He,I);Wh(i,n,_,X,I)}else 16&re?Tv(n,i,c,s,_,I):Wh(i,n,_,X,I);s=O?s.projectionNext:s.next}}function km(n,i,s,c,_,I){w1(s,c,n.firstChild,i,_,I,!1)}function Tv(n,i,s,c,_,I){const O=s[qi],re=O[Fr].projection[c.projection];if(Array.isArray(re))for(let Ne=0;Ne<re.length;Ne++)Wh(i,n,_,re[Ne],I);else{let Ne=re;const He=O[lr];Df(c)&&(Ne.flags|=128),w1(n,i,Ne,He,_,I,!0)}}function zh(n,i,s,c,_=!1){for(;null!==s;){if(128===s.type){s=_?s.projectionNext:s.next;continue}const I=i[s.index];null!==I&&c.push(me(I)),kn(I)&&Pm(I,c);const O=s.type;if(8&O)zh(n,i,s.child,c);else if(32&O){const X=b1(s,i);let re;for(;re=X();)c.push(re)}else if(16&O){const X=Ev(i,s);if(Array.isArray(X))c.push(...X);else{const re=hl(i[qi]);zh(re[ci],re,X,c,!0)}}s=_?s.projectionNext:s.next}return c}function Pm(n,i){for(let s=St;s<n.length;s++){const c=n[s],_=c[ci].firstChild;null!==_&&zh(c[ci],c,_,i)}n[we]!==n[Fs]&&i.push(n[we])}function wv(n){if(null!==n[25]){for(const i of n[25])i.impl.addSequence(i);n[25].length=0}}let Iv=[];const Dv={...k,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Mu(n.lView)},consumerOnSignalRead(){this.lView[Mi]=this}},Mv={...k,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let i=hl(n.lView);for(;i&&!I1(i[ci]);)i=hl(i);i&&_d(i)},consumerOnSignalRead(){this.lView[Mi]=this}};function I1(n){return 2!==n.type}function R1(n){if(null===n[$o])return;let i=!0;for(;i;){let s=!1;for(const c of n[$o])c.dirty&&(s=!0,null===c.zone||Zone.current===c.zone?c.run():c.zone.run(()=>c.run()));i=s&&!!(8192&n[ns])}}function jl(n,i=!0,s=0){const _=n[It].rendererFactory;_.begin?.();try{!function $l(n,i){const s=ff();try{bp(!0),ip(n,i);let c=0;for(;Du(n);){if(100===c)throw new ue(103,!1);c++,ip(n,1)}}finally{bp(s)}}(n,s)}catch(O){throw i&&function hv(n,i){const s=n[$e],c=s?s.get(Wa,null):null;c&&c.handleError(i)}(n,O),O}finally{_.end?.()}}function tp(n,i,s,c){if(ft(i))return;const _=i[ns];ku(i);let X=!0,re=null,Ne=null;I1(n)?(Ne=function lb(n){return n[Mi]??function Rv(n){const i=Iv.pop()??Object.create(Dv);return i.lView=n,i}(n)}(i),re=W(Ne)):null===function D(){return p}()?(X=!1,Ne=function Nv(n){const i=n[Mi]??Object.create(Mv);return i.lView=n,i}(i),re=W(Ne)):i[Mi]&&(Z(i[Mi]),i[Mi]=null);try{Au(i),function Ic(n){return Ns.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&g1(n,i,s,2,c);const He=!(3&~_);if(He){const Nt=n.preOrderCheckHooks;null!==Nt&&Ga(i,Nt,null)}else{const Nt=n.preOrderHooks;null!==Nt&&Ed(i,Nt,0,null),Ch(i,0)}if(function Fm(n){for(let i=Vf(n);null!==i;i=zr(i)){if(!(2&i[ns]))continue;const s=i[Mt];for(let c=0;c<s.length;c++)_d(s[c])}}(i),R1(i),np(i,0),null!==n.contentQueries&&h0(n,i),He){const Nt=n.contentCheckHooks;null!==Nt&&Ga(i,Nt)}else{const Nt=n.contentHooks;null!==Nt&&Ed(i,Nt,1),Ch(i,1)}!function Bm(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const _=s[c];if(_<0)Al(~_);else{const I=_,O=s[++c],X=s[++c];pf(O,I);const re=i[I];ir(24,re),X(2,re),ir(25,re)}}}finally{Al(-1)}}(n,i);const pt=n.components;null!==pt&&cl(i,pt,0);const kt=n.viewQuery;if(null!==kt&&U_(2,kt,c),He){const Nt=n.viewCheckHooks;null!==Nt&&Ga(i,Nt)}else{const Nt=n.viewHooks;null!==Nt&&Ed(i,Nt,2),Ch(i,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[22]){for(const Nt of i[22])Nt();i[22]=null}wv(i),i[ns]&=-73}catch(He){throw Mu(i),He}finally{null!==Ne&&(y(Ne,re),X&&function Av(n){n.lView[Mi]!==n&&(n.lView=null,Iv.push(n))}(Ne)),Rl()}}function np(n,i){for(let s=Vf(n);null!==s;s=zr(s))for(let c=St;c<s.length;c++)pc(s[c],i)}function Wc(n,i,s){ir(18);const c=fs(i,n);pc(c,s),ir(19,c[mn])}function pc(n,i){nu(n)&&ip(n,i)}function ip(n,i){const c=n[ci],_=n[ns],I=n[Mi];let O=!!(0===i&&16&_);if(O||=!!(64&_&&0===i),O||=!!(1024&_),O||=!(!I?.dirty||!z(I)),O||=!1,I&&(I.dirty=!1),n[ns]&=-9217,O)tp(c,n,c.template,n[mn]);else if(8192&_){R1(n),np(n,1);const X=c.components;null!==X&&cl(n,X,1),wv(n)}}function cl(n,i,s){for(let c=0;c<i.length;c++)Wc(n,i[c],s)}function ia(n,i){const s=ff()?64:1088;for(n[It].changeDetectionScheduler?.notify(i);n;){n[ns]|=s;const c=hl(n);if($(n)&&!c)return n;n=c}return null}function Vm(n,i,s,c){return[n,!0,0,i,null,c,null,s,null,null]}function Lm(n,i){const s=St+i;if(s<n.length)return n[s]}function ba(n,i,s,c=!0){const _=i[ci];if(function Um(n,i,s,c){const _=St+c,I=s.length;c>0&&(s[_-1][dr]=i),c<I-St?(i[dr]=s[_],Lo(s,St+c,i)):(s.push(i),i[dr]=null),i[lr]=s;const O=i[Er];null!==O&&s!==O&&jm(O,i);const X=i[Yr];null!==X&&X.insertView(n),Nu(i),i[ns]|=128}(_,i,n,s),c){const O=T1(s,n),X=i[at],re=X.parentNode(n[we]);null!==re&&function mv(n,i,s,c,_,I){c[Fs]=_,c[Fr]=i,km(n,c,s,1,_,I)}(_,n[Fr],X,i,re,O)}const I=i[ta];null!==I&&null!==I.firstChild&&(I.firstChild=null)}function Yc(n,i){const s=cd(n,i);return void 0!==s&&Yh(s[ci],s),s}function cd(n,i){if(n.length<=St)return;const s=St+i,c=n[s];if(c){const _=c[Er];null!==_&&_!==n&&od(_,c),i>0&&(n[s-1][dr]=c[dr]);const I=ea(n,St+i);!function Nm(n,i){gv(n,i),i[Fs]=null,i[Fr]=null}(c[ci],c);const O=I[Yr];null!==O&&O.detachView(I[ci]),c[lr]=null,c[dr]=null,c[ns]&=-129}return c}function jm(n,i){const s=n[Mt],c=i[lr];(rn(c)||i[qi]!==c[lr][qi])&&(n[ns]|=2),null===s?n[Mt]=[i]:s.push(i)}let yo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const i=this._lView,s=i[ci];return zh(s,i,s.firstChild,[])}constructor(i,s,c=!0){this._lView=i,this._cdRefInjectingView=s,this.notifyErrorHandler=c}get context(){return this._lView[mn]}set context(i){this._lView[mn]=i}get destroyed(){return ft(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[lr];if(kn(i)){const s=i[8],c=s?s.indexOf(this):-1;c>-1&&(cd(i,c),ea(s,c))}this._attachedToViewContainer=!1}Yh(this._lView[ci],this._lView)}onDestroy(i){su(this._lView,i)}markForCheck(){ia(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ns]&=-129}reattach(){Nu(this._lView),this._lView[ns]|=128}detectChanges(){this._lView[ns]|=1024,jl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=$(this._lView),s=this._lView[Er];null!==s&&!i&&od(s,this._lView),gv(this._lView[ci],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i;const s=$(this._lView),c=this._lView[Er];null!==c&&!s&&jm(c,this._lView),Nu(this._lView)}},Gl=(()=>class n{static __NG_ELEMENT_ID__=xv})();const ud=Gl,Ov=class extends ud{_declarationLView;_declarationTContainer;elementRef;constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,c){const _=ih(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:c});return new yo(_)}};function xv(){return sp(zs(),Bn())}function sp(n,i){return 4&n.type?new Ov(i,n,du(n,i)):null}function Hm(n,i,s){const c=i.insertBeforeIndex,_=Array.isArray(c)?c[0]:c;return null===_?bv(n,0,s):me(s[_])}function N1(n,i,s,c,_){const I=i.insertBeforeIndex;if(Array.isArray(I)){let O=c,X=null;if(3&i.type||(X=O,O=_),null!==O&&-1===i.componentOffset)for(let re=1;re<I.length;re++)vu(n,O,s[I[re]],X,!1)}}function ah(n,i,s,c,_){let I=n.data[i];if(null===I)I=Km(n,i,s,c,_),function No(){return Ns.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=s,I.value=c,I.attrs=_;const O=Tc();I.injectorIndex=null===O?-1:O.injectorIndex}return Ko(I,!0),I}function Km(n,i,s,c,_){const I=Ec(),O=bd(),re=n.data[i]=function mb(n,i,s,c,_,I){let O=i?i.injectorIndex:-1,X=0;return bc()&&(X|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:O,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:X,providerIndexes:0,value:_,attrs:I,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?I:I&&I.parent,s,i,c,_);return function pb(n,i,s,c){null===n.firstChild&&(n.firstChild=i),null!==s&&(c?null==s.child&&null!==i.parent&&(s.child=i):null===s.next&&(s.next=i,i.prev=s))}(n,re,I,O),re}function Lv(n,i){if(n.push(i),n.length>1)for(let s=n.length-2;s>=0;s--){const c=n[s];Uv(c)||gb(c,i)&&null===_b(c)&&vb(c,i.index)}}function Uv(n){return!(64&n.type)}function gb(n,i){return Uv(i)||n.index>i.index}function _b(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function vb(n,i){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=i:(Sv(Hm,N1),n.insertBeforeIndex=i)}function $v(n,i,s){const c=Km(n,s,64,null,null);return Lv(i,c),c}function Wm(n,i,s){n.index=0;const c=function op(n,i){const s=i[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(i,s);n.removes=null!==c?i.remove[c]:Vs}function lp(n){if(n.index<n.removes.length){const i=n.removes[n.index++];return i>0?n.lView[i]:(n.stack.push(n.index,n.removes),Wm(n,n.lView[ci].data[~i],n.lView),lp(n))}return 0===n.stack.length?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),lp(n))}function qh(){const n={stack:[],index:-1};return function i(s,c){for(n.lView=c;n.stack.length;)n.stack.pop();return Wm(n,s.value,c),lp.bind(null,n)}}let Oe=()=>{},ds=()=>null;function Ia(n,i){return ds(n,i)}let bl=class{},aa=class{};class ar{resolveComponentFactory(i){throw Error(`No component factory found for ${Ni(i)}.`)}}let vs=class{static NULL=new ar};class Jc{}let Tu=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function Hl(){const n=Bn(),s=fs(zs().index,n);return(rn(s)?s:n)[at]}()})(),$s=(()=>{class n{static \u0275prov=qn({token:n,providedIn:"root",factory:()=>null})}return n})();function wu(n){return!!rr(n)}const zv={};class sf{injector;parentInjector;constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,c){c=wr(c);const _=this.injector.get(i,zv,c);return _!==zv||s===zv?_:this.parentInjector.get(i,s,c)}}function Xv(n,i,s){let c=s?n.styles:null,_=s?n.classes:null,I=0;if(null!==i)for(let O=0;O<i.length;O++){const X=i[O];"number"==typeof X?I=X:1==I?_=os(_,X):2==I&&(c=os(c,X+": "+i[++O]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=_:n.classesWithoutHost=_}function up(n,i=Li.Default){const s=Bn();return null===s?ks(n,i):go(zs(),s,wt(n),i)}function Cb(){throw new Error("invalid")}function Jv(n,i,s,c,_){const I=null===c?null:{"":-1},O=_(n,s);if(null!==O){let X,re=null,Ne=null;const He=function SS(n){let i=null,s=!1;for(let O=0;O<n.length;O++){const X=n[O];if(0===O&&Se(X)&&(i=X),null!==X.findHostDirectiveDefs){s=!0;break}}if(!s)return null;let c=null,_=null,I=null;for(const O of n)null!==O.findHostDirectiveDefs&&(c??=[],_??=new Map,I??=new Map,ES(O,c,I,_)),O===i&&(c??=[],c.push(O));return null!==c?(c.push(...null===i?n:n.slice(1)),[c,_,I]):null}(O);null===He?X=O:[X,re,Ne]=He,function wS(n,i,s,c,_,I,O){const X=c.length;let re=!1;for(let kt=0;kt<X;kt++){const Nt=c[kt];!re&&Se(Nt)&&(re=!0,TS(n,s,kt)),mo(_f(s,i),n,Nt.type)}!function NS(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,X);for(let kt=0;kt<X;kt++){const Nt=c[kt];Nt.providersResolver&&Nt.providersResolver(Nt)}let Ne=!1,He=!1,pt=nh(n,i,X,null);X>0&&(s.directiveToIndex=new Map);for(let kt=0;kt<X;kt++){const Nt=c[kt];if(s.mergedAttrs=Ml(s.mergedAttrs,Nt.hostAttrs),IS(n,s,i,pt,Nt),DS(pt,Nt,_),null!==O&&O.has(Nt)){const[$n,bi]=O.get(Nt);s.directiveToIndex.set(Nt.type,[pt,$n+s.directiveStart,bi+s.directiveStart])}else(null===I||!I.has(Nt))&&s.directiveToIndex.set(Nt.type,pt);null!==Nt.contentQueries&&(s.flags|=4),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(s.flags|=64);const an=Nt.type.prototype;!Ne&&(an.ngOnChanges||an.ngOnInit||an.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),Ne=!0),!He&&(an.ngOnChanges||an.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),He=!0),pt++}!function Sb(n,i,s){for(let c=i.directiveStart;c<i.directiveEnd;c++){const _=n.data[c];if(null!==s&&s.has(_)){const I=s.get(_);Tb(0,i,I,c),Tb(1,i,I,c),Ib(i,c,!0)}else Eb(0,i,_,c),Eb(1,i,_,c),Ib(i,c,!1)}}(n,s,I)}(n,i,s,X,I,re,Ne)}null!==I&&null!==c&&function CS(n,i,s){const c=n.localNames=[];for(let _=0;_<i.length;_+=2){const I=s[i[_+1]];if(null==I)throw new ue(-301,!1);c.push(i[_],I)}}(s,c,I)}function ES(n,i,s,c){const _=i.length;n.findHostDirectiveDefs(n,i,c),s.set(n,[_,i.length-1])}function TS(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function Eb(n,i,s,c){const _=0===n?s.inputs:s.outputs;for(const I in _)if(_.hasOwnProperty(I)){let O;O=0===n?i.inputs??={}:i.outputs??={},O[I]??=[],O[I].push(c),wb(i,I)}}function Tb(n,i,s,c){const _=0===n?s.inputs:s.outputs;for(const I in _)if(_.hasOwnProperty(I)){const O=_[I];let X;X=0===n?i.hostDirectiveInputs??={}:i.hostDirectiveOutputs??={},X[O]??=[],X[O].push(c,I),wb(i,O)}}function wb(n,i){"class"===i?n.flags|=8:"style"===i&&(n.flags|=16)}function Ib(n,i,s){const{attrs:c,inputs:_,hostDirectiveInputs:I}=n;if(null===c||!s&&null===_||s&&null===I||q_(n))return n.initialInputs??=[],void n.initialInputs.push(null);let O=null,X=0;for(;X<c.length;){const re=c[X];if(0!==re)if(5!==re){if("number"==typeof re)break;if(!s&&_.hasOwnProperty(re)){const Ne=_[re];for(const He of Ne)if(He===i){O??=[],O.push(re,c[X+1]);break}}else if(s&&I.hasOwnProperty(re)){const Ne=I[re];for(let He=0;He<Ne.length;He+=2)if(Ne[He]===i){O??=[],O.push(Ne[He+1],c[X+1]);break}}X+=2}else X+=2;else X+=4}n.initialInputs??=[],n.initialInputs.push(O)}function IS(n,i,s,c,_){n.data[c]=_;const I=_.factory||(_.factory=da(_.type)),O=new Sh(I,Se(_),up);n.blueprint[c]=O,s[c]=O,function RS(n,i,s,c,_){const I=_.hostBindings;if(I){let O=n.hostBindingOpCodes;null===O&&(O=n.hostBindingOpCodes=[]);const X=~i.index;(function AS(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(O)!=X&&O.push(X),O.push(s,c,I)}}(n,i,c,nh(n,s,_.hostVars,Ls),_)}function DS(n,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=n;Se(i)&&(s[""]=n)}}function Rb(n,i,s,c,_,I,O,X){const re=i.consts,He=ah(i,n,2,c,$a(re,O));return I&&Jv(i,s,He,$a(re,X),_),He.mergedAttrs=Ml(He.mergedAttrs,He.attrs),null!==He.attrs&&Xv(He,He.attrs,!1),null!==He.mergedAttrs&&Xv(He,He.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,He),He}function Ab(n,i){Ql(n,i),Yn(i)&&n.queries.elementEnd(i)}class Db extends vs{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=hs(i);return new qm(s,this.ngModule)}}class qm extends aa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function MS(n){return Object.keys(n).map(i=>{const[s,c,_]=n[i],I={propName:s,templateName:i,isSignal:!!(c&m1.SignalBased)};return _&&(I.transform=_),I})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function OS(n){return Object.keys(n).map(i=>({propName:n[i],templateName:i}))}(this.componentDef.outputs),this.cachedOutputs}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function d1(n){return n.map(Y0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!s}create(i,s,c,_){ir(22);const I=m(null);try{const O=this.componentDef,X=c?["ng-version","19.2.8"]:function z0(n){const i=[],s=[];let c=1,_=2;for(;c<n.length;){let I=n[c];if("string"==typeof I)2===_?""!==I&&i.push(I,n[++c]):8===_&&s.push(I);else{if(!fc(_))break;_=I}c++}return s.length&&i.push(1,...s),i}(this.componentDef.selectors[0]),re=h1(0,null,null,1,0,null,null,null,null,[X],null),Ne=function xS(n,i,s){let c=i instanceof Ir?i:i?.injector;return c&&null!==n.getStandaloneInjector&&(c=n.getStandaloneInjector(c)||c),c?new sf(s,c):s}(O,_||this.ngModule,i),He=function kS(n){const i=n.get(Jc,null);if(null===i)throw new ue(407,!1);return{rendererFactory:i,sanitizer:n.get($s,null),changeDetectionScheduler:n.get(xo,null)}}(Ne),pt=He.rendererFactory.createRenderer(null,O),kt=c?function q0(n,i,s,c){const I=c.get(R_,!1)||s===nd.ShadowDom,O=n.selectRootElement(i,I);return function eb(n){yu(n)}(O),O}(pt,c,O.encapsulation,Ne):function PS(n,i){const s=(n.selectors[0][0]||"div").toLowerCase();return Kh(i,s,"svg"===s?"svg":"math"===s?"math":null)}(O,pt),Nt=th(null,re,null,512|f1(O),null,null,He,pt,Ne,null,Gg(kt,Ne,!0));Nt[se]=kt,ku(Nt);let an=null;try{const $n=Rb(se,re,Nt,"#host",()=>[this.componentDef],!0,0);kt&&(nv(pt,kt,$n),Po(kt,Nt)),_1(re,Nt,$n),rm(re,$n,Nt),Ab(re,$n),void 0!==s&&function BS(n,i,s){const c=n.projection=[];for(let _=0;_<i.length;_++){const I=s[_];c.push(null!=I&&I.length?Array.from(I):null)}}($n,this.ngContentSelectors,s),an=fs($n.index,Nt),Nt[mn]=an[mn],Am(re,Nt,null)}catch($n){throw null!==an&&Dh(an),Dh(Nt),$n}finally{ir(23),Rl()}return new FS(this.componentType,Nt)}finally{m(I)}}}class FS extends bl{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,s){super(),this._rootLView=s,this._tNode=gn(s[ci],se),this.location=du(this._tNode,s),this.instance=fs(this._tNode.index,s)[mn],this.hostView=this.changeDetectorRef=new yo(s,void 0,!1),this.componentType=i}setInput(i,s){const c=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const _=this._rootLView;Rm(c,_[ci],_,i,s),this.previousInputValues.set(i,s),ia(fs(c.index,_),1)}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}let L1=(()=>class n{static __NG_ELEMENT_ID__=VS})();function VS(){return Ob(zs(),Bn())}const LS=L1,Nb=class extends LS{_lContainer;_hostTNode;_hostLView;constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return du(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){const i=vf(this._hostTNode,this._hostLView);if(Bu(i)){const s=Eh(i,this._hostLView),c=Ol(i);return new br(s[ci].data[c+8],s)}return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Mb(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-St}createEmbeddedView(i,s,c){let _,I;"number"==typeof c?_=c:null!=c&&(_=c.index,I=c.injector);const O=Ia(this._lContainer,i.ssrId),X=i.createEmbeddedViewImpl(s||{},I,O);return this.insertImpl(X,_,sh(this._hostTNode,O)),X}createComponent(i,s,c,_,I){const O=i&&!function Oa(n){return"function"==typeof n}(i);let X;if(O)X=s;else{const an=s||{};X=an.index,c=an.injector,_=an.projectableNodes,I=an.environmentInjector||an.ngModuleRef}const re=O?i:new qm(hs(i)),Ne=c||this.parentInjector;if(!I&&null==re.ngModule){const $n=(O?Ne:this.parentInjector).get(Ir,null);$n&&(I=$n)}const He=hs(re.componentType??{}),pt=Ia(this._lContainer,He?.id??null),Nt=re.create(Ne,_,pt?.firstChild??null,I);return this.insertImpl(Nt.hostView,X,sh(this._hostTNode,pt)),Nt}insert(i,s){return this.insertImpl(i,s,!0)}insertImpl(i,s,c){const _=i._lView;if(function iu(n){return kn(n[lr])}(_)){const X=this.indexOf(i);if(-1!==X)this.detach(X);else{const re=_[lr],Ne=new Nb(re,re[Fr],re[lr]);Ne.detach(Ne.indexOf(i))}}const I=this._adjustIndex(s),O=this._lContainer;return ba(O,_,I,c),i.attachToViewContainerRef(),Lo(Qv(O),I,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Mb(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=cd(this._lContainer,s);c&&(ea(Qv(this._lContainer),s),Yh(c[ci],c))}detach(i){const s=this._adjustIndex(i,-1),c=cd(this._lContainer,s);return c&&null!=ea(Qv(this._lContainer),s)?new yo(c):null}_adjustIndex(i,s=0){return i??this.length+s}};function Mb(n){return n[8]}function Qv(n){return n[8]||(n[8]=[])}function Ob(n,i){let s;const c=i[n.index];return kn(c)?s=c:(s=Vm(c,i,null,n),i[n.index]=s,p1(i,s)),xb(s,i,n,c),new Nb(s,n,i)}let xb=function kb(n,i,s,c){if(n[we])return;let _;_=8&s.type?me(c):function US(n,i){const s=n[at],c=s.createComment(""),_=Re(i,n),I=s.parentNode(_);return vu(s,I,c,s.nextSibling(_),!1),c}(i,s),n[we]=_},Zv=()=>!1;class ty{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class ny{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,_=[];for(let I=0;I<c;I++){const O=s.getByIndex(I);_.push(this.queries[O.indexInDeclarationView].clone())}return new ny(_)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==j1(i,s).matches&&this.queries[s].setDirty()}}class Fb{flags;read;predicate;constructor(i,s,c=null){this.flags=s,this.read=c,this.predicate="string"==typeof i?function KS(n){return n.split(",").map(i=>i.trim())}(i):i}}class iy{queries;constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const _=null!==s?s.length:0,I=this.getByIndex(c).embeddedTView(i,_);I&&(I.indexInDeclarationView=c,null!==s?s.push(I):s=[I])}return null!==s?new iy(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class sy{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,s=-1){this.metadata=i,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new sy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let _=0;_<c.length;_++){const I=c[_];this.matchTNodeWithReadOption(i,s,$S(s,I)),this.matchTNodeWithReadOption(i,s,Mc(s,i,I,!1,!1))}else c===Gl?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Mc(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const _=this.metadata.read;if(null!==_)if(_===Xu||_===L1||_===Gl&&4&s.type)this.addMatch(s.index,-2);else{const I=Mc(s,i,_,!1,!1);null!==I&&this.addMatch(s.index,I)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function $S(n,i){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function GS(n,i,s,c){return-1===s?function Bb(n,i){return 11&n.type?du(n,i):4&n.type?sp(n,i):null}(i,n):-2===s?function HS(n,i,s){return s===Xu?du(i,n):s===Gl?sp(i,n):s===L1?Ob(i,n):void 0}(n,i,c):pl(n,n[ci],s,i)}function Vb(n,i,s,c){const _=i[Yr].queries[c];if(null===_.matches){const I=n.data,O=s.matches,X=[];for(let re=0;null!==O&&re<O.length;re+=2){const Ne=O[re];X.push(Ne<0?null:GS(i,I[Ne],O[re+1],s.metadata.read))}_.matches=X}return _.matches}function ry(n,i,s,c){const _=n.queries.getByIndex(s),I=_.matches;if(null!==I){const O=Vb(n,i,_,s);for(let X=0;X<I.length;X+=2){const re=I[X];if(re>0)c.push(O[X/2]);else{const Ne=I[X+1],He=i[-re];for(let pt=St;pt<He.length;pt++){const kt=He[pt];kt[Er]===kt[lr]&&ry(kt[ci],kt,Ne,c)}if(null!==He[Mt]){const pt=He[Mt];for(let kt=0;kt<pt.length;kt++){const Nt=pt[kt];ry(Nt[ci],Nt,Ne,c)}}}}}return c}function Lb(n,i,s){const c=new Ly(!(4&~s));return function Xl(n,i,s,c){const _=gh(i);_.push(s),n.firstCreatePass&&_h(n).push(c,_.length-1)}(n,i,c,c.destroy),(i[Yr]??=new ny).queries.push(new ty(c))-1}function jb(n,i,s){null===n.queries&&(n.queries=new iy),n.queries.track(new sy(i,s))}function j1(n,i){return n.queries.getByIndex(i)}function $1(n,i){const s=n[ci],c=j1(s,i);return c.crossesNgTemplate?ry(s,n,i,[]):Vb(s,n,c,i)}let rf=class{},nC=class{};function oE(n,i){return new dy(n,i??null,[])}class dy extends rf{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Db(this);constructor(i,s,c,_=!0){super(),this.ngModuleType=i,this._parent=s;const I=rr(i);this._bootstrapComponents=hc(I.bootstrap),this._r3Injector=Wu(i,s,[{provide:rf,useValue:this},{provide:vs,useValue:this.componentFactoryResolver},...c],Ni(i),new Set(["environment"])),_&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class hy extends nC{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new dy(this.moduleType,i,[])}}class h extends rf{injector;componentFactoryResolver=new Db(this);instance=null;constructor(i){super();const s=new La([...i.providers,{provide:rf,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],i.parent||Va(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function b(n,i,s=null){return new h({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let r=(()=>{class n{_injector;cachedInjectors=new Map;constructor(s){this._injector=s}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=eo(0,s.type),_=c.length>0?b([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,_)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=qn({token:n,providedIn:"environment",factory:()=>new n(ks(Ir))})}return n})();function f(n){return Ht(()=>{const i=Cn(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Mp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:i.standalone?_=>_.get(r).getOrCreateStandaloneInjector(s):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nd.Emulated,styles:n.styles||Vs,_:null,schemas:n.schemas||null,tView:null,id:""};i.standalone&&zo("NgStandalone"),jn(s);const c=n.dependencies;return s.directiveDefs=Hn(c,!1),s.pipeDefs=Hn(c,!0),s.id=function mi(n){let i=0;const c=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const I of c.join("|"))i=Math.imul(31,i)+I.charCodeAt(0)|0;return i+=2147483648,"c"+i}(s),s})}function C(n){return hs(n)||As(n)}function x(n){return null!==n}function le(n){return Ht(()=>({type:n.type,bootstrap:n.bootstrap||Vs,declarations:n.declarations||Vs,imports:n.imports||Vs,exports:n.exports||Vs,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xe(n,i){if(null==n)return Pr;const s={};for(const c in n)if(n.hasOwnProperty(c)){const _=n[c];let I,O,X,re;Array.isArray(_)?(X=_[0],I=_[1],O=_[2]??I,re=_[3]||null):(I=_,O=_,X=m1.None,re=null),s[I]=[c,X,re],i[I]=O}return s}function tt(n){if(null==n)return Pr;const i={};for(const s in n)n.hasOwnProperty(s)&&(i[n[s]]=s);return i}function Ct(n){return Ht(()=>{const i=Cn(n);return jn(i),i})}function Lt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Cn(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputConfig:n.inputs||Pr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||Vs,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xe(n.inputs,i),outputs:tt(n.outputs),debugInfo:null}}function jn(n){n.features?.forEach(i=>i(n))}function Hn(n,i){if(!n)return null;const s=i?Ps:C;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(x)}function ys(n){let i=function Xi(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;i;){let _;if(Se(n))_=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);_=i.\u0275dir}if(_){if(s){c.push(_);const O=n;O.inputs=ps(n.inputs),O.declaredInputs=ps(n.declaredInputs),O.outputs=ps(n.outputs);const X=_.hostBindings;X&&qs(n,X);const re=_.viewQuery,Ne=_.contentQueries;if(re&&nr(n,re),Ne&&Xs(n,Ne),cs(n,_),Fi(n.outputs,_.outputs),Se(_)&&_.data.animation){const He=n.data;He.animation=(He.animation||[]).concat(_.data.animation)}}const I=_.features;if(I)for(let O=0;O<I.length;O++){const X=I[O];X&&X.ngInherit&&X(n),X===ys&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Ws(n){let i=0,s=null;for(let c=n.length-1;c>=0;c--){const _=n[c];_.hostVars=i+=_.hostVars,_.hostAttrs=Ml(_.hostAttrs,s=Ml(s,_.hostAttrs))}}(c)}function cs(n,i){for(const s in i.inputs){if(!i.inputs.hasOwnProperty(s)||n.inputs.hasOwnProperty(s))continue;const c=i.inputs[s];void 0!==c&&(n.inputs[s]=c,n.declaredInputs[s]=i.declaredInputs[s])}}function ps(n){return n===Pr?{}:n===Vs?[]:n}function nr(n,i){const s=n.viewQuery;n.viewQuery=s?(c,_)=>{i(c,_),s(c,_)}:i}function Xs(n,i){const s=n.contentQueries;n.contentQueries=s?(c,_,I)=>{i(c,_,I),s(c,_,I)}:i}function qs(n,i){const s=n.hostBindings;n.hostBindings=s?(c,_)=>{i(c,_),s(c,_)}:i}function Xa(n){const i=s=>{const c=Array.isArray(n);null===s.hostDirectives?(s.findHostDirectiveDefs=Ja,s.hostDirectives=c?n.map(mc):[n]):c?s.hostDirectives.unshift(...n.map(mc)):s.hostDirectives.unshift(n)};return i.ngInherit=!0,i}function Ja(n,i,s){if(null!==n.hostDirectives)for(const c of n.hostDirectives)if("function"==typeof c){const _=c();for(const I of _)Qa(mc(I),i,s)}else Qa(c,i,s)}function Qa(n,i,s){const c=As(n.directive);(function Gi(n,i){for(const s in i)i.hasOwnProperty(s)&&(n[i[s]]=n[s])})(c.declaredInputs,n.inputs),Ja(c,i,s),s.set(c,n),i.push(c)}function mc(n){return"function"==typeof n?{directive:wt(n),inputs:Pr,outputs:Pr}:{directive:wt(n.directive),inputs:Qc(n.inputs),outputs:Qc(n.outputs)}}function Qc(n){if(void 0===n||0===n.length)return Pr;const i={};for(let s=0;s<n.length;s+=2)i[n[s]]=n[s+1];return i}function Gs(n){return!!Pa(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Pa(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sr(n,i,s){return n[i]=s}function ul(n,i){return n[i]}function $r(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Xr(n,i,s,c){const _=$r(n,i,s);return $r(n,i+1,c)||_}function Jr(n,i,s,c,_,I){const O=Xr(n,i,s,c);return Xr(n,i+2,_,I)||O}function Zc(n,i,s,c,_,I,O,X,re,Ne){const He=s+se,pt=i.firstCreatePass?function hp(n,i,s,c,_,I,O,X,re){const Ne=i.consts,He=ah(i,n,4,O||null,X||null);yh()&&Jv(i,s,He,$a(Ne,re),dv),He.mergedAttrs=Ml(He.mergedAttrs,He.attrs),Ql(i,He);const pt=He.tView=h1(2,He,c,_,I,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Ne,null);return null!==i.queries&&(i.queries.template(i,He),pt.queries=i.queries.embeddedTView(He)),He}(He,i,n,c,_,I,O,X,re):i.data[He];Ko(pt,!1);const kt=py(i,n,pt,s);nl()&&xm(i,n,kt,pt),Po(kt,n);const Nt=Vm(kt,n,kt,pt);return n[He]=Nt,p1(n,Nt),function qv(n,i,s){return Zv(n,i,s)}(Nt,pt,n),sn(pt)&&_1(i,n,pt),null!=re&&av(n,pt,Ne),pt}function fy(n,i,s,c,_,I,O,X){const re=Bn(),Ne=Cs();return Zc(re,Ne,n,i,s,c,_,$a(Ne.consts,I),O,X),fy}let py=function iC(n,i,s,c){return Dl(!0),i[at].createComment("")};let mE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ZT=new Xt(""),qT=new Xt("");let yE,_D=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(s,c,_){this._ngZone=s,this.registry=c,yE||(function vD(n){yE=n}(_),_.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,_){let I=-1;c&&c>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==I),s()},c)),this._callbacks.push({doneCb:s,timeoutId:I,updateCb:_})}whenStable(s,c,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,_),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,_){return[]}static \u0275fac=function(c){return new(c||n)(ks(cr),ks(ew),ks(qT))};static \u0275prov=qn({token:n,factory:n.\u0275fac})}return n})(),ew=(()=>{class n{_applications=new Map;registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return yE?.findTestabilityInTree(this,s,c)??null}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),bE=(()=>{class n{static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new yD})}return n})();class yD{queuedEffectCount=0;queues=new Map;schedule(i){this.enqueue(i)}remove(i){const c=this.queues.get(i.zone);c.has(i)&&(c.delete(i),this.queuedEffectCount--)}enqueue(i){const s=i.zone;this.queues.has(s)||this.queues.set(s,new Set);const c=this.queues.get(s);c.has(i)||(this.queuedEffectCount++,c.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,s]of this.queues)null===i?this.flushQueue(s):i.run(()=>this.flushQueue(s))}flushQueue(i){for(const s of i)i.delete(s),this.queuedEffectCount--,s.run()}}function CE(n){return!!n&&"function"==typeof n.then}function tw(n){return!!n&&"function"==typeof n.subscribe}const SE=new Xt("");function bD(n){return Sr([{provide:SE,multi:!0,useValue:n}])}let nw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c});appInits=Ci(SE,{optional:!0})??[];injector=Ci(ha);constructor(){}runInitializers(){if(this.initialized)return;const s=[];for(const _ of this.appInits){const I=jr(this.injector,_);if(CE(I))s.push(I);else if(tw(I)){const O=new Promise((X,re)=>{I.subscribe({complete:X,error:re})});s.push(O)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(_=>{this.reject(_)}),0===s.length&&c(),this.initialized=!0}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vy=new Xt("");function sw(n,i){return Array.isArray(i)?i.reduce(sw,n):{...n,...i}}let qc=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ci(h_);afterRenderManager=Ci(N_);zonelessEnabled=Ci(Pc);rootEffectScheduler=Ci(bE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ln.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ci(lu).hasPendingTasks.pipe((0,mt.T)(s=>!s));constructor(){Ci(Bl,{optional:!0})}whenStable(){let s;return new Promise(c=>{s=this.isStable.subscribe({next:_=>{_&&c()}})}).finally(()=>{s.unsubscribe()})}_injector=Ci(Ir);_rendererFactory=null;get injector(){return this._injector}bootstrap(s,c){return this.bootstrapImpl(s,c)}bootstrapImpl(s,c,_=ha.NULL){ir(10);const I=s instanceof aa;if(!this._injector.get(nw).done)throw new ue(405,"");let X;X=I?s:this._injector.get(vs).resolveComponentFactory(s),this.componentTypes.push(X.componentType);const re=function CD(n){return n.isBoundToModule}(X)?void 0:this._injector.get(rf),He=X.create(_,[],c||X.selector,re),pt=He.location.nativeElement,kt=He.injector.get(ZT,null);return kt?.registerApplication(pt),He.onDestroy(()=>{this.detachView(He.hostView),cC(this.components,He),kt?.unregisterApplication(pt)}),this._loadComponent(He),ir(11,He),He}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ir(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Fo.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ue(101,!1);const s=m(null);try{this._runningTick=!0,this.synchronize()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,m(s),this.afterTick.next(),ir(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Jc,null,{optional:!0}));let s=0;for(;0!==this.dirtyFlags&&s++<10;)ir(14),this.synchronizeOnce(),ir(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:c,notifyErrorHandler:_}of this.allViews)ED(c,_,s,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>Du(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;cC(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(vy,[]).forEach(_=>_(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>cC(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cC(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function ED(n,i,s,c){(s||Du(n))&&jl(n,i,s&&!c?0:1)}function RE(n,i,s,c){const _=Bn();return $r(_,tl(),i)&&(Cs(),bu(yr(),_,n,i,s,c)),RE}function X1(n,i,s,c){return $r(n,tl(),s)?i+ke(s)+c:Ls}function J1(n,i,s,c,_,I){const X=Xr(n,function wc(){return Ns.lFrame.bindingIndex}(),s,_);return Dr(2),X?i+ke(s)+c+ke(_)+I:Ls}function uC(n,i){return n<<17|i<<2}function ng(n){return n>>17&32767}function AE(n){return 2|n}function i_(n){return(131068&n)>>2}function DE(n,i){return-131069&n|i<<2}function NE(n){return 1|n}function Sw(n,i,s,c){const _=n[s+1],I=null===i;let O=c?ng(_):i_(_),X=!1;for(;0!==O&&(!1===X||I);){const Ne=n[O+1];c2(n[O],i)&&(X=!0,n[O+1]=c?NE(Ne):AE(Ne)),O=c?ng(Ne):i_(Ne)}X&&(n[s+1]=c?AE(_):NE(_))}function c2(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&qa(n,i)>=0}const Vo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ew(n){return n.substring(Vo.key,Vo.keyEnd)}function Tw(n,i){const s=Vo.textEnd;return s===i?-1:(i=Vo.keyEnd=function f2(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,Vo.key=i,s),s_(n,i,s))}function s_(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function ME(n,i,s){const c=Bn();return $r(c,tl(),i)&&Xo(Cs(),yr(),c,n,i,c[at],s,!1),ME}function OE(n,i,s,c,_){Rm(i,n,s,_?"class":"style",c)}function xE(n,i,s){return hd(n,i,s,!1),xE}function kE(n,i){return hd(n,i,null,!0),kE}function Dw(n){fd(S2,hh,n,!0)}function hh(n,i){for(let s=function d2(n){return function Iw(n){Vo.key=0,Vo.keyEnd=0,Vo.value=0,Vo.valueEnd=0,Vo.textEnd=n.length}(n),Tw(n,s_(n,0,Vo.textEnd))}(i);s>=0;s=Tw(i,s))pr(n,Ew(i),!0)}function hd(n,i,s,c){const _=Bn(),I=Cs(),O=Dr(2);I.firstUpdatePass&&Mw(I,n,O,c),i!==Ls&&$r(_,O,i)&&xw(I,I.data[hr()],_,_[at],n,_[O+1]=function T2(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ni(_u(n)))),n}(i,s),c,O)}function fd(n,i,s,c){const _=Cs(),I=Dr(2);_.firstUpdatePass&&Mw(_,null,I,c);const O=Bn();if(s!==Ls&&$r(O,I,s)){const X=_.data[hr()];if(Pw(X,c)&&!Nw(_,I)){let re=c?X.classesWithoutHost:X.stylesWithoutHost;null!==re&&(s=os(re,s||"")),OE(_,X,O,s,c)}else!function E2(n,i,s,c,_,I,O,X){_===Ls&&(_=Vs);let re=0,Ne=0,He=0<_.length?_[0]:null,pt=0<I.length?I[0]:null;for(;null!==He||null!==pt;){const kt=re<_.length?_[re+1]:void 0,Nt=Ne<I.length?I[Ne+1]:void 0;let $n,an=null;He===pt?(re+=2,Ne+=2,kt!==Nt&&(an=pt,$n=Nt)):null===pt||null!==He&&He<pt?(re+=2,an=He):(Ne+=2,an=pt,$n=Nt),null!==an&&xw(n,i,s,c,an,$n,O,X),He=re<_.length?_[re]:null,pt=Ne<I.length?I[Ne]:null}}(_,X,O,O[at],O[I+1],O[I+1]=function C2(n,i,s){if(null==s||""===s)return Vs;const c=[],_=_u(s);if(Array.isArray(_))for(let I=0;I<_.length;I++)n(c,_[I],!0);else if("object"==typeof _)for(const I in _)_.hasOwnProperty(I)&&n(c,I,_[I]);else"string"==typeof _&&i(c,_);return c}(n,i,s),c,I)}}function Nw(n,i){return i>=n.expandoStartIndex}function Mw(n,i,s,c){const _=n.data;if(null===_[s+1]){const I=_[hr()],O=Nw(n,s);Pw(I,c)&&null===i&&!O&&(i=!1),i=function _2(n,i,s,c){const _=Rc(n);let I=c?i.residualClasses:i.residualStyles;if(null===_)0===(c?i.classBindings:i.styleBindings)&&(s=by(s=PE(null,n,i,s,c),i.attrs,c),I=null);else{const O=i.directiveStylingLast;if(-1===O||n[O]!==_)if(s=PE(_,n,i,s,c),null===I){let re=function v2(n,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==i_(c))return n[ng(c)]}(n,i,c);void 0!==re&&Array.isArray(re)&&(re=PE(null,n,i,re[1],c),re=by(re,i.attrs,c),function y2(n,i,s,c){n[ng(s?i.classBindings:i.styleBindings)]=c}(n,i,c,re))}else I=function b2(n,i,s){let c;const _=i.directiveEnd;for(let I=1+i.directiveStylingLast;I<_;I++)c=by(c,n[I].hostAttrs,s);return by(c,i.attrs,s)}(n,i,c)}return void 0!==I&&(c?i.residualClasses=I:i.residualStyles=I),s}(_,I,i,c),function o2(n,i,s,c,_,I){let O=I?i.classBindings:i.styleBindings,X=ng(O),re=i_(O);n[c]=s;let He,Ne=!1;if(Array.isArray(s)?(He=s[1],(null===He||qa(s,He)>0)&&(Ne=!0)):He=s,_)if(0!==re){const kt=ng(n[X+1]);n[c+1]=uC(kt,X),0!==kt&&(n[kt+1]=DE(n[kt+1],c)),n[X+1]=function r2(n,i){return 131071&n|i<<17}(n[X+1],c)}else n[c+1]=uC(X,0),0!==X&&(n[X+1]=DE(n[X+1],c)),X=c;else n[c+1]=uC(re,0),0===X?X=c:n[re+1]=DE(n[re+1],c),re=c;Ne&&(n[c+1]=AE(n[c+1])),Sw(n,He,c,!0),Sw(n,He,c,!1),function l2(n,i,s,c,_){const I=_?n.residualClasses:n.residualStyles;null!=I&&"string"==typeof i&&qa(I,i)>=0&&(s[c+1]=NE(s[c+1]))}(i,He,n,c,I),O=uC(X,re),I?i.classBindings=O:i.styleBindings=O}(_,I,i,s,O,c)}}function PE(n,i,s,c,_){let I=null;const O=s.directiveEnd;let X=s.directiveStylingLast;for(-1===X?X=s.directiveStart:X++;X<O&&(I=i[X],c=by(c,I.hostAttrs,_),I!==n);)X++;return null!==n&&(s.directiveStylingLast=X),c}function by(n,i,s){const c=s?1:2;let _=-1;if(null!==i)for(let I=0;I<i.length;I++){const O=i[I];"number"==typeof O?_=O:_===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),pr(n,O,!!s||i[++I]))}return void 0===n?null:n}function S2(n,i,s){const c=String(i);""!==c&&!c.includes(" ")&&pr(n,c,s)}function xw(n,i,s,c,_,I,O,X){if(!(3&i.type))return;const re=n.data,Ne=re[X+1],He=function a2(n){return!(1&~n)}(Ne)?kw(re,i,s,_,i_(Ne),O):void 0;dC(He)||(dC(I)||function s2(n){return!(2&~n)}(Ne)&&(I=kw(re,null,s,_,X,O)),function ob(n,i,s,c,_){if(i)_?n.addClass(s,c):n.removeClass(s,c);else{let I=-1===c.indexOf("-")?void 0:Dm.DashCase;null==_?n.removeStyle(s,c,I):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),I|=Dm.Important),n.setStyle(s,c,_,I))}}(c,O,Q(hr(),s),_,I))}function kw(n,i,s,c,_,I){const O=null===i;let X;for(;_>0;){const re=n[_],Ne=Array.isArray(re),He=Ne?re[1]:re,pt=null===He;let kt=s[_+1];kt===Ls&&(kt=pt?Vs:void 0);let Nt=pt?Na(kt,c):He===c?kt:void 0;if(Ne&&!dC(Nt)&&(Nt=Na(re,c)),dC(Nt)&&(X=Nt,O))return X;const an=n[_+1];_=O?ng(an):i_(an)}if(null!==i){let re=I?i.residualClasses:i.residualStyles;null!=re&&(X=Na(re,c))}return X}function dC(n){return void 0!==n}function Pw(n,i){return!!(n.flags&(i?8:16))}function Fw(n,i,s){fd(pr,hh,X1(Bn(),n,i,s),!0)}function Bw(n,i,s,c,_){fd(pr,hh,J1(Bn(),n,i,s,c,_),!0)}class x2{destroy(i){}updateValue(i,s){}swap(i,s){const c=Math.min(i,s),_=Math.max(i,s),I=this.detach(_);if(_-c>1){const O=this.detach(c);this.attach(c,I),this.attach(_,O)}else this.attach(c,I)}move(i,s){this.attach(s,this.detach(i))}}function FE(n,i,s,c,_){return n===s&&Object.is(i,c)?1:Object.is(_(n,i),_(s,c))?-1:0}function BE(n,i,s,c){return!(void 0===i||!i.has(c)||(n.attach(s,i.get(c)),i.delete(c),0))}function Vw(n,i,s,c,_){if(BE(n,i,c,s(c,_)))n.updateValue(c,_);else{const I=n.create(c,_);n.attach(c,I)}}function Lw(n,i,s,c){const _=new Set;for(let I=i;I<=s;I++)_.add(c(I,n.at(I)));return _}class Uw{kvMap=new Map;_vMap=void 0;has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const s=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(i,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,s){if(this.kvMap.has(i)){let c=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(c);)c=_.get(c);_.set(c,s)}else this.kvMap.set(i,s)}forEach(i){for(let[s,c]of this.kvMap)if(i(c,s),void 0!==this._vMap){const _=this._vMap;for(;_.has(c);)c=_.get(c),i(c,s)}}}function jw(n,i){zo("NgControlFlow");const s=Bn(),c=tl(),_=s[c]!==Ls?s[c]:-1,I=-1!==_?hC(s,se+_):void 0;if($r(s,c,n)){const X=m(null);try{if(void 0!==I&&Yc(I,0),-1!==n){const re=se+n,Ne=hC(s,re),He=VE(s[ci],re),pt=Ia(Ne,He.tView.ssrId);ba(Ne,ih(s,He,i,{dehydratedView:pt}),0,sh(He,pt))}}finally{m(X)}}else if(void 0!==I){const X=Lm(I,0);void 0!==X&&(X[mn]=i)}}class P2{lContainer;$implicit;$index;constructor(i,s,c){this.lContainer=i,this.$implicit=s,this.$index=c}get $count(){return this.lContainer.length-St}}function $w(n){return n}function Gw(n,i){return i}class F2{hasEmptyBlock;trackByFn;liveCollection;constructor(i,s,c){this.hasEmptyBlock=i,this.trackByFn=s,this.liveCollection=c}}function Hw(n,i,s,c,_,I,O,X,re,Ne,He,pt,kt){zo("NgControlFlow");const Nt=Bn(),an=Cs(),$n=void 0!==re,bi=Bn(),Si=X?O.bind(bi[qi][mn]):O,ti=new F2($n,Si);bi[se+n]=ti,Zc(Nt,an,n+1,i,s,c,_,$a(an.consts,I)),$n&&Zc(Nt,an,n+2,re,Ne,He,pt,$a(an.consts,kt))}class B2 extends x2{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(i,s,c){super(),this.lContainer=i,this.hostLView=s,this.templateTNode=c}get length(){return this.lContainer.length-St}at(i){return this.getLView(i)[mn].$implicit}attach(i,s){const c=s[ta];this.needsIndexUpdate||=i!==this.length,ba(this.lContainer,s,i,sh(this.templateTNode,c))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function V2(n,i){return cd(n,i)}(this.lContainer,i)}create(i,s){const c=Ia(this.lContainer,this.templateTNode.tView.ssrId),_=ih(this.hostLView,this.templateTNode,new P2(this.lContainer,s,i),{dehydratedView:c});return this.operationsCounter?.recordCreate(),_}destroy(i){Yh(i[ci],i),this.operationsCounter?.recordDestroy()}updateValue(i,s){this.getLView(i)[mn].$implicit=s}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[mn].$index=i}getLView(i){return function L2(n,i){return Lm(n,i)}(this.lContainer,i)}}function Kw(n){const i=m(null),s=hr();try{const c=Bn(),_=c[ci],I=c[s],O=s+1,X=hC(c,O);if(void 0===I.liveCollection){const Ne=VE(_,O);I.liveCollection=new B2(X,c,Ne)}else I.liveCollection.reset();const re=I.liveCollection;if(function k2(n,i,s){let c,_,I=0,O=n.length-1;if(Array.isArray(i)){let re=i.length-1;for(;I<=O&&I<=re;){const Ne=n.at(I),He=i[I],pt=FE(I,Ne,I,He,s);if(0!==pt){pt<0&&n.updateValue(I,He),I++;continue}const kt=n.at(O),Nt=i[re],an=FE(O,kt,re,Nt,s);if(0!==an){an<0&&n.updateValue(O,Nt),O--,re--;continue}const $n=s(I,Ne),bi=s(O,kt),Si=s(I,He);if(Object.is(Si,bi)){const ti=s(re,Nt);Object.is(ti,$n)?(n.swap(I,O),n.updateValue(O,Nt),re--,O--):n.move(O,I),n.updateValue(I,He),I++}else if(c??=new Uw,_??=Lw(n,I,O,s),BE(n,c,I,Si))n.updateValue(I,He),I++,O++;else if(_.has(Si))c.set($n,n.detach(I)),O--;else{const ti=n.create(I,i[I]);n.attach(I,ti),I++,O++}}for(;I<=re;)Vw(n,c,s,I,i[I]),I++}else if(null!=i){const re=i[Symbol.iterator]();let Ne=re.next();for(;!Ne.done&&I<=O;){const He=n.at(I),pt=Ne.value,kt=FE(I,He,I,pt,s);if(0!==kt)kt<0&&n.updateValue(I,pt),I++,Ne=re.next();else{c??=new Uw,_??=Lw(n,I,O,s);const Nt=s(I,pt);if(BE(n,c,I,Nt))n.updateValue(I,pt),I++,O++,Ne=re.next();else if(_.has(Nt)){const an=s(I,He);c.set(an,n.detach(I)),O--}else n.attach(I,n.create(I,pt)),I++,O++,Ne=re.next()}}for(;!Ne.done;)Vw(n,c,s,n.length,Ne.value),Ne=re.next()}for(;I<=O;)n.destroy(n.detach(O--));c?.forEach(re=>{n.destroy(re)})}(re,n,I.trackByFn),re.updateIndexes(),I.hasEmptyBlock){const Ne=tl(),He=0===re.length;if($r(c,Ne,He)){const pt=s+2,kt=hC(c,pt);if(He){const Nt=VE(_,pt),an=Ia(kt,Nt.tView.ssrId);ba(kt,ih(c,Nt,void 0,{dehydratedView:an}),0,sh(Nt,an))}else Yc(kt,0)}}}finally{m(i)}}function hC(n,i){return n[i]}function VE(n,i){return gn(n,i)}function fC(n,i,s,c){const _=Bn(),I=Cs(),O=se+n,X=_[at],re=I.firstCreatePass?Rb(O,I,_,i,dv,yh(),s,c):I.data[O],Ne=Ww(I,_,re,X,i,n);_[O]=Ne;const He=sn(re);return Ko(re,!0),nv(X,Ne,re),!ad(re)&&nl()&&xm(I,_,Ne,re),(0===function df(){return Ns.lFrame.elementDepthCount}()||He)&&Po(Ne,_),function xu(){Ns.lFrame.elementDepthCount++}(),He&&(_1(I,_,re),rm(I,re,_)),null!==c&&av(_,re),fC}function pC(){let n=zs();bd()?hf():(n=n.parent,Ko(n,!1));const i=n;(function Ho(n){return Ns.skipHydrationRootTNode===n})(i)&&function vp(){Ns.skipHydrationRootTNode=null}(),function vh(){Ns.lFrame.elementDepthCount--}();const s=Cs();return s.firstCreatePass&&Ab(s,i),null!=i.classesWithoutHost&&function au(n){return!!(8&n.flags)}(i)&&OE(s,i,Bn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Wo(n){return!!(16&n.flags)}(i)&&OE(s,i,Bn(),i.stylesWithoutHost,!1),pC}function LE(n,i,s,c){return fC(n,i,s,c),pC(),LE}let Ww=(n,i,s,c,_,I)=>(Dl(!0),Kh(c,_,function cg(){return Ns.lFrame.currentNamespace}()));function mC(n,i,s){const c=Bn(),_=Cs(),I=n+se,O=_.firstCreatePass?function $2(n,i,s,c,_){const I=i.consts,O=$a(I,c),X=ah(i,n,8,"ng-container",O);null!==O&&Xv(X,O,!0);const re=$a(I,_);return yh()&&Jv(i,s,X,re,dv),X.mergedAttrs=Ml(X.mergedAttrs,X.attrs),null!==i.queries&&i.queries.elementStart(i,X),X}(I,_,c,i,s):_.data[I];Ko(O,!0);const X=Yw(_,c,O,n);return c[I]=X,nl()&&xm(_,c,X,O),Po(X,c),sn(O)&&(_1(_,c,O),rm(_,O,c)),null!=s&&av(c,O),mC}function gC(){let n=zs();const i=Cs();return bd()?hf():(n=n.parent,Ko(n,!1)),i.firstCreatePass&&(Ql(i,n),Yn(n)&&i.queries.elementEnd(n)),gC}function UE(n,i,s){return mC(n,i,s),gC(),UE}let Yw=(n,i,s,c)=>(Dl(!0),ep(i[at],""));function zw(){return Bn()}function jE(n,i,s){const c=Bn();return $r(c,tl(),i)&&Xo(Cs(),yr(),c,n,i,c[at],s,!0),jE}function $E(n,i,s){const c=Bn();if($r(c,tl(),i)){const I=Cs(),O=yr();Xo(I,O,c,n,i,nb(Rc(I.data),O,c),s,!0)}return $E}const ig=void 0;var W2=["en",[["a","p"],["AM","PM"],ig],[["AM","PM"],ig,ig],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ig,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ig,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ig,"{1} 'at' {0}",ig],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K2(n){const i=Math.floor(Math.abs(n)),s=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let r_={};function GE(n){const i=function Y2(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Jw(i);if(s)return s;const c=i.split("-")[0];if(s=Jw(c),s)return s;if("en"===c)return W2;throw new ue(701,!1)}function Xw(n){return GE(n)[a_.PluralCase]}function Jw(n){return n in r_||(r_[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),r_[n]}var a_=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(a_||{});const _C="en-US",vC={marker:"element"},yC={marker:"ICU"};var gc=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(gc||{});let Qw=_C;let Ey=(n,i,s,c)=>(Dl(!0),function Zw(n,i,s){const c=n[at];switch(s){case Node.COMMENT_NODE:return ep(c,i);case Node.TEXT_NODE:return qf(c,i);case Node.ELEMENT_NODE:return Kh(c,i,null)}}(n,s,c));const bC=/\ufffd(\d+):?\d*\ufffd/gi,oN=/\ufffd(\d+)\ufffd/,sI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ty="\ufffd",lN=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cN=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,uN=/\uE500/g;function rI(n,i,s,c,_,I,O){const X=nh(n,c,1,null);let re=X<<gc.SHIFT,Ne=Tc();i===Ne&&(Ne=null),null===Ne&&(re|=gc.APPEND_EAGERLY),O&&(re|=gc.COMMENT,function sb(n){void 0===y1&&(y1=n())}(qh)),_.push(re,null===I?"":I);const He=Km(n,X,O?32:1,null===I?"":I,null);Lv(s,He);const pt=He.index;return Ko(He,!1),null!==Ne&&i!==Ne&&function jv(n,i){let s=n.insertBeforeIndex;null===s?(Sv(Hm,N1),s=n.insertBeforeIndex=[null,i]):(Ei(Array.isArray(s),!0,"Expecting array here"),s.push(i))}(Ne,pt),He}function fN(n,i,s,c,_,I,O,X){const re=X.match(bC),He=rI(i,s,c,O,_,re?null:X,!1).index;re&&wy(I,X,He,null,0,null),n.push({kind:0,index:He})}function wy(n,i,s,c,_,I){const O=n.length,X=O+1;n.push(null,null);const re=O+2,Ne=i.split(bC);let He=0;for(let pt=0;pt<Ne.length;pt++){const kt=Ne[pt];if(1&pt){const Nt=_+parseInt(kt,10);n.push(-1-Nt),He|=aI(Nt)}else""!==kt&&n.push(kt)}return n.push(s<<2|(c?1:0)),c&&n.push(c,I),n[O]=He,n[X]=n.length-re,He}function aI(n){return 1<<Math.min(n,31)}function oI(n){let i,I,s="",c=0,_=!1;for(;null!==(i=lN.exec(n));)_?i[0]===`${Ty}/*${I}${Ty}`&&(c=i.index,_=!1):(s+=n.substring(c,i.index+i[0].length),I=i[1],_=!0);return s+=n.slice(c),s}function lI(n,i,s,c,_,I,O){let X=0;const re={type:I.type,currentCaseLViewIndex:nh(i,s,1,null),anchorIdx:O,cases:[],create:[],remove:[],update:[]};(function bN(n,i,s){n.push(aI(i.mainBinding),2,-1-i.mainBinding,s<<2|2)})(c,I,O),function yb(n,i,s){const c=n.data[i];null===c?n.data[i]=s:c.value=s}(i,O,re);const Ne=I.values,He=[];for(let pt=0;pt<Ne.length;pt++){const kt=Ne[pt],Nt=[];for(let $n=0;$n<kt.length;$n++){const bi=kt[$n];if("string"!=typeof bi){const Si=Nt.push(bi)-1;kt[$n]=`\x3c!--\ufffd${Si}\ufffd--\x3e`}}const an=[];He.push(an),X=vN(an,i,re,s,c,_,I.cases[pt],kt.join(""),Nt)|X}X&&function CN(n,i,s){n.push(i,1,s<<2|3)}(c,X,O),n.push({kind:3,index:O,cases:He,currentCaseLViewIndex:re.currentCaseLViewIndex})}function _N(n){const i=[],s=[];let c=1,_=0;const I=HE(n=n.replace(sI,function(O,X,re){return c="select"===re?0:1,_=parseInt(X.slice(1),10),""}));for(let O=0;O<I.length;){let X=I[O++].trim();1===c&&(X=X.replace(/\s*(?:=)?(\w+)\s*/,"$1")),X.length&&i.push(X);const re=HE(I[O++]);i.length>s.length&&s.push(re)}return{type:c,mainBinding:_,cases:i,values:s}}function HE(n){if(!n)return[];let i=0;const s=[],c=[],_=/[{}]/g;let I;for(_.lastIndex=0;I=_.exec(n);){const X=I.index;if("}"==I[0]){if(s.pop(),0==s.length){const re=n.substring(i,X);sI.test(re)?c.push(_N(re)):c.push(re),i=X+1}}else{if(0==s.length){const re=n.substring(i,X);c.push(re),i=X+1}s.push("{")}}const O=n.substring(i);return c.push(O),c}function vN(n,i,s,c,_,I,O,X,re){const Ne=[],He=[],pt=[];s.cases.push(O),s.create.push(Ne),s.remove.push(He),s.update.push(pt);const Nt=Jg(jc()).getInertBodyElement(X),an=e1(Nt)||Nt;return an?cI(n,i,s,c,_,Ne,He,pt,an,I,re,0):0}function cI(n,i,s,c,_,I,O,X,re,Ne,He,pt){let kt=0,Nt=re.firstChild;for(;Nt;){const an=nh(i,c,1,null);switch(Nt.nodeType){case Node.ELEMENT_NODE:const $n=Nt,bi=$n.tagName.toLowerCase();if(hm.hasOwnProperty(bi)){KE(I,vC,bi,Ne,an),i.data[an]=bi;const Gr=$n.attributes;for(let rg=0;rg<Gr.length;rg++){const ag=Gr.item(rg),AA=ag.name.toLowerCase();ag.value.match(bC)?fm.hasOwnProperty(AA)&&wy(X,ag.value,an,ag.name,0,Zg[AA]?Qg:null):SN(I,an,ag)}const Nr={kind:1,index:an,children:[]};n.push(Nr),kt=cI(Nr.children,i,s,c,_,I,O,X,Nt,an,He,pt+1)|kt,uI(O,an,pt)}break;case Node.TEXT_NODE:const Si=Nt.textContent||"",ti=Si.match(bC);KE(I,null,ti?"":Si,Ne,an),uI(O,an,pt),ti&&(kt=wy(X,Si,an,null,0,null)|kt),n.push({kind:0,index:an});break;case Node.COMMENT_NODE:const Hs=oN.exec(Nt.textContent||"");if(Hs){const Nr=He[parseInt(Hs[1],10)];KE(I,yC,"",Ne,an),lI(n,i,c,_,Ne,Nr,an),yN(O,an,pt)}}Nt=Nt.nextSibling}return kt}function uI(n,i,s){0===s&&n.push(i)}function yN(n,i,s){0===s&&(n.push(~i),n.push(i))}function KE(n,i,s,c,_){null!==i&&n.push(i),n.push(s,_,function oh(n,i,s){return n|i<<17|s<<1}(0,c,_))}function SN(n,i,s){n.push(i<<1|1,s.name,s.value)}function hI(n,i,s=-1){const c=Cs(),_=Bn(),I=se+n,O=$a(c.consts,i),X=Tc();c.firstCreatePass&&function hN(n,i,s,c,_,I){const O=Tc(),X=[],re=[],Ne=[[]],He=[[]];_=function gN(n,i){if(function k1(n){return-1===n}(i))return oI(n);{const s=n.indexOf(`:${i}${Ty}`)+2+i.toString().length,c=n.search(new RegExp(`${Ty}\\/\\*\\d+:${i}${Ty}`));return oI(n.substring(s,c))}}(_,I);const pt=function dN(n){return n.replace(uN," ")}(_).split(cN);for(let kt=0;kt<pt.length;kt++){let Nt=pt[kt];if(1&kt){const an=47===Nt.charCodeAt(0),$n=Nt.charCodeAt(an?1:0),bi=se+Number.parseInt(Nt.substring(an?2:1));if(an)Ne.shift(),He.shift(),Ko(Tc(),!1);else{const Si=$v(n,Ne[0],bi);Ne.unshift([]),Ko(Si,!0);const ti={kind:2,index:bi,children:[],type:35===$n?0:1};He[0].push(ti),He.unshift(ti.children)}}else{const an=HE(Nt);for(let $n=0;$n<an.length;$n++){let bi=an[$n];if(1&$n){const Si=bi;if("object"!=typeof Si)throw new Error(`Unable to parse ICU expression in "${_}" message.`);const Hs=rI(n,O,Ne[0],s,X,"",!0).index;lI(He[0],n,s,re,i,Si,Hs)}else""!==bi&&fN(He[0],n,O,Ne[0],X,re,s,bi)}}}n.data[c]={create:X,update:re,ast:He[0],parentTNodeIndex:i}}(c,null===X?0:X.index,_,I,O,s),2===c.type?_[qi][ns]|=32:_[ns]|=32;const re=c.data[I],He=vv(c,X===_[Fr]?null:X,_),pt=X&&8&X.type?_[X.index]:null;(function bt(n,i,s,c){Oe(n,i,s,c)})(_,I,X,s),function iN(n,i,s,c){const _=n[at];for(let I=0;I<i.length;I++){const O=i[I++],Ne=(O&gc.APPEND_EAGERLY)===gc.APPEND_EAGERLY,He=O>>>gc.SHIFT;let pt=n[He],kt=!1;null===pt&&(pt=n[He]=Ey(n,He,i[I],(O&gc.COMMENT)===gc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),kt=nl()),Ne&&null!==s&&kt&&vu(_,s,pt,c,!1)}}(_,re.create,He,pt),Il(!0)}function pI(n,i,s){hI(n,i,s),function fI(){Il(!1)}()}function gI(n,i,s){return function c(_){if(_===Function)return s;ia(es(n)?fs(n.index,i):i,5);const O=i[mn];let X=_I(i,O,s,_),re=c.__ngNextListenerFn__;for(;re;)X=_I(i,O,re,_)&&X,re=re.__ngNextListenerFn__;return X}}function _I(n,i,s,c){const _=m(null);try{return ir(6,i,s),!1!==s(c)}catch(I){return function kN(n,i){const s=n[$e],c=s?s.get(Wa,null):null;c&&c.handleError(i)}(n,I),!1}finally{ir(7,i,s),m(_)}}function vI(n,i,s,c,_,I){const X=i[ci],He=i[s][X.data[s].outputs[c]],pt=X.firstCreatePass?_h(X):null,kt=gh(i),Nt=He.subscribe(I),an=kt.length;kt.push(I,Nt),pt&&pt.push(_,n.index,an,-(an+1))}let yI=(n,i,s)=>{};function WE(n,i,s,c){const _=Bn(),I=Cs(),O=zs();return YE(I,_,_[at],O,n,i,c),WE}function YE(n,i,s,c,_,I,O){const X=sn(c),Ne=n.firstCreatePass?_h(n):null,He=gh(i);let pt=!0;if(3&c.type||O){const kt=Re(c,i),Nt=O?O(kt):kt,an=He.length,$n=O?Si=>O(me(Si[c.index])):c.index;let bi=null;if(!O&&X&&(bi=function PN(n,i,s,c){const _=n.cleanup;if(null!=_)for(let I=0;I<_.length-1;I+=2){const O=_[I];if(O===s&&_[I+1]===c){const X=i[Ge],re=_[I+2];return X.length>re?X[re]:null}"string"==typeof O&&(I+=2)}return null}(n,i,_,c.index)),null!==bi)(bi.__ngLastListenerFn__||bi).__ngNextListenerFn__=I,bi.__ngLastListenerFn__=I,pt=!1;else{I=gI(c,i,I),yI(Nt,_,I);const Si=s.listen(Nt,_,I);He.push(I,Si),Ne&&Ne.push(_,$n,an,an+1)}}else I=gI(c,i,I);if(pt){const kt=c.outputs?.[_],Nt=c.hostDirectiveOutputs?.[_];if(Nt&&Nt.length)for(let an=0;an<Nt.length;an+=2)vI(c,i,Nt[an],Nt[an+1],_,I);if(kt&&kt.length)for(const an of kt)vI(c,i,an,_,_,I)}}function SI(n=1){return function fo(n){return(Ns.lFrame.contextLView=function mh(n,i){for(;n>0;)i=i[us],n--;return i}(n,Ns.lFrame.contextLView))[mn]}(n)}function FN(n,i){let s=null;const c=function K0(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let _=0;_<i.length;_++){const I=i[_];if("*"!==I){if(null===c?Em(n,I,!0):u1(c,I))return _}else s=_}return s}function EI(n){const i=Bn()[qi][Fr];if(!i.projection){const c=i.projection=function Da(n,i){const s=[];for(let c=0;c<n;c++)s.push(i);return s}(n?n.length:1,null),_=c.slice();let I=i.child;for(;null!==I;){if(128!==I.type){const O=n?FN(I,n):0;null!==O&&(_[O]?_[O].projectionNext=I:c[O]=I,_[O]=I)}I=I.next}}}function TI(n,i=0,s,c,_,I){const O=Bn(),X=Cs(),re=c?n+1:null;null!==re&&Zc(O,X,re,c,_,I,null,s);const Ne=ah(X,se+n,16,null,s||null);null===Ne.projection&&(Ne.projection=i),hf();const pt=!O[ta]||bc();null===O[qi][Fr].projection[Ne.projection]&&null!==re?function BN(n,i,s){const c=se+s,_=i.data[c],I=n[c],O=Ia(I,_.tView.ssrId);ba(I,ih(n,_,void 0,{dehydratedView:O}),0,sh(_,O))}(O,X,re):pt&&!ad(Ne)&&function rb(n,i,s){Tv(i[at],0,i,s,S1(n,s,i),yv(s.parent||i[Fr],s,i))}(X,O,Ne)}function zE(n,i,s){return CC(n,"",i,"",s),zE}function CC(n,i,s,c,_){const I=Bn(),O=X1(I,i,s,c);return O!==Ls&&Xo(Cs(),yr(),I,n,O,I[at],_,!1),CC}function XE(n,i,s,c,_,I,O){const X=Bn(),re=J1(X,i,s,c,_,I);return re!==Ls&&Xo(Cs(),yr(),X,n,re,X[at],O,!1),XE}function OI(n,i,s,c){!function Ub(n,i,s,c){const _=Cs();if(_.firstCreatePass){const I=zs();jb(_,new Fb(i,s,c),I.index),function U1(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(_,n),!(2&~s)&&(_.staticContentQueries=!0)}return Lb(_,Bn(),s)}(n,i,s,c)}function xI(n,i,s){!function oy(n,i,s){const c=Cs();return c.firstCreatePass&&(jb(c,new Fb(n,i,s),-1),!(2&~i)&&(c.staticViewQueries=!0)),Lb(c,Bn(),i)}(n,i,s)}function kI(n){const i=Bn(),s=Cs(),c=Cp();bh(c+1);const _=j1(s,c);if(n.dirty&&function Go(n){return!(4&~n[ns])}(i)===!(2&~_.metadata.flags)){if(null===_.matches)n.reset([]);else{const I=$1(i,c);n.reset(I,Rf),n.notifyOnChanges()}return!0}return!1}function PI(){return function ay(n,i){return n[Yr].queries[i].queryList}(Bn(),Cp())}function FI(n){return $i(function ru(){return Ns.lFrame.contextLView}(),se+n)}function WI(n,i=""){const s=Bn(),c=Cs(),_=n+se,I=c.firstCreatePass?ah(c,_,1,i,null):c.data[_],O=YI(c,s,I,i,n);s[_]=O,nl()&&xm(c,s,O,I),Ko(I,!1)}let YI=(n,i,s,c,_)=>(Dl(!0),qf(i[at],c));function QE(n){return SC("",n,""),QE}function SC(n,i,s){const c=Bn(),_=X1(c,n,i,s);return _!==Ls&&cf(c,hr(),_),SC}function ZE(n,i,s,c,_){const I=Bn(),O=J1(I,n,i,s,c,_);return O!==Ls&&cf(I,hr(),O),ZE}function cf(n,i,s){const c=Q(i,n);!function Tm(n,i,s){n.setValue(i,s)}(n[at],c,s)}function qE(n,i,s){co(i)&&(i=i());const c=Bn();return $r(c,tl(),i)&&Xo(Cs(),yr(),c,n,i,c[at],s,!1),qE}function tR(n,i){const s=co(n);return s&&n.set(i),s}function eT(n,i){const s=Bn(),c=Cs(),_=zs();return YE(c,s,s[at],_,n,i),eT}function tT(n,i,s,c,_){if(n=wt(n),Array.isArray(n))for(let I=0;I<n.length;I++)tT(n[I],i,s,c,_);else{const I=Cs(),O=Bn(),X=zs();let re=ai(n)?n:wt(n.provide);const Ne=Ma(n),He=1048575&X.providerIndexes,pt=X.directiveStart,kt=X.providerIndexes>>20;if(ai(n)||!n.multi){const Nt=new Sh(Ne,_,up),an=iT(re,i,_?He:He+kt,pt);-1===an?(mo(_f(X,O),I,re),nT(I,n,i.length),i.push(re),X.directiveStart++,X.directiveEnd++,_&&(X.providerIndexes+=1048576),s.push(Nt),O.push(Nt)):(s[an]=Nt,O[an]=Nt)}else{const Nt=iT(re,i,He+kt,pt),an=iT(re,i,He,He+kt),bi=an>=0&&s[an];if(_&&!bi||!_&&!(Nt>=0&&s[Nt])){mo(_f(X,O),I,re);const Si=function sM(n,i,s,c,_){const I=new Sh(n,s,up);return I.multi=[],I.index=i,I.componentProviders=0,sR(I,_,c&&!s),I}(_?iM:nM,s.length,_,c,Ne);!_&&bi&&(s[an].providerFactory=Si),nT(I,n,i.length,0),i.push(re),X.directiveStart++,X.directiveEnd++,_&&(X.providerIndexes+=1048576),s.push(Si),O.push(Si)}else nT(I,n,Nt>-1?Nt:an,sR(s[_?an:Nt],Ne,!_&&c));!_&&c&&bi&&s[an].componentProviders++}}}function nT(n,i,s,c){const _=ai(i),I=function ts(n){return!!n.useClass}(i);if(_||I){const re=(I?wt(i.useClass):i).prototype.ngOnDestroy;if(re){const Ne=n.destroyHooks||(n.destroyHooks=[]);if(!_&&i.multi){const He=Ne.indexOf(s);-1===He?Ne.push(s,[c,re]):Ne[He+1].push(c,re)}else Ne.push(s,re)}}}function sR(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function iT(n,i,s,c){for(let _=s;_<c;_++)if(i[_]===n)return _;return-1}function nM(n,i,s,c){return sT(this.multi,[])}function iM(n,i,s,c){const _=this.multi;let I;if(this.providerFactory){const O=this.providerFactory.componentProviders,X=pl(s,s[ci],this.providerFactory.index,c);I=X.slice(0,O),sT(_,I);for(let re=O;re<X.length;re++)I.push(X[re])}else I=[],sT(_,I);return I}function sT(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function rR(n,i=[]){return s=>{s.providersResolver=(c,_)=>function tM(n,i,s){const c=Cs();if(c.firstCreatePass){const _=Se(n);tT(s,c.data,c.blueprint,_,!0),tT(i,c.data,c.blueprint,_,!1)}}(c,_?_(n):n,i)}}function oR(n,i,s){const c=Do()+n,_=Bn();return _[c]===Ls?sr(_,c,s?i.call(s):i()):ul(_,c)}function lR(n,i,s,c){return pR(Bn(),Do(),n,i,s,c)}function cR(n,i,s,c,_){return mR(Bn(),Do(),n,i,s,c,_)}function uR(n,i,s,c,_,I){return gR(Bn(),Do(),n,i,s,c,_,I)}function dR(n,i,s,c,_,I,O){return function _R(n,i,s,c,_,I,O,X,re){const Ne=i+s;return Jr(n,Ne,_,I,O,X)?sr(n,Ne+4,re?c.call(re,_,I,O,X):c(_,I,O,X)):Iy(n,Ne+4)}(Bn(),Do(),n,i,s,c,_,I,O)}function hR(n,i,s,c,_,I,O,X){const re=Do()+n,Ne=Bn(),He=Jr(Ne,re,s,c,_,I);return $r(Ne,re+4,O)||He?sr(Ne,re+5,X?i.call(X,s,c,_,I,O):i(s,c,_,I,O)):ul(Ne,re+5)}function fR(n,i,s,c,_,I,O,X,re){const Ne=Do()+n,He=Bn(),pt=Jr(He,Ne,s,c,_,I);return Xr(He,Ne+4,O,X)||pt?sr(He,Ne+6,re?i.call(re,s,c,_,I,O,X):i(s,c,_,I,O,X)):ul(He,Ne+6)}function Iy(n,i){const s=n[i];return s===Ls?void 0:s}function pR(n,i,s,c,_,I){const O=i+s;return $r(n,O,_)?sr(n,O+1,I?c.call(I,_):c(_)):Iy(n,O+1)}function mR(n,i,s,c,_,I,O){const X=i+s;return Xr(n,X,_,I)?sr(n,X+2,O?c.call(O,_,I):c(_,I)):Iy(n,X+2)}function gR(n,i,s,c,_,I,O,X){const re=i+s;return function Co(n,i,s,c,_){const I=Xr(n,i,s,c);return $r(n,i+2,_)||I}(n,re,_,I,O)?sr(n,re+3,X?c.call(X,_,I,O):c(_,I,O)):Iy(n,re+3)}function yR(n,i){const s=Cs();let c;const _=n+se;s.firstCreatePass?(c=function dM(n,i){if(i)for(let s=i.length-1;s>=0;s--){const c=i[s];if(n===c.name)return c}}(i,s.pipeRegistry),s.data[_]=c,c.onDestroy&&(s.destroyHooks??=[]).push(_,c.onDestroy)):c=s.data[_];const I=c.factory||(c.factory=da(c.type)),X=Bs(up);try{const re=xl(!1),Ne=I();return xl(re),function JE(n,i,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=c}(s,Bn(),_,Ne),Ne}finally{Bs(X)}}function bR(n,i,s){const c=n+se,_=Bn(),I=$i(_,c);return Ry(_,c)?pR(_,Do(),i,I.transform,s,I):I.transform(s)}function CR(n,i,s,c){const _=n+se,I=Bn(),O=$i(I,_);return Ry(I,_)?mR(I,Do(),i,O.transform,s,c,O):O.transform(s,c)}function SR(n,i,s,c,_){const I=n+se,O=Bn(),X=$i(O,I);return Ry(O,I)?gR(O,Do(),i,X.transform,s,c,_,X):X.transform(s,c,_)}function Ry(n,i){return n[ci].data[i].pure}function ER(n,i){return sp(n,i)}class jR{full;major;minor;patch;constructor(i){this.full=i;const s=i.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}class UM{ngModuleFactory;componentFactories;constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let jM=(()=>{class n{compileModuleSync(s){return new hy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),I=hc(rr(s).declarations).reduce((O,X)=>{const re=hs(X);return re&&O.push(new qm(re)),O},[]);return new UM(c,I)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HM=(()=>{class n{zone=Ci(cr);changeDetectionScheduler=Ci(xo);applicationRef=Ci(qc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cT({ngZoneFactory:n,ignoreChangesOutsideZone:i,scheduleInRootZone:s}){return n??=()=>new cr({...uT(),scheduleInRootZone:s}),[{provide:cr,useFactory:n},{provide:_r,multi:!0,useFactory:()=>{const c=Ci(HM,{optional:!0});return()=>c.initialize()}},{provide:_r,multi:!0,useFactory:()=>{const c=Ci(WM);return()=>{c.initialize()}}},!0===i?{provide:xd,useValue:!0}:[],{provide:Fc,useValue:s??Od}]}function uT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let WM=(()=>{class n{subscription=new ni.yU;initialized=!1;zone=Ci(cr);pendingTasks=Ci(lu);initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dy=(()=>{class n{appRef=Ci(qc);taskService=Ci(lu);ngZone=Ci(cr);zonelessEnabled=Ci(Pc);tracing=Ci(Bl,{optional:!0});disableScheduling=Ci(xd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ni.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ci(Fc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rp||!this.zoneIsDefined)}notify(s){if(!this.zonelessEnabled&&5===s)return;let c=!1;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,c=!0;break;case 12:this.appRef.dirtyFlags|=16,c=!0;break;case 11:c=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(c))return;const _=this.useMicrotaskScheduler?Rh:cu;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>_(()=>this.tick())):this.ngZone.runOutsideAngular(()=>_(()=>this.tick()))}shouldScheduleTick(s){return!(this.disableScheduling&&!s||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(c){throw this.taskService.remove(s),c}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const s=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(s)}}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hT=new Xt("",{providedIn:"root",factory:()=>Ci(hT,Li.Optional|Li.SkipSelf)||function YM(){return typeof $localize<"u"&&$localize.locale||_C}()}),zM=new Xt("",{providedIn:"root",factory:()=>"USD"}),IC=new Xt(""),qM=new Xt("");function Ny(n){return!n.moduleRef}let YR=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(s){this._injector=s}bootstrapModuleFactory(s,c){const _=c?.scheduleInRootZone,O=c?.ignoreChangesOutsideZone,X=[cT({ngZoneFactory:()=>function Pl(n="zone.js",i){return"noop"===n?new Rp:"zone.js"===n?new cr(i):n}(c?.ngZone,{...uT({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}),scheduleInRootZone:_}),ignoreChangesOutsideZone:O}),{provide:xo,useExisting:Dy}],re=function cE(n,i,s){return new dy(n,i,s,!1)}(s.moduleType,this.injector,X);return function WR(n){const i=Ny(n)?n.r3Injector:n.moduleRef.injector,s=i.get(cr);return s.run(()=>{Ny(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const c=i.get(Wa,null);let _;if(s.runOutsideAngular(()=>{_=s.onError.subscribe({next:I=>{c.handleError(I)}})}),Ny(n)){const I=()=>i.destroy(),O=n.platformInjector.get(IC);O.add(I),i.onDestroy(()=>{_.unsubscribe(),O.delete(I)})}else{const I=()=>n.moduleRef.destroy(),O=n.platformInjector.get(IC);O.add(I),n.moduleRef.onDestroy(()=>{cC(n.allPlatformModules,n.moduleRef),_.unsubscribe(),O.delete(I)})}return function tO(n,i,s){try{const c=s();return CE(c)?c.catch(_=>{throw i.runOutsideAngular(()=>n.handleError(_)),_}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(c,s,()=>{const I=i.get(nw);return I.runInitializers(),I.donePromise.then(()=>{if(function Q2(n){"string"==typeof n&&(Qw=n.toLowerCase().replace(/_/g,"-"))}(i.get(hT,_C)||_C),!i.get(qM,!0))return Ny(n)?i.get(qc):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ny(n)){const re=i.get(qc);return void 0!==n.rootComponent&&re.bootstrap(n.rootComponent),re}return function eO(n,i){const s=n.injector.get(qc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!n.instance.ngDoBootstrap)throw new ue(-403,!1);n.instance.ngDoBootstrap(s)}i.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:re,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(s,c=[]){const _=sw({},c);return function GM(n,i,s){const c=new hy(s);return Promise.resolve(c)}(0,0,s).then(I=>this.bootstrapModuleFactory(I,_))}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(IC,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(c){return new(c||n)(ks(ha))};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),gp=null;const zR=new Xt("");function XR(n,i,s=[]){const c=`Platform: ${i}`,_=new Xt(c);return(I=[])=>{let O=fT();if(!O||O.injector.get(zR,!1)){const X=[...s,...I,{provide:_,useValue:!0}];n?n(X):function nO(n){if(gp&&!gp.get(zR,!1))throw new ue(400,!1);(function iw(){!function je(n){lt=n}(()=>{throw new ue(600,!1)})})(),gp=n;const i=n.get(YR);(function QR(n){const i=n.get(Rg,null);jr(n,()=>{i?.forEach(s=>s())})})(n)}(function JR(n=[],i){return ha.create({name:i,providers:[{provide:ji,useValue:"platform"},{provide:IC,useValue:new Set([()=>gp=null])},...n]})}(X,c))}return function iO(){const i=fT();if(!i)throw new ue(401,!1);return i}()}}function fT(){return gp?.get(YR)??null}function rO(){return!1}function aO(){}let qR=(()=>class n{static __NG_ELEMENT_ID__=oO})();function oO(n){return function lO(n,i,s){if(es(n)&&!s){const c=fs(n.index,i);return new yo(c,c)}return 175&n.type?new yo(i[qi],i):null}(zs(),Bn(),!(16&~n))}class iA{constructor(){}supports(i){return Gs(i)}create(i){return new fO(i)}}const hO=(n,i)=>i;class fO{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||hO}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,_=0,I=null;for(;s||c;){const O=!c||s&&s.currentIndex<rA(c,_,I)?s:c,X=rA(O,_,I),re=O.currentIndex;if(O===c)_--,c=c._nextRemoved;else if(s=s._next,null==O.previousIndex)_++;else{I||(I=[]);const Ne=X-_,He=re-_;if(Ne!=He){for(let kt=0;kt<Ne;kt++){const Nt=kt<I.length?I[kt]:I[kt]=0,an=Nt+kt;He<=an&&an<Ne&&(I[kt]=Nt+1)}I[O.previousIndex]=He-Ne}}X!==re&&i(O,X,re)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Gs(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let _,I,O,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let X=0;X<this.length;X++)I=i[X],O=this._trackByFn(X,I),null!==s&&Object.is(s.trackById,O)?(c&&(s=this._verifyReinsertion(s,I,O,X)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,O,X),c=!0),s=s._next}else _=0,function Cl(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,X=>{O=this._trackByFn(_,X),null!==s&&Object.is(s.trackById,O)?(c&&(s=this._verifyReinsertion(s,X,O,_)),Object.is(s.item,X)||this._addIdentityChange(s,X)):(s=this._mismatch(s,X,O,_),c=!0),s=s._next,_++}),this.length=_;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,_){let I;return null===i?I=this._itTail:(I=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,I,_)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,_))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,I,_)):i=this._addAfter(new pO(s,c),I,_),i}_verifyReinsertion(i,s,c,_){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==I?i=this._reinsertAfter(I,i._prev,_):i.currentIndex!=_&&(i.currentIndex=_,this._addToMoves(i,_)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const _=i._prevRemoved,I=i._nextRemoved;return null===_?this._removalsHead=I:_._nextRemoved=I,null===I?this._removalsTail=_:I._prevRemoved=_,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const _=null===s?this._itHead:s._next;return i._next=_,i._prev=s,null===_?this._itTail=i:_._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new sA),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sA),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class pO{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,s){this.item=i,this.trackById=s}}class mO{_head=null;_tail=null;add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class sA{map=new Map;put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new mO,this.map.set(s,c)),c.add(i)}get(i,s){const _=this.map.get(i);return _?_.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rA(n,i,s){const c=n.previousIndex;if(null===c)return c;let _=0;return s&&c<s.length&&(_=s[c]),c+i+_}class aA{constructor(){}supports(i){return i instanceof Map||Pa(i)}create(){return new gO}}class gO{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Pa(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,_)=>{if(s&&s.key===_)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const I=this._getOrCreateRecordForKey(_,c);s=this._insertBeforeOrAppend(s,I)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const _=this._records.get(i);this._maybeAddToChanges(_,s);const I=_._prev,O=_._next;return I&&(I._next=O),O&&(O._prev=I),_._next=null,_._prev=null,_}const c=new _O(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class _O{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(i){this.key=i}}function oA(){return new _T([new iA])}let _T=(()=>{class n{factories;static \u0275prov=qn({token:n,providedIn:"root",factory:oA});constructor(s){this.factories=s}static create(s,c){if(null!=c){const _=c.factories.slice();s=s.concat(_)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||oA()),deps:[[n,new xr,new Or]]}}find(s){const c=this.factories.find(_=>_.supports(s));if(null!=c)return c;throw new ue(901,!1)}}return n})();function lA(){return new vT([new aA])}let vT=(()=>{class n{static \u0275prov=qn({token:n,providedIn:"root",factory:lA});factories;constructor(s){this.factories=s}static create(s,c){if(c){const _=c.factories.slice();s=s.concat(_)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||lA()),deps:[[n,new xr,new Or]]}}find(s){const c=this.factories.find(_=>_.supports(s));if(c)return c;throw new ue(901,!1)}}return n})();const bO=XR(null,"core",[]);let CO=(()=>{class n{constructor(s){}static \u0275fac=function(c){return new(c||n)(ks(qc))};static \u0275mod=le({type:n});static \u0275inj=oi({})}return n})();function GO(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function pd(n){return function ge(n){const i=m(null);try{return n()}finally{m(i)}}(n)}function Oy(n,i){return function oe(n,i){const s=Object.create(We);s.computation=n,void 0!==i&&(s.equal=i);const c=()=>{if(E(s),Y(s),s.value===Te)throw s.error;return s.value};return c[w]=s,c}(n,i?.equal)}function ux(n,i){const s=hs(n),c=i.elementInjector||Va();return new qm(s).create(c,i.projectableNodes,i.hostElement,i.environmentInjector)}function dx(n){const i=hs(n);if(!i)return null;const s=new qm(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},1397:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>D});var t=l(6354),a=l(8750),p=l(9974),A=l(5225),e=l(4360),m=l(8071);function D(S,g,k=1/0){return(0,m.T)(g)?D((Y,u)=>(0,t.T)((E,B)=>g(Y,E,u,B))((0,a.Tg)(S(Y,u))),k):("number"==typeof g&&(k=g),(0,p.N)((Y,u)=>function w(S,g,k,Y,u,E,B,V){const F=[];let M=0,W=0,y=!1;const z=()=>{y&&!F.length&&!M&&g.complete()},Z=L=>M<Y?v(L):F.push(L),v=L=>{E&&g.next(L),M++;let J=!1;(0,a.Tg)(k(L,W++)).subscribe((0,e._)(g,te=>{u?.(te),E?Z(te):g.next(te)},()=>{J=!0},void 0,()=>{if(J)try{for(M--;F.length&&M<Y;){const te=F.shift();B?(0,A.N)(g,B,()=>v(te)):v(te)}z()}catch(te){g.error(te)}}))};return S.subscribe((0,e._)(g,Z,()=>{y=!0,z()})),()=>{V?.()}}(Y,u,S,k)))}},1410:(ot,ve,l)=>{"use strict";l.d(ve,{y:()=>t});var t=function(a){return a.Duende="Duende",a.OpenIddict="OpenIddict",a}(t||{})},1413:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>m});var t=l(1985),a=l(8359);const A=(0,l(1853).L)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var e=l(7908),w=l(9786);let m=(()=>{class S extends t.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const Y=new D(this,this);return Y.operator=k,Y}_throwIfClosed(){if(this.closed)throw new A}next(k){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(k)}})}error(k){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:Y}=this;for(;Y.length;)Y.shift().error(k)}})}complete(){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:Y,isStopped:u,observers:E}=this;return Y||u?a.Kn:(this.currentObservers=null,E.push(k),new a.yU(()=>{this.currentObservers=null,(0,e.o)(E,k)}))}_checkFinalizedStatuses(k){const{hasError:Y,thrownError:u,isStopped:E}=this;Y?k.error(u):E&&k.complete()}asObservable(){const k=new t.c;return k.source=this,k}}return S.create=(g,k)=>new D(g,k),S})();class D extends m{constructor(g,k){super(),this.destination=g,this.source=k}next(g){var k,Y;null===(Y=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===Y||Y.call(k,g)}error(g){var k,Y;null===(Y=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===Y||Y.call(k,g)}complete(){var g,k;null===(k=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===k||k.call(g)}_subscribe(g){var k,Y;return null!==(Y=null===(k=this.source)||void 0===k?void 0:k.subscribe(g))&&void 0!==Y?Y:a.Kn}}},1466:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>g});var t=l(983),a=l(6354),p=l(9437),A=l(8284),e=l(1360),w=l(9156),m=l(9069),D=l(2947),S=l(5424);let g=(()=>{class k{constructor(u,E,B,V){this.serviceProviderService=u,this.serviceproviderCache=E,this.router=B,this.errorSerivce=V}resolve(u,E){const B=u.parent.paramMap.get("id")??u.parent.paramMap.get("id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(B).pipe((0,a.T)(V=>{const F=JSON.parse(JSON.stringify(V.claimMappings)),M=new Map;for(const W in F)F.hasOwnProperty(W)&&M.set(W,F[W]);return V.claimMappings=M,this.serviceproviderCache.unsavedCache.next(V),this.serviceproviderCache.savedCache.next(V),V}),(0,p.W)((V,F)=>(404===V.status?this.errorSerivce.resourceNotFound(A.v.serviceProvider):this.errorSerivce.handleError(V),(0,t.I)())));this.serviceproviderCache.unsavedCache$.subscribe(V=>V)}static{this.\u0275fac=function(E){return new(E||k)(e.KVO(w.s),e.KVO(m.d),e.KVO(D.Ix),e.KVO(S.I))}}static{this.\u0275prov=e.jDH({token:k,factory:k.\u0275fac})}}return k})()},1482:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>u,Sm:()=>V,Vw:()=>D,aZ:()=>F,hb:()=>E,hj:()=>S,ig:()=>w,kB:()=>B,om:()=>k,qj:()=>m,rb:()=>e});var t=l(1360),a=l(1413),p=l(9361);let A=null;function e(){return A}function w(Z){A??=Z}class m{}let D=(()=>{class Z{historyGo(L){throw new Error("")}static \u0275fac=function(J){return new(J||Z)};static \u0275prov=t.jDH({token:Z,factory:()=>(0,t.WQX)(g),providedIn:"platform"})}return Z})();const S=new t.nKC("");let g=(()=>{class Z extends D{_location;_history;_doc=(0,t.WQX)(p.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return e().getBaseHref(this._doc)}onPopState(L){const J=e().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",L,!1),()=>J.removeEventListener("popstate",L)}onHashChange(L){const J=e().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",L,!1),()=>J.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,J,te){this._history.pushState(L,J,te)}replaceState(L,J,te){this._history.replaceState(L,J,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}static \u0275fac=function(J){return new(J||Z)};static \u0275prov=t.jDH({token:Z,factory:()=>new Z,providedIn:"platform"})}return Z})();function k(Z,v){return Z?v?Z.endsWith("/")?v.startsWith("/")?Z+v.slice(1):Z+v:v.startsWith("/")?Z+v:`${Z}/${v}`:Z:v}function Y(Z){const v=Z.search(/#|\?|$/);return"/"===Z[v-1]?Z.slice(0,v-1)+Z.slice(v):Z}function u(Z){return Z&&"?"!==Z[0]?`?${Z}`:Z}let E=(()=>{class Z{historyGo(L){throw new Error("")}static \u0275fac=function(J){return new(J||Z)};static \u0275prov=t.jDH({token:Z,factory:()=>(0,t.WQX)(V),providedIn:"root"})}return Z})();const B=new t.nKC("");let V=(()=>{class Z extends E{_platformLocation;_baseHref;_removeListenerFns=[];constructor(L,J){super(),this._platformLocation=L,this._baseHref=J??this._platformLocation.getBaseHrefFromDOM()??(0,t.WQX)(p.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return k(this._baseHref,L)}path(L=!1){const J=this._platformLocation.pathname+u(this._platformLocation.search),te=this._platformLocation.hash;return te&&L?`${J}${te}`:J}pushState(L,J,te,N){const fe=this.prepareExternalUrl(te+u(N));this._platformLocation.pushState(L,J,fe)}replaceState(L,J,te,N){const fe=this.prepareExternalUrl(te+u(N));this._platformLocation.replaceState(L,J,fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static \u0275fac=function(J){return new(J||Z)(t.KVO(D),t.KVO(B,8))};static \u0275prov=t.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),F=(()=>{class Z{_subject=new a.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(L){this._locationStrategy=L;const J=this._locationStrategy.getBaseHref();this._basePath=function z(Z){if(new RegExp("^(https?:)?//").test(Z)){const[,L]=Z.split(/\/\/[^\/]+/);return L}return Z}(Y(y(J))),this._locationStrategy.onPopState(te=>{this._subject.next({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,J=""){return this.path()==this.normalize(L+u(J))}normalize(L){return Z.stripTrailingSlash(function W(Z,v){if(!Z||!v.startsWith(Z))return v;const L=v.substring(Z.length);return""===L||["/",";","?","#"].includes(L[0])?L:v}(this._basePath,y(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,J="",te=null){this._locationStrategy.pushState(te,"",L,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+u(J)),te)}replaceState(L,J="",te=null){this._locationStrategy.replaceState(te,"",L,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+u(J)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription??=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)}),()=>{const J=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(J,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",J){this._urlChangeListeners.forEach(te=>te(L,J))}subscribe(L,J,te){return this._subject.subscribe({next:L,error:J??void 0,complete:te??void 0})}static normalizeQueryParams=u;static joinWithSlash=k;static stripTrailingSlash=Y;static \u0275fac=function(J){return new(J||Z)(t.KVO(E))};static \u0275prov=t.jDH({token:Z,factory:()=>function M(){return new F((0,t.KVO)(E))}(),providedIn:"root"})}return Z})();function y(Z){return Z.replace(/\/index.html$/,"")}},1560:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>v});var t=l(1360),a=l(9417),p=l(4866),A=l(3806),e=l(1088),w=l(7263),m=l(8434),D=l(8018);const S=(L,J)=>({"tw-btn active":L,"tw-btn-link":J});function g(L,J){if(1&L&&(t.j41(0,"div"),t.nrm(1,"input",7),t.k0s()),2&L){const te=t.XpG();t.R7$(),t.FS9("id",te.id+"-input"),t.Y8G("ngModel",te.value)}}function k(L,J){if(1&L){const te=t.RV6();t.j41(0,"div")(1,"input",8),t.bIt("keydown",function(fe){t.eBV(te);const oe=t.XpG();return t.Njj(oe.onKeyDown(fe))})("paste",function(fe){t.eBV(te);const oe=t.XpG();return t.Njj(oe.onPaste(fe))})("ngModelChange",function(fe){t.eBV(te);const oe=t.XpG();return t.Njj(oe.onValueChange(fe))}),t.k0s()()}if(2&L){const te=t.XpG();t.R7$(),t.FS9("id",te.id+"-input"),t.Y8G("ngModel",te.value)("disabled",te.disabled)}}function Y(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.years," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.years,"Year"))," ")}}function u(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.months," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.months,"Month"))," ")}}function E(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.weeks," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.weeks,"Week"))," ")}}function B(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.days," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.days,"Day"))," ")}}function V(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.hours," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.hours,"Hour"))," ")}}function F(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.minutes," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.minutes,"Minute"))," ")}}function M(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.seconds," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.seconds,"Second"))," ")}}function W(L,J){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Tokens.Durations."+te.tryGetNullMeaning())," ")}}function y(L,J){if(1&L&&(t.j41(0,"p",9),t.nrm(1,"span",10),t.nI1(2,"translate"),t.j41(3,"span",11),t.DNE(4,Y,3,4,"span",12)(5,u,3,4,"span",12)(6,E,3,4,"span",12)(7,B,3,4,"span",12)(8,V,3,4,"span",12)(9,F,3,4,"span",12)(10,M,3,4,"span",12)(11,W,3,3,"span",12),t.k0s()()),2&L){const te=t.XpG();t.FS9("id",te.id+"-longTimeLabel"),t.R7$(),t.BMQ("aria-label",t.bMT(2,10,"Clients.Tokens.DurationTitle")),t.R7$(3),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.years)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.months)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.weeks)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.days)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.hours)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.minutes)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.seconds)>0),t.R7$(),t.Y8G("ngIf",te.showNullTimeSpan())}}function z(L,J){if(1&L&&(t.j41(0,"span",16),t.EFF(1),t.k0s()),2&L){const te=t.XpG().$implicit;t.R7$(),t.JRh(te.duration)}}function Z(L,J){if(1&L){const te=t.RV6();t.j41(0,"li")(1,"button",14),t.bIt("click",function(){const fe=t.eBV(te).$implicit,oe=t.XpG();return t.Njj(oe.setInput(fe))}),t.DNE(2,z,2,1,"span",15),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()}if(2&L){const te=J.$implicit,N=t.XpG();t.R7$(),t.Y8G("ngClass",t.l_i(6,S,N.checkSelected(te),!N.checkSelected(te)))("disabled",N.disabled),t.R7$(),t.Y8G("ngIf",te.duration),t.R7$(2),t.JRh(t.bMT(5,4,"Clients.Tokens.Durations."+te.unit+"Short"))}}let v=(()=>{class L{constructor(){this.id=(0,w.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=p.A.getUnitMap(),this.LifetimeUnit=A.u,this.onChange=te=>{},this.onTouched=()=>{}}set value(te){this.setValue(te,!1)}get value(){return this._value}setValue(te,N=!0){null!=te&&!Number.isInteger(te)||(this._value=te,null==te?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(te):this.timeSpan=new e.Q(te),N&&this.onChange(te))}onValueChange(te){this.setValue(te)}onKeyDown(te){return 69!==te.keyCode&&189!==te.keyCode&&190!==te.keyCode}onPaste(te){const fe=te.clipboardData?.getData("text"),oe=Number(fe);Number.isInteger(oe)&&(oe>0||null==oe&&this.allowNull)||te.preventDefault()}writeValue(te){this.setValue(te,!1)}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}setDisabledState(te){this.disabled=te}validate(te){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(te,N){return null==te||null==N?null:te*N}setInput(te){const N=this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit));this.setValue(N)}checkSelected(te){return this.value===this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit))}displayTimeSpanUnit(te,N){return"Clients.Tokens.Durations."+N+(te>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(N=>null===N.duration)?.unit??"NotSet"}static{this.\u0275fac=function(N){return new(N||L)}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},standalone:!1,features:[t.Jv_([{provide:a.kq,useExisting:(0,t.Rfq)(()=>L),multi:!0},{provide:a.cz,useExisting:(0,t.Rfq)(()=>L),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(N,fe){1&N&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,g,2,2,"div",2)(3,k,2,3,"div",2)(4,y,12,12,"p",3),t.k0s(),t.j41(5,"div",4)(6,"ul",5),t.DNE(7,Z,6,9,"li",6),t.k0s()()()),2&N&&(t.R7$(2),t.Y8G("ngIf",fe.disabled),t.R7$(),t.Y8G("ngIf",!fe.disabled),t.R7$(),t.Y8G("ngIf",fe.value>0||null==fe.value&&fe.allowNull),t.R7$(2),t.FS9("id",fe.id+"-buttonList"),t.R7$(),t.Y8G("ngForOf",fe.buttons))},dependencies:[m.YU,m.Sq,m.bT,a.me,a.Q0,a.BC,a.VZ,a.vS,D.D9],encapsulation:2})}}return L})()},1575:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>p});var t=l(4549),a=l(1360);let p=(()=>{class A{now(){return t.c9.now()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},1584:(ot,ve,l)=>{"use strict";l.d(ve,{O:()=>e});var t=l(1985),a=l(3236),p=l(9470);function e(w=0,m,D=a.b){let S=-1;return null!=m&&((0,p.m)(m)?D=m:S=m),new t.c(g=>{let k=function A(w){return w instanceof Date&&!isNaN(w)}(w)?+w-D.now():w;k<0&&(k=0);let Y=0;return D.schedule(function(){g.closed||(g.next(Y++),0<=S?this.schedule(void 0,S):g.complete())},k)})}},1589:(ot,ve,l)=>{"use strict";l.d(ve,{El:()=>e,r7:()=>A,sp:()=>p});var t=l(7263),a=l(1360);let p=(()=>{class w{transform(D){return(0,t.KU)(D,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275pipe=a.EJ8({name:"prettyDateTime",type:w,pure:!0,standalone:!1})}}return w})(),A=(()=>{class w{transform(D){return(0,t.KU)(D,"LLL dd yyyy T")}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275pipe=a.EJ8({name:"standardDateTime",type:w,pure:!0,standalone:!1})}}return w})(),e=(()=>{class w{transform(D){return(0,t.KU)(D,"LLL dd yyyy")}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275pipe=a.EJ8({name:"standardDate",type:w,pure:!0,standalone:!1})}}return w})()},1594:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>m});var t=l(9350),a=l(5964),p=l(6697),A=l(9901),e=l(3774),w=l(3669);function m(D,S){const g=arguments.length>=2;return k=>k.pipe(D?(0,a.p)((Y,u)=>D(Y,u,k)):w.D,(0,p.s)(1),g?(0,A.U)(S):(0,e.v)(()=>new t.G))}},1635:(ot,ve,l)=>{"use strict";function e(Ye,Ke,it,Ve){var Ue,Be=arguments.length,Xe=Be<3?Ke:null===Ve?Ve=Object.getOwnPropertyDescriptor(Ke,it):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(Ye,Ke,it,Ve);else for(var ct=Ye.length-1;ct>=0;ct--)(Ue=Ye[ct])&&(Xe=(Be<3?Ue(Xe):Be>3?Ue(Ke,it,Xe):Ue(Ke,it))||Xe);return Be>3&&Xe&&Object.defineProperty(Ke,it,Xe),Xe}function k(Ye,Ke){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ye,Ke)}function Y(Ye,Ke,it,Ve){return new(it||(it=Promise))(function(Xe,Ue){function ct(ne){try{Qe(Ve.next(ne))}catch(K){Ue(K)}}function st(ne){try{Qe(Ve.throw(ne))}catch(K){Ue(K)}}function Qe(ne){ne.done?Xe(ne.value):function Be(Xe){return Xe instanceof it?Xe:new it(function(Ue){Ue(Xe)})}(ne.value).then(ct,st)}Qe((Ve=Ve.apply(Ye,Ke||[])).next())})}function z(Ye){return this instanceof z?(this.v=Ye,this):new z(Ye)}function Z(Ye,Ke,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ve=it.apply(Ye,Ke||[]),Xe=[];return Be=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ct("next"),ct("throw"),ct("return",function Ue(ge){return function(o){return Promise.resolve(o).then(ge,K)}}),Be[Symbol.asyncIterator]=function(){return this},Be;function ct(ge,o){Ve[ge]&&(Be[ge]=function(dt){return new Promise(function(gt,qt){Xe.push([ge,dt,gt,qt])>1||st(ge,dt)})},o&&(Be[ge]=o(Be[ge])))}function st(ge,o){try{!function Qe(ge){ge.value instanceof z?Promise.resolve(ge.value.v).then(ne,K):de(Xe[0][2],ge)}(Ve[ge](o))}catch(dt){de(Xe[0][3],dt)}}function ne(ge){st("next",ge)}function K(ge){st("throw",ge)}function de(ge,o){ge(o),Xe.shift(),Xe.length&&st(Xe[0][0],Xe[0][1])}}function L(Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ke=Ye[Symbol.asyncIterator];return Ke?Ke.call(Ye):(Ye=function V(Ye){var Ke="function"==typeof Symbol&&Symbol.iterator,it=Ke&&Ye[Ke],Ve=0;if(it)return it.call(Ye);if(Ye&&"number"==typeof Ye.length)return{next:function(){return Ye&&Ve>=Ye.length&&(Ye=void 0),{value:Ye&&Ye[Ve++],done:!Ye}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ye),it={},Ve("next"),Ve("throw"),Ve("return"),it[Symbol.asyncIterator]=function(){return this},it);function Ve(Xe){it[Xe]=Ye[Xe]&&function(Ue){return new Promise(function(ct,st){!function Be(Xe,Ue,ct,st){Promise.resolve(st).then(function(Qe){Xe({value:Qe,done:ct})},Ue)}(ct,st,(Ue=Ye[Xe](Ue)).done,Ue.value)})}}}l.d(ve,{AQ:()=>Z,Cg:()=>e,N3:()=>z,Sn:()=>k,sH:()=>Y,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError},1655:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>E});var t=l(3236),a=l(8793),p=l(6697),A=l(9974),e=l(4360),w=l(5343),D=l(6354),g=l(1397),k=l(8750);function Y(B,V){return V?F=>(0,a.x)(V.pipe((0,p.s)(1),function m(){return(0,A.N)((B,V)=>{B.subscribe((0,e._)(V,w.l))})}()),F.pipe(Y(B))):(0,g.Z)((F,M)=>(0,k.Tg)(B(F,M)).pipe((0,p.s)(1),function S(B){return(0,D.T)(()=>B)}(F)))}var u=l(1584);function E(B,V=t.E){const F=(0,u.O)(B,V);return Y(()=>F)}},1675:(ot,ve,l)=>{var t=l(6589);l(57),l(2507),l(409),l(812),t.random&&t.random.getBytes?ot.exports=t.random:function(a){var p={},A=new Array(4),e=t.util.createBuffer();function w(){var u=t.prng.create(p);return u.getBytes=function(E,B){return u.generate(E,B)},u.getBytesSync=function(E){return u.generate(E)},u}p.formatKey=function(u){var E=t.util.createBuffer(u);return(u=new Array(4))[0]=E.getInt32(),u[1]=E.getInt32(),u[2]=E.getInt32(),u[3]=E.getInt32(),t.aes._expandKey(u,!1)},p.formatSeed=function(u){var E=t.util.createBuffer(u);return(u=new Array(4))[0]=E.getInt32(),u[1]=E.getInt32(),u[2]=E.getInt32(),u[3]=E.getInt32(),u},p.cipher=function(u,E){return t.aes._updateBlock(u,E,A,!1),e.putInt32(A[0]),e.putInt32(A[1]),e.putInt32(A[2]),e.putInt32(A[3]),e.getBytes()},p.increment=function(u){return++u[3],u},p.md=t.md.sha256;var m=w(),D=null,S=t.util.globalScope,g=S.crypto||S.msCrypto;if(g&&g.getRandomValues&&(D=function(u){return g.getRandomValues(u)}),t.options.usePureJavaScript||!t.util.isNodejs&&!D){if(typeof window>"u"||window,m.collectInt(+new Date,32),typeof navigator<"u"){var k="";for(var Y in navigator)try{"string"==typeof navigator[Y]&&(k+=navigator[Y])}catch{}m.collect(k),k=null}a&&(a().mousemove(function(u){m.collectInt(u.clientX,16),m.collectInt(u.clientY,16)}),a().keypress(function(u){m.collectInt(u.charCode,8)}))}if(t.random)for(var Y in m)t.random[Y]=m[Y];else t.random=m;t.random.createInstance=w,ot.exports=t.random}(typeof jQuery<"u"?jQuery:null)},1683:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>A});var t=l(8434),a=l(8018),p=l(1360);let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275mod=p.$C({type:e})}static{this.\u0275inj=p.G2t({imports:[t.MD,a.h]})}}return e})()},1715:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>a});var t=l(1360);let a=(()=>{class p{constructor(e){this.viewContainerRef=e}static{this.\u0275fac=function(w){return new(w||p)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:p,selectors:[["","appStepHost",""]],standalone:!1})}}return p})()},1716:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>e});var t=l(9974),a=l(6365),p=l(9326),A=l(6648);function e(...w){const m=(0,p.lI)(w),D=(0,p.R0)(w,1/0);return(0,t.N)((S,g)=>{(0,a.U)(D)((0,A.H)([S,...w],m)).subscribe(g)})}},1744:(ot,ve,l)=>{"use strict";l.d(ve,{$R:()=>t,XF:()=>w,jD:()=>p,ot:()=>a});class t{}var a=function(m){return m.Client="Client",m.ClaimType="ClaimType",m.IdentityResource="IdentityResource",m.ProtectedResource="ProtectedResource",m}(a||{}),p=function(m){return m.New="New",m.Duplicate="Duplicate",m.Conflicted="Conflicted",m}(p||{}),w=function(m){return m.Importing="Importing",m.Existing="Existing",m}(w||{})},1746:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>t});class t{constructor(p,A){this.MainText=p,this.HelpText=A??null}}},1796:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>w});var t=l(1594),a=l(6354),p=l(1360),A=l(2947),e=l(9196);let w=(()=>{class m{constructor(S,g){this.router=S,this.config=g}canActivate(S,g){return this.config.getConfig().pipe((0,t.$)(),(0,a.T)(k=>!(null==k||null==k.enableAuditing||!k.enableAuditing)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(g){return new(g||m)(p.KVO(A.Ix),p.KVO(e.w))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},1817:(ot,ve,l)=>{var t=l(6589);t.pki=t.pki||{};var a=ot.exports=t.pki.oids=t.oids=t.oids||{};function p(e,w){a[e]=w,a[w]=e}function A(e,w){a[e]=w}p("1.2.840.113549.1.1.1","rsaEncryption"),p("1.2.840.113549.1.1.4","md5WithRSAEncryption"),p("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),p("1.2.840.113549.1.1.7","RSAES-OAEP"),p("1.2.840.113549.1.1.8","mgf1"),p("1.2.840.113549.1.1.9","pSpecified"),p("1.2.840.113549.1.1.10","RSASSA-PSS"),p("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),p("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),p("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),p("1.3.101.112","EdDSA25519"),p("1.2.840.10040.4.3","dsa-with-sha1"),p("1.3.14.3.2.7","desCBC"),p("1.3.14.3.2.26","sha1"),p("1.3.14.3.2.29","sha1WithRSASignature"),p("2.16.840.1.101.3.4.2.1","sha256"),p("2.16.840.1.101.3.4.2.2","sha384"),p("2.16.840.1.101.3.4.2.3","sha512"),p("2.16.840.1.101.3.4.2.4","sha224"),p("2.16.840.1.101.3.4.2.5","sha512-224"),p("2.16.840.1.101.3.4.2.6","sha512-256"),p("1.2.840.113549.2.2","md2"),p("1.2.840.113549.2.5","md5"),p("1.2.840.113549.1.7.1","data"),p("1.2.840.113549.1.7.2","signedData"),p("1.2.840.113549.1.7.3","envelopedData"),p("1.2.840.113549.1.7.4","signedAndEnvelopedData"),p("1.2.840.113549.1.7.5","digestedData"),p("1.2.840.113549.1.7.6","encryptedData"),p("1.2.840.113549.1.9.1","emailAddress"),p("1.2.840.113549.1.9.2","unstructuredName"),p("1.2.840.113549.1.9.3","contentType"),p("1.2.840.113549.1.9.4","messageDigest"),p("1.2.840.113549.1.9.5","signingTime"),p("1.2.840.113549.1.9.6","counterSignature"),p("1.2.840.113549.1.9.7","challengePassword"),p("1.2.840.113549.1.9.8","unstructuredAddress"),p("1.2.840.113549.1.9.14","extensionRequest"),p("1.2.840.113549.1.9.20","friendlyName"),p("1.2.840.113549.1.9.21","localKeyId"),p("1.2.840.113549.1.9.22.1","x509Certificate"),p("1.2.840.113549.1.12.10.1.1","keyBag"),p("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),p("1.2.840.113549.1.12.10.1.3","certBag"),p("1.2.840.113549.1.12.10.1.4","crlBag"),p("1.2.840.113549.1.12.10.1.5","secretBag"),p("1.2.840.113549.1.12.10.1.6","safeContentsBag"),p("1.2.840.113549.1.5.13","pkcs5PBES2"),p("1.2.840.113549.1.5.12","pkcs5PBKDF2"),p("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),p("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),p("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),p("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),p("1.2.840.113549.2.7","hmacWithSHA1"),p("1.2.840.113549.2.8","hmacWithSHA224"),p("1.2.840.113549.2.9","hmacWithSHA256"),p("1.2.840.113549.2.10","hmacWithSHA384"),p("1.2.840.113549.2.11","hmacWithSHA512"),p("1.2.840.113549.3.7","des-EDE3-CBC"),p("2.16.840.1.101.3.4.1.2","aes128-CBC"),p("2.16.840.1.101.3.4.1.22","aes192-CBC"),p("2.16.840.1.101.3.4.1.42","aes256-CBC"),p("2.5.4.3","commonName"),p("2.5.4.4","surname"),p("2.5.4.5","serialNumber"),p("2.5.4.6","countryName"),p("2.5.4.7","localityName"),p("2.5.4.8","stateOrProvinceName"),p("2.5.4.9","streetAddress"),p("2.5.4.10","organizationName"),p("2.5.4.11","organizationalUnitName"),p("2.5.4.12","title"),p("2.5.4.13","description"),p("2.5.4.15","businessCategory"),p("2.5.4.17","postalCode"),p("2.5.4.42","givenName"),p("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),p("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),p("2.16.840.1.113730.1.1","nsCertType"),p("2.16.840.1.113730.1.13","nsComment"),A("2.5.29.1","authorityKeyIdentifier"),A("2.5.29.2","keyAttributes"),A("2.5.29.3","certificatePolicies"),A("2.5.29.4","keyUsageRestriction"),A("2.5.29.5","policyMapping"),A("2.5.29.6","subtreesConstraint"),A("2.5.29.7","subjectAltName"),A("2.5.29.8","issuerAltName"),A("2.5.29.9","subjectDirectoryAttributes"),A("2.5.29.10","basicConstraints"),A("2.5.29.11","nameConstraints"),A("2.5.29.12","policyConstraints"),A("2.5.29.13","basicConstraints"),p("2.5.29.14","subjectKeyIdentifier"),p("2.5.29.15","keyUsage"),A("2.5.29.16","privateKeyUsagePeriod"),p("2.5.29.17","subjectAltName"),p("2.5.29.18","issuerAltName"),p("2.5.29.19","basicConstraints"),A("2.5.29.20","cRLNumber"),A("2.5.29.21","cRLReason"),A("2.5.29.22","expirationDate"),A("2.5.29.23","instructionCode"),A("2.5.29.24","invalidityDate"),A("2.5.29.25","cRLDistributionPoints"),A("2.5.29.26","issuingDistributionPoint"),A("2.5.29.27","deltaCRLIndicator"),A("2.5.29.28","issuingDistributionPoint"),A("2.5.29.29","certificateIssuer"),A("2.5.29.30","nameConstraints"),p("2.5.29.31","cRLDistributionPoints"),p("2.5.29.32","certificatePolicies"),A("2.5.29.33","policyMappings"),A("2.5.29.34","policyConstraints"),p("2.5.29.35","authorityKeyIdentifier"),A("2.5.29.36","policyConstraints"),p("2.5.29.37","extKeyUsage"),A("2.5.29.46","freshestCRL"),A("2.5.29.54","inhibitAnyPolicy"),p("1.3.6.1.4.1.11129.2.4.2","timestampList"),p("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),p("1.3.6.1.5.5.7.3.1","serverAuth"),p("1.3.6.1.5.5.7.3.2","clientAuth"),p("1.3.6.1.5.5.7.3.3","codeSigning"),p("1.3.6.1.5.5.7.3.4","emailProtection"),p("1.3.6.1.5.5.7.3.8","timeStamping")},1853:(ot,ve,l)=>{"use strict";function t(a){const A=a(e=>{Error.call(e),e.stack=(new Error).stack});return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}l.d(ve,{L:()=>t})},1881:(ot,ve,l)=>{var t=l(6589);l(812);var a=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],p=[1,2,3,5],A=function(m,D){return m<<D&65535|(65535&m)>>16-D},e=function(m,D){return(65535&m)>>D|m<<16-D&65535};ot.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(m,D){"string"==typeof m&&(m=t.util.createBuffer(m)),D=D||128;var E,S=m,g=m.length(),k=D,Y=Math.ceil(k/8),u=255>>(7&k);for(E=g;E<128;E++)S.putByte(a[S.at(E-1)+S.at(E-g)&255]);for(S.setAt(128-Y,a[S.at(128-Y)&u]),E=127-Y;E>=0;E--)S.setAt(E,a[S.at(E+1)^S.at(E+Y)]);return S};var w=function(m,D,S){var E,B,V,F,g=!1,k=null,Y=null,u=null,M=[];for(m=t.rc2.expandKey(m,D),V=0;V<64;V++)M.push(m.getInt16Le());S?(E=function(z){for(V=0;V<4;V++)z[V]+=M[F]+(z[(V+3)%4]&z[(V+2)%4])+(~z[(V+3)%4]&z[(V+1)%4]),z[V]=A(z[V],p[V]),F++},B=function(z){for(V=0;V<4;V++)z[V]+=M[63&z[(V+3)%4]]}):(E=function(z){for(V=3;V>=0;V--)z[V]=e(z[V],p[V]),z[V]-=M[F]+(z[(V+3)%4]&z[(V+2)%4])+(~z[(V+3)%4]&z[(V+1)%4]),F--},B=function(z){for(V=3;V>=0;V--)z[V]-=M[63&z[(V+3)%4]]});var W=function(z){var Z=[];for(V=0;V<4;V++){var v=k.getInt16Le();null!==u&&(S?v^=u.getInt16Le():u.putInt16Le(v)),Z.push(65535&v)}F=S?0:63;for(var L=0;L<z.length;L++)for(var J=0;J<z[L][0];J++)z[L][1](Z);for(V=0;V<4;V++)null!==u&&(S?u.putInt16Le(Z[V]):Z[V]^=u.getInt16Le()),Y.putInt16Le(Z[V])},y=null;return y={start:function(z,Z){z&&"string"==typeof z&&(z=t.util.createBuffer(z)),g=!1,k=t.util.createBuffer(),Y=Z||new t.util.createBuffer,u=z,y.output=Y},update:function(z){for(g||k.putBuffer(z);k.length()>=8;)W([[5,E],[1,B],[6,E],[1,B],[5,E]])},finish:function(z){var Z=!0;if(S)if(z)Z=z(8,k,!S);else{var v=8===k.length()?8:8-k.length();k.fillWithByte(v,v)}if(Z&&(g=!0,y.update()),!S&&(Z=0===k.length()))if(z)Z=z(8,Y,!S);else{var L=Y.length(),J=Y.at(L-1);J>L?Z=!1:Y.truncate(J)}return Z}}};t.rc2.startEncrypting=function(m,D,S){var g=t.rc2.createEncryptionCipher(m,128);return g.start(D,S),g},t.rc2.createEncryptionCipher=function(m,D){return w(m,D,!0)},t.rc2.startDecrypting=function(m,D,S){var g=t.rc2.createDecryptionCipher(m,128);return g.start(D,S),g},t.rc2.createDecryptionCipher=function(m,D){return w(m,D,!1)}},1924:(ot,ve,l)=>{"use strict";l.d(ve,{Mj:()=>L,P0:()=>v,h6:()=>te,kt:()=>J});var t=l(1360),a=l(9361),p=l(5218);let A=(()=>{class N{static \u0275fac=function(R){return new(R||N)};static \u0275prov=t.jDH({token:N,factory:()=>(0,t.WQX)(w),providedIn:"root"})}return N})();class e{}let w=(()=>{class N extends A{animationModuleType=(0,t.WQX)(t.bc$,{optional:!0});_nextAnimationId=0;_renderer;constructor(oe,R){if(super(),this._renderer=oe.createRenderer(R.body,{id:"0",encapsulation:t.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function k(N){const fe=N.\u0275type;return 0===fe||1===fe}(this._renderer))throw new t.wOt(3600,!1)}build(oe){const R=this._nextAnimationId;this._nextAnimationId++;const Pe=Array.isArray(oe)?(0,p.K2)(oe):oe;return S(this._renderer,null,R,"register",[Pe]),new m(R,this._renderer)}static \u0275fac=function(R){return new(R||N)(t.KVO(t._9s),t.KVO(a.q))};static \u0275prov=t.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();class m extends e{_id;_renderer;constructor(fe,oe){super(),this._id=fe,this._renderer=oe}create(fe,oe){return new D(this._id,fe,oe||{},this._renderer)}}class D{id;element;_renderer;parentPlayer=null;_started=!1;constructor(fe,oe,R,Pe){this.id=fe,this.element=oe,this._renderer=Pe,this._command("create",R)}_listen(fe,oe){return this._renderer.listen(this.element,`@@${this.id}:${fe}`,oe)}_command(fe,...oe){S(this._renderer,this.element,this.id,fe,oe)}onDone(fe){this._listen("done",fe)}onStart(fe){this._listen("start",fe)}onDestroy(fe){this._listen("destroy",fe)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(fe){this._command("setPosition",fe)}getPosition(){return function g(N){const fe=N.\u0275type;return 0===fe?N:1===fe?N.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function S(N,fe,oe,R,Pe){N.setProperty(fe,`@@${oe}:${R}`,Pe)}const Y="400ms cubic-bezier(0.4,0.0,0.2,1)",u=[(0,p.iF)({height:0,visibility:"hidden"}),(0,p.i0)(Y,(0,p.iF)({height:"*",visibility:"visible"}))],E=[(0,p.iF)({height:"*",visibility:"visible"}),(0,p.i0)(Y,(0,p.iF)({height:0,visibility:"hidden"}))];let B=(()=>{class N{set display(oe){this._display=oe,"none"!==oe?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(oe){this.collapseNewValue=oe,(!this._player||this._isAnimationDone)&&(this.isExpanded=oe,this.toggle())}get collapse(){return this.isExpanded}constructor(oe,R,Pe){this._el=oe,this._renderer=R,this.collapsed=new t.bkB,this.collapses=new t.bkB,this.expanded=new t.bkB,this.expands=new t.bkB,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=Pe.build(E),this._factoryExpandAnimation=Pe.build(u)}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(oe,R){if(!oe||!this._stylesLoaded)return Te=>Te();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const Pe=R===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=Pe.create(this._el.nativeElement),this._player.play(),Te=>this._player?.onDone(Te)}static{this.\u0275fac=function(R){return new(R||N)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(A))}}static{this.\u0275dir=t.FsC({type:N,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(R,Pe){2&R&&(t.BMQ("aria-hidden",Pe.isCollapsed),t.AVh("collapse",Pe.isCollapse)("in",Pe.isExpanded)("show",Pe.isExpanded)("collapsing",Pe.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]})}}return N})(),V=(()=>{class N{static forRoot(){return{ngModule:N,providers:[]}}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275mod=t.$C({type:N})}static{this.\u0275inj=t.G2t({})}}return N})();var F=l(8434);const M=["*"],W=[[["","accordion-heading",""]],"*"],y=["[accordion-heading]","*"],z=N=>({"text-muted":N});function Z(N,fe){if(1&N&&(t.j41(0,"button",7),t.EFF(1),t.k0s()),2&N){const oe=t.XpG();t.Y8G("ngClass",t.eq3(2,z,oe.isDisabled)),t.R7$(),t.SpI(" ",oe.heading," ")}}let v=(()=>{class N{constructor(){this.closeOthers=!1,this.isAnimated=!1}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275prov=t.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})(),L=(()=>{class N{constructor(oe){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,oe)}closeOtherPanels(oe){this.closeOthers&&this.groups.forEach(R=>{R!==oe&&(R.isOpen=!1)})}addGroup(oe){oe.isAnimated=this.isAnimated,this.groups.push(oe)}removeGroup(oe){const R=this.groups.indexOf(oe);-1!==R&&this.groups.splice(R,1)}static{this.\u0275fac=function(R){return new(R||N)(t.rXU(v))}}static{this.\u0275cmp=t.VBU({type:N,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(R,Pe){2&R&&t.BMQ("aria-multiselectable",Pe.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:M,decls:1,vars:0,template:function(R,Pe){1&R&&(t.NAR(),t.SdG(0))},encapsulation:2})}}return N})(),J=(()=>{class N{get isOpen(){return this._isOpen}set isOpen(oe){oe!==this.isOpen&&(oe&&this.accordion.closeOtherPanels(this),this._isOpen=oe,Promise.resolve(null).then(()=>{this.isOpenChange.emit(oe)}))}constructor(oe){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new t.bkB,this._isOpen=!1,this.accordion=oe}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}static{this.\u0275fac=function(R){return new(R||N)(t.rXU(L))}}static{this.\u0275cmp=t.VBU({type:N,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(R,Pe){2&R&&t.AVh("panel-open",Pe.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:y,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"click","ngClass"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(R,Pe){1&R&&(t.NAR(W),t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return Pe.toggleOpen()}),t.j41(2,"div",2)(3,"div",3),t.DNE(4,Z,2,4,"button",4),t.SdG(5),t.k0s()()(),t.j41(6,"div",5)(7,"div",6),t.SdG(8,1),t.k0s()()()),2&R&&(t.Y8G("ngClass",Pe.panelClass),t.R7$(),t.Y8G("ngClass",Pe.isDisabled?"panel-disabled":"panel-enabled"),t.R7$(2),t.BMQ("aria-expanded",Pe.isOpen),t.R7$(),t.Y8G("ngIf",Pe.heading),t.R7$(2),t.Y8G("collapse",!Pe.isOpen)("isAnimated",Pe.isAnimated))},dependencies:[F.YU,F.bT,V,B],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]})}}return N})(),te=(()=>{class N{static forRoot(){return{ngModule:N,providers:[]}}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275mod=t.$C({type:N})}static{this.\u0275inj=t.G2t({imports:[J]})}}return N})()},1927:(ot,ve,l)=>{"use strict";l.d(ve,{K:()=>t});var t=function(a){return a.Jwt="Jwt",a.Reference="Reference",a}(t||{})},1957:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>A});var t=l(8434),a=l(9417),p=l(1360);let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275mod=p.$C({type:e})}static{this.\u0275inj=p.G2t({imports:[t.MD,a.YN]})}}return e})()},1985:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>D});var t=l(7707),a=l(8359),p=l(3494),A=l(1203),e=l(1026),w=l(8071),m=l(9786);let D=(()=>{class Y{constructor(E){E&&(this._subscribe=E)}lift(E){const B=new Y;return B.source=this,B.operator=E,B}subscribe(E,B,V){const F=function k(Y){return Y&&Y instanceof t.vU||function g(Y){return Y&&(0,w.T)(Y.next)&&(0,w.T)(Y.error)&&(0,w.T)(Y.complete)}(Y)&&(0,a.Uv)(Y)}(E)?E:new t.Ms(E,B,V);return(0,m.Y)(()=>{const{operator:M,source:W}=this;F.add(M?M.call(F,W):W?this._subscribe(F):this._trySubscribe(F))}),F}_trySubscribe(E){try{return this._subscribe(E)}catch(B){E.error(B)}}forEach(E,B){return new(B=S(B))((V,F)=>{const M=new t.Ms({next:W=>{try{E(W)}catch(y){F(y),M.unsubscribe()}},error:F,complete:V});this.subscribe(M)})}_subscribe(E){var B;return null===(B=this.source)||void 0===B?void 0:B.subscribe(E)}[p.s](){return this}pipe(...E){return(0,A.m)(E)(this)}toPromise(E){return new(E=S(E))((B,V)=>{let F;this.subscribe(M=>F=M,M=>V(M),()=>B(F))})}}return Y.create=u=>new Y(u),Y})();function S(Y){var u;return null!==(u=Y??e.$.Promise)&&void 0!==u?u:Promise}},1993:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>p});var t=l(8434),a=l(1360);let p=(()=>{class A{static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275mod=a.$C({type:A})}static{this.\u0275inj=a.G2t({imports:[t.MD]})}}return A})()},2020:(ot,ve)=>{ve.read=function(l,t,a,p,A){var e,w,m=8*A-p-1,D=(1<<m)-1,S=D>>1,g=-7,k=a?A-1:0,Y=a?-1:1,u=l[t+k];for(k+=Y,e=u&(1<<-g)-1,u>>=-g,g+=m;g>0;e=256*e+l[t+k],k+=Y,g-=8);for(w=e&(1<<-g)-1,e>>=-g,g+=p;g>0;w=256*w+l[t+k],k+=Y,g-=8);if(0===e)e=1-S;else{if(e===D)return w?NaN:1/0*(u?-1:1);w+=Math.pow(2,p),e-=S}return(u?-1:1)*w*Math.pow(2,e-p)},ve.write=function(l,t,a,p,A,e){var w,m,D,S=8*e-A-1,g=(1<<S)-1,k=g>>1,Y=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,u=p?0:e-1,E=p?1:-1,B=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,w=g):(w=Math.floor(Math.log(t)/Math.LN2),t*(D=Math.pow(2,-w))<1&&(w--,D*=2),(t+=w+k>=1?Y/D:Y*Math.pow(2,1-k))*D>=2&&(w++,D/=2),w+k>=g?(m=0,w=g):w+k>=1?(m=(t*D-1)*Math.pow(2,A),w+=k):(m=t*Math.pow(2,k-1)*Math.pow(2,A),w=0));A>=8;l[a+u]=255&m,u+=E,m/=256,A-=8);for(w=w<<A|m,S+=A;S>0;l[a+u]=255&w,u+=E,w/=256,S-=8);l[a+u-E]|=128*B}},2036:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>A});var t=l(1360),a=l(3165),p=l(9564);let A=(()=>{class e{constructor(m,D){this.http=m,this.headersService=D,this.actionUrl="clients"}getRelyingParty(m){const D=`${this.actionUrl}/${m}/wsfed`,S=this.headersService.setHeaders();return this.http.get(D,{headers:S})}updateRelyingParty(m,D){const S=`${this.actionUrl}/${m}/wsfed`,g=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(S,D,{headers:g})}static{this.\u0275fac=function(D){return new(D||e)(t.KVO(a.Qq),t.KVO(p.m))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})()},2114:(ot,ve,l)=>{ot.exports=l(6589),l(57),l(3707),l(7097),l(5855),l(3674),l(651),l(4579),l(8321),l(872),l(9228),l(5833),l(1097),l(9368),l(8788),l(4724),l(8645),l(9622),l(3697),l(409),l(8588),l(1675),l(1881),l(3120),l(9807),l(812)},2286:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>B});var t=l(9113),a=l(1744),p=l(1594),A=l(6799),e=l(4414),w=l(1360),m=l(5826),D=l(8018),S=l(8434),g=l(7384);const k=(V,F)=>({"tw-btn-link":V,"tw-btn-success":F});function Y(V,F){1&V&&(w.nrm(0,"app-simple-loader",7),w.nI1(1,"translate")),2&V&&w.Y8G("text",w.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function u(V,F){if(1&V&&(w.j41(0,"div",8)(1,"div")(2,"h2",9),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"span",10),w.EFF(6),w.k0s()()()),2&V){const M=w.XpG();w.R7$(3),w.JRh(w.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),w.R7$(3),w.JRh(M.getSuccessMessage())}}function E(V,F){if(1&V){const M=w.RV6();w.j41(0,"div",11)(1,"button",12),w.bIt("click",function(){w.eBV(M);const y=w.XpG();return w.Njj(y.downloadSecrets())}),w.EFF(2),w.nI1(3,"translate"),w.k0s()()}if(2&V){const M=w.XpG();w.R7$(),w.Y8G("disabled",M.disableButtons),w.R7$(),w.SpI(" ",w.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let B=(()=>{class V extends A.P{constructor(M,W,y){super(),this.clientImportService=M,this.importWizardService=W,this.translate=y,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,p.$)()).subscribe(M=>{const W=new t.SD;W.clients=[],W.protectedResources=[],M.forEach(y=>{if(y.selected){if(y.resourceType===a.ot.Client){const z=new t.Hh;z.useExistingSecrets=y.useExistingSecrets,z.useExistingCertificates=y.useExistingCertificates,z.resourceId=y.identifier,z.secrets=y.secrets,y.certificates&&(y.certificates.EncryptionCertificate&&(z.certificates.encryptionCertificate=y.certificates.EncryptionCertificate.base64Cert),y.certificates.SigningCertificates&&(z.certificates.signingCertificates=y.certificates.SigningCertificates.map(Z=>Z.base64Cert))),W.clients.push(z)}y.secrets&&y.secrets.length>0&&(this.canDownloadSecrets=!0)}y.resourceType===a.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(M,y,W.protectedResources),y.secrets&&y.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=W,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(M,W,y){W.dependantClients.forEach(z=>{const Z=M.find(v=>v.identifier===z.identifier);if(Z&&Z.selected){const v=new t.Hh;v.useExistingSecrets=W.useExistingSecrets,v.resourceId=W.identifier,v.secrets=W.secrets,y.push(v)}})}completeImport(){const M=this.getFileInStorage();this.clientImportService.completeImport(M,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},W=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const M=this.importConfiguration.clients.length;let W=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==M&&(W=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),W=W.replace("{0}",M)),W}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(e.M.importDownloadWarning)}static{this.\u0275fac=function(W){return new(W||V)(w.rXU(t.qJ),w.rXU(m.o),w.rXU(D.c$))}}static{this.\u0275cmp=w.VBU({type:V,selectors:[["app-complete-import"]],standalone:!1,features:[w.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(W,y){1&W&&(w.DNE(0,Y,2,3,"app-simple-loader",0),w.j41(1,"div",1),w.DNE(2,u,7,4,"div",2),w.k0s(),w.j41(3,"div",3)(4,"div",4),w.DNE(5,E,4,4,"div",5),w.j41(6,"button",6),w.bIt("click",function(){return y.goNext()}),w.EFF(7),w.nI1(8,"translate"),w.k0s()()()),2&W&&(w.Y8G("ngIf",y.isLoading),w.R7$(2),w.Y8G("ngIf",!y.isLoading),w.R7$(3),w.Y8G("ngIf",y.canDownloadSecrets),w.R7$(),w.Y8G("ngClass",w.l_i(8,k,y.canDownloadSecrets,!y.canDownloadSecrets))("disabled",y.disableButtons),w.R7$(),w.SpI(" ",w.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[S.YU,S.bT,g.d,D.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return V})()},2292:(ot,ve,l)=>{"use strict";l.d(ve,{L:()=>m});var t=l(1360),a=l(7263),p=l(8434);function A(D,S){if(1&D&&(t.j41(0,"div",5)(1,"span",6),t.EFF(2),t.k0s()()),2&D){const g=t.XpG().$implicit,k=t.XpG();t.BMQ("aria-label",k.enumValues),t.R7$(2),t.JRh(g)}}function e(D,S){if(1&D){const g=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(g);const Y=t.XpG().index,u=t.XpG();return t.Njj(u.deleteValue(Y))}),t.nrm(1,"span",8),t.j41(2,"span",6),t.EFF(3),t.k0s()()}if(2&D){const g=t.XpG().$implicit,k=t.XpG();t.BMQ("aria-label",k.enumValues),t.R7$(3),t.JRh(g)}}function w(D,S){if(1&D&&(t.j41(0,"li",2),t.DNE(1,A,3,2,"div",3)(2,e,4,2,"button",4),t.k0s()),2&D){const g=t.XpG();t.R7$(),t.Y8G("ngIf",g.readonly),t.R7$(),t.Y8G("ngIf",!g.readonly)}}let m=(()=>{class D{get id(){return this._id}set id(g){this._id=g||(0,a.Nl)()}constructor(){this.readonly=!1,this.onDelete=new t.bkB}ngOnInit(){}deleteValue(g){this.readonly||this.onDelete.emit(g)}static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},standalone:!1,decls:2,vars:2,consts:[[1,"tw-pill-list","tw-mt-4",3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(k,Y){1&k&&(t.j41(0,"ul",0),t.DNE(1,w,3,2,"li",1),t.k0s()),2&k&&(t.FS9("id",Y.id+"-enumValues-select"),t.R7$(),t.Y8G("ngForOf",Y.values))},dependencies:[p.Sq,p.bT],encapsulation:2})}}return D})()},2326:(ot,ve,l)=>{"use strict";l.d(ve,{K:()=>a});const{isArray:t}=Array;function a(p){return 1===p.length&&t(p[0])?p[0]:p}},2334:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{ClaimTypesModule:()=>qn});var t=l(8434),a=l(9262),p=l(9417),A=l(8018),e=l(779),w=l(534),m=l(8400),D=l(5139),S=l(9838),g=l(9957),k=l(7263),Y=l(6303),u=l(6411),E=l(1360),B=l(2947),V=l(5794),F=l(526),M=l(345),W=l(5424),y=l(7883),z=l(7499),Z=l(6728),v=l(3680),L=l(6406),J=l(8698),te=l(9550),N=l(8762),fe=l(7778),oe=l(2292);function R(Gt,oi){if(1&Gt){const zt=E.RV6();E.j41(0,"div",4)(1,"div",5)(2,"input",6),E.mxI("ngModelChange",function(fn){E.eBV(zt);const Qn=E.XpG();return E.DH7(Qn.newEnumValue,fn)||(Qn.newEnumValue=fn),E.Njj(fn)}),E.k0s(),E.j41(3,"button",7),E.bIt("click",function(){E.eBV(zt);const fn=E.XpG();return E.Njj(fn.onAdd())}),E.nrm(4,"span",8),E.j41(5,"span",9),E.EFF(6),E.nI1(7,"translate"),E.k0s()()()()}if(2&Gt){const zt=E.XpG();E.R7$(2),E.FS9("id",zt.id+"-newValue-input"),E.R50("ngModel",zt.newEnumValue),E.R7$(),E.FS9("id",zt.id+"-newValue-button"),E.Y8G("disabled",zt.addDisabled),E.R7$(3),E.JRh(E.bMT(7,5,"Common.Add"))}}function Pe(Gt,oi){if(1&Gt){const zt=E.RV6();E.j41(0,"app-pill-list",10),E.bIt("onDelete",function(fn){E.eBV(zt);const Qn=E.XpG();return E.Njj(Qn.onDelete(fn))}),E.k0s()}if(2&Gt){const zt=E.XpG();E.Y8G("readonly",zt.reserved)("id",zt.id)("values",zt.value)}}function Te(Gt,oi){if(1&Gt&&(E.j41(0,"span",11),E.EFF(1),E.nI1(2,"translate"),E.nI1(3,"number"),E.k0s()),2&Gt){const zt=E.XpG();E.R7$(),E.Lme("",E.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",E.bMT(3,4,zt.value.length),")")}}let We=(()=>{class Gt{constructor(){this.id=(0,k.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=zt=>{},this.onTouched=()=>{}}writeValue(zt){this.value=zt}registerOnChange(zt){this.onChange=zt}registerOnTouched(zt){this.onTouched=zt}setDisabledState(zt){this.disabled=zt}validate(zt){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(zt){this.value.splice(zt,1),this.onChange(this.value)}isNullOrEmpty(zt){return!zt||null!==zt.match(/^ *$/)}static{this.\u0275fac=function(Un){return new(Un||Gt)}}static{this.\u0275cmp=E.VBU({type:Gt,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},standalone:!1,features:[E.Jv_([{provide:p.kq,useExisting:(0,E.Rfq)(()=>Gt),multi:!0},{provide:p.cz,useExisting:(0,E.Rfq)(()=>Gt),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(Un,fn){1&Un&&(E.DNE(0,R,8,7,"div",0),E.j41(1,"div",1),E.DNE(2,Pe,1,3,"app-pill-list",2)(3,Te,4,6,"span",3),E.k0s()),2&Un&&(E.Y8G("ngIf",!fn.reserved),E.R7$(2),E.Y8G("ngIf",fn.value.length<=50||!fn.reserved),E.R7$(),E.Y8G("ngIf",fn.value.length>50&&fn.reserved))},dependencies:[t.bT,p.me,p.BC,p.vS,oe.L,t.QX,A.D9],encapsulation:2})}}return Gt})();var rt=l(4692);const lt=(Gt,oi)=>({title:Gt,link:oi}),vt=Gt=>[Gt];function je(Gt,oi){if(1&Gt){const zt=E.RV6();E.j41(0,"select",23),E.bIt("change",function(){E.eBV(zt);const fn=E.XpG(2);return E.Njj(fn.onValueTypeChanged())}),E.j41(1,"option",24),E.EFF(2),E.nI1(3,"translate"),E.k0s(),E.j41(4,"option",25),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"option",26),E.EFF(8),E.nI1(9,"translate"),E.k0s(),E.j41(10,"option",27),E.EFF(11),E.nI1(12,"translate"),E.k0s(),E.j41(13,"option",28),E.EFF(14),E.nI1(15,"translate"),E.k0s()()}if(2&Gt){const zt=E.XpG(2);E.R7$(),E.Y8G("selected","String"==zt.claimType.valueType),E.R7$(),E.JRh(E.bMT(3,9,"Common.Types.String")),E.R7$(2),E.Y8G("selected","Int"==zt.claimType.valueType),E.R7$(),E.JRh(E.bMT(6,11,"Common.Types.Int")),E.R7$(2),E.Y8G("selected","DateTime"==zt.claimType.valueType),E.R7$(),E.JRh(E.bMT(9,13,"Common.Types.DateTime")),E.R7$(2),E.Y8G("selected","Boolean"==zt.claimType.valueType),E.R7$(),E.JRh(E.bMT(12,15,"Common.Types.Boolean")),E.R7$(3),E.JRh(E.bMT(15,17,"Common.Types.Enum"))}}function Ye(Gt,oi){if(1&Gt&&(E.nrm(0,"app-readonly",10),E.nI1(1,"readOnlyValue")),2&Gt){const zt=E.XpG(2);E.Y8G("fieldType",zt.ReadOnlyFieldType.Single)("values",E.eq3(4,vt,E.bMT(1,2,zt.claimType.valueType)))}}function Ke(Gt,oi){if(1&Gt&&(E.j41(0,"app-form-row",29),E.nrm(1,"app-edit-enum-claim-type",30),E.k0s()),2&Gt){const zt=E.XpG(2);E.Y8G("label","Claims.AllowedValues"),E.R7$(),E.Y8G("reserved",zt.claimType.reserved)("required","Enum"===zt.claimTypeForm.get("valueType").value)}}function it(Gt,oi){1&Gt&&E.nrm(0,"textarea",31)}function Ve(Gt,oi){if(1&Gt&&(E.nrm(0,"app-readonly",10),E.nI1(1,"readOnlyValue")),2&Gt){const zt=E.XpG(2);E.Y8G("fieldType",zt.ReadOnlyFieldType.Single)("values",E.eq3(4,vt,E.bMT(1,2,zt.claimType.description)))}}function Be(Gt,oi){1&Gt&&(E.j41(0,"app-form-row",12),E.nrm(1,"input",32),E.k0s()),2&Gt&&E.Y8G("id","rule")("label","Claims.RegexRule")}function Xe(Gt,oi){1&Gt&&(E.j41(0,"app-form-row",12),E.nrm(1,"input",33),E.k0s()),2&Gt&&E.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function Ue(Gt,oi){if(1&Gt&&(E.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),E.nrm(3,"app-readonly",10),E.nI1(4,"readOnlyValue"),E.k0s(),E.j41(5,"app-form-row",9),E.nrm(6,"input",11),E.k0s(),E.j41(7,"app-form-row",12)(8,"div",13),E.DNE(9,je,16,19,"select",14)(10,Ye,2,6,"app-readonly",15),E.k0s()(),E.DNE(11,Ke,2,3,"app-form-row",16),E.j41(12,"app-form-row",12),E.DNE(13,it,1,0,"textarea",17)(14,Ve,2,6,"app-readonly",15),E.k0s(),E.DNE(15,Be,2,2,"app-form-row",18)(16,Xe,2,2,"app-form-row",18),E.j41(17,"app-form-row",9)(18,"app-form-toggle",19),E.nrm(19,"input",20),E.k0s()(),E.j41(20,"app-form-row",21)(21,"app-form-toggle",19),E.nrm(22,"input",22),E.k0s()()()()),2&Gt){const zt=E.XpG();E.R7$(),E.Y8G("formGroup",zt.claimTypeForm),E.R7$(),E.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),E.R7$(),E.Y8G("fieldType",zt.ReadOnlyFieldType.Single)("values",E.eq3(31,vt,E.bMT(4,29,zt.claimType.name))),E.R7$(2),E.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),E.R7$(2),E.Y8G("id","type")("label","Common.Type"),E.R7$(2),E.Y8G("ngIf",!zt.claimType.reserved),E.R7$(),E.Y8G("ngIf",zt.claimType.reserved),E.R7$(),E.Y8G("ngIf","Enum"===zt.claimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","description")("label","Common.Description"),E.R7$(),E.Y8G("ngIf",!zt.claimType.reserved),E.R7$(),E.Y8G("ngIf",zt.claimType.reserved),E.R7$(),E.Y8G("ngIf","String"===zt.claimTypeForm.get("valueType").value),E.R7$(),E.Y8G("ngIf","String"===zt.claimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),E.R7$(),E.Y8G("id","required"),E.R7$(2),E.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),E.R7$(),E.Y8G("id","userEditable")}}let ct=(()=>{class Gt extends u.A{get ReadOnlyFieldType(){return Y.t}constructor(zt,Un,fn,Qn,vi,Fe,Ze,ht,Ut,Xt,Mn){super(Mn),this.router=zt,this.translate=Un,this.toastr=fn,this.fb=Qn,this.claimTypeService=vi,this.titleService=Fe,this.localize=Ze,this.errorService=ht,this.securityService=Ut,this.cdr=Xt,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:zt=>{this.claimType=zt,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${S.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(zt)},error:zt=>{this.errorService.handleError(zt)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}get unsavedChanges(){return this.claimTypeForm.dirty}onDeactivate(){}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,p.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[p.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},p.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},p.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,p.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const zt=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(zt.rule=void 0,zt.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(zt).subscribe({next:Un=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(zt),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:Un=>{(this.errorService.handleError(Un)&g.I.Toast)!==g.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:zt=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const Un=this.localize.translateRoute("/claim-types");this.router.navigate([Un])},error:zt=>{(this.errorService.handleError(zt)&g.I.Toast)!==g.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const zt=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(zt?.disable(),this.cdr.detectChanges()):(zt?.setValue(this.claimType.allowedValues||[]),zt?.enable(),this.cdr.detectChanges())}get isAuthorizationServerManager(){return(0,k.mk)(this.securityService.userPermissions)}static{this.\u0275fac=function(Un){return new(Un||Gt)(E.rXU(B.Ix),E.rXU(A.c$),E.rXU(V.tw),E.rXU(p.ze),E.rXU(F.X),E.rXU(M.hE),E.rXU(D.QG),E.rXU(W.I),E.rXU(y.i),E.rXU(E.gRc),E.rXU(z.o))}}static{this.\u0275cmp=E.VBU({type:Gt,selectors:[["ng-component"]],standalone:!1,features:[E.Vt3],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(Un,fn){if(1&Un){const Qn=E.RV6();E.nrm(0,"app-title-bar",1),E.nI1(1,"translate"),E.nI1(2,"localize"),E.DNE(3,Ue,23,33,"div",2),E.j41(4,"app-button-bar")(5,"button",3),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.submit())}),E.EFF(6),E.nI1(7,"translate"),E.k0s(),E.qex(8,4),E.j41(9,"button",5),E.bIt("click",function(){E.eBV(Qn);const Fe=E.sdS(13);return E.Njj(Fe.show())}),E.EFF(10),E.nI1(11,"translate"),E.k0s(),E.bVm(),E.k0s(),E.j41(12,"app-delete-confirmation-modal",6,0),E.bIt("delete",function(){return E.eBV(Qn),E.Njj(fn.delete())}),E.k0s(),E.nrm(14,"app-can-deactivate")}2&Un&&(E.Y8G("title",fn.claimType.name)("crumbs",E.eq3(20,vt,E.l_i(17,lt,E.bMT(1,9,"Nav.ClaimTypes"),E.bMT(2,11,"/claim-types")))),E.R7$(3),E.Y8G("ngIf",fn.claimType),E.R7$(2),E.Y8G("disabled",!(fn.claimTypeForm.dirty&&fn.claimTypeForm.valid)),E.R7$(),E.SpI(" ",E.bMT(7,13,"Common.Save")," "),E.R7$(3),E.Y8G("disabled",fn.claimType.reserved||!fn.isAuthorizationServerManager),E.R7$(),E.SpI(" ",E.bMT(11,15,"Common.Delete.Title")," "),E.R7$(2),E.Y8G("modalId","deleteClaimTypeModal")("resourceName",fn.claimType.name))},dependencies:[t.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,Z.E,v.z,L.z,J.Y,te.m,N.O,fe.w,We,A.D9,D.tl,rt.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Gt})();var st=l(1413),Qe=l(6354),ne=l(8412),K=l(9172),de=l(1397),ge=l(6494),o=l(7156),dt=l(7294),gt=l(2510),qt=l(7384);class Tn{}const en=["addClaimTypeModal"],Ln=()=>({animated:!1,backdrop:"static"});function ni(Gt,oi){if(1&Gt&&(E.j41(0,"app-form-row",37),E.nrm(1,"app-edit-enum-claim-type",38),E.k0s()),2&Gt){const zt=E.XpG();E.Y8G("label","Claims.AllowedValues"),E.R7$(),E.Y8G("required","Enum"===zt.addClaimTypeForm.get("valueType").value)}}function mt(Gt,oi){1&Gt&&(E.j41(0,"app-form-row",14),E.nrm(1,"input",39),E.k0s()),2&Gt&&E.Y8G("id","rules")("label","Claims.RegexRule")}function Jt(Gt,oi){1&Gt&&(E.j41(0,"app-form-row",14),E.nrm(1,"input",40),E.k0s()),2&Gt&&E.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let he=(()=>{class Gt{constructor(zt,Un,fn,Qn,vi,Fe){this.cdr=zt,this.claimTypeService=Un,this.errorService=fn,this.translate=Qn,this.fb=vi,this.toastr=Fe,this.onSubmitted=new E.bkB,this.descFocus=!1}keydown(zt){"Enter"===zt.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",p.k0.required],name:["",p.k0.required],displayName:[""],description:["",p.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,p.k0.required],userEditable:[!1,p.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let zt=new Tn;zt=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(zt.rule=void 0,zt.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(zt).subscribe({next:Un=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+zt.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:Un=>{(this.errorService.handleError(Un)&g.I.Toast)!==g.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const zt=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(zt?.disable(),this.cdr.detectChanges()):(zt?.setValue([]),zt?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(Un){return new(Un||Gt)(E.rXU(E.gRc),E.rXU(F.X),E.rXU(W.I),E.rXU(A.c$),E.rXU(p.ze),E.rXU(V.tw))}}static{this.\u0275cmp=E.VBU({type:Gt,selectors:[["app-add-claimtype"]],viewQuery:function(Un,fn){if(1&Un&&E.GBs(en,7),2&Un){let Qn;E.mGM(Qn=E.lsd())&&(fn.addClaimTypeModal=Qn.first)}},hostBindings:function(Un,fn){1&Un&&E.bIt("keydown",function(vi){return fn.keydown(vi)},!1,E.EBC)},outputs:{onSubmitted:"onSubmitted"},standalone:!1,decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn-secondary",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(Un,fn){if(1&Un){const Qn=E.RV6();E.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),E.EFF(6),E.nI1(7,"translate"),E.k0s(),E.j41(8,"button",6),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.hide())}),E.nrm(9,"span",7),E.j41(10,"span",8),E.EFF(11),E.nI1(12,"translate"),E.k0s()()(),E.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),E.nrm(16,"input",12),E.k0s(),E.j41(17,"app-form-row",11),E.nrm(18,"input",13),E.k0s(),E.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),E.bIt("change",function(){return E.eBV(Qn),E.Njj(fn.onValueTypeChanged())}),E.j41(22,"option",17),E.EFF(23),E.nI1(24,"translate"),E.k0s(),E.j41(25,"option",18),E.EFF(26),E.nI1(27,"translate"),E.k0s(),E.j41(28,"option",19),E.EFF(29),E.nI1(30,"translate"),E.k0s(),E.j41(31,"option",20),E.EFF(32),E.nI1(33,"translate"),E.k0s(),E.j41(34,"option",21),E.EFF(35),E.nI1(36,"translate"),E.k0s()()()(),E.DNE(37,ni,2,2,"app-form-row",22),E.j41(38,"app-form-row",14)(39,"textarea",23),E.bIt("focus",function(){return E.eBV(Qn),E.Njj(fn.descFocus=!fn.descFocus)})("blur",function(){return E.eBV(Qn),E.Njj(fn.descFocus=!fn.descFocus)}),E.k0s()(),E.DNE(40,mt,2,2,"app-form-row",24)(41,Jt,2,2,"app-form-row",24),E.j41(42,"app-form-row",11)(43,"app-form-toggle",25),E.nrm(44,"input",26),E.k0s()(),E.j41(45,"app-form-row",27)(46,"app-form-toggle",25),E.nrm(47,"input",28),E.k0s()()()(),E.nrm(48,"div",29),E.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.addClaimType())}),E.EFF(53),E.nI1(54,"translate"),E.k0s(),E.j41(55,"span",34)(56,"button",35),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.addAnotherClaimType())}),E.EFF(57),E.nI1(58,"translate"),E.k0s()()(),E.j41(59,"button",36),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.hide())}),E.EFF(60),E.nI1(61,"translate"),E.k0s()()()()()()}2&Un&&(E.Y8G("config",E.lJ4(56,Ln)),E.R7$(6),E.JRh(E.bMT(7,36,"Claims.New")),E.R7$(5),E.JRh(E.bMT(12,38,"Common.Close")),E.R7$(3),E.Y8G("formGroup",fn.addClaimTypeForm),E.R7$(),E.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),E.R7$(2),E.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),E.R7$(2),E.Y8G("id","type")("label","Common.Type"),E.R7$(4),E.JRh(E.bMT(24,40,"Common.Types.String")),E.R7$(3),E.JRh(E.bMT(27,42,"Common.Types.Int")),E.R7$(3),E.JRh(E.bMT(30,44,"Common.Types.DateTime")),E.R7$(3),E.JRh(E.bMT(33,46,"Common.Types.Boolean")),E.R7$(3),E.JRh(E.bMT(36,48,"Common.Types.Enum")),E.R7$(2),E.Y8G("ngIf","Enum"===fn.addClaimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","description")("label","Common.Description"),E.R7$(2),E.Y8G("ngIf","String"===fn.addClaimTypeForm.get("valueType").value),E.R7$(),E.Y8G("ngIf","String"===fn.addClaimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),E.R7$(),E.Y8G("id","required"),E.R7$(2),E.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),E.R7$(),E.Y8G("id","userEditable"),E.R7$(6),E.Y8G("disabled",!fn.addClaimTypeForm.valid),E.R7$(),E.JRh(E.bMT(54,50,"Common.Save")),E.R7$(3),E.Y8G("disabled",!fn.addClaimTypeForm.valid),E.R7$(),E.JRh(E.bMT(58,52,"Common.SaveAndAdd")),E.R7$(3),E.JRh(E.bMT(61,54,"Common.Cancel")))},dependencies:[t.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,e.hZ,J.Y,te.m,We,A.D9],encapsulation:2})}}return Gt})();const ue=(Gt,oi)=>oi.id;function P(Gt,oi){if(1&Gt){const zt=E.RV6();E.j41(0,"app-action-bar"),E.qex(1,5),E.j41(2,"button",6),E.bIt("click",function(){E.eBV(zt),E.XpG();const fn=E.sdS(3);return E.Njj(fn.show())}),E.EFF(3),E.nI1(4,"translate"),E.k0s(),E.bVm(),E.k0s()}2&Gt&&(E.R7$(3),E.SpI(" ",E.bMT(4,1,"Claims.Add")," "))}function q(Gt,oi){1&Gt&&E.nrm(0,"app-simple-loader")}function De(Gt,oi){1&Gt&&(E.j41(0,"div",7)(1,"div"),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Claims.NoClaimsFound")))}function Ae(Gt,oi){1&Gt&&E.nrm(0,"span",22)}function et(Gt,oi){1&Gt&&E.nrm(0,"span",23)}function _t(Gt,oi){1&Gt&&E.nrm(0,"span",24)}function Ht(Gt,oi){1&Gt&&E.nrm(0,"span",22)}function nn(Gt,oi){1&Gt&&E.nrm(0,"span",23)}function wn(Gt,oi){1&Gt&&E.nrm(0,"span",24)}function Kn(Gt,oi){1&Gt&&E.nrm(0,"span",22)}function ei(Gt,oi){1&Gt&&E.nrm(0,"span",23)}function Ot(Gt,oi){1&Gt&&E.nrm(0,"span",24)}function Gn(Gt,oi){1&Gt&&E.nrm(0,"span",22)}function Qt(Gt,oi){1&Gt&&E.nrm(0,"span",23)}function Sn(Gt,oi){1&Gt&&E.nrm(0,"span",24)}function In(Gt,oi){1&Gt&&(E.j41(0,"span",30)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.Yes")))}function rs(Gt,oi){1&Gt&&(E.j41(0,"span",31)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.No")))}function _i(Gt,oi){1&Gt&&(E.j41(0,"span",30)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.Yes")))}function Fi(Gt,oi){1&Gt&&(E.j41(0,"span",31)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.No")))}function Ni(Gt,oi){1&Gt&&(E.j41(0,"span",35),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&Gt&&(E.R7$(),E.SpI(" ",E.bMT(2,1,"Common.Reserved")," "))}function os(Gt,oi){1&Gt&&(E.nrm(0,"span",36),E.j41(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.Edit")))}function zn(Gt,oi){1&Gt&&(E.nrm(0,"span",37),E.j41(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()),2&Gt&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.View")))}function ms(Gt,oi){if(1&Gt){const zt=E.RV6();E.j41(0,"tr",20)(1,"td",25),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(2,"b",26),E.EFF(3),E.k0s()(),E.j41(4,"td",27),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(5,"b",26),E.EFF(6),E.k0s()(),E.j41(7,"td",27),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(8,"code"),E.EFF(9),E.k0s()(),E.j41(10,"td",28),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.EFF(11),E.k0s(),E.j41(12,"td",29),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(13,In,4,3,"span",30)(14,rs,4,3,"span",31),E.k0s(),E.j41(15,"td",29),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(16,_i,4,3,"span",30)(17,Fi,4,3,"span",31),E.k0s(),E.j41(18,"td",32),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(19,Ni,3,3,"span",33),E.k0s(),E.j41(20,"td",32),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(21,"button",34),E.bIt("click",function(){const fn=E.eBV(zt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(22,os,4,3)(23,zn,4,3),E.k0s()()()}if(2&Gt){const zt=oi.$implicit,Un=E.XpG(3);E.R7$(3),E.SpI(" ",zt.name," "),E.R7$(3),E.SpI(" ",zt.displayName," "),E.R7$(3),E.JRh(zt.valueType),E.R7$(2),E.SpI(" ",zt.description," "),E.R7$(2),E.vxM(zt.required?13:14),E.R7$(3),E.vxM(zt.userEditable?16:17),E.R7$(3),E.Y8G("ngIf",zt.reserved),E.R7$(3),E.vxM(Un.resourceIsReadOnly(zt)?23:22)}}function xi(Gt,oi){if(1&Gt){const zt=E.RV6();E.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th",9),E.bIt("click",function(){E.eBV(zt);const fn=E.XpG(2);return E.Njj(fn.sort("name"))}),E.j41(4,"span",10),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.DNE(7,Ae,1,0,"span",11)(8,et,1,0,"span",12)(9,_t,1,0,"span",13),E.k0s(),E.j41(10,"th",14),E.EFF(11),E.nI1(12,"translate"),E.k0s(),E.j41(13,"th",15),E.bIt("click",function(){E.eBV(zt);const fn=E.XpG(2);return E.Njj(fn.sort("valueType"))}),E.j41(14,"span",10),E.EFF(15),E.nI1(16,"translate"),E.k0s(),E.DNE(17,Ht,1,0,"span",11)(18,nn,1,0,"span",12)(19,wn,1,0,"span",13),E.k0s(),E.j41(20,"th",16),E.EFF(21),E.nI1(22,"translate"),E.k0s(),E.j41(23,"th",17),E.bIt("click",function(){E.eBV(zt);const fn=E.XpG(2);return E.Njj(fn.sort("required"))}),E.j41(24,"span",10),E.EFF(25),E.nI1(26,"translate"),E.k0s(),E.DNE(27,Kn,1,0,"span",11)(28,ei,1,0,"span",12)(29,Ot,1,0,"span",13),E.k0s(),E.j41(30,"th",17),E.bIt("click",function(){E.eBV(zt);const fn=E.XpG(2);return E.Njj(fn.sort("userEditable"))}),E.j41(31,"span",10),E.EFF(32),E.nI1(33,"translate"),E.k0s(),E.DNE(34,Gn,1,0,"span",11)(35,Qt,1,0,"span",12)(36,Sn,1,0,"span",13),E.k0s(),E.j41(37,"th",18)(38,"span",19),E.EFF(39),E.nI1(40,"translate"),E.k0s()(),E.j41(41,"th",18)(42,"span",19),E.EFF(43),E.nI1(44,"translate"),E.k0s()()()(),E.j41(45,"tbody"),E.Z7z(46,ms,24,8,"tr",20,ue),E.k0s()(),E.nrm(48,"app-pager",21)}if(2&Gt){const zt=E.XpG(2);E.R7$(5),E.JRh(E.bMT(6,21,"Common.Name")),E.R7$(2),E.Y8G("ngIf",!zt.sortContains("name")),E.R7$(),E.Y8G("ngIf","name"===zt.sortCriteria),E.R7$(),E.Y8G("ngIf","-name"===zt.sortCriteria),E.R7$(2),E.SpI(" ",E.bMT(12,23,"Common.DisplayName")," "),E.R7$(4),E.JRh(E.bMT(16,25,"Common.Type")),E.R7$(2),E.Y8G("ngIf",!zt.sortContains("valueType")),E.R7$(),E.Y8G("ngIf","valueType"===zt.sortCriteria),E.R7$(),E.Y8G("ngIf","-valueType"===zt.sortCriteria),E.R7$(2),E.SpI(" ",E.bMT(22,27,"Common.Description")," "),E.R7$(4),E.JRh(E.bMT(26,29,"Common.Required")),E.R7$(2),E.Y8G("ngIf",!zt.sortContains("required")),E.R7$(),E.Y8G("ngIf","required"===zt.sortCriteria),E.R7$(),E.Y8G("ngIf","-required"===zt.sortCriteria),E.R7$(3),E.JRh(E.bMT(33,31,"Common.UserEditable")),E.R7$(2),E.Y8G("ngIf",!zt.sortContains("userEditable")),E.R7$(),E.Y8G("ngIf","userEditable"===zt.sortCriteria),E.R7$(),E.Y8G("ngIf","-userEditable"===zt.sortCriteria),E.R7$(3),E.JRh(E.bMT(40,33,"Common.Reserved")),E.R7$(4),E.JRh(E.bMT(44,35,"Common.Actions")),E.R7$(3),E.Dyx(zt.claimTypes),E.R7$(2),E.Y8G("totalResults",null==zt.claimTypes?null:zt.claimTypes.length)}}function wt(Gt,oi){if(1&Gt&&E.DNE(0,De,4,3,"div",7)(1,xi,49,37),2&Gt){const zt=E.XpG();E.vxM((null==zt.claimTypes?null:zt.claimTypes.length)<1?0:1)}}let Tt=(()=>{class Gt extends ge.u{constructor(zt,Un,fn,Qn,vi,Fe,Ze,ht,Ut){super(Ut,Fe,!0,ht,Ze,vi),this.claimTypeService=zt,this.errorService=Un,this.titleService=fn,this.localize=Qn,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new st.B,this.searchStream=new st.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}mapSearchTerm(zt){return this.term=zt,{searchTerm:this.term,sort:this.sortCriteria}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+S.$9.SITE_TITLE),this.sortStream.pipe((0,Qe.T)(fn=>(this.sortCriteria=fn,{searchTerm:this.term,sort:fn}))).pipe((0,ne.X)(this.searchSource),(0,K.Z)({searchTerm:this.term,sort:this.sortCriteria}),(0,de.Z)(fn=>this.claimTypeService.getClaimTypes(fn.searchTerm,fn.sort,!0))).subscribe({next:fn=>{this.claimTypes=fn,this.isLoading=!1},error:fn=>{this.errorService.handleError(fn),this.isLoading=!1}})}sort(zt){this.sortCriteria=this.sortCriteria.startsWith("-")?zt:"-"+zt,this.sortStream.next(this.sortCriteria)}sortContains(zt){return!!this.sortCriteria.includes(zt)}onSubmitted(zt){zt&&this.sortStream.next(this.sortCriteria)}resourceIsReadOnly(zt){return!this.hasEditPermission}static{this.\u0275fac=function(Un){return new(Un||Gt)(E.rXU(F.X),E.rXU(W.I),E.rXU(M.hE),E.rXU(D.QG),E.rXU(B.Ix),E.rXU(A.c$),E.rXU(y.i),E.rXU(B.nX),E.rXU(V.tw))}}static{this.\u0275cmp=E.VBU({type:Gt,selectors:[["ng-component"]],standalone:!1,features:[E.Vt3],decls:10,vars:9,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"]],template:function(Un,fn){if(1&Un){const Qn=E.RV6();E.nrm(0,"app-title-bar",1),E.nI1(1,"translate"),E.j41(2,"app-add-claimtype",2,0),E.bIt("onSubmitted",function(Fe){return E.eBV(Qn),E.Njj(fn.onSubmitted(Fe))}),E.k0s(),E.j41(4,"div",3)(5,"app-search",4),E.nI1(6,"translate"),E.mxI("searchTermChange",function(Fe){return E.eBV(Qn),E.DH7(fn.searchTerm,Fe)||(fn.searchTerm=Fe),E.Njj(Fe)}),E.bIt("onSearch",function(Fe){return E.eBV(Qn),E.Njj(fn.search(Fe))}),E.k0s(),E.DNE(7,P,5,3,"app-action-bar")(8,q,1,0,"app-simple-loader")(9,wt,2,1),E.k0s()}2&Un&&(E.Y8G("title",E.bMT(1,5,"Nav.ClaimTypes")),E.R7$(5),E.R50("searchTerm",fn.searchTerm),E.Y8G("placeholder",E.bMT(6,7,"ClaimTypes.SearchPlaceholder")),E.R7$(2),E.vxM(!fn.isLoading&&fn.hasEditPermission?7:-1),E.R7$(),E.vxM(fn.isLoading?8:9))},dependencies:[t.bT,v.z,o.B,dt.n,gt.S,qt.d,he,A.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Gt})();var xt=l(3178),Kt=l(4446),cn=l(8939),ii=l(2892),Ei=l(8416);const Ii=[{path:"claim-types",component:Tt,canActivate:[ii.h,Kt._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.UserManagerReadOnly],xt.a[xt.a.AllReadOnly],xt.a[xt.a.All]],editPermissions:[xt.a[xt.a.UserManager],xt.a[xt.a.All]]}},{path:"claim-types/:id",component:ct,resolve:{resource:cn.R},canDeactivate:[Ei.M],canActivate:[ii.h,Kt._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.All]]}},{path:"claim-types/view/:id",loadChildren:()=>l.e(200).then(l.bind(l,2200)).then(Gt=>Gt.ClaimTypesModule),resolve:{resource:cn.R},canActivate:[ii.h,Kt._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.UserManagerReadOnly],xt.a[xt.a.AllReadOnly],xt.a[xt.a.All]]}}];let Ti=(()=>{class Gt{static{this.\u0275fac=function(Un){return new(Un||Gt)}}static{this.\u0275mod=E.$C({type:Gt})}static{this.\u0275inj=E.G2t({imports:[a.iI.forChild(Ii),D.XE.forChild(Ii),a.iI]})}}return Gt})();var Dn=l(8455),Bi=l(367),Ui=l(5731),zi=l(4193),ls=l(3665),ut=l(7175),Rt=l(1993),yt=l(8389),tn=l(3843),Vn=l(7677),on=l(1683),Xn=l(4367);let qn=(()=>{class Gt{static{this.\u0275fac=function(Un){return new(Un||Gt)}}static{this.\u0275mod=E.$C({type:Gt})}static{this.\u0275inj=E.G2t({providers:[cn.R],imports:[Ti,t.MD,p.YN,p.X1,m.qP,w.Ss,e.Q_,a.iI,A.h,Dn.p,D.XE,Bi.m,Ui.i,zi.c,ls.t,ut.c,Rt.E,yt.w,tn.G,Vn.N,on.Y,Xn.N]})}}return Gt})()},2390:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>a,u:()=>t});var t=function(p){return p[p.None=0]="None",p[p.Ascending=1]="Ascending",p[p.Descending=2]="Descending",p}(t||{});class a{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(A,e){this.sort=t.None,this.sessionId=A.sessionId,this.scheme=A.scheme,this.created=A.created,this.expires=A.expires,this.renewed=A.renewed,this.user=A.user.name??A.user.identifier,this.link={identifier:A.user.identifier,routeForLink:e}}}},2467:(ot,ve,l)=>{"use strict";l.d(ve,{C:()=>a});var t=l(1360);let a=(()=>{class p{constructor(){this.map=new Map,this.map.set("name","Common.Name"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("secret","Common.Secret"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("allowedScopes","Common.AllowedScopes"),this.map.set("resources","Scopes.Resources.Label"),this.map.set("allowIntrospection","Apis.AllowIntrospection.Label"),this.map.set("customGrantTypes","Apis.CustomGrantTypes.Label"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(e,w){return this.map.get(e)??e}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275pipe=t.EJ8({name:"keyToString",type:p,pure:!0,standalone:!1})}}return p})()},2507:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var a=ot.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=a,a.create=function(){A||function w(){p="\x80",p+=t.util.fillString("\0",64),e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],A=!0}();var D=null,S=t.util.createBuffer(),g=new Array(64),k={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){k.messageLength=0,k.fullMessageLength=k.messageLength64=[];for(var Y=k.messageLengthSize/4,u=0;u<Y;++u)k.fullMessageLength.push(0);return S=t.util.createBuffer(),D={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},k}};return k.start(),k.update=function(Y,u){"utf8"===u&&(Y=t.util.encodeUtf8(Y));var E=Y.length;k.messageLength+=E,E=[E/4294967296>>>0,E>>>0];for(var B=k.fullMessageLength.length-1;B>=0;--B)k.fullMessageLength[B]+=E[1],E[1]=E[0]+(k.fullMessageLength[B]/4294967296>>>0),k.fullMessageLength[B]=k.fullMessageLength[B]>>>0,E[0]=E[1]/4294967296>>>0;return S.putBytes(Y),m(D,g,S),(S.read>2048||0===S.length())&&S.compact(),k},k.digest=function(){var Y=t.util.createBuffer();Y.putBytes(S.bytes()),Y.putBytes(p.substr(0,k.blockLength-(k.fullMessageLength[k.fullMessageLength.length-1]+k.messageLengthSize&k.blockLength-1)));for(var B,F=8*k.fullMessageLength[0],M=0;M<k.fullMessageLength.length-1;++M)Y.putInt32((F+=(B=8*k.fullMessageLength[M+1])/4294967296>>>0)>>>0),F=B>>>0;Y.putInt32(F);var W={h0:D.h0,h1:D.h1,h2:D.h2,h3:D.h3,h4:D.h4,h5:D.h5,h6:D.h6,h7:D.h7};m(W,g,Y);var y=t.util.createBuffer();return y.putInt32(W.h0),y.putInt32(W.h1),y.putInt32(W.h2),y.putInt32(W.h3),y.putInt32(W.h4),y.putInt32(W.h5),y.putInt32(W.h6),y.putInt32(W.h7),y},k};var p=null,A=!1,e=null;function m(D,S,g){for(var k,Y,V,F,M,W,y,z,Z,v,L,J,te=g.length();te>=64;){for(F=0;F<16;++F)S[F]=g.getInt32();for(;F<64;++F)S[F]=(k=((k=S[F-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10)+S[F-7]+(Y=((Y=S[F-15])>>>7|Y<<25)^(Y>>>18|Y<<14)^Y>>>3)+S[F-16]|0;for(M=D.h0,W=D.h1,y=D.h2,z=D.h3,Z=D.h4,v=D.h5,L=D.h6,J=D.h7,F=0;F<64;++F)V=M&W|y&(M^W),k=J+((Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7))+(L^Z&(v^L))+e[F]+S[F],J=L,L=v,v=Z,Z=z+k>>>0,z=y,y=W,W=M,M=k+(Y=((M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10))+V)>>>0;D.h0=D.h0+M|0,D.h1=D.h1+W|0,D.h2=D.h2+y|0,D.h3=D.h3+z|0,D.h4=D.h4+Z|0,D.h5=D.h5+v|0,D.h6=D.h6+L|0,D.h7=D.h7+J|0,te-=64}}},2510:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>k});var t=l(1360),a=l(8434),p=l(9417),A=l(8018);const e=["*"];function w(Y,u){1&Y&&(t.j41(0,"span"),t.nrm(1,"span",10),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&Y&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"Auditing.ShowFilters")," "))}function m(Y,u){1&Y&&(t.j41(0,"span"),t.nrm(1,"span",11),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&Y&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"Auditing.HideFilters")," "))}function D(Y,u){if(1&Y){const E=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(E);const V=t.XpG();return t.Njj(V.showAdvancedFilters=!V.showAdvancedFilters)}),t.DNE(1,w,4,3,"span",9)(2,m,4,3,"span",9),t.k0s()}if(2&Y){const E=t.XpG();t.R7$(),t.Y8G("ngIf",!E.showAdvancedFilters),t.R7$(),t.Y8G("ngIf",E.showAdvancedFilters)}}function S(Y,u){if(1&Y){const E=t.RV6();t.j41(0,"li",18)(1,"button",19),t.bIt("click",function(){const V=t.eBV(E).$implicit,F=t.XpG(2);return t.Njj(F.filter(V.name))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&Y){const E=u.$implicit,B=t.XpG(2);t.R7$(),t.Y8G("id","filter-option-"+E.name)("ngClass",B.isShowing(E.name)?"tw-btn":"tw-btn-link"),t.R7$(),t.SpI(" ",t.bMT(3,3,E.label)," ")}}function g(Y,u){if(1&Y&&(t.j41(0,"div",12)(1,"div",13),t.SdG(2),t.j41(3,"div",14)(4,"p",15),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"ul",16),t.DNE(8,S,4,5,"li",17),t.k0s()()(),t.nrm(9,"hr"),t.k0s()),2&Y){const E=t.XpG();t.Y8G("hidden",!E.showAdvancedFilters),t.R7$(5),t.JRh(t.bMT(6,3,"Auditing.Showing")),t.R7$(3),t.Y8G("ngForOf",E.availableFilters)}}let k=(()=>{class Y{constructor(){this.searchTermChange=new t.bkB,this.placeholder=null,this.onSearch=new t.bkB,this.showAdvancedFilters=!1,this.availableFilters=[],this.activeFilters=[],this.appliedFilters=new t.bkB}ngOnInit(){this.activeFilters=this.availableFilters.filter(E=>E.activeByDefault).map(E=>E.name)}search(E){this.onSearch.emit(E)}filter(E){if(this.activeFilters.includes(E)){const B=this.activeFilters.indexOf(E);this.activeFilters.splice(B,1)}else this.activeFilters.push(E);this.appliedFilters.emit(this.activeFilters)}isShowing(E){return this.activeFilters.includes(E)}static{this.\u0275fac=function(B){return new(B||Y)}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["app-search"]],inputs:{searchTerm:"searchTerm",placeholder:"placeholder",availableFilters:"availableFilters"},outputs:{searchTermChange:"searchTermChange",onSearch:"onSearch",appliedFilters:"appliedFilters"},standalone:!1,ngContentSelectors:e,decls:10,vars:7,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","class","tw-btn-link tw-btn-small tw-px-0 mt-2","type","button","aria-expanded","showAdvancedFilters",3,"click",4,"ngIf"],["id","toggleFilters","class","tw-mt-3 tw-mb-6","aria-labelledby","showFilterButton",3,"hidden",4,"ngIf"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],["class","tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-mr-2"],[3,"click","id","ngClass"]],template:function(B,V){1&B&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"label",2),t.nrm(3,"span",3),t.j41(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"input",5),t.bIt("ngModelChange",function(M){return V.searchTermChange.emit(M)})("keyup",function(M){return V.search(M)}),t.k0s()(),t.DNE(8,D,3,2,"button",6)(9,g,10,5,"div",7),t.k0s()),2&B&&(t.R7$(5),t.JRh(t.bMT(6,5,"Common.Search")),t.R7$(2),t.Y8G("ngModel",V.searchTerm)("placeholder",V.placeholder),t.R7$(),t.Y8G("ngIf",V.availableFilters.length>0),t.R7$(),t.Y8G("ngIf",V.availableFilters.length>0))},dependencies:[a.YU,a.Sq,a.bT,p.me,p.BC,p.vS,A.D9],encapsulation:2})}}return Y})()},2552:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>W});var t=l(1360),a=l(8434),p=l(9417),A=l(8018);const e=(y,z,Z)=>({"tw-btn-disabled":y,"tw-bg-green-200":z,"tw-bg-primary-200":Z}),w=(y,z,Z)=>({"tw-bg-green-500":y,"tw-bg-primary-500":z,"tw-bg-grey-200":Z}),m=(y,z,Z)=>({"tw-text-white":y,"tw-text-secondary-500":z,"tw-text-grey-400 group-hover:tw-text-grey-700":Z}),D=(y,z)=>({"fas fa-check tw-text-xl trans":y,"far fa-arrow-alt-circle-up tw-text-2xl":z}),S=(y,z,Z)=>({"tw-text-green-800":y,"tw-text-primary-800":z,"tw-text-navy-500":Z}),g=(y,z,Z)=>({"tw-text-green-600":y,"tw-text-primary-600":z,"tw-text-grey-600":Z}),k=(y,z,Z)=>({"tw-text-green-500":y,"tw-text-primary-500":z,"tw-text-grey-300":Z});function Y(y,z){1&y&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&y&&(t.R7$(),t.JRh(t.bMT(2,1,"Clients.Selected")))}let u=(()=>{class y{constructor(){this.select=new t.bkB}static{this.\u0275fac=function(v){return new(v||y)}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["app-type-option"]],inputs:{id:"id",btnId:"btnId",title:"title",summary:"summary",icon:"icon",selected:"selected",type:"type",activeType:"activeType",starterModeProtected:"starterModeProtected",disabled:"disabled"},outputs:{select:"select"},standalone:!1,decls:16,vars:50,consts:[[3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel","disabled"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],["id","iconBg",1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","iconTextSpan",3,"ngClass"],["id","checkIconSpan",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],["id","titleSpan",1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","summarySpan",1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],["id","iconSpan",3,"ngClass"],[1,"sr-only"]],template:function(v,L){1&v&&(t.j41(0,"li",0)(1,"input",1),t.bIt("click",function(){return L.select.emit(L.type)}),t.k0s(),t.j41(2,"label",2),t.bIt("click",function(){return L.select.emit(L.type)}),t.j41(3,"div",3)(4,"span",4),t.nrm(5,"span",5),t.k0s(),t.DNE(6,Y,3,3,"span",6),t.k0s(),t.j41(7,"div",7)(8,"span",8),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"span",9),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.j41(14,"div",10),t.nrm(15,"span",11),t.k0s()()()),2&v&&(t.FS9("id",L.id),t.R7$(),t.FS9("id",L.btnId),t.FS9("value",L.type),t.Y8G("ngModel",L.activeType)("disabled",L.disabled),t.R7$(),t.FS9("for",L.btnId),t.Y8G("ngClass",t.sMw(23,e,L.disabled,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected)),t.R7$(),t.Y8G("ngClass",t.sMw(27,w,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.Y8G("ngClass",t.sMw(31,m,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.Y8G("ngClass",t.l_i(35,D,!L.starterModeProtected,L.starterModeProtected)),t.R7$(),t.Y8G("ngIf",L.selected),t.R7$(2),t.Y8G("ngClass",t.sMw(38,S,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.SpI(" ",t.bMT(10,19,L.title)," "),t.R7$(2),t.Y8G("ngClass",t.sMw(42,g,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.SpI(" ",t.bMT(13,21,L.summary)," "),t.R7$(3),t.ZvI("",L.icon," tw-text-3xl tw-transition-all tw-ease-in-out"),t.Y8G("ngClass",t.sMw(46,k,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)))},dependencies:[a.YU,a.bT,p.me,p.Fm,p.BC,p.vS,A.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return y})();const E=(y,z)=>z.id;function B(y,z){1&y&&(t.j41(0,"h6",1),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&y&&(t.R7$(),t.JRh(t.bMT(2,1,"StarterMode.Basic")))}function V(y,z){if(1&y){const Z=t.RV6();t.j41(0,"div",1)(1,"app-type-option",3),t.bIt("select",function(L){t.eBV(Z);const J=t.XpG();return t.Njj(J.select.emit(L))}),t.k0s()()}if(2&y){const Z=z.$implicit,v=t.XpG();t.R7$(),t.Y8G("id",Z.id)("btnId",Z.btnId)("title",Z.title)("summary",Z.summary)("icon",Z.icon)("selected",Z.selectedTypes.includes(v.activeType))("type",Z.type)("summary",Z.summary)("disabled",Z.disabled)}}function F(y,z){if(1&y){const Z=t.RV6();t.j41(0,"div",1)(1,"app-type-option",5),t.bIt("select",function(L){t.eBV(Z);const J=t.XpG(2);return t.Njj(J.select.emit(L))}),t.k0s()()}if(2&y){const Z=z.$implicit,v=t.XpG(2);t.R7$(),t.Y8G("id",Z.id)("btnId",Z.btnId)("title",Z.title)("summary",Z.summary)("icon",Z.icon)("selected",v.activeType===Z.type)("type",Z.type)("summary",Z.summary)("starterModeProtected",v.isStarterMode)("disabled",Z.disabled)}}function M(y,z){if(1&y&&(t.j41(0,"h6",1),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"ul",4),t.Z7z(4,F,2,10,"div",1,E),t.k0s()),2&y){const Z=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,"StarterMode.Enterprise")),t.R7$(3),t.Dyx(Z.disabledOptions())}}let W=(()=>{class y{constructor(){this.select=new t.bkB}availableOptions(){return this.isStarterMode?this.options.filter(Z=>Z.starterMode):this.options}disabledOptions(){return this.isStarterMode?this.options.filter(Z=>!Z.starterMode):[]}static{this.\u0275fac=function(v){return new(v||y)}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["app-type-selector"]],inputs:{id:"id",options:"options",activeType:"activeType",isStarterMode:"isStarterMode"},outputs:{select:"select"},standalone:!1,decls:6,vars:2,consts:[["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","availableTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","disabled"],["id","disabledTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","starterModeProtected","disabled"]],template:function(v,L){1&v&&(t.j41(0,"div",0),t.DNE(1,B,3,3,"h6",1),t.j41(2,"ul",2),t.Z7z(3,V,2,9,"div",1,E),t.k0s(),t.DNE(5,M,6,3),t.k0s()),2&v&&(t.R7$(),t.vxM(L.isStarterMode?1:-1),t.R7$(2),t.Dyx(L.availableOptions()),t.R7$(2),t.vxM(L.isStarterMode?5:-1))},dependencies:[u,A.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return y})()},2571:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>w});var t=l(9417),a=l(8434),p=l(8018),A=l(1683),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[a.MD,t.YN,A.Y,p.h]})}}return m})()},2653:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>a});var t=l(1360);let a=(()=>{class p{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},2734:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>A});var t=l(3165),a=l(7263),p=l(1360);let A=(()=>{class e{buildParams(m,D,S,g,k,Y,u,E){let B=new t.Nl;return B=this.addStringParam(B,"auditAction",m?.auditAction),B=this.addStringParam(B,"subject",m?.subject),B=this.addStringParam(B,"resource",m?.resourceName),B=this.addStringParam(B,"source",m?.source),B=this.addAnyParam(B,"success",u),B=this.addStringParam(B,"sort",Y),B=this.addStringParam(B,"to",S),B=this.addStringParam(B,"from",D),B=this.addAnyParam(B,"page",g),B=this.addAnyParam(B,"pageSize",k),(0,a.hX)(E)||(B=this.addAnyParam(B,"bySubject",E)),B}addAnyParam(m,D,S){return(0,a.hX)(S)?m:m.append(D,String(S))}addStringParam(m,D,S){return(0,a.gP)(S)?m:m.append(D,S)}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275prov=p.jDH({token:e,factory:e.\u0275fac})}}return e})()},2758:(ot,ve,l)=>{var t=l(6589);l(7097);var a=t.asn1;ve.privateKeyValidator={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},ve.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},2771:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>p});var t=l(1413),a=l(6129);class p extends t.B{constructor(e=1/0,w=1/0,m=a.U){super(),this._bufferSize=e,this._windowTime=w,this._timestampProvider=m,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=w===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,w)}next(e){const{isStopped:w,_buffer:m,_infiniteTimeWindow:D,_timestampProvider:S,_windowTime:g}=this;w||(m.push(e),!D&&m.push(S.now()+g)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const w=this._innerSubscribe(e),{_infiniteTimeWindow:m,_buffer:D}=this,S=D.slice();for(let g=0;g<S.length&&!e.closed;g+=m?1:2)e.next(S[g]);return this._checkFinalizedStatuses(e),w}_trimBuffer(){const{_bufferSize:e,_timestampProvider:w,_buffer:m,_infiniteTimeWindow:D}=this,S=(D?1:2)*e;if(e<1/0&&S<m.length&&m.splice(0,m.length-S),!D){const g=w.now();let k=0;for(let Y=1;Y<m.length&&m[Y]<=g;Y+=2)k=Y;k&&m.splice(0,k+1)}}}},2806:(ot,ve,l)=>{"use strict";l.d(ve,{Al:()=>g,Aq:()=>Pe,Bu:()=>N,Fv:()=>D,GL:()=>w,Xt:()=>m,Yr:()=>R,Zu:()=>A,mc:()=>rt,x:()=>S});var t=l(1360);class a{constructor(vt,je){this.open=vt,this.close=je||vt}isManual(){return"manual"===this.open||"manual"===this.close}}const p={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function A(lt,vt=p){const je=(lt||"").trim();if(0===je.length)return[];const Ye=je.split(/\s+/).map(it=>it.split(":")).map(it=>{const Ve=vt[it[0]]||it;return new a(Ve[0],Ve[1])}),Ke=Ye.filter(it=>it.isManual());if(Ke.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Ke.length&&Ye.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ye}function w(lt,vt){const je=A(vt.triggers),Ye=vt.target;if(1===je.length&&je[0].isManual())return Function.prototype;const Ke=[],it=[],Ve=()=>{it.forEach(Be=>Ke.push(Be())),it.length=0};return je.forEach(Be=>{const Xe=Be.open===Be.close,Ue=Xe?vt.toggle:vt.show;if(!Xe&&Be.close&&vt.hide){const ct=Be.close,st=vt.hide;it.push(()=>lt.listen(Ye,ct,st))}Ue&&Ke.push(lt.listen(Ye,Be.open,()=>Ue(Ve)))}),()=>{Ke.forEach(Be=>Be())}}function m(lt,vt){return vt.outsideClick?lt.listen("document","click",je=>{vt.target&&vt.target.contains(je.target)||vt.targets&&vt.targets.some(Ye=>Ye.contains(je.target))||vt.hide&&vt.hide()}):Function.prototype}function D(lt,vt){return vt.outsideEsc?lt.listen("document","keyup.esc",je=>{vt.target&&vt.target.contains(je.target)||vt.targets&&vt.targets.some(Ye=>Ye.contains(je.target))||vt.hide&&vt.hide()}):Function.prototype}const S=typeof window<"u"&&window||{},g=S.document;var z=function(lt){return lt.isBs4="bs4",lt.isBs5="bs5",lt}(z||{});let Z;function v(){const lt=S.document.createElement("span");lt.innerText="testing bs version",lt.classList.add("d-none"),lt.classList.add("pl-1"),S.document.head.appendChild(lt);const vt=S.getComputedStyle(lt).paddingLeft;return vt&&parseFloat(vt)?(S.document.head.removeChild(lt),"bs4"):(S.document.head.removeChild(lt),"bs5")}function N(){return{isBs4:(Z||(Z=v()),"bs4"===Z),isBs5:(Z||(Z=v()),"bs5"===Z)}}function R(){return function(je,Ye){const Ke=` __${Ye}Value`;Object.defineProperty(je,Ye,{get(){return this[Ke]},set(it){const Ve=this[Ke];this[Ke]=it,Ve!==it&&this[Ye+"Change"]&&this[Ye+"Change"].emit(it)}})}}class Pe{static reflow(vt){}static getStyles(vt){let je=vt.ownerDocument.defaultView;return(!je||!je.opener)&&(je=S),je.getComputedStyle(vt)}static stackOverflowConfig(){const vt=function fe(){const lt=N(),vt=Object.keys(lt).find(je=>lt[je]);return z[vt]}();return{crossorigin:"anonymous",integrity:"bs5"===vt?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===vt?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const Te={},We=typeof console>"u"||!("warn"in console);function rt(lt){!(0,t.naY)()||We||lt in Te||(Te[lt]=!0,console.warn(lt))}},2858:(ot,ve,l)=>{"use strict";l.d(ve,{AU:()=>L,zI:()=>te});var t=l(6799),a=l(9417),p=l(4414),A=l(1413),e=l(590),w=l(1360),m=l(5794),D=l(8018),S=l(8434);function g(N,fe){if(1&N&&(w.j41(0,"li",10)(1,"label",22),w.nrm(2,"input",23),w.j41(3,"span"),w.EFF(4),w.nI1(5,"translate"),w.k0s()()()),2&N){const oe=w.XpG();w.R7$(2),w.Y8G("value",oe.CertificateAction.DoNotSet),w.R7$(2),w.JRh(w.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function k(N,fe){if(1&N&&(w.j41(0,"li",10)(1,"label",24),w.nrm(2,"input",25),w.j41(3,"span"),w.EFF(4),w.nI1(5,"translate"),w.k0s()()()),2&N){const oe=w.XpG();w.R7$(2),w.Y8G("value",oe.CertificateAction.UseExisting),w.R7$(2),w.JRh(w.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function Y(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"tr")(1,"td",39),w.EFF(2),w.k0s(),w.j41(3,"td")(4,"button",40),w.bIt("click",function(){const Pe=w.eBV(oe).$implicit,Te=w.XpG(5);return w.Njj(Te.deleteCert(Pe))}),w.EFF(5),w.nrm(6,"span",41),w.j41(7,"span",37),w.EFF(8),w.nI1(9,"translate"),w.k0s()()()()}if(2&N){const oe=fe.$implicit,R=w.XpG(5);w.R7$(2),w.SpI(" ",null==oe?null:oe.subject," "),w.R7$(3),w.SpI(" ",R.deleteDisabled," "),w.R7$(3),w.JRh(w.bMT(9,3,"Clients.Saml.DeleteCert"))}}function u(N,fe){if(1&N&&(w.qex(0),w.DNE(1,Y,10,5,"tr",38),w.bVm()),2&N){const oe=w.XpG(4);w.R7$(),w.Y8G("ngForOf",oe.data.certificates.SigningCertificates)}}function E(N,fe){if(1&N){const oe=w.RV6();w.qex(0),w.j41(1,"tr")(2,"td",39),w.EFF(3),w.k0s(),w.j41(4,"td")(5,"button",40),w.bIt("click",function(){w.eBV(oe);const Pe=w.XpG(4);return w.Njj(Pe.deleteCert(null))}),w.EFF(6),w.nrm(7,"span",41),w.j41(8,"span",37),w.EFF(9),w.nI1(10,"translate"),w.k0s()()()(),w.bVm()}if(2&N){const oe=w.XpG(4);w.R7$(3),w.SpI(" ",oe.data.certificates.EncryptionCertificate.subject," "),w.R7$(3),w.SpI(" ",oe.deleteDisabled," "),w.R7$(3),w.JRh(w.bMT(10,3,"Clients.Saml.DeleteCert"))}}function B(N,fe){if(1&N&&(w.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),w.EFF(4),w.nI1(5,"translate"),w.k0s(),w.j41(6,"th",36)(7,"span",37),w.EFF(8),w.nI1(9,"translate"),w.k0s()()()(),w.j41(10,"tbody"),w.DNE(11,u,2,1,"ng-container",13)(12,E,11,5,"ng-container",13),w.k0s()()),2&N){const oe=w.XpG(3);w.R7$(4),w.JRh(w.bMT(5,4,"Common.Subject")),w.R7$(4),w.JRh(w.bMT(9,6,"Common.Actions")),w.R7$(3),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Request),w.R7$(),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Response)}}function V(N,fe){if(1&N&&(w.j41(0,"div"),w.DNE(1,B,13,8,"table",33),w.k0s()),2&N){const oe=w.XpG(2);w.R7$(),w.Y8G("ngIf",oe.activeTab==oe.ActiveTab.Request?oe.data.certificates.SigningCertificates.length>0:oe.data.certificates.EncryptionCertificate)}}function F(N,fe){1&N&&(w.j41(0,"div",42)(1,"div"),w.EFF(2),w.nI1(3,"translate"),w.k0s()()),2&N&&(w.R7$(2),w.JRh(w.bMT(3,1,"Clients.NoCertificates")))}function M(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(oe);const Pe=w.XpG(3);return w.Njj(Pe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&N&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.AddCert")))}function W(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(oe);const Pe=w.XpG(3);return w.Njj(Pe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&N&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function y(N,fe){if(1&N&&(w.qex(0),w.DNE(1,M,3,3,"button",32)(2,W,3,3,"button",32),w.bVm()),2&N){const oe=w.XpG(2);w.R7$(),w.Y8G("ngIf",!oe.data.certificates.EncryptionCertificate||""===oe.data.certificates.EncryptionCertificate),w.R7$(),w.Y8G("ngIf",oe.data.certificates.EncryptionCertificate&&""!==oe.data.certificates.EncryptionCertificate)}}function z(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(oe);const Pe=w.XpG(2);return w.Njj(Pe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&N&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.AddCert")))}function Z(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),w.bIt("click",function(){w.eBV(oe);const Pe=w.XpG();return w.Njj(Pe.activeTab=Pe.ActiveTab.Request)}),w.EFF(4),w.nI1(5,"translate"),w.k0s()(),w.j41(6,"li",27)(7,"button",29),w.bIt("click",function(){w.eBV(oe);const Pe=w.XpG();return w.Njj(Pe.activeTab=Pe.ActiveTab.Response)}),w.EFF(8),w.nI1(9,"translate"),w.k0s()()(),w.DNE(10,V,2,1,"div",13)(11,F,4,3,"div",30),w.j41(12,"div",31),w.DNE(13,y,3,2,"ng-container",13)(14,z,3,3,"button",32),w.k0s()()}if(2&N){const oe=w.XpG();w.R7$(3),w.AVh("active",oe.activeTab===oe.ActiveTab.Request),w.R7$(),w.JRh(w.bMT(5,10,"Clients.Saml.Request")),w.R7$(3),w.AVh("active",oe.activeTab===oe.ActiveTab.Response),w.R7$(),w.JRh(w.bMT(9,12,"Clients.Saml.Response")),w.R7$(2),w.Y8G("ngIf",oe.data.certificates),w.R7$(),w.Y8G("ngIf",oe.activeTab==oe.ActiveTab.Request&&0===oe.data.certificates.SigningCertificates.length||oe.activeTab==oe.ActiveTab.Response&&!oe.data.certificates.EncryptionCertificate),w.R7$(2),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Response),w.R7$(),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Request)}}function v(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),w.mxI("ngModelChange",function(Pe){w.eBV(oe);const Te=w.XpG();return w.DH7(Te.data.rememberCertificateAction,Pe)||(Te.data.rememberCertificateAction=Pe),w.Njj(Pe)}),w.k0s(),w.j41(5,"span",48),w.EFF(6),w.nI1(7,"translate"),w.k0s()()()()()}if(2&N){const oe=w.XpG();w.R7$(4),w.R50("ngModel",oe.data.rememberCertificateAction),w.R7$(2),w.SpI(" ",w.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var L=function(N){return N[N.DoNotSet=0]="DoNotSet",N[N.UseExisting=1]="UseExisting",N[N.ManuallyCreate=2]="ManuallyCreate",N}(L||{}),J=function(N){return N[N.Request=0]="Request",N[N.Response=1]="Response",N}(J||{});let te=(()=>{class N extends t.P{get data(){return this._selectableImportResource}set data(oe){this._selectableImportResource=oe}constructor(oe,R,Pe,Te){super(),this.fb=oe,this.changeDetector=R,this.toastr=Pe,this.translate=Te,this.CertificateAction=L,this.ActiveTab=J}ngOnInit(){if(this.form=this.fb.group({certificateAction:[L.UseExisting,a.k0.required]}),this.data){let R;R=this.data.existingHasCertificates?this.data.certificateAction===L.ManuallyCreate?L.ManuallyCreate:L.UseExisting:L.DoNotSet,this.data.certificateAction=R,this.form.get("certificateAction").setValue(R),this.displayResourceType=e.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===L.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=J.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=J.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=J.Response))),this.form.valueChanges.subscribe(()=>{const oe=this.form.value.certificateAction;this.data.certificateAction=oe,oe===L.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=J.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new A.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(oe=>{this.activeTab===J.Request?(this.stripContentTypeFromData(oe),this.data.certificates.SigningCertificates.some(R=>R.base64Cert===oe.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(oe)):(this.stripContentTypeFromData(oe),this.data.certificates.EncryptionCertificate=oe)}),this.openModal(p.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(oe){const R=oe.base64Cert.split("base64,");R.length>1&&(oe.base64Cert=R[1])}deleteCert(oe){if(this.activeTab===J.Request){const R=this.data.certificates.SigningCertificates.indexOf(oe);this.data.certificates.SigningCertificates.splice(R,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===L.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===L.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===L.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===L.DoNotSet||this.data.certificateAction===L.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(R){return new(R||N)(w.rXU(a.ze),w.rXU(w.gRc),w.rXU(m.tw),w.rXU(D.c$))}}static{this.\u0275cmp=w.VBU({type:N,selectors:[["app-import-certificates"]],standalone:!1,features:[w.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(R,Pe){if(1&R){const Te=w.RV6();w.j41(0,"div",1)(1,"h2",2)(2,"span",3),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"span",4),w.EFF(6),w.nI1(7,"translate"),w.k0s()(),w.j41(8,"div",5)(9,"p",6),w.EFF(10),w.nI1(11,"translate"),w.k0s()(),w.j41(12,"form",7)(13,"ul",8),w.DNE(14,g,6,4,"li",9)(15,k,6,4,"ng-template",null,0,w.C5r),w.j41(17,"li",10)(18,"label",11),w.nrm(19,"input",12),w.j41(20,"span"),w.EFF(21),w.nI1(22,"translate"),w.k0s()()()()(),w.DNE(23,Z,15,14,"div",13)(24,v,8,4,"div",14),w.k0s(),w.nrm(25,"div",15),w.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),w.bIt("click",function(){return w.eBV(Te),w.Njj(Pe.goNext())}),w.EFF(30),w.nI1(31,"translate"),w.k0s(),w.j41(32,"button",20),w.bIt("click",function(){return w.eBV(Te),w.Njj(Pe.back())}),w.EFF(33),w.nI1(34,"translate"),w.k0s()(),w.j41(35,"button",21),w.bIt("click",function(){return w.eBV(Te),w.Njj(Pe.cancel())}),w.EFF(36),w.nI1(37,"translate"),w.k0s()()()}if(2&R){const Te=w.sdS(16);w.R7$(3),w.SpI("",w.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),w.R7$(3),w.Lme("",null==Pe.data?null:Pe.data.displayName," (",w.bMT(7,17,"Clients.Import.Wizard.Secrets."+Pe.displayResourceType),")"),w.R7$(4),w.JRh(w.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),w.R7$(2),w.Y8G("formGroup",Pe.form),w.R7$(2),w.Y8G("ngIf",!(null!=Pe.data&&Pe.data.existingHasCertificates))("ngIfElse",Te),w.R7$(5),w.Y8G("value",Pe.CertificateAction.ManuallyCreate),w.R7$(2),w.JRh(w.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),w.R7$(2),w.Y8G("ngIf",Pe.showCertificatePicker),w.R7$(),w.Y8G("ngIf",!Pe.showCertificatePicker),w.R7$(5),w.Y8G("disabled",Pe.disableNext()),w.R7$(),w.JRh(w.bMT(31,23,"Common.Next")),w.R7$(3),w.JRh(w.bMT(34,25,"Common.Back")),w.R7$(3),w.JRh(w.bMT(37,27,"Common.Cancel"))}},dependencies:[S.Sq,S.bT,a.qT,a.me,a.Zm,a.Fm,a.BC,a.cb,a.vS,a.j4,a.JD,D.D9],encapsulation:2})}}return N})()},2865:(ot,ve,l)=>{"use strict";l.d(ve,{Rz:()=>F,DF:()=>mt});var t=l(2806),a=l(1360),p=l(9377),A=l(1413),e=l(7786),w=l(3726),m=l(7673),D=l(6780),S=l(8359);const g={schedule(he){let ue=requestAnimationFrame,P=cancelAnimationFrame;const{delegate:q}=g;q&&(ue=q.requestAnimationFrame,P=q.cancelAnimationFrame);const De=ue(Ae=>{P=void 0,he(Ae)});return new S.yU(()=>P?.(De))},requestAnimationFrame(...he){const{delegate:ue}=g;return(ue?.requestAnimationFrame||requestAnimationFrame)(...he)},cancelAnimationFrame(...he){const{delegate:ue}=g;return(ue?.cancelAnimationFrame||cancelAnimationFrame)(...he)},delegate:void 0};var Y=l(9687);const E=new class u extends Y.q{flush(ue){let P;this._active=!0,ue?P=ue.id:(P=this._scheduled,this._scheduled=void 0);const{actions:q}=this;let De;ue=ue||q.shift();do{if(De=ue.execute(ue.state,ue.delay))break}while((ue=q[0])&&ue.id===P&&q.shift());if(this._active=!1,De){for(;(ue=q[0])&&ue.id===P&&q.shift();)ue.unsubscribe();throw De}}}(class k extends D.R{constructor(ue,P){super(ue,P),this.scheduler=ue,this.work=P}requestAsyncId(ue,P,q=0){return null!==q&&q>0?super.requestAsyncId(ue,P,q):(ue.actions.push(this),ue._scheduled||(ue._scheduled=g.requestAnimationFrame(()=>ue.flush(void 0))))}recycleAsyncId(ue,P,q=0){var De;if(null!=q?q>0:this.delay>0)return super.recycleAsyncId(ue,P,q);const{actions:Ae}=ue;null!=P&&P===ue._scheduled&&(null===(De=Ae[Ae.length-1])||void 0===De?void 0:De.id)!==P&&(g.cancelAnimationFrame(P),ue._scheduled=void 0)}});var V=function(he){return he.top="top",he.bottom="bottom",he.left="left",he.right="right",he.auto="auto",he.end="right",he.start="left",he["top left"]="top left",he["top right"]="top right",he["right top"]="right top",he["right bottom"]="right bottom",he["bottom right"]="bottom right",he["bottom left"]="bottom left",he["left bottom"]="left bottom",he["left top"]="left top",he["top start"]="top left",he["top end"]="top right",he["end top"]="right top",he["end bottom"]="right bottom",he["bottom end"]="bottom right",he["bottom start"]="bottom left",he["start bottom"]="start bottom",he["start top"]="left top",he}(V||{}),F=function(he){return he.top="top",he.bottom="bottom",he.left="start",he.right="end",he.auto="auto",he.end="end",he.start="start",he["top left"]="top start",he["top right"]="top end",he["right top"]="end top",he["right bottom"]="end bottom",he["bottom right"]="bottom end",he["bottom left"]="bottom start",he["left bottom"]="start bottom",he["left top"]="start top",he["top start"]="top start",he["top end"]="top end",he["end top"]="end top",he["end bottom"]="end bottom",he["bottom end"]="bottom end",he["bottom start"]="bottom start",he["start bottom"]="start bottom",he["start top"]="start top",he}(F||{});function M(he,ue){if(1!==he.nodeType)return[];const q=he.ownerDocument.defaultView?.getComputedStyle(he,null);return ue?q&&q[ue]:q}function W(he){if(!he)return document.documentElement;let q,P=he?.offsetParent;for(;null===P&&he.nextElementSibling&&q!==he.nextElementSibling;)q=he.nextElementSibling,P=q.offsetParent;const De=P&&P.nodeName;return De&&"BODY"!==De&&"HTML"!==De?P&&-1!==["TH","TD","TABLE"].indexOf(P.nodeName)&&"static"===M(P,"position")?W(P):P:q?q.ownerDocument.documentElement:document.documentElement}function z(he){return null!==he.parentNode?z(he.parentNode):he}function Z(he,ue){if(!(he&&he.nodeType&&ue&&ue.nodeType))return document.documentElement;const P=he.compareDocumentPosition(ue)&Node.DOCUMENT_POSITION_FOLLOWING,q=P?he:ue,De=P?ue:he,Ae=document.createRange();Ae.setStart(q,0),Ae.setEnd(De,0);const et=Ae.commonAncestorContainer;if(he!==et&&ue!==et||q.contains(De))return function y(he){const{nodeName:ue}=he;return"BODY"!==ue&&("HTML"===ue||W(he.firstElementChild)===he)}(et)?et:W(et);const _t=z(he);return _t.host?Z(_t.host,ue):Z(he,z(ue).host)}function v(he){if(!he||!he.parentElement)return document.documentElement;let ue=he.parentElement;for(;ue?.parentElement&&"none"===M(ue,"transform");)ue=ue.parentElement;return ue||document.documentElement}function L(he,ue){const P="x"===ue?"Left":"Top",q="Left"===P?"Right":"Bottom";return parseFloat(he[`border${P}Width`])+parseFloat(he[`border${q}Width`])}function J(he,ue,P){return Math.max(ue[`offset${he}`],ue[`scroll${he}`],P[`client${he}`],P[`offset${he}`],P[`scroll${he}`],0)}function te(he){const ue=he.body,P=he.documentElement;return{height:J("Height",ue,P),width:J("Width",ue,P)}}function N(he){return{...he,right:(he.left||0)+he.width,bottom:(he.top||0)+he.height}}function oe(he){return"number"==typeof he||"[object Number]"===Object.prototype.toString.call(he)}function R(he){const ue=he.getBoundingClientRect();if(!(ue&&oe(ue.top)&&oe(ue.left)&&oe(ue.bottom)&&oe(ue.right)))return ue;const P={left:ue.left,top:ue.top,width:ue.right-ue.left,height:ue.bottom-ue.top},q="HTML"===he.nodeName?te(he.ownerDocument):void 0,De=q?.width||he.clientWidth||oe(ue.right)&&oe(P.left)&&ue.right-P.left||0,Ae=q?.height||he.clientHeight||oe(ue.bottom)&&oe(P.top)&&ue.bottom-P.top||0;let et=he.offsetWidth-De,_t=he.offsetHeight-Ae;if(et||_t){const Ht=M(he);et-=L(Ht,"x"),_t-=L(Ht,"y"),P.width-=et,P.height-=_t}return N(P)}function Pe(he,ue,P=!1){const q="HTML"===ue.nodeName,De=R(he),Ae=R(ue),et=M(ue),_t=parseFloat(et.borderTopWidth),Ht=parseFloat(et.borderLeftWidth);P&&q&&(Ae.top=Math.max(Ae.top??0,0),Ae.left=Math.max(Ae.left??0,0));const nn=N({top:(De.top??0)-(Ae.top??0)-_t,left:(De.left??0)-(Ae.left??0)-Ht,width:De.width,height:De.height});if(nn.marginTop=0,nn.marginLeft=0,q){const wn=parseFloat(et.marginTop),Kn=parseFloat(et.marginLeft);oe(nn.top)&&(nn.top-=_t-wn),oe(nn.bottom)&&(nn.bottom-=_t-wn),oe(nn.left)&&(nn.left-=Ht-Kn),oe(nn.right)&&(nn.right-=Ht-Kn),nn.marginTop=wn,nn.marginLeft=Kn}return nn}function Te(he){return"HTML"===he.nodeName?he:he.parentNode||he.host}function We(he){if(!he)return document.body;switch(he.nodeName){case"HTML":case"BODY":return he.ownerDocument.body;case"#document":return he.body}const{overflow:ue,overflowX:P,overflowY:q}=M(he);return/(auto|scroll|overlay)/.test(String(ue)+String(q)+String(P))?he:We(Te(he))}function rt(he,ue="top"){const P="top"===ue?"scrollTop":"scrollLeft",q=he.nodeName;return"BODY"===q||"HTML"===q?(he.ownerDocument.scrollingElement||he.ownerDocument.documentElement)[P]:he[P]}function vt(he){const ue=he.nodeName;return"BODY"!==ue&&"HTML"!==ue&&("fixed"===M(he,"position")||vt(Te(he)))}function je(he,ue,P=0,q,De=!1){let Ae={top:0,left:0};const et=De?v(he):Z(he,ue);if("viewport"===q)Ae=function lt(he,ue=!1){const P=he.ownerDocument.documentElement,q=Pe(he,P),De=Math.max(P.clientWidth,window.innerWidth||0),Ae=Math.max(P.clientHeight,window.innerHeight||0),et=ue?0:rt(P),_t=ue?0:rt(P,"left");return N({top:et-Number(q?.top)+Number(q?.marginTop),left:_t-Number(q?.left)+Number(q?.marginLeft),width:De,height:Ae})}(et,De);else{let _t;"scrollParent"===q?(_t=We(Te(ue)),"BODY"===_t.nodeName&&(_t=he.ownerDocument.documentElement)):_t="window"===q?he.ownerDocument.documentElement:q;const Ht=Pe(_t,et,De);if(Ht&&"HTML"===_t.nodeName&&!vt(et)){const{height:nn,width:wn}=te(he.ownerDocument);oe(Ae.top)&&oe(Ht.top)&&oe(Ht.marginTop)&&(Ae.top+=Ht.top-Ht.marginTop),oe(Ae.top)&&(Ae.bottom=Number(nn)+Number(Ht.top)),oe(Ae.left)&&oe(Ht.left)&&oe(Ht.marginLeft)&&(Ae.left+=Ht.left-Ht.marginLeft),oe(Ae.top)&&(Ae.right=Number(wn)+Number(Ht.left))}else Ht&&(Ae=Ht)}return oe(Ae.left)&&(Ae.left+=P),oe(Ae.top)&&(Ae.top+=P),oe(Ae.right)&&(Ae.right-=P),oe(Ae.bottom)&&(Ae.bottom-=P),Ae}function Ye({width:he,height:ue}){return he*ue}function Ke(he,ue,P,q,De=["top","bottom","right","left"],Ae="viewport",et=0){if(-1===he.indexOf("auto"))return he;const _t=je(P,q,et,Ae),Ht={top:{width:_t?.width??0,height:(ue?.top??0)-(_t?.top??0)},right:{width:(_t?.right??0)-(ue?.right??0),height:_t?.height??0},bottom:{width:_t?.width??0,height:(_t?.bottom??0)-(ue?.bottom??0)},left:{width:(ue.left??0)-(_t?.left??0),height:_t?.height??0}},nn=Object.keys(Ht).map(Ot=>({position:Ot,...Ht[Ot],area:Ye(Ht[Ot])})).sort((Ot,Gn)=>Gn.area-Ot.area);let wn=nn.filter(({width:Ot,height:Gn})=>Ot>=P.clientWidth&&Gn>=P.clientHeight);wn=wn.filter(({position:Ot})=>De.some(Gn=>Gn===Ot));const Kn=wn.length>0?wn[0].position:nn[0].position,ei=he.split(" ")[1];return P.className=P.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,t.Bu)().isBs5?F[Kn]:Kn}`),Kn+(ei?`-${ei}`:"")}const Xe=(he,ue=0)=>he?parseFloat(he):ue;function Ue(he){const P=he.ownerDocument.defaultView?.getComputedStyle(he),q=Xe(P?.marginTop)+Xe(P?.marginBottom),De=Xe(P?.marginLeft)+Xe(P?.marginRight);return{width:Number(he.offsetWidth)+De,height:Number(he.offsetHeight)+q}}function ct(he,ue,P){return Pe(ue,P?v(he):Z(he,ue),P)}function st(he,ue,P){const q=P.split(" ")[0],De=Ue(he),Ae={width:De.width,height:De.height},et=-1!==["right","left"].indexOf(q),_t=et?"top":"left",Ht=et?"left":"top",nn=et?"height":"width",wn=et?"width":"height";return Ae[_t]=(ue[_t]??0)+ue[nn]/2-De[nn]/2,Ae[Ht]=q===Ht?(ue[Ht]??0)-De[wn]:ue[function Ve(he){const ue={left:"right",right:"left",bottom:"top",top:"bottom"};return he.replace(/left|right|bottom|top/g,P=>ue[P])}(Ht)]??0,Ae}function Qe(he,ue){return!!he.modifiers[ue]?.enabled}const ne={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function K(he,ue){return!!(0,t.Bu)().isBs5&&ne[ue].includes(he)}function o(he,ue,P){!he||!ue||Object.keys(ue).forEach(q=>{let De="";-1!==["width","height","top","right","bottom","left"].indexOf(q)&&function fe(he){return""!==he&&!isNaN(parseFloat(he))&&isFinite(Number(he))}(ue[q])&&(De="px"),P?P.setStyle(he,q,`${String(ue[q])}${De}`):he.style[q]=String(ue[q])+De})}function dt(he){let ue=he.offsets.target;const P=he.instance.target.querySelector(".arrow");if(!P)return he;const q=-1!==["left","right"].indexOf(he.placement.split(" ")[0]),De=q?"height":"width",Ae=q?"Top":"Left",et=Ae.toLowerCase(),_t=q?"left":"top",Ht=q?"bottom":"right",nn=Ue(P)[De],wn=he.placement.split(" ")[1];(he.offsets.host[Ht]??0)-nn<(ue[et]??0)&&(ue[et]-=(ue[et]??0)-((he.offsets.host[Ht]??0)-nn)),Number(he.offsets.host[et])+Number(nn)>(ue[Ht]??0)&&(ue[et]+=Number(he.offsets.host[et])+Number(nn)-Number(ue[Ht])),ue=N(ue);const Kn=M(he.instance.target),ei=parseFloat(Kn[`margin${Ae}`])||0,Ot=parseFloat(Kn[`border${Ae}Width`])||0;let Gn;if(wn){const Sn=parseFloat(Kn.borderRadius)||0,In=Number(ei+Ot+Sn);Gn=et===wn?Number(he.offsets.host[et])+In:Number(he.offsets.host[et])+Number(he.offsets.host[De]-In)}else Gn=Number(he.offsets.host[et])+Number(he.offsets.host[De]/2-nn/2);let Qt=Gn-(ue[et]??0)-ei-Ot;return Qt=Math.max(Math.min(ue[De]-(nn+5),Qt),0),he.offsets.arrow={[et]:Math.round(Qt),[_t]:""},he.instance.arrow=P,he}function gt(he){if(he.offsets.target=N(he.offsets.target),!Qe(he.options,"flip"))return he.offsets.target={...he.offsets.target,...st(he.instance.target,he.offsets.host,he.placement)},he;const ue=je(he.instance.target,he.instance.host,0,"viewport",!1);let P=he.placement.split(" ")[0],q=he.placement.split(" ")[1]||"";const _t=Ke("auto",he.offsets.host,he.instance.target,he.instance.host,he.options.allowedPositions),Ht=[P,_t];return Ht.forEach((nn,wn)=>{if(P!==nn||Ht.length===wn+1)return;P=he.placement.split(" ")[0];const Kn="left"===P&&Math.floor(he.offsets.target.right??0)>Math.floor(he.offsets.host.left??0)||"right"===P&&Math.floor(he.offsets.target.left??0)<Math.floor(he.offsets.host.right??0)||"top"===P&&Math.floor(he.offsets.target.bottom??0)>Math.floor(he.offsets.host.top??0)||"bottom"===P&&Math.floor(he.offsets.target.top??0)<Math.floor(he.offsets.host.bottom??0),ei=Math.floor(he.offsets.target.left??0)<Math.floor(ue.left??0),Ot=Math.floor(he.offsets.target.right??0)>Math.floor(ue.right??0),Gn=Math.floor(he.offsets.target.top??0)<Math.floor(ue.top??0),Qt=Math.floor(he.offsets.target.bottom??0)>Math.floor(ue.bottom??0),Sn="left"===P&&ei||"right"===P&&Ot||"top"===P&&Gn||"bottom"===P&&Qt,In=-1!==["top","bottom"].indexOf(P),rs=In&&"left"===q&&ei||In&&"right"===q&&Ot||!In&&"left"===q&&Gn||!In&&"right"===q&&Qt;(Kn||Sn||rs)&&((Kn||Sn)&&(P=Ht[wn+1]),rs&&(q=function Be(he){return"right"===he?"left":"left"===he?"right":he}(q)),he.placement=P+(q?` ${q}`:""),he.offsets.target={...he.offsets.target,...st(he.instance.target,he.offsets.host,he.placement)})}),he}function Tn(he){if(!Qe(he.options,"preventOverflow"))return he;const ue="transform",P=he.instance.target.style,{top:q,left:De,[ue]:Ae}=P;P.top="",P.left="",P[ue]="";const et=je(he.instance.target,he.instance.host,0,he.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);P.top=q,P.left=De,P[ue]=Ae;const Ht={primary(nn){let wn=he.offsets.target[nn];return(he.offsets.target[nn]??0)<(et[nn]??0)&&(wn=Math.max(he.offsets.target[nn]??0,et[nn]??0)),{[nn]:wn}},secondary(nn){const wn="right"===nn,Kn=wn?"left":"top";let Ot=he.offsets.target[Kn];return(he.offsets.target[nn]??0)>(et[nn]??0)&&(Ot=Math.min(he.offsets.target[Kn]??0,(et[nn]??0)-he.offsets.target[wn?"width":"height"])),{[Kn]:Ot}}};return["left","right","top","bottom"].forEach(nn=>{const wn=-1!==["left","top","start"].indexOf(nn)?Ht.primary:Ht.secondary;he.offsets.target={...he.offsets.target,...wn(nn)}}),he}function Wn(he){const ue=he.placement,P=ue.split(" ")[0],q=ue.split(" ")[1];if(q){const{host:De,target:Ae}=he.offsets,et=-1!==["bottom","top"].indexOf(P),_t=et?"left":"top",Ht=et?"width":"height",nn={start:{[_t]:De[_t]},end:{[_t]:(De[_t]??0)+De[Ht]-Ae[Ht]}};he.offsets.target={...Ae,[_t]:_t===q?nn.start[_t]:nn.end[_t]}}return he}const Ln=new class en{position(ue,P){return this.offset(ue,P)}offset(ue,P){return ct(P,ue)}positionElements(ue,P,q,De,Ae){const et=[gt,Wn,Tn,dt],Ht=function qt(he,ue,P,q){if(!he||!ue)return;const De=ct(he,ue);!P.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!P.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(P="auto");const Ae=!!P.match(/auto/g);let et=P.match(/auto\s(left|right|top|bottom|start|end)/)?P.split(" ")[1]||"auto":P;const _t=et.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return _t&&(et=_t[1]+(_t[2]?` ${_t[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(et)&&(et="auto"),et=Ke(et,De,he,ue,q?q.allowedPositions:void 0),{options:q||{modifiers:{}},instance:{target:he,host:ue,arrow:void 0},offsets:{target:st(he,De,et),host:De,arrow:void 0},positionFixed:!1,placement:et,placementAuto:Ae}}(P,ue,V[q],Ae);if(Ht)return et.reduce((nn,wn)=>wn(nn),Ht)}};function ni(he,ue,P,q,De,Ae){const et=Ln.positionElements(he,ue,P,q,De);if(!et)return;const _t=function it(he){return{width:he.offsets.target.width,height:he.offsets.target.height,left:Math.floor(he.offsets.target.left??0),top:Math.round(he.offsets.target.top??0),bottom:Math.round(he.offsets.target.bottom??0),right:Math.floor(he.offsets.target.right??0)}}(et);o(ue,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${_t.left}px, ${_t.top}px, 0px)`},Ae),et.instance.arrow&&o(et.instance.arrow,et.offsets.arrow,Ae),function ge(he,ue){const P=he.instance.target;let q=P.className;const De=(0,t.Bu)().isBs5?F[he.placement]:he.placement;he.placementAuto&&(q=q.replace(/bs-popover-auto/g,`bs-popover-${De}`),q=q.replace(/ms-2|me-2|mb-2|mt-2/g,""),q=q.replace(/bs-tooltip-auto/g,`bs-tooltip-${De}`),q=q.replace(/\sauto/g,` ${De}`),-1!==q.indexOf("popover")&&(q=q+" "+function de(he){return(0,t.Bu)().isBs5?K(he,"end")?"ms-2":K(he,"start")?"me-2":K(he,"top")?"mb-2":K(he,"bottom")?"mt-2":"":""}(De)),-1!==q.indexOf("popover")&&-1===q.indexOf("popover-auto")&&(q+=" popover-auto"),-1!==q.indexOf("tooltip")&&-1===q.indexOf("tooltip-auto")&&(q+=" tooltip-auto")),q=q.replace(/left|right|top|bottom|end|start/g,`${De.split(" ")[0]}`),ue?ue.setAttribute(P,"class",q):P.className=q}(et,Ae)}let mt=(()=>{class he{constructor(P,q,De){this.update$$=new A.B,this.positionElements=new Map,this.isDisabled=!1,(0,p.UE)(De)&&P.runOutsideAngular(()=>{this.triggerEvent$=(0,e.h)((0,w.R)(window,"scroll",{passive:!0}),(0,w.R)(window,"resize",{passive:!0}),(0,m.of)(0,E),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Ae=>{ni(Jt(Ae.target),Jt(Ae.element),Ae.attachment,Ae.appendToBody,this.options,q.createRenderer(null,null))})})})}position(P){this.addPositionElement(P)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(P){this.positionElements.set(Jt(P.element),P)}calcPosition(){this.update$$.next(null)}deletePositionElement(P){this.positionElements.delete(Jt(P))}setOptions(P){this.options=P}static{this.\u0275fac=function(q){return new(q||he)(a.KVO(a.SKi),a.KVO(a._9s),a.KVO(a.Agw))}}static{this.\u0275prov=a.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}}return he})();function Jt(he){return"string"==typeof he?document.querySelector(he):he instanceof a.aKT?he.nativeElement:he??null}},2880:(ot,ve,l)=>{var t=l(6589);if(l(7097),l(3364),l(1817),l(8788),l(3697),l(1675),l(812),typeof a>"u")var a=t.jsbn.BigInteger;var p=t.util.isNodejs?l(310):null,A=t.asn1,e=t.util;t.pki=t.pki||{},ot.exports=t.pki.rsa=t.rsa=t.rsa||{};var w=t.pki,m=[6,4,2,4,2,4,6,2],D={name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},S={name:"RSAPrivateKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},g={name:"RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},k=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Y={name:"DigestInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:A.Class.UNIVERSAL,type:A.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},u=function(N){if(!(N.algorithm in w.oids)){var oe=new Error("Unknown message digest algorithm.");throw oe.algorithm=N.algorithm,oe}var R=A.oidToDer(w.oids[N.algorithm]).getBytes(),Pe=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]),Te=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);Te.value.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,R)),Te.value.push(A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,""));var We=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,N.digest().getBytes());return Pe.value.push(Te),Pe.value.push(We),A.toDer(Pe).getBytes()},E=function(N,fe,oe){if(oe)return N.modPow(fe.e,fe.n);if(!fe.p||!fe.q)return N.modPow(fe.d,fe.n);var R;fe.dP||(fe.dP=fe.d.mod(fe.p.subtract(a.ONE))),fe.dQ||(fe.dQ=fe.d.mod(fe.q.subtract(a.ONE))),fe.qInv||(fe.qInv=fe.q.modInverse(fe.p));do{R=new a(t.util.bytesToHex(t.random.getBytes(fe.n.bitLength()/8)),16)}while(R.compareTo(fe.n)>=0||!R.gcd(fe.n).equals(a.ONE));for(var Pe=(N=N.multiply(R.modPow(fe.e,fe.n)).mod(fe.n)).mod(fe.p).modPow(fe.dP,fe.p),Te=N.mod(fe.q).modPow(fe.dQ,fe.q);Pe.compareTo(Te)<0;)Pe=Pe.add(fe.p);var We=Pe.subtract(Te).multiply(fe.qInv).mod(fe.p).multiply(fe.q).add(Te);return We.multiply(R.modInverse(fe.n)).mod(fe.n)};function B(N,fe,oe){var R=t.util.createBuffer(),Pe=Math.ceil(fe.n.bitLength()/8);if(N.length>Pe-11){var Te=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Te.length=N.length,Te.max=Pe-11,Te}R.putByte(0),R.putByte(oe);var rt,We=Pe-3-N.length;if(0===oe||1===oe){rt=0===oe?0:255;for(var lt=0;lt<We;++lt)R.putByte(rt)}else for(;We>0;){var vt=0,je=t.random.getBytes(We);for(lt=0;lt<We;++lt)0===(rt=je.charCodeAt(lt))?++vt:R.putByte(rt);We=vt}return R.putByte(0),R.putBytes(N),R}function V(N,fe,oe,R){var Pe=Math.ceil(fe.n.bitLength()/8),Te=t.util.createBuffer(N),We=Te.getByte(),rt=Te.getByte();if(0!==We||oe&&0!==rt&&1!==rt||!oe&&2!=rt||oe&&0===rt&&typeof R>"u")throw new Error("Encryption block is invalid.");var lt=0;if(0===rt){lt=Pe-3-R;for(var vt=0;vt<lt;++vt)if(0!==Te.getByte())throw new Error("Encryption block is invalid.")}else if(1===rt)for(lt=0;Te.length()>1;){if(255!==Te.getByte()){--Te.read;break}++lt}else if(2===rt)for(lt=0;Te.length()>1;){if(0===Te.getByte()){--Te.read;break}++lt}if(0!==Te.getByte()||lt!==Pe-3-Te.length())throw new Error("Encryption block is invalid.");return Te.getBytes()}function M(N){var fe=N.toString(16);fe[0]>="8"&&(fe="00"+fe);var oe=t.util.hexToBytes(fe);return!(oe.length>1)||(0!==oe.charCodeAt(0)||128&oe.charCodeAt(1))&&(255!==oe.charCodeAt(0)||128&~oe.charCodeAt(1))?oe:oe.substr(1)}function W(N){return N<=100?27:N<=150?18:N<=200?15:N<=250?12:N<=300?9:N<=350?8:N<=400?7:N<=500?6:N<=600?5:N<=800?4:N<=1250?3:2}function y(N){return t.util.isNodejs&&"function"==typeof p[N]}function z(N){return typeof e.globalScope<"u"&&"object"==typeof e.globalScope.crypto&&"object"==typeof e.globalScope.crypto.subtle&&"function"==typeof e.globalScope.crypto.subtle[N]}function Z(N){return typeof e.globalScope<"u"&&"object"==typeof e.globalScope.msCrypto&&"object"==typeof e.globalScope.msCrypto.subtle&&"function"==typeof e.globalScope.msCrypto.subtle[N]}function v(N){for(var fe=t.util.hexToBytes(N.toString(16)),oe=new Uint8Array(fe.length),R=0;R<fe.length;++R)oe[R]=fe.charCodeAt(R);return oe}w.rsa.encrypt=function(N,fe,oe){var Pe,R=oe,Te=Math.ceil(fe.n.bitLength()/8);!1!==oe&&!0!==oe?(R=2===oe,Pe=B(N,fe,oe)):(Pe=t.util.createBuffer()).putBytes(N);for(var We=new a(Pe.toHex(),16),lt=E(We,fe,R).toString(16),vt=t.util.createBuffer(),je=Te-Math.ceil(lt.length/2);je>0;)vt.putByte(0),--je;return vt.putBytes(t.util.hexToBytes(lt)),vt.getBytes()},w.rsa.decrypt=function(N,fe,oe,R){var Pe=Math.ceil(fe.n.bitLength()/8);if(N.length!==Pe){var Te=new Error("Encrypted message length is invalid.");throw Te.length=N.length,Te.expected=Pe,Te}var We=new a(t.util.createBuffer(N).toHex(),16);if(We.compareTo(fe.n)>=0)throw new Error("Encrypted message is invalid.");for(var lt=E(We,fe,oe).toString(16),vt=t.util.createBuffer(),je=Pe-Math.ceil(lt.length/2);je>0;)vt.putByte(0),--je;return vt.putBytes(t.util.hexToBytes(lt)),!1!==R?V(vt.getBytes(),fe,oe):vt.getBytes()},w.rsa.createKeyPairGenerationState=function(N,fe,oe){"string"==typeof N&&(N=parseInt(N,10)),N=N||2048;var We,R=(oe=oe||{}).prng||t.random,Pe={nextBytes:function(rt){for(var lt=R.getBytesSync(rt.length),vt=0;vt<rt.length;++vt)rt[vt]=lt.charCodeAt(vt)}},Te=oe.algorithm||"PRIMEINC";if("PRIMEINC"!==Te)throw new Error("Invalid key generation algorithm: "+Te);return(We={algorithm:Te,state:0,bits:N,rng:Pe,eInt:fe||65537,e:new a(null),p:null,q:null,qBits:N>>1,pBits:N-(N>>1),pqState:0,num:null,keys:null}).e.fromInt(We.eInt),We},w.rsa.stepKeyPairGenerationState=function(N,fe){"algorithm"in N||(N.algorithm="PRIMEINC");var oe=new a(null);oe.fromInt(30);for(var We,R=0,Pe=function(Ye,Ke){return Ye|Ke},Te=+new Date,rt=0;null===N.keys&&(fe<=0||rt<fe);){if(0===N.state){var lt=null===N.p?N.pBits:N.qBits,vt=lt-1;0===N.pqState?(N.num=new a(lt,N.rng),N.num.testBit(vt)||N.num.bitwiseTo(a.ONE.shiftLeft(vt),Pe,N.num),N.num.dAddOffset(31-N.num.mod(oe).byteValue(),0),R=0,++N.pqState):1===N.pqState?N.num.bitLength()>lt?N.pqState=0:N.num.isProbablePrime(W(N.num.bitLength()))?++N.pqState:N.num.dAddOffset(m[R++%8],0):2===N.pqState?N.pqState=0===N.num.subtract(a.ONE).gcd(N.e).compareTo(a.ONE)?3:0:3===N.pqState&&(N.pqState=0,null===N.p?N.p=N.num:N.q=N.num,null!==N.p&&null!==N.q&&++N.state,N.num=null)}else if(1===N.state)N.p.compareTo(N.q)<0&&(N.num=N.p,N.p=N.q,N.q=N.num),++N.state;else if(2===N.state)N.p1=N.p.subtract(a.ONE),N.q1=N.q.subtract(a.ONE),N.phi=N.p1.multiply(N.q1),++N.state;else if(3===N.state)0===N.phi.gcd(N.e).compareTo(a.ONE)?++N.state:(N.p=null,N.q=null,N.state=0);else if(4===N.state)N.n=N.p.multiply(N.q),N.n.bitLength()===N.bits?++N.state:(N.q=null,N.state=0);else if(5===N.state){var je=N.e.modInverse(N.phi);N.keys={privateKey:w.rsa.setPrivateKey(N.n,N.e,je,N.p,N.q,je.mod(N.p1),je.mod(N.q1),N.q.modInverse(N.p)),publicKey:w.rsa.setPublicKey(N.n,N.e)}}rt+=(We=+new Date)-Te,Te=We}return null!==N.keys},w.rsa.generateKeyPair=function(N,fe,oe,R){if(1===arguments.length?"object"==typeof N?(oe=N,N=void 0):"function"==typeof N&&(R=N,N=void 0):2===arguments.length?"number"==typeof N?"function"==typeof fe?(R=fe,fe=void 0):"number"!=typeof fe&&(oe=fe,fe=void 0):(oe=N,R=fe,N=void 0,fe=void 0):3===arguments.length&&("number"==typeof fe?"function"==typeof oe&&(R=oe,oe=void 0):(R=oe,oe=fe,fe=void 0)),oe=oe||{},void 0===N&&(N=oe.bits||2048),void 0===fe&&(fe=oe.e||65537),!t.options.usePureJavaScript&&!oe.prng&&N>=256&&N<=16384&&(65537===fe||3===fe))if(R){if(y("generateKeyPair"))return p.generateKeyPair("rsa",{modulusLength:N,publicExponent:fe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(rt,lt,vt){if(rt)return R(rt);R(null,{privateKey:w.privateKeyFromPem(vt),publicKey:w.publicKeyFromPem(lt)})});if(z("generateKey")&&z("exportKey"))return e.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:N,publicExponent:v(fe),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(rt){return e.globalScope.crypto.subtle.exportKey("pkcs8",rt.privateKey)}).then(void 0,function(rt){R(rt)}).then(function(rt){if(rt){var lt=w.privateKeyFromAsn1(A.fromDer(t.util.createBuffer(rt)));R(null,{privateKey:lt,publicKey:w.setRsaPublicKey(lt.n,lt.e)})}});if(Z("generateKey")&&Z("exportKey")){var Pe=e.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:N,publicExponent:v(fe),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Pe.oncomplete=function(rt){var vt=e.globalScope.msCrypto.subtle.exportKey("pkcs8",rt.target.result.privateKey);vt.oncomplete=function(je){var Ke=w.privateKeyFromAsn1(A.fromDer(t.util.createBuffer(je.target.result)));R(null,{privateKey:Ke,publicKey:w.setRsaPublicKey(Ke.n,Ke.e)})},vt.onerror=function(je){R(je)}},void(Pe.onerror=function(rt){R(rt)})}}else if(y("generateKeyPairSync")){var Te=p.generateKeyPairSync("rsa",{modulusLength:N,publicExponent:fe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:w.privateKeyFromPem(Te.privateKey),publicKey:w.publicKeyFromPem(Te.publicKey)}}var We=w.rsa.createKeyPairGenerationState(N,fe,oe);if(!R)return w.rsa.stepKeyPairGenerationState(We,0),We.keys;!function F(N,fe,oe){"function"==typeof fe&&(oe=fe,fe={});var R={algorithm:{name:(fe=fe||{}).algorithm||"PRIMEINC",options:{workers:fe.workers||2,workLoad:fe.workLoad||100,workerScript:fe.workerScript}}};function Pe(){Te(N.pBits,function(rt,lt){return rt?oe(rt):(N.p=lt,null!==N.q?We(rt,N.q):void Te(N.qBits,We))})}function Te(rt,lt){t.prime.generateProbablePrime(rt,R,lt)}function We(rt,lt){if(rt)return oe(rt);if(N.q=lt,N.p.compareTo(N.q)<0){var vt=N.p;N.p=N.q,N.q=vt}if(0!==N.p.subtract(a.ONE).gcd(N.e).compareTo(a.ONE))return N.p=null,void Pe();if(0!==N.q.subtract(a.ONE).gcd(N.e).compareTo(a.ONE))return N.q=null,void Te(N.qBits,We);if(N.p1=N.p.subtract(a.ONE),N.q1=N.q.subtract(a.ONE),N.phi=N.p1.multiply(N.q1),0!==N.phi.gcd(N.e).compareTo(a.ONE))return N.p=N.q=null,void Pe();if(N.n=N.p.multiply(N.q),N.n.bitLength()!==N.bits)return N.q=null,void Te(N.qBits,We);var je=N.e.modInverse(N.phi);N.keys={privateKey:w.rsa.setPrivateKey(N.n,N.e,je,N.p,N.q,je.mod(N.p1),je.mod(N.q1),N.q.modInverse(N.p)),publicKey:w.rsa.setPublicKey(N.n,N.e)},oe(null,N.keys)}"prng"in fe&&(R.prng=fe.prng),Pe()}(We,oe,R)},w.setRsaPublicKey=w.rsa.setPublicKey=function(N,fe){var oe={n:N,e:fe,encrypt:function(R,Pe,Te){if("string"==typeof Pe?Pe=Pe.toUpperCase():void 0===Pe&&(Pe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Pe)Pe={encode:function(rt,lt,vt){return B(rt,lt,2).getBytes()}};else if("RSA-OAEP"===Pe||"RSAES-OAEP"===Pe)Pe={encode:function(rt,lt){return t.pkcs1.encode_rsa_oaep(lt,rt,Te)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Pe))Pe={encode:function(rt){return rt}};else if("string"==typeof Pe)throw new Error('Unsupported encryption scheme: "'+Pe+'".');var We=Pe.encode(R,oe,!0);return w.rsa.encrypt(We,oe,!0)},verify:function(R,Pe,Te,We){"string"==typeof Te?Te=Te.toUpperCase():void 0===Te&&(Te="RSASSA-PKCS1-V1_5"),void 0===We&&(We={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in We||(We._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Te?Te={verify:function(lt,vt){vt=V(vt,oe,!0);var je=A.fromDer(vt,{parseAllBytes:We._parseAllDigestBytes}),Ye={},Ke=[];if(!A.validate(je,Y,Ye,Ke))throw(it=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Ke,it;var it,Ve=A.derToOid(Ye.algorithmIdentifier);if(Ve!==t.oids.md2&&Ve!==t.oids.md5&&Ve!==t.oids.sha1&&Ve!==t.oids.sha224&&Ve!==t.oids.sha256&&Ve!==t.oids.sha384&&Ve!==t.oids.sha512&&Ve!==t.oids["sha512-224"]&&Ve!==t.oids["sha512-256"])throw(it=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Ve,it;if((Ve===t.oids.md2||Ve===t.oids.md5)&&!("parameters"in Ye))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return lt===Ye.digest}}:("NONE"===Te||"NULL"===Te||null===Te)&&(Te={verify:function(lt,vt){return lt===V(vt,oe,!0)}});var rt=w.rsa.decrypt(Pe,oe,!0,!1);return Te.verify(R,rt,oe.n.bitLength())}};return oe},w.setRsaPrivateKey=w.rsa.setPrivateKey=function(N,fe,oe,R,Pe,Te,We,rt){var lt={n:N,e:fe,d:oe,p:R,q:Pe,dP:Te,dQ:We,qInv:rt,decrypt:function(vt,je,Ye){"string"==typeof je?je=je.toUpperCase():void 0===je&&(je="RSAES-PKCS1-V1_5");var Ke=w.rsa.decrypt(vt,lt,!1,!1);if("RSAES-PKCS1-V1_5"===je)je={decode:V};else if("RSA-OAEP"===je||"RSAES-OAEP"===je)je={decode:function(it,Ve){return t.pkcs1.decode_rsa_oaep(Ve,it,Ye)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(je))throw new Error('Unsupported encryption scheme: "'+je+'".');je={decode:function(it){return it}}}return je.decode(Ke,lt,!1)},sign:function(vt,je){var Ye=!1;"string"==typeof je&&(je=je.toUpperCase()),void 0===je||"RSASSA-PKCS1-V1_5"===je?(je={encode:u},Ye=1):("NONE"===je||"NULL"===je||null===je)&&(je={encode:function(){return vt}},Ye=1);var Ke=je.encode(vt,lt.n.bitLength());return w.rsa.encrypt(Ke,lt,Ye)}};return lt},w.wrapRsaPrivateKey=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(w.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(N).getBytes())])},w.privateKeyFromAsn1=function(N){var Pe,Te,We,rt,lt,vt,je,Ye,fe={},oe=[];if(A.validate(N,D,fe,oe)&&(N=A.fromDer(t.util.createBuffer(fe.privateKey))),!A.validate(N,S,fe={},oe=[])){var R=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw R.errors=oe,R}return Pe=t.util.createBuffer(fe.privateKeyModulus).toHex(),Te=t.util.createBuffer(fe.privateKeyPublicExponent).toHex(),We=t.util.createBuffer(fe.privateKeyPrivateExponent).toHex(),rt=t.util.createBuffer(fe.privateKeyPrime1).toHex(),lt=t.util.createBuffer(fe.privateKeyPrime2).toHex(),vt=t.util.createBuffer(fe.privateKeyExponent1).toHex(),je=t.util.createBuffer(fe.privateKeyExponent2).toHex(),Ye=t.util.createBuffer(fe.privateKeyCoefficient).toHex(),w.setRsaPrivateKey(new a(Pe,16),new a(Te,16),new a(We,16),new a(rt,16),new a(lt,16),new a(vt,16),new a(je,16),new a(Ye,16))},w.privateKeyToAsn1=w.privateKeyToRSAPrivateKey=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.e)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.d)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.p)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.q)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.dP)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.dQ)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.qInv))])},w.publicKeyFromAsn1=function(N){var fe={},oe=[];if(A.validate(N,k,fe,oe)){var Pe,R=A.derToOid(fe.publicKeyOid);if(R!==w.oids.rsaEncryption)throw(Pe=new Error("Cannot read public key. Unknown OID.")).oid=R,Pe;N=fe.rsaPublicKey}if(!A.validate(N,g,fe,oe=[]))throw(Pe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=oe,Pe;var Te=t.util.createBuffer(fe.publicKeyModulus).toHex(),We=t.util.createBuffer(fe.publicKeyExponent).toHex();return w.setRsaPublicKey(new a(Te,16),new a(We,16))},w.publicKeyToAsn1=w.publicKeyToSubjectPublicKeyInfo=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(w.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,[w.publicKeyToRSAPublicKey(N)])])},w.publicKeyToRSAPublicKey=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.e))])}},2892:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>V});var t=l(7673),a=l(5060),p=l(1413),A=l(5558),e=l(4861),w=l(1360),m=l(7883),D=l(6801),S=l(1339),g=l(5139),k=l(5424),Y=l(6888),u=l(2947),E=l(9196),B=l(2972);let V=(()=>{class F{constructor(W,y,z,Z,v,L,J,te,N){this.securityService=W,this.healthCheckService=y,this.authService=z,this.localizeRouter=Z,this.errorService=v,this.loginTrackingService=L,this.router=J,this.configService=te,this.appComponentViewService=N}canActivate(W,y){return this.healthCheckService.uiReady?this.authDecision(W,y):this.healthCheckService.uiHealthCheckComplete.pipe((0,A.n)(z=>this.authDecision(W,y)))}authDecision(W,y){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==e.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(z=>{if(z.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const Z=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([Z])}}),void 0!==this.securityService.userPermissions?(0,t.of)(this.permissionAuthDecision(W)):this.permissionAuthDecisionAsObservable(W)):(this.securityService.startLogin(y.url),a.t)}permissionAuthDecision(W){const y=W.data.permissions;if(void 0===y)return!0;for(let z=0;z<y.length;z++)if(this.securityService.userPermissions.includes(y[z]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(W){const y=new p.B;return this.securityService.init().subscribe(()=>{y.next(this.permissionAuthDecision(W))}),y.asObservable()}static{this.\u0275fac=function(y){return new(y||F)(w.KVO(m.i),w.KVO(D.M),w.KVO(S.u),w.KVO(g.QG),w.KVO(k.I),w.KVO(Y.W),w.KVO(u.Ix),w.KVO(E.w),w.KVO(B.X))}}static{this.\u0275prov=w.jDH({token:F,factory:F.\u0275fac})}}return F})()},2947:(ot,ve,l)=>{"use strict";l.d(ve,{nX:()=>un,Pu:()=>mn,Zp:()=>Vi,nU:()=>Ae,c1:()=>wr,XR:()=>bn,j5:()=>Ut,wF:()=>Fe,lW:()=>Xt,mo:()=>ht,Z:()=>vi,J2:()=>Ri,Xk:()=>Ve,J_:()=>no,bw:()=>ci,b:()=>qi,tD:()=>Zr,Ix:()=>$o,D$:()=>ns,n3:()=>ca,OY:()=>Pn,Sd:()=>De,bK:()=>$e,gk:()=>Ys,Lg:()=>It,wO:()=>cn,Us:()=>ce,we:()=>ho});var t=l(9361),a=l(1482),p=l(1360),A=l(4402),e=l(6648),w=l(7673),m=l(4412),D=l(4572),S=l(9350),g=l(8793),k=l(9030),Y=l(1203),u=l(8810),E=l(983),B=l(17),V=l(1413),F=l(8359),M=l(6354),W=l(5558),y=l(6697),z=l(9172),Z=l(5964),v=l(1397),L=l(1594),J=l(274),te=l(8141),N=l(9437),fe=l(9974),oe=l(6649),Pe=l(9901),Te=l(4360);function We(se){return se<=0?()=>E.w:(0,fe.N)((Ce,pe)=>{let we=[];Ce.subscribe((0,Te._)(pe,Je=>{we.push(Je),se<we.length&&we.shift()},()=>{for(const Je of we)pe.next(Je);pe.complete()},void 0,()=>{we=null}))})}var rt=l(3774),lt=l(3669),je=l(980),Ye=l(9898),Ke=l(6977),it=l(345);const Ve="primary",Be=Symbol("RouteTitle");class Xe{params;constructor(Ce){this.params=Ce||{}}has(Ce){return Object.prototype.hasOwnProperty.call(this.params,Ce)}get(Ce){if(this.has(Ce)){const pe=this.params[Ce];return Array.isArray(pe)?pe[0]:pe}return null}getAll(Ce){if(this.has(Ce)){const pe=this.params[Ce];return Array.isArray(pe)?pe:[pe]}return[]}get keys(){return Object.keys(this.params)}}function Ue(se){return new Xe(se)}function ct(se,Ce,pe){const we=pe.path.split("/");if(we.length>se.length||"full"===pe.pathMatch&&(Ce.hasChildren()||we.length<se.length))return null;const Je={};for(let Mt=0;Mt<we.length;Mt++){const St=we[Mt],rn=se[Mt];if(":"===St[0])Je[St.substring(1)]=rn;else if(St!==rn.path)return null}return{consumed:se.slice(0,we.length),posParams:Je}}function Qe(se,Ce){const pe=se?ne(se):void 0,we=Ce?ne(Ce):void 0;if(!pe||!we||pe.length!=we.length)return!1;let Je;for(let Mt=0;Mt<pe.length;Mt++)if(Je=pe[Mt],!K(se[Je],Ce[Je]))return!1;return!0}function ne(se){return[...Object.keys(se),...Object.getOwnPropertySymbols(se)]}function K(se,Ce){if(Array.isArray(se)&&Array.isArray(Ce)){if(se.length!==Ce.length)return!1;const pe=[...se].sort(),we=[...Ce].sort();return pe.every((Je,Mt)=>we[Mt]===Je)}return se===Ce}function de(se){return se.length>0?se[se.length-1]:null}function ge(se){return(0,A.A)(se)?se:(0,p.jNT)(se)?(0,e.H)(Promise.resolve(se)):(0,w.of)(se)}const o={exact:function Tn(se,Ce,pe){if(!P(se.segments,Ce.segments)||!ni(se.segments,Ce.segments,pe)||se.numberOfChildren!==Ce.numberOfChildren)return!1;for(const we in Ce.children)if(!se.children[we]||!Tn(se.children[we],Ce.children[we],pe))return!1;return!0},subset:en},dt={exact:function qt(se,Ce){return Qe(se,Ce)},subset:function Wn(se,Ce){return Object.keys(Ce).length<=Object.keys(se).length&&Object.keys(Ce).every(pe=>K(se[pe],Ce[pe]))},ignored:()=>!0};function gt(se,Ce,pe){return o[pe.paths](se.root,Ce.root,pe.matrixParams)&&dt[pe.queryParams](se.queryParams,Ce.queryParams)&&!("exact"===pe.fragment&&se.fragment!==Ce.fragment)}function en(se,Ce,pe){return Ln(se,Ce,Ce.segments,pe)}function Ln(se,Ce,pe,we){if(se.segments.length>pe.length){const Je=se.segments.slice(0,pe.length);return!(!P(Je,pe)||Ce.hasChildren()||!ni(Je,pe,we))}if(se.segments.length===pe.length){if(!P(se.segments,pe)||!ni(se.segments,pe,we))return!1;for(const Je in Ce.children)if(!se.children[Je]||!en(se.children[Je],Ce.children[Je],we))return!1;return!0}{const Je=pe.slice(0,se.segments.length),Mt=pe.slice(se.segments.length);return!!(P(se.segments,Je)&&ni(se.segments,Je,we)&&se.children[Ve])&&Ln(se.children[Ve],Ce,Mt,we)}}function ni(se,Ce,pe){return Ce.every((we,Je)=>dt[pe](se[Je].parameters,we.parameters))}class mt{root;queryParams;fragment;_queryParamMap;constructor(Ce=new Jt([],{}),pe={},we=null){this.root=Ce,this.queryParams=pe,this.fragment=we}get queryParamMap(){return this._queryParamMap??=Ue(this.queryParams),this._queryParamMap}toString(){return et.serialize(this)}}class Jt{segments;children;parent=null;constructor(Ce,pe){this.segments=Ce,this.children=pe,Object.values(pe).forEach(we=>we.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _t(this)}}class he{path;parameters;_parameterMap;constructor(Ce,pe){this.path=Ce,this.parameters=pe}get parameterMap(){return this._parameterMap??=Ue(this.parameters),this._parameterMap}toString(){return Qt(this)}}function P(se,Ce){return se.length===Ce.length&&se.every((pe,we)=>pe.path===Ce[we].path)}let De=(()=>{class se{static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:()=>new Ae,providedIn:"root"})}return se})();class Ae{parse(Ce){const pe=new wt(Ce);return new mt(pe.parseRootSegment(),pe.parseQueryParams(),pe.parseFragment())}serialize(Ce){const pe=`/${Ht(Ce.root,!0)}`,we=function In(se){const Ce=Object.entries(se).map(([pe,we])=>Array.isArray(we)?we.map(Je=>`${wn(pe)}=${wn(Je)}`).join("&"):`${wn(pe)}=${wn(we)}`).filter(pe=>pe);return Ce.length?`?${Ce.join("&")}`:""}(Ce.queryParams);return`${pe}${we}${"string"==typeof Ce.fragment?`#${function Kn(se){return encodeURI(se)}(Ce.fragment)}`:""}`}}const et=new Ae;function _t(se){return se.segments.map(Ce=>Qt(Ce)).join("/")}function Ht(se,Ce){if(!se.hasChildren())return _t(se);if(Ce){const pe=se.children[Ve]?Ht(se.children[Ve],!1):"",we=[];return Object.entries(se.children).forEach(([Je,Mt])=>{Je!==Ve&&we.push(`${Je}:${Ht(Mt,!1)}`)}),we.length>0?`${pe}(${we.join("//")})`:pe}{const pe=function q(se,Ce){let pe=[];return Object.entries(se.children).forEach(([we,Je])=>{we===Ve&&(pe=pe.concat(Ce(Je,we)))}),Object.entries(se.children).forEach(([we,Je])=>{we!==Ve&&(pe=pe.concat(Ce(Je,we)))}),pe}(se,(we,Je)=>Je===Ve?[Ht(se.children[Ve],!1)]:[`${Je}:${Ht(we,!1)}`]);return 1===Object.keys(se.children).length&&null!=se.children[Ve]?`${_t(se)}/${pe[0]}`:`${_t(se)}/(${pe.join("//")})`}}function nn(se){return encodeURIComponent(se).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(se){return nn(se).replace(/%3B/gi,";")}function ei(se){return nn(se).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ot(se){return decodeURIComponent(se)}function Gn(se){return Ot(se.replace(/\+/g,"%20"))}function Qt(se){return`${ei(se.path)}${function Sn(se){return Object.entries(se).map(([Ce,pe])=>`;${ei(Ce)}=${ei(pe)}`).join("")}(se.parameters)}`}const rs=/^[^\/()?;#]+/;function _i(se){const Ce=se.match(rs);return Ce?Ce[0]:""}const Fi=/^[^\/()?;=#]+/,os=/^[^=?&#]+/,ms=/^[^&#]+/;class wt{url;remaining;constructor(Ce){this.url=Ce,this.remaining=Ce}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const Ce={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ce)}while(this.consumeOptional("&"));return Ce}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ce=[];for(this.peekStartsWith("(")||Ce.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ce.push(this.parseSegment());let pe={};this.peekStartsWith("/(")&&(this.capture("/"),pe=this.parseParens(!0));let we={};return this.peekStartsWith("(")&&(we=this.parseParens(!1)),(Ce.length>0||Object.keys(pe).length>0)&&(we[Ve]=new Jt(Ce,pe)),we}parseSegment(){const Ce=_i(this.remaining);if(""===Ce&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(Ce),new he(Ot(Ce),this.parseMatrixParams())}parseMatrixParams(){const Ce={};for(;this.consumeOptional(";");)this.parseParam(Ce);return Ce}parseParam(Ce){const pe=function Ni(se){const Ce=se.match(Fi);return Ce?Ce[0]:""}(this.remaining);if(!pe)return;this.capture(pe);let we="";if(this.consumeOptional("=")){const Je=_i(this.remaining);Je&&(we=Je,this.capture(we))}Ce[Ot(pe)]=Ot(we)}parseQueryParam(Ce){const pe=function zn(se){const Ce=se.match(os);return Ce?Ce[0]:""}(this.remaining);if(!pe)return;this.capture(pe);let we="";if(this.consumeOptional("=")){const St=function xi(se){const Ce=se.match(ms);return Ce?Ce[0]:""}(this.remaining);St&&(we=St,this.capture(we))}const Je=Gn(pe),Mt=Gn(we);if(Ce.hasOwnProperty(Je)){let St=Ce[Je];Array.isArray(St)||(St=[St],Ce[Je]=St),St.push(Mt)}else Ce[Je]=Mt}parseParens(Ce){const pe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const we=_i(this.remaining),Je=this.remaining[we.length];if("/"!==Je&&")"!==Je&&";"!==Je)throw new p.wOt(4010,!1);let Mt;we.indexOf(":")>-1?(Mt=we.slice(0,we.indexOf(":")),this.capture(Mt),this.capture(":")):Ce&&(Mt=Ve);const St=this.parseChildren();pe[Mt]=1===Object.keys(St).length?St[Ve]:new Jt([],St),this.consumeOptional("//")}return pe}peekStartsWith(Ce){return this.remaining.startsWith(Ce)}consumeOptional(Ce){return!!this.peekStartsWith(Ce)&&(this.remaining=this.remaining.substring(Ce.length),!0)}capture(Ce){if(!this.consumeOptional(Ce))throw new p.wOt(4011,!1)}}function Tt(se){return se.segments.length>0?new Jt([],{[Ve]:se}):se}function xt(se){const Ce={};for(const[we,Je]of Object.entries(se.children)){const Mt=xt(Je);if(we===Ve&&0===Mt.segments.length&&Mt.hasChildren())for(const[St,rn]of Object.entries(Mt.children))Ce[St]=rn;else(Mt.segments.length>0||Mt.hasChildren())&&(Ce[we]=Mt)}return function Kt(se){if(1===se.numberOfChildren&&se.children[Ve]){const Ce=se.children[Ve];return new Jt(se.segments.concat(Ce.segments),Ce.children)}return se}(new Jt(se.segments,Ce))}function cn(se){return se instanceof mt}function Ei(se){let Ce;const Je=Tt(function pe(Mt){const St={};for(const kn of Mt.children){const Yn=pe(kn);St[kn.outlet]=Yn}const rn=new Jt(Mt.url,St);return Mt===se&&(Ce=rn),rn}(se.root));return Ce??Je}function Ii(se,Ce,pe,we){let Je=se;for(;Je.parent;)Je=Je.parent;if(0===Ce.length)return Bi(Je,Je,Je,pe,we);const Mt=function ls(se){if("string"==typeof se[0]&&1===se.length&&"/"===se[0])return new zi(!0,0,se);let Ce=0,pe=!1;const we=se.reduce((Je,Mt,St)=>{if("object"==typeof Mt&&null!=Mt){if(Mt.outlets){const rn={};return Object.entries(Mt.outlets).forEach(([kn,Yn])=>{rn[kn]="string"==typeof Yn?Yn.split("/"):Yn}),[...Je,{outlets:rn}]}if(Mt.segmentPath)return[...Je,Mt.segmentPath]}return"string"!=typeof Mt?[...Je,Mt]:0===St?(Mt.split("/").forEach((rn,kn)=>{0==kn&&"."===rn||(0==kn&&""===rn?pe=!0:".."===rn?Ce++:""!=rn&&Je.push(rn))}),Je):[...Je,Mt]},[]);return new zi(pe,Ce,we)}(Ce);if(Mt.toRoot())return Bi(Je,Je,new Jt([],{}),pe,we);const St=function Rt(se,Ce,pe){if(se.isAbsolute)return new ut(Ce,!0,0);if(!pe)return new ut(Ce,!1,NaN);if(null===pe.parent)return new ut(pe,!0,0);const we=Ti(se.commands[0])?0:1;return function yt(se,Ce,pe){let we=se,Je=Ce,Mt=pe;for(;Mt>Je;){if(Mt-=Je,we=we.parent,!we)throw new p.wOt(4005,!1);Je=we.segments.length}return new ut(we,!1,Je-Mt)}(pe,pe.segments.length-1+we,se.numberOfDoubleDots)}(Mt,Je,se),rn=St.processChildren?on(St.segmentGroup,St.index,Mt.commands):Vn(St.segmentGroup,St.index,Mt.commands);return Bi(Je,St.segmentGroup,rn,pe,we)}function Ti(se){return"object"==typeof se&&null!=se&&!se.outlets&&!se.segmentPath}function Dn(se){return"object"==typeof se&&null!=se&&se.outlets}function Bi(se,Ce,pe,we,Je){let St,Mt={};we&&Object.entries(we).forEach(([kn,Yn])=>{Mt[kn]=Array.isArray(Yn)?Yn.map(es=>`${es}`):`${Yn}`}),St=se===Ce?pe:Ui(se,Ce,pe);const rn=Tt(xt(St));return new mt(rn,Mt,Je)}function Ui(se,Ce,pe){const we={};return Object.entries(se.children).forEach(([Je,Mt])=>{we[Je]=Mt===Ce?pe:Ui(Mt,Ce,pe)}),new Jt(se.segments,we)}class zi{isAbsolute;numberOfDoubleDots;commands;constructor(Ce,pe,we){if(this.isAbsolute=Ce,this.numberOfDoubleDots=pe,this.commands=we,Ce&&we.length>0&&Ti(we[0]))throw new p.wOt(4003,!1);const Je=we.find(Dn);if(Je&&Je!==de(we))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ut{segmentGroup;processChildren;index;constructor(Ce,pe,we){this.segmentGroup=Ce,this.processChildren=pe,this.index=we}}function Vn(se,Ce,pe){if(se??=new Jt([],{}),0===se.segments.length&&se.hasChildren())return on(se,Ce,pe);const we=function Xn(se,Ce,pe){let we=0,Je=Ce;const Mt={match:!1,pathIndex:0,commandIndex:0};for(;Je<se.segments.length;){if(we>=pe.length)return Mt;const St=se.segments[Je],rn=pe[we];if(Dn(rn))break;const kn=`${rn}`,Yn=we<pe.length-1?pe[we+1]:null;if(Je>0&&void 0===kn)break;if(kn&&Yn&&"object"==typeof Yn&&void 0===Yn.outlets){if(!zt(kn,Yn,St))return Mt;we+=2}else{if(!zt(kn,{},St))return Mt;we++}Je++}return{match:!0,pathIndex:Je,commandIndex:we}}(se,Ce,pe),Je=pe.slice(we.commandIndex);if(we.match&&we.pathIndex<se.segments.length){const Mt=new Jt(se.segments.slice(0,we.pathIndex),{});return Mt.children[Ve]=new Jt(se.segments.slice(we.pathIndex),se.children),on(Mt,0,Je)}return we.match&&0===Je.length?new Jt(se.segments,{}):we.match&&!se.hasChildren()?qn(se,Ce,pe):we.match?on(se,0,Je):qn(se,Ce,pe)}function on(se,Ce,pe){if(0===pe.length)return new Jt(se.segments,{});{const we=function tn(se){return Dn(se[0])?se[0].outlets:{[Ve]:se}}(pe),Je={};if(Object.keys(we).some(Mt=>Mt!==Ve)&&se.children[Ve]&&1===se.numberOfChildren&&0===se.children[Ve].segments.length){const Mt=on(se.children[Ve],Ce,pe);return new Jt(se.segments,Mt.children)}return Object.entries(we).forEach(([Mt,St])=>{"string"==typeof St&&(St=[St]),null!==St&&(Je[Mt]=Vn(se.children[Mt],Ce,St))}),Object.entries(se.children).forEach(([Mt,St])=>{void 0===we[Mt]&&(Je[Mt]=St)}),new Jt(se.segments,Je)}}function qn(se,Ce,pe){const we=se.segments.slice(0,Ce);let Je=0;for(;Je<pe.length;){const Mt=pe[Je];if(Dn(Mt)){const kn=Gt(Mt.outlets);return new Jt(we,kn)}if(0===Je&&Ti(pe[0])){we.push(new he(se.segments[Ce].path,oi(pe[0]))),Je++;continue}const St=Dn(Mt)?Mt.outlets[Ve]:`${Mt}`,rn=Je<pe.length-1?pe[Je+1]:null;St&&rn&&Ti(rn)?(we.push(new he(St,oi(rn))),Je+=2):(we.push(new he(St,{})),Je++)}return new Jt(we,{})}function Gt(se){const Ce={};return Object.entries(se).forEach(([pe,we])=>{"string"==typeof we&&(we=[we]),null!==we&&(Ce[pe]=qn(new Jt([],{}),0,we))}),Ce}function oi(se){const Ce={};return Object.entries(se).forEach(([pe,we])=>Ce[pe]=`${we}`),Ce}function zt(se,Ce,pe){return se==pe.path&&Qe(Ce,pe.parameters)}const Un="imperative";var fn=function(se){return se[se.NavigationStart=0]="NavigationStart",se[se.NavigationEnd=1]="NavigationEnd",se[se.NavigationCancel=2]="NavigationCancel",se[se.NavigationError=3]="NavigationError",se[se.RoutesRecognized=4]="RoutesRecognized",se[se.ResolveStart=5]="ResolveStart",se[se.ResolveEnd=6]="ResolveEnd",se[se.GuardsCheckStart=7]="GuardsCheckStart",se[se.GuardsCheckEnd=8]="GuardsCheckEnd",se[se.RouteConfigLoadStart=9]="RouteConfigLoadStart",se[se.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",se[se.ChildActivationStart=11]="ChildActivationStart",se[se.ChildActivationEnd=12]="ChildActivationEnd",se[se.ActivationStart=13]="ActivationStart",se[se.ActivationEnd=14]="ActivationEnd",se[se.Scroll=15]="Scroll",se[se.NavigationSkipped=16]="NavigationSkipped",se}(fn||{});class Qn{id;url;constructor(Ce,pe){this.id=Ce,this.url=pe}}class vi extends Qn{type=fn.NavigationStart;navigationTrigger;restoredState;constructor(Ce,pe,we="imperative",Je=null){super(Ce,pe),this.navigationTrigger=we,this.restoredState=Je}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fe extends Qn{urlAfterRedirects;type=fn.NavigationEnd;constructor(Ce,pe,we){super(Ce,pe),this.urlAfterRedirects=we}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ze=function(se){return se[se.Redirect=0]="Redirect",se[se.SupersededByNewNavigation=1]="SupersededByNewNavigation",se[se.NoDataFromResolver=2]="NoDataFromResolver",se[se.GuardRejected=3]="GuardRejected",se}(Ze||{}),ht=function(se){return se[se.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",se[se.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",se}(ht||{});class Ut extends Qn{reason;code;type=fn.NavigationCancel;constructor(Ce,pe,we,Je){super(Ce,pe),this.reason=we,this.code=Je}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xt extends Qn{reason;code;type=fn.NavigationSkipped;constructor(Ce,pe,we,Je){super(Ce,pe),this.reason=we,this.code=Je}}class Mn extends Qn{error;target;type=fn.NavigationError;constructor(Ce,pe,we,Je){super(Ce,pe),this.error=we,this.target=Je}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hi extends Qn{urlAfterRedirects;state;type=fn.RoutesRecognized;constructor(Ce,pe,we,Je){super(Ce,pe),this.urlAfterRedirects=we,this.state=Je}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends Qn{urlAfterRedirects;state;type=fn.GuardsCheckStart;constructor(Ce,pe,we,Je){super(Ce,pe),this.urlAfterRedirects=we,this.state=Je}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn extends Qn{urlAfterRedirects;state;shouldActivate;type=fn.GuardsCheckEnd;constructor(Ce,pe,we,Je,Mt){super(Ce,pe),this.urlAfterRedirects=we,this.state=Je,this.shouldActivate=Mt}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends Qn{urlAfterRedirects;state;type=fn.ResolveStart;constructor(Ce,pe,we,Je){super(Ce,pe),this.urlAfterRedirects=we,this.state=Je}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends Qn{urlAfterRedirects;state;type=fn.ResolveEnd;constructor(Ce,pe,we,Je){super(Ce,pe),this.urlAfterRedirects=we,this.state=Je}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os{route;type=fn.RouteConfigLoadStart;constructor(Ce){this.route=Ce}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jt{route;type=fn.RouteConfigLoadEnd;constructor(Ce){this.route=Ce}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ai{snapshot;type=fn.ChildActivationStart;constructor(Ce){this.snapshot=Ce}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{snapshot;type=fn.ChildActivationEnd;constructor(Ce){this.snapshot=Ce}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{snapshot;type=fn.ActivationStart;constructor(Ce){this.snapshot=Ce}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wt{snapshot;type=fn.ActivationEnd;constructor(Ce){this.snapshot=Ce}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{routerEvent;position;anchor;type=fn.Scroll;constructor(Ce,pe,we){this.routerEvent=Ce,this.position=pe,this.anchor=we}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qi{}class Bt{url;navigationBehaviorOptions;constructor(Ce,pe){this.url=Ce,this.navigationBehaviorOptions=pe}}function ce(se){switch(se.type){case fn.ActivationEnd:return`ActivationEnd(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.ActivationStart:return`ActivationStart(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.ChildActivationEnd:return`ChildActivationEnd(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.ChildActivationStart:return`ChildActivationStart(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state}, shouldActivate: ${se.shouldActivate})`;case fn.GuardsCheckStart:return`GuardsCheckStart(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.NavigationCancel:return`NavigationCancel(id: ${se.id}, url: '${se.url}')`;case fn.NavigationSkipped:return`NavigationSkipped(id: ${se.id}, url: '${se.url}')`;case fn.NavigationEnd:return`NavigationEnd(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}')`;case fn.NavigationError:return`NavigationError(id: ${se.id}, url: '${se.url}', error: ${se.error})`;case fn.NavigationStart:return`NavigationStart(id: ${se.id}, url: '${se.url}')`;case fn.ResolveEnd:return`ResolveEnd(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.ResolveStart:return`ResolveStart(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${se.route.path})`;case fn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${se.route.path})`;case fn.RoutesRecognized:return`RoutesRecognized(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.Scroll:return`Scroll(anchor: '${se.anchor}', position: '${se.position?`${se.position[0]}, ${se.position[1]}`:null}')`}}function hn(se){return se.outlet||Ve}function Wi(se){if(!se)return null;if(se.routeConfig?._injector)return se.routeConfig._injector;for(let Ce=se.parent;Ce;Ce=Ce.parent){const pe=Ce.routeConfig;if(pe?._loadedInjector)return pe._loadedInjector;if(pe?._injector)return pe._injector}return null}class Di{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wi(this.route?.snapshot)??this.rootInjector}constructor(Ce){this.rootInjector=Ce,this.children=new Vi(this.rootInjector)}}let Vi=(()=>{class se{rootInjector;contexts=new Map;constructor(pe){this.rootInjector=pe}onChildOutletCreated(pe,we){const Je=this.getOrCreateContext(pe);Je.outlet=we,this.contexts.set(pe,Je)}onChildOutletDestroyed(pe){const we=this.getContext(pe);we&&(we.outlet=null,we.attachRef=null)}onOutletDeactivated(){const pe=this.contexts;return this.contexts=new Map,pe}onOutletReAttached(pe){this.contexts=pe}getOrCreateContext(pe){let we=this.getContext(pe);return we||(we=new Di(this.rootInjector),this.contexts.set(pe,we)),we}getContext(pe){return this.contexts.get(pe)||null}static \u0275fac=function(we){return new(we||se)(p.KVO(p.uvJ))};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();class li{_root;constructor(Ce){this._root=Ce}get root(){return this._root.value}parent(Ce){const pe=this.pathFromRoot(Ce);return pe.length>1?pe[pe.length-2]:null}children(Ce){const pe=Li(Ce,this._root);return pe?pe.children.map(we=>we.value):[]}firstChild(Ce){const pe=Li(Ce,this._root);return pe&&pe.children.length>0?pe.children[0].value:null}siblings(Ce){const pe=Yi(Ce,this._root);return pe.length<2?[]:pe[pe.length-2].children.map(Je=>Je.value).filter(Je=>Je!==Ce)}pathFromRoot(Ce){return Yi(Ce,this._root).map(pe=>pe.value)}}function Li(se,Ce){if(se===Ce.value)return Ce;for(const pe of Ce.children){const we=Li(se,pe);if(we)return we}return null}function Yi(se,Ce){if(se===Ce.value)return[Ce];for(const pe of Ce.children){const we=Yi(se,pe);if(we.length)return we.unshift(Ce),we}return[]}class xs{value;children;constructor(Ce,pe){this.value=Ce,this.children=pe}toString(){return`TreeNode(${this.value})`}}function Bs(se){const Ce={};return se&&se.children.forEach(pe=>Ce[pe.value.outlet]=pe),Ce}class Mr extends li{snapshot;constructor(Ce,pe){super(Ce),this.snapshot=pe,yi(this,Ce)}toString(){return this.snapshot.toString()}}function Qr(se){const Ce=function Dt(se){const Mt=new pn([],{},{},"",{},Ve,se,null,{});return new Jn("",new xs(Mt,[]))}(se),pe=new m.t([new he("",{})]),we=new m.t({}),Je=new m.t({}),Mt=new m.t({}),St=new m.t(""),rn=new un(pe,we,Mt,St,Je,Ve,se,Ce.root);return rn.snapshot=Ce.root,new Mr(new xs(rn,[]),Ce)}class un{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(Ce,pe,we,Je,Mt,St,rn,kn){this.urlSubject=Ce,this.paramsSubject=pe,this.queryParamsSubject=we,this.fragmentSubject=Je,this.dataSubject=Mt,this.outlet=St,this.component=rn,this._futureSnapshot=kn,this.title=this.dataSubject?.pipe((0,M.T)(Yn=>Yn[Be]))??(0,w.of)(void 0),this.url=Ce,this.params=pe,this.queryParams=we,this.fragment=Je,this.data=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,M.T)(Ce=>Ue(Ce))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,M.T)(Ce=>Ue(Ce))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vt(se,Ce,pe="emptyOnly"){let we;const{routeConfig:Je}=se;return we=null===Ce||"always"!==pe&&""!==Je?.path&&(Ce.component||Ce.routeConfig?.loadComponent)?{params:{...se.params},data:{...se.data},resolve:{...se.data,...se._resolvedData??{}}}:{params:{...Ce.params,...se.params},data:{...Ce.data,...se.data},resolve:{...se.data,...Ce.data,...Je?.data,...se._resolvedData}},Je&&Hr(Je)&&(we.resolve[Be]=Je.title),we}class pn{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Be]}constructor(Ce,pe,we,Je,Mt,St,rn,kn,Yn){this.url=Ce,this.params=pe,this.queryParams=we,this.fragment=Je,this.data=Mt,this.outlet=St,this.component=rn,this.routeConfig=kn,this._resolve=Yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ue(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ue(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(we=>we.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jn extends li{url;constructor(Ce,pe){super(pe),this.url=Ce,yi(this,pe)}toString(){return pi(this._root)}}function yi(se,Ce){Ce.value._routerState=se,Ce.children.forEach(pe=>yi(se,pe))}function pi(se){const Ce=se.children.length>0?` { ${se.children.map(pi).join(", ")} } `:"";return`${se.value}${Ce}`}function js(se){if(se.snapshot){const Ce=se.snapshot,pe=se._futureSnapshot;se.snapshot=pe,Qe(Ce.queryParams,pe.queryParams)||se.queryParamsSubject.next(pe.queryParams),Ce.fragment!==pe.fragment&&se.fragmentSubject.next(pe.fragment),Qe(Ce.params,pe.params)||se.paramsSubject.next(pe.params),function st(se,Ce){if(se.length!==Ce.length)return!1;for(let pe=0;pe<se.length;++pe)if(!Qe(se[pe],Ce[pe]))return!1;return!0}(Ce.url,pe.url)||se.urlSubject.next(pe.url),Qe(Ce.data,pe.data)||se.dataSubject.next(pe.data)}else se.snapshot=se._futureSnapshot,se.dataSubject.next(se._futureSnapshot.data)}function Ts(se,Ce){const pe=Qe(se.params,Ce.params)&&function ue(se,Ce){return P(se,Ce)&&se.every((pe,we)=>Qe(pe.parameters,Ce[we].parameters))}(se.url,Ce.url);return pe&&!(!se.parent!=!Ce.parent)&&(!se.parent||Ts(se.parent,Ce.parent))}function Hr(se){return"string"==typeof se.title||null===se.title}const ks=new p.nKC("");let ca=(()=>{class se{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ve;activateEvents=new p.bkB;deactivateEvents=new p.bkB;attachEvents=new p.bkB;detachEvents=new p.bkB;routerOutletData=(0,p.hFB)(void 0);parentContexts=(0,p.WQX)(Vi);location=(0,p.WQX)(p.c1b);changeDetector=(0,p.WQX)(p.gRc);inputBinder=(0,p.WQX)(wr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(pe){if(pe.name){const{firstChange:we,previousValue:Je}=pe.name;if(we)return;this.isTrackedInParentContexts(Je)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Je)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(pe){return this.parentContexts.getContext(pe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const pe=this.parentContexts.getContext(this.name);pe?.route&&(pe.attachRef?this.attach(pe.attachRef,pe.route):this.activateWith(pe.route,pe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const pe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(pe.instance),pe}attach(pe,we){this.activated=pe,this._activatedRoute=we,this.location.insert(pe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(pe.instance)}deactivate(){if(this.activated){const pe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(pe)}}activateWith(pe,we){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=pe;const Je=this.location,St=pe.snapshot.component,rn=this.parentContexts.getOrCreateContext(this.name).children,kn=new Ci(pe,rn,Je.injector,this.routerOutletData);this.activated=Je.createComponent(St,{index:Je.length,injector:kn,environmentInjector:we}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(we){return new(we||se)};static \u0275dir=p.FsC({type:se,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[p.OA$]})}return se})();class Ci{route;childContexts;parent;outletData;constructor(Ce,pe,we,Je){this.route=Ce,this.childContexts=pe,this.parent=we,this.outletData=Je}get(Ce,pe){return Ce===un?this.route:Ce===Vi?this.childContexts:Ce===ks?this.outletData:this.parent.get(Ce,pe)}}const wr=new p.nKC("");let Zr=(()=>{class se{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(pe){this.unsubscribeFromRouteData(pe),this.subscribeToRouteData(pe)}unsubscribeFromRouteData(pe){this.outletDataSubscriptions.get(pe)?.unsubscribe(),this.outletDataSubscriptions.delete(pe)}subscribeToRouteData(pe){const{activatedRoute:we}=pe,Je=(0,D.z)([we.queryParams,we.params,we.data]).pipe((0,W.n)(([Mt,St,rn],kn)=>(rn={...Mt,...St,...rn},0===kn?(0,w.of)(rn):Promise.resolve(rn)))).subscribe(Mt=>{if(!pe.isActivated||!pe.activatedComponentRef||pe.activatedRoute!==we||null===we.component)return void this.unsubscribeFromRouteData(pe);const St=(0,p.HJs)(we.component);if(St)for(const{templateName:rn}of St.inputs)pe.activatedComponentRef.setInput(rn,Mt[rn]);else this.unsubscribeFromRouteData(pe)});this.outletDataSubscriptions.set(pe,Je)}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac})}return se})();function ua(se,Ce,pe){if(pe&&se.shouldReuseRoute(Ce.value,pe.value.snapshot)){const we=pe.value;we._futureSnapshot=Ce.value;const Je=function uo(se,Ce,pe){return Ce.children.map(we=>{for(const Je of pe.children)if(se.shouldReuseRoute(we.value,Je.value.snapshot))return ua(se,we,Je);return ua(se,we)})}(se,Ce,pe);return new xs(we,Je)}{if(se.shouldAttach(Ce.value)){const Mt=se.retrieve(Ce.value);if(null!==Mt){const St=Mt.route;return St.value._futureSnapshot=Ce.value,St.children=Ce.children.map(rn=>ua(se,rn)),St}}const we=function pa(se){return new un(new m.t(se.url),new m.t(se.params),new m.t(se.queryParams),new m.t(se.fragment),new m.t(se.data),se.outlet,se.component,se)}(Ce.value),Je=Ce.children.map(Mt=>ua(se,Mt));return new xs(we,Je)}}class Cr{redirectTo;navigationBehaviorOptions;constructor(Ce,pe){this.redirectTo=Ce,this.navigationBehaviorOptions=pe}}const Or="ngNavigationCancelingError";function Kr(se,Ce){const{redirectTo:pe,navigationBehaviorOptions:we}=cn(Ce)?{redirectTo:Ce,navigationBehaviorOptions:void 0}:Ce,Je=xr(!1,Ze.Redirect);return Je.url=pe,Je.navigationBehaviorOptions=we,Je}function xr(se,Ce){const pe=new Error(`NavigationCancelingError: ${se||""}`);return pe[Or]=!0,pe.cancellationCode=Ce,pe}function da(se){return!!se&&se[Or]}class kr{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(Ce,pe,we,Je,Mt){this.routeReuseStrategy=Ce,this.futureState=pe,this.currState=we,this.forwardEvent=Je,this.inputBindingEnabled=Mt}activate(Ce){const pe=this.futureState._root,we=this.currState?this.currState._root:null;this.deactivateChildRoutes(pe,we,Ce),js(this.futureState.root),this.activateChildRoutes(pe,we,Ce)}deactivateChildRoutes(Ce,pe,we){const Je=Bs(pe);Ce.children.forEach(Mt=>{const St=Mt.value.outlet;this.deactivateRoutes(Mt,Je[St],we),delete Je[St]}),Object.values(Je).forEach(Mt=>{this.deactivateRouteAndItsChildren(Mt,we)})}deactivateRoutes(Ce,pe,we){const Je=Ce.value,Mt=pe?pe.value:null;if(Je===Mt)if(Je.component){const St=we.getContext(Je.outlet);St&&this.deactivateChildRoutes(Ce,pe,St.children)}else this.deactivateChildRoutes(Ce,pe,we);else Mt&&this.deactivateRouteAndItsChildren(pe,we)}deactivateRouteAndItsChildren(Ce,pe){Ce.value.component&&this.routeReuseStrategy.shouldDetach(Ce.value.snapshot)?this.detachAndStoreRouteSubtree(Ce,pe):this.deactivateRouteAndOutlet(Ce,pe)}detachAndStoreRouteSubtree(Ce,pe){const we=pe.getContext(Ce.value.outlet),Je=we&&Ce.value.component?we.children:pe,Mt=Bs(Ce);for(const St of Object.values(Mt))this.deactivateRouteAndItsChildren(St,Je);if(we&&we.outlet){const St=we.outlet.detach(),rn=we.children.onOutletDeactivated();this.routeReuseStrategy.store(Ce.value.snapshot,{componentRef:St,route:Ce,contexts:rn})}}deactivateRouteAndOutlet(Ce,pe){const we=pe.getContext(Ce.value.outlet),Je=we&&Ce.value.component?we.children:pe,Mt=Bs(Ce);for(const St of Object.values(Mt))this.deactivateRouteAndItsChildren(St,Je);we&&(we.outlet&&(we.outlet.deactivate(),we.children.onOutletDeactivated()),we.attachRef=null,we.route=null)}activateChildRoutes(Ce,pe,we){const Je=Bs(pe);Ce.children.forEach(Mt=>{this.activateRoutes(Mt,Je[Mt.value.outlet],we),this.forwardEvent(new Wt(Mt.value.snapshot))}),Ce.children.length&&this.forwardEvent(new Et(Ce.value.snapshot))}activateRoutes(Ce,pe,we){const Je=Ce.value,Mt=pe?pe.value:null;if(js(Je),Je===Mt)if(Je.component){const St=we.getOrCreateContext(Je.outlet);this.activateChildRoutes(Ce,pe,St.children)}else this.activateChildRoutes(Ce,pe,we);else if(Je.component){const St=we.getOrCreateContext(Je.outlet);if(this.routeReuseStrategy.shouldAttach(Je.snapshot)){const rn=this.routeReuseStrategy.retrieve(Je.snapshot);this.routeReuseStrategy.store(Je.snapshot,null),St.children.onOutletReAttached(rn.contexts),St.attachRef=rn.componentRef,St.route=rn.route.value,St.outlet&&St.outlet.attach(rn.componentRef,rn.route.value),js(rn.route.value),this.activateChildRoutes(Ce,null,St.children)}else St.attachRef=null,St.route=Je,St.outlet&&St.outlet.activateWith(Je,St.injector),this.activateChildRoutes(Ce,null,St.children)}else this.activateChildRoutes(Ce,null,we)}}class Lo{path;route;constructor(Ce){this.path=Ce,this.route=this.path[this.path.length-1]}}class ea{component;route;constructor(Ce,pe){this.component=Ce,this.route=pe}}function Da(se,Ce,pe){const we=se._root;return pr(we,Ce?Ce._root:null,pe,[we.value])}function Vr(se,Ce){const pe=Symbol(),we=Ce.get(se,pe);return we===pe?"function"!=typeof se||(0,p.LfX)(se)?Ce.get(se):se:we}function pr(se,Ce,pe,we,Je={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=Bs(Ce);return se.children.forEach(St=>{(function Na(se,Ce,pe,we,Je={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=se.value,St=Ce?Ce.value:null,rn=pe?pe.getContext(se.value.outlet):null;if(St&&Mt.routeConfig===St.routeConfig){const kn=function qa(se,Ce,pe){if("function"==typeof pe)return pe(se,Ce);switch(pe){case"pathParamsChange":return!P(se.url,Ce.url);case"pathParamsOrQueryParamsChange":return!P(se.url,Ce.url)||!Qe(se.queryParams,Ce.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ts(se,Ce)||!Qe(se.queryParams,Ce.queryParams);default:return!Ts(se,Ce)}}(St,Mt,Mt.routeConfig.runGuardsAndResolvers);kn?Je.canActivateChecks.push(new Lo(we)):(Mt.data=St.data,Mt._resolvedData=St._resolvedData),pr(se,Ce,Mt.component?rn?rn.children:null:pe,we,Je),kn&&rn&&rn.outlet&&rn.outlet.isActivated&&Je.canDeactivateChecks.push(new ea(rn.outlet.component,St))}else St&&Sa(Ce,rn,Je),Je.canActivateChecks.push(new Lo(we)),pr(se,null,Mt.component?rn?rn.children:null:pe,we,Je)})(St,Mt[St.value.outlet],pe,we.concat([St.value]),Je),delete Mt[St.value.outlet]}),Object.entries(Mt).forEach(([St,rn])=>Sa(rn,pe.getContext(St),Je)),Je}function Sa(se,Ce,pe){const we=Bs(se),Je=se.value;Object.entries(we).forEach(([Mt,St])=>{Sa(St,Je.component?Ce?Ce.children.getContext(Mt):null:Ce,pe)}),pe.canDeactivateChecks.push(new ea(Je.component&&Ce&&Ce.outlet&&Ce.outlet.isActivated?Ce.outlet.component:null,Je))}function Pr(se){return"function"==typeof se}function hs(se){return se instanceof S.G||"EmptyError"===se?.name}const As=Symbol("INITIAL_VALUE");function Ps(){return(0,W.n)(se=>(0,D.z)(se.map(Ce=>Ce.pipe((0,y.s)(1),(0,z.Z)(As)))).pipe((0,M.T)(Ce=>{for(const pe of Ce)if(!0!==pe){if(pe===As)return As;if(!1===pe||Wr(pe))return pe}return!0}),(0,Z.p)(Ce=>Ce!==As),(0,y.s)(1)))}function Wr(se){return cn(se)||se instanceof Cr}function qe(se){return(0,Y.F)((0,te.M)(Ce=>{if("boolean"!=typeof Ce)throw Kr(0,Ce)}),(0,M.T)(Ce=>!0===Ce))}class yn{segmentGroup;constructor(Ce){this.segmentGroup=Ce||null}}class ai extends Error{urlTree;constructor(Ce){super(),this.urlTree=Ce}}function ts(se){return(0,u.$)(new yn(se))}class Ur{urlSerializer;urlTree;constructor(Ce,pe){this.urlSerializer=Ce,this.urlTree=pe}lineralizeSegments(Ce,pe){let we=[],Je=pe.root;for(;;){if(we=we.concat(Je.segments),0===Je.numberOfChildren)return(0,w.of)(we);if(Je.numberOfChildren>1||!Je.children[Ve])return(0,u.$)(new p.wOt(4e3,!1));Je=Je.children[Ve]}}applyRedirectCommands(Ce,pe,we,Je,Mt){if("string"!=typeof pe){const rn=pe,{queryParams:kn,fragment:Yn,routeConfig:es,url:sn,outlet:Se,params:$,data:ye,title:Me}=Je,ft=(0,p.N4e)(Mt,()=>rn({params:$,data:ye,queryParams:kn,fragment:Yn,routeConfig:es,url:sn,outlet:Se,title:Me}));if(ft instanceof mt)throw new ai(ft);pe=ft}const St=this.applyRedirectCreateUrlTree(pe,this.urlSerializer.parse(pe),Ce,we);if("/"===pe[0])throw new ai(St);return St}applyRedirectCreateUrlTree(Ce,pe,we,Je){const Mt=this.createSegmentGroup(Ce,pe.root,we,Je);return new mt(Mt,this.createQueryParams(pe.queryParams,this.urlTree.queryParams),pe.fragment)}createQueryParams(Ce,pe){const we={};return Object.entries(Ce).forEach(([Je,Mt])=>{if("string"==typeof Mt&&":"===Mt[0]){const rn=Mt.substring(1);we[Je]=pe[rn]}else we[Je]=Mt}),we}createSegmentGroup(Ce,pe,we,Je){const Mt=this.createSegments(Ce,pe.segments,we,Je);let St={};return Object.entries(pe.children).forEach(([rn,kn])=>{St[rn]=this.createSegmentGroup(Ce,kn,we,Je)}),new Jt(Mt,St)}createSegments(Ce,pe,we,Je){return pe.map(Mt=>":"===Mt.path[0]?this.findPosParam(Ce,Mt,Je):this.findOrReturn(Mt,we))}findPosParam(Ce,pe,we){const Je=we[pe.path.substring(1)];if(!Je)throw new p.wOt(4001,!1);return Je}findOrReturn(Ce,pe){let we=0;for(const Je of pe){if(Je.path===Ce.path)return pe.splice(we),Je;we++}return Ce}}const ma={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Va(se,Ce,pe,we,Je){const Mt=Ir(se,Ce,pe);return Mt.matched?(we=function Ie(se,Ce){return se.providers&&!se._injector&&(se._injector=(0,p.Ol2)(se.providers,Ce,`Route: ${se.path}`)),se._injector??Ce}(Ce,we),function Pt(se,Ce,pe,we){const Je=Ce.canMatch;if(!Je||0===Je.length)return(0,w.of)(!0);const Mt=Je.map(St=>{const rn=Vr(St,se);return ge(function rr(se){return se&&Pr(se.canMatch)}(rn)?rn.canMatch(Ce,pe):(0,p.N4e)(se,()=>rn(Ce,pe)))});return(0,w.of)(Mt).pipe(Ps(),qe())}(we,Ce,pe).pipe((0,M.T)(St=>!0===St?Mt:{...ma}))):(0,w.of)(Mt)}function Ir(se,Ce,pe){if("**"===Ce.path)return function La(se){return{matched:!0,parameters:se.length>0?de(se).parameters:{},consumedSegments:se,remainingSegments:[],positionalParamSegments:{}}}(pe);if(""===Ce.path)return"full"===Ce.pathMatch&&(se.hasChildren()||pe.length>0)?{...ma}:{matched:!0,consumedSegments:[],remainingSegments:pe,parameters:{},positionalParamSegments:{}};const Je=(Ce.matcher||ct)(pe,se,Ce);if(!Je)return{...ma};const Mt={};Object.entries(Je.posParams??{}).forEach(([rn,kn])=>{Mt[rn]=kn.path});const St=Je.consumed.length>0?{...Mt,...Je.consumed[Je.consumed.length-1].parameters}:Mt;return{matched:!0,consumedSegments:Je.consumed,remainingSegments:pe.slice(Je.consumed.length),parameters:St,positionalParamSegments:Je.posParams??{}}}function to(se,Ce,pe,we){return pe.length>0&&function Ma(se,Ce,pe){return pe.some(we=>Ks(se,Ce,we)&&hn(we)!==Ve)}(se,pe,we)?{segmentGroup:new Jt(Ce,Is(we,new Jt(pe,se.children))),slicedSegments:[]}:0===pe.length&&function Zo(se,Ce,pe){return pe.some(we=>Ks(se,Ce,we))}(se,pe,we)?{segmentGroup:new Jt(se.segments,_c(se,pe,we,se.children)),slicedSegments:pe}:{segmentGroup:new Jt(se.segments,se.children),slicedSegments:pe}}function _c(se,Ce,pe,we){const Je={};for(const Mt of pe)if(Ks(se,Ce,Mt)&&!we[hn(Mt)]){const St=new Jt([],{});Je[hn(Mt)]=St}return{...we,...Je}}function Is(se,Ce){const pe={};pe[Ve]=Ce;for(const we of se)if(""===we.path&&hn(we)!==Ve){const Je=new Jt([],{});pe[hn(we)]=Je}return pe}function Ks(se,Ce,pe){return(!(se.hasChildren()||Ce.length>0)||"full"!==pe.pathMatch)&&""===pe.path}class Sl{}class jr{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(Ce,pe,we,Je,Mt,St,rn){this.injector=Ce,this.configLoader=pe,this.rootComponentType=we,this.config=Je,this.urlTree=Mt,this.paramsInheritanceStrategy=St,this.urlSerializer=rn,this.applyRedirects=new Ur(this.urlSerializer,this.urlTree)}noMatchError(Ce){return new p.wOt(4002,`'${Ce.segmentGroup}'`)}recognize(){const Ce=to(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ce).pipe((0,M.T)(({children:pe,rootSnapshot:we})=>{const Je=new xs(we,pe),Mt=new Jn("",Je),St=function ii(se,Ce,pe=null,we=null){return Ii(Ei(se),Ce,pe,we)}(we,[],this.urlTree.queryParams,this.urlTree.fragment);return St.queryParams=this.urlTree.queryParams,Mt.url=this.urlSerializer.serialize(St),{state:Mt,tree:St}}))}match(Ce){const pe=new pn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Ce,Ve,pe).pipe((0,M.T)(we=>({children:we,rootSnapshot:pe})),(0,N.W)(we=>{if(we instanceof ai)return this.urlTree=we.urlTree,this.match(we.urlTree.root);throw we instanceof yn?this.noMatchError(we):we}))}processSegmentGroup(Ce,pe,we,Je,Mt){return 0===we.segments.length&&we.hasChildren()?this.processChildren(Ce,pe,we,Mt):this.processSegment(Ce,pe,we,we.segments,Je,!0,Mt).pipe((0,M.T)(St=>St instanceof xs?[St]:[]))}processChildren(Ce,pe,we,Je){const Mt=[];for(const St of Object.keys(we.children))"primary"===St?Mt.unshift(St):Mt.push(St);return(0,e.H)(Mt).pipe((0,J.H)(St=>{const rn=we.children[St],kn=function Fn(se,Ce){const pe=se.filter(we=>hn(we)===Ce);return pe.push(...se.filter(we=>hn(we)!==Ce)),pe}(pe,St);return this.processSegmentGroup(Ce,kn,rn,St,Je)}),function R(se,Ce){return(0,fe.N)((0,oe.S)(se,Ce,arguments.length>=2,!0))}((St,rn)=>(St.push(...rn),St)),(0,Pe.U)(null),function vt(se,Ce){const pe=arguments.length>=2;return we=>we.pipe(se?(0,Z.p)((Je,Mt)=>se(Je,Mt,we)):lt.D,We(1),pe?(0,Pe.U)(Ce):(0,rt.v)(()=>new S.G))}(),(0,v.Z)(St=>{if(null===St)return ts(we);const rn=_a(St);return function ws(se){se.sort((Ce,pe)=>Ce.value.outlet===Ve?-1:pe.value.outlet===Ve?1:Ce.value.outlet.localeCompare(pe.value.outlet))}(rn),(0,w.of)(rn)}))}processSegment(Ce,pe,we,Je,Mt,St,rn){return(0,e.H)(pe).pipe((0,J.H)(kn=>this.processSegmentAgainstRoute(kn._injector??Ce,pe,kn,we,Je,Mt,St,rn).pipe((0,N.W)(Yn=>{if(Yn instanceof yn)return(0,w.of)(null);throw Yn}))),(0,L.$)(kn=>!!kn),(0,N.W)(kn=>{if(hs(kn))return function Eo(se,Ce,pe){return 0===Ce.length&&!se.children[pe]}(we,Je,Mt)?(0,w.of)(new Sl):ts(we);throw kn}))}processSegmentAgainstRoute(Ce,pe,we,Je,Mt,St,rn,kn){return hn(we)===St||St!==Ve&&Ks(Je,Mt,we)?void 0===we.redirectTo?this.matchSegmentAgainstRoute(Ce,Je,we,Mt,St,kn):this.allowRedirects&&rn?this.expandSegmentAgainstRouteUsingRedirect(Ce,Je,pe,we,Mt,St,kn):ts(Je):ts(Je)}expandSegmentAgainstRouteUsingRedirect(Ce,pe,we,Je,Mt,St,rn){const{matched:kn,parameters:Yn,consumedSegments:es,positionalParamSegments:sn,remainingSegments:Se}=Ir(pe,Je,Mt);if(!kn)return ts(pe);"string"==typeof Je.redirectTo&&"/"===Je.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const $=new pn(Mt,Yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wo(Je),hn(Je),Je.component??Je._loadedComponent??null,Je,Rr(Je)),ye=Vt($,rn,this.paramsInheritanceStrategy);$.params=Object.freeze(ye.params),$.data=Object.freeze(ye.data);const Me=this.applyRedirects.applyRedirectCommands(es,Je.redirectTo,sn,$,Ce);return this.applyRedirects.lineralizeSegments(Je,Me).pipe((0,v.Z)(ft=>this.processSegment(Ce,we,pe,ft.concat(Se),St,!1,rn)))}matchSegmentAgainstRoute(Ce,pe,we,Je,Mt,St){const rn=Va(pe,we,Je,Ce);return"**"===we.path&&(pe.children={}),rn.pipe((0,W.n)(kn=>kn.matched?this.getChildConfig(Ce=we._injector??Ce,we,Je).pipe((0,W.n)(({routes:Yn})=>{const es=we._loadedInjector??Ce,{parameters:sn,consumedSegments:Se,remainingSegments:$}=kn,ye=new pn(Se,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wo(we),hn(we),we.component??we._loadedComponent??null,we,Rr(we)),Me=Vt(ye,St,this.paramsInheritanceStrategy);ye.params=Object.freeze(Me.params),ye.data=Object.freeze(Me.data);const{segmentGroup:ft,slicedSegments:Ft}=to(pe,Se,$,Yn);if(0===Ft.length&&ft.hasChildren())return this.processChildren(es,Yn,ft,ye).pipe((0,M.T)(_n=>new xs(ye,_n)));if(0===Yn.length&&0===Ft.length)return(0,w.of)(new xs(ye,[]));const Yt=hn(we)===Mt;return this.processSegment(es,Yn,ft,Ft,Yt?Ve:Mt,!0,ye).pipe((0,M.T)(_n=>new xs(ye,_n instanceof xs?[_n]:[])))})):ts(pe)))}getChildConfig(Ce,pe,we){return pe.children?(0,w.of)({routes:pe.children,injector:Ce}):pe.loadChildren?void 0!==pe._loadedRoutes?(0,w.of)({routes:pe._loadedRoutes,injector:pe._loadedInjector}):function Ee(se,Ce,pe,we){const Je=Ce.canLoad;if(void 0===Je||0===Je.length)return(0,w.of)(!0);const Mt=Je.map(St=>{const rn=Vr(St,se);return ge(function _r(se){return se&&Pr(se.canLoad)}(rn)?rn.canLoad(Ce,pe):(0,p.N4e)(se,()=>rn(Ce,pe)))});return(0,w.of)(Mt).pipe(Ps(),qe())}(Ce,pe,we).pipe((0,v.Z)(Je=>Je?this.configLoader.loadChildren(Ce,pe).pipe((0,te.M)(Mt=>{pe._loadedRoutes=Mt.routes,pe._loadedInjector=Mt.injector})):function Js(){return(0,u.$)(xr(!1,Ze.GuardRejected))}())):(0,w.of)({routes:[],injector:Ce})}}function ga(se){const Ce=se.value.routeConfig;return Ce&&""===Ce.path}function _a(se){const Ce=[],pe=new Set;for(const we of se){if(!ga(we)){Ce.push(we);continue}const Je=Ce.find(Mt=>we.value.routeConfig===Mt.value.routeConfig);void 0!==Je?(Je.children.push(...we.children),pe.add(Je)):Ce.push(we)}for(const we of pe){const Je=_a(we.children);Ce.push(new xs(we.value,Je))}return Ce.filter(we=>!pe.has(we))}function wo(se){return se.data||{}}function Rr(se){return se.resolve||{}}function Oa(se){const Ce=se.children.map(pe=>Oa(pe)).flat();return[se,...Ce]}function dl(se){return(0,W.n)(Ce=>{const pe=se(Ce);return pe?(0,e.H)(pe).pipe((0,M.T)(()=>Ce)):(0,w.of)(Ce)})}let Tl=(()=>{class se{buildTitle(pe){let we,Je=pe.root;for(;void 0!==Je;)we=this.getResolvedTitleForRoute(Je)??we,Je=Je.children.find(Mt=>Mt.outlet===Ve);return we}getResolvedTitleForRoute(pe){return pe.data[Be]}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:()=>(0,p.WQX)(or),providedIn:"root"})}return se})(),or=(()=>{class se extends Tl{title;constructor(pe){super(),this.title=pe}updateTitle(pe){const we=this.buildTitle(pe);void 0!==we&&this.title.setTitle(we)}static \u0275fac=function(we){return new(we||se)(p.KVO(it.hE))};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const no=new p.nKC("",{providedIn:"root",factory:()=>({})});let ho=(()=>{class se{static \u0275fac=function(we){return new(we||se)};static \u0275cmp=p.VBU({type:se,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(we,Je){1&we&&p.nrm(0,"router-outlet")},dependencies:[ca],encapsulation:2})}return se})();function Fs(se){const Ce=se.children&&se.children.map(Fs),pe=Ce?{...se,children:Ce}:{...se};return!pe.component&&!pe.loadComponent&&(Ce||pe.loadChildren)&&pe.outlet&&pe.outlet!==Ve&&(pe.component=ho),pe}const ci=new p.nKC("");let ns=(()=>{class se{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,p.WQX)(p.Ql9);loadComponent(pe){if(this.componentLoaders.get(pe))return this.componentLoaders.get(pe);if(pe._loadedComponent)return(0,w.of)(pe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(pe);const we=ge(pe.loadComponent()).pipe((0,M.T)(Fr),(0,te.M)(Mt=>{this.onLoadEndListener&&this.onLoadEndListener(pe),pe._loadedComponent=Mt}),(0,je.j)(()=>{this.componentLoaders.delete(pe)})),Je=new B.G(we,()=>new V.B).pipe((0,Ye.B)());return this.componentLoaders.set(pe,Je),Je}loadChildren(pe,we){if(this.childrenLoaders.get(we))return this.childrenLoaders.get(we);if(we._loadedRoutes)return(0,w.of)({routes:we._loadedRoutes,injector:we._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(we);const Mt=function lr(se,Ce,pe,we){return ge(se.loadChildren()).pipe((0,M.T)(Fr),(0,v.Z)(Je=>Je instanceof p.Co$||Array.isArray(Je)?(0,w.of)(Je):(0,e.H)(Ce.compileModuleAsync(Je))),(0,M.T)(Je=>{we&&we(se);let Mt,St,rn=!1;return Array.isArray(Je)?(St=Je,!0):(Mt=Je.create(pe).injector,St=Mt.get(ci,[],{optional:!0,self:!0}).flat()),{routes:St.map(Fs),injector:Mt}}))}(we,this.compiler,pe,this.onLoadEndListener).pipe((0,je.j)(()=>{this.childrenLoaders.delete(we)})),St=new B.G(Mt,()=>new V.B).pipe((0,Ye.B)());return this.childrenLoaders.set(we,St),St}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function Fr(se){return function dr(se){return se&&"object"==typeof se&&"default"in se}(se)?se.default:se}let ta=(()=>{class se{static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:()=>(0,p.WQX)(Ge),providedIn:"root"})}return se})(),Ge=(()=>{class se{shouldProcessUrl(pe){return!0}extract(pe){return pe}merge(pe,we){return pe}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const mn=new p.nKC(""),$e=new p.nKC("");function It(se,Ce,pe){const we=se.get($e),Je=se.get(t.q);return se.get(p.SKi).runOutsideAngular(()=>{if(!Je.startViewTransition||we.skipNextTransition)return we.skipNextTransition=!1,new Promise(Yn=>setTimeout(Yn));let Mt;const St=new Promise(Yn=>{Mt=Yn}),rn=Je.startViewTransition(()=>(Mt(),function at(se){return new Promise(Ce=>{(0,p.mal)({read:()=>setTimeout(Ce)},{injector:se})})}(se))),{onViewTransitionCreated:kn}=we;return kn&&(0,p.N4e)(se,()=>kn({transition:rn,from:Ce,to:pe})),St})}const bn=new p.nKC("");let Ri=(()=>{class se{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new V.B;transitionAbortSubject=new V.B;configLoader=(0,p.WQX)(ns);environmentInjector=(0,p.WQX)(p.uvJ);destroyRef=(0,p.WQX)(p.abz);urlSerializer=(0,p.WQX)(De);rootContexts=(0,p.WQX)(Vi);location=(0,p.WQX)(a.aZ);inputBindingEnabled=null!==(0,p.WQX)(wr,{optional:!0});titleStrategy=(0,p.WQX)(Tl);options=(0,p.WQX)(no,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,p.WQX)(ta);createViewTransition=(0,p.WQX)(mn,{optional:!0});navigationErrorHandler=(0,p.WQX)(bn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,w.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=Je=>this.events.next(new jt(Je)),this.configLoader.onLoadStartListener=Je=>this.events.next(new Os(Je)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(pe){const we=++this.navigationId;this.transitions?.next({...pe,extractedUrl:this.urlHandlingStrategy.extract(pe.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:we})}setupNavigations(pe){return this.transitions=new m.t(null),this.transitions.pipe((0,Z.p)(we=>null!==we),(0,W.n)(we=>{let Je=!1,Mt=!1;return(0,w.of)(we).pipe((0,W.n)(St=>{if(this.navigationId>we.id)return this.cancelNavigationTransition(we,"",Ze.SupersededByNewNavigation),E.w;this.currentTransition=we,this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,targetBrowserUrl:"string"==typeof St.extras.browserUrl?this.urlSerializer.parse(St.extras.browserUrl):St.extras.browserUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const rn=!pe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!rn&&"reload"!==(St.extras.onSameUrlNavigation??pe.onSameUrlNavigation)){const Yn="";return this.events.next(new Xt(St.id,this.urlSerializer.serialize(St.rawUrl),Yn,ht.IgnoredSameUrlNavigation)),St.resolve(!1),E.w}if(this.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,w.of)(St).pipe((0,W.n)(Yn=>(this.events.next(new vi(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),Yn.source,Yn.restoredState)),Yn.id!==this.navigationId?E.w:Promise.resolve(Yn))),function Ea(se,Ce,pe,we,Je,Mt){return(0,v.Z)(St=>function El(se,Ce,pe,we,Je,Mt,St="emptyOnly"){return new jr(se,Ce,pe,we,Je,St,Mt).recognize()}(se,Ce,pe,we,St.extractedUrl,Je,Mt).pipe((0,M.T)(({state:rn,tree:kn})=>({...St,targetSnapshot:rn,urlAfterRedirects:kn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,pe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,te.M)(Yn=>{we.targetSnapshot=Yn.targetSnapshot,we.urlAfterRedirects=Yn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yn.urlAfterRedirects};const es=new hi(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),this.urlSerializer.serialize(Yn.urlAfterRedirects),Yn.targetSnapshot);this.events.next(es)}));if(rn&&this.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:Yn,extractedUrl:es,source:sn,restoredState:Se,extras:$}=St,ye=new vi(Yn,this.urlSerializer.serialize(es),sn,Se);this.events.next(ye);const Me=Qr(this.rootComponentType).snapshot;return this.currentTransition=we={...St,targetSnapshot:Me,urlAfterRedirects:es,extras:{...$,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=es,(0,w.of)(we)}{const Yn="";return this.events.next(new Xt(St.id,this.urlSerializer.serialize(St.extractedUrl),Yn,ht.IgnoredByUrlHandlingStrategy)),St.resolve(!1),E.w}}),(0,te.M)(St=>{const rn=new ri(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(rn)}),(0,M.T)(St=>(this.currentTransition=we={...St,guards:Da(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},we)),function Sr(se,Ce){return(0,v.Z)(pe=>{const{targetSnapshot:we,currentSnapshot:Je,guards:{canActivateChecks:Mt,canDeactivateChecks:St}}=pe;return 0===St.length&&0===Mt.length?(0,w.of)({...pe,guardsResult:!0}):function Jo(se,Ce,pe,we){return(0,e.H)(se).pipe((0,v.Z)(Je=>function ee(se,Ce,pe,we,Je){const Mt=Ce&&Ce.routeConfig?Ce.routeConfig.canDeactivate:null;if(!Mt||0===Mt.length)return(0,w.of)(!0);const St=Mt.map(rn=>{const kn=Wi(Ce)??Je,Yn=Vr(rn,kn);return ge(function ya(se){return se&&Pr(se.canDeactivate)}(Yn)?Yn.canDeactivate(se,Ce,pe,we):(0,p.N4e)(kn,()=>Yn(se,Ce,pe,we))).pipe((0,L.$)())});return(0,w.of)(St).pipe(Ps())}(Je.component,Je.route,pe,Ce,we)),(0,L.$)(Je=>!0!==Je,!0))}(St,we,Je,se).pipe((0,v.Z)(rn=>rn&&function Vs(se){return"boolean"==typeof se}(rn)?function Uo(se,Ce,pe,we){return(0,e.H)(Ce).pipe((0,J.H)(Je=>(0,g.x)(function Qo(se,Ce){return null!==se&&Ce&&Ce(new Ai(se)),(0,w.of)(!0)}(Je.route.parent,we),function eo(se,Ce){return null!==se&&Ce&&Ce(new vn(se)),(0,w.of)(!0)}(Je.route,we),function ie(se,Ce,pe){const we=Ce[Ce.length-1],Mt=Ce.slice(0,Ce.length-1).reverse().map(St=>function Ba(se){const Ce=se.routeConfig?se.routeConfig.canActivateChild:null;return Ce&&0!==Ce.length?{node:se,guards:Ce}:null}(St)).filter(St=>null!==St).map(St=>(0,k.v)(()=>{const rn=St.guards.map(kn=>{const Yn=Wi(St.node)??pe,es=Vr(kn,Yn);return ge(function So(se){return se&&Pr(se.canActivateChild)}(es)?es.canActivateChild(we,se):(0,p.N4e)(Yn,()=>es(we,se))).pipe((0,L.$)())});return(0,w.of)(rn).pipe(Ps())}));return(0,w.of)(Mt).pipe(Ps())}(se,Je.path,pe),function H(se,Ce,pe){const we=Ce.routeConfig?Ce.routeConfig.canActivate:null;if(!we||0===we.length)return(0,w.of)(!0);const Je=we.map(Mt=>(0,k.v)(()=>{const St=Wi(Ce)??pe,rn=Vr(Mt,St);return ge(function Lr(se){return se&&Pr(se.canActivate)}(rn)?rn.canActivate(Ce,se):(0,p.N4e)(St,()=>rn(Ce,se))).pipe((0,L.$)())}));return(0,w.of)(Je).pipe(Ps())}(se,Je.route,pe))),(0,L.$)(Je=>!0!==Je,!0))}(we,Mt,se,Ce):(0,w.of)(rn)),(0,M.T)(rn=>({...pe,guardsResult:rn})))})}(this.environmentInjector,St=>this.events.next(St)),(0,te.M)(St=>{if(we.guardsResult=St.guardsResult,St.guardsResult&&"boolean"!=typeof St.guardsResult)throw Kr(0,St.guardsResult);const rn=new Nn(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(rn)}),(0,Z.p)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",Ze.GuardRejected),!1)),dl(St=>{if(0!==St.guards.canActivateChecks.length)return(0,w.of)(St).pipe((0,te.M)(rn=>{const kn=new Ki(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(kn)}),(0,W.n)(rn=>{let kn=!1;return(0,w.of)(rn).pipe(function qo(se,Ce){return(0,v.Z)(pe=>{const{targetSnapshot:we,guards:{canActivateChecks:Je}}=pe;if(!Je.length)return(0,w.of)(pe);const Mt=new Set(Je.map(kn=>kn.route)),St=new Set;for(const kn of Mt)if(!St.has(kn))for(const Yn of Oa(kn))St.add(Yn);let rn=0;return(0,e.H)(St).pipe((0,J.H)(kn=>Mt.has(kn)?function Yl(se,Ce,pe,we){const Je=se.routeConfig,Mt=se._resolve;return void 0!==Je?.title&&!Hr(Je)&&(Mt[Be]=Je.title),function vc(se,Ce,pe,we){const Je=ne(se);if(0===Je.length)return(0,w.of)({});const Mt={};return(0,e.H)(Je).pipe((0,v.Z)(St=>function Ua(se,Ce,pe,we){const Je=Wi(Ce)??we,Mt=Vr(se,Je);return ge(Mt.resolve?Mt.resolve(Ce,pe):(0,p.N4e)(Je,()=>Mt(Ce,pe)))}(se[St],Ce,pe,we).pipe((0,L.$)(),(0,te.M)(rn=>{if(rn instanceof Cr)throw Kr(new Ae,rn);Mt[St]=rn}))),We(1),(0,M.T)(()=>Mt),(0,N.W)(St=>hs(St)?E.w:(0,u.$)(St)))}(Mt,se,Ce,we).pipe((0,M.T)(St=>(se._resolvedData=St,se.data=Vt(se,se.parent,pe).resolve,null)))}(kn,we,se,Ce):(kn.data=Vt(kn,kn.parent,se).resolve,(0,w.of)(void 0))),(0,te.M)(()=>rn++),We(1),(0,v.Z)(kn=>rn===St.size?(0,w.of)(pe):E.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,te.M)({next:()=>kn=!0,complete:()=>{kn||this.cancelNavigationTransition(rn,"",Ze.NoDataFromResolver)}}))}),(0,te.M)(rn=>{const kn=new Ji(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(kn)}))}),dl(St=>{const rn=kn=>{const Yn=[];kn.routeConfig?.loadComponent&&!kn.routeConfig._loadedComponent&&Yn.push(this.configLoader.loadComponent(kn.routeConfig).pipe((0,te.M)(es=>{kn.component=es}),(0,M.T)(()=>{})));for(const es of kn.children)Yn.push(...rn(es));return Yn};return(0,D.z)(rn(St.targetSnapshot.root)).pipe((0,Pe.U)(null),(0,y.s)(1))}),dl(()=>this.afterPreactivation()),(0,W.n)(()=>{const{currentSnapshot:St,targetSnapshot:rn}=we,kn=this.createViewTransition?.(this.environmentInjector,St.root,rn.root);return kn?(0,e.H)(kn).pipe((0,M.T)(()=>we)):(0,w.of)(we)}),(0,M.T)(St=>{const rn=function Aa(se,Ce,pe){const we=ua(se,Ce._root,pe?pe._root:void 0);return new Mr(we,Ce)}(pe.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=we={...St,targetRouterState:rn},this.currentNavigation.targetRouterState=rn,we}),(0,te.M)(()=>{this.events.next(new Qi)}),((se,Ce,pe,we)=>(0,M.T)(Je=>(new kr(Ce,Je.targetRouterState,Je.currentRouterState,pe,we).activate(se),Je)))(this.rootContexts,pe.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,y.s)(1),(0,te.M)({next:St=>{Je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fe(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),this.titleStrategy?.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{Je=!0}}),(0,Ke.Q)(this.transitionAbortSubject.pipe((0,te.M)(St=>{throw St}))),(0,je.j)(()=>{!Je&&!Mt&&this.cancelNavigationTransition(we,"",Ze.SupersededByNewNavigation),this.currentTransition?.id===we.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,N.W)(St=>{if(this.destroyed)return we.resolve(!1),E.w;if(Mt=!0,da(St))this.events.next(new Ut(we.id,this.urlSerializer.serialize(we.extractedUrl),St.message,St.cancellationCode)),function qr(se){return da(se)&&cn(se.url)}(St)?this.events.next(new Bt(St.url,St.navigationBehaviorOptions)):we.resolve(!1);else{const rn=new Mn(we.id,this.urlSerializer.serialize(we.extractedUrl),St,we.targetSnapshot??void 0);try{const kn=(0,p.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(rn));if(!(kn instanceof Cr))throw this.events.next(rn),St;{const{message:Yn,cancellationCode:es}=Kr(0,kn);this.events.next(new Ut(we.id,this.urlSerializer.serialize(we.extractedUrl),Yn,es)),this.events.next(new Bt(kn.redirectTo,kn.navigationBehaviorOptions))}}catch(kn){this.options.resolveNavigationPromiseOnError?we.resolve(!1):we.reject(kn)}}return E.w}))}))}cancelNavigationTransition(pe,we,Je){const Mt=new Ut(pe.id,this.urlSerializer.serialize(pe.extractedUrl),we,Je);this.events.next(Mt),pe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const pe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),we=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return pe.toString()!==we?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function us(se){return se!==Un}let qi=(()=>{class se{static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:()=>(0,p.WQX)(Br),providedIn:"root"})}return se})();class Er{shouldDetach(Ce){return!1}store(Ce,pe){}shouldAttach(Ce){return!1}retrieve(Ce){return null}shouldReuseRoute(Ce,pe){return Ce.routeConfig===pe.routeConfig}}let Br=(()=>{class se extends Er{static \u0275fac=(()=>{let pe;return function(Je){return(pe||(pe=p.xGo(se)))(Je||se)}})();static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})(),Yr=(()=>{class se{urlSerializer=(0,p.WQX)(De);options=(0,p.WQX)(no,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,p.WQX)(a.aZ);urlHandlingStrategy=(0,p.WQX)(ta);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:pe,initialUrl:we,targetBrowserUrl:Je}){const Mt=void 0!==pe?this.urlHandlingStrategy.merge(pe,we):we,St=Je??Mt;return St instanceof mt?this.urlSerializer.serialize(St):St}commitTransition({targetRouterState:pe,finalUrl:we,initialUrl:Je}){we&&pe?(this.currentUrlTree=we,this.rawUrlTree=this.urlHandlingStrategy.merge(we,Je),this.routerState=pe):this.rawUrlTree=Je}routerState=Qr(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:pe}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,pe??this.rawUrlTree)}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:()=>(0,p.WQX)(mr),providedIn:"root"})}return se})(),mr=(()=>{class se extends Yr{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(pe){return this.location.subscribe(we=>{"popstate"===we.type&&setTimeout(()=>{pe(we.url,we.state,"popstate")})})}handleRouterEvent(pe,we){pe instanceof vi?this.updateStateMemento():pe instanceof Xt?this.commitTransition(we):pe instanceof hi?"eager"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(we),we)):pe instanceof Qi?(this.commitTransition(we),"deferred"===this.urlUpdateStrategy&&!we.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(we),we)):pe instanceof Ut&&(pe.code===Ze.GuardRejected||pe.code===Ze.NoDataFromResolver)?this.restoreHistory(we):pe instanceof Mn?this.restoreHistory(we,!0):pe instanceof Fe&&(this.lastSuccessfulId=pe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(pe,{extras:we,id:Je}){const{replaceUrl:Mt,state:St}=we;if(this.location.isCurrentPathEqualTo(pe)||Mt){const rn=this.browserPageId,kn={...St,...this.generateNgRouterState(Je,rn)};this.location.replaceState(pe,"",kn)}else{const rn={...St,...this.generateNgRouterState(Je,this.browserPageId+1)};this.location.go(pe,"",rn)}}restoreHistory(pe,we=!1){if("computed"===this.canceledNavigationResolution){const Mt=this.currentPageId-this.browserPageId;0!==Mt?this.location.historyGo(Mt):this.getCurrentUrlTree()===pe.finalUrl&&0===Mt&&(this.resetInternalState(pe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(we&&this.resetInternalState(pe),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(pe,we){return"computed"===this.canceledNavigationResolution?{navigationId:pe,\u0275routerPageId:we}:{navigationId:pe}}static \u0275fac=(()=>{let pe;return function(Je){return(pe||(pe=p.xGo(se)))(Je||se)}})();static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function Ys(se,Ce){se.events.pipe((0,Z.p)(pe=>pe instanceof Fe||pe instanceof Ut||pe instanceof Mn||pe instanceof Xt),(0,M.T)(pe=>pe instanceof Fe||pe instanceof Xt?0:pe instanceof Ut&&(pe.code===Ze.Redirect||pe.code===Ze.SupersededByNewNavigation)?2:1),(0,Z.p)(pe=>2!==pe),(0,y.s)(1)).subscribe(()=>{Ce()})}const tr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},el={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $o=(()=>{class se{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,p.WQX)(p.H3F);stateManager=(0,p.WQX)(Yr);options=(0,p.WQX)(no,{optional:!0})||{};pendingTasks=(0,p.WQX)(p.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,p.WQX)(Ri);urlSerializer=(0,p.WQX)(De);location=(0,p.WQX)(a.aZ);urlHandlingStrategy=(0,p.WQX)(ta);_events=new V.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,p.WQX)(qi);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,p.WQX)(ci,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,p.WQX)(wr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:pe=>{this.console.warn(pe)}}),this.subscribeToNavigationEvents()}eventsSubscription=new F.yU;subscribeToNavigationEvents(){const pe=this.navigationTransitions.events.subscribe(we=>{try{const Je=this.navigationTransitions.currentTransition,Mt=this.navigationTransitions.currentNavigation;if(null!==Je&&null!==Mt)if(this.stateManager.handleRouterEvent(we,Mt),we instanceof Ut&&we.code!==Ze.Redirect&&we.code!==Ze.SupersededByNewNavigation)this.navigated=!0;else if(we instanceof Fe)this.navigated=!0;else if(we instanceof Bt){const St=we.navigationBehaviorOptions,rn=this.urlHandlingStrategy.merge(we.url,Je.currentRawUrl),kn={browserUrl:Je.extras.browserUrl,info:Je.extras.info,skipLocationChange:Je.extras.skipLocationChange,replaceUrl:Je.extras.replaceUrl||"eager"===this.urlUpdateStrategy||us(Je.source),...St};this.scheduleNavigation(rn,Un,null,kn,{resolve:Je.resolve,reject:Je.reject,promise:Je.promise})}(function Hi(se){return!(se instanceof Qi||se instanceof Bt)})(we)&&this._events.next(we)}catch(Je){this.navigationTransitions.transitionAbortSubject.next(Je)}});this.eventsSubscription.add(pe)}resetRootComponentType(pe){this.routerState.root.component=pe,this.navigationTransitions.rootComponentType=pe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((pe,we,Je)=>{this.navigateToSyncWithBrowser(pe,Je,we)})}navigateToSyncWithBrowser(pe,we,Je){const Mt={replaceUrl:!0},St=Je?.navigationId?Je:null;if(Je){const kn={...Je};delete kn.navigationId,delete kn.\u0275routerPageId,0!==Object.keys(kn).length&&(Mt.state=kn)}const rn=this.parseUrl(pe);this.scheduleNavigation(rn,we,St,Mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(pe){this.config=pe.map(Fs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(pe,we={}){const{relativeTo:Je,queryParams:Mt,fragment:St,queryParamsHandling:rn,preserveFragment:kn}=we,Yn=kn?this.currentUrlTree.fragment:St;let sn,es=null;switch(rn??this.options.defaultQueryParamsHandling){case"merge":es={...this.currentUrlTree.queryParams,...Mt};break;case"preserve":es=this.currentUrlTree.queryParams;break;default:es=Mt||null}null!==es&&(es=this.removeEmptyProps(es));try{sn=Ei(Je?Je.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof pe[0]||"/"!==pe[0][0])&&(pe=[]),sn=this.currentUrlTree.root}return Ii(sn,pe,es,Yn??null)}navigateByUrl(pe,we={skipLocationChange:!1}){const Je=cn(pe)?pe:this.parseUrl(pe),Mt=this.urlHandlingStrategy.merge(Je,this.rawUrlTree);return this.scheduleNavigation(Mt,Un,null,we)}navigate(pe,we={skipLocationChange:!1}){return function Mi(se){for(let Ce=0;Ce<se.length;Ce++)if(null==se[Ce])throw new p.wOt(4008,!1)}(pe),this.navigateByUrl(this.createUrlTree(pe,we),we)}serializeUrl(pe){return this.urlSerializer.serialize(pe)}parseUrl(pe){try{return this.urlSerializer.parse(pe)}catch{return this.urlSerializer.parse("/")}}isActive(pe,we){let Je;if(Je=!0===we?{...tr}:!1===we?{...el}:we,cn(pe))return gt(this.currentUrlTree,pe,Je);const Mt=this.parseUrl(pe);return gt(this.currentUrlTree,Mt,Je)}removeEmptyProps(pe){return Object.entries(pe).reduce((we,[Je,Mt])=>(null!=Mt&&(we[Je]=Mt),we),{})}scheduleNavigation(pe,we,Je,Mt,St){if(this.disposed)return Promise.resolve(!1);let rn,kn,Yn;St?(rn=St.resolve,kn=St.reject,Yn=St.promise):Yn=new Promise((sn,Se)=>{rn=sn,kn=Se});const es=this.pendingTasks.add();return Ys(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(es))}),this.navigationTransitions.handleNavigationRequest({source:we,restoredState:Je,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:pe,extras:Mt,resolve:rn,reject:kn,promise:Yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yn.catch(sn=>Promise.reject(sn))}static \u0275fac=function(we){return new(we||se)};static \u0275prov=p.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},2972:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>A});var t=l(4412);class a{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var p=l(1360);let A=(()=>{class e{constructor(){this.viewConfig=new a,this.viewConfig$=new t.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275prov=p.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},3042:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>fe});var t=l(1360),a=l(4252),p=l(7921),A=l(6303),e=l(4549),w=l(1589),m=l(8018),D=l(9812),S=l(779),g=l(8434),k=l(8577),Y=l(7294),u=l(8698),E=l(8762);const B=["deleteCertModal"],V=[[["","addButton",""]]],F=["[addButton]"],M=oe=>[oe],W=()=>({animated:!1,backdrop:"static"});function y(oe,R){if(1&oe){const Pe=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Pe);const We=t.XpG(3);return t.Njj(We.openDeleteModal(We.certificates[0]))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&oe){const Pe=t.XpG(3);t.Y8G("disabled",Pe.deleteCertDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function z(oe,R){if(1&oe&&(t.j41(0,"app-action-bar",10),t.qex(1,11),t.SdG(2),t.DNE(3,y,3,4,"button",12),t.bVm(),t.k0s()),2&oe){const Pe=t.XpG(2);t.R7$(3),t.Y8G("ngIf",(null==Pe.certificates?null:Pe.certificates.length)>0)}}function Z(oe,R){1&oe&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function v(oe,R){1&oe&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.NoCertificates")," "))}function L(oe,R){if(1&oe&&(t.qex(0),t.j41(1,"app-form-row",16),t.nrm(2,"app-readonly",17),t.k0s(),t.j41(3,"app-form-row",16),t.nrm(4,"app-readonly",17),t.k0s(),t.j41(5,"app-form-row",18),t.nrm(6,"app-readonly",17)(7,"p",19),t.k0s(),t.bVm()),2&oe){const Pe=t.XpG(2);t.R7$(),t.Y8G("label","Common.Subject"),t.R7$(),t.Y8G("values",t.eq3(11,M,Pe.readOnlyCertificate.subject))("fieldType",Pe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("label","Common.Thumbprint"),t.R7$(),t.Y8G("values",t.eq3(13,M,Pe.readOnlyCertificate.thumbprint))("fieldType",Pe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("label","Common.ExpiresOn")("isLast",!0),t.R7$(),t.Y8G("values",t.eq3(15,M,Pe.readOnlyCertificate.expiration))("fieldType",Pe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("innerHTML",Pe.displayExpiry(null==Pe.readOnlyCertificate?null:Pe.readOnlyCertificate.expiration.MainText),t.npT)}}function J(oe,R){if(1&oe&&(t.j41(0,"div",5),t.DNE(1,z,4,1,"app-action-bar",6)(2,Z,3,3,"div",7)(3,v,3,3,"div",8)(4,L,8,17,"ng-container",9),t.k0s()),2&oe){const Pe=t.XpG();t.R7$(),t.Y8G("ngIf",!Pe.isReadOnly),t.R7$(),t.Y8G("ngIf",Pe.deleteCertDisabled&&!Pe.isReadOnly),t.R7$(),t.Y8G("ngIf",(null==Pe.certificates?null:Pe.certificates.length)<1),t.R7$(),t.Y8G("ngIf",1==(null==Pe.certificates?null:Pe.certificates.length)&&Pe.readOnlyCertificate)}}function te(oe,R){if(1&oe){const Pe=t.RV6();t.j41(0,"app-data-table",20),t.bIt("onDelete",function(We){t.eBV(Pe);const rt=t.XpG();return t.Njj(rt.openDeleteModal(We))}),t.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),t.k0s()}if(2&oe){const Pe=t.XpG();t.Y8G("isReadOnly",Pe.isReadOnly)("rows",Pe.certificates)("norowslabel","Clients.NoCertificates")("actions",Pe.dataTableActions),t.R7$(),t.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),t.R7$(),t.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),t.R7$(),t.Y8G("prop","expiration")("formatter",Pe.displayExpiry.bind(Pe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function N(oe,R){if(1&oe){const Pe=t.RV6();t.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",29),t.bIt("click",function(){t.eBV(Pe);const We=t.XpG();return t.Njj(We.closeDeleteModal())}),t.nrm(9,"span",30),t.j41(10,"span",31),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",32),t.nrm(14,"p",33),t.nI1(15,"translate"),t.k0s(),t.nrm(16,"div",34),t.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),t.bIt("click",function(){t.eBV(Pe);const We=t.XpG();return t.Njj(We.removeCert())}),t.EFF(21),t.nI1(22,"translate"),t.k0s()(),t.j41(23,"button",39),t.bIt("click",function(){t.eBV(Pe);const We=t.XpG();return t.Njj(We.closeDeleteModal())}),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()()()()}2&oe&&(t.Y8G("config",t.lJ4(16,W)),t.R7$(6),t.JRh(t.bMT(7,6,"Common.Delete.Confirm")),t.R7$(5),t.JRh(t.bMT(12,8,"Common.Close")),t.R7$(3),t.Y8G("innerHTML",t.bMT(15,10,"Common.Delete.Warning"),t.npT),t.R7$(7),t.JRh(t.bMT(22,12,"Common.Delete.Title")),t.R7$(3),t.JRh(t.bMT(25,14,"Common.Delete.No")))}let fe=(()=>{class oe{set isReadOnly(Pe){this._isReadOnly=Pe||!1}get isReadOnly(){return this._isReadOnly}constructor(Pe,Te){this.translateService=Pe,this.dataTableService=Te,this.showSingle=!1,this.delete=new t.bkB,this.prettyDateTimePipe=new w.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Pe=>{this.openDeleteModal(Pe)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[a.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new p.b(this.certificates[0]):null}openDeleteModal(Pe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Pe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Pe){let Te=e.c9.fromISO(Pe);const We=this.daysUntilExpiry(Te);if(this.warnOfExpiry(Te)){let rt='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return rt=rt.replace("{0}",this.translateService.instant("Common.ExpiresIn")),rt=rt.replace("{1}",We.toString()),rt=rt.replace("{2}",this.translateService.instant("Common.UntilExpiry")),rt}return this.prettyDateTimePipe.transform(Pe)}warnOfExpiry(Pe){return this.daysUntilExpiry(Pe)<=30&&this.daysUntilExpiry(Pe)>=1}daysUntilExpiry(Pe){const Te=Pe.toMillis()-e.c9.now().toMillis();return Math.round(Te/864e5)}get ReadOnlyFieldType(){return A.t}static{this.\u0275fac=function(Te){return new(Te||oe)(t.rXU(m.c$),t.rXU(D.I))}}static{this.\u0275cmp=t.VBU({type:oe,selectors:[["app-saml-cert-list"]],viewQuery:function(Te,We){if(1&Te&&t.GBs(B,5),2&Te){let rt;t.mGM(rt=t.lsd())&&(We.deleteCertModal=rt.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},standalone:!1,features:[t.OA$],ngContentSelectors:F,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Te,We){1&Te&&(t.NAR(V),t.j41(0,"div",1),t.DNE(1,J,5,4,"div",2)(2,te,4,16,"app-data-table",3),t.k0s(),t.DNE(3,N,26,17,"div",4)),2&Te&&(t.R7$(),t.Y8G("ngIf",We.showSingle),t.R7$(),t.Y8G("ngIf",!We.showSingle),t.R7$(),t.Y8G("ngIf",!We.isReadOnly))},dependencies:[S.hZ,g.bT,a.up,k.w,Y.n,u.Y,E.O,m.D9],encapsulation:2,changeDetection:0})}}return oe})()},3073:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>e});const{isArray:t}=Array,{getPrototypeOf:a,prototype:p,keys:A}=Object;function e(m){if(1===m.length){const D=m[0];if(t(D))return{args:D,keys:null};if(function w(m){return m&&"object"==typeof m&&a(m)===p}(D)){const S=A(D);return{args:S.map(g=>D[g]),keys:S}}}return{args:m,keys:null}}},3120:(ot,ve,l)=>{var t=l(6589);l(57),l(4579),l(4846),l(8825),l(812);var a=ot.exports=t.ssh=t.ssh||{};function p(w,m){var D=m.toString(16);D[0]>="8"&&(D="00"+D);var S=t.util.hexToBytes(D);w.putInt32(S.length),w.putBytes(S)}function A(w,m){w.putInt32(m.length),w.putString(m)}function e(){for(var w=t.md.sha1.create(),m=arguments.length,D=0;D<m;++D)w.update(arguments[D]);return w.digest()}a.privateKeyToPutty=function(w,m,D){var S="ssh-rsa",g=""===(m=m||"")?"none":"aes256-cbc",k="PuTTY-User-Key-File-2: "+S+"\r\n";k+="Encryption: "+g+"\r\n",k+="Comment: "+(D=D||"")+"\r\n";var Y=t.util.createBuffer();A(Y,S),p(Y,w.e),p(Y,w.n);var u=t.util.encode64(Y.bytes(),64),E=Math.floor(u.length/66)+1;k+="Public-Lines: "+E+"\r\n",k+=u;var V,B=t.util.createBuffer();if(p(B,w.d),p(B,w.p),p(B,w.q),p(B,w.qInv),m){var F=B.length()+16-1;F-=F%16;var M=e(B.bytes());M.truncate(M.length()-F+B.length()),B.putBuffer(M);var W=t.util.createBuffer();W.putBuffer(e("\0\0\0\0",m)),W.putBuffer(e("\0\0\0\x01",m));var y=t.aes.createEncryptionCipher(W.truncate(8),"CBC");y.start(t.util.createBuffer().fillWithByte(0,16)),y.update(B.copy()),y.finish();var z=y.output;z.truncate(16),V=t.util.encode64(z.bytes(),64)}else V=t.util.encode64(B.bytes(),64);k+="\r\nPrivate-Lines: "+(E=Math.floor(V.length/66)+1)+"\r\n",k+=V;var Z=e("putty-private-key-file-mac-key",m),v=t.util.createBuffer();A(v,S),A(v,g),A(v,D),v.putInt32(Y.length()),v.putBuffer(Y),v.putInt32(B.length()),v.putBuffer(B);var L=t.hmac.create();return L.start("sha1",Z),L.update(v.bytes()),k+"\r\nPrivate-MAC: "+L.digest().toHex()+"\r\n"},a.publicKeyToOpenSSH=function(w,m){var D="ssh-rsa";m=m||"";var S=t.util.createBuffer();return A(S,D),p(S,w.e),p(S,w.n),D+" "+t.util.encode64(S.bytes())+" "+m},a.privateKeyToOpenSSH=function(w,m){return m?t.pki.encryptRsaPrivateKey(w,m,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(w)},a.getPublicKeyFingerprint=function(w,m){var D=(m=m||{}).md||t.md.md5.create(),g=t.util.createBuffer();A(g,"ssh-rsa"),p(g,w.e),p(g,w.n),D.start(),D.update(g.getBytes());var k=D.digest();if("hex"===m.encoding){var Y=k.toHex();return m.delimiter?Y.match(/.{2}/g).join(m.delimiter):Y}if("binary"===m.encoding)return k.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".');return k}},3165:(ot,ve,l)=>{"use strict";l.d(ve,{$R:()=>xt,Lr:()=>B,Nl:()=>v,Qq:()=>Qe,Sx:()=>ii,a7:()=>en,yz:()=>Be}),l(467);var a=l(1360),p=l(274),A=l(5964),e=l(6354),w=l(980),m=l(5558),D=l(7673),S=l(1985),g=l(6648),k=l(9377),Y=l(9361);class u{}class E{}class B{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Rt){Rt?"string"==typeof Rt?this.lazyInit=()=>{this.headers=new Map,Rt.split("\n").forEach(yt=>{const tn=yt.indexOf(":");if(tn>0){const Vn=yt.slice(0,tn),on=yt.slice(tn+1).trim();this.addHeaderEntry(Vn,on)}})}:typeof Headers<"u"&&Rt instanceof Headers?(this.headers=new Map,Rt.forEach((yt,tn)=>{this.addHeaderEntry(tn,yt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Rt).forEach(([yt,tn])=>{this.setHeaderEntries(yt,tn)})}:this.headers=new Map}has(Rt){return this.init(),this.headers.has(Rt.toLowerCase())}get(Rt){this.init();const yt=this.headers.get(Rt.toLowerCase());return yt&&yt.length>0?yt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Rt){return this.init(),this.headers.get(Rt.toLowerCase())||null}append(Rt,yt){return this.clone({name:Rt,value:yt,op:"a"})}set(Rt,yt){return this.clone({name:Rt,value:yt,op:"s"})}delete(Rt,yt){return this.clone({name:Rt,value:yt,op:"d"})}maybeSetNormalizedName(Rt,yt){this.normalizedNames.has(yt)||this.normalizedNames.set(yt,Rt)}init(){this.lazyInit&&(this.lazyInit instanceof B?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Rt=>this.applyUpdate(Rt)),this.lazyUpdate=null))}copyFrom(Rt){Rt.init(),Array.from(Rt.headers.keys()).forEach(yt=>{this.headers.set(yt,Rt.headers.get(yt)),this.normalizedNames.set(yt,Rt.normalizedNames.get(yt))})}clone(Rt){const yt=new B;return yt.lazyInit=this.lazyInit&&this.lazyInit instanceof B?this.lazyInit:this,yt.lazyUpdate=(this.lazyUpdate||[]).concat([Rt]),yt}applyUpdate(Rt){const yt=Rt.name.toLowerCase();switch(Rt.op){case"a":case"s":let tn=Rt.value;if("string"==typeof tn&&(tn=[tn]),0===tn.length)return;this.maybeSetNormalizedName(Rt.name,yt);const Vn=("a"===Rt.op?this.headers.get(yt):void 0)||[];Vn.push(...tn),this.headers.set(yt,Vn);break;case"d":const on=Rt.value;if(on){let Xn=this.headers.get(yt);if(!Xn)return;Xn=Xn.filter(qn=>-1===on.indexOf(qn)),0===Xn.length?(this.headers.delete(yt),this.normalizedNames.delete(yt)):this.headers.set(yt,Xn)}else this.headers.delete(yt),this.normalizedNames.delete(yt)}}addHeaderEntry(Rt,yt){const tn=Rt.toLowerCase();this.maybeSetNormalizedName(Rt,tn),this.headers.has(tn)?this.headers.get(tn).push(yt):this.headers.set(tn,[yt])}setHeaderEntries(Rt,yt){const tn=(Array.isArray(yt)?yt:[yt]).map(on=>on.toString()),Vn=Rt.toLowerCase();this.headers.set(Vn,tn),this.maybeSetNormalizedName(Rt,Vn)}forEach(Rt){this.init(),Array.from(this.normalizedNames.keys()).forEach(yt=>Rt(this.normalizedNames.get(yt),this.headers.get(yt)))}}class F{encodeKey(Rt){return z(Rt)}encodeValue(Rt){return z(Rt)}decodeKey(Rt){return decodeURIComponent(Rt)}decodeValue(Rt){return decodeURIComponent(Rt)}}const W=/%(\d[a-f0-9])/gi,y={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function z(ut){return encodeURIComponent(ut).replace(W,(Rt,yt)=>y[yt]??Rt)}function Z(ut){return`${ut}`}class v{map;encoder;updates=null;cloneFrom=null;constructor(Rt={}){if(this.encoder=Rt.encoder||new F,Rt.fromString){if(Rt.fromObject)throw new a.wOt(2805,!1);this.map=function M(ut,Rt){const yt=new Map;return ut.length>0&&ut.replace(/^\?/,"").split("&").forEach(Vn=>{const on=Vn.indexOf("="),[Xn,qn]=-1==on?[Rt.decodeKey(Vn),""]:[Rt.decodeKey(Vn.slice(0,on)),Rt.decodeValue(Vn.slice(on+1))],Gt=yt.get(Xn)||[];Gt.push(qn),yt.set(Xn,Gt)}),yt}(Rt.fromString,this.encoder)}else Rt.fromObject?(this.map=new Map,Object.keys(Rt.fromObject).forEach(yt=>{const tn=Rt.fromObject[yt],Vn=Array.isArray(tn)?tn.map(Z):[Z(tn)];this.map.set(yt,Vn)})):this.map=null}has(Rt){return this.init(),this.map.has(Rt)}get(Rt){this.init();const yt=this.map.get(Rt);return yt?yt[0]:null}getAll(Rt){return this.init(),this.map.get(Rt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Rt,yt){return this.clone({param:Rt,value:yt,op:"a"})}appendAll(Rt){const yt=[];return Object.keys(Rt).forEach(tn=>{const Vn=Rt[tn];Array.isArray(Vn)?Vn.forEach(on=>{yt.push({param:tn,value:on,op:"a"})}):yt.push({param:tn,value:Vn,op:"a"})}),this.clone(yt)}set(Rt,yt){return this.clone({param:Rt,value:yt,op:"s"})}delete(Rt,yt){return this.clone({param:Rt,value:yt,op:"d"})}toString(){return this.init(),this.keys().map(Rt=>{const yt=this.encoder.encodeKey(Rt);return this.map.get(Rt).map(tn=>yt+"="+this.encoder.encodeValue(tn)).join("&")}).filter(Rt=>""!==Rt).join("&")}clone(Rt){const yt=new v({encoder:this.encoder});return yt.cloneFrom=this.cloneFrom||this,yt.updates=(this.updates||[]).concat(Rt),yt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Rt=>this.map.set(Rt,this.cloneFrom.map.get(Rt))),this.updates.forEach(Rt=>{switch(Rt.op){case"a":case"s":const yt=("a"===Rt.op?this.map.get(Rt.param):void 0)||[];yt.push(Z(Rt.value)),this.map.set(Rt.param,yt);break;case"d":if(void 0===Rt.value){this.map.delete(Rt.param);break}{let tn=this.map.get(Rt.param)||[];const Vn=tn.indexOf(Z(Rt.value));-1!==Vn&&tn.splice(Vn,1),tn.length>0?this.map.set(Rt.param,tn):this.map.delete(Rt.param)}}}),this.cloneFrom=this.updates=null)}}class J{map=new Map;set(Rt,yt){return this.map.set(Rt,yt),this}get(Rt){return this.map.has(Rt)||this.map.set(Rt,Rt.defaultValue()),this.map.get(Rt)}delete(Rt){return this.map.delete(Rt),this}has(Rt){return this.map.has(Rt)}keys(){return this.map.keys()}}function N(ut){return typeof ArrayBuffer<"u"&&ut instanceof ArrayBuffer}function fe(ut){return typeof Blob<"u"&&ut instanceof Blob}function oe(ut){return typeof FormData<"u"&&ut instanceof FormData}const Pe="Content-Type",We="X-Request-URL",rt="text/plain",lt="application/json",vt=`${lt}, ${rt}, */*`;class je{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Rt,yt,tn,Vn){let on;if(this.url=yt,this.method=Rt.toUpperCase(),function te(ut){switch(ut){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Vn?(this.body=void 0!==tn?tn:null,on=Vn):on=tn,on&&(this.reportProgress=!!on.reportProgress,this.withCredentials=!!on.withCredentials,on.responseType&&(this.responseType=on.responseType),on.headers&&(this.headers=on.headers),on.context&&(this.context=on.context),on.params&&(this.params=on.params),this.transferCache=on.transferCache),this.headers??=new B,this.context??=new J,this.params){const Xn=this.params.toString();if(0===Xn.length)this.urlWithParams=yt;else{const qn=yt.indexOf("?");this.urlWithParams=yt+(-1===qn?"?":qn<yt.length-1?"&":"")+Xn}}else this.params=new v,this.urlWithParams=yt}serializeBody(){return null===this.body?null:"string"==typeof this.body||N(this.body)||fe(this.body)||oe(this.body)||function R(ut){return typeof URLSearchParams<"u"&&ut instanceof URLSearchParams}(this.body)?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oe(this.body)?null:fe(this.body)?this.body.type||null:N(this.body)?null:"string"==typeof this.body?rt:this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?lt:null}clone(Rt={}){const yt=Rt.method||this.method,tn=Rt.url||this.url,Vn=Rt.responseType||this.responseType,on=Rt.transferCache??this.transferCache,Xn=void 0!==Rt.body?Rt.body:this.body,qn=Rt.withCredentials??this.withCredentials,Gt=Rt.reportProgress??this.reportProgress;let oi=Rt.headers||this.headers,zt=Rt.params||this.params;const Un=Rt.context??this.context;return void 0!==Rt.setHeaders&&(oi=Object.keys(Rt.setHeaders).reduce((fn,Qn)=>fn.set(Qn,Rt.setHeaders[Qn]),oi)),Rt.setParams&&(zt=Object.keys(Rt.setParams).reduce((fn,Qn)=>fn.set(Qn,Rt.setParams[Qn]),zt)),new je(yt,tn,Xn,{params:zt,headers:oi,context:Un,reportProgress:Gt,responseType:Vn,withCredentials:qn,transferCache:on})}}var Ye=function(ut){return ut[ut.Sent=0]="Sent",ut[ut.UploadProgress=1]="UploadProgress",ut[ut.ResponseHeader=2]="ResponseHeader",ut[ut.DownloadProgress=3]="DownloadProgress",ut[ut.Response=4]="Response",ut[ut.User=5]="User",ut}(Ye||{});class Ke{headers;status;statusText;url;ok;type;constructor(Rt,yt=200,tn="OK"){this.headers=Rt.headers||new B,this.status=void 0!==Rt.status?Rt.status:yt,this.statusText=Rt.statusText||tn,this.url=Rt.url||null,this.ok=this.status>=200&&this.status<300}}class it extends Ke{constructor(Rt={}){super(Rt)}type=Ye.ResponseHeader;clone(Rt={}){return new it({headers:Rt.headers||this.headers,status:void 0!==Rt.status?Rt.status:this.status,statusText:Rt.statusText||this.statusText,url:Rt.url||this.url||void 0})}}class Ve extends Ke{body;constructor(Rt={}){super(Rt),this.body=void 0!==Rt.body?Rt.body:null}type=Ye.Response;clone(Rt={}){return new Ve({body:void 0!==Rt.body?Rt.body:this.body,headers:Rt.headers||this.headers,status:void 0!==Rt.status?Rt.status:this.status,statusText:Rt.statusText||this.statusText,url:Rt.url||this.url||void 0})}}class Be extends Ke{name="HttpErrorResponse";message;error;ok=!1;constructor(Rt){super(Rt,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Rt.url||"(unknown url)"}`:`Http failure response for ${Rt.url||"(unknown url)"}: ${Rt.status} ${Rt.statusText}`,this.error=Rt.error||null}}function st(ut,Rt){return{body:Rt,headers:ut.headers,context:ut.context,observe:ut.observe,params:ut.params,reportProgress:ut.reportProgress,responseType:ut.responseType,withCredentials:ut.withCredentials,transferCache:ut.transferCache}}let Qe=(()=>{class ut{handler;constructor(yt){this.handler=yt}request(yt,tn,Vn={}){let on;if(yt instanceof je)on=yt;else{let Gt,oi;Gt=Vn.headers instanceof B?Vn.headers:new B(Vn.headers),Vn.params&&(oi=Vn.params instanceof v?Vn.params:new v({fromObject:Vn.params})),on=new je(yt,tn,void 0!==Vn.body?Vn.body:null,{headers:Gt,context:Vn.context,params:oi,reportProgress:Vn.reportProgress,responseType:Vn.responseType||"json",withCredentials:Vn.withCredentials,transferCache:Vn.transferCache})}const Xn=(0,D.of)(on).pipe((0,p.H)(Gt=>this.handler.handle(Gt)));if(yt instanceof je||"events"===Vn.observe)return Xn;const qn=Xn.pipe((0,A.p)(Gt=>Gt instanceof Ve));switch(Vn.observe||"body"){case"body":switch(on.responseType){case"arraybuffer":return qn.pipe((0,e.T)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof ArrayBuffer))throw new a.wOt(2806,!1);return Gt.body}));case"blob":return qn.pipe((0,e.T)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof Blob))throw new a.wOt(2807,!1);return Gt.body}));case"text":return qn.pipe((0,e.T)(Gt=>{if(null!==Gt.body&&"string"!=typeof Gt.body)throw new a.wOt(2808,!1);return Gt.body}));default:return qn.pipe((0,e.T)(Gt=>Gt.body))}case"response":return qn;default:throw new a.wOt(2809,!1)}}delete(yt,tn={}){return this.request("DELETE",yt,tn)}get(yt,tn={}){return this.request("GET",yt,tn)}head(yt,tn={}){return this.request("HEAD",yt,tn)}jsonp(yt,tn){return this.request("JSONP",yt,{params:(new v).append(tn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(yt,tn={}){return this.request("OPTIONS",yt,tn)}patch(yt,tn,Vn={}){return this.request("PATCH",yt,st(Vn,tn))}post(yt,tn,Vn={}){return this.request("POST",yt,st(Vn,tn))}put(yt,tn,Vn={}){return this.request("PUT",yt,st(Vn,tn))}static \u0275fac=function(tn){return new(tn||ut)(a.KVO(u))};static \u0275prov=a.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const de=new a.nKC("");function qt(ut,Rt){return Rt(ut)}function Tn(ut,Rt){return(yt,tn)=>Rt.intercept(yt,{handle:Vn=>ut(Vn,tn)})}const en=new a.nKC(""),Ln=new a.nKC(""),ni=new a.nKC(""),mt=new a.nKC("",{providedIn:"root",factory:()=>!0});function Jt(){let ut=null;return(Rt,yt)=>{null===ut&&(ut=((0,a.WQX)(en,{optional:!0})??[]).reduceRight(Tn,qt));const tn=(0,a.WQX)(a.Ua0);if((0,a.WQX)(mt)){const on=tn.add();return ut(Rt,yt).pipe((0,w.j)(()=>tn.remove(on)))}return ut(Rt,yt)}}let ue=(()=>{class ut extends u{backend;injector;chain=null;pendingTasks=(0,a.WQX)(a.Ua0);contributeToStability=(0,a.WQX)(mt);constructor(yt,tn){super(),this.backend=yt,this.injector=tn}handle(yt){if(null===this.chain){const tn=Array.from(new Set([...this.injector.get(Ln),...this.injector.get(ni,[])]));this.chain=tn.reduceRight((Vn,on)=>function Wn(ut,Rt,yt){return(tn,Vn)=>(0,a.N4e)(yt,()=>Rt(tn,on=>ut(on,Vn)))}(Vn,on,this.injector),qt)}if(this.contributeToStability){const tn=this.pendingTasks.add();return this.chain(yt,Vn=>this.backend.handle(Vn)).pipe((0,w.j)(()=>this.pendingTasks.remove(tn)))}return this.chain(yt,tn=>this.backend.handle(tn))}static \u0275fac=function(tn){return new(tn||ut)(a.KVO(E),a.KVO(a.uvJ))};static \u0275prov=a.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const Ot=/^\)\]\}',?\n/,Gn=RegExp(`^${We}:`,"m");let Sn=(()=>{class ut{xhrFactory;constructor(yt){this.xhrFactory=yt}handle(yt){if("JSONP"===yt.method)throw new a.wOt(-2800,!1);const tn=this.xhrFactory;return(tn.\u0275loadImpl?(0,g.H)(tn.\u0275loadImpl()):(0,D.of)(null)).pipe((0,m.n)(()=>new S.c(on=>{const Xn=tn.build();if(Xn.open(yt.method,yt.urlWithParams),yt.withCredentials&&(Xn.withCredentials=!0),yt.headers.forEach((Fe,Ze)=>Xn.setRequestHeader(Fe,Ze.join(","))),yt.headers.has("Accept")||Xn.setRequestHeader("Accept",vt),!yt.headers.has(Pe)){const Fe=yt.detectContentTypeHeader();null!==Fe&&Xn.setRequestHeader(Pe,Fe)}if(yt.responseType){const Fe=yt.responseType.toLowerCase();Xn.responseType="json"!==Fe?Fe:"text"}const qn=yt.serializeBody();let Gt=null;const oi=()=>{if(null!==Gt)return Gt;const Fe=Xn.statusText||"OK",Ze=new B(Xn.getAllResponseHeaders()),ht=function Qt(ut){return"responseURL"in ut&&ut.responseURL?ut.responseURL:Gn.test(ut.getAllResponseHeaders())?ut.getResponseHeader(We):null}(Xn)||yt.url;return Gt=new it({headers:Ze,status:Xn.status,statusText:Fe,url:ht}),Gt},zt=()=>{let{headers:Fe,status:Ze,statusText:ht,url:Ut}=oi(),Xt=null;204!==Ze&&(Xt=typeof Xn.response>"u"?Xn.responseText:Xn.response),0===Ze&&(Ze=Xt?200:0);let Mn=Ze>=200&&Ze<300;if("json"===yt.responseType&&"string"==typeof Xt){const hi=Xt;Xt=Xt.replace(Ot,"");try{Xt=""!==Xt?JSON.parse(Xt):null}catch(ri){Xt=hi,Mn&&(Mn=!1,Xt={error:ri,text:Xt})}}Mn?(on.next(new Ve({body:Xt,headers:Fe,status:Ze,statusText:ht,url:Ut||void 0})),on.complete()):on.error(new Be({error:Xt,headers:Fe,status:Ze,statusText:ht,url:Ut||void 0}))},Un=Fe=>{const{url:Ze}=oi(),ht=new Be({error:Fe,status:Xn.status||0,statusText:Xn.statusText||"Unknown Error",url:Ze||void 0});on.error(ht)};let fn=!1;const Qn=Fe=>{fn||(on.next(oi()),fn=!0);let Ze={type:Ye.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ze.total=Fe.total),"text"===yt.responseType&&Xn.responseText&&(Ze.partialText=Xn.responseText),on.next(Ze)},vi=Fe=>{let Ze={type:Ye.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Ze.total=Fe.total),on.next(Ze)};return Xn.addEventListener("load",zt),Xn.addEventListener("error",Un),Xn.addEventListener("timeout",Un),Xn.addEventListener("abort",Un),yt.reportProgress&&(Xn.addEventListener("progress",Qn),null!==qn&&Xn.upload&&Xn.upload.addEventListener("progress",vi)),Xn.send(qn),on.next({type:Ye.Sent}),()=>{Xn.removeEventListener("error",Un),Xn.removeEventListener("abort",Un),Xn.removeEventListener("load",zt),Xn.removeEventListener("timeout",Un),yt.reportProgress&&(Xn.removeEventListener("progress",Qn),null!==qn&&Xn.upload&&Xn.upload.removeEventListener("progress",vi)),Xn.readyState!==Xn.DONE&&Xn.abort()}})))}static \u0275fac=function(tn){return new(tn||ut)(a.KVO(k.N0))};static \u0275prov=a.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const In=new a.nKC(""),_i=new a.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ni=new a.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class os{}let zn=(()=>{class ut{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(yt,tn,Vn){this.doc=yt,this.platform=tn,this.cookieName=Vn}getToken(){if("server"===this.platform)return null;const yt=this.doc.cookie||"";return yt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,k.bS)(yt,this.cookieName),this.lastCookieString=yt),this.lastToken}static \u0275fac=function(tn){return new(tn||ut)(a.KVO(Y.q),a.KVO(a.Agw),a.KVO(_i))};static \u0275prov=a.jDH({token:ut,factory:ut.\u0275fac})}return ut})();function ms(ut,Rt){const yt=ut.url.toLowerCase();if(!(0,a.WQX)(In)||"GET"===ut.method||"HEAD"===ut.method||yt.startsWith("http://")||yt.startsWith("https://"))return Rt(ut);const tn=(0,a.WQX)(os).getToken(),Vn=(0,a.WQX)(Ni);return null!=tn&&!ut.headers.has(Vn)&&(ut=ut.clone({headers:ut.headers.set(Vn,tn)})),Rt(ut)}var wt=function(ut){return ut[ut.Interceptors=0]="Interceptors",ut[ut.LegacyInterceptors=1]="LegacyInterceptors",ut[ut.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ut[ut.NoXsrfProtection=3]="NoXsrfProtection",ut[ut.JsonpSupport=4]="JsonpSupport",ut[ut.RequestsMadeViaParent=5]="RequestsMadeViaParent",ut[ut.Fetch=6]="Fetch",ut}(wt||{});function xt(...ut){const Rt=[Qe,Sn,ue,{provide:u,useExisting:ue},{provide:E,useFactory:()=>(0,a.WQX)(de,{optional:!0})??(0,a.WQX)(Sn)},{provide:Ln,useValue:ms,multi:!0},{provide:In,useValue:!0},{provide:os,useClass:zn}];for(const yt of ut)Rt.push(...yt.\u0275providers);return(0,a.EmA)(Rt)}const cn=new a.nKC("");function ii(){return function Tt(ut,Rt){return{\u0275kind:ut,\u0275providers:Rt}}(wt.LegacyInterceptors,[{provide:cn,useFactory:Jt},{provide:Ln,useExisting:cn,multi:!0}])}},3175:ot=>{var ve={};ot.exports=ve;var l={};ve.encode=function(a,p,A){if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');if(void 0!==A&&"number"!=typeof A)throw new TypeError('"maxline" must be a number.');var e="";if(a instanceof Uint8Array){var w=0,m=p.length,D=p.charAt(0),S=[0];for(w=0;w<a.length;++w){for(var g=0,k=a[w];g<S.length;++g)S[g]=(k+=S[g]<<8)%m,k=k/m|0;for(;k>0;)S.push(k%m),k=k/m|0}for(w=0;0===a[w]&&w<a.length-1;++w)e+=D;for(w=S.length-1;w>=0;--w)e+=p[S[w]]}else e=function t(a,p){var A=0,e=p.length,w=p.charAt(0),m=[0];for(A=0;A<a.length();++A){for(var D=0,S=a.at(A);D<m.length;++D)m[D]=(S+=m[D]<<8)%e,S=S/e|0;for(;S>0;)m.push(S%e),S=S/e|0}var g="";for(A=0;0===a.at(A)&&A<a.length()-1;++A)g+=w;for(A=m.length-1;A>=0;--A)g+=p[m[A]];return g}(a,p);if(A){var Y=new RegExp(".{1,"+A+"}","g");e=e.match(Y).join("\r\n")}return e},ve.decode=function(a,p){if("string"!=typeof a)throw new TypeError('"input" must be a string.');if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');var A=l[p];if(!A){A=l[p]=[];for(var e=0;e<p.length;++e)A[p.charCodeAt(e)]=e}a=a.replace(/\s/g,"");var w=p.length,m=p.charAt(0),D=[0];for(e=0;e<a.length;e++){var S=A[a.charCodeAt(e)];if(void 0===S)return;for(var g=0,k=S;g<D.length;++g)D[g]=255&(k+=D[g]*w),k>>=8;for(;k>0;)D.push(255&k),k>>=8}for(var Y=0;a[Y]===m&&Y<a.length-1;++Y)D.push(0);return typeof Buffer<"u"?Buffer.from(D.reverse()):new Uint8Array(D.reverse())}},3178:(ot,ve,l)=>{"use strict";l.d(ve,{a:()=>t});var t=function(a){return a.None="None",a.UserManager="UserManager",a.UserManagerReadOnly="UserManagerReadOnly",a.AuthorizationServerManager="AuthorizationServerManager",a.AuthorizationServerManagerReadOnly="AuthorizationServerManagerReadOnly",a.Auditer="Auditer",a.AllReadOnly="AllReadOnly",a.All="All",a}(t||{})},3218:(ot,ve,l)=>{"use strict";l.d(ve,{O:()=>w});var t=l(1594),a=l(6354),p=l(1360),A=l(2947),e=l(9196);let w=(()=>{class m{constructor(S,g){this.router=S,this.config=g}canActivate(S,g){return this.config.getConfig().pipe((0,t.$)(),(0,a.T)(k=>(k?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(g){return new(g||m)(p.KVO(A.Ix),p.KVO(e.w))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},3236:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>p,b:()=>A});var t=l(6780);const p=new(l(9687).q)(t.R),A=p},3294:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>A});var t=l(3669),a=l(9974),p=l(4360);function A(w,m=t.D){return w=w??e,(0,a.N)((D,S)=>{let g,k=!0;D.subscribe((0,p._)(S,Y=>{const u=m(Y);(k||!w(g,u))&&(k=!1,g=u,S.next(Y))}))})}function e(w,m){return w===m}},3364:(ot,ve,l)=>{var a,t=l(6589);function e(Fe,Ze,ht){this.data=[],null!=Fe&&("number"==typeof Fe?this.fromNumber(Fe,Ze,ht):this.fromString(Fe,null==Ze&&"string"!=typeof Fe?256:Ze))}function w(){return new e(null)}function S(Fe,Ze,ht,Ut,Xt,Mn){for(var hi=16383&Ze,ri=Ze>>14;--Mn>=0;){var Nn=16383&this.data[Fe],Ki=this.data[Fe++]>>14,Ji=ri*Nn+Ki*hi;Xt=((Nn=hi*Nn+((16383&Ji)<<14)+ht.data[Ut]+Xt)>>28)+(Ji>>14)+ri*Ki,ht.data[Ut++]=268435455&Nn}return Xt}ot.exports=t.jsbn=t.jsbn||{},t.jsbn.BigInteger=e,typeof navigator>"u"?(e.prototype.am=S,a=28):"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=function D(Fe,Ze,ht,Ut,Xt,Mn){for(var hi=32767&Ze,ri=Ze>>15;--Mn>=0;){var Nn=32767&this.data[Fe],Ki=this.data[Fe++]>>15,Ji=ri*Nn+Ki*hi;Xt=((Nn=hi*Nn+((32767&Ji)<<15)+ht.data[Ut]+(1073741823&Xt))>>>30)+(Ji>>>15)+ri*Ki+(Xt>>>30),ht.data[Ut++]=1073741823&Nn}return Xt},a=30):"Netscape"!=navigator.appName?(e.prototype.am=function m(Fe,Ze,ht,Ut,Xt,Mn){for(;--Mn>=0;){var hi=Ze*this.data[Fe++]+ht.data[Ut]+Xt;Xt=Math.floor(hi/67108864),ht.data[Ut++]=67108863&hi}return Xt},a=26):(e.prototype.am=S,a=28),e.prototype.DB=a,e.prototype.DM=(1<<a)-1,e.prototype.DV=1<<a,e.prototype.FV=Math.pow(2,52),e.prototype.F1=52-a,e.prototype.F2=2*a-52;var u,E,Y=new Array;for(u=48,E=0;E<=9;++E)Y[u++]=E;for(u=97,E=10;E<36;++E)Y[u++]=E;for(u=65,E=10;E<36;++E)Y[u++]=E;function B(Fe){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(Fe)}function V(Fe,Ze){return Y[Fe.charCodeAt(Ze)]??-1}function W(Fe){var Ze=w();return Ze.fromInt(Fe),Ze}function te(Fe){var ht,Ze=1;return 0!=(ht=Fe>>>16)&&(Fe=ht,Ze+=16),0!=(ht=Fe>>8)&&(Fe=ht,Ze+=8),0!=(ht=Fe>>4)&&(Fe=ht,Ze+=4),0!=(ht=Fe>>2)&&(Fe=ht,Ze+=2),0!=(ht=Fe>>1)&&(Fe=ht,Ze+=1),Ze}function je(Fe){this.m=Fe}function Ue(Fe){this.m=Fe,this.mp=Fe.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Fe.DB-15)-1,this.mt2=2*Fe.t}function De(Fe,Ze){return Fe&Ze}function et(Fe,Ze){return Fe|Ze}function Ht(Fe,Ze){return Fe^Ze}function wn(Fe,Ze){return Fe&~Ze}function Qt(Fe){if(0==Fe)return-1;var Ze=0;return!(65535&Fe)&&(Fe>>=16,Ze+=16),!(255&Fe)&&(Fe>>=8,Ze+=8),!(15&Fe)&&(Fe>>=4,Ze+=4),!(3&Fe)&&(Fe>>=2,Ze+=2),!(1&Fe)&&++Ze,Ze}function In(Fe){for(var Ze=0;0!=Fe;)Fe&=Fe-1,++Ze;return Ze}function Ii(){}function Ti(Fe){return Fe}function ut(Fe){this.r2=w(),this.q3=w(),e.ONE.dlShiftTo(2*Fe.t,this.r2),this.mu=this.r2.divide(Fe),this.m=Fe}je.prototype.convert=function Ye(Fe){return Fe.s<0||Fe.compareTo(this.m)>=0?Fe.mod(this.m):Fe},je.prototype.revert=function Ke(Fe){return Fe},je.prototype.reduce=function it(Fe){Fe.divRemTo(this.m,null,Fe)},je.prototype.mulTo=function Ve(Fe,Ze,ht){Fe.multiplyTo(Ze,ht),this.reduce(ht)},je.prototype.sqrTo=function Be(Fe,Ze){Fe.squareTo(Ze),this.reduce(Ze)},Ue.prototype.convert=function ct(Fe){var Ze=w();return Fe.abs().dlShiftTo(this.m.t,Ze),Ze.divRemTo(this.m,null,Ze),Fe.s<0&&Ze.compareTo(e.ZERO)>0&&this.m.subTo(Ze,Ze),Ze},Ue.prototype.revert=function st(Fe){var Ze=w();return Fe.copyTo(Ze),this.reduce(Ze),Ze},Ue.prototype.reduce=function Qe(Fe){for(;Fe.t<=this.mt2;)Fe.data[Fe.t++]=0;for(var Ze=0;Ze<this.m.t;++Ze){var ht=32767&Fe.data[Ze],Ut=ht*this.mpl+((ht*this.mph+(Fe.data[Ze]>>15)*this.mpl&this.um)<<15)&Fe.DM;for(Fe.data[ht=Ze+this.m.t]+=this.m.am(0,Ut,Fe,Ze,0,this.m.t);Fe.data[ht]>=Fe.DV;)Fe.data[ht]-=Fe.DV,Fe.data[++ht]++}Fe.clamp(),Fe.drShiftTo(this.m.t,Fe),Fe.compareTo(this.m)>=0&&Fe.subTo(this.m,Fe)},Ue.prototype.mulTo=function K(Fe,Ze,ht){Fe.multiplyTo(Ze,ht),this.reduce(ht)},Ue.prototype.sqrTo=function ne(Fe,Ze){Fe.squareTo(Ze),this.reduce(Ze)},e.prototype.copyTo=function F(Fe){for(var Ze=this.t-1;Ze>=0;--Ze)Fe.data[Ze]=this.data[Ze];Fe.t=this.t,Fe.s=this.s},e.prototype.fromInt=function M(Fe){this.t=1,this.s=Fe<0?-1:0,Fe>0?this.data[0]=Fe:Fe<-1?this.data[0]=Fe+this.DV:this.t=0},e.prototype.fromString=function y(Fe,Ze){var ht;if(16==Ze)ht=4;else if(8==Ze)ht=3;else if(256==Ze)ht=8;else if(2==Ze)ht=1;else if(32==Ze)ht=5;else{if(4!=Ze)return void this.fromRadix(Fe,Ze);ht=2}this.t=0,this.s=0;for(var Ut=Fe.length,Xt=!1,Mn=0;--Ut>=0;){var hi=8==ht?255&Fe[Ut]:V(Fe,Ut);hi<0?"-"==Fe.charAt(Ut)&&(Xt=!0):(Xt=!1,0==Mn?this.data[this.t++]=hi:Mn+ht>this.DB?(this.data[this.t-1]|=(hi&(1<<this.DB-Mn)-1)<<Mn,this.data[this.t++]=hi>>this.DB-Mn):this.data[this.t-1]|=hi<<Mn,(Mn+=ht)>=this.DB&&(Mn-=this.DB))}8==ht&&!!(128&Fe[0])&&(this.s=-1,Mn>0&&(this.data[this.t-1]|=(1<<this.DB-Mn)-1<<Mn)),this.clamp(),Xt&&e.ZERO.subTo(this,this)},e.prototype.clamp=function z(){for(var Fe=this.s&this.DM;this.t>0&&this.data[this.t-1]==Fe;)--this.t},e.prototype.dlShiftTo=function fe(Fe,Ze){var ht;for(ht=this.t-1;ht>=0;--ht)Ze.data[ht+Fe]=this.data[ht];for(ht=Fe-1;ht>=0;--ht)Ze.data[ht]=0;Ze.t=this.t+Fe,Ze.s=this.s},e.prototype.drShiftTo=function oe(Fe,Ze){for(var ht=Fe;ht<this.t;++ht)Ze.data[ht-Fe]=this.data[ht];Ze.t=Math.max(this.t-Fe,0),Ze.s=this.s},e.prototype.lShiftTo=function R(Fe,Ze){var ri,ht=Fe%this.DB,Ut=this.DB-ht,Xt=(1<<Ut)-1,Mn=Math.floor(Fe/this.DB),hi=this.s<<ht&this.DM;for(ri=this.t-1;ri>=0;--ri)Ze.data[ri+Mn+1]=this.data[ri]>>Ut|hi,hi=(this.data[ri]&Xt)<<ht;for(ri=Mn-1;ri>=0;--ri)Ze.data[ri]=0;Ze.data[Mn]=hi,Ze.t=this.t+Mn+1,Ze.s=this.s,Ze.clamp()},e.prototype.rShiftTo=function Pe(Fe,Ze){Ze.s=this.s;var ht=Math.floor(Fe/this.DB);if(ht>=this.t)Ze.t=0;else{var Ut=Fe%this.DB,Xt=this.DB-Ut,Mn=(1<<Ut)-1;Ze.data[0]=this.data[ht]>>Ut;for(var hi=ht+1;hi<this.t;++hi)Ze.data[hi-ht-1]|=(this.data[hi]&Mn)<<Xt,Ze.data[hi-ht]=this.data[hi]>>Ut;Ut>0&&(Ze.data[this.t-ht-1]|=(this.s&Mn)<<Xt),Ze.t=this.t-ht,Ze.clamp()}},e.prototype.subTo=function Te(Fe,Ze){for(var ht=0,Ut=0,Xt=Math.min(Fe.t,this.t);ht<Xt;)Ut+=this.data[ht]-Fe.data[ht],Ze.data[ht++]=Ut&this.DM,Ut>>=this.DB;if(Fe.t<this.t){for(Ut-=Fe.s;ht<this.t;)Ut+=this.data[ht],Ze.data[ht++]=Ut&this.DM,Ut>>=this.DB;Ut+=this.s}else{for(Ut+=this.s;ht<Fe.t;)Ut-=Fe.data[ht],Ze.data[ht++]=Ut&this.DM,Ut>>=this.DB;Ut-=Fe.s}Ze.s=Ut<0?-1:0,Ut<-1?Ze.data[ht++]=this.DV+Ut:Ut>0&&(Ze.data[ht++]=Ut),Ze.t=ht,Ze.clamp()},e.prototype.multiplyTo=function We(Fe,Ze){var ht=this.abs(),Ut=Fe.abs(),Xt=ht.t;for(Ze.t=Xt+Ut.t;--Xt>=0;)Ze.data[Xt]=0;for(Xt=0;Xt<Ut.t;++Xt)Ze.data[Xt+ht.t]=ht.am(0,Ut.data[Xt],Ze,Xt,0,ht.t);Ze.s=0,Ze.clamp(),this.s!=Fe.s&&e.ZERO.subTo(Ze,Ze)},e.prototype.squareTo=function rt(Fe){for(var Ze=this.abs(),ht=Fe.t=2*Ze.t;--ht>=0;)Fe.data[ht]=0;for(ht=0;ht<Ze.t-1;++ht){var Ut=Ze.am(ht,Ze.data[ht],Fe,2*ht,0,1);(Fe.data[ht+Ze.t]+=Ze.am(ht+1,2*Ze.data[ht],Fe,2*ht+1,Ut,Ze.t-ht-1))>=Ze.DV&&(Fe.data[ht+Ze.t]-=Ze.DV,Fe.data[ht+Ze.t+1]=1)}Fe.t>0&&(Fe.data[Fe.t-1]+=Ze.am(ht,Ze.data[ht],Fe,2*ht,0,1)),Fe.s=0,Fe.clamp()},e.prototype.divRemTo=function lt(Fe,Ze,ht){var Ut=Fe.abs();if(!(Ut.t<=0)){var Xt=this.abs();if(Xt.t<Ut.t)return Ze?.fromInt(0),void(null!=ht&&this.copyTo(ht));null==ht&&(ht=w());var Mn=w(),hi=this.s,ri=Fe.s,Nn=this.DB-te(Ut.data[Ut.t-1]);Nn>0?(Ut.lShiftTo(Nn,Mn),Xt.lShiftTo(Nn,ht)):(Ut.copyTo(Mn),Xt.copyTo(ht));var Ki=Mn.t,Ji=Mn.data[Ki-1];if(0!=Ji){var Os=Ji*(1<<this.F1)+(Ki>1?Mn.data[Ki-2]>>this.F2:0),jt=this.FV/Os,Ai=(1<<this.F1)/Os,Et=1<<this.F2,vn=ht.t,Wt=vn-Ki,Pn=Ze??w();for(Mn.dlShiftTo(Wt,Pn),ht.compareTo(Pn)>=0&&(ht.data[ht.t++]=1,ht.subTo(Pn,ht)),e.ONE.dlShiftTo(Ki,Pn),Pn.subTo(Mn,Mn);Mn.t<Ki;)Mn.data[Mn.t++]=0;for(;--Wt>=0;){var Qi=ht.data[--vn]==Ji?this.DM:Math.floor(ht.data[vn]*jt+(ht.data[vn-1]+Et)*Ai);if((ht.data[vn]+=Mn.am(0,Qi,ht,Wt,0,Ki))<Qi)for(Mn.dlShiftTo(Wt,Pn),ht.subTo(Pn,ht);ht.data[vn]<--Qi;)ht.subTo(Pn,ht)}null!=Ze&&(ht.drShiftTo(Ki,Ze),hi!=ri&&e.ZERO.subTo(Ze,Ze)),ht.t=Ki,ht.clamp(),Nn>0&&ht.rShiftTo(Nn,ht),hi<0&&e.ZERO.subTo(ht,ht)}}},e.prototype.invDigit=function Xe(){if(this.t<1)return 0;var Fe=this.data[0];if(!(1&Fe))return 0;var Ze=3&Fe;return(Ze=(Ze=(Ze=(Ze=Ze*(2-(15&Fe)*Ze)&15)*(2-(255&Fe)*Ze)&255)*(2-((65535&Fe)*Ze&65535))&65535)*(2-Fe*Ze%this.DV)%this.DV)>0?this.DV-Ze:-Ze},e.prototype.isEven=function de(){return 0==(this.t>0?1&this.data[0]:this.s)},e.prototype.exp=function ge(Fe,Ze){if(Fe>4294967295||Fe<1)return e.ONE;var ht=w(),Ut=w(),Xt=Ze.convert(this),Mn=te(Fe)-1;for(Xt.copyTo(ht);--Mn>=0;)if(Ze.sqrTo(ht,Ut),(Fe&1<<Mn)>0)Ze.mulTo(Ut,Xt,ht);else{var hi=ht;ht=Ut,Ut=hi}return Ze.revert(ht)},e.prototype.toString=function Z(Fe){if(this.s<0)return"-"+this.negate().toString(Fe);var Ze;if(16==Fe)Ze=4;else if(8==Fe)Ze=3;else if(2==Fe)Ze=1;else if(32==Fe)Ze=5;else{if(4!=Fe)return this.toRadix(Fe);Ze=2}var Ut,ht=(1<<Ze)-1,Xt=!1,Mn="",hi=this.t,ri=this.DB-hi*this.DB%Ze;if(hi-- >0)for(ri<this.DB&&(Ut=this.data[hi]>>ri)>0&&(Xt=!0,Mn=B(Ut));hi>=0;)ri<Ze?(Ut=(this.data[hi]&(1<<ri)-1)<<Ze-ri,Ut|=this.data[--hi]>>(ri+=this.DB-Ze)):(Ut=this.data[hi]>>(ri-=Ze)&ht,ri<=0&&(ri+=this.DB,--hi)),Ut>0&&(Xt=!0),Xt&&(Mn+=B(Ut));return Xt?Mn:"0"},e.prototype.negate=function v(){var Fe=w();return e.ZERO.subTo(this,Fe),Fe},e.prototype.abs=function L(){return this.s<0?this.negate():this},e.prototype.compareTo=function J(Fe){var Ze=this.s-Fe.s;if(0!=Ze)return Ze;var ht=this.t;if(0!=(Ze=ht-Fe.t))return this.s<0?-Ze:Ze;for(;--ht>=0;)if(0!=(Ze=this.data[ht]-Fe.data[ht]))return Ze;return 0},e.prototype.bitLength=function N(){return this.t<=0?0:this.DB*(this.t-1)+te(this.data[this.t-1]^this.s&this.DM)},e.prototype.mod=function vt(Fe){var Ze=w();return this.abs().divRemTo(Fe,null,Ze),this.s<0&&Ze.compareTo(e.ZERO)>0&&Fe.subTo(Ze,Ze),Ze},e.prototype.modPowInt=function o(Fe,Ze){var ht;return ht=Fe<256||Ze.isEven()?new je(Ze):new Ue(Ze),this.exp(Fe,ht)},e.ZERO=W(0),e.ONE=W(1),Ii.prototype.convert=Ti,Ii.prototype.revert=Ti,Ii.prototype.mulTo=function Dn(Fe,Ze,ht){Fe.multiplyTo(Ze,ht)},Ii.prototype.sqrTo=function Bi(Fe,Ze){Fe.squareTo(Ze)},ut.prototype.convert=function Rt(Fe){if(Fe.s<0||Fe.t>2*this.m.t)return Fe.mod(this.m);if(Fe.compareTo(this.m)<0)return Fe;var Ze=w();return Fe.copyTo(Ze),this.reduce(Ze),Ze},ut.prototype.revert=function yt(Fe){return Fe},ut.prototype.reduce=function tn(Fe){for(Fe.drShiftTo(this.m.t-1,this.r2),Fe.t>this.m.t+1&&(Fe.t=this.m.t+1,Fe.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Fe.compareTo(this.r2)<0;)Fe.dAddOffset(1,this.m.t+1);for(Fe.subTo(this.r2,Fe);Fe.compareTo(this.m)>=0;)Fe.subTo(this.m,Fe)},ut.prototype.mulTo=function on(Fe,Ze,ht){Fe.multiplyTo(Ze,ht),this.reduce(ht)},ut.prototype.sqrTo=function Vn(Fe,Ze){Fe.squareTo(Ze),this.reduce(Ze)};var zt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Un=(1<<26)/zt[zt.length-1];e.prototype.chunkSize=function Wn(Fe){return Math.floor(Math.LN2*this.DB/Math.log(Fe))},e.prototype.toRadix=function Ln(Fe){if(null==Fe&&(Fe=10),0==this.signum()||Fe<2||Fe>36)return"0";var Ze=this.chunkSize(Fe),ht=Math.pow(Fe,Ze),Ut=W(ht),Xt=w(),Mn=w(),hi="";for(this.divRemTo(Ut,Xt,Mn);Xt.signum()>0;)hi=(ht+Mn.intValue()).toString(Fe).substr(1)+hi,Xt.divRemTo(Ut,Xt,Mn);return Mn.intValue().toString(Fe)+hi},e.prototype.fromRadix=function ni(Fe,Ze){this.fromInt(0),null==Ze&&(Ze=10);for(var ht=this.chunkSize(Ze),Ut=Math.pow(Ze,ht),Xt=!1,Mn=0,hi=0,ri=0;ri<Fe.length;++ri){var Nn=V(Fe,ri);Nn<0?"-"==Fe.charAt(ri)&&0==this.signum()&&(Xt=!0):(hi=Ze*hi+Nn,++Mn>=ht&&(this.dMultiply(Ut),this.dAddOffset(hi,0),Mn=0,hi=0))}Mn>0&&(this.dMultiply(Math.pow(Ze,Mn)),this.dAddOffset(hi,0)),Xt&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function mt(Fe,Ze,ht){if("number"==typeof Ze)if(Fe<2)this.fromInt(1);else for(this.fromNumber(Fe,ht),this.testBit(Fe-1)||this.bitwiseTo(e.ONE.shiftLeft(Fe-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Ze);)this.dAddOffset(2,0),this.bitLength()>Fe&&this.subTo(e.ONE.shiftLeft(Fe-1),this);else{var Ut=new Array,Xt=7&Fe;Ut.length=1+(Fe>>3),Ze.nextBytes(Ut),Xt>0?Ut[0]&=(1<<Xt)-1:Ut[0]=0,this.fromString(Ut,256)}},e.prototype.bitwiseTo=function q(Fe,Ze,ht){var Ut,Xt,Mn=Math.min(Fe.t,this.t);for(Ut=0;Ut<Mn;++Ut)ht.data[Ut]=Ze(this.data[Ut],Fe.data[Ut]);if(Fe.t<this.t){for(Xt=Fe.s&this.DM,Ut=Mn;Ut<this.t;++Ut)ht.data[Ut]=Ze(this.data[Ut],Xt);ht.t=this.t}else{for(Xt=this.s&this.DM,Ut=Mn;Ut<Fe.t;++Ut)ht.data[Ut]=Ze(Xt,Fe.data[Ut]);ht.t=Fe.t}ht.s=Ze(this.s,Fe.s),ht.clamp()},e.prototype.changeBit=function Fi(Fe,Ze){var ht=e.ONE.shiftLeft(Fe);return this.bitwiseTo(ht,Ze,ht),ht},e.prototype.addTo=function ms(Fe,Ze){for(var ht=0,Ut=0,Xt=Math.min(Fe.t,this.t);ht<Xt;)Ut+=this.data[ht]+Fe.data[ht],Ze.data[ht++]=Ut&this.DM,Ut>>=this.DB;if(Fe.t<this.t){for(Ut+=Fe.s;ht<this.t;)Ut+=this.data[ht],Ze.data[ht++]=Ut&this.DM,Ut>>=this.DB;Ut+=this.s}else{for(Ut+=this.s;ht<Fe.t;)Ut+=Fe.data[ht],Ze.data[ht++]=Ut&this.DM,Ut>>=this.DB;Ut+=Fe.s}Ze.s=Ut<0?-1:0,Ut>0?Ze.data[ht++]=Ut:Ut<-1&&(Ze.data[ht++]=this.DV+Ut),Ze.t=ht,Ze.clamp()},e.prototype.dMultiply=function ii(Fe){this.data[this.t]=this.am(0,Fe-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function Ei(Fe,Ze){if(0!=Fe){for(;this.t<=Ze;)this.data[this.t++]=0;for(this.data[Ze]+=Fe;this.data[Ze]>=this.DV;)this.data[Ze]-=this.DV,++Ze>=this.t&&(this.data[this.t++]=0),++this.data[Ze]}},e.prototype.multiplyLowerTo=function zi(Fe,Ze,ht){var Xt,Ut=Math.min(this.t+Fe.t,Ze);for(ht.s=0,ht.t=Ut;Ut>0;)ht.data[--Ut]=0;for(Xt=ht.t-this.t;Ut<Xt;++Ut)ht.data[Ut+this.t]=this.am(0,Fe.data[Ut],ht,Ut,0,this.t);for(Xt=Math.min(Fe.t,Ze);Ut<Xt;++Ut)this.am(0,Fe.data[Ut],ht,Ut,0,Ze-Ut);ht.clamp()},e.prototype.multiplyUpperTo=function ls(Fe,Ze,ht){--Ze;var Ut=ht.t=this.t+Fe.t-Ze;for(ht.s=0;--Ut>=0;)ht.data[Ut]=0;for(Ut=Math.max(Ze-this.t,0);Ut<Fe.t;++Ut)ht.data[this.t+Ut-Ze]=this.am(Ze-Ut,Fe.data[Ut],ht,0,0,this.t+Ut-Ze);ht.clamp(),ht.drShiftTo(1,ht)},e.prototype.modInt=function Gt(Fe){if(Fe<=0)return 0;var Ze=this.DV%Fe,ht=this.s<0?Fe-1:0;if(this.t>0)if(0==Ze)ht=this.data[0]%Fe;else for(var Ut=this.t-1;Ut>=0;--Ut)ht=(Ze*ht+this.data[Ut])%Fe;return ht},e.prototype.millerRabin=function Qn(Fe){var Ze=this.subtract(e.ONE),ht=Ze.getLowestSetBit();if(ht<=0)return!1;for(var Mn,Ut=Ze.shiftRight(ht),Xt=function vi(){return{nextBytes:function(Fe){for(var Ze=0;Ze<Fe.length;++Ze)Fe[Ze]=Math.floor(256*Math.random())}}}(),hi=0;hi<Fe;++hi){do{Mn=new e(this.bitLength(),Xt)}while(Mn.compareTo(e.ONE)<=0||Mn.compareTo(Ze)>=0);var ri=Mn.modPow(Ut,this);if(0!=ri.compareTo(e.ONE)&&0!=ri.compareTo(Ze)){for(var Nn=1;Nn++<ht&&0!=ri.compareTo(Ze);)if(0==(ri=ri.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=ri.compareTo(Ze))return!1}}return!0},e.prototype.clone=function dt(){var Fe=w();return this.copyTo(Fe),Fe},e.prototype.intValue=function gt(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},e.prototype.byteValue=function qt(){return 0==this.t?this.s:this.data[0]<<24>>24},e.prototype.shortValue=function Tn(){return 0==this.t?this.s:this.data[0]<<16>>16},e.prototype.signum=function en(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},e.prototype.toByteArray=function Jt(){var Fe=this.t,Ze=new Array;Ze[0]=this.s;var Ut,ht=this.DB-Fe*this.DB%8,Xt=0;if(Fe-- >0)for(ht<this.DB&&(Ut=this.data[Fe]>>ht)!=(this.s&this.DM)>>ht&&(Ze[Xt++]=Ut|this.s<<this.DB-ht);Fe>=0;)ht<8?(Ut=(this.data[Fe]&(1<<ht)-1)<<8-ht,Ut|=this.data[--Fe]>>(ht+=this.DB-8)):(Ut=this.data[Fe]>>(ht-=8)&255,ht<=0&&(ht+=this.DB,--Fe)),!!(128&Ut)&&(Ut|=-256),0==Xt&&(128&this.s)!=(128&Ut)&&++Xt,(Xt>0||Ut!=this.s)&&(Ze[Xt++]=Ut);return Ze},e.prototype.equals=function he(Fe){return 0==this.compareTo(Fe)},e.prototype.min=function ue(Fe){return this.compareTo(Fe)<0?this:Fe},e.prototype.max=function P(Fe){return this.compareTo(Fe)>0?this:Fe},e.prototype.and=function Ae(Fe){var Ze=w();return this.bitwiseTo(Fe,De,Ze),Ze},e.prototype.or=function _t(Fe){var Ze=w();return this.bitwiseTo(Fe,et,Ze),Ze},e.prototype.xor=function nn(Fe){var Ze=w();return this.bitwiseTo(Fe,Ht,Ze),Ze},e.prototype.andNot=function Kn(Fe){var Ze=w();return this.bitwiseTo(Fe,wn,Ze),Ze},e.prototype.not=function ei(){for(var Fe=w(),Ze=0;Ze<this.t;++Ze)Fe.data[Ze]=this.DM&~this.data[Ze];return Fe.t=this.t,Fe.s=~this.s,Fe},e.prototype.shiftLeft=function Ot(Fe){var Ze=w();return Fe<0?this.rShiftTo(-Fe,Ze):this.lShiftTo(Fe,Ze),Ze},e.prototype.shiftRight=function Gn(Fe){var Ze=w();return Fe<0?this.lShiftTo(-Fe,Ze):this.rShiftTo(Fe,Ze),Ze},e.prototype.getLowestSetBit=function Sn(){for(var Fe=0;Fe<this.t;++Fe)if(0!=this.data[Fe])return Fe*this.DB+Qt(this.data[Fe]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function rs(){for(var Fe=0,Ze=this.s&this.DM,ht=0;ht<this.t;++ht)Fe+=In(this.data[ht]^Ze);return Fe},e.prototype.testBit=function _i(Fe){var Ze=Math.floor(Fe/this.DB);return Ze>=this.t?0!=this.s:!!(this.data[Ze]&1<<Fe%this.DB)},e.prototype.setBit=function Ni(Fe){return this.changeBit(Fe,et)},e.prototype.clearBit=function os(Fe){return this.changeBit(Fe,wn)},e.prototype.flipBit=function zn(Fe){return this.changeBit(Fe,Ht)},e.prototype.add=function xi(Fe){var Ze=w();return this.addTo(Fe,Ze),Ze},e.prototype.subtract=function wt(Fe){var Ze=w();return this.subTo(Fe,Ze),Ze},e.prototype.multiply=function Tt(Fe){var Ze=w();return this.multiplyTo(Fe,Ze),Ze},e.prototype.divide=function xt(Fe){var Ze=w();return this.divRemTo(Fe,Ze,null),Ze},e.prototype.remainder=function Kt(Fe){var Ze=w();return this.divRemTo(Fe,null,Ze),Ze},e.prototype.divideAndRemainder=function cn(Fe){var Ze=w(),ht=w();return this.divRemTo(Fe,Ze,ht),new Array(Ze,ht)},e.prototype.modPow=function Xn(Fe,Ze){var Ut,Mn,ht=Fe.bitLength(),Xt=W(1);if(ht<=0)return Xt;Ut=ht<18?1:ht<48?3:ht<144?4:ht<768?5:6,Mn=ht<8?new je(Ze):Ze.isEven()?new ut(Ze):new Ue(Ze);var hi=new Array,ri=3,Nn=Ut-1,Ki=(1<<Ut)-1;if(hi[1]=Mn.convert(this),Ut>1){var Ji=w();for(Mn.sqrTo(hi[1],Ji);ri<=Ki;)hi[ri]=w(),Mn.mulTo(Ji,hi[ri-2],hi[ri]),ri+=2}var jt,vn,Os=Fe.t-1,Ai=!0,Et=w();for(ht=te(Fe.data[Os])-1;Os>=0;){for(ht>=Nn?jt=Fe.data[Os]>>ht-Nn&Ki:(jt=(Fe.data[Os]&(1<<ht+1)-1)<<Nn-ht,Os>0&&(jt|=Fe.data[Os-1]>>this.DB+ht-Nn)),ri=Ut;!(1&jt);)jt>>=1,--ri;if((ht-=ri)<0&&(ht+=this.DB,--Os),Ai)hi[jt].copyTo(Xt),Ai=!1;else{for(;ri>1;)Mn.sqrTo(Xt,Et),Mn.sqrTo(Et,Xt),ri-=2;ri>0?Mn.sqrTo(Xt,Et):(vn=Xt,Xt=Et,Et=vn),Mn.mulTo(Et,hi[jt],Xt)}for(;Os>=0&&!(Fe.data[Os]&1<<ht);)Mn.sqrTo(Xt,Et),vn=Xt,Xt=Et,Et=vn,--ht<0&&(ht=this.DB-1,--Os)}return Mn.revert(Xt)},e.prototype.modInverse=function oi(Fe){var Ze=Fe.isEven();if(this.isEven()&&Ze||0==Fe.signum())return e.ZERO;for(var ht=Fe.clone(),Ut=this.clone(),Xt=W(1),Mn=W(0),hi=W(0),ri=W(1);0!=ht.signum();){for(;ht.isEven();)ht.rShiftTo(1,ht),Ze?((!Xt.isEven()||!Mn.isEven())&&(Xt.addTo(this,Xt),Mn.subTo(Fe,Mn)),Xt.rShiftTo(1,Xt)):Mn.isEven()||Mn.subTo(Fe,Mn),Mn.rShiftTo(1,Mn);for(;Ut.isEven();)Ut.rShiftTo(1,Ut),Ze?((!hi.isEven()||!ri.isEven())&&(hi.addTo(this,hi),ri.subTo(Fe,ri)),hi.rShiftTo(1,hi)):ri.isEven()||ri.subTo(Fe,ri),ri.rShiftTo(1,ri);ht.compareTo(Ut)>=0?(ht.subTo(Ut,ht),Ze&&Xt.subTo(hi,Xt),Mn.subTo(ri,Mn)):(Ut.subTo(ht,Ut),Ze&&hi.subTo(Xt,hi),ri.subTo(Mn,ri))}return 0!=Ut.compareTo(e.ONE)?e.ZERO:ri.compareTo(Fe)>=0?ri.subtract(Fe):ri.signum()<0?(ri.addTo(Fe,ri),ri.signum()<0?ri.add(Fe):ri):ri},e.prototype.pow=function Ui(Fe){return this.exp(Fe,new Ii)},e.prototype.gcd=function qn(Fe){var Ze=this.s<0?this.negate():this.clone(),ht=Fe.s<0?Fe.negate():Fe.clone();if(Ze.compareTo(ht)<0){var Ut=Ze;Ze=ht,ht=Ut}var Xt=Ze.getLowestSetBit(),Mn=ht.getLowestSetBit();if(Mn<0)return Ze;for(Xt<Mn&&(Mn=Xt),Mn>0&&(Ze.rShiftTo(Mn,Ze),ht.rShiftTo(Mn,ht));Ze.signum()>0;)(Xt=Ze.getLowestSetBit())>0&&Ze.rShiftTo(Xt,Ze),(Xt=ht.getLowestSetBit())>0&&ht.rShiftTo(Xt,ht),Ze.compareTo(ht)>=0?(Ze.subTo(ht,Ze),Ze.rShiftTo(1,Ze)):(ht.subTo(Ze,ht),ht.rShiftTo(1,ht));return Mn>0&&ht.lShiftTo(Mn,ht),ht},e.prototype.isProbablePrime=function fn(Fe){var Ze,ht=this.abs();if(1==ht.t&&ht.data[0]<=zt[zt.length-1]){for(Ze=0;Ze<zt.length;++Ze)if(ht.data[0]==zt[Ze])return!0;return!1}if(ht.isEven())return!1;for(Ze=1;Ze<zt.length;){for(var Ut=zt[Ze],Xt=Ze+1;Xt<zt.length&&Ut<Un;)Ut*=zt[Xt++];for(Ut=ht.modInt(Ut);Ze<Xt;)if(Ut%zt[Ze++]==0)return!1}return ht.millerRabin(Fe)}},3384:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>S});var t=l(983),a=l(6354),p=l(9437),A=l(8284),e=l(1360),w=l(2036),m=l(1176),D=l(5424);let S=(()=>{class g{constructor(Y,u,E){this.wsfedClientService=Y,this.relyingPartyCache=u,this.errorService=E}resolve(Y,u){const E=Y.parent.paramMap.get("id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(E).pipe((0,a.T)(B=>{const V=JSON.parse(JSON.stringify(B.claimMappings)),F=new Map;for(const M in V)V.hasOwnProperty(M)&&F.set(M,V[M]);return B.claimMappings=F,this.relyingPartyCache.unsavedCache.next(B),B}),(0,p.W)(B=>(404===B.status?this.errorService.resourceNotFound(A.v.relyingParty):this.errorService.handleError(B),(0,t.I)())));this.relyingPartyCache.unsavedCache$.subscribe(B=>B)}static{this.\u0275fac=function(u){return new(u||g)(e.KVO(w.c),e.KVO(m.z),e.KVO(D.I))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},3485:(ot,ve,l)=>{"use strict";l.d(ve,{L:()=>t});class t{}},3488:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>p});var t=l(4549),a=l(1360);let p=(()=>{class A{now(){return t.c9.now()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},3494:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},3519:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>w});var t=l(3165),a=l(2771),p=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.RoleSubject=new a.m(1),this.actionUrl="roles",this.headers=g.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(S){this.RoleSubject.next(S)}getRoles(S,g){let k=new t.Nl;return(0,p.gP)(S)||(k=k.append("name",S)),k=k.append("sort",(0,p.gP)(g)?"name":g),this.http.get(this.actionUrl,{headers:this.headers,params:k})}getRole(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}deleteRole(S){return this.http.delete(`${this.actionUrl}/${S.id}`,{headers:this.headers})}addRole(S){const g=`${this.actionUrl}/`,k=JSON.stringify(S);return this.http.post(g,k,{headers:this.headers})}updateRole(S){const g=JSON.stringify(S);return this.http.put(`${this.actionUrl}/${S.id}`,g,{headers:this.headers})}getUsersInRole(S,g,k,Y){let u=new t.Nl;return(0,p.gP)(Y)||(u=u.append("q",Y)),g&&(u=u.append("page",String(g))),k&&(u=u.append("pageSize",String(k))),this.http.get(`${this.actionUrl}/${S}/users`,{headers:this.headers,params:u})}addAndRemoveUsers(S,g){const k=JSON.stringify(g);return this.http.put(`${this.actionUrl}/${S}/users`,k,{headers:this.headers})}addRoleClaim(S,g){return this.http.post(`${this.actionUrl}/${S}/claims`,g,{headers:this.headers})}updateRoleClaim(S,g){return this.http.put(`${this.actionUrl}/${S}/claims`,g,{headers:this.headers})}deleteRoleClaim(S,g){return this.http.request("delete",`${this.actionUrl}/${S}/claims`,{headers:this.headers,body:g})}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},3583:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>p});var t=l(4412),a=l(1360);let p=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},3665:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>w});var t=l(9417),a=l(8434),p=l(9262),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[a.MD,p.iI,A.h,t.YN]})}}return m})()},3669:(ot,ve,l)=>{"use strict";function t(a){return a}l.d(ve,{D:()=>t})},3674:(ot,ve,l)=>{var t=l(6589);function a(E,B){t.cipher.registerAlgorithm(E,function(){return new t.des.Algorithm(E,B)})}l(5855),l(6199),l(812),ot.exports=t.des=t.des||{},t.des.startEncrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!1,mode:F||(null===B?"ECB":"CBC")});return M.start(B),M},t.des.createEncryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!1,mode:B})},t.des.startDecrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!0,mode:F||(null===B?"ECB":"CBC")});return M.start(B),M},t.des.createDecryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!0,mode:B})},t.des.Algorithm=function(E,B){var V=this;V.name=E,V.mode=new B({blockSize:8,cipher:{encrypt:function(F,M){return Y(V._keys,F,M,!1)},decrypt:function(F,M){return Y(V._keys,F,M,!0)}}}),V._init=!1},t.des.Algorithm.prototype.initialize=function(E){if(!this._init){var B=t.util.createBuffer(E.key);if(0===this.name.indexOf("3DES")&&24!==B.length())throw new Error("Invalid Triple-DES key size: "+8*B.length());this._keys=function k(E){for(var We,B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],V=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],F=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],M=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],W=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],y=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],z=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],Z=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],v=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],L=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],J=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],te=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],N=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],fe=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],oe=E.length()>8?3:1,R=[],Pe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Te=0,rt=0;rt<oe;rt++){var lt=E.getInt32(),vt=E.getInt32();lt^=(We=252645135&(lt>>>4^vt))<<4,lt^=We=65535&((vt^=We)>>>-16^lt),lt^=(We=858993459&(lt>>>2^(vt^=We<<-16)))<<2,lt^=We=65535&((vt^=We)>>>-16^lt),lt^=(We=1431655765&(lt>>>1^(vt^=We<<-16)))<<1,lt^=We=16711935&((vt^=We)>>>8^lt),We=(lt^=(We=1431655765&(lt>>>1^(vt^=We<<8)))<<1)<<8|(vt^=We)>>>20&240,lt=vt<<24|vt<<8&16711680|vt>>>8&65280|vt>>>24&240,vt=We;for(var je=0;je<Pe.length;++je){Pe[je]?(lt=lt<<2|lt>>>26,vt=vt<<2|vt>>>26):(lt=lt<<1|lt>>>27,vt=vt<<1|vt>>>27);var Ye=B[(lt&=-15)>>>28]|V[lt>>>24&15]|F[lt>>>20&15]|M[lt>>>16&15]|W[lt>>>12&15]|y[lt>>>8&15]|z[lt>>>4&15],Ke=Z[(vt&=-15)>>>28]|v[vt>>>24&15]|L[vt>>>20&15]|J[vt>>>16&15]|te[vt>>>12&15]|N[vt>>>8&15]|fe[vt>>>4&15];R[Te++]=Ye^(We=65535&(Ke>>>16^Ye)),R[Te++]=Ke^We<<16}}return R}(B),this._init=!0}},a("DES-ECB",t.cipher.modes.ecb),a("DES-CBC",t.cipher.modes.cbc),a("DES-CFB",t.cipher.modes.cfb),a("DES-OFB",t.cipher.modes.ofb),a("DES-CTR",t.cipher.modes.ctr),a("3DES-ECB",t.cipher.modes.ecb),a("3DES-CBC",t.cipher.modes.cbc),a("3DES-CFB",t.cipher.modes.cfb),a("3DES-OFB",t.cipher.modes.ofb),a("3DES-CTR",t.cipher.modes.ctr);var p=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],A=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],e=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],w=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],m=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],D=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],S=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],g=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Y(E,B,V,F){var W,M=32===E.length?3:9;W=3===M?F?[30,-2,-2]:[0,32,2]:F?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y,z=B[0],Z=B[1];z^=(y=252645135&(z>>>4^Z))<<4,z^=(y=65535&(z>>>16^(Z^=y)))<<16,z^=y=858993459&((Z^=y)>>>2^z),z^=y=16711935&((Z^=y<<2)>>>8^z),z=(z^=(y=1431655765&(z>>>1^(Z^=y<<8)))<<1)<<1|z>>>31,Z=(Z^=y)<<1|Z>>>31;for(var v=0;v<M;v+=3){for(var L=W[v+1],J=W[v+2],te=W[v];te!=L;te+=J){var N=Z^E[te],fe=(Z>>>4|Z<<28)^E[te+1];y=z,z=Z,Z=y^(A[N>>>24&63]|w[N>>>16&63]|D[N>>>8&63]|g[63&N]|p[fe>>>24&63]|e[fe>>>16&63]|m[fe>>>8&63]|S[63&fe])}y=z,z=Z,Z=y}Z=Z>>>1|Z<<31,Z^=y=1431655765&((z=z>>>1|z<<31)>>>1^Z),Z^=(y=16711935&(Z>>>8^(z^=y<<1)))<<8,Z^=(y=858993459&(Z>>>2^(z^=y)))<<2,Z^=y=65535&((z^=y)>>>16^Z),Z^=y=252645135&((z^=y<<16)>>>4^Z),V[0]=z^=y<<4,V[1]=Z}function u(E){var F,V="DES-"+((E=E||{}).mode||"CBC").toUpperCase(),M=(F=E.decrypt?t.cipher.createDecipher(V,E.key):t.cipher.createCipher(V,E.key)).start;return F.start=function(W,y){var z=null;y instanceof t.util.ByteBuffer&&(z=y,y={}),(y=y||{}).output=z,y.iv=W,M.call(F,y)},F}},3680:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>V});var t=l(1360),a=l(8434),p=l(9262),A=l(8018),e=l(5139);const w=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],m=["[badge]","[ctx]","[button]","[tabs]"],D=F=>[F];function S(F,M){if(1&F&&(t.qex(0),t.j41(1,"li",7)(2,"span",17),t.EFF(3,"/"),t.k0s(),t.j41(4,"a",8),t.EFF(5),t.k0s()(),t.bVm()),2&F){const W=M.$implicit;t.R7$(4),t.Y8G("routerLink",W.link),t.R7$(),t.SpI(" ",W.title," ")}}function g(F,M){1&F&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&F&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.ReadOnly")," "))}function k(F,M){1&F&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&F&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Reserved")," "))}function Y(F,M){1&F&&(t.j41(0,"span",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&F&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.UserTOTPEnabled")," "))}function u(F,M){1&F&&(t.j41(0,"div",21),t.SdG(1,2),t.k0s())}function E(F,M){1&F&&(t.qex(0),t.j41(1,"div",22),t.SdG(2,3),t.k0s(),t.bVm())}let V=(()=>{class F{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(y){return new(y||F)}}static{this.\u0275cmp=t.VBU({type:F,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},standalone:!1,ngContentSelectors:m,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(y,z){1&y&&(t.NAR(w),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),t.nI1(6,"translate"),t.j41(7,"ol",6)(8,"li",7)(9,"a",8),t.nI1(10,"localize"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,S,6,2,"ng-container",9),t.k0s()(),t.j41(14,"div",10)(15,"h1",11),t.EFF(16),t.k0s(),t.SdG(17),t.DNE(18,g,3,3,"span",12)(19,k,3,3,"span",13)(20,Y,3,3,"span",14),t.SdG(21,1),t.k0s()(),t.DNE(22,u,2,0,"div",15),t.k0s()()(),t.DNE(23,E,3,0,"ng-container",16),t.k0s()),2&y&&(t.R7$(5),t.BMQ("aria-label",t.bMT(6,10,"Nav.Breadcrumbs")),t.R7$(4),t.Y8G("routerLink",t.eq3(16,D,t.bMT(10,12,"/home"))),t.R7$(2),t.SpI(" ",t.bMT(12,14,"Nav.Home")," "),t.R7$(2),t.Y8G("ngForOf",z.crumbs),t.R7$(3),t.JRh(z.title),t.R7$(2),t.Y8G("ngIf",z.isReadOnly&&!z.isReserved),t.R7$(),t.Y8G("ngIf",z.isReserved),t.R7$(),t.Y8G("ngIf",z.totpEnabled),t.R7$(2),t.Y8G("ngIf",z.hasButton),t.R7$(),t.Y8G("ngIf",z.hasTabs))},dependencies:[a.Sq,a.bT,p.Wk,A.D9,e.tl],encapsulation:2})}}return F})()},3697:(ot,ve,l)=>{var t=l(6589);l(812),l(3364),l(1675),function(){if(t.prime)ot.exports=t.prime;else{var a=ot.exports=t.prime=t.prime||{},p=t.jsbn.BigInteger,A=[6,4,2,4,2,4,6,2],e=new p(null);e.fromInt(30);var w=function(u,E){return u|E};a.generateProbablePrime=function(u,E,B){"function"==typeof E&&(B=E,E={});var V=(E=E||{}).algorithm||"PRIMEINC";"string"==typeof V&&(V={name:V}),V.options=V.options||{};var F=E.prng||t.random;if("PRIMEINC"===V.name)return function m(u,E,B,V){return"workers"in B?function g(u,E,B,V){if(typeof Worker>"u")return D(u,E,B,V);var F=k(u,E),M=B.workers,W=B.workLoad||100,y=30*W/8,z=B.workerScript||"forge/prime.worker.js";if(-1===M)return t.util.estimateCores(function(v,L){v&&(L=2),M=L-1,Z()});function Z(){M=Math.max(1,M);for(var v=[],L=0;L<M;++L)v[L]=new Worker(z);for(L=0;L<M;++L)v[L].addEventListener("message",N);var te=!1;function N(fe){if(!te){var oe=fe.data;if(oe.found){for(var R=0;R<v.length;++R)v[R].terminate();return te=!0,V(null,new p(oe.prime,16))}F.bitLength()>u&&(F=k(u,E));var Pe=F.toString(16);fe.target.postMessage({hex:Pe,workLoad:W}),F.dAddOffset(y,0)}}}Z()}(u,E,B,V):D(u,E,B,V)}(u,{nextBytes:function(W){for(var y=F.getBytesSync(W.length),z=0;z<W.length;++z)W[z]=y.charCodeAt(z)}},V.options,B);throw new Error("Invalid prime generation algorithm: "+V.name)}}function D(u,E,B,V){var F=k(u,E),W=function Y(u){return u<=100?27:u<=150?18:u<=200?15:u<=250?12:u<=300?9:u<=350?8:u<=400?7:u<=500?6:u<=600?5:u<=800?4:u<=1250?3:2}(F.bitLength());"millerRabinTests"in B&&(W=B.millerRabinTests);var y=10;"maxBlockTime"in B&&(y=B.maxBlockTime),S(F,u,E,0,W,y,V)}function S(u,E,B,V,F,M,W){var y=+new Date;do{if(u.bitLength()>E&&(u=k(E,B)),u.isProbablePrime(F))return W(null,u);u.dAddOffset(A[V++%8],0)}while(M<0||+new Date-y<M);t.util.setImmediate(function(){S(u,E,B,V,F,M,W)})}function k(u,E){var B=new p(u,E),V=u-1;return B.testBit(V)||B.bitwiseTo(p.ONE.shiftLeft(V),w,B),B.dAddOffset(31-B.mod(e).byteValue(),0),B}}()},3707:(ot,ve,l)=>{var t=l(6589);l(57),l(9807);var a=ot.exports=t.tls;function p(S,g,k){var Y=g.entity===t.tls.ConnectionEnd.client;S.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",Y?k.keys.server_write_key:k.keys.client_write_key),iv:Y?k.keys.server_write_IV:k.keys.client_write_IV},S.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",Y?k.keys.client_write_key:k.keys.server_write_key),iv:Y?k.keys.client_write_IV:k.keys.server_write_IV},S.read.cipherFunction=m,S.write.cipherFunction=A,S.read.macLength=S.write.macLength=k.mac_length,S.read.macFunction=S.write.macFunction=a.hmac_sha1}function A(S,g){var u,k=!1,Y=g.macFunction(g.macKey,g.sequenceNumber,S);S.fragment.putBytes(Y),g.updateSequenceNumber(),u=S.version.minor===a.Versions.TLS_1_0.minor?g.cipherState.init?null:g.cipherState.iv:t.random.getBytesSync(16),g.cipherState.init=!0;var E=g.cipherState.cipher;return E.start({iv:u}),S.version.minor>=a.Versions.TLS_1_1.minor&&E.output.putBytes(u),E.update(S.fragment),E.finish(e)&&(S.fragment=E.output,S.length=S.fragment.length(),k=!0),k}function e(S,g,k){if(!k){var Y=S-g.length()%S;g.fillWithByte(Y-1,Y)}return!0}function w(S,g,k){var Y=!0;if(k){for(var u=g.length(),E=g.last(),B=u-1-E;B<u-1;++B)Y=Y&&g.at(B)==E;Y&&g.truncate(E+1)}return Y}function m(S,g){var Y,k=!1;Y=S.version.minor===a.Versions.TLS_1_0.minor?g.cipherState.init?null:g.cipherState.iv:S.fragment.getBytes(16),g.cipherState.init=!0;var u=g.cipherState.cipher;u.start({iv:Y}),u.update(S.fragment),k=u.finish(w);var E=g.macLength,B=t.random.getBytesSync(E),V=u.output.length();V>=E?(S.fragment=u.output.getBytes(V-E),B=u.output.getBytes(E)):S.fragment=u.output.getBytes(),S.fragment=t.util.createBuffer(S.fragment),S.length=S.fragment.length();var F=g.macFunction(g.macKey,g.sequenceNumber,S);return g.updateSequenceNumber(),k=function D(S,g,k){var Y=t.hmac.create();return Y.start("SHA1",S),Y.update(g),g=Y.digest().getBytes(),Y.start(null,null),Y.update(k),g===(k=Y.digest().getBytes())}(g.macKey,B,F)&&k,k}a.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(S){S.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,S.cipher_type=a.CipherType.block,S.enc_key_length=16,S.block_length=16,S.fixed_iv_length=16,S.record_iv_length=16,S.mac_algorithm=a.MACAlgorithm.hmac_sha1,S.mac_length=20,S.mac_key_length=20},initConnectionState:p},a.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(S){S.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,S.cipher_type=a.CipherType.block,S.enc_key_length=32,S.block_length=16,S.fixed_iv_length=16,S.record_iv_length=16,S.mac_algorithm=a.MACAlgorithm.hmac_sha1,S.mac_length=20,S.mac_key_length=20},initConnectionState:p}},3726:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>g});var t=l(8750),a=l(1985),p=l(1397),A=l(7441),e=l(8071),w=l(6450);const m=["addListener","removeListener"],D=["addEventListener","removeEventListener"],S=["on","off"];function g(B,V,F,M){if((0,e.T)(F)&&(M=F,F=void 0),M)return g(B,V,F).pipe((0,w.I)(M));const[W,y]=function E(B){return(0,e.T)(B.addEventListener)&&(0,e.T)(B.removeEventListener)}(B)?D.map(z=>Z=>B[z](V,Z,F)):function Y(B){return(0,e.T)(B.addListener)&&(0,e.T)(B.removeListener)}(B)?m.map(k(B,V)):function u(B){return(0,e.T)(B.on)&&(0,e.T)(B.off)}(B)?S.map(k(B,V)):[];if(!W&&(0,A.X)(B))return(0,p.Z)(z=>g(z,V,F))((0,t.Tg)(B));if(!W)throw new TypeError("Invalid event target");return new a.c(z=>{const Z=(...v)=>z.next(1<v.length?v:v[0]);return W(Z),()=>y(Z)})}function k(B,V){return F=>M=>B[F](V,M)}},3774:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>A});var t=l(9350),a=l(9974),p=l(4360);function A(w=e){return(0,a.N)((m,D)=>{let S=!1;m.subscribe((0,p._)(D,g=>{S=!0,D.next(g)},()=>S?D.complete():D.error(w())))})}function e(){return new t.G}},3806:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>t});var t=function(a){return a.Minute="Minute",a.Minutes="Minutes",a.Hour="Hour",a.Hours="Hours",a.Day="Day",a.Days="Days",a.Week="Week",a.Weeks="Weeks",a.Month="Month",a.Months="Months",a.Year="Year",a.Years="Years",a.Unlimited="Unlimited",a.Global="Global",a}(t||{})},3816:(ot,ve,l)=>{"use strict";l.d(ve,{V6:()=>g,fw:()=>S,jr:()=>Y});var t=l(1360),a=l(8434);const p=["*"],A=u=>["nav-item",u];function e(u,E){if(1&u){const B=t.RV6();t.j41(0,"span",7),t.bIt("click",function(F){t.eBV(B);const M=t.XpG().$implicit,W=t.XpG();return F.preventDefault(),t.Njj(W.removeTab(M))}),t.EFF(1," \u274c"),t.k0s()}}function w(u,E){if(1&u){const B=t.RV6();t.j41(0,"li",3),t.bIt("keydown",function(F){const M=t.eBV(B).index,W=t.XpG();return t.Njj(W.keyNavActions(F,M))}),t.j41(1,"a",4),t.bIt("click",function(){const F=t.eBV(B).$implicit;return t.Njj(F.active=!0)}),t.j41(2,"span",5),t.EFF(3),t.k0s(),t.DNE(4,e,2,0,"span",6),t.k0s()()}if(2&u){const B=E.$implicit;t.AVh("active",B.active)("disabled",B.disabled),t.Y8G("ngClass",t.eq3(15,A,B.customClass||"")),t.R7$(),t.AVh("active",B.active)("disabled",B.disabled),t.BMQ("aria-controls",B.id?B.id:"")("aria-selected",!!B.active)("id",B.id?B.id+"-link":""),t.R7$(),t.Y8G("ngTransclude",B.headingRef),t.R7$(),t.JRh(B.heading),t.R7$(),t.Y8G("ngIf",B.removable)}}let m=(()=>{class u{set ngTransclude(B){this._ngTransclude=B,B&&this.viewRef.createEmbeddedView(B)}get ngTransclude(){return this._ngTransclude}constructor(B){this.viewRef=B}static{this.\u0275fac=function(V){return new(V||u)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:u,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}}return u})(),D=(()=>{class u{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static{this.\u0275fac=function(V){return new(V||u)}}static{this.\u0275prov=t.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),S=(()=>{class u{get vertical(){return this._vertical}set vertical(B){this._vertical=B,this.setClassMap()}get justified(){return this._justified}set justified(B){this._justified=B,this.setClassMap()}get type(){return this._type}set type(B){this._type=B,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(B){this._isKeysAllowed=B}constructor(B,V,F){this.renderer=V,this.elementRef=F,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,B)}ngOnDestroy(){this.isDestroyed=!0}addTab(B){this.tabs.push(B),B.active=1===this.tabs.length&&!B.active}removeTab(B,V={reselect:!0,emit:!0}){const F=this.tabs.indexOf(B);if(-1!==F&&!this.isDestroyed){if(V.reselect&&B.active&&this.hasAvailableTabs(F)){const M=this.getClosestTabIndex(F);this.tabs[M].active=!0}V.emit&&B.removed.emit(B),this.tabs.splice(F,1),B.elementRef.nativeElement.parentNode&&this.renderer.removeChild(B.elementRef.nativeElement.parentNode,B.elementRef.nativeElement)}}keyNavActions(B,V){if(!this.isKeysAllowed)return;const F=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===B.keyCode||"Enter"===B.key||32===B.keyCode||"Space"===B.key)return B.preventDefault(),void F[V%F.length].click();if(39!==B.keyCode&&"RightArrow"!==B.key)if(37!==B.keyCode&&"LeftArrow"!==B.key)if(36!==B.keyCode&&"Home"!==B.key)if(35!==B.keyCode&&"End"!==B.key){if((46===B.keyCode||"Delete"===B.key)&&this.tabs[V].removable){if(this.removeTab(this.tabs[V]),F[V+1])return void F[(V+1)%F.length].focus();F[F.length-1]&&F[0].focus()}}else{B.preventDefault();let M,W=1,y=V;do{y-W<0?(y=F.length-1,M=F[y],W=0):M=F[y-W],W++}while(M.classList.contains("disabled"));M.focus()}else{B.preventDefault();let M,W=0;do{M=F[W%F.length],W++}while(M.classList.contains("disabled"));M.focus()}else{let M,W=1,y=V;do{y-W<0?(y=F.length-1,M=F[y],W=0):M=F[y-W],W++}while(M.classList.contains("disabled"));M.focus()}else{let M,W=1;do{M=F[(V+W)%F.length],W++}while(M.classList.contains("disabled"));M.focus()}}getClosestTabIndex(B){const V=this.tabs.length;if(!V)return-1;for(let F=1;F<=V;F+=1){const M=B-F,W=B+F;if(this.tabs[M]&&!this.tabs[M].disabled)return M;if(this.tabs[W]&&!this.tabs[W].disabled)return W}return-1}hasAvailableTabs(B){const V=this.tabs.length;if(!V)return!1;for(let F=0;F<V;F+=1)if(!this.tabs[F].disabled&&F!==B)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static{this.\u0275fac=function(V){return new(V||u)(t.rXU(D),t.rXU(t.sFG),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["tabset"]],hostVars:2,hostBindings:function(V,F){2&V&&t.AVh("tab-container",F.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:p,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(V,F){1&V&&(t.NAR(),t.j41(0,"ul",0),t.bIt("click",function(W){return W.preventDefault()}),t.DNE(1,w,5,17,"li",1),t.k0s(),t.j41(2,"div",2),t.SdG(3),t.k0s()),2&V&&(t.Y8G("ngClass",F.classMap),t.BMQ("aria-label",F.ariaLabel),t.R7$(),t.Y8G("ngForOf",F.tabs))},dependencies:[a.YU,a.Sq,m,a.bT],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}}return u})(),g=(()=>{class u{get customClass(){return this._customClass}set customClass(B){this.customClass&&this.customClass.split(" ").forEach(V=>{this.renderer.removeClass(this.elementRef.nativeElement,V)}),this._customClass=B?B.trim():"",this.customClass&&this.customClass.split(" ").forEach(V=>{this.renderer.addClass(this.elementRef.nativeElement,V)})}get active(){return this._active}set active(B){if(this._active!==B){if(this.disabled&&B||!B)return void(this._active&&!B&&(this.deselect.emit(this),this._active=B));this._active=B,this.selectTab.emit(this),this.tabset.tabs.forEach(V=>{V!==this&&(V.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(B,V,F){this.elementRef=V,this.renderer=F,this.disabled=!1,this.removable=!1,this.selectTab=new t.bkB,this.deselect=new t.bkB,this.removed=new t.bkB,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=B,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static{this.\u0275fac=function(V){return new(V||u)(t.rXU(S),t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:u,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(V,F){2&V&&(t.BMQ("id",F.id)("role",F.role)("aria-labelledby",F.ariaLabelledby),t.AVh("active",F.active)("tab-pane",F.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}}return u})(),Y=(()=>{class u{static forRoot(){return{ngModule:u,providers:[]}}static{this.\u0275fac=function(V){return new(V||u)}}static{this.\u0275mod=t.$C({type:u})}static{this.\u0275inj=t.G2t({imports:[a.MD]})}}return u})()},3838:(ot,ve,l)=>{"use strict";const a=l(3981),p=l(2020),A="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ve.hp=D,ve.IS=50;const e=2147483647;function m(ue){if(ue>e)throw new RangeError('The value "'+ue+'" is invalid for option "size"');const P=new Uint8Array(ue);return Object.setPrototypeOf(P,D.prototype),P}function D(ue,P,q){if("number"==typeof ue){if("string"==typeof P)throw new TypeError('The "string" argument must be of type string. Received type number');return Y(ue)}return S(ue,P,q)}function S(ue,P,q){if("string"==typeof ue)return function u(ue,P){if(("string"!=typeof P||""===P)&&(P="utf8"),!D.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const q=0|y(ue,P);let De=m(q);const Ae=De.write(ue,P);return Ae!==q&&(De=De.slice(0,Ae)),De}(ue,P);if(ArrayBuffer.isView(ue))return function B(ue){if(Ln(ue,Uint8Array)){const P=new Uint8Array(ue);return V(P.buffer,P.byteOffset,P.byteLength)}return E(ue)}(ue);if(null==ue)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(Ln(ue,ArrayBuffer)||ue&&Ln(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ln(ue,SharedArrayBuffer)||ue&&Ln(ue.buffer,SharedArrayBuffer)))return V(ue,P,q);if("number"==typeof ue)throw new TypeError('The "value" argument must not be of type number. Received type number');const De=ue.valueOf&&ue.valueOf();if(null!=De&&De!==ue)return D.from(De,P,q);const Ae=function F(ue){if(D.isBuffer(ue)){const P=0|M(ue.length),q=m(P);return 0===q.length||ue.copy(q,0,0,P),q}return void 0!==ue.length?"number"!=typeof ue.length||ni(ue.length)?m(0):E(ue):"Buffer"===ue.type&&Array.isArray(ue.data)?E(ue.data):void 0}(ue);if(Ae)return Ae;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ue[Symbol.toPrimitive])return D.from(ue[Symbol.toPrimitive]("string"),P,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}function g(ue){if("number"!=typeof ue)throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function Y(ue){return g(ue),m(ue<0?0:0|M(ue))}function E(ue){const P=ue.length<0?0:0|M(ue.length),q=m(P);for(let De=0;De<P;De+=1)q[De]=255&ue[De];return q}function V(ue,P,q){if(P<0||ue.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<P+(q||0))throw new RangeError('"length" is outside of buffer bounds');let De;return De=void 0===P&&void 0===q?new Uint8Array(ue):void 0===q?new Uint8Array(ue,P):new Uint8Array(ue,P,q),Object.setPrototypeOf(De,D.prototype),De}function M(ue){if(ue>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|ue}function y(ue,P){if(D.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||Ln(ue,ArrayBuffer))return ue.byteLength;if("string"!=typeof ue)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);const q=ue.length,De=arguments.length>2&&!0===arguments[2];if(!De&&0===q)return 0;let Ae=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return gt(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return Wn(ue).length;default:if(Ae)return De?-1:gt(ue).length;P=(""+P).toLowerCase(),Ae=!0}}function z(ue,P,q){let De=!1;if((void 0===P||P<0)&&(P=0),P>this.length||((void 0===q||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(P>>>=0))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return vt(this,P,q);case"utf8":case"utf-8":return Pe(this,P,q);case"ascii":return rt(this,P,q);case"latin1":case"binary":return lt(this,P,q);case"base64":return R(this,P,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,P,q);default:if(De)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),De=!0}}function Z(ue,P,q){const De=ue[P];ue[P]=ue[q],ue[q]=De}function v(ue,P,q,De,Ae){if(0===ue.length)return-1;if("string"==typeof q?(De=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),ni(q=+q)&&(q=Ae?0:ue.length-1),q<0&&(q=ue.length+q),q>=ue.length){if(Ae)return-1;q=ue.length-1}else if(q<0){if(!Ae)return-1;q=0}if("string"==typeof P&&(P=D.from(P,De)),D.isBuffer(P))return 0===P.length?-1:L(ue,P,q,De,Ae);if("number"==typeof P)return P&=255,"function"==typeof Uint8Array.prototype.indexOf?Ae?Uint8Array.prototype.indexOf.call(ue,P,q):Uint8Array.prototype.lastIndexOf.call(ue,P,q):L(ue,[P],q,De,Ae);throw new TypeError("val must be string, number or Buffer")}function L(ue,P,q,De,Ae){let wn,et=1,_t=ue.length,Ht=P.length;if(void 0!==De&&("ucs2"===(De=String(De).toLowerCase())||"ucs-2"===De||"utf16le"===De||"utf-16le"===De)){if(ue.length<2||P.length<2)return-1;et=2,_t/=2,Ht/=2,q/=2}function nn(Kn,ei){return 1===et?Kn[ei]:Kn.readUInt16BE(ei*et)}if(Ae){let Kn=-1;for(wn=q;wn<_t;wn++)if(nn(ue,wn)===nn(P,-1===Kn?0:wn-Kn)){if(-1===Kn&&(Kn=wn),wn-Kn+1===Ht)return Kn*et}else-1!==Kn&&(wn-=wn-Kn),Kn=-1}else for(q+Ht>_t&&(q=_t-Ht),wn=q;wn>=0;wn--){let Kn=!0;for(let ei=0;ei<Ht;ei++)if(nn(ue,wn+ei)!==nn(P,ei)){Kn=!1;break}if(Kn)return wn}return-1}function J(ue,P,q,De){q=Number(q)||0;const Ae=ue.length-q;De?(De=Number(De))>Ae&&(De=Ae):De=Ae;const et=P.length;let _t;for(De>et/2&&(De=et/2),_t=0;_t<De;++_t){const Ht=parseInt(P.substr(2*_t,2),16);if(ni(Ht))return _t;ue[q+_t]=Ht}return _t}function te(ue,P,q,De){return en(gt(P,ue.length-q),ue,q,De)}function N(ue,P,q,De){return en(function qt(ue){const P=[];for(let q=0;q<ue.length;++q)P.push(255&ue.charCodeAt(q));return P}(P),ue,q,De)}function fe(ue,P,q,De){return en(Wn(P),ue,q,De)}function oe(ue,P,q,De){return en(function Tn(ue,P){let q,De,Ae;const et=[];for(let _t=0;_t<ue.length&&!((P-=2)<0);++_t)q=ue.charCodeAt(_t),De=q>>8,Ae=q%256,et.push(Ae),et.push(De);return et}(P,ue.length-q),ue,q,De)}function R(ue,P,q){return a.fromByteArray(0===P&&q===ue.length?ue:ue.slice(P,q))}function Pe(ue,P,q){q=Math.min(ue.length,q);const De=[];let Ae=P;for(;Ae<q;){const et=ue[Ae];let _t=null,Ht=et>239?4:et>223?3:et>191?2:1;if(Ae+Ht<=q){let nn,wn,Kn,ei;switch(Ht){case 1:et<128&&(_t=et);break;case 2:nn=ue[Ae+1],128==(192&nn)&&(ei=(31&et)<<6|63&nn,ei>127&&(_t=ei));break;case 3:nn=ue[Ae+1],wn=ue[Ae+2],128==(192&nn)&&128==(192&wn)&&(ei=(15&et)<<12|(63&nn)<<6|63&wn,ei>2047&&(ei<55296||ei>57343)&&(_t=ei));break;case 4:nn=ue[Ae+1],wn=ue[Ae+2],Kn=ue[Ae+3],128==(192&nn)&&128==(192&wn)&&128==(192&Kn)&&(ei=(15&et)<<18|(63&nn)<<12|(63&wn)<<6|63&Kn,ei>65535&&ei<1114112&&(_t=ei))}}null===_t?(_t=65533,Ht=1):_t>65535&&(_t-=65536,De.push(_t>>>10&1023|55296),_t=56320|1023&_t),De.push(_t),Ae+=Ht}return function We(ue){const P=ue.length;if(P<=Te)return String.fromCharCode.apply(String,ue);let q="",De=0;for(;De<P;)q+=String.fromCharCode.apply(String,ue.slice(De,De+=Te));return q}(De)}!(D.TYPED_ARRAY_SUPPORT=function w(){try{const ue=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(ue,P),42===ue.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(ue,P,q){return S(ue,P,q)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(ue,P,q){return function k(ue,P,q){return g(ue),ue<=0?m(ue):void 0!==P?"string"==typeof q?m(ue).fill(P,q):m(ue).fill(P):m(ue)}(ue,P,q)},D.allocUnsafe=function(ue){return Y(ue)},D.allocUnsafeSlow=function(ue){return Y(ue)},D.isBuffer=function(P){return null!=P&&!0===P._isBuffer&&P!==D.prototype},D.compare=function(P,q){if(Ln(P,Uint8Array)&&(P=D.from(P,P.offset,P.byteLength)),Ln(q,Uint8Array)&&(q=D.from(q,q.offset,q.byteLength)),!D.isBuffer(P)||!D.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===q)return 0;let De=P.length,Ae=q.length;for(let et=0,_t=Math.min(De,Ae);et<_t;++et)if(P[et]!==q[et]){De=P[et],Ae=q[et];break}return De<Ae?-1:Ae<De?1:0},D.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(P,q){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(0===P.length)return D.alloc(0);let De;if(void 0===q)for(q=0,De=0;De<P.length;++De)q+=P[De].length;const Ae=D.allocUnsafe(q);let et=0;for(De=0;De<P.length;++De){let _t=P[De];if(Ln(_t,Uint8Array))et+_t.length>Ae.length?(D.isBuffer(_t)||(_t=D.from(_t)),_t.copy(Ae,et)):Uint8Array.prototype.set.call(Ae,_t,et);else{if(!D.isBuffer(_t))throw new TypeError('"list" argument must be an Array of Buffers');_t.copy(Ae,et)}et+=_t.length}return Ae},D.byteLength=y,D.prototype._isBuffer=!0,D.prototype.swap16=function(){const P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<P;q+=2)Z(this,q,q+1);return this},D.prototype.swap32=function(){const P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<P;q+=4)Z(this,q,q+3),Z(this,q+1,q+2);return this},D.prototype.swap64=function(){const P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<P;q+=8)Z(this,q,q+7),Z(this,q+1,q+6),Z(this,q+2,q+5),Z(this,q+3,q+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){const P=this.length;return 0===P?"":0===arguments.length?Pe(this,0,P):z.apply(this,arguments)},D.prototype.equals=function(P){if(!D.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||0===D.compare(this,P)},D.prototype.inspect=function(){let P="";const q=ve.IS;return P=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(P+=" ... "),"<Buffer "+P+">"},A&&(D.prototype[A]=D.prototype.inspect),D.prototype.compare=function(P,q,De,Ae,et){if(Ln(P,Uint8Array)&&(P=D.from(P,P.offset,P.byteLength)),!D.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(void 0===q&&(q=0),void 0===De&&(De=P?P.length:0),void 0===Ae&&(Ae=0),void 0===et&&(et=this.length),q<0||De>P.length||Ae<0||et>this.length)throw new RangeError("out of range index");if(Ae>=et&&q>=De)return 0;if(Ae>=et)return-1;if(q>=De)return 1;if(this===P)return 0;let _t=(et>>>=0)-(Ae>>>=0),Ht=(De>>>=0)-(q>>>=0);const nn=Math.min(_t,Ht),wn=this.slice(Ae,et),Kn=P.slice(q,De);for(let ei=0;ei<nn;++ei)if(wn[ei]!==Kn[ei]){_t=wn[ei],Ht=Kn[ei];break}return _t<Ht?-1:Ht<_t?1:0},D.prototype.includes=function(P,q,De){return-1!==this.indexOf(P,q,De)},D.prototype.indexOf=function(P,q,De){return v(this,P,q,De,!0)},D.prototype.lastIndexOf=function(P,q,De){return v(this,P,q,De,!1)},D.prototype.write=function(P,q,De,Ae){if(void 0===q)Ae="utf8",De=this.length,q=0;else if(void 0===De&&"string"==typeof q)Ae=q,De=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q>>>=0,isFinite(De)?(De>>>=0,void 0===Ae&&(Ae="utf8")):(Ae=De,De=void 0)}const et=this.length-q;if((void 0===De||De>et)&&(De=et),P.length>0&&(De<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");let _t=!1;for(;;)switch(Ae){case"hex":return J(this,P,q,De);case"utf8":case"utf-8":return te(this,P,q,De);case"ascii":case"latin1":case"binary":return N(this,P,q,De);case"base64":return fe(this,P,q,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,P,q,De);default:if(_t)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),_t=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Te=4096;function rt(ue,P,q){let De="";q=Math.min(ue.length,q);for(let Ae=P;Ae<q;++Ae)De+=String.fromCharCode(127&ue[Ae]);return De}function lt(ue,P,q){let De="";q=Math.min(ue.length,q);for(let Ae=P;Ae<q;++Ae)De+=String.fromCharCode(ue[Ae]);return De}function vt(ue,P,q){const De=ue.length;(!P||P<0)&&(P=0),(!q||q<0||q>De)&&(q=De);let Ae="";for(let et=P;et<q;++et)Ae+=mt[ue[et]];return Ae}function je(ue,P,q){const De=ue.slice(P,q);let Ae="";for(let et=0;et<De.length-1;et+=2)Ae+=String.fromCharCode(De[et]+256*De[et+1]);return Ae}function Ye(ue,P,q){if(ue%1!=0||ue<0)throw new RangeError("offset is not uint");if(ue+P>q)throw new RangeError("Trying to access beyond buffer length")}function Ke(ue,P,q,De,Ae,et){if(!D.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>Ae||P<et)throw new RangeError('"value" argument is out of bounds');if(q+De>ue.length)throw new RangeError("Index out of range")}function it(ue,P,q,De,Ae){K(P,De,Ae,ue,q,7);let et=Number(P&BigInt(4294967295));ue[q++]=et,et>>=8,ue[q++]=et,et>>=8,ue[q++]=et,et>>=8,ue[q++]=et;let _t=Number(P>>BigInt(32)&BigInt(4294967295));return ue[q++]=_t,_t>>=8,ue[q++]=_t,_t>>=8,ue[q++]=_t,_t>>=8,ue[q++]=_t,q}function Ve(ue,P,q,De,Ae){K(P,De,Ae,ue,q,7);let et=Number(P&BigInt(4294967295));ue[q+7]=et,et>>=8,ue[q+6]=et,et>>=8,ue[q+5]=et,et>>=8,ue[q+4]=et;let _t=Number(P>>BigInt(32)&BigInt(4294967295));return ue[q+3]=_t,_t>>=8,ue[q+2]=_t,_t>>=8,ue[q+1]=_t,_t>>=8,ue[q]=_t,q+8}function Be(ue,P,q,De,Ae,et){if(q+De>ue.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Xe(ue,P,q,De,Ae){return P=+P,q>>>=0,Ae||Be(ue,0,q,4),p.write(ue,P,q,De,23,4),q+4}function Ue(ue,P,q,De,Ae){return P=+P,q>>>=0,Ae||Be(ue,0,q,8),p.write(ue,P,q,De,52,8),q+8}D.prototype.slice=function(P,q){const De=this.length;(P=~~P)<0?(P+=De)<0&&(P=0):P>De&&(P=De),(q=void 0===q?De:~~q)<0?(q+=De)<0&&(q=0):q>De&&(q=De),q<P&&(q=P);const Ae=this.subarray(P,q);return Object.setPrototypeOf(Ae,D.prototype),Ae},D.prototype.readUintLE=D.prototype.readUIntLE=function(P,q,De){P>>>=0,q>>>=0,De||Ye(P,q,this.length);let Ae=this[P],et=1,_t=0;for(;++_t<q&&(et*=256);)Ae+=this[P+_t]*et;return Ae},D.prototype.readUintBE=D.prototype.readUIntBE=function(P,q,De){P>>>=0,q>>>=0,De||Ye(P,q,this.length);let Ae=this[P+--q],et=1;for(;q>0&&(et*=256);)Ae+=this[P+--q]*et;return Ae},D.prototype.readUint8=D.prototype.readUInt8=function(P,q){return P>>>=0,q||Ye(P,1,this.length),this[P]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(P,q){return P>>>=0,q||Ye(P,2,this.length),this[P]|this[P+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(P,q){return P>>>=0,q||Ye(P,2,this.length),this[P]<<8|this[P+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},D.prototype.readBigUInt64LE=Jt(function(P){de(P>>>=0,"offset");const q=this[P],De=this[P+7];(void 0===q||void 0===De)&&ge(P,this.length-8);const Ae=q+256*this[++P]+65536*this[++P]+this[++P]*2**24,et=this[++P]+256*this[++P]+65536*this[++P]+De*2**24;return BigInt(Ae)+(BigInt(et)<<BigInt(32))}),D.prototype.readBigUInt64BE=Jt(function(P){de(P>>>=0,"offset");const q=this[P],De=this[P+7];(void 0===q||void 0===De)&&ge(P,this.length-8);const Ae=q*2**24+65536*this[++P]+256*this[++P]+this[++P],et=this[++P]*2**24+65536*this[++P]+256*this[++P]+De;return(BigInt(Ae)<<BigInt(32))+BigInt(et)}),D.prototype.readIntLE=function(P,q,De){P>>>=0,q>>>=0,De||Ye(P,q,this.length);let Ae=this[P],et=1,_t=0;for(;++_t<q&&(et*=256);)Ae+=this[P+_t]*et;return et*=128,Ae>=et&&(Ae-=Math.pow(2,8*q)),Ae},D.prototype.readIntBE=function(P,q,De){P>>>=0,q>>>=0,De||Ye(P,q,this.length);let Ae=q,et=1,_t=this[P+--Ae];for(;Ae>0&&(et*=256);)_t+=this[P+--Ae]*et;return et*=128,_t>=et&&(_t-=Math.pow(2,8*q)),_t},D.prototype.readInt8=function(P,q){return P>>>=0,q||Ye(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},D.prototype.readInt16LE=function(P,q){P>>>=0,q||Ye(P,2,this.length);const De=this[P]|this[P+1]<<8;return 32768&De?4294901760|De:De},D.prototype.readInt16BE=function(P,q){P>>>=0,q||Ye(P,2,this.length);const De=this[P+1]|this[P]<<8;return 32768&De?4294901760|De:De},D.prototype.readInt32LE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},D.prototype.readInt32BE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},D.prototype.readBigInt64LE=Jt(function(P){de(P>>>=0,"offset");const q=this[P],De=this[P+7];return(void 0===q||void 0===De)&&ge(P,this.length-8),(BigInt(this[P+4]+256*this[P+5]+65536*this[P+6]+(De<<24))<<BigInt(32))+BigInt(q+256*this[++P]+65536*this[++P]+this[++P]*2**24)}),D.prototype.readBigInt64BE=Jt(function(P){de(P>>>=0,"offset");const q=this[P],De=this[P+7];(void 0===q||void 0===De)&&ge(P,this.length-8);const Ae=(q<<24)+65536*this[++P]+256*this[++P]+this[++P];return(BigInt(Ae)<<BigInt(32))+BigInt(this[++P]*2**24+65536*this[++P]+256*this[++P]+De)}),D.prototype.readFloatLE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),p.read(this,P,!0,23,4)},D.prototype.readFloatBE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),p.read(this,P,!1,23,4)},D.prototype.readDoubleLE=function(P,q){return P>>>=0,q||Ye(P,8,this.length),p.read(this,P,!0,52,8)},D.prototype.readDoubleBE=function(P,q){return P>>>=0,q||Ye(P,8,this.length),p.read(this,P,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function(P,q,De,Ae){P=+P,q>>>=0,De>>>=0,Ae||Ke(this,P,q,De,Math.pow(2,8*De)-1,0);let et=1,_t=0;for(this[q]=255&P;++_t<De&&(et*=256);)this[q+_t]=P/et&255;return q+De},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(P,q,De,Ae){P=+P,q>>>=0,De>>>=0,Ae||Ke(this,P,q,De,Math.pow(2,8*De)-1,0);let et=De-1,_t=1;for(this[q+et]=255&P;--et>=0&&(_t*=256);)this[q+et]=P/_t&255;return q+De},D.prototype.writeUint8=D.prototype.writeUInt8=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,1,255,0),this[q]=255&P,q+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,2,65535,0),this[q]=255&P,this[q+1]=P>>>8,q+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,2,65535,0),this[q]=P>>>8,this[q+1]=255&P,q+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,4,4294967295,0),this[q+3]=P>>>24,this[q+2]=P>>>16,this[q+1]=P>>>8,this[q]=255&P,q+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,4,4294967295,0),this[q]=P>>>24,this[q+1]=P>>>16,this[q+2]=P>>>8,this[q+3]=255&P,q+4},D.prototype.writeBigUInt64LE=Jt(function(P,q=0){return it(this,P,q,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=Jt(function(P,q=0){return Ve(this,P,q,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(P,q,De,Ae){if(P=+P,q>>>=0,!Ae){const nn=Math.pow(2,8*De-1);Ke(this,P,q,De,nn-1,-nn)}let et=0,_t=1,Ht=0;for(this[q]=255&P;++et<De&&(_t*=256);)P<0&&0===Ht&&0!==this[q+et-1]&&(Ht=1),this[q+et]=(P/_t|0)-Ht&255;return q+De},D.prototype.writeIntBE=function(P,q,De,Ae){if(P=+P,q>>>=0,!Ae){const nn=Math.pow(2,8*De-1);Ke(this,P,q,De,nn-1,-nn)}let et=De-1,_t=1,Ht=0;for(this[q+et]=255&P;--et>=0&&(_t*=256);)P<0&&0===Ht&&0!==this[q+et+1]&&(Ht=1),this[q+et]=(P/_t|0)-Ht&255;return q+De},D.prototype.writeInt8=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,1,127,-128),P<0&&(P=255+P+1),this[q]=255&P,q+1},D.prototype.writeInt16LE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,2,32767,-32768),this[q]=255&P,this[q+1]=P>>>8,q+2},D.prototype.writeInt16BE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,2,32767,-32768),this[q]=P>>>8,this[q+1]=255&P,q+2},D.prototype.writeInt32LE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,4,2147483647,-2147483648),this[q]=255&P,this[q+1]=P>>>8,this[q+2]=P>>>16,this[q+3]=P>>>24,q+4},D.prototype.writeInt32BE=function(P,q,De){return P=+P,q>>>=0,De||Ke(this,P,q,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[q]=P>>>24,this[q+1]=P>>>16,this[q+2]=P>>>8,this[q+3]=255&P,q+4},D.prototype.writeBigInt64LE=Jt(function(P,q=0){return it(this,P,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=Jt(function(P,q=0){return Ve(this,P,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeFloatLE=function(P,q,De){return Xe(this,P,q,!0,De)},D.prototype.writeFloatBE=function(P,q,De){return Xe(this,P,q,!1,De)},D.prototype.writeDoubleLE=function(P,q,De){return Ue(this,P,q,!0,De)},D.prototype.writeDoubleBE=function(P,q,De){return Ue(this,P,q,!1,De)},D.prototype.copy=function(P,q,De,Ae){if(!D.isBuffer(P))throw new TypeError("argument should be a Buffer");if(De||(De=0),!Ae&&0!==Ae&&(Ae=this.length),q>=P.length&&(q=P.length),q||(q=0),Ae>0&&Ae<De&&(Ae=De),Ae===De||0===P.length||0===this.length)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),P.length-q<Ae-De&&(Ae=P.length-q+De);const et=Ae-De;return this===P&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(q,De,Ae):Uint8Array.prototype.set.call(P,this.subarray(De,Ae),q),et},D.prototype.fill=function(P,q,De,Ae){if("string"==typeof P){if("string"==typeof q?(Ae=q,q=0,De=this.length):"string"==typeof De&&(Ae=De,De=this.length),void 0!==Ae&&"string"!=typeof Ae)throw new TypeError("encoding must be a string");if("string"==typeof Ae&&!D.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);if(1===P.length){const _t=P.charCodeAt(0);("utf8"===Ae&&_t<128||"latin1"===Ae)&&(P=_t)}}else"number"==typeof P?P&=255:"boolean"==typeof P&&(P=Number(P));if(q<0||this.length<q||this.length<De)throw new RangeError("Out of range index");if(De<=q)return this;let et;if(q>>>=0,De=void 0===De?this.length:De>>>0,P||(P=0),"number"==typeof P)for(et=q;et<De;++et)this[et]=P;else{const _t=D.isBuffer(P)?P:D.from(P,Ae),Ht=_t.length;if(0===Ht)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(et=0;et<De-q;++et)this[et+q]=_t[et%Ht]}return this};const ct={};function st(ue,P,q){ct[ue]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ue}]`,delete this.name}get code(){return ue}set code(Ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ae,writable:!0})}toString(){return`${this.name} [${ue}]: ${this.message}`}}}function Qe(ue){let P="",q=ue.length;const De="-"===ue[0]?1:0;for(;q>=De+4;q-=3)P=`_${ue.slice(q-3,q)}${P}`;return`${ue.slice(0,q)}${P}`}function K(ue,P,q,De,Ae,et){if(ue>q||ue<P){const _t="bigint"==typeof P?"n":"";let Ht;throw Ht=et>3?0===P||P===BigInt(0)?`>= 0${_t} and < 2${_t} ** ${8*(et+1)}${_t}`:`>= -(2${_t} ** ${8*(et+1)-1}${_t}) and < 2 ** ${8*(et+1)-1}${_t}`:`>= ${P}${_t} and <= ${q}${_t}`,new ct.ERR_OUT_OF_RANGE("value",Ht,ue)}!function ne(ue,P,q){de(P,"offset"),(void 0===ue[P]||void 0===ue[P+q])&&ge(P,ue.length-(q+1))}(De,Ae,et)}function de(ue,P){if("number"!=typeof ue)throw new ct.ERR_INVALID_ARG_TYPE(P,"number",ue)}function ge(ue,P,q){throw Math.floor(ue)!==ue?(de(ue,q),new ct.ERR_OUT_OF_RANGE(q||"offset","an integer",ue)):P<0?new ct.ERR_BUFFER_OUT_OF_BOUNDS:new ct.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${P}`,ue)}st("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?`${ue} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(ue,P){return`The "${ue}" argument must be of type number. Received type ${typeof P}`},TypeError),st("ERR_OUT_OF_RANGE",function(ue,P,q){let De=`The value of "${ue}" is out of range.`,Ae=q;return Number.isInteger(q)&&Math.abs(q)>2**32?Ae=Qe(String(q)):"bigint"==typeof q&&(Ae=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(Ae=Qe(Ae)),Ae+="n"),De+=` It must be ${P}. Received ${Ae}`,De},RangeError);const o=/[^+/0-9A-Za-z-_]/g;function gt(ue,P){let q;P=P||1/0;const De=ue.length;let Ae=null;const et=[];for(let _t=0;_t<De;++_t){if(q=ue.charCodeAt(_t),q>55295&&q<57344){if(!Ae){if(q>56319){(P-=3)>-1&&et.push(239,191,189);continue}if(_t+1===De){(P-=3)>-1&&et.push(239,191,189);continue}Ae=q;continue}if(q<56320){(P-=3)>-1&&et.push(239,191,189),Ae=q;continue}q=65536+(Ae-55296<<10|q-56320)}else Ae&&(P-=3)>-1&&et.push(239,191,189);if(Ae=null,q<128){if((P-=1)<0)break;et.push(q)}else if(q<2048){if((P-=2)<0)break;et.push(q>>6|192,63&q|128)}else if(q<65536){if((P-=3)<0)break;et.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;et.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return et}function Wn(ue){return a.toByteArray(function dt(ue){if((ue=(ue=ue.split("=")[0]).trim().replace(o,"")).length<2)return"";for(;ue.length%4!=0;)ue+="=";return ue}(ue))}function en(ue,P,q,De){let Ae;for(Ae=0;Ae<De&&!(Ae+q>=P.length||Ae>=ue.length);++Ae)P[Ae+q]=ue[Ae];return Ae}function Ln(ue,P){return ue instanceof P||null!=ue&&null!=ue.constructor&&null!=ue.constructor.name&&ue.constructor.name===P.name}function ni(ue){return ue!=ue}const mt=function(){const ue="0123456789abcdef",P=new Array(256);for(let q=0;q<16;++q){const De=16*q;for(let Ae=0;Ae<16;++Ae)P[De+Ae]=ue[q]+ue[Ae]}return P}();function Jt(ue){return typeof BigInt>"u"?he:ue}function he(){throw new Error("BigInt not supported")}},3843:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>p});var t=l(8434),a=l(1360);let p=(()=>{class A{static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275mod=a.$C({type:A})}static{this.\u0275inj=a.G2t({imports:[t.MD]})}}return A})()},3853:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>D});var t=l(3165),a=l(4589);class A{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==a.G.Demo}isStarterLicense(){return this.licenseType==a.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var e=l(1594),w=l(6354),m=l(1360);let D=(()=>{class S{constructor(k){this.http=k,this.headers=new t.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,e.$)(),(0,w.T)(k=>{var Y=new A;return Y.organisation=k.organisation,Y.licenseType=k.licenseType,Y.isExpired=k.isExpired,Y.isInGracePeriod=k.isInGracePeriod,Y.gracePeriodExpiry=k.gracePeriodExpiry,Y.maxUsers=k.maxUsers,Y.maxClients=k.maxClients,Y.userQuotaRemaining=k.userQuotaRemaining,Y.clientQuotaRemaining=k.clientQuotaRemaining,Y}))}static{this.\u0275fac=function(Y){return new(Y||S)(m.KVO(t.Qq))}}static{this.\u0275prov=m.jDH({token:S,factory:S.\u0275fac})}}return S})()},3860:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>A});var t=l(9417),a=l(7263),p=l(1360);let A=(()=>{class e{validate(m){return this.regex?(0,a.AB)(new RegExp(this.regex,"i"))(m):null}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275dir=p.FsC({type:e,selectors:[["","appClaimRegex",""]],inputs:{regex:[0,"appClaimRegex","regex"]},standalone:!1,features:[p.Jv_([{provide:t.cz,useExisting:e,multi:!0}])]})}}return e})()},3899:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>J});var t=l(1360),a=l(9361),p=l(1413),A=l(3726),e=l(6977),w=l(6354),m=l(9172),D=l(5964),S=l(3993);const g=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var u=l(1258),E=l(7185),B=l(4754),V=l(8434),F=l(8018);const M=["*"];function W(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.cancel())}),t.nrm(1,"span",17),t.j41(2,"span",18),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&te&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.Close")))}function y(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.save())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&te){const fe=t.XpG();t.Y8G("disabled",fe.addDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,fe.saveText)," ")}}function z(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.delete())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&te){const fe=t.XpG();t.Y8G("disabled",fe.deleteDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,fe.deleteText)," ")}}function Z(te,N){if(1&te){const fe=t.RV6();t.j41(0,"div",21)(1,"button",22),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.saveAndReAdd())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&te){const fe=t.XpG();t.R7$(),t.Y8G("disabled",fe.addDisabled),t.R7$(),t.SpI(" ",t.bMT(3,2,fe.saveAndReAddText)," ")}}function v(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.cancel())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&te&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Cancel")," "))}function L(te,N){1&te&&t.nrm(0,"div",24)}let J=(()=>{class te{constructor(fe,oe,R){this.document=fe,this.elRef=oe,this.modalService=R,this.hideCancel=!1,this.modalType=E.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new t.bkB,this.onSaveAndReAdd=new t.bkB,this.onDelete=new t.bkB,this.onCancel=new t.bkB,this.isVisible=!1,this.isVisible$=new p.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(u.N.Delete),this.canSave=this.actions.includes(u.N.Save),this.canSaveAndReAdd=this.actions.includes(u.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function k(te,N){const fe=function Y(te){const N=Array.from(te.querySelectorAll(g)).filter(fe=>-1!==fe.tabIndex);return[N[0],N[N.length-1]]}(te),[oe,R]=fe,Pe=(0,A.R)(te,"focusin").pipe((0,e.Q)(N),(0,w.T)(Te=>Te.target),(0,m.Z)(oe));oe.focus(),(0,A.R)(te,"keydown").pipe((0,e.Q)(N),(0,D.p)(Te=>"Tab"===Te.key),(0,S.E)(Pe)).subscribe(([Te,We])=>{(We===oe||We===te)&&Te.shiftKey&&(R.focus(),Te.preventDefault()),We===R&&!Te.shiftKey&&(oe.focus(),Te.preventDefault())}),(0,A.R)(document,"click").pipe((0,e.Q)(N),(0,S.E)(Pe),(0,w.T)(Te=>Te[1])).subscribe(Te=>{Te.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,A.R)(this.document,"keydown").pipe((0,e.Q)(this.isVisible$),(0,D.p)(fe=>"Esc"===fe.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(oe){return new(oe||te)(t.rXU(a.q),t.rXU(t.aKT),t.rXU(B.B))}}static{this.\u0275cmp=t.VBU({type:te,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},standalone:!1,ngContentSelectors:M,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(oe,R){1&oe&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.DNE(7,W,5,3,"button",5),t.k0s(),t.j41(8,"div",6),t.SdG(9),t.k0s(),t.nrm(10,"div",7),t.j41(11,"div",8)(12,"div",9)(13,"div",10),t.DNE(14,y,3,4,"button",11)(15,z,3,4,"button",12)(16,Z,4,4,"div",13),t.k0s(),t.DNE(17,v,3,3,"button",14),t.k0s()()()()(),t.DNE(18,L,1,0,"div",15)),2&oe&&(t.AVh("show",R.isVisible),t.BMQ("aria-hidden",!R.isVisible)("aria-labelledby","modal-title-"+R.modalId),t.R7$(4),t.Mz_("id","modal-title-",R.modalId,""),t.R7$(),t.JRh(t.bMT(6,13,R.title)),t.R7$(2),t.Y8G("ngIf",!R.hideCancel),t.R7$(7),t.Y8G("ngIf",R.canSave),t.R7$(),t.Y8G("ngIf",R.canDelete),t.R7$(),t.Y8G("ngIf",R.canSaveAndReAdd),t.R7$(),t.Y8G("ngIf",!R.hideCancel),t.R7$(),t.Y8G("ngIf",R.showBackdrop))},dependencies:[V.bT,F.D9],encapsulation:2})}}return te})()},3929:(ot,ve,l)=>{"use strict";l.d(ve,{V:()=>Jm});var t=l(467);class a{}var p=l(5955);function e(U,G,d){var T;return U instanceof Object&&null!==(T=U[G])&&void 0!==T?T:d}function w(U,G=0,d=U.byteLength-G,T=!1){let j="";for(const _e of new Uint8Array(U,G,d)){const Oe=_e.toString(16).toUpperCase();1===Oe.length&&(j+="0"),j+=Oe,T&&(j+=" ")}return j.trim()}function D(U,G){let d=0;if(1===U.length)return U[0];for(let T=U.length-1;T>=0;T--)d+=U[U.length-1-T]*Math.pow(2,G*T);return d}function S(U,G,d=-1){const T=d;let j=U,_e=0,Oe=Math.pow(2,G);for(let ze=1;ze<8;ze++){if(U<Oe){let nt;if(T<0)nt=new ArrayBuffer(ze),_e=ze;else{if(T<ze)return new ArrayBuffer(0);nt=new ArrayBuffer(T),_e=T}const bt=new Uint8Array(nt);for(let $t=ze-1;$t>=0;$t--){const Zt=Math.pow(2,$t*G);bt[_e-$t-1]=Math.floor(j/Zt),j-=bt[_e-$t-1]*Zt}return nt}Oe*=Math.pow(2,G)}return new ArrayBuffer(0)}function g(...U){let G=0,d=0;for(const _e of U)G+=_e.byteLength;const T=new ArrayBuffer(G),j=new Uint8Array(T);for(const _e of U)j.set(new Uint8Array(_e),d),d+=_e.byteLength;return T}function k(...U){let G=0,d=0;for(const _e of U)G+=_e.length;const T=new ArrayBuffer(G),j=new Uint8Array(T);for(const _e of U)j.set(_e,d),d+=_e.length;return j}function Y(){const U=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===U[0]&&128&U[1]||0===U[0]&&!(128&U[1]))&&this.warnings.push("Needlessly long format");const G=new ArrayBuffer(this.valueHex.byteLength),d=new Uint8Array(G);for(let ze=0;ze<this.valueHex.byteLength;ze++)d[ze]=0;d[0]=128&U[0];const T=D(d,8),j=new ArrayBuffer(this.valueHex.byteLength),_e=new Uint8Array(j);for(let ze=0;ze<this.valueHex.byteLength;ze++)_e[ze]=U[ze];return _e[0]&=127,D(_e,8)-T}function E(U,G){if(U.byteLength!==G.byteLength)return!1;const d=new Uint8Array(U),T=new Uint8Array(G);for(let j=0;j<d.length;j++)if(d[j]!==T[j])return!1;return!0}function B(U,G){const d=U.toString(10);if(G<d.length)return"";const T=G-d.length,j=new Array(T);for(let Oe=0;Oe<T;Oe++)j[Oe]="0";return j.join("").concat(d)}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function M(U,G=!1,d=!1,T=!1){let j=0,_e=0,Oe=0,ze="";const nt=G?F:V;if(T){let bt=0;for(let $t=0;$t<U.length;$t++)if(0!==U.charCodeAt($t)){bt=$t;break}U=U.slice(bt)}for(;j<U.length;){const bt=U.charCodeAt(j++);j>=U.length&&(_e=1);const $t=U.charCodeAt(j++);j>=U.length&&(Oe=1);const Zt=U.charCodeAt(j++),Rn=bt>>2,dn=(3&bt)<<4|$t>>4;let di=(15&$t)<<2|Zt>>6,ki=63&Zt;1===_e?di=ki=64:1===Oe&&(ki=64),ze+=d?64===di?`${nt.charAt(Rn)}${nt.charAt(dn)}`:64===ki?`${nt.charAt(Rn)}${nt.charAt(dn)}${nt.charAt(di)}`:`${nt.charAt(Rn)}${nt.charAt(dn)}${nt.charAt(di)}${nt.charAt(ki)}`:`${nt.charAt(Rn)}${nt.charAt(dn)}${nt.charAt(di)}${nt.charAt(ki)}`}return ze}function W(U,G=!1,d=!1){const T=G?F:V;function j(nt){for(let bt=0;bt<64;bt++)if(T.charAt(bt)===nt)return bt;return 64}function _e(nt){return 64===nt?0:nt}let Oe=0,ze="";for(;Oe<U.length;){const nt=j(U.charAt(Oe++)),bt=Oe>=U.length?0:j(U.charAt(Oe++)),$t=Oe>=U.length?0:j(U.charAt(Oe++)),Zt=Oe>=U.length?0:j(U.charAt(Oe++)),Rn=_e(nt)<<2|_e(bt)>>4,dn=(15&_e(bt))<<4|_e($t)>>2,di=(3&_e($t))<<6|_e(Zt);ze+=String.fromCharCode(Rn),64!==$t&&(ze+=String.fromCharCode(dn)),64!==Zt&&(ze+=String.fromCharCode(di))}if(d){let bt=-1;for(let $t=ze.length-1;$t>=0;$t--)if(0!==ze.charCodeAt($t)){bt=$t;break}ze=-1!==bt?ze.slice(0,bt+1):""}return ze}function y(U){let G="";const d=new Uint8Array(U);for(const T of d)G+=String.fromCharCode(T);return G}function z(U){const G=U.length,d=new ArrayBuffer(G),T=new Uint8Array(d);for(let j=0;j<G;j++)T[j]=U.charCodeAt(j);return d}const Z=Math.log(2);function v(U){const G=Math.log(U)/Z,d=Math.floor(G),T=Math.round(G);return d===T?d:T}function L(U,G){for(const d of G)delete U[d]}function J(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function te(U){let G=0,d=0;for(let j=0;j<U.length;j++)G+=U[j].byteLength;const T=new Uint8Array(G);for(let j=0;j<U.length;j++){const _e=U[j];T.set(new Uint8Array(_e),d),d+=_e.byteLength}return T.buffer}function N(U,G,d,T){return G instanceof Uint8Array?G.byteLength?d<0?(U.error="Wrong parameter: inputOffset less than zero",!1):T<0?(U.error="Wrong parameter: inputLength less than zero",!1):!(G.byteLength-d-T<0&&(U.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(U.error="Wrong parameter: inputBuffer has zero length",!1):(U.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class fe{constructor(){this.items=[]}write(G){this.items.push(G)}final(){return te(this.items)}}const oe=[new Uint8Array([1])],R="0123456789",Pe="name",Te="valueHexView",Be=new ArrayBuffer(0),Xe=new Uint8Array(0),Ue="EndOfContent",ct="OCTET STRING",st="BIT STRING";function Qe(U){var G;return(G=class extends U{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(T){this.valueHexView=new Uint8Array(T)}constructor(...T){var j;super(...T);const _e=T[0]||{};this.isHexOnly=null!==(j=_e.isHexOnly)&&void 0!==j&&j,this.valueHexView=_e.valueHex?p._H.toUint8Array(_e.valueHex):Xe}fromBER(T,j,_e){const Oe=T instanceof ArrayBuffer?new Uint8Array(T):T;if(!N(this,Oe,j,_e))return-1;const ze=j+_e;return this.valueHexView=Oe.subarray(j,ze),this.valueHexView.length?(this.blockLength=_e,ze):(this.warnings.push("Zero buffer length"),j)}toBER(T=!1){return this.isHexOnly?T?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Be)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:p.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",G}let ne=(()=>{class U{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(d){this.valueBeforeDecodeView=new Uint8Array(d)}constructor({blockLength:d=0,error:T="",warnings:j=[],valueBeforeDecode:_e=Xe}={}){this.blockLength=d,this.error=T,this.warnings=j,this.valueBeforeDecodeView=p._H.toUint8Array(_e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:p.U$.ToHex(this.valueBeforeDecodeView)}}}return U.NAME="baseBlock",U})(),K=(()=>{class U extends ne{fromBER(d,T,j){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(d,T){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return U.NAME="valueBlock",U})(),de=(()=>{class U extends(Qe(ne)){constructor({idBlock:d={}}={}){var T,j,_e,Oe;super(),d?(this.isHexOnly=null!==(T=d.isHexOnly)&&void 0!==T&&T,this.valueHexView=d.valueHex?p._H.toUint8Array(d.valueHex):Xe,this.tagClass=null!==(j=d.tagClass)&&void 0!==j?j:-1,this.tagNumber=null!==(_e=d.tagNumber)&&void 0!==_e?_e:-1,this.isConstructed=null!==(Oe=d.isConstructed)&&void 0!==Oe&&Oe):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(d=!1){let T=0;switch(this.tagClass){case 1:T|=0;break;case 2:T|=64;break;case 3:T|=128;break;case 4:T|=192;break;default:return this.error="Unknown tag class",Be}if(this.isConstructed&&(T|=32),this.tagNumber<31&&!this.isHexOnly){const _e=new Uint8Array(1);if(!d){let Oe=this.tagNumber;Oe&=31,T|=Oe,_e[0]=T}return _e.buffer}if(!this.isHexOnly){const _e=S(this.tagNumber,7),Oe=new Uint8Array(_e),ze=_e.byteLength,nt=new Uint8Array(ze+1);if(nt[0]=31|T,!d){for(let bt=0;bt<ze-1;bt++)nt[bt+1]=128|Oe[bt];nt[ze]=Oe[ze-1]}return nt.buffer}const j=new Uint8Array(this.valueHexView.byteLength+1);if(j[0]=31|T,!d){const _e=this.valueHexView;for(let Oe=0;Oe<_e.length-1;Oe++)j[Oe+1]=128|_e[Oe];j[this.valueHexView.byteLength]=_e[_e.length-1]}return j.buffer}fromBER(d,T,j){const _e=p._H.toUint8Array(d);if(!N(this,_e,T,j))return-1;const Oe=_e.subarray(T,T+j);if(0===Oe.length)return this.error="Zero buffer length",-1;switch(192&Oe[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~Oe[0]),this.isHexOnly=!1;const nt=31&Oe[0];if(31!==nt)this.tagNumber=nt,this.blockLength=1;else{let bt=1,$t=this.valueHexView=new Uint8Array(255),Zt=255;for(;128&Oe[bt];){if($t[bt-1]=127&Oe[bt],bt++,bt>=Oe.length)return this.error="End of input reached before message was fully decoded",-1;if(bt===Zt){Zt+=255;const dn=new Uint8Array(Zt);for(let di=0;di<$t.length;di++)dn[di]=$t[di];$t=this.valueHexView=new Uint8Array(Zt)}}this.blockLength=bt+1,$t[bt-1]=127&Oe[bt];const Rn=new Uint8Array(bt);for(let dn=0;dn<bt;dn++)Rn[dn]=$t[dn];$t=this.valueHexView=new Uint8Array(bt),$t.set(Rn),this.blockLength<=9?this.tagNumber=D($t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return T+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return U.NAME="identificationBlock",U})(),ge=(()=>{class U extends ne{constructor({lenBlock:d={}}={}){var T,j,_e;super(),this.isIndefiniteForm=null!==(T=d.isIndefiniteForm)&&void 0!==T&&T,this.longFormUsed=null!==(j=d.longFormUsed)&&void 0!==j&&j,this.length=null!==(_e=d.length)&&void 0!==_e?_e:0}fromBER(d,T,j){const _e=p._H.toUint8Array(d);if(!N(this,_e,T,j))return-1;const Oe=_e.subarray(T,T+j);if(0===Oe.length)return this.error="Zero buffer length",-1;if(255===Oe[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===Oe[0],this.isIndefiniteForm)return this.blockLength=1,T+this.blockLength;if(this.longFormUsed=!!(128&Oe[0]),!1===this.longFormUsed)return this.length=Oe[0],this.blockLength=1,T+this.blockLength;const ze=127&Oe[0];if(ze>8)return this.error="Too big integer",-1;if(ze+1>Oe.length)return this.error="End of input reached before message was fully decoded",-1;const nt=T+1,bt=_e.subarray(nt,nt+ze);return 0===bt[ze-1]&&this.warnings.push("Needlessly long encoded length"),this.length=D(bt,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ze+1,T+this.blockLength}toBER(d=!1){let T,j;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return T=new ArrayBuffer(1),!1===d&&(j=new Uint8Array(T),j[0]=128),T;if(this.longFormUsed){const _e=S(this.length,8);if(_e.byteLength>127)return this.error="Too big length",Be;if(T=new ArrayBuffer(_e.byteLength+1),d)return T;const Oe=new Uint8Array(_e);j=new Uint8Array(T),j[0]=128|_e.byteLength;for(let ze=0;ze<_e.byteLength;ze++)j[ze+1]=Oe[ze];return T}return T=new ArrayBuffer(1),!1===d&&(j=new Uint8Array(T),j[0]=this.length),T}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return U.NAME="lengthBlock",U})();const o={};let dt=(()=>{class U extends ne{constructor({name:d="",optional:T=!1,primitiveSchema:j,..._e}={},Oe){super(_e),this.name=d,this.optional=T,j&&(this.primitiveSchema=j),this.idBlock=new de(_e),this.lenBlock=new ge(_e),this.valueBlock=Oe?new Oe(_e):new K(_e)}fromBER(d,T,j){const _e=this.valueBlock.fromBER(d,T,this.lenBlock.isIndefiniteForm?j:this.lenBlock.length);return-1===_e?(this.error=this.valueBlock.error,_e):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),_e)}toBER(d,T){const j=T||new fe;T||gt(this);const _e=this.idBlock.toBER(d);if(j.write(_e),this.lenBlock.isIndefiniteForm)j.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(d,j),j.write(new ArrayBuffer(2));else{const Oe=this.valueBlock.toBER(d);this.lenBlock.length=Oe.byteLength;const ze=this.lenBlock.toBER(d);j.write(ze),j.write(Oe)}return T?Be:j.final()}toJSON(){const d={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(d.primitiveSchema=this.primitiveSchema.toJSON()),d}toString(d="ascii"){return"ascii"===d?this.onAsciiEncoding():p.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${p.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(d){return this===d||d instanceof this.constructor&&E(this.toBER(),d.toBER())}}return U.NAME="BaseBlock",U})();function gt(U){var G;if(U instanceof o.Constructed)for(const d of U.valueBlock.value)gt(d)&&(U.lenBlock.isIndefiniteForm=!0);return!(null===(G=U.lenBlock)||void 0===G||!G.isIndefiniteForm)}let qt=(()=>{class U extends dt{getValue(){return this.valueBlock.value}setValue(d){this.valueBlock.value=d}constructor({value:d="",...T}={},j){super(T,j),d&&this.fromString(d)}fromBER(d,T,j){const _e=this.valueBlock.fromBER(d,T,this.lenBlock.isIndefiniteForm?j:this.lenBlock.length);return-1===_e?(this.error=this.valueBlock.error,_e):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),_e)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return U.NAME="BaseStringBlock",U})(),Tn=(()=>{class U extends(Qe(K)){constructor({isHexOnly:d=!0,...T}={}){super(T),this.isHexOnly=d}}return U.NAME="PrimitiveValueBlock",U})();class en extends dt{constructor(G={}){super(G,Tn),this.idBlock.isConstructed=!1}}function ni(U,G=0,d=U.length){const T=G;let j=new dt({},K);const _e=new ne;if(!N(_e,U,G,d))return j.error=_e.error,{offset:-1,result:j};if(!U.subarray(G,G+d).length)return j.error="Zero buffer length",{offset:-1,result:j};let ze=j.idBlock.fromBER(U,G,d);if(j.idBlock.warnings.length&&j.warnings.concat(j.idBlock.warnings),-1===ze)return j.error=j.idBlock.error,{offset:-1,result:j};if(ze=j.lenBlock.fromBER(U,G=ze,d-=j.idBlock.blockLength),j.lenBlock.warnings.length&&j.warnings.concat(j.lenBlock.warnings),-1===ze)return j.error=j.lenBlock.error,{offset:-1,result:j};if(G=ze,d-=j.lenBlock.blockLength,!j.idBlock.isConstructed&&j.lenBlock.isIndefiniteForm)return j.error="Indefinite length form used for primitive encoding form",{offset:-1,result:j};let nt=dt;if(1===j.idBlock.tagClass){if(j.idBlock.tagNumber>=37&&!1===j.idBlock.isHexOnly)return j.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:j};switch(j.idBlock.tagNumber){case 0:if(j.idBlock.isConstructed&&j.lenBlock.length>0)return j.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:j};nt=o.EndOfContent;break;case 1:nt=o.Boolean;break;case 2:nt=o.Integer;break;case 3:nt=o.BitString;break;case 4:nt=o.OctetString;break;case 5:nt=o.Null;break;case 6:nt=o.ObjectIdentifier;break;case 10:nt=o.Enumerated;break;case 12:nt=o.Utf8String;break;case 13:nt=o.RelativeObjectIdentifier;break;case 14:nt=o.TIME;break;case 15:return j.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:j};case 16:nt=o.Sequence;break;case 17:nt=o.Set;break;case 18:nt=o.NumericString;break;case 19:nt=o.PrintableString;break;case 20:nt=o.TeletexString;break;case 21:nt=o.VideotexString;break;case 22:nt=o.IA5String;break;case 23:nt=o.UTCTime;break;case 24:nt=o.GeneralizedTime;break;case 25:nt=o.GraphicString;break;case 26:nt=o.VisibleString;break;case 27:nt=o.GeneralString;break;case 28:nt=o.UniversalString;break;case 29:nt=o.CharacterString;break;case 30:nt=o.BmpString;break;case 31:nt=o.DATE;break;case 32:nt=o.TimeOfDay;break;case 33:nt=o.DateTime;break;case 34:nt=o.Duration;break;default:{const bt=j.idBlock.isConstructed?new o.Constructed:new o.Primitive;bt.idBlock=j.idBlock,bt.lenBlock=j.lenBlock,bt.warnings=j.warnings,j=bt}}}else nt=j.idBlock.isConstructed?o.Constructed:o.Primitive;return j=function Ln(U,G){if(U instanceof G)return U;const d=new G;return d.idBlock=U.idBlock,d.lenBlock=U.lenBlock,d.warnings=U.warnings,d.valueBeforeDecodeView=U.valueBeforeDecodeView,d}(j,nt),ze=j.fromBER(U,G,j.lenBlock.isIndefiniteForm?d:j.lenBlock.length),j.valueBeforeDecodeView=U.subarray(T,T+j.blockLength),{offset:ze,result:j}}function mt(U){if(!U.byteLength){const G=new dt({},K);return G.error="Input buffer has zero length",{offset:-1,result:G}}return ni(p._H.toUint8Array(U).slice(),0,U.byteLength)}function Jt(U,G){return U?1:G}o.Primitive=en,en.NAME="PRIMITIVE";let he=(()=>{class U extends K{constructor({value:d=[],isIndefiniteForm:T=!1,...j}={}){super(j),this.value=d,this.isIndefiniteForm=T}fromBER(d,T,j){const _e=p._H.toUint8Array(d);if(!N(this,_e,T,j))return-1;if(this.valueBeforeDecodeView=_e.subarray(T,T+j),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),T;let Oe=T;for(;Jt(this.isIndefiniteForm,j)>0;){const ze=ni(_e,Oe,j);if(-1===ze.offset)return this.error=ze.result.error,this.warnings.concat(ze.result.warnings),-1;if(Oe=ze.offset,this.blockLength+=ze.result.blockLength,j-=ze.result.blockLength,this.value.push(ze.result),this.isIndefiniteForm&&ze.result.constructor.NAME===Ue)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Ue?this.value.pop():this.warnings.push("No EndOfContent block encoded")),Oe}toBER(d,T){const j=T||new fe;for(let _e=0;_e<this.value.length;_e++)this.value[_e].toBER(d,j);return T?Be:j.final()}toJSON(){const d={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const T of this.value)d.value.push(T.toJSON());return d}}return U.NAME="ConstructedValueBlock",U})();class P extends dt{constructor(G={}){super(G,he),this.idBlock.isConstructed=!0}fromBER(G,d,T){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const j=this.valueBlock.fromBER(G,d,this.lenBlock.isIndefiniteForm?T:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),j)}onAsciiEncoding(){const G=[];for(const T of this.valueBlock.value)G.push(T.toString("ascii").split("\n").map(j=>`  ${j}`).join("\n"));const d=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return G.length?`${d} :\n${G.join("\n")}`:`${d} :`}}o.Constructed=P,P.NAME="CONSTRUCTED";let q=(()=>{class U extends K{fromBER(d,T,j){return T}toBER(d){return Be}}return U.override="EndOfContentValueBlock",U})();class Ae extends dt{constructor(G={}){super(G,q),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}o.EndOfContent=Ae,Ae.NAME=Ue;class _t extends dt{constructor(G={}){super(G,K),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(G,d,T){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=T,d+T>G.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):d+T}toBER(G,d){const T=new ArrayBuffer(2);if(!G){const j=new Uint8Array(T);j[0]=5,j[1]=0}return d&&d.write(T),T}onAsciiEncoding(){return`${this.constructor.NAME}`}}o.Null=_t,_t.NAME="NULL";let Ht=(()=>{class U extends(Qe(K)){get value(){for(const d of this.valueHexView)if(d>0)return!0;return!1}set value(d){this.valueHexView[0]=d?255:0}constructor({value:d,...T}={}){super(T),this.valueHexView=T.valueHex?p._H.toUint8Array(T.valueHex):new Uint8Array(1),d&&(this.value=d)}fromBER(d,T,j){const _e=p._H.toUint8Array(d);return N(this,_e,T,j)?(this.valueHexView=_e.subarray(T,T+j),j>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Y.call(this),this.blockLength=j,T+j):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return U.NAME="BooleanValueBlock",U})();class wn extends dt{getValue(){return this.valueBlock.value}setValue(G){this.valueBlock.value=G}constructor(G={}){super(G,Ht),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}o.Boolean=wn,wn.NAME="BOOLEAN";let Kn=(()=>{class U extends(Qe(he)){constructor({isConstructed:d=!1,...T}={}){super(T),this.isConstructed=d}fromBER(d,T,j){let _e=0;if(this.isConstructed){if(this.isHexOnly=!1,_e=he.prototype.fromBER.call(this,d,T,j),-1===_e)return _e;for(let Oe=0;Oe<this.value.length;Oe++){const ze=this.value[Oe].constructor.NAME;if(ze===Ue){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(ze!==ct)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,_e=super.fromBER(d,T,j),this.blockLength=j;return _e}toBER(d,T){return this.isConstructed?he.prototype.toBER.call(this,d,T):d?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return U.NAME="OctetStringValueBlock",U})();var ei;class Ot extends dt{constructor({idBlock:G={},lenBlock:d={},...T}={}){var j,_e;null!==(j=T.isConstructed)&&void 0!==j||(T.isConstructed=!(null===(_e=T.value)||void 0===_e||!_e.length)),super({idBlock:{isConstructed:T.isConstructed,...G},lenBlock:{...d,isIndefiniteForm:!!T.isIndefiniteForm},...T},Kn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(G,d,T){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===T)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),d;if(!this.valueBlock.isConstructed){const _e=(G instanceof ArrayBuffer?new Uint8Array(G):G).subarray(d,d+T);try{if(_e.byteLength){const Oe=ni(_e,0,_e.byteLength);-1!==Oe.offset&&Oe.offset===T&&(this.valueBlock.value=[Oe.result])}}catch{}}return super.fromBER(G,d,T)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?P.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${p.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const G=[];for(const d of this.valueBlock.value)d instanceof ei&&G.push(d.valueBlock.valueHexView);return p._H.concat(G)}}o.OctetString=ei=Ot,Ot.NAME=ct;let Gn=(()=>{class U extends(Qe(he)){constructor({unusedBits:d=0,isConstructed:T=!1,...j}={}){super(j),this.unusedBits=d,this.isConstructed=T,this.blockLength=this.valueHexView.byteLength}fromBER(d,T,j){if(!j)return T;let _e=-1;if(this.isConstructed){if(_e=he.prototype.fromBER.call(this,d,T,j),-1===_e)return _e;for(const nt of this.value){const bt=nt.constructor.NAME;if(bt===Ue){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(bt!==st)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const $t=nt.valueBlock;if(this.unusedBits>0&&$t.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=$t.unusedBits}return _e}const Oe=p._H.toUint8Array(d);if(!N(this,Oe,T,j))return-1;const ze=Oe.subarray(T,T+j);if(this.unusedBits=ze[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const nt=ze.subarray(1);try{if(nt.byteLength){const bt=ni(nt,0,nt.byteLength);-1!==bt.offset&&bt.offset===j-1&&(this.value=[bt.result])}}catch{}}return this.valueHexView=ze.subarray(1),this.blockLength=ze.length,T+j}toBER(d,T){if(this.isConstructed)return he.prototype.toBER.call(this,d,T);if(d)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Be;const j=new Uint8Array(this.valueHexView.length+1);return j[0]=this.unusedBits,j.set(this.valueHexView,1),j.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return U.NAME="BitStringValueBlock",U})();var In,os;class Sn extends dt{constructor({idBlock:G={},lenBlock:d={},...T}={}){var j,_e;null!==(j=T.isConstructed)&&void 0!==j||(T.isConstructed=!(null===(_e=T.value)||void 0===_e||!_e.length)),super({idBlock:{isConstructed:T.isConstructed,...G},lenBlock:{...d,isIndefiniteForm:!!T.isIndefiniteForm},...T},Gn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(G,d,T){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(G,d,T)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return P.prototype.onAsciiEncoding.call(this);{const G=[],d=this.valueBlock.valueHexView;for(const Oe of d)G.push(Oe.toString(2).padStart(8,"0"));const T=G.join("");return`${this.constructor.NAME} : ${T.substring(0,T.length-this.valueBlock.unusedBits)}`}}}function rs(U,G){const d=new Uint8Array([0]),T=new Uint8Array(U),j=new Uint8Array(G);let _e=T.slice(0);const Oe=_e.length-1,ze=j.slice(0),nt=ze.length-1;let bt=0,Zt=0;for(let Rn=nt<Oe?Oe:nt;Rn>=0;Rn--,Zt++)bt=1==Zt<ze.length?_e[Oe-Zt]+ze[nt-Zt]+d[0]:_e[Oe-Zt]+d[0],d[0]=bt/10,1==Zt>=_e.length?_e=k(new Uint8Array([bt%10]),_e):_e[Oe-Zt]=bt%10;return d[0]>0&&(_e=k(d,_e)),_e}function _i(U){if(U>=oe.length)for(let G=oe.length;G<=U;G++){const d=new Uint8Array([0]);let T=oe[G-1].slice(0);for(let j=T.length-1;j>=0;j--){const _e=new Uint8Array([(T[j]<<1)+d[0]]);d[0]=_e[0]/10,T[j]=_e[0]%10}d[0]>0&&(T=k(d,T)),oe.push(T)}return oe[U]}function Fi(U,G){let d=0;const T=new Uint8Array(U),j=new Uint8Array(G),_e=T.slice(0),Oe=_e.length-1,ze=j.slice(0),nt=ze.length-1;let bt,$t=0;for(let Zt=nt;Zt>=0;Zt--,$t++)bt=_e[Oe-$t]-ze[nt-$t]-d,1==bt<0?(d=1,_e[Oe-$t]=bt+10):(d=0,_e[Oe-$t]=bt);if(d>0)for(let Zt=Oe-nt+1;Zt>=0;Zt--,$t++){if(bt=_e[Oe-$t]-d,!(bt<0)){d=0,_e[Oe-$t]=bt;break}d=1,_e[Oe-$t]=bt+10}return _e.slice()}o.BitString=Sn,Sn.NAME=st;class Ni extends(Qe(K)){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Y.call(this)))}constructor({value:G,...d}={}){super(d),this._valueDec=0,d.valueHex&&this.setValueHex(),void 0!==G&&(this.valueDec=G)}set valueDec(G){this._valueDec=G,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function u(U){const G=U<0?-1*U:U;let d=128;for(let T=1;T<8;T++){if(G<=d){if(U<0){const ze=S(d-G,8,T);return new Uint8Array(ze)[0]|=128,ze}let j=S(G,8,T),_e=new Uint8Array(j);if(128&_e[0]){const Oe=j.slice(0),ze=new Uint8Array(Oe);j=new ArrayBuffer(j.byteLength+1),_e=new Uint8Array(j);for(let nt=0;nt<Oe.byteLength;nt++)_e[nt+1]=ze[nt];_e[0]=0}return j}d*=Math.pow(2,8)}return new ArrayBuffer(0)}(G))}get valueDec(){return this._valueDec}fromDER(G,d,T,j=0){const _e=this.fromBER(G,d,T);if(-1===_e)return _e;const Oe=this.valueHexView;return 0===Oe[0]&&128&Oe[1]?this.valueHexView=Oe.subarray(1):0!==j&&Oe.length<j&&(j-Oe.length>1&&(j=Oe.length+1),this.valueHexView=Oe.subarray(j-Oe.length)),_e}toDER(G=!1){const d=this.valueHexView;switch(!0){case!!(128&d[0]):{const T=new Uint8Array(this.valueHexView.length+1);T[0]=0,T.set(d,1),this.valueHexView=T}break;case 0===d[0]&&!(128&d[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(G)}fromBER(G,d,T){const j=super.fromBER(G,d,T);return-1===j||this.setValueHex(),j}toBER(G){return G?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const G=8*this.valueHexView.length-1;let j,d=new Uint8Array(8*this.valueHexView.length/3),T=0;const _e=this.valueHexView;let Oe="",ze=!1;for(let nt=_e.byteLength-1;nt>=0;nt--){j=_e[nt];for(let bt=0;bt<8;bt++)1&~j||(T===G?(d=Fi(_i(T),d),Oe="-"):d=rs(d,_i(T))),T++,j>>=1}for(let nt=0;nt<d.length;nt++)d[nt]&&(ze=!0),ze&&(Oe+=R.charAt(d[nt]));return!1===ze&&(Oe+=R.charAt(0)),Oe}}In=Ni,Ni.NAME="IntegerValueBlock",Object.defineProperty(In.prototype,"valueHex",{set:function(U){this.valueHexView=new Uint8Array(U),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class zn extends dt{constructor(G={}){super(G,Ni),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return J(),BigInt(this.valueBlock.toString())}static fromBigInt(G){J();const d=BigInt(G),T=new fe,j=d.toString(16).replace(/^-/,""),_e=new Uint8Array(p.U$.FromHex(j));if(d<0){const ze=new Uint8Array(_e.length+(128&_e[0]?1:0));ze[0]|=128;const bt=BigInt(`0x${p.U$.ToHex(ze)}`)+d,$t=p._H.toUint8Array(p.U$.FromHex(bt.toString(16)));$t[0]|=128,T.write($t)}else 128&_e[0]&&T.write(new Uint8Array([0])),T.write(_e);return new os({valueHex:T.final()})}convertToDER(){const G=new os({valueHex:this.valueBlock.valueHexView});return G.valueBlock.toDER(),G}convertFromDER(){return new os({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}o.Integer=os=zn,zn.NAME="INTEGER";class xi extends zn{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}o.Enumerated=xi,xi.NAME="ENUMERATED";let wt=(()=>{class U extends(Qe(K)){constructor({valueDec:d=-1,isFirstSid:T=!1,...j}={}){super(j),this.valueDec=d,this.isFirstSid=T}fromBER(d,T,j){if(!j)return T;const _e=p._H.toUint8Array(d);if(!N(this,_e,T,j))return-1;const Oe=_e.subarray(T,T+j);this.valueHexView=new Uint8Array(j);for(let nt=0;nt<j&&(this.valueHexView[nt]=127&Oe[nt],this.blockLength++,128&Oe[nt]);nt++);const ze=new Uint8Array(this.blockLength);for(let nt=0;nt<this.blockLength;nt++)ze[nt]=this.valueHexView[nt];return this.valueHexView=ze,128&Oe[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=D(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),T+this.blockLength)}set valueBigInt(d){J();let T=BigInt(d).toString(2);for(;T.length%7;)T="0"+T;const j=new Uint8Array(T.length/7);for(let _e=0;_e<j.length;_e++)j[_e]=parseInt(T.slice(7*_e,7*_e+7),2)+(_e+1<j.length?128:0);this.fromBER(j.buffer,0,j.length)}toBER(d){if(this.isHexOnly){if(d)return new ArrayBuffer(this.valueHexView.byteLength);const _e=this.valueHexView,Oe=new Uint8Array(this.blockLength);for(let ze=0;ze<this.blockLength-1;ze++)Oe[ze]=128|_e[ze];return Oe[this.blockLength-1]=_e[this.blockLength-1],Oe.buffer}const T=S(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",Be;const j=new Uint8Array(T.byteLength);if(!d){const _e=new Uint8Array(T),Oe=T.byteLength-1;for(let ze=0;ze<Oe;ze++)j[ze]=128|_e[ze];j[Oe]=_e[Oe]}return j}toString(){let d="";if(this.isHexOnly)d=p.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let T=this.valueDec;this.valueDec<=39?d="0.":this.valueDec<=79?(d="1.",T-=40):(d="2.",T-=80),d+=T.toString()}else d=this.valueDec.toString();return d}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return U.NAME="sidBlock",U})(),Tt=(()=>{class U extends K{constructor({value:d="",...T}={}){super(T),this.value=[],d&&this.fromString(d)}fromBER(d,T,j){let _e=T;for(;j>0;){const Oe=new wt;if(_e=Oe.fromBER(d,_e,j),-1===_e)return this.blockLength=0,this.error=Oe.error,_e;0===this.value.length&&(Oe.isFirstSid=!0),this.blockLength+=Oe.blockLength,j-=Oe.blockLength,this.value.push(Oe)}return _e}toBER(d){const T=[];for(let j=0;j<this.value.length;j++){const _e=this.value[j].toBER(d);if(0===_e.byteLength)return this.error=this.value[j].error,Be;T.push(_e)}return te(T)}fromString(d){this.value=[];let T=0,j=0,_e="",Oe=!1;do{if(j=d.indexOf(".",T),_e=-1===j?d.substring(T):d.substring(T,j),T=j+1,Oe){const ze=this.value[0];let nt=0;switch(ze.valueDec){case 0:break;case 1:nt=40;break;case 2:nt=80;break;default:return void(this.value=[])}const bt=parseInt(_e,10);if(isNaN(bt))return;ze.valueDec=bt+nt,Oe=!1}else{const ze=new wt;if(_e>Number.MAX_SAFE_INTEGER){J();const nt=BigInt(_e);ze.valueBigInt=nt}else if(ze.valueDec=parseInt(_e,10),isNaN(ze.valueDec))return;this.value.length||(ze.isFirstSid=!0,Oe=!0),this.value.push(ze)}}while(-1!==j)}toString(){let d="",T=!1;for(let j=0;j<this.value.length;j++){T=this.value[j].isHexOnly;let _e=this.value[j].toString();0!==j&&(d=`${d}.`),T?(_e=`{${_e}}`,this.value[j].isFirstSid?d=`2.{${_e} - 80}`:d+=_e):d+=_e}return d}toJSON(){const d={...super.toJSON(),value:this.toString(),sidArray:[]};for(let T=0;T<this.value.length;T++)d.sidArray.push(this.value[T].toJSON());return d}}return U.NAME="ObjectIdentifierValueBlock",U})();class Kt extends dt{getValue(){return this.valueBlock.toString()}setValue(G){this.valueBlock.fromString(G)}constructor(G={}){super(G,Tt),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}o.ObjectIdentifier=Kt,Kt.NAME="OBJECT IDENTIFIER";let cn=(()=>{class U extends(Qe(ne)){constructor({valueDec:d=0,...T}={}){super(T),this.valueDec=d}fromBER(d,T,j){if(0===j)return T;const _e=p._H.toUint8Array(d);if(!N(this,_e,T,j))return-1;const Oe=_e.subarray(T,T+j);this.valueHexView=new Uint8Array(j);for(let nt=0;nt<j&&(this.valueHexView[nt]=127&Oe[nt],this.blockLength++,128&Oe[nt]);nt++);const ze=new Uint8Array(this.blockLength);for(let nt=0;nt<this.blockLength;nt++)ze[nt]=this.valueHexView[nt];return this.valueHexView=ze,128&Oe[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=D(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),T+this.blockLength)}toBER(d){if(this.isHexOnly){if(d)return new ArrayBuffer(this.valueHexView.byteLength);const _e=this.valueHexView,Oe=new Uint8Array(this.blockLength);for(let ze=0;ze<this.blockLength-1;ze++)Oe[ze]=128|_e[ze];return Oe[this.blockLength-1]=_e[this.blockLength-1],Oe.buffer}const T=S(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",Be;const j=new Uint8Array(T.byteLength);if(!d){const _e=new Uint8Array(T),Oe=T.byteLength-1;for(let ze=0;ze<Oe;ze++)j[ze]=128|_e[ze];j[Oe]=_e[Oe]}return j.buffer}toString(){let d="";return d=this.isHexOnly?p.U$.ToHex(this.valueHexView):this.valueDec.toString(),d}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return U.NAME="relativeSidBlock",U})(),ii=(()=>{class U extends K{constructor({value:d="",...T}={}){super(T),this.value=[],d&&this.fromString(d)}fromBER(d,T,j){let _e=T;for(;j>0;){const Oe=new cn;if(_e=Oe.fromBER(d,_e,j),-1===_e)return this.blockLength=0,this.error=Oe.error,_e;this.blockLength+=Oe.blockLength,j-=Oe.blockLength,this.value.push(Oe)}return _e}toBER(d,T){const j=[];for(let _e=0;_e<this.value.length;_e++){const Oe=this.value[_e].toBER(d);if(0===Oe.byteLength)return this.error=this.value[_e].error,Be;j.push(Oe)}return te(j)}fromString(d){this.value=[];let T=0,j=0,_e="";do{j=d.indexOf(".",T),_e=-1===j?d.substring(T):d.substring(T,j),T=j+1;const Oe=new cn;if(Oe.valueDec=parseInt(_e,10),isNaN(Oe.valueDec))return!0;this.value.push(Oe)}while(-1!==j);return!0}toString(){let d="",T=!1;for(let j=0;j<this.value.length;j++){T=this.value[j].isHexOnly;let _e=this.value[j].toString();0!==j&&(d=`${d}.`),T&&(_e=`{${_e}}`),d+=_e}return d}toJSON(){const d={...super.toJSON(),value:this.toString(),sidArray:[]};for(let T=0;T<this.value.length;T++)d.sidArray.push(this.value[T].toJSON());return d}}return U.NAME="RelativeObjectIdentifierValueBlock",U})();class Ii extends dt{getValue(){return this.valueBlock.toString()}setValue(G){this.valueBlock.fromString(G)}constructor(G={}){super(G,ii),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}o.RelativeObjectIdentifier=Ii,Ii.NAME="RelativeObjectIdentifier";class Dn extends P{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}o.Sequence=Dn,Dn.NAME="SEQUENCE";class Ui extends P{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}o.Set=Ui,Ui.NAME="SET";let zi=(()=>{class U extends(Qe(K)){constructor({...d}={}){super(d),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return U.NAME="StringValueBlock",U})(),ls=(()=>{class U extends zi{}return U.NAME="SimpleStringValueBlock",U})(),ut=(()=>{class U extends qt{constructor({...d}={}){super(d,ls)}fromBuffer(d){this.valueBlock.value=String.fromCharCode.apply(null,p._H.toUint8Array(d))}fromString(d){const T=d.length,j=this.valueBlock.valueHexView=new Uint8Array(T);for(let _e=0;_e<T;_e++)j[_e]=d.charCodeAt(_e);this.valueBlock.value=d}}return U.NAME="SIMPLE STRING",U})(),Rt=(()=>{class U extends ut{fromBuffer(d){this.valueBlock.valueHexView=p._H.toUint8Array(d);try{this.valueBlock.value=p.U$.ToUtf8String(d)}catch(T){this.warnings.push(`Error during "decodeURIComponent": ${T}, using raw string`),this.valueBlock.value=p.U$.ToBinary(d)}}fromString(d){this.valueBlock.valueHexView=new Uint8Array(p.U$.FromUtf8String(d)),this.valueBlock.value=d}}return U.NAME="Utf8StringValueBlock",U})();class tn extends Rt{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}o.Utf8String=tn,tn.NAME="UTF8String";let Vn=(()=>{class U extends ut{fromBuffer(d){this.valueBlock.value=p.U$.ToUtf16String(d),this.valueBlock.valueHexView=p._H.toUint8Array(d)}fromString(d){this.valueBlock.value=d,this.valueBlock.valueHexView=new Uint8Array(p.U$.FromUtf16String(d))}}return U.NAME="BmpStringValueBlock",U})();class Xn extends Vn{constructor({...G}={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}o.BmpString=Xn,Xn.NAME="BMPString";let qn=(()=>{class U extends ut{fromBuffer(d){const T=ArrayBuffer.isView(d)?d.slice().buffer:d.slice(0),j=new Uint8Array(T);for(let _e=0;_e<j.length;_e+=4)j[_e]=j[_e+3],j[_e+1]=j[_e+2],j[_e+2]=0,j[_e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(T))}fromString(d){const T=d.length,j=this.valueBlock.valueHexView=new Uint8Array(4*T);for(let _e=0;_e<T;_e++){const Oe=S(d.charCodeAt(_e),8),ze=new Uint8Array(Oe);if(ze.length>4)continue;const nt=4-ze.length;for(let bt=ze.length-1;bt>=0;bt--)j[4*_e+bt+nt]=ze[bt]}this.valueBlock.value=d}}return U.NAME="UniversalStringValueBlock",U})();class oi extends qn{constructor({...G}={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}o.UniversalString=oi,oi.NAME="UniversalString";class Un extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}o.NumericString=Un,Un.NAME="NumericString";class Qn extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}o.PrintableString=Qn,Qn.NAME="PrintableString";class Fe extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}o.TeletexString=Fe,Fe.NAME="TeletexString";class ht extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}o.VideotexString=ht,ht.NAME="VideotexString";class Xt extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}o.IA5String=Xt,Xt.NAME="IA5String";class hi extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}o.GraphicString=hi,hi.NAME="GraphicString";class Nn extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}o.VisibleString=Nn,Nn.NAME="VisibleString";class Ji extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}o.GeneralString=Ji,Ji.NAME="GeneralString";class jt extends ut{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}o.CharacterString=jt,jt.NAME="CharacterString";class Et extends Nn{constructor({value:G,valueDate:d,...T}={}){if(super(T),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,G){this.fromString(G),this.valueBlock.valueHexView=new Uint8Array(G.length);for(let j=0;j<G.length;j++)this.valueBlock.valueHexView[j]=G.charCodeAt(j)}d&&(this.fromDate(d),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(G){this.fromString(String.fromCharCode.apply(null,p._H.toUint8Array(G)))}toBuffer(){const G=this.toString(),d=new ArrayBuffer(G.length),T=new Uint8Array(d);for(let j=0;j<G.length;j++)T[j]=G.charCodeAt(j);return d}fromDate(G){this.year=G.getUTCFullYear(),this.month=G.getUTCMonth()+1,this.day=G.getUTCDate(),this.hour=G.getUTCHours(),this.minute=G.getUTCMinutes(),this.second=G.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(G){const T=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(G);if(null===T)return void(this.error="Wrong input string for conversion");const j=parseInt(T[1],10);this.year=j>=50?1900+j:2e3+j,this.month=parseInt(T[2],10),this.day=parseInt(T[3],10),this.hour=parseInt(T[4],10),this.minute=parseInt(T[5],10),this.second=parseInt(T[6],10)}toString(G="iso"){if("iso"===G){const d=new Array(7);return d[0]=B(this.year<2e3?this.year-1900:this.year-2e3,2),d[1]=B(this.month,2),d[2]=B(this.day,2),d[3]=B(this.hour,2),d[4]=B(this.minute,2),d[5]=B(this.second,2),d[6]="Z",d.join("")}return super.toString(G)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}o.UTCTime=Et,Et.NAME="UTCTime";class Wt extends Et{constructor(G={}){var d;super(G),null!==(d=this.millisecond)&&void 0!==d||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(G){super.fromDate(G),this.millisecond=G.getUTCMilliseconds()}toDate(){const G=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(G)}fromString(G){let Oe,d=!1,T="",j="",_e=0,ze=0,nt=0;if("Z"===G[G.length-1])T=G.substring(0,G.length-1),d=!0;else{const Zt=new Number(G[G.length-1]);if(isNaN(Zt.valueOf()))throw new Error("Wrong input string for conversion");T=G}if(d){if(-1!==T.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==T.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Zt=1,Rn=T.indexOf("+"),dn="";if(-1===Rn&&(Rn=T.indexOf("-"),Zt=-1),-1!==Rn){if(dn=T.substring(Rn+1),T=T.substring(0,Rn),2!==dn.length&&4!==dn.length)throw new Error("Wrong input string for conversion");let di=parseInt(dn.substring(0,2),10);if(isNaN(di.valueOf()))throw new Error("Wrong input string for conversion");if(ze=Zt*di,4===dn.length){if(di=parseInt(dn.substring(2,4),10),isNaN(di.valueOf()))throw new Error("Wrong input string for conversion");nt=Zt*di}}}let bt=T.indexOf(".");if(-1===bt&&(bt=T.indexOf(",")),-1!==bt){const Zt=new Number(`0${T.substring(bt)}`);if(isNaN(Zt.valueOf()))throw new Error("Wrong input string for conversion");_e=Zt.valueOf(),j=T.substring(0,bt)}else j=T;switch(!0){case 8===j.length:if(Oe=/(\d{4})(\d{2})(\d{2})/gi,-1!==bt)throw new Error("Wrong input string for conversion");break;case 10===j.length:if(Oe=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==bt){let Zt=60*_e;this.minute=Math.floor(Zt),Zt=60*(Zt-this.minute),this.second=Math.floor(Zt),Zt=1e3*(Zt-this.second),this.millisecond=Math.floor(Zt)}break;case 12===j.length:if(Oe=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==bt){let Zt=60*_e;this.second=Math.floor(Zt),Zt=1e3*(Zt-this.second),this.millisecond=Math.floor(Zt)}break;case 14===j.length:Oe=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==bt&&(this.millisecond=Math.floor(1e3*_e));break;default:throw new Error("Wrong input string for conversion")}const $t=Oe.exec(j);if(null===$t)throw new Error("Wrong input string for conversion");for(let Zt=1;Zt<$t.length;Zt++)switch(Zt){case 1:this.year=parseInt($t[Zt],10);break;case 2:this.month=parseInt($t[Zt],10);break;case 3:this.day=parseInt($t[Zt],10);break;case 4:this.hour=parseInt($t[Zt],10)+ze;break;case 5:this.minute=parseInt($t[Zt],10)+nt;break;case 6:this.second=parseInt($t[Zt],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===d){const Zt=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Zt.getUTCFullYear(),this.month=Zt.getUTCMonth(),this.day=Zt.getUTCDay(),this.hour=Zt.getUTCHours(),this.minute=Zt.getUTCMinutes(),this.second=Zt.getUTCSeconds(),this.millisecond=Zt.getUTCMilliseconds()}}toString(G="iso"){if("iso"===G){const d=[];return d.push(B(this.year,4)),d.push(B(this.month,2)),d.push(B(this.day,2)),d.push(B(this.hour,2)),d.push(B(this.minute,2)),d.push(B(this.second,2)),0!==this.millisecond&&(d.push("."),d.push(B(this.millisecond,3))),d.push("Z"),d.join("")}return super.toString(G)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}o.GeneralizedTime=Wt,Wt.NAME="GeneralizedTime";class Qi extends tn{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}o.DATE=Qi,Qi.NAME="DATE";class ce extends tn{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}o.TimeOfDay=ce,ce.NAME="TimeOfDay";class ae extends tn{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}o.DateTime=ae,ae.NAME="DateTime";class ke extends tn{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}o.Duration=ke,ke.NAME="Duration";class hn extends tn{constructor(G={}){super(G),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}o.TIME=hn,hn.NAME="TIME";class Fn{constructor({name:G="",optional:d=!1}={}){this.name=G,this.optional=d}}class Wi extends Fn{constructor({value:G=[],...d}={}){super(d),this.value=G}}class Di extends Fn{constructor({value:G=new Fn,local:d=!1,...T}={}){super(T),this.value=G,this.local=d}}class Vi{get data(){return this.dataView.slice().buffer}set data(G){this.dataView=p._H.toUint8Array(G)}constructor({data:G=Xe}={}){this.dataView=p._H.toUint8Array(G)}fromBER(G,d,T){const j=d+T;return this.dataView=p._H.toUint8Array(G).subarray(d,j),j}toBER(G){return this.dataView.slice().buffer}}function li(U,G,d){if(d instanceof Wi){for(const _e of d.value)if(li(U,G,_e).verified)return{verified:!0,result:U};{const _e={verified:!1,result:{error:"Wrong values for Choice type"}};return d.hasOwnProperty(Pe)&&(_e.name=d.name),_e}}if(d instanceof Fn)return d.hasOwnProperty(Pe)&&(U[d.name]=G),{verified:!0,result:U};if(!(U instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(G instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(d instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in d))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const T=d.idBlock.toBER(!1);if(0===T.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===d.idBlock.fromBER(T,0,T.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===d.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.tagClass!==G.idBlock.tagClass)return{verified:!1,result:U};if(!1===d.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.tagNumber!==G.idBlock.tagNumber)return{verified:!1,result:U};if(!1===d.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.isConstructed!==G.idBlock.isConstructed)return{verified:!1,result:U};if(!("isHexOnly"in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.isHexOnly!==G.idBlock.isHexOnly)return{verified:!1,result:U};if(d.idBlock.isHexOnly){if(!(Te in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const _e=d.idBlock.valueHexView,Oe=G.idBlock.valueHexView;if(_e.length!==Oe.length)return{verified:!1,result:U};for(let ze=0;ze<_e.length;ze++)if(_e[ze]!==Oe[1])return{verified:!1,result:U}}if(d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(U[d.name]=G)),d instanceof o.Constructed){let _e=0,Oe={verified:!1,result:{error:"Unknown error"}},ze=d.valueBlock.value.length;if(ze>0&&d.valueBlock.value[0]instanceof Di&&(ze=G.valueBlock.value.length),0===ze)return{verified:!0,result:U};if(0===G.valueBlock.value.length&&0!==d.valueBlock.value.length){let nt=!0;for(let bt=0;bt<d.valueBlock.value.length;bt++)nt=nt&&(d.valueBlock.value[bt].optional||!1);return nt?{verified:!0,result:U}:(d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&delete U[d.name]),U.error="Inconsistent object length",{verified:!1,result:U})}for(let nt=0;nt<ze;nt++)if(nt-_e>=G.valueBlock.value.length){if(!1===d.valueBlock.value[nt].optional){const bt={verified:!1,result:U};return U.error="Inconsistent length between ASN.1 data and schema",d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(delete U[d.name],bt.name=d.name)),bt}}else if(d.valueBlock.value[0]instanceof Di){if(Oe=li(U,G.valueBlock.value[nt],d.valueBlock.value[0].value),!1===Oe.verified){if(!d.valueBlock.value[0].optional)return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&delete U[d.name]),Oe;_e++}if(Pe in d.valueBlock.value[0]&&d.valueBlock.value[0].name.length>0){let bt={};bt="local"in d.valueBlock.value[0]&&d.valueBlock.value[0].local?G:U,typeof bt[d.valueBlock.value[0].name]>"u"&&(bt[d.valueBlock.value[0].name]=[]),bt[d.valueBlock.value[0].name].push(G.valueBlock.value[nt])}}else if(Oe=li(U,G.valueBlock.value[nt-_e],d.valueBlock.value[nt]),!1===Oe.verified){if(!d.valueBlock.value[nt].optional)return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&delete U[d.name]),Oe;_e++}if(!1===Oe.verified){const nt={verified:!1,result:U};return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(delete U[d.name],nt.name=d.name)),nt}return{verified:!0,result:U}}if(d.primitiveSchema&&Te in G.valueBlock){const _e=ni(G.valueBlock.valueHexView);if(-1===_e.offset){const Oe={verified:!1,result:_e.result};return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(delete U[d.name],Oe.name=d.name)),Oe}return li(U,_e.result,d.primitiveSchema)}return{verified:!0,result:U}}class Yi{constructor(G={}){if("view"in G)this.fromUint8Array(G.view);else if("buffer"in G)this.fromArrayBuffer(G.buffer);else if("string"in G)this.fromString(G.string);else if("hexstring"in G)this.fromHexString(G.hexstring);else if("length"in G&&G.length>0){if(this.length=G.length,G.stub)for(let d=0;d<this._view.length;d++)this._view[d]=G.stub}else this.length=0}set buffer(G){this._buffer=G,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(G){this._buffer=new ArrayBuffer(G.length),this._view=new Uint8Array(this._buffer),this._view.set(G)}get view(){return this._view}get length(){return this.view.byteLength}set length(G){this._buffer=new ArrayBuffer(G),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(G){this._buffer=G,this._view=new Uint8Array(this._buffer)}fromUint8Array(G){this.fromArrayBuffer(new Uint8Array(G).buffer)}fromString(G){const d=G.length;this.length=d;for(let T=0;T<d;T++)this.view[T]=G.charCodeAt(T)}toString(G=0,d=this.view.length-G){let T="";(G>=this.view.length||G<0)&&(G=0),(d>=this.view.length||d<0)&&(d=this.view.length-G);for(let j=G;j<G+d;j++)T+=String.fromCharCode(this.view[j]);return T}fromHexString(G){const d=G.length;this.buffer=new ArrayBuffer(d>>1),this.view=new Uint8Array(this.buffer);const T=new Map;T.set("0",0),T.set("1",1),T.set("2",2),T.set("3",3),T.set("4",4),T.set("5",5),T.set("6",6),T.set("7",7),T.set("8",8),T.set("9",9),T.set("A",10),T.set("a",10),T.set("B",11),T.set("b",11),T.set("C",12),T.set("c",12),T.set("D",13),T.set("d",13),T.set("E",14),T.set("e",14),T.set("F",15),T.set("f",15);let j=0,_e=0;for(let Oe=0;Oe<d;Oe++)Oe%2?(_e|=T.get(G.charAt(Oe)),this.view[j]=_e,j++):_e=T.get(G.charAt(Oe))<<4}toHexString(G=0,d=this.view.length-G){let T="";(G>=this.view.length||G<0)&&(G=0),(d>=this.view.length||d<0)&&(d=this.view.length-G);for(let j=G;j<G+d;j++){const _e=this.view[j].toString(16).toUpperCase();T=T+(1==_e.length?"0":"")+_e}return T}copy(G=0,d=this.length-G){if(!G&&!this.length)return new Yi;if(G<0||G>this.length-1)throw new Error(`Wrong start position: ${G}`);return new Yi({buffer:this._buffer.slice(G,G+d)})}slice(G=0,d=this.length){if(!G&&!this.length)return new Yi;if(G<0||G>this.length-1)throw new Error(`Wrong start position: ${G}`);return new Yi({buffer:this._buffer.slice(G,d)})}realloc(G){const d=new ArrayBuffer(G);new Uint8Array(d).set(G>this._view.length?this._view:new Uint8Array(this._buffer,0,G)),this._buffer=d,this._view=new Uint8Array(this._buffer)}append(G){const d=this.length,T=G.length,j=G._view.subarray();this.realloc(d+T),this._view.set(j,d)}insert(G,d=0,T=this.length-d){return!(d>this.length-1||(T>this.length-d&&(T=this.length-d),T>G.length&&(T=G.length),this._view.set(T==G.length?G._view:G._view.subarray(0,T),d),0))}isEqual(G){if(this.length!=G.length)return!1;for(let d=0;d<G.length;d++)if(this.view[d]!=G.view[d])return!1;return!0}isEqualView(G){if(G.length!=this.view.length)return!1;for(let d=0;d<G.length;d++)if(this.view[d]!=G[d])return!1;return!0}findPattern(G,d,T,j){const{start:_e,length:Oe,backward:ze}=this.prepareFindParameters(d,T,j),nt=G.length;if(nt>Oe)return-1;const bt=[];for(let $t=0;$t<nt;$t++)bt.push(G.view[$t]);for(let $t=0;$t<=Oe-nt;$t++){let Zt=!0;const Rn=ze?_e-nt-$t:_e+$t;for(let dn=0;dn<nt;dn++)if(this.view[dn+Rn]!=bt[dn]){Zt=!1;break}if(Zt)return ze?_e-nt-$t:_e+nt+$t}return-1}findFirstIn(G,d,T,j){const{start:_e,length:Oe,backward:ze}=this.prepareFindParameters(d,T,j),nt={id:-1,position:ze?0:_e+Oe,length:0};for(let bt=0;bt<G.length;bt++){const $t=this.findPattern(G[bt],_e,Oe,ze);if(-1!=$t){let Zt=!1;const Rn=G[bt].length;ze?$t-Rn>=nt.position-nt.length&&(Zt=!0):$t-Rn<=nt.position-nt.length&&(Zt=!0),Zt&&(nt.position=$t,nt.id=bt,nt.length=Rn)}}return nt}findAllIn(G,d,T){let{start:j,length:_e}=this.prepareFindParameters(d,T);const Oe=[];let ze={id:-1,position:j};for(;;){const nt=ze.position;if(ze=this.findFirstIn(G,ze.position,_e),-1==ze.id)break;_e-=ze.position-nt,Oe.push({id:ze.id,position:ze.position})}return Oe}findAllPatternIn(G,d,T){const{start:j,length:_e}=this.prepareFindParameters(d,T),Oe=[],ze=G.length;if(ze>_e)return-1;const nt=Array.from(G.view);for(let bt=0;bt<=_e-ze;bt++){let $t=!0;const Zt=j+bt;for(let Rn=0;Rn<ze;Rn++)if(this.view[Rn+Zt]!=nt[Rn]){$t=!1;break}$t&&(Oe.push(j+ze+bt),bt+=ze-1)}return Oe}findFirstNotIn(G,d,T,j){let{start:_e,length:Oe,backward:ze}=this.prepareFindParameters(d,T,j);const nt={left:{id:-1,position:_e},right:{id:-1,position:0},value:new Yi};let bt=Oe;for(;bt>0;){if(nt.right=this.findFirstIn(G,ze?_e-Oe+bt:_e+Oe-bt,bt,ze),-1==nt.right.id){Oe=bt,ze?_e-=Oe:_e=nt.left.position,nt.value=new Yi({buffer:this._buffer.slice(_e,_e+Oe)});break}if(nt.right.position!=(ze?nt.left.position-G[nt.right.id].length:nt.left.position+G[nt.right.id].length)){ze?(_e=nt.right.position+G[nt.right.id].length,Oe=nt.left.position-nt.right.position-G[nt.right.id].length):(_e=nt.left.position,Oe=nt.right.position-nt.left.position-G[nt.right.id].length),nt.value=new Yi({buffer:this._buffer.slice(_e,_e+Oe)});break}nt.left=nt.right,bt-=G[nt.right.id].length}if(ze){const $t=nt.right;nt.right=nt.left,nt.left=$t}return nt}findAllNotIn(G,d,T){let{start:j,length:_e}=this.prepareFindParameters(d,T);const Oe=[];let ze={left:{id:-1,position:j},right:{id:-1,position:j},value:new Yi};do{const nt=ze.right.position;ze=this.findFirstNotIn(G,ze.right.position,_e),_e-=ze.right.position-nt,Oe.push({left:{id:ze.left.id,position:ze.left.position},right:{id:ze.right.id,position:ze.right.position},value:ze.value})}while(-1!=ze.right.id);return Oe}findFirstSequence(G,d,T,j){let{start:_e,length:Oe,backward:ze}=this.prepareFindParameters(d,T,j);const nt=this.skipNotPatterns(G,_e,Oe,ze);if(-1==nt)return{position:-1,value:new Yi};const bt=this.skipPatterns(G,nt,Oe-(ze?_e-nt:nt-_e),ze);return ze?(_e=bt,Oe=nt-bt):(_e=nt,Oe=bt-nt),{position:bt,value:new Yi({buffer:this._buffer.slice(_e,_e+Oe)})}}findAllSequences(G,d,T){let{start:j,length:_e}=this.prepareFindParameters(d,T);const Oe=[];let ze={position:j,value:new Yi};do{const nt=ze.position;ze=this.findFirstSequence(G,ze.position,_e),-1!=ze.position&&(_e-=ze.position-nt,Oe.push({position:ze.position,value:ze.value}))}while(-1!=ze.position);return Oe}findPairedPatterns(G,d,T,j){const _e=[];if(G.isEqual(d))return _e;const{start:Oe,length:ze}=this.prepareFindParameters(T,j);let nt=0;const bt=this.findAllPatternIn(G,Oe,ze);if(!Array.isArray(bt)||0==bt.length)return _e;const $t=this.findAllPatternIn(d,Oe,ze);if(!Array.isArray($t)||0==$t.length)return _e;for(;nt<bt.length&&0!=$t.length;)if(bt[0]!=$t[0]){if(bt[nt]>$t[0])break;for(;bt[nt]<$t[0]&&(nt++,!(nt>=bt.length)););_e.push({left:bt[nt-1],right:$t[0]}),bt.splice(nt-1,1),$t.splice(0,1),nt=0}else _e.push({left:bt[0],right:$t[0]}),bt.splice(0,1),$t.splice(0,1);return _e.sort((Zt,Rn)=>Zt.left-Rn.left),_e}findPairedArrays(G,d,T,j){const{start:_e,length:Oe}=this.prepareFindParameters(T,j),ze=[];let nt=0;const bt=this.findAllIn(G,_e,Oe);if(0==bt.length)return ze;const $t=this.findAllIn(d,_e,Oe);if(0==$t.length)return ze;for(;nt<bt.length&&0!=$t.length;)if(bt[0].position!=$t[0].position){if(bt[nt].position>$t[0].position)break;for(;bt[nt].position<$t[0].position&&(nt++,!(nt>=bt.length)););ze.push({left:bt[nt-1],right:$t[0]}),bt.splice(nt-1,1),$t.splice(0,1),nt=0}else ze.push({left:bt[0],right:$t[0]}),bt.splice(0,1),$t.splice(0,1);return ze.sort((Zt,Rn)=>Zt.left.position-Rn.left.position),ze}replacePattern(G,d,T,j,_e=null){let ze,Oe=[];const nt={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:bt,length:$t}=this.prepareFindParameters(T,j);if(null==_e){if(Oe=this.findAllIn([G],bt,$t),0==Oe.length)return nt}else Oe=_e;nt.searchPatternPositions.push(...Array.from(Oe,di=>di.position));const Zt=G.length-d.length,Rn=new ArrayBuffer(this.view.length-Oe.length*Zt),dn=new Uint8Array(Rn);for(dn.set(new Uint8Array(this.buffer,0,bt)),ze=0;ze<Oe.length;ze++){const di=0==ze?bt:Oe[ze-1].position;dn.set(new Uint8Array(this.buffer,di,Oe[ze].position-G.length-di),di-ze*Zt),dn.set(d.view,Oe[ze].position-G.length-ze*Zt),nt.replacePatternPositions.push(Oe[ze].position-G.length-ze*Zt)}return ze--,dn.set(new Uint8Array(this.buffer,Oe[ze].position,this.length-Oe[ze].position),Oe[ze].position-G.length+d.length-ze*Zt),this.buffer=Rn,this.view=new Uint8Array(this.buffer),nt.status=1,nt}skipPatterns(G,d,T,j){const{start:_e,length:Oe,backward:ze}=this.prepareFindParameters(d,T,j);let nt=_e;for(let bt=0;bt<G.length;bt++){const $t=G[bt].length,Zt=ze?nt-$t:nt;let Rn=!0;for(let dn=0;dn<$t;dn++)if(this.view[dn+Zt]!=G[bt].view[dn]){Rn=!1;break}if(Rn)if(bt=-1,ze){if(nt-=$t,nt<=0)return nt}else if(nt+=$t,nt>=_e+Oe)return nt}return nt}skipNotPatterns(G,d,T,j){const{start:_e,length:Oe,backward:ze}=this.prepareFindParameters(d,T,j);let nt=-1;for(let bt=0;bt<Oe;bt++){for(let $t=0;$t<G.length;$t++){const Zt=G[$t].length,Rn=ze?_e-bt-Zt:_e+bt;let dn=!0;for(let di=0;di<Zt;di++)if(this.view[di+Rn]!=G[$t].view[di]){dn=!1;break}if(dn){nt=ze?_e-bt:_e+bt;break}}if(-1!=nt)break}return nt}prepareFindParameters(G=null,d=null,T=!1){return null===G&&(G=T?this.length:0),G>this.length&&(G=this.length),T?(null===d&&(d=G),d>G&&(d=G)):(null===d&&(d=this.length-G),d>this.length-G&&(d=this.length-G)),{start:G,length:d,backward:T}}}let Bs=(()=>{class U{constructor(d={}){this._stream=new Yi,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in d?new Yi({view:d.view}):"buffer"in d?new Yi({buffer:d.buffer}):"string"in d?new Yi({string:d.string}):"hexstring"in d?new Yi({hexstring:d.hexstring}):"stream"in d?d.stream.slice():new Yi,"backward"in d&&d.backward&&(this.backward=d.backward,this._start=this.stream.length),"length"in d&&d.length>0&&(this._length=d.length),"start"in d&&d.start&&d.start>0&&(this._start=d.start),"appendBlock"in d&&d.appendBlock&&d.appendBlock>0&&(this.appendBlock=d.appendBlock)}set stream(d){this._stream=d,this.prevLength=this._length,this._length=d.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(d){this.prevLength=this._length,this._length=d}get length(){return this.appendBlock?this.start:this._length}set start(d){d>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-d:d-this._start,this._start=d)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(d,T=null){(null==T||T>this.length)&&(T=this.length);const j=this.stream.findPattern(d,this.start,this.length,this.backward);if(-1==j)return j;if(this.backward){if(j<this.start-d.length-T)return-1}else if(j>this.start+d.length+T)return-1;return this.start=j,j}findFirstIn(d,T=null){(null==T||T>this.length)&&(T=this.length);const j=this.stream.findFirstIn(d,this.start,this.length,this.backward);if(-1==j.id)return j;if(this.backward){if(j.position<this.start-d[j.id].length-T)return{id:-1,position:this.backward?0:this.start+this.length}}else if(j.position>this.start+d[j.id].length+T)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=j.position,j}findAllIn(d){return this.stream.findAllIn(d,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(d,T=null){(null==T||T>this._length)&&(T=this._length);const j=this._stream.findFirstNotIn(d,this._start,this._length,this.backward);if(-1==j.left.id&&-1==j.right.id)return j;if(this.backward){if(-1!=j.right.id&&j.right.position<this._start-d[j.right.id].length-T)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Yi}}else if(-1!=j.left.id&&j.left.position>this._start+d[j.left.id].length+T)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Yi};return this.start=this.backward?-1==j.left.id?0:j.left.position:-1==j.right.id?this._start+this._length:j.right.position,j}findAllNotIn(d){return this._stream.findAllNotIn(d,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(d,T=null,j=null){(null==T||T>this._length)&&(T=this._length),(null==j||j>T)&&(j=T);const _e=this._stream.findFirstSequence(d,this._start,T,this.backward);if(0==_e.value.length)return _e;if(this.backward){if(_e.position<this._start-_e.value.length-j)return{position:-1,value:new Yi}}else if(_e.position>this._start+_e.value.length+j)return{position:-1,value:new Yi};return this.start=_e.position,_e}findAllSequences(d){return this.stream.findAllSequences(d,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(d,T,j=null){(null==j||j>this.length)&&(j=this.length);const Oe=this.stream.findPairedPatterns(d,T,this.backward?this.start-this.length:this.start,this.length);if(Oe.length)if(this.backward){if(Oe[0].right<this.start-T.length-j)return[]}else if(Oe[0].left>this.start+d.length+j)return[];return Oe}findPairedArrays(d,T,j=null){(null==j||j>this.length)&&(j=this.length);const Oe=this.stream.findPairedArrays(d,T,this.backward?this.start-this.length:this.start,this.length);if(Oe.length)if(this.backward){if(Oe[0].right.position<this.start-T[Oe[0].right.id].length-j)return[]}else if(Oe[0].left.position>this.start+d[Oe[0].left.id].length+j)return[];return Oe}replacePattern(d,T){return this.stream.replacePattern(d,T,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(d){const T=this.stream.skipPatterns(d,this.start,this.length,this.backward);return this.start=T,T}skipNotPatterns(d){const T=this.stream.skipNotPatterns(d,this.start,this.length,this.backward);return-1==T?-1:(this.start=T,T)}append(d){this.beforeAppend(d.length),this._stream.view.set(d.view,this._start),this._length+=2*d.length,this.start=this._start+d.length,this.prevLength-=2*d.length}appendView(d){this.beforeAppend(d.length),this._stream.view.set(d,this._start),this._length+=2*d.length,this.start=this._start+d.length,this.prevLength-=2*d.length}appendChar(d){this.beforeAppend(1),this._stream.view[this._start]=d,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(d){this.beforeAppend(2);const T=new Uint16Array([d]),j=new Uint8Array(T.buffer);this.stream.view[this._start]=j[1],this._stream.view[this._start+1]=j[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(d){this.beforeAppend(3);const T=new Uint32Array([d]),j=new Uint8Array(T.buffer);this._stream.view[this._start]=j[2],this._stream.view[this._start+1]=j[1],this._stream.view[this._start+2]=j[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(d){this.beforeAppend(4);const T=new Uint32Array([d]),j=new Uint8Array(T.buffer);this._stream.view[this._start]=j[3],this._stream.view[this._start+1]=j[2],this._stream.view[this._start+2]=j[1],this._stream.view[this._start+3]=j[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(d){this.beforeAppend(2);const T=new Int16Array([d]),j=new Uint8Array(T.buffer);this._stream.view[this._start]=j[1],this._stream.view[this._start+1]=j[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(d){this.beforeAppend(4);const T=new Int32Array([d]),j=new Uint8Array(T.buffer);this._stream.view[this._start]=j[3],this._stream.view[this._start+1]=j[2],this._stream.view[this._start+2]=j[1],this._stream.view[this._start+3]=j[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(d,T=!0){if(this._length<=0)return new Uint8Array(0);let j;if(this._length<d&&(d=this._length),this.backward){const _e=this._stream.view.subarray(this._length-d,this._length);j=new Uint8Array(d);for(let Oe=0;Oe<d;Oe++)j[d-1-Oe]=_e[Oe]}else j=this._stream.view.subarray(this._start,this._start+d);return T&&(this.start+=this.backward?-1*d:d),j}getUint16(d=!0){const T=this.getBlock(2,d);return T.length<2?0:T[0]<<8|T[1]}getInt16(d=!0){const T=this.getUint16(d),j=32768;return T&j?-(j-(T^j)):T}getUint24(d=!0){const T=this.getBlock(4,d);return T.length<3?0:T[0]<<16|T[1]<<8|T[2]}getUint32(d=!0){const T=this.getBlock(4,d);return T.length<4?0:16777216*T[0]+(T[1]<<16)+(T[2]<<8)+T[3]}getInt32(d=!0){const T=this.getUint32(d),j=2147483648;return T&j?-(j-(T^j)):T}beforeAppend(d){this._start+d>this._stream.length&&(d>this.appendBlock&&(this.appendBlock=d+U.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return U.APPEND_BLOCK=1e3,U})();function Dt(U,...G){if(!function Mr(U){return U instanceof Uint8Array||ArrayBuffer.isView(U)&&"Uint8Array"===U.constructor.name}(U))throw new Error("Uint8Array expected");if(G.length>0&&!G.includes(U.length))throw new Error("Uint8Array expected of length "+G+", got length="+U.length)}function Vt(U,G=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(G&&U.finished)throw new Error("Hash#digest() has already been called")}function pi(...U){for(let G=0;G<U.length;G++)U[G].fill(0)}function js(U){return new DataView(U.buffer,U.byteOffset,U.byteLength)}function Ts(U,G){return U<<32-G|U>>>G}function Hr(U,G){return U<<G|U>>>32-G>>>0}function kr(U){return"string"==typeof U&&(U=function Fa(U){if("string"!=typeof U)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(U))}(U)),Dt(U),U}class Ba{}function Vr(U){const G=T=>U().update(kr(T)).digest(),d=U();return G.outputLen=d.outputLen,G.blockLen=d.blockLen,G.create=()=>U(),G}function Lr(U,G,d){return U&G^~U&d}function So(U,G,d){return U&G^U&d^G&d}class ya extends Ba{constructor(G,d,T,j){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=G,this.outputLen=d,this.padOffset=T,this.isLE=j,this.buffer=new Uint8Array(G),this.view=js(this.buffer)}update(G){Vt(this),Dt(G=kr(G));const{view:d,buffer:T,blockLen:j}=this,_e=G.length;for(let Oe=0;Oe<_e;){const ze=Math.min(j-this.pos,_e-Oe);if(ze!==j)T.set(G.subarray(Oe,Oe+ze),this.pos),this.pos+=ze,Oe+=ze,this.pos===j&&(this.process(d,0),this.pos=0);else{const nt=js(G);for(;j<=_e-Oe;Oe+=j)this.process(nt,Oe)}}return this.length+=G.length,this.roundClean(),this}digestInto(G){Vt(this),function pn(U,G){Dt(U);const d=G.outputLen;if(U.length<d)throw new Error("digestInto() expects output buffer of length at least "+d)}(G,this),this.finished=!0;const{buffer:d,view:T,blockLen:j,isLE:_e}=this;let{pos:Oe}=this;d[Oe++]=128,pi(this.buffer.subarray(Oe)),this.padOffset>j-Oe&&(this.process(T,0),Oe=0);for(let Zt=Oe;Zt<j;Zt++)d[Zt]=0;(function _r(U,G,d,T){if("function"==typeof U.setBigUint64)return U.setBigUint64(G,d,T);const j=BigInt(32),_e=BigInt(4294967295),Oe=Number(d>>j&_e),ze=Number(d&_e),bt=T?0:4;U.setUint32(G+(T?4:0),Oe,T),U.setUint32(G+bt,ze,T)})(T,j-8,BigInt(8*this.length),_e),this.process(T,0);const ze=js(G),nt=this.outputLen;if(nt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const bt=nt/4,$t=this.get();if(bt>$t.length)throw new Error("_sha2: outputLen bigger than state");for(let Zt=0;Zt<bt;Zt++)ze.setUint32(4*Zt,$t[Zt],_e)}digest(){const{buffer:G,outputLen:d}=this;this.digestInto(G);const T=G.slice(0,d);return this.destroy(),T}_cloneInto(G){G||(G=new this.constructor),G.set(...this.get());const{blockLen:d,buffer:T,length:j,finished:_e,destroyed:Oe,pos:ze}=this;return G.destroyed=Oe,G.finished=_e,G.length=j,G.pos=ze,j%d&&G.buffer.set(T),G}clone(){return this._cloneInto()}}const rr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),As=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ps=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Wr=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),Sr=new Uint32Array(80);class Jo extends ya{constructor(){super(64,20,8,!1),this.A=0|Wr[0],this.B=0|Wr[1],this.C=0|Wr[2],this.D=0|Wr[3],this.E=0|Wr[4]}get(){const{A:G,B:d,C:T,D:j,E:_e}=this;return[G,d,T,j,_e]}set(G,d,T,j,_e){this.A=0|G,this.B=0|d,this.C=0|T,this.D=0|j,this.E=0|_e}process(G,d){for(let nt=0;nt<16;nt++,d+=4)Sr[nt]=G.getUint32(d,!1);for(let nt=16;nt<80;nt++)Sr[nt]=Hr(Sr[nt-3]^Sr[nt-8]^Sr[nt-14]^Sr[nt-16],1);let{A:T,B:j,C:_e,D:Oe,E:ze}=this;for(let nt=0;nt<80;nt++){let bt,$t;nt<20?(bt=Lr(j,_e,Oe),$t=1518500249):nt<40?(bt=j^_e^Oe,$t=1859775393):nt<60?(bt=So(j,_e,Oe),$t=2400959708):(bt=j^_e^Oe,$t=3395469782);const Zt=Hr(T,5)+bt+ze+$t+Sr[nt]|0;ze=Oe,Oe=_e,_e=Hr(j,30),j=T,T=Zt}T=T+this.A|0,j=j+this.B|0,_e=_e+this.C|0,Oe=Oe+this.D|0,ze=ze+this.E|0,this.set(T,j,_e,Oe,ze)}roundClean(){pi(Sr)}destroy(){this.set(0,0,0,0,0),pi(this.buffer)}}const Uo=Vr(()=>new Jo);Uint8Array.from(new Array(16).fill(0).map((U,G)=>G)).map(U=>(9*U+5)%16);const Zo=Uo,Ks=BigInt(2**32-1),Eo=BigInt(32);function Sl(U,G=!1){return G?{h:Number(U&Ks),l:Number(U>>Eo&Ks)}:{h:0|Number(U>>Eo&Ks),l:0|Number(U&Ks)}}const jr=(U,G,d)=>U>>>d,ws=(U,G,d)=>U<<32-d|G>>>d,ga=(U,G,d)=>U>>>d|G<<32-d,_a=(U,G,d)=>U<<32-d|G>>>d,jo=(U,G,d)=>U<<64-d|G>>>d-32,wo=(U,G,d)=>U>>>d-32|G<<64-d;function Ua(U,G,d,T){const j=(G>>>0)+(T>>>0);return{h:U+d+(j/2**32|0)|0,l:0|j}}const dl=(U,G,d)=>(U>>>0)+(G>>>0)+(d>>>0),Tl=(U,G,d,T)=>G+d+T+(U/2**32|0)|0,or=(U,G,d,T)=>(U>>>0)+(G>>>0)+(d>>>0)+(T>>>0),no=(U,G,d,T,j)=>G+d+T+j+(U/2**32|0)|0,ho=(U,G,d,T,j)=>(U>>>0)+(G>>>0)+(d>>>0)+(T>>>0)+(j>>>0),Fs=(U,G,d,T,j,_e)=>G+d+T+j+_e+(U/2**32|0)|0,lr=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dr=new Uint32Array(64);class Fr extends ya{constructor(G=32){super(64,G,8,!1),this.A=0|rr[0],this.B=0|rr[1],this.C=0|rr[2],this.D=0|rr[3],this.E=0|rr[4],this.F=0|rr[5],this.G=0|rr[6],this.H=0|rr[7]}get(){const{A:G,B:d,C:T,D:j,E:_e,F:Oe,G:ze,H:nt}=this;return[G,d,T,j,_e,Oe,ze,nt]}set(G,d,T,j,_e,Oe,ze,nt){this.A=0|G,this.B=0|d,this.C=0|T,this.D=0|j,this.E=0|_e,this.F=0|Oe,this.G=0|ze,this.H=0|nt}process(G,d){for(let Zt=0;Zt<16;Zt++,d+=4)dr[Zt]=G.getUint32(d,!1);for(let Zt=16;Zt<64;Zt++){const Rn=dr[Zt-15],dn=dr[Zt-2],di=Ts(Rn,7)^Ts(Rn,18)^Rn>>>3,ki=Ts(dn,17)^Ts(dn,19)^dn>>>10;dr[Zt]=ki+dr[Zt-7]+di+dr[Zt-16]|0}let{A:T,B:j,C:_e,D:Oe,E:ze,F:nt,G:bt,H:$t}=this;for(let Zt=0;Zt<64;Zt++){const dn=$t+(Ts(ze,6)^Ts(ze,11)^Ts(ze,25))+Lr(ze,nt,bt)+lr[Zt]+dr[Zt]|0,ki=(Ts(T,2)^Ts(T,13)^Ts(T,22))+So(T,j,_e)|0;$t=bt,bt=nt,nt=ze,ze=Oe+dn|0,Oe=_e,_e=j,j=T,T=dn+ki|0}T=T+this.A|0,j=j+this.B|0,_e=_e+this.C|0,Oe=Oe+this.D|0,ze=ze+this.E|0,nt=nt+this.F|0,bt=bt+this.G|0,$t=$t+this.H|0,this.set(T,j,_e,Oe,ze,nt,bt,$t)}roundClean(){pi(dr)}destroy(){this.set(0,0,0,0,0,0,0,0),pi(this.buffer)}}const Ge=function El(U,G=!1){const d=U.length;let T=new Uint32Array(d),j=new Uint32Array(d);for(let _e=0;_e<d;_e++){const{h:Oe,l:ze}=Sl(U[_e],G);[T[_e],j[_e]]=[Oe,ze]}return[T,j]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(U=>BigInt(U))),mn=Ge[0],$e=Ge[1],It=new Uint32Array(80),at=new Uint32Array(80);class bn extends ya{constructor(G=64){super(128,G,16,!1),this.Ah=0|Ps[0],this.Al=0|Ps[1],this.Bh=0|Ps[2],this.Bl=0|Ps[3],this.Ch=0|Ps[4],this.Cl=0|Ps[5],this.Dh=0|Ps[6],this.Dl=0|Ps[7],this.Eh=0|Ps[8],this.El=0|Ps[9],this.Fh=0|Ps[10],this.Fl=0|Ps[11],this.Gh=0|Ps[12],this.Gl=0|Ps[13],this.Hh=0|Ps[14],this.Hl=0|Ps[15]}get(){const{Ah:G,Al:d,Bh:T,Bl:j,Ch:_e,Cl:Oe,Dh:ze,Dl:nt,Eh:bt,El:$t,Fh:Zt,Fl:Rn,Gh:dn,Gl:di,Hh:ki,Hl:wi}=this;return[G,d,T,j,_e,Oe,ze,nt,bt,$t,Zt,Rn,dn,di,ki,wi]}set(G,d,T,j,_e,Oe,ze,nt,bt,$t,Zt,Rn,dn,di,ki,wi){this.Ah=0|G,this.Al=0|d,this.Bh=0|T,this.Bl=0|j,this.Ch=0|_e,this.Cl=0|Oe,this.Dh=0|ze,this.Dl=0|nt,this.Eh=0|bt,this.El=0|$t,this.Fh=0|Zt,this.Fl=0|Rn,this.Gh=0|dn,this.Gl=0|di,this.Hh=0|ki,this.Hl=0|wi}process(G,d){for(let fi=0;fi<16;fi++,d+=4)It[fi]=G.getUint32(d),at[fi]=G.getUint32(d+=4);for(let fi=16;fi<80;fi++){const Pi=0|It[fi-15],Oi=0|at[fi-15],is=ga(Pi,Oi,1)^ga(Pi,Oi,8)^jr(Pi,0,7),Rs=_a(Pi,Oi,1)^_a(Pi,Oi,8)^ws(Pi,Oi,7),Ss=0|It[fi-2],Ms=0|at[fi-2],sa=ga(Ss,Ms,19)^jo(Ss,Ms,61)^jr(Ss,0,6),bo=_a(Ss,Ms,19)^wo(Ss,Ms,61)^ws(Ss,Ms,6),ur=or(Rs,bo,at[fi-7],at[fi-16]),va=no(ur,is,sa,It[fi-7],It[fi-16]);It[fi]=0|va,at[fi]=0|ur}let{Ah:T,Al:j,Bh:_e,Bl:Oe,Ch:ze,Cl:nt,Dh:bt,Dl:$t,Eh:Zt,El:Rn,Fh:dn,Fl:di,Gh:ki,Gl:wi,Hh:ui,Hl:gs}=this;for(let fi=0;fi<80;fi++){const Pi=ga(Zt,Rn,14)^ga(Zt,Rn,18)^jo(Zt,Rn,41),Oi=_a(Zt,Rn,14)^_a(Zt,Rn,18)^wo(Zt,Rn,41),is=Zt&dn^~Zt&ki,Ss=ho(gs,Oi,Rn&di^~Rn&wi,$e[fi],at[fi]),Ms=Fs(Ss,ui,Pi,is,mn[fi],It[fi]),sa=0|Ss,bo=ga(T,j,28)^jo(T,j,34)^jo(T,j,39),ur=_a(T,j,28)^wo(T,j,34)^wo(T,j,39),va=T&_e^T&ze^_e&ze,Su=j&Oe^j&nt^Oe&nt;ui=0|ki,gs=0|wi,ki=0|dn,wi=0|di,dn=0|Zt,di=0|Rn,({h:Zt,l:Rn}=Ua(0|bt,0|$t,0|Ms,0|sa)),bt=0|ze,$t=0|nt,ze=0|_e,nt=0|Oe,_e=0|T,Oe=0|j;const Bo=dl(sa,ur,Su);T=Tl(Bo,Ms,bo,va),j=0|Bo}({h:T,l:j}=Ua(0|this.Ah,0|this.Al,0|T,0|j)),({h:_e,l:Oe}=Ua(0|this.Bh,0|this.Bl,0|_e,0|Oe)),({h:ze,l:nt}=Ua(0|this.Ch,0|this.Cl,0|ze,0|nt)),({h:bt,l:$t}=Ua(0|this.Dh,0|this.Dl,0|bt,0|$t)),({h:Zt,l:Rn}=Ua(0|this.Eh,0|this.El,0|Zt,0|Rn)),({h:dn,l:di}=Ua(0|this.Fh,0|this.Fl,0|dn,0|di)),({h:ki,l:wi}=Ua(0|this.Gh,0|this.Gl,0|ki,0|wi)),({h:ui,l:gs}=Ua(0|this.Hh,0|this.Hl,0|ui,0|gs)),this.set(T,j,_e,Oe,ze,nt,bt,$t,Zt,Rn,dn,di,ki,wi,ui,gs)}roundClean(){pi(It,at)}destroy(){pi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ri extends bn{constructor(){super(48),this.Ah=0|As[0],this.Al=0|As[1],this.Bh=0|As[2],this.Bl=0|As[3],this.Ch=0|As[4],this.Cl=0|As[5],this.Dh=0|As[6],this.Dl=0|As[7],this.Eh=0|As[8],this.El=0|As[9],this.Fh=0|As[10],this.Fl=0|As[11],this.Gh=0|As[12],this.Gl=0|As[13],this.Hh=0|As[14],this.Hl=0|As[15]}}const Hi=Vr(()=>new Fr),we=Vr(()=>new bn),Mt=Vr(()=>new Ri),es=new ArrayBuffer(0);let Se=(()=>{class U extends TypeError{constructor(){super(...arguments),this.name=U.NAME}static isType(d,T){if("string"==typeof T){if("Array"===T&&Array.isArray(d))return!0;if("ArrayBuffer"===T&&d instanceof ArrayBuffer)return!0;if("ArrayBufferView"===T&&ArrayBuffer.isView(d))return!0;if(typeof d===T)return!0}else if(d instanceof T)return!0;return!1}static assert(d,T,...j){for(const Oe of j)if(this.isType(d,Oe))return;const _e=j.map(Oe=>Oe instanceof Function&&"name"in Oe?Oe.name:`${Oe}`);throw new U(`Parameter '${T}' is not of type ${_e.length>1?`(${_e.join(" or ")})`:_e[0]}`)}}return U.NAME="ArgumentError",U})(),$=(()=>{class U extends TypeError{static assert(...d){let j,_e,T=null;"string"==typeof d[0]?(T=d[0],j=d[1],_e=d.slice(2)):(j=d[0],_e=d.slice(1)),Se.assert(j,"parameters","object");for(const Oe of _e)if(null==j[Oe])throw new U(Oe,T)}static assertEmpty(d,T,j){if(null==d)throw new U(T,j)}constructor(d,T=null,j){super(),this.name=U.NAME,this.field=d,T&&(this.target=T),this.message=j||`Absent mandatory parameter '${d}' ${T?` in '${T}'`:""}`}}return U.NAME="ParameterError",U})();class ye extends Error{static assertSchema(G,d){if(!G.verified)throw new Error(`Object's schema was not verified against input data for ${d}`)}static assert(G,d){if(-1===G.offset)throw new ye(`Error during parsing of ASN.1 data. Data is not correct for '${d}'.`)}constructor(G){super(G),this.name="AsnError"}}let Me=(()=>{class U{static blockName(){return this.CLASS_NAME}static fromBER(d){const T=mt(d);ye.assert(T,this.name);try{return new this({schema:T.result})}catch{throw new ye(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(d){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${d}`)}static schema(d={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(d="hex"){let T;try{T=this.toSchema()}catch{T=this.toSchema(!0)}return p.U$.ToString(T.toBER(),d)}}return U.CLASS_NAME="PkiObject",U})();function ft(U){let G=!1,d="";const T=U.trim();for(let j=0;j<T.length;j++)32===T.charCodeAt(j)?!1===G&&(G=!0):(G&&(d+=" ",G=!1),d+=T[j]);return d.toLowerCase()}const Ft="type",Yt="value";let _n=(()=>{class U extends Me{constructor(d={}){super(),this.type=e(d,Ft,U.defaultValues(Ft)),this.value=e(d,Yt,U.defaultValues(Yt)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ft:return"";case Yt:return{};default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.type||""}),new Fn({name:T.value||""})]})}fromSchema(d){L(d,[Ft,"typeValue"]);const T=li(d,d,U.schema({names:{type:Ft,value:"typeValue"}}));ye.assertSchema(T,this.className),this.type=T.result.type.valueBlock.toString(),this.value=T.result.typeValue}toSchema(){return new Dn({value:[new Kt({value:this.type}),this.value]})}toJSON(){const d={type:this.type};return d.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,d}isEqual(d){const T=[tn.blockName(),Xn.blockName(),oi.blockName(),Un.blockName(),Qn.blockName(),Fe.blockName(),ht.blockName(),Xt.blockName(),hi.blockName(),Nn.blockName(),Ji.blockName(),jt.blockName()];if(d instanceof ArrayBuffer)return p._H.isEqual(this.value.valueBeforeDecodeView,d);if(d.constructor.blockName()===U.blockName()){if(this.type!==d.type)return!1;const j=[!1,!1],_e=this.value.constructor.blockName();for(const ze of T)_e===ze&&(j[0]=!0),d.value.constructor.blockName()===ze&&(j[1]=!0);if(j[0]!==j[1])return!1;if(j[0]&&j[1]){const ze=ft(this.value.valueBlock.value),nt=ft(d.value.valueBlock.value);if(0!==ze.localeCompare(nt))return!1}else if(!p._H.isEqual(this.value.valueBeforeDecodeView,d.value.valueBeforeDecodeView))return!1;return!0}return!1}}return U.CLASS_NAME="AttributeTypeAndValue",U})();const On="typesAndValues",ln="valueBeforeDecode";let xn=(()=>{class U extends Me{constructor(d={}){super(),this.typesAndValues=e(d,On,U.defaultValues(On)),this.valueBeforeDecode=e(d,ln,U.defaultValues(ln)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case On:return[];case ln:return es;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case On:return 0===T.length;case ln:return 0===T.byteLength;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.repeatedSequence||"",value:new Ui({value:[new Di({name:T.repeatedSet||"",value:_n.schema(T.typeAndValue||{})})]})})]})}fromSchema(d){L(d,["RDN",On]);const T=li(d,d,U.schema({names:{blockName:"RDN",repeatedSet:On}}));ye.assertSchema(T,this.className),On in T.result&&(this.typesAndValues=Array.from(T.result.typesAndValues,j=>new _n({schema:j}))),this.valueBeforeDecode=T.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(0===this.valueBeforeDecode.byteLength)return new Dn({value:[new Ui({value:Array.from(this.typesAndValues,T=>T.toSchema())})]});const d=mt(this.valueBeforeDecode);if(ye.assert(d,"RelativeDistinguishedNames"),!(d.result instanceof Dn))throw new Error("ASN.1 result should be SEQUENCE");return d.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,d=>d.toJSON())}}isEqual(d){if(d instanceof U){if(this.typesAndValues.length!==d.typesAndValues.length)return!1;for(const[T,j]of this.typesAndValues.entries())if(!1===j.isEqual(d.typesAndValues[T]))return!1;return!0}return d instanceof ArrayBuffer&&E(this.valueBeforeDecode,d)}}return U.CLASS_NAME="RelativeDistinguishedNames",U})();const Zn="type",ss="value";function Ar(U={},G=!1){const d=e(U,"names",{});return new Dn({optional:G,value:[new P({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:d.country_name||"",value:[new Wi({value:[new Un,new Qn]})]}),new P({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:d.administration_domain_name||"",value:[new Wi({value:[new Un,new Qn]})]}),new en({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:d.network_address||"",isHexOnly:!0}),new en({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:d.terminal_identifier||"",isHexOnly:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:d.private_domain_name||"",value:[new Wi({value:[new Un,new Qn]})]}),new en({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:d.organization_name||"",isHexOnly:!0}),new en({optional:!0,name:d.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new P({optional:!0,name:d.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new en({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new en({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new en({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new en({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new P({optional:!0,name:d.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Di({value:new Qn})]})]})}function si(U=!1){return new Dn({optional:U,value:[new Qn,new Qn]})}function io(U=!1){return new Ui({optional:U,value:[new en({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Fn]})]})}let Zi=(()=>{class U extends Me{constructor(d={}){super(),this.type=e(d,Zn,U.defaultValues(Zn)),this.value=e(d,ss,U.defaultValues(ss)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Zn:return 9;case ss:return{};default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case Zn:return T===U.defaultValues(d);case ss:return 0===Object.keys(T).length;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Wi({value:[new P({idBlock:{tagClass:3,tagNumber:0},name:T.blockName||"",value:[new Kt,new P({idBlock:{tagClass:3,tagNumber:0},value:[new Fn]})]}),new en({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new en({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new P({idBlock:{tagClass:3,tagNumber:3},name:T.blockName||"",value:[Ar(T.builtInStandardAttributes||{},!1),si(!0),io(!0)]}),new P({idBlock:{tagClass:3,tagNumber:4},name:T.blockName||"",value:[xn.schema(T.directoryName||{})]}),new P({idBlock:{tagClass:3,tagNumber:5},name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wi({value:[new Fe,new Qn,new oi,new tn,new Xn]})]}),new P({idBlock:{tagClass:3,tagNumber:1},value:[new Wi({value:[new Fe,new Qn,new oi,new tn,new Xn]})]})]}),new en({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new en({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new en({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(d){L(d,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const T=li(d,d,U.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(ye.assertSchema(T,this.className),this.type=T.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=T.result.blockName;break;case 1:case 2:case 6:{const j=T.result.blockName;j.idBlock.tagClass=1,j.idBlock.tagNumber=22;const Oe=mt(j.toBER(!1));ye.assert(Oe,"GeneralName value"),this.value=Oe.result.valueBlock.value}break;case 4:this.value=new xn({schema:T.result.directoryName});break;case 5:this.value=T.result.ediPartyName;break;case 7:this.value=new Ot({valueHex:T.result.blockName.valueBlock.valueHex});break;case 8:{const j=T.result.blockName;j.idBlock.tagClass=1,j.idBlock.tagNumber=6;const Oe=mt(j.toBER(!1));ye.assert(Oe,"GeneralName registeredID"),this.value=Oe.result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new P({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const d=new Xt({value:this.value});return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}case 4:return new P({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const d=this.value;return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}case 8:{const d=new Kt({value:this.value});return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}default:return U.schema()}}toJSON(){const d={type:this.type,value:""};if("string"==typeof this.value)d.value=this.value;else try{d.value=this.value.toJSON()}catch{}return d}}return U.CLASS_NAME="GeneralName",U})();const Qs="accessMethod",vr="accessLocation",Io=[Qs,vr];let eu=(()=>{class U extends Me{constructor(d={}){super(),this.accessMethod=e(d,Qs,U.defaultValues(Qs)),this.accessLocation=e(d,vr,U.defaultValues(vr)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Qs:return"";case vr:return new Zi;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.accessMethod||""}),Zi.schema(T.accessLocation||{})]})}fromSchema(d){L(d,Io);const T=li(d,d,U.schema({names:{accessMethod:Qs,accessLocation:{names:{blockName:vr}}}}));ye.assertSchema(T,this.className),this.accessMethod=T.result.accessMethod.valueBlock.toString(),this.accessLocation=new Zi({schema:T.result.accessLocation})}toSchema(){return new Dn({value:[new Kt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}return U.CLASS_NAME="AccessDescription",U})();const Ao="algorithmId",ja="algorithmParams",gd="algorithm",zl="params",wl=[gd,zl];let Ds=(()=>{class U extends Me{constructor(d={}){super(),this.algorithmId=e(d,Ao,U.defaultValues(Ao)),ja in d&&(this.algorithmParams=e(d,ja,U.defaultValues(ja))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ao:return"";case ja:return new Fn;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case Ao:return""===T;case ja:return T instanceof Fn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",optional:T.optional||!1,value:[new Kt({name:T.algorithmIdentifier||""}),new Fn({name:T.algorithmParams||"",optional:!0})]})}fromSchema(d){L(d,wl);const T=li(d,d,U.schema({names:{algorithmIdentifier:gd,algorithmParams:zl}}));ye.assertSchema(T,this.className),this.algorithmId=T.result.algorithm.valueBlock.toString(),zl in T.result&&(this.algorithmParams=T.result.params)}toSchema(){const d=[];return d.push(new Kt({value:this.algorithmId})),this.algorithmParams&&!(this.algorithmParams instanceof Fn)&&d.push(this.algorithmParams),new Dn({value:d})}toJSON(){const d={algorithmId:this.algorithmId};return this.algorithmParams&&!(this.algorithmParams instanceof Fn)&&(d.algorithmParams=this.algorithmParams.toJSON()),d}isEqual(d){return d instanceof U&&this.algorithmId===d.algorithmId&&(this.algorithmParams?!!d.algorithmParams&&JSON.stringify(this.algorithmParams)===JSON.stringify(d.algorithmParams):!d.algorithmParams)}}return U.CLASS_NAME="AlgorithmIdentifier",U})();const tu="altNames",fh=[tu];let uf=(()=>{class U extends Me{constructor(d={}){super(),this.altNames=e(d,tu,U.defaultValues(tu)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===tu?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.altNames||"",value:Zi.schema()})]})}fromSchema(d){L(d,fh);const T=li(d,d,U.schema({names:{altNames:tu}}));ye.assertSchema(T,this.className),tu in T.result&&(this.altNames=Array.from(T.result.altNames,j=>new Zi({schema:j})))}toSchema(){return new Dn({value:Array.from(this.altNames,d=>d.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,d=>d.toJSON())}}}return U.CLASS_NAME="AltName",U})();const ir="type",yc="values",ph=[ir,yc];let me=(()=>{class U extends Me{constructor(d={}){super(),this.type=e(d,ir,U.defaultValues(ir)),this.values=e(d,yc,U.defaultValues(yc)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case ir:return"";case yc:return[];default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case ir:return""===T;case yc:return 0===T.length;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.type||""}),new Ui({name:T.setName||"",value:[new Di({name:T.values||"",value:new Fn})]})]})}fromSchema(d){L(d,ph);const T=li(d,d,U.schema({names:{type:ir,values:yc}}));ye.assertSchema(T,this.className),this.type=T.result.type.valueBlock.toString(),this.values=T.result.values}toSchema(){return new Dn({value:[new Kt({value:this.type}),new Ui({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,d=>d.toJSON())}}}return U.CLASS_NAME="Attribute",U})();const gn="names",$i="generalNames";let fs=(()=>{class U extends Me{constructor(d={}){super(),this.names=e(d,gn,U.defaultValues(gn)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return"names"===d?[]:super.defaultValues(d)}static schema(d={},T=!1){const j=e(d,gn,{});return new Dn({optional:T,name:j.blockName||"",value:[new Di({name:j.generalNames||"",value:Zi.schema()})]})}fromSchema(d){L(d,[gn,$i]);const T=li(d,d,U.schema({names:{blockName:gn,generalNames:$i}}));ye.assertSchema(T,this.className),this.names=Array.from(T.result.generalNames,j=>new Zi({schema:j}))}toSchema(){return new Dn({value:Array.from(this.names,d=>d.toSchema())})}toJSON(){return{names:Array.from(this.names,d=>d.toJSON())}}}return U.CLASS_NAME="GeneralNames",U})();const Dr="keyIdentifier",No="authorityCertIssuer",Il="authorityCertSerialNumber",pf=[Dr,No,Il];let so=(()=>{class U extends Me{constructor(d={}){super(),Dr in d&&(this.keyIdentifier=e(d,Dr,U.defaultValues(Dr))),No in d&&(this.authorityCertIssuer=e(d,No,U.defaultValues(No))),Il in d&&(this.authorityCertSerialNumber=e(d,Il,U.defaultValues(Il))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Dr:return new Ot;case No:return[];case Il:return new zn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new en({name:T.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Di({name:T.authorityCertIssuer||"",value:Zi.schema()})]}),new en({name:T.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(d){L(d,pf);const T=li(d,d,U.schema({names:{keyIdentifier:Dr,authorityCertIssuer:No,authorityCertSerialNumber:Il}}));ye.assertSchema(T,this.className),Dr in T.result&&(this.keyIdentifier=new Ot({valueHex:T.result.keyIdentifier.valueBlock.valueHex})),No in T.result&&(this.authorityCertIssuer=Array.from(T.result.authorityCertIssuer,j=>new Zi({schema:j}))),Il in T.result&&(this.authorityCertSerialNumber=new zn({valueHex:T.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const d=[];return this.keyIdentifier&&d.push(new en({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,T=>T.toSchema())})),this.authorityCertSerialNumber&&d.push(new en({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new Dn({value:d})}toJSON(){const d={};return this.keyIdentifier&&(d.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(d.authorityCertIssuer=Array.from(this.authorityCertIssuer,T=>T.toJSON())),this.authorityCertSerialNumber&&(d.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),d}}return U.CLASS_NAME="AuthorityKeyIdentifier",U})();const ro="pathLenConstraint",Rc="cA";let Cp=(()=>{class U extends Me{constructor(d={}){super(),this.cA=e(d,Rc,!1),ro in d&&(this.pathLenConstraint=e(d,ro,0)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d!==Rc&&super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new wn({optional:!0,name:T.cA||""}),new zn({optional:!0,name:T.pathLenConstraint||""})]})}fromSchema(d){L(d,[Rc,ro]);const T=li(d,d,U.schema({names:{cA:Rc,pathLenConstraint:ro}}));ye.assertSchema(T,this.className),Rc in T.result&&(this.cA=T.result.cA.valueBlock.value),ro in T.result&&(this.pathLenConstraint=T.result.pathLenConstraint.valueBlock.isHexOnly?T.result.pathLenConstraint:T.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const d=[];return this.cA!==U.defaultValues(Rc)&&d.push(new wn({value:this.cA})),ro in this&&d.push(this.pathLenConstraint instanceof zn?this.pathLenConstraint:new zn({value:this.pathLenConstraint})),new Dn({value:d})}toJSON(){const d={};return this.cA!==U.defaultValues(Rc)&&(d.cA=this.cA),ro in this&&(d.pathLenConstraint=this.pathLenConstraint instanceof zn?this.pathLenConstraint.toJSON():this.pathLenConstraint),d}}return U.CLASS_NAME="BasicConstraints",U})();const bh="certificateIndex",mf="keyIndex";let l_=(()=>{class U extends Me{constructor(d={}){super(),this.certificateIndex=e(d,bh,U.defaultValues(bh)),this.keyIndex=e(d,mf,U.defaultValues(mf)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case bh:case mf:return 0;default:return super.defaultValues(d)}}static schema(){return new zn}fromSchema(d){if(d.constructor.blockName()!==zn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let T=d.valueBlock.valueHex.slice(0);const j=new Uint8Array(T);switch(!0){case T.byteLength<4:{const Rn=new ArrayBuffer(4);new Uint8Array(Rn).set(j,4-T.byteLength),T=Rn.slice(0)}break;case T.byteLength>4:{const Rn=new ArrayBuffer(4);new Uint8Array(Rn).set(j.slice(0,4)),T=Rn.slice(0)}}const _e=T.slice(0,2),Oe=new Uint8Array(_e);let ze=Oe[0];Oe[0]=Oe[1],Oe[1]=ze;const nt=new Uint16Array(_e);this.keyIndex=nt[0];const bt=T.slice(2),$t=new Uint8Array(bt);ze=$t[0],$t[0]=$t[1],$t[1]=ze;const Zt=new Uint16Array(bt);this.certificateIndex=Zt[0]}toSchema(){const d=new ArrayBuffer(2);new Uint16Array(d)[0]=this.certificateIndex;const j=new Uint8Array(d);let _e=j[0];j[0]=j[1],j[1]=_e;const Oe=new ArrayBuffer(2);new Uint16Array(Oe)[0]=this.keyIndex;const nt=new Uint8Array(Oe);return _e=nt[0],nt[0]=nt[1],nt[1]=_e,new zn({valueHex:g(Oe,d)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}return U.CLASS_NAME="CAVersion",U})();const ku="policyQualifierId",Cd="qualifier",lg=[ku,Cd];let Sp=(()=>{class U extends Me{constructor(d={}){super(),this.policyQualifierId=e(d,ku,U.defaultValues(ku)),this.qualifier=e(d,Cd,U.defaultValues(Cd)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case ku:return"";case Cd:return new Fn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.policyQualifierId||""}),new Fn({name:T.qualifier||""})]})}fromSchema(d){L(d,lg);const T=li(d,d,U.schema({names:{policyQualifierId:ku,qualifier:Cd}}));ye.assertSchema(T,this.className),this.policyQualifierId=T.result.policyQualifierId.valueBlock.toString(),this.qualifier=T.result.qualifier}toSchema(){return new Dn({value:[new Kt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}return U.CLASS_NAME="PolicyQualifierInfo",U})();const Ac="policyIdentifier",Rl="policyQualifiers",fo=[Ac,Rl];let hr=(()=>{class U extends Me{constructor(d={}){super(),this.policyIdentifier=e(d,Ac,U.defaultValues(Ac)),Rl in d&&(this.policyQualifiers=e(d,Rl,U.defaultValues(Rl))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ac:return"";case Rl:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.policyIdentifier||""}),new Dn({optional:!0,value:[new Di({name:T.policyQualifiers||"",value:Sp.schema()})]})]})}fromSchema(d){L(d,fo);const T=li(d,d,U.schema({names:{policyIdentifier:Ac,policyQualifiers:Rl}}));ye.assertSchema(T,this.className),this.policyIdentifier=T.result.policyIdentifier.valueBlock.toString(),Rl in T.result&&(this.policyQualifiers=Array.from(T.result.policyQualifiers,j=>new Sp({schema:j})))}toSchema(){const d=[];return d.push(new Kt({value:this.policyIdentifier})),this.policyQualifiers&&d.push(new Dn({value:Array.from(this.policyQualifiers,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(d.policyQualifiers=Array.from(this.policyQualifiers,T=>T.toJSON())),d}}return U.CLASS_NAME="PolicyInformation",U})();const Al="certificatePolicies",yr=[Al];let Ep=(()=>{class U extends Me{constructor(d={}){super(),this.certificatePolicies=e(d,Al,U.defaultValues(Al)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Al?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.certificatePolicies||"",value:hr.schema()})]})}fromSchema(d){L(d,yr);const T=li(d,d,U.schema({names:{certificatePolicies:Al}}));ye.assertSchema(T,this.className),this.certificatePolicies=Array.from(T.result.certificatePolicies,j=>new hr({schema:j}))}toSchema(){return new Dn({value:Array.from(this.certificatePolicies,d=>d.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,d=>d.toJSON())}}}return U.CLASS_NAME="CertificatePolicies",U})();const Sd="templateID",Jl="templateMajorVersion",Dc="templateMinorVersion",cg=[Sd,Jl,Dc];class Pu extends Me{constructor(G={}){super(),this.templateID=e(G,Sd,Pu.defaultValues(Sd)),Jl in G&&(this.templateMajorVersion=e(G,Jl,Pu.defaultValues(Jl))),Dc in G&&(this.templateMinorVersion=e(G,Dc,Pu.defaultValues(Dc))),G.schema&&this.fromSchema(G.schema)}static defaultValues(G){switch(G){case Sd:return"";case Jl:case Dc:return 0;default:return super.defaultValues(G)}}static schema(G={}){const d=e(G,"names",{});return new Dn({name:d.blockName||"",value:[new Kt({name:d.templateID||""}),new zn({name:d.templateMajorVersion||"",optional:!0}),new zn({name:d.templateMinorVersion||"",optional:!0})]})}fromSchema(G){L(G,cg);const d=li(G,G,Pu.schema({names:{templateID:Sd,templateMajorVersion:Jl,templateMinorVersion:Dc}}));ye.assertSchema(d,this.className),this.templateID=d.result.templateID.valueBlock.toString(),Jl in d.result&&(this.templateMajorVersion=d.result.templateMajorVersion.valueBlock.valueDec),Dc in d.result&&(this.templateMinorVersion=d.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const G=[];return G.push(new Kt({value:this.templateID})),Jl in this&&G.push(new zn({value:this.templateMajorVersion})),Dc in this&&G.push(new zn({value:this.templateMinorVersion})),new Dn({value:G})}toJSON(){const G={templateID:this.templateID};return Jl in this&&(G.templateMajorVersion=this.templateMajorVersion),Dc in this&&(G.templateMinorVersion=this.templateMinorVersion),G}}const nl="distributionPoint",Dl="distributionPointNames",Fu="reasons",Ql="cRLIssuer",Ga="cRLIssuerNames",Ed=[nl,Dl,Fu,Ql,Ga];let Ch=(()=>{class U extends Me{constructor(d={}){super(),nl in d&&(this.distributionPoint=e(d,nl,U.defaultValues(nl))),Fu in d&&(this.reasons=e(d,Fu,U.defaultValues(Fu))),Ql in d&&(this.cRLIssuer=e(d,Ql,U.defaultValues(Ql))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case nl:return[];case Fu:return new Sn;case Ql:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wi({value:[new P({name:T.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.distributionPointNames||"",value:Zi.schema()})]}),new P({name:T.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:xn.schema().valueBlock.value})]})]}),new en({name:T.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new P({name:T.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Di({name:T.cRLIssuerNames||"",value:Zi.schema()})]})]})}fromSchema(d){L(d,Ed);const T=li(d,d,U.schema({names:{distributionPoint:nl,distributionPointNames:Dl,reasons:Fu,cRLIssuer:Ql,cRLIssuerNames:Ga}}));ye.assertSchema(T,this.className),nl in T.result&&(0===T.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(T.result.distributionPointNames,j=>new Zi({schema:j}))),1===T.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new xn({schema:new Dn({value:T.result.distributionPoint.valueBlock.value})}))),Fu in T.result&&(this.reasons=new Sn({valueHex:T.result.reasons.valueBlock.valueHex})),Ql in T.result&&(this.cRLIssuer=Array.from(T.result.cRLIssuerNames,j=>new Zi({schema:j})))}toSchema(){const d=[];if(this.distributionPoint){let T;T=new P(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,j=>j.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[T]}))}return this.reasons&&d.push(new en({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&d.push(new P({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={};return this.distributionPoint&&(d.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,T=>T.toJSON()):this.distributionPoint.toJSON()),this.reasons&&(d.reasons=this.reasons.toJSON()),this.cRLIssuer&&(d.cRLIssuer=Array.from(this.cRLIssuer,T=>T.toJSON())),d}}return U.CLASS_NAME="DistributionPoint",U})();const Td="distributionPoints",gf=[Td];let ug=(()=>{class U extends Me{constructor(d={}){super(),this.distributionPoints=e(d,Td,U.defaultValues(Td)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Td?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.distributionPoints||"",value:Ch.schema()})]})}fromSchema(d){L(d,gf);const T=li(d,d,U.schema({names:{distributionPoints:Td}}));ye.assertSchema(T,this.className),this.distributionPoints=Array.from(T.result.distributionPoints,j=>new Ch({schema:j}))}toSchema(){return new Dn({value:Array.from(this.distributionPoints,d=>d.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,d=>d.toJSON())}}}return U.CLASS_NAME="CRLDistributionPoints",U})();const Zl="keyPurposes",Sh=[Zl];let wd=(()=>{class U extends Me{constructor(d={}){super(),this.keyPurposes=e(d,Zl,U.defaultValues(Zl)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Zl?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.keyPurposes||"",value:new Kt})]})}fromSchema(d){L(d,Sh);const T=li(d,d,U.schema({names:{keyPurposes:Zl}}));ye.assertSchema(T,this.className),this.keyPurposes=Array.from(T.result.keyPurposes,j=>j.valueBlock.toString())}toSchema(){return new Dn({value:Array.from(this.keyPurposes,d=>new Kt({value:d}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}return U.CLASS_NAME="ExtKeyUsage",U})();const po="accessDescriptions";let dg=(()=>{class U extends Me{constructor(d={}){super(),this.accessDescriptions=e(d,po,U.defaultValues(po)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===po?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.accessDescriptions||"",value:eu.schema()})]})}fromSchema(d){L(d,[po]);const T=li(d,d,U.schema({names:{accessDescriptions:po}}));ye.assertSchema(T,this.className),this.accessDescriptions=Array.from(T.result.accessDescriptions,j=>new eu({schema:j}))}toSchema(){return new Dn({value:Array.from(this.accessDescriptions,d=>d.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,d=>d.toJSON())}}}return U.CLASS_NAME="InfoAccess",U})();const au="distributionPoint",Wo="distributionPointNames",ao="onlyContainsUserCerts",oo="onlyContainsCACerts",Ta="onlySomeReasons",Nl="indirectCRL",il="onlyContainsAttributeCerts",Ml=[au,Wo,ao,oo,Ta,Nl,il];let Id=(()=>{class U extends Me{constructor(d={}){super(),au in d&&(this.distributionPoint=e(d,au,U.defaultValues(au))),this.onlyContainsUserCerts=e(d,ao,U.defaultValues(ao)),this.onlyContainsCACerts=e(d,oo,U.defaultValues(oo)),Ta in d&&(this.onlySomeReasons=e(d,Ta,U.defaultValues(Ta))),this.indirectCRL=e(d,Nl,U.defaultValues(Nl)),this.onlyContainsAttributeCerts=e(d,il,U.defaultValues(il)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case au:return[];case ao:case oo:return!1;case Ta:return 0;case Nl:case il:return!1;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wi({value:[new P({name:T.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.distributionPointNames||"",value:Zi.schema()})]}),new P({name:T.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:xn.schema().valueBlock.value})]})]}),new en({name:T.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new en({name:T.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new en({name:T.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new en({name:T.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new en({name:T.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(d){L(d,Ml);const T=li(d,d,U.schema({names:{distributionPoint:au,distributionPointNames:Wo,onlyContainsUserCerts:ao,onlyContainsCACerts:oo,onlySomeReasons:Ta,indirectCRL:Nl,onlyContainsAttributeCerts:il}}));if(ye.assertSchema(T,this.className),au in T.result)switch(!0){case 0===T.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(T.result.distributionPointNames,j=>new Zi({schema:j}));break;case 1===T.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new xn({schema:new Dn({value:T.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(ao in T.result){const j=new Uint8Array(T.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==j[0]}if(oo in T.result){const j=new Uint8Array(T.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==j[0]}if(Ta in T.result){const j=new Uint8Array(T.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=j[0]}if(Nl in T.result){const j=new Uint8Array(T.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==j[0]}if(il in T.result){const j=new Uint8Array(T.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==j[0]}}toSchema(){const d=[];if(this.distributionPoint){let T;this.distributionPoint instanceof Array?T=new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,j=>j.toSchema())}):(T=this.distributionPoint.toSchema(),T.idBlock.tagClass=3,T.idBlock.tagNumber=1),d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[T]}))}if(this.onlyContainsUserCerts!==U.defaultValues(ao)&&d.push(new en({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==U.defaultValues(oo)&&d.push(new en({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),void 0!==this.onlySomeReasons){const T=new ArrayBuffer(1);new Uint8Array(T)[0]=this.onlySomeReasons,d.push(new en({idBlock:{tagClass:3,tagNumber:3},valueHex:T}))}return this.indirectCRL!==U.defaultValues(Nl)&&d.push(new en({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==U.defaultValues(il)&&d.push(new en({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Dn({value:d})}toJSON(){const d={};return this.distributionPoint&&(d.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,T=>T.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==U.defaultValues(ao)&&(d.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==U.defaultValues(oo)&&(d.onlyContainsCACerts=this.onlyContainsCACerts),Ta in this&&(d.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==U.defaultValues(Nl)&&(d.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==U.defaultValues(il)&&(d.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),d}}return U.CLASS_NAME="IssuingDistributionPoint",U})();const Bu="base",Ol="minimum",fl="maximum",Eh=[Bu,Ol,fl];let Vu=(()=>{class U extends Me{constructor(d={}){super(),this.base=e(d,Bu,U.defaultValues(Bu)),this.minimum=e(d,Ol,U.defaultValues(Ol)),fl in d&&(this.maximum=e(d,fl,U.defaultValues(fl))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Bu:return new Zi;case Ol:case fl:return 0;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Zi.schema(T.base||{}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new zn({name:T.minimum||""})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new zn({name:T.maximum||""})]})]})}fromSchema(d){L(d,Eh);const T=li(d,d,U.schema({names:{base:{names:{blockName:Bu}},minimum:Ol,maximum:fl}}));ye.assertSchema(T,this.className),this.base=new Zi({schema:T.result.base}),Ol in T.result&&(this.minimum=T.result.minimum.valueBlock.isHexOnly?T.result.minimum:T.result.minimum.valueBlock.valueDec),fl in T.result&&(this.maximum=T.result.maximum.valueBlock.isHexOnly?T.result.maximum:T.result.maximum.valueBlock.valueDec)}toSchema(){const d=[];if(d.push(this.base.toSchema()),0!==this.minimum){let T=0;T=this.minimum instanceof zn?this.minimum:new zn({value:this.minimum}),d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[T]}))}if(fl in this){let T=0;T=this.maximum instanceof zn?this.maximum:new zn({value:this.maximum}),d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[T]}))}return new Dn({value:d})}toJSON(){const d={base:this.base.toJSON()};return 0!==this.minimum&&(d.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),void 0!==this.maximum&&(d.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),d}}return U.CLASS_NAME="GeneralSubtree",U})();const xl="permittedSubtrees",Rd="excludedSubtrees",hg=[xl,Rd];let fg=(()=>{class U extends Me{constructor(d={}){super(),xl in d&&(this.permittedSubtrees=e(d,xl,U.defaultValues(xl))),Rd in d&&(this.excludedSubtrees=e(d,Rd,U.defaultValues(Rd))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case xl:case Rd:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.permittedSubtrees||"",value:Vu.schema()})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Di({name:T.excludedSubtrees||"",value:Vu.schema()})]})]})}fromSchema(d){L(d,hg);const T=li(d,d,U.schema({names:{permittedSubtrees:xl,excludedSubtrees:Rd}}));ye.assertSchema(T,this.className),xl in T.result&&(this.permittedSubtrees=Array.from(T.result.permittedSubtrees,j=>new Vu({schema:j}))),Rd in T.result&&(this.excludedSubtrees=Array.from(T.result.excludedSubtrees,j=>new Vu({schema:j})))}toSchema(){const d=[];return this.permittedSubtrees&&d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,T=>T.toSchema())})),this.excludedSubtrees&&d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={};return this.permittedSubtrees&&(d.permittedSubtrees=Array.from(this.permittedSubtrees,T=>T.toJSON())),this.excludedSubtrees&&(d.excludedSubtrees=Array.from(this.excludedSubtrees,T=>T.toJSON())),d}}return U.CLASS_NAME="NameConstraints",U})();const Nc="requireExplicitPolicy",Ha="inhibitPolicyMapping",c_=[Nc,Ha];let _f=(()=>{class U extends Me{constructor(d={}){super(),Nc in d&&(this.requireExplicitPolicy=e(d,Nc,U.defaultValues(Nc))),Ha in d&&(this.inhibitPolicyMapping=e(d,Ha,U.defaultValues(Ha))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Nc:case Ha:return 0;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new en({name:T.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new en({name:T.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(d){L(d,c_);const T=li(d,d,U.schema({names:{requireExplicitPolicy:Nc,inhibitPolicyMapping:Ha}}));if(ye.assertSchema(T,this.className),Nc in T.result){const j=T.result.requireExplicitPolicy;j.idBlock.tagClass=1,j.idBlock.tagNumber=2;const Oe=mt(j.toBER(!1));ye.assert(Oe,"Integer"),this.requireExplicitPolicy=Oe.result.valueBlock.valueDec}if(Ha in T.result){const j=T.result.inhibitPolicyMapping;j.idBlock.tagClass=1,j.idBlock.tagNumber=2;const Oe=mt(j.toBER(!1));ye.assert(Oe,"Integer"),this.inhibitPolicyMapping=Oe.result.valueBlock.valueDec}}toSchema(){const d=[];if(Nc in this){const T=new zn({value:this.requireExplicitPolicy});T.idBlock.tagClass=3,T.idBlock.tagNumber=0,d.push(T)}if(Ha in this){const T=new zn({value:this.inhibitPolicyMapping});T.idBlock.tagClass=3,T.idBlock.tagNumber=1,d.push(T)}return new Dn({value:d})}toJSON(){const d={};return Nc in this&&(d.requireExplicitPolicy=this.requireExplicitPolicy),Ha in this&&(d.inhibitPolicyMapping=this.inhibitPolicyMapping),d}}return U.CLASS_NAME="PolicyConstraints",U})();const Lu="issuerDomainPolicy",Ad="subjectDomainPolicy",vf=[Lu,Ad];let mo=(()=>{class U extends Me{constructor(d={}){super(),this.issuerDomainPolicy=e(d,Lu,U.defaultValues(Lu)),this.subjectDomainPolicy=e(d,Ad,U.defaultValues(Ad)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Lu:case Ad:return"";default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.issuerDomainPolicy||""}),new Kt({name:T.subjectDomainPolicy||""})]})}fromSchema(d){L(d,vf);const T=li(d,d,U.schema({names:{issuerDomainPolicy:Lu,subjectDomainPolicy:Ad}}));ye.assertSchema(T,this.className),this.issuerDomainPolicy=T.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=T.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Dn({value:[new Kt({value:this.issuerDomainPolicy}),new Kt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}return U.CLASS_NAME="PolicyMapping",U})();const kl="mappings",sl=[kl];let yf=(()=>{class U extends Me{constructor(d={}){super(),this.mappings=e(d,kl,U.defaultValues(kl)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===kl?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.mappings||"",value:mo.schema()})]})}fromSchema(d){L(d,sl);const T=li(d,d,U.schema({names:{mappings:kl}}));ye.assertSchema(T,this.className),this.mappings=Array.from(T.result.mappings,j=>new mo({schema:j}))}toSchema(){return new Dn({value:Array.from(this.mappings,d=>d.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,d=>d.toJSON())}}}return U.CLASS_NAME="PolicyMappings",U})();const go="notBefore",Mo="notAfter",bf=[go,Mo];let Mc=(()=>{class U extends Me{constructor(d={}){super(),go in d&&(this.notBefore=e(d,go,U.defaultValues(go))),Mo in d&&(this.notAfter=e(d,Mo,U.defaultValues(Mo))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case go:case Mo:return new Date;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new en({name:T.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new en({name:T.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(d){L(d,bf);const T=li(d,d,U.schema({names:{notBefore:go,notAfter:Mo}}));if(ye.assertSchema(T,this.className),go in T.result){const j=new Wt;j.fromBuffer(T.result.notBefore.valueBlock.valueHex),this.notBefore=j.toDate()}if(Mo in T.result){const j=new Wt({valueHex:T.result.notAfter.valueBlock.valueHex});j.fromBuffer(T.result.notAfter.valueBlock.valueHex),this.notAfter=j.toDate()}}toSchema(){const d=[];return go in this&&d.push(new en({idBlock:{tagClass:3,tagNumber:0},valueHex:new Wt({valueDate:this.notBefore}).valueBlock.valueHexView})),Mo in this&&d.push(new en({idBlock:{tagClass:3,tagNumber:1},valueHex:new Wt({valueDate:this.notAfter}).valueBlock.valueHexView})),new Dn({value:d})}toJSON(){const d={};return this.notBefore&&(d.notBefore=this.notBefore),this.notAfter&&(d.notAfter=this.notAfter),d}}return U.CLASS_NAME="PrivateKeyUsagePeriod",U})();const pl="id",ql="type",ml="values",Cf=[pl,ql],ec=[ml];let ou=(()=>{class U extends Me{constructor(d={}){super(),this.id=e(d,pl,U.defaultValues(pl)),ql in d&&(this.type=e(d,ql,U.defaultValues(ql))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case pl:return"";case ql:return new _t;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case pl:return""===T;case ql:return T instanceof _t;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.id||""}),new Fn({name:T.type||"",optional:!0})]})}fromSchema(d){L(d,Cf);const T=li(d,d,U.schema({names:{id:pl,type:ql}}));ye.assertSchema(T,this.className),this.id=T.result.id.valueBlock.toString(),ql in T.result&&(this.type=T.result.type)}toSchema(){const d=[new Kt({value:this.id})];return ql in this&&d.push(this.type),new Dn({value:d})}toJSON(){const d={id:this.id};return this.type&&(d.type=this.type.toJSON()),d}}return U.CLASS_NAME="QCStatement",U})(),br=(()=>{class U extends Me{constructor(d={}){super(),this.values=e(d,ml,U.defaultValues(ml)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===ml?[]:super.defaultValues(d)}static compareWithDefault(d,T){return d===ml?0===T.length:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.values||"",value:ou.schema(T.value||{})})]})}fromSchema(d){L(d,ec);const T=li(d,d,U.schema({names:{values:ml}}));ye.assertSchema(T,this.className),this.values=Array.from(T.result.values,j=>new ou({schema:j}))}toSchema(){return new Dn({value:Array.from(this.values,d=>d.toSchema())})}toJSON(){return{values:Array.from(this.values,d=>d.toJSON())}}}return U.CLASS_NAME="QCStatements",U})();var Uu;class Ka{static register(G,d,T){this.namedCurves[G.toLowerCase()]=this.namedCurves[d]={name:G,id:d,size:T}}static find(G){return this.namedCurves[G.toLowerCase()]||null}}Uu=Ka,Ka.namedCurves={},Uu.register("P-256","1.2.840.10045.3.1.7",32),Uu.register("P-384","1.3.132.0.34",48),Uu.register("P-521","1.3.132.0.35",66),Uu.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Uu.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Uu.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);const Nd="namedCurve";let Oo=(()=>{class U extends Me{constructor(d={}){super(),this.x=e(d,"x",U.defaultValues("x")),this.y=e(d,"y",U.defaultValues("y")),this.namedCurve=e(d,Nd,U.defaultValues(Nd)),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"x":case"y":return es;case Nd:return"";default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case"x":case"y":return T instanceof ArrayBuffer&&E(T,U.defaultValues(d));case Nd:return"string"==typeof T&&T===U.defaultValues(d);default:return super.defaultValues(d)}}static schema(){return new Vi}fromSchema(d){const T=p._H.toUint8Array(d);if(4!==T[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const j=Ka.find(this.namedCurve);if(!j)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const _e=j.size;if(T.byteLength!==2*_e+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=j.name,this.x=T.slice(1,_e+1).buffer,this.y=T.slice(1+_e,2*_e+1).buffer}toSchema(){return new Vi({data:g(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const d=Ka.find(this.namedCurve);return{crv:d?d.name:this.namedCurve,x:M(y(this.x),!0,!0,!1),y:M(y(this.y),!0,!0,!1)}}fromJSON(d){$.assert("json",d,"crv","x","y");let T=0;const j=Ka.find(d.crv);j&&(this.namedCurve=j.id,T=j.size);const _e=z(W(d.x,!0));if(_e.byteLength<T){this.x=new ArrayBuffer(T);const ze=new Uint8Array(this.x),nt=new Uint8Array(_e);ze.set(nt,1)}else this.x=_e.slice(0,T);const Oe=z(W(d.y,!0));if(Oe.byteLength<T){this.y=new ArrayBuffer(T);const ze=new Uint8Array(this.y),nt=new Uint8Array(Oe);ze.set(nt,1)}else this.y=Oe.slice(0,T)}}return U.CLASS_NAME="ECPublicKey",U})();const Th="modulus",ju="publicExponent",Tp=[Th,ju];let xc=(()=>{class U extends Me{constructor(d={}){super(),this.modulus=e(d,Th,U.defaultValues(Th)),this.publicExponent=e(d,ju,U.defaultValues(ju)),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Th:case ju:return new zn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.modulus||""}),new zn({name:T.publicExponent||""})]})}fromSchema(d){L(d,Tp);const T=li(d,d,U.schema({names:{modulus:Th,publicExponent:ju}}));ye.assertSchema(T,this.className),this.modulus=T.result.modulus.convertFromDER(256),this.publicExponent=T.result.publicExponent}toSchema(){return new Dn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:p.U$.ToBase64Url(this.modulus.valueBlock.valueHexView),e:p.U$.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(d){$.assert("json",d,"n","e");const T=z(W(d.n,!0));this.modulus=new zn({valueHex:T.slice(0,Math.pow(2,v(T.byteLength)))}),this.publicExponent=new zn({valueHex:z(W(d.e,!0)).slice(0,3)})}}return U.CLASS_NAME="RSAPublicKey",U})();const $u="algorithm",Gu="subjectPublicKey",u_=[$u,Gu];let kc=(()=>{class U extends Me{get parsedKey(){if(void 0===this._parsedKey){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Kt.blockName())try{this._parsedKey=new Oo({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch{}break;case"1.2.840.113549.1.1.1":{const d=mt(this.subjectPublicKey.valueBlock.valueHexView);if(-1!==d.offset)try{this._parsedKey=new xc({schema:d.result})}catch{}}}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(d){this._parsedKey=d}constructor(d={}){super(),this.algorithm=e(d,$u,U.defaultValues($u)),this.subjectPublicKey=e(d,Gu,U.defaultValues(Gu));const T=e(d,"parsedKey",null);T&&(this.parsedKey=T),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case $u:return new Ds;case Gu:return new Sn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Ds.schema(T.algorithm||{}),new Sn({name:T.subjectPublicKey||""})]})}fromSchema(d){L(d,u_);const T=li(d,d,U.schema({names:{algorithm:{names:{blockName:$u}},subjectPublicKey:Gu}}));ye.assertSchema(T,this.className),this.algorithm=new Ds({schema:T.result.algorithm}),this.subjectPublicKey=T.result.subjectPublicKey}toSchema(){return new Dn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const d={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":d.kty="EC";break;case"1.2.840.113549.1.1.1":d.kty="RSA"}const T=this.parsedKey.toJSON();return Object.assign(d,T),d}fromJSON(d){if("kty"in d){switch(d.kty.toUpperCase()){case"EC":this.parsedKey=new Oo({json:d}),this.algorithm=new Ds({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Kt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new xc({json:d}),this.algorithm=new Ds({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new _t});break;default:throw new Error(`Invalid value for "kty" parameter: ${d.kty}`)}this.subjectPublicKey=new Sn({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(d,T=co(!0)){var j=this;return(0,t.A)(function*(){try{if(!d)throw new Error("Need to provide publicKey input parameter");const Oe=mt(yield T.exportKey("spki",d));try{j.fromSchema(Oe.result)}catch{throw new Error("Error during initializing object from schema")}}catch(_e){const Oe=_e instanceof Error?_e.message:`${_e}`;throw new Error(`Error during exporting public key: ${Oe}`)}})()}}return U.CLASS_NAME="PublicKeyInfo",U})();const Hu="version",Md="privateKey",lo="namedCurve",tc="publicKey",pg=[Hu,Md,lo,tc];let mg=(()=>{class U extends Me{constructor(d={}){super(),this.version=e(d,Hu,U.defaultValues(Hu)),this.privateKey=e(d,Md,U.defaultValues(Md)),lo in d&&(this.namedCurve=e(d,lo,U.defaultValues(lo))),tc in d&&(this.publicKey=e(d,tc,U.defaultValues(tc))),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Hu:return 1;case Md:return new Ot;case lo:return"";case tc:return new Oo;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case Hu:return T===U.defaultValues(d);case Md:return T.isEqual(U.defaultValues(d));case lo:return""===T;case tc:return Oo.compareWithDefault(lo,T.namedCurve)&&Oo.compareWithDefault("x",T.x)&&Oo.compareWithDefault("y",T.y);default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.version||""}),new Ot({name:T.privateKey||""}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Kt({name:T.namedCurve||""})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Sn({name:T.publicKey||""})]})]})}fromSchema(d){L(d,pg);const T=li(d,d,U.schema({names:{version:Hu,privateKey:Md,namedCurve:lo,publicKey:tc}}));if(ye.assertSchema(T,this.className),this.version=T.result.version.valueBlock.valueDec,this.privateKey=T.result.privateKey,lo in T.result&&(this.namedCurve=T.result.namedCurve.valueBlock.toString()),tc in T.result){const j={schema:T.result.publicKey.valueBlock.valueHex};lo in this&&(j.namedCurve=this.namedCurve),this.publicKey=new Oo(j)}}toSchema(){const d=[new zn({value:this.version}),this.privateKey];return this.namedCurve&&d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new Kt({value:this.namedCurve})]})),this.publicKey&&d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[new Sn({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Dn({value:d})}toJSON(){if(!this.namedCurve||U.compareWithDefault(lo,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');const d=Ka.find(this.namedCurve),T={crv:d?d.name:this.namedCurve,d:p.U$.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const j=this.publicKey.toJSON();T.x=j.x,T.y=j.y}return T}fromJSON(d){$.assert("json",d,"crv","d");let T=0;const j=Ka.find(d.crv);j&&(this.namedCurve=j.id,T=j.size);const _e=p.U$.FromBase64Url(d.d);if(_e.byteLength<T){const Oe=new ArrayBuffer(T),ze=new Uint8Array(Oe),nt=new Uint8Array(_e);ze.set(nt,1),this.privateKey=new Ot({valueHex:Oe})}else this.privateKey=new Ot({valueHex:_e.slice(0,T)});d.x&&d.y&&(this.publicKey=new Oo({json:d}))}}return U.CLASS_NAME="ECPrivateKey",U})();const Ku="prime",Wu="exponent",ha="coefficient",Fy=[Ku,Wu,ha];let wp=(()=>{class U extends Me{constructor(d={}){super(),this.prime=e(d,Ku,U.defaultValues(Ku)),this.exponent=e(d,Wu,U.defaultValues(Wu)),this.coefficient=e(d,ha,U.defaultValues(ha)),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ku:case Wu:case ha:return new zn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.prime||""}),new zn({name:T.exponent||""}),new zn({name:T.coefficient||""})]})}fromSchema(d){L(d,Fy);const T=li(d,d,U.schema({names:{prime:Ku,exponent:Wu,coefficient:ha}}));ye.assertSchema(T,this.className),this.prime=T.result.prime.convertFromDER(),this.exponent=T.result.exponent.convertFromDER(),this.coefficient=T.result.coefficient.convertFromDER()}toSchema(){return new Dn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:p.U$.ToBase64Url(this.prime.valueBlock.valueHexView),d:p.U$.ToBase64Url(this.exponent.valueBlock.valueHexView),t:p.U$.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(d){$.assert("json",d,"r","d","r"),this.prime=new zn({valueHex:p.U$.FromBase64Url(d.r)}),this.exponent=new zn({valueHex:p.U$.FromBase64Url(d.d)}),this.coefficient=new zn({valueHex:p.U$.FromBase64Url(d.t)})}}return U.CLASS_NAME="OtherPrimeInfo",U})();const Sf="version",Od="modulus",rl="publicExponent",nc="privateExponent",wh="prime1",xo="prime2",Pc="exponent1",Ef="exponent2",xd="coefficient",Fc="otherPrimeInfos",lu=[Sf,Od,rl,nc,wh,xo,Pc,Ef,xd,Fc];let gg=(()=>{class U extends Me{constructor(d={}){super(),this.version=e(d,Sf,U.defaultValues(Sf)),this.modulus=e(d,Od,U.defaultValues(Od)),this.publicExponent=e(d,rl,U.defaultValues(rl)),this.privateExponent=e(d,nc,U.defaultValues(nc)),this.prime1=e(d,wh,U.defaultValues(wh)),this.prime2=e(d,xo,U.defaultValues(xo)),this.exponent1=e(d,Pc,U.defaultValues(Pc)),this.exponent2=e(d,Ef,U.defaultValues(Ef)),this.coefficient=e(d,xd,U.defaultValues(xd)),Fc in d&&(this.otherPrimeInfos=e(d,Fc,U.defaultValues(Fc))),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Sf:return 0;case Od:case rl:case nc:case wh:case xo:case Pc:case Ef:case xd:return new zn;case Fc:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.version||""}),new zn({name:T.modulus||""}),new zn({name:T.publicExponent||""}),new zn({name:T.privateExponent||""}),new zn({name:T.prime1||""}),new zn({name:T.prime2||""}),new zn({name:T.exponent1||""}),new zn({name:T.exponent2||""}),new zn({name:T.coefficient||""}),new Dn({optional:!0,value:[new Di({name:T.otherPrimeInfosName||"",value:wp.schema(T.otherPrimeInfo||{})})]})]})}fromSchema(d){L(d,lu);const T=li(d,d,U.schema({names:{version:Sf,modulus:Od,publicExponent:rl,privateExponent:nc,prime1:wh,prime2:xo,exponent1:Pc,exponent2:Ef,coefficient:xd,otherPrimeInfo:{names:{blockName:Fc}}}}));ye.assertSchema(T,this.className),this.version=T.result.version.valueBlock.valueDec,this.modulus=T.result.modulus.convertFromDER(256),this.publicExponent=T.result.publicExponent,this.privateExponent=T.result.privateExponent.convertFromDER(256),this.prime1=T.result.prime1.convertFromDER(128),this.prime2=T.result.prime2.convertFromDER(128),this.exponent1=T.result.exponent1.convertFromDER(128),this.exponent2=T.result.exponent2.convertFromDER(128),this.coefficient=T.result.coefficient.convertFromDER(128),Fc in T.result&&(this.otherPrimeInfos=Array.from(T.result.otherPrimeInfos,j=>new wp({schema:j})))}toSchema(){const d=[];return d.push(new zn({value:this.version})),d.push(this.modulus.convertToDER()),d.push(this.publicExponent),d.push(this.privateExponent.convertToDER()),d.push(this.prime1.convertToDER()),d.push(this.prime2.convertToDER()),d.push(this.exponent1.convertToDER()),d.push(this.exponent2.convertToDER()),d.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&d.push(new Dn({value:Array.from(this.otherPrimeInfos,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={n:p.U$.ToBase64Url(this.modulus.valueBlock.valueHexView),e:p.U$.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:p.U$.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:p.U$.ToBase64Url(this.prime1.valueBlock.valueHexView),q:p.U$.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:p.U$.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:p.U$.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:p.U$.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(d.oth=Array.from(this.otherPrimeInfos,T=>T.toJSON())),d}fromJSON(d){$.assert("json",d,"n","e","d","p","q","dp","dq","qi"),this.modulus=new zn({valueHex:p.U$.FromBase64Url(d.n)}),this.publicExponent=new zn({valueHex:p.U$.FromBase64Url(d.e)}),this.privateExponent=new zn({valueHex:p.U$.FromBase64Url(d.d)}),this.prime1=new zn({valueHex:p.U$.FromBase64Url(d.p)}),this.prime2=new zn({valueHex:p.U$.FromBase64Url(d.q)}),this.exponent1=new zn({valueHex:p.U$.FromBase64Url(d.dp)}),this.exponent2=new zn({valueHex:p.U$.FromBase64Url(d.dq)}),this.coefficient=new zn({valueHex:p.U$.FromBase64Url(d.qi)}),d.oth&&(this.otherPrimeInfos=Array.from(d.oth,T=>new wp({json:T})))}}return U.CLASS_NAME="RSAPrivateKey",U})();const Ih="version",al="privateKeyAlgorithm",Bc="privateKey",cu="attributes",Rh="parsedKey",By=[Ih,al,Bc,cu];let kd=(()=>{class U extends Me{constructor(d={}){super(),this.version=e(d,Ih,U.defaultValues(Ih)),this.privateKeyAlgorithm=e(d,al,U.defaultValues(al)),this.privateKey=e(d,Bc,U.defaultValues(Bc)),cu in d&&(this.attributes=e(d,cu,U.defaultValues(cu))),Rh in d&&(this.parsedKey=e(d,Rh,U.defaultValues(Rh))),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ih:return 0;case al:return new Ds;case Bc:return new Ot;case cu:return[];case Rh:return{};default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.version||""}),Ds.schema(T.privateKeyAlgorithm||{}),new Ot({name:T.privateKey||""}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.attributes||"",value:me.schema()})]})]})}fromSchema(d){L(d,By);const T=li(d,d,U.schema({names:{version:Ih,privateKeyAlgorithm:{names:{blockName:al}},privateKey:Bc,attributes:cu}}));switch(ye.assertSchema(T,this.className),this.version=T.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Ds({schema:T.result.privateKeyAlgorithm}),this.privateKey=T.result.privateKey,cu in T.result&&(this.attributes=Array.from(T.result.attributes,j=>new me({schema:j}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const j=mt(this.privateKey.valueBlock.valueHexView);-1!==j.offset&&(this.parsedKey=new gg({schema:j.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Kt){const j=mt(this.privateKey.valueBlock.valueHexView);-1!==j.offset&&(this.parsedKey=new mg({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:j.result}))}}}toSchema(){const d=[new zn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,T=>T.toSchema())})),new Dn({value:d})}toJSON(){if(!this.parsedKey){const j={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&(j.attributes=Array.from(this.attributes,_e=>_e.toJSON())),j}const d={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":d.kty="EC";break;case"1.2.840.113549.1.1.1":d.kty="RSA"}const T=this.parsedKey.toJSON();return Object.assign(d,T),d}fromJSON(d){if("kty"in d){switch(d.kty.toUpperCase()){case"EC":this.parsedKey=new mg({json:d}),this.privateKeyAlgorithm=new Ds({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Kt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new gg({json:d}),this.privateKeyAlgorithm=new Ds({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new _t});break;default:throw new Error(`Invalid value for "kty" parameter: ${d.kty}`)}this.privateKey=new Ot({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}return U.CLASS_NAME="PrivateKeyInfo",U})();const Vc="contentType",Yu="contentEncryptionAlgorithm",cr="encryptedContent",d_=[Vc,Yu,cr];let Tf=(()=>{class U extends Me{constructor(d={}){if(super(),this.contentType=e(d,Vc,U.defaultValues(Vc)),this.contentEncryptionAlgorithm=e(d,Yu,U.defaultValues(Yu)),cr in d&&d.encryptedContent&&(this.encryptedContent=d.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed&&!d.disableSplit)){const T=new Ot({idBlock:{isConstructed:!0},isConstructed:!0});let j=0;const _e=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let Oe=_e.byteLength;for(;Oe>0;){const ze=new Uint8Array(_e,j,j+1024>_e.byteLength?_e.byteLength-j:1024),nt=new ArrayBuffer(ze.length),bt=new Uint8Array(nt);for(let $t=0;$t<bt.length;$t++)bt[$t]=ze[$t];T.valueBlock.value.push(new Ot({valueHex:nt})),Oe-=ze.length,j+=ze.length}this.encryptedContent=T}d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Vc:return"";case Yu:return new Ds;case cr:return new Ot;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case Vc:return""===T;case Yu:return""===T.algorithmId&&!("algorithmParams"in T);case cr:return T.isEqual(U.defaultValues(cr));default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.contentType||""}),Ds.schema(T.contentEncryptionAlgorithm||{}),new Wi({value:[new P({name:T.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Di({value:new Ot})]}),new en({name:T.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(d){L(d,d_);const T=li(d,d,U.schema({names:{contentType:Vc,contentEncryptionAlgorithm:{names:{blockName:Yu}},encryptedContent:cr}}));ye.assertSchema(T,this.className),this.contentType=T.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Ds({schema:T.result.contentEncryptionAlgorithm}),cr in T.result&&(this.encryptedContent=T.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const d={isIndefiniteForm:!1},T=[];if(T.push(new Kt({value:this.contentType})),T.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){d.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const j=this.encryptedContent;j.idBlock.tagClass=3,j.idBlock.tagNumber=0,j.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,T.push(j)}return new Dn({lenBlock:d,value:T})}toJSON(){const d={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(d.encryptedContent=this.encryptedContent.toJSON()),d}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return Ot.prototype.getValue.call(this.encryptedContent)}}return U.CLASS_NAME="EncryptedContentInfo",U})();const uu="hashAlgorithm",ic="maskGenAlgorithm",Lc="saltLength",Uc="trailerField",Rp=[uu,ic,Lc,Uc];let Ap=(()=>{class U extends Me{constructor(d={}){super(),this.hashAlgorithm=e(d,uu,U.defaultValues(uu)),this.maskGenAlgorithm=e(d,ic,U.defaultValues(ic)),this.saltLength=e(d,Lc,U.defaultValues(Lc)),this.trailerField=e(d,Uc,U.defaultValues(Uc)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case uu:return new Ds({algorithmId:"1.3.14.3.2.26",algorithmParams:new _t});case ic:return new Ds({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Ds({algorithmId:"1.3.14.3.2.26",algorithmParams:new _t}).toSchema()});case Lc:return 20;case Uc:return 1;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Ds.schema(T.hashAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Ds.schema(T.maskGenAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new zn({name:T.saltLength||""})]}),new P({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new zn({name:T.trailerField||""})]})]})}fromSchema(d){L(d,Rp);const T=li(d,d,U.schema({names:{hashAlgorithm:{names:{blockName:uu}},maskGenAlgorithm:{names:{blockName:ic}},saltLength:Lc,trailerField:Uc}}));ye.assertSchema(T,this.className),uu in T.result&&(this.hashAlgorithm=new Ds({schema:T.result.hashAlgorithm})),ic in T.result&&(this.maskGenAlgorithm=new Ds({schema:T.result.maskGenAlgorithm})),Lc in T.result&&(this.saltLength=T.result.saltLength.valueBlock.valueDec),Uc in T.result&&(this.trailerField=T.result.trailerField.valueBlock.valueDec)}toSchema(){const d=[];return this.hashAlgorithm.isEqual(U.defaultValues(uu))||d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(U.defaultValues(ic))||d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==U.defaultValues(Lc)&&d.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[new zn({value:this.saltLength})]})),this.trailerField!==U.defaultValues(Uc)&&d.push(new P({idBlock:{tagClass:3,tagNumber:3},value:[new zn({value:this.trailerField})]})),new Dn({value:d})}toJSON(){const d={};return this.hashAlgorithm.isEqual(U.defaultValues(uu))||(d.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(U.defaultValues(ic))||(d.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==U.defaultValues(Lc)&&(d.saltLength=this.saltLength),this.trailerField!==U.defaultValues(Uc)&&(d.trailerField=this.trailerField),d}}return U.CLASS_NAME="RSASSAPSSParams",U})();const zu="salt",Pd="iterationCount",Pl="keyLength",Wa="prf",h_=[zu,Pd,Pl,Wa];let _g=(()=>{class U extends Me{constructor(d={}){super(),this.salt=e(d,zu,U.defaultValues(zu)),this.iterationCount=e(d,Pd,U.defaultValues(Pd)),Pl in d&&(this.keyLength=e(d,Pl,U.defaultValues(Pl))),Wa in d&&(this.prf=e(d,Wa,U.defaultValues(Wa))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case zu:return{};case Pd:return-1;case Pl:return 0;case Wa:return new Ds({algorithmId:"1.3.14.3.2.26",algorithmParams:new _t});default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wi({value:[new Ot({name:T.saltPrimitive||""}),Ds.schema(T.saltConstructed||{})]}),new zn({name:T.iterationCount||""}),new zn({name:T.keyLength||"",optional:!0}),Ds.schema(T.prf||{names:{optional:!0}})]})}fromSchema(d){L(d,h_);const T=li(d,d,U.schema({names:{saltPrimitive:zu,saltConstructed:{names:{blockName:zu}},iterationCount:Pd,keyLength:Pl,prf:{names:{blockName:Wa,optional:!0}}}}));ye.assertSchema(T,this.className),this.salt=T.result.salt,this.iterationCount=T.result.iterationCount.valueBlock.valueDec,Pl in T.result&&(this.keyLength=T.result.keyLength.valueBlock.valueDec),Wa in T.result&&(this.prf=new Ds({schema:T.result.prf}))}toSchema(){const d=[];return d.push(this.salt),d.push(new zn({value:this.iterationCount})),Pl in this&&U.defaultValues(Pl)!==this.keyLength&&d.push(new zn({value:this.keyLength})),this.prf&&!1===U.defaultValues(Wa).isEqual(this.prf)&&d.push(this.prf.toSchema()),new Dn({value:d})}toJSON(){const d={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return Pl in this&&U.defaultValues(Pl)!==this.keyLength&&(d.keyLength=this.keyLength),this.prf&&!1===U.defaultValues(Wa).isEqual(this.prf)&&(d.prf=this.prf.toJSON()),d}}return U.CLASS_NAME="PBKDF2Params",U})();const wf="keyDerivationFunc",If="encryptionScheme",vg=[wf,If];let yg=(()=>{class U extends Me{constructor(d={}){super(),this.keyDerivationFunc=e(d,wf,U.defaultValues(wf)),this.encryptionScheme=e(d,If,U.defaultValues(If)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case wf:case If:return new Ds;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Ds.schema(T.keyDerivationFunc||{}),Ds.schema(T.encryptionScheme||{})]})}fromSchema(d){L(d,vg);const T=li(d,d,U.schema({names:{keyDerivationFunc:{names:{blockName:wf}},encryptionScheme:{names:{blockName:If}}}}));ye.assertSchema(T,this.className),this.keyDerivationFunc=new Ds({schema:T.result.keyDerivationFunc}),this.encryptionScheme=new Ds({schema:T.result.encryptionScheme})}toSchema(){return new Dn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}return U.CLASS_NAME="PBES2Params",U})();class f_{constructor(G){this.crypto=G.crypto,this.subtle="webkitSubtle"in G.crypto?G.crypto.webkitSubtle:G.crypto.subtle,this.name=e(G,"name","")}encrypt(...G){var d=this;return(0,t.A)(function*(){return d.subtle.encrypt(...G)})()}decrypt(...G){var d=this;return(0,t.A)(function*(){return d.subtle.decrypt(...G)})()}sign(...G){return this.subtle.sign(...G)}verify(...G){var d=this;return(0,t.A)(function*(){return d.subtle.verify(...G)})()}digest(...G){var d=this;return(0,t.A)(function*(){return d.subtle.digest(...G)})()}generateKey(...G){var d=this;return(0,t.A)(function*(){return d.subtle.generateKey(...G)})()}deriveKey(...G){var d=this;return(0,t.A)(function*(){return d.subtle.deriveKey(...G)})()}deriveBits(...G){var d=this;return(0,t.A)(function*(){return d.subtle.deriveBits(...G)})()}wrapKey(...G){var d=this;return(0,t.A)(function*(){return d.subtle.wrapKey(...G)})()}unwrapKey(...G){var d=this;return(0,t.A)(function*(){return d.subtle.unwrapKey(...G)})()}exportKey(...G){return this.subtle.exportKey(...G)}importKey(...G){return this.subtle.importKey(...G)}getRandomValues(G){return this.crypto.getRandomValues(G)}}function bg(U,G,d,T,j){return du.apply(this,arguments)}function du(){return(du=(0,t.A)(function*(U,G,d,T,j){let _e,Oe,ze;switch(U.toUpperCase()){case"SHA-1":_e=20,Oe=64,ze=Zo;break;case"SHA-256":_e=32,Oe=64,ze=Hi;break;case"SHA-384":_e=48,Oe=128,ze=Mt;break;case"SHA-512":_e=64,Oe=128,ze=we;break;default:throw new Error("Unsupported hashing algorithm")}const nt=new Uint8Array(d);let bt=(new TextDecoder).decode(d);(new TextEncoder).encode(bt).some((Pi,Oi)=>Pi!==nt[Oi])&&(bt=String.fromCharCode(...nt));const Zt=new Uint8Array(2*bt.length+2),Rn=new DataView(Zt.buffer);for(let Pi=0;Pi<bt.length;Pi++)Rn.setUint16(2*Pi,bt.charCodeAt(Pi),!1);Rn.setUint16(2*bt.length,0,!1);const dn=new Uint8Array(Oe).fill(3),di=new Uint8Array(T),ki=new Uint8Array(Oe*Math.ceil(di.length/Oe)).map((Pi,Oi)=>di[Oi%di.length]),wi=new Uint8Array(Oe*Math.ceil(Zt.length/Oe)).map((Pi,Oi)=>Zt[Oi%Zt.length]);let ui=new Uint8Array(ki.length+wi.length);ui.set(ki),ui.set(wi,ki.length);const gs=Math.ceil((G>>3)/_e),fi=[];for(let Pi=0;Pi<gs;Pi++){let Oi=new Uint8Array(dn.length+ui.length);Oi.set(dn),Oi.set(ui,dn.length);for(let Ms=0;Ms<j;Ms++)Oi=ze(Oi);const is=new Uint8Array(Oe).map((Ms,sa)=>Oi[sa%Oi.length]),Rs=Math.ceil(di.length/Oe)+Math.ceil(Zt.length/Oe),Ss=[];for(let Ms=0;Ms<Rs;Ms++){const sa=Array.from(ui.slice(Ms*Oe,(Ms+1)*Oe));let bo=511;for(let ur=is.length-1;ur>=0;ur--)bo>>=8,bo+=is[ur]+(sa[ur]||0),sa[ur]=255&bo;Ss.push(...sa)}ui=new Uint8Array(Ss),fi.push(...Oi)}return new Uint8Array(fi.slice(0,G>>3)).buffer})).apply(this,arguments)}function Xu(U){const G="string"==typeof U?{name:U}:U;return"hash"in G?{...G,hash:Xu(G.hash)}:G}class Rf extends f_{importKey(G,d,T,j,_e){var Oe=this;return(0,t.A)(function*(){var ze,nt,bt,$t,Zt,Rn;let dn={};const di=Xu(T);switch(G.toLowerCase()){case"raw":return Oe.subtle.importKey("raw",d,T,j,_e);case"spki":{const ki=mt(p._H.toArrayBuffer(d));ye.assert(ki,"keyData");const wi=new kc;try{wi.fromSchema(ki.result)}catch{throw new Se("Incorrect keyData")}switch(di.name.toUpperCase()){case"RSA-PSS":if(!di.hash)throw new $("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(di.hash.name.toUpperCase()){case"SHA-1":dn.alg="PS1";break;case"SHA-256":dn.alg="PS256";break;case"SHA-384":dn.alg="PS384";break;case"SHA-512":dn.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${di.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(_e=["verify"],dn.kty="RSA",dn.ext=j,dn.key_ops=_e,"1.2.840.113549.1.1.1"!==wi.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${wi.algorithm.algorithmId}`);if(!dn.alg){if(!di.hash)throw new $("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(di.hash.name.toUpperCase()){case"SHA-1":dn.alg="RS1";break;case"SHA-256":dn.alg="RS256";break;case"SHA-384":dn.alg="RS384";break;case"SHA-512":dn.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${di.hash.name.toUpperCase()}`)}}const ui=wi.toJSON();Object.assign(dn,ui)}break;case"ECDSA":_e=["verify"];case"ECDH":{if(dn={kty:"EC",ext:j,key_ops:_e},"1.2.840.10045.2.1"!==wi.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${wi.algorithm.algorithmId}`);const ui=wi.toJSON();Object.assign(dn,ui)}break;case"RSA-OAEP":{if(dn.kty="RSA",dn.ext=j,dn.key_ops=_e,"safari"===Oe.name.toLowerCase())dn.alg="RSA-OAEP";else{if(!di.hash)throw new $("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(di.hash.name.toUpperCase()){case"SHA-1":dn.alg="RSA-OAEP";break;case"SHA-256":dn.alg="RSA-OAEP-256";break;case"SHA-384":dn.alg="RSA-OAEP-384";break;case"SHA-512":dn.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${di.hash.name.toUpperCase()}`)}}const ui=wi.toJSON();Object.assign(dn,ui)}break;case"RSAES-PKCS1-V1_5":{dn.kty="RSA",dn.ext=j,dn.key_ops=_e,dn.alg="PS1";const ui=wi.toJSON();Object.assign(dn,ui)}break;default:throw new Error(`Incorrect algorithm name: ${di.name.toUpperCase()}`)}}break;case"pkcs8":{const ki=new kd,wi=mt(p._H.toArrayBuffer(d));ye.assert(wi,"keyData");try{ki.fromSchema(wi.result)}catch{throw new Error("Incorrect keyData")}if(!ki.parsedKey)throw new Error("Incorrect keyData");switch(di.name.toUpperCase()){case"RSA-PSS":switch(null===(ze=di.hash)||void 0===ze?void 0:ze.name.toUpperCase()){case"SHA-1":dn.alg="PS1";break;case"SHA-256":dn.alg="PS256";break;case"SHA-384":dn.alg="PS384";break;case"SHA-512":dn.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(nt=di.hash)||void 0===nt?void 0:nt.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(_e=["sign"],dn.kty="RSA",dn.ext=j,dn.key_ops=_e,"1.2.840.113549.1.1.1"!==ki.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect private key algorithm: ${ki.privateKeyAlgorithm.algorithmId}`);if(!("alg"in dn))switch(null===(bt=di.hash)||void 0===bt?void 0:bt.name.toUpperCase()){case"SHA-1":dn.alg="RS1";break;case"SHA-256":dn.alg="RS256";break;case"SHA-384":dn.alg="RS384";break;case"SHA-512":dn.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===($t=di.hash)||void 0===$t?void 0:$t.name.toUpperCase()}`)}const ui=ki.toJSON();Object.assign(dn,ui)}break;case"ECDSA":_e=["sign"];case"ECDH":{if(dn={kty:"EC",ext:j,key_ops:_e},"1.2.840.10045.2.1"!==ki.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect algorithm: ${ki.privateKeyAlgorithm.algorithmId}`);const ui=ki.toJSON();Object.assign(dn,ui)}break;case"RSA-OAEP":{if(dn.kty="RSA",dn.ext=j,dn.key_ops=_e,"safari"===Oe.name.toLowerCase())dn.alg="RSA-OAEP";else switch(null===(Zt=di.hash)||void 0===Zt?void 0:Zt.name.toUpperCase()){case"SHA-1":dn.alg="RSA-OAEP";break;case"SHA-256":dn.alg="RSA-OAEP-256";break;case"SHA-384":dn.alg="RSA-OAEP-384";break;case"SHA-512":dn.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(Rn=di.hash)||void 0===Rn?void 0:Rn.name.toUpperCase()}`)}const ui=ki.toJSON();Object.assign(dn,ui)}break;case"RSAES-PKCS1-V1_5":{_e=["decrypt"],dn.kty="RSA",dn.ext=j,dn.key_ops=_e,dn.alg="PS1";const ui=ki.toJSON();Object.assign(dn,ui)}break;default:throw new Error(`Incorrect algorithm name: ${di.name.toUpperCase()}`)}}break;case"jwk":dn=d;break;default:throw new Error(`Incorrect format: ${G}`)}if("safari"===Oe.name.toLowerCase())try{return Oe.subtle.importKey("jwk",z(JSON.stringify(dn)),T,j,_e)}catch{return Oe.subtle.importKey("jwk",dn,T,j,_e)}return Oe.subtle.importKey("jwk",dn,T,j,_e)})()}exportKey(G,d){var T=this;return(0,t.A)(function*(){let j=yield T.subtle.exportKey("jwk",d);switch("safari"===T.name.toLowerCase()&&j instanceof ArrayBuffer&&(j=JSON.parse(y(j))),G.toLowerCase()){case"raw":return T.subtle.exportKey("raw",d);case"spki":{const _e=new kc;try{_e.fromJSON(j)}catch{throw new Error("Incorrect key data")}return _e.toSchema().toBER(!1)}case"pkcs8":{const _e=new kd;try{_e.fromJSON(j)}catch{throw new Error("Incorrect key data")}return _e.toSchema().toBER(!1)}case"jwk":return j;default:throw new Error(`Incorrect format: ${G}`)}})()}convert(G,d,T,j,_e,Oe){var ze=this;return(0,t.A)(function*(){if(G.toLowerCase()===d.toLowerCase())return T;const nt=yield ze.importKey(G,T,j,_e,Oe);return ze.exportKey(d,nt)})()}getAlgorithmByOID(G,d=!1,T){switch(G){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(d)throw new Error(`Unsupported algorithm identifier ${T?`for ${T} `:""}: ${G}`);return{}}getOIDByAlgorithm(G,d=!1,T){let j="";switch(G.name.toUpperCase()){case"RSAES-PKCS1-V1_5":j="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(G.hash.name.toUpperCase()){case"SHA-1":j="1.2.840.113549.1.1.5";break;case"SHA-256":j="1.2.840.113549.1.1.11";break;case"SHA-384":j="1.2.840.113549.1.1.12";break;case"SHA-512":j="1.2.840.113549.1.1.13"}break;case"RSA-PSS":j="1.2.840.113549.1.1.10";break;case"RSA-OAEP":j="1.2.840.113549.1.1.7";break;case"ECDSA":switch(G.hash.name.toUpperCase()){case"SHA-1":j="1.2.840.10045.4.1";break;case"SHA-256":j="1.2.840.10045.4.3.2";break;case"SHA-384":j="1.2.840.10045.4.3.3";break;case"SHA-512":j="1.2.840.10045.4.3.4"}break;case"ECDH":switch(G.kdf.toUpperCase()){case"SHA-1":j="1.3.133.16.840.63.0.2";break;case"SHA-256":j="1.3.132.1.11.1";break;case"SHA-384":j="1.3.132.1.11.2";break;case"SHA-512":j="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(G.length){case 128:j="2.16.840.1.101.3.4.1.2";break;case 192:j="2.16.840.1.101.3.4.1.22";break;case 256:j="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(G.length){case 128:j="2.16.840.1.101.3.4.1.6";break;case 192:j="2.16.840.1.101.3.4.1.26";break;case 256:j="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(G.length){case 128:j="2.16.840.1.101.3.4.1.4";break;case 192:j="2.16.840.1.101.3.4.1.24";break;case 256:j="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(G.length){case 128:j="2.16.840.1.101.3.4.1.5";break;case 192:j="2.16.840.1.101.3.4.1.25";break;case 256:j="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(G.hash.name.toUpperCase()){case"SHA-1":j="1.2.840.113549.2.7";break;case"SHA-256":j="1.2.840.113549.2.9";break;case"SHA-384":j="1.2.840.113549.2.10";break;case"SHA-512":j="1.2.840.113549.2.11"}break;case"DH":j="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":j="1.3.14.3.2.26";break;case"SHA-256":j="2.16.840.1.101.3.4.2.1";break;case"SHA-384":j="2.16.840.1.101.3.4.2.2";break;case"SHA-512":j="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":j="1.2.840.113549.1.5.12";break;case"P-256":j="1.2.840.10045.3.1.7";break;case"P-384":j="1.3.132.0.34";break;case"P-521":j="1.3.132.0.35"}if(!j&&d)throw new Error(`Unsupported algorithm ${T?`for ${T} `:""}: ${G.name}`);return j}getAlgorithmParameters(G,d){let T={algorithm:{},usages:[]};switch(G.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(d.toLowerCase()){case"generatekey":T={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":T={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(d.toLowerCase()){case"sign":case"verify":T={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":T={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":T={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(d.toLowerCase()){case"encrypt":case"decrypt":T={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":T={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":T={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(d.toLowerCase()){case"generatekey":T={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":T={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":T={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(d.toLowerCase()){case"exportkey":case"importkey":case"generatekey":T={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":T={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":T={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":T={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":T={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":T={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(d.toLowerCase()){case"sign":case"verify":T={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==d.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};T={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==d.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};T={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return T}getHashAlgorithm(G){let d="";switch(G.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":d="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":d="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":d="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":d="SHA-512";break;case"1.2.840.113549.1.1.10":try{const T=new Ap({schema:G.algorithmParams});if(T.hashAlgorithm){const j=this.getAlgorithmByOID(T.hashAlgorithm.algorithmId);if(!("name"in j))return"";d=j.name}else d="SHA-1"}catch{}}return d}encryptEncryptedContentInfo(G){var d=this;return(0,t.A)(function*(){$.assert(G,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const T=d.getOIDByAlgorithm(G.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),j=d.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),_e=d.getOIDByAlgorithm({name:"HMAC",hash:{name:G.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),Oe=new ArrayBuffer(16),ze=new Uint8Array(Oe);d.getRandomValues(ze);const nt=new ArrayBuffer(64),bt=new Uint8Array(nt);d.getRandomValues(bt);const $t=new Uint8Array(G.contentToEncrypt),Zt=new _g({salt:new Ot({valueHex:nt}),iterationCount:G.iterationCount,prf:new Ds({algorithmId:_e,algorithmParams:new _t})}),Rn=new Uint8Array(G.password),dn=yield d.importKey("raw",Rn,"PBKDF2",!1,["deriveKey"]),di=yield d.deriveKey({name:"PBKDF2",hash:{name:G.hmacHashAlgorithm},salt:bt,iterations:G.iterationCount},dn,G.contentEncryptionAlgorithm,!1,["encrypt"]),ki=yield d.encrypt({name:G.contentEncryptionAlgorithm.name,iv:ze},di,$t),wi=new yg({keyDerivationFunc:new Ds({algorithmId:j,algorithmParams:Zt.toSchema()}),encryptionScheme:new Ds({algorithmId:T,algorithmParams:new Ot({valueHex:Oe})})});return new Tf({contentType:G.contentType,contentEncryptionAlgorithm:new Ds({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:wi.toSchema()}),encryptedContent:new Ot({valueHex:ki})})})()}decryptEncryptedContentInfo(G){var d=this;return(0,t.A)(function*(){if($.assert(G,"password","encryptedContentInfo"),"1.2.840.113549.1.5.13"!==G.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)throw new Error(`Unknown "contentEncryptionAlgorithm": ${G.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let T,j;try{T=new yg({schema:G.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbes2Parameters"')}try{j=new _g({schema:T.keyDerivationFunc.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbkdf2Params"')}const _e=d.getAlgorithmByOID(T.encryptionScheme.algorithmId,!0),ze=new Uint8Array(T.encryptionScheme.algorithmParams.valueBlock.valueHex),bt=new Uint8Array(j.salt.valueBlock.valueHex),$t=j.iterationCount;let Zt="SHA-1";j.prf&&(Zt=d.getAlgorithmByOID(j.prf.algorithmId,!0).hash.name);const Rn=yield d.importKey("raw",G.password,"PBKDF2",!1,["deriveKey"]),dn=yield d.deriveKey({name:"PBKDF2",hash:{name:Zt},salt:bt,iterations:$t},Rn,_e,!1,["decrypt"]),di=G.encryptedContentInfo.getEncryptedContent();return d.decrypt({name:_e.name,iv:ze},dn,di)})()}stampDataWithPassword(G){var d=this;return(0,t.A)(function*(){if(!(G instanceof Object))throw new Error('Parameters must have type "Object"');let T;switch($.assert(G,"password","hashAlgorithm","iterationCount","salt","contentToStamp"),G.hashAlgorithm.toLowerCase()){case"sha-1":T=160;break;case"sha-256":T=256;break;case"sha-384":T=384;break;case"sha-512":T=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${G.hashAlgorithm}`)}const j={name:"HMAC",length:T,hash:{name:G.hashAlgorithm}},_e=yield bg(G.hashAlgorithm,T,G.password,G.salt,G.iterationCount),Oe=yield d.importKey("raw",new Uint8Array(_e),j,!1,["sign"]);return d.sign(j,Oe,new Uint8Array(G.contentToStamp))})()}verifyDataStampedWithPassword(G){var d=this;return(0,t.A)(function*(){$.assert(G,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let T=0;switch(G.hashAlgorithm.toLowerCase()){case"sha-1":T=160;break;case"sha-256":T=256;break;case"sha-384":T=384;break;case"sha-512":T=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${G.hashAlgorithm}`)}const j={name:"HMAC",length:T,hash:{name:G.hashAlgorithm}},_e=yield bg(G.hashAlgorithm,T,G.password,G.salt,G.iterationCount),Oe=yield d.importKey("raw",new Uint8Array(_e),j,!1,["verify"]);return d.verify(j,Oe,new Uint8Array(G.signatureToVerify),new Uint8Array(G.contentToVerify))})()}getSignatureParameters(G,d="SHA-1"){var T=this;return(0,t.A)(function*(){T.getOIDByAlgorithm({name:d},!0,"hashAlgorithm");const j=new Ds,_e=T.getAlgorithmParameters(G.algorithm.name,"sign");if(!Object.keys(_e.algorithm).length)throw new Error("Parameter 'algorithm' is empty");const Oe=_e.algorithm;switch(Oe.hash.name="hash"in G.algorithm&&G.algorithm.hash&&G.algorithm.hash.name?G.algorithm.hash.name:d,G.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":j.algorithmId=T.getOIDByAlgorithm(Oe,!0);break;case"RSA-PSS":{switch(Oe.hash.name.toUpperCase()){case"SHA-256":Oe.saltLength=32;break;case"SHA-384":Oe.saltLength=48;break;case"SHA-512":Oe.saltLength=64}const ze={};if("SHA-1"!==Oe.hash.name.toUpperCase()){const bt=T.getOIDByAlgorithm({name:Oe.hash.name},!0,"hashAlgorithm");ze.hashAlgorithm=new Ds({algorithmId:bt,algorithmParams:new _t}),ze.maskGenAlgorithm=new Ds({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:ze.hashAlgorithm.toSchema()})}20!==Oe.saltLength&&(ze.saltLength=Oe.saltLength);const nt=new Ap(ze);j.algorithmId="1.2.840.113549.1.1.10",j.algorithmParams=nt.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${G.algorithm.name}`)}return{signatureAlgorithm:j,parameters:_e}})()}signWithPrivateKey(G,d,T){var j=this;return(0,t.A)(function*(){const _e=yield j.sign(T.algorithm,d,G);return"ECDSA"===T.algorithm.name?function m_(U){if(U.byteLength%2!=0)return es;const G=U.byteLength/2,d=new ArrayBuffer(G);new Uint8Array(d).set(new Uint8Array(U,0,G));const j=new zn({valueHex:d}),_e=new ArrayBuffer(G);new Uint8Array(_e).set(new Uint8Array(U,G,G));const ze=new zn({valueHex:_e});return new Dn({value:[j.convertToDER(),ze.convertToDER()]}).toBER(!1)}(_e):_e})()}fillPublicKeyParameters(G,d){const T={},j=this.getHashAlgorithm(d);if(""===j)throw new Error(`Unsupported signature algorithm: ${d.algorithmId}`);let _e;_e="1.2.840.113549.1.1.10"===d.algorithmId?d.algorithmId:G.algorithm.algorithmId;const Oe=this.getAlgorithmByOID(_e,!0);if(T.algorithm=this.getAlgorithmParameters(Oe.name,"importKey"),"hash"in T.algorithm.algorithm&&(T.algorithm.algorithm.hash.name=j),"ECDSA"===Oe.name){const ze=G.algorithm;if(!ze.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");const nt=ze.algorithmParams;if("idBlock"in ze.algorithmParams&&(1!==nt.idBlock.tagClass||6!==nt.idBlock.tagNumber))throw new Error("Incorrect type for ECDSA public key parameters");const bt=this.getAlgorithmByOID(nt.valueBlock.toString(),!0);T.algorithm.algorithm.namedCurve=bt.name}return T}getPublicKey(G,d,T){var j=this;return(0,t.A)(function*(){T||(T=j.fillPublicKeyParameters(G,d));const _e=G.toSchema().toBER(!1);return j.importKey("spki",_e,T.algorithm.algorithm,!0,T.algorithm.usages)})()}verifyWithPublicKey(G,d,T,j,_e){var Oe=this;return(0,t.A)(function*(){let ze;if(_e){const $t={};let Zt;Zt="1.2.840.113549.1.1.10"===j.algorithmId?j.algorithmId:T.algorithm.algorithmId;const Rn=Oe.getAlgorithmByOID(Zt,!0);if($t.algorithm=Oe.getAlgorithmParameters(Rn.name,"importKey"),"hash"in $t.algorithm.algorithm&&($t.algorithm.algorithm.hash.name=_e),"ECDSA"===Rn.name){let dn=!1;if("algorithmParams"in T.algorithm&&"idBlock"in T.algorithm.algorithmParams&&1===T.algorithm.algorithmParams.idBlock.tagClass&&6===T.algorithm.algorithmParams.idBlock.tagNumber&&(dn=!0),!1===dn)throw new Error("Incorrect type for ECDSA public key parameters");const di=Oe.getAlgorithmByOID(T.algorithm.algorithmParams.valueBlock.toString(),!0);$t.algorithm.algorithm.namedCurve=di.name}ze=yield Oe.getPublicKey(T,null,$t)}else{if(!(_e=Oe.getHashAlgorithm(j)))throw new Error(`Unsupported signature algorithm: ${j.algorithmId}`);ze=yield Oe.getPublicKey(T,j)}const nt=Oe.getAlgorithmParameters(ze.algorithm.name,"verify");"hash"in nt.algorithm&&(nt.algorithm.hash.name=_e);let bt=d.valueBlock.valueHexView;if("ECDSA"===ze.algorithm.name){const $t=Ka.find(ze.algorithm.namedCurve);if(!$t)throw new Error("Unsupported named curve in use");const Zt=mt(bt);ye.assert(Zt,"Signature value"),bt=function Np(U,G){if(!(U instanceof Dn&&2===U.valueBlock.value.length&&U.valueBlock.value[0]instanceof zn&&U.valueBlock.value[1]instanceof zn))return es;const d=U.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,T=U.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,j=new Uint8Array(2*G);return j.set(d,G-d.byteLength),j.set(T,2*G-T.byteLength),j.buffer}(Zt.result,$t.size)}if("RSA-PSS"===ze.algorithm.name){const $t=new Ap({schema:j.algorithmParams});nt.algorithm.saltLength="saltLength"in $t?$t.saltLength:20;let Zt="SHA-1";"hashAlgorithm"in $t&&(Zt=Oe.getAlgorithmByOID($t.hashAlgorithm.algorithmId,!0).name),nt.algorithm.hash.name=Zt}return Oe.verify(nt.algorithm,ze,bt,G)})()}}let Cg={name:"none",crypto:null};function p_(U){return!(!U||"object"!=typeof U||!("crypto"in U))}function Fd(U,...G){let d=null;if(G.length<2)d=G.length?G[0]:typeof self<"u"&&self.crypto?new Rf({name:"browser",crypto:self.crypto}):null;else{const T=G[0],j=G[1];p_(j)?d=j:p_(T)?d=T:"subtle"in T&&"getRandomValues"in T&&(d=new Rf({crypto:T}))}if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:U,crypto:d}}else Cg={name:U,crypto:d}}function co(U=!1){const G=function Dp(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let U;try{U=global[process.pid].pkijs.engine}catch{throw new Error("Please call 'setEngine' before call to 'getEngine'")}return U}return Cg}();if(!G.crypto&&U)throw new Error("Unable to create WebCrypto object");return G.crypto}const Op="version",xp="logID",kp="extensions",Mf="timestamp",Dh="hashAlgorithm",Pp="signatureAlgorithm",Fp="signature",Bp="anonymous";let Tg=(()=>{class U extends Me{constructor(d={}){super(),this.version=e(d,Op,U.defaultValues(Op)),this.logID=e(d,xp,U.defaultValues(xp)),this.timestamp=e(d,Mf,U.defaultValues(Mf)),this.extensions=e(d,kp,U.defaultValues(kp)),this.hashAlgorithm=e(d,Dh,U.defaultValues(Dh)),this.signatureAlgorithm=e(d,Pp,U.defaultValues(Pp)),this.signature=e(d,Fp,U.defaultValues(Fp)),"stream"in d&&d.stream&&this.fromStream(d.stream),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Op:return 0;case xp:case kp:return es;case Mf:return new Date(0);case Dh:case Pp:return"";case Fp:return new Fn;default:return super.defaultValues(d)}}fromSchema(d){if(!(d instanceof Vi))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const T=new Bs({stream:new Yi({buffer:d.data})});this.fromStream(T)}fromStream(d){const T=d.getUint16();if(this.version=d.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(d.getBlock(32)).buffer.slice(0),this.timestamp=new Date(D(new Uint8Array(d.getBlock(8)),8));const j=d.getUint16();switch(this.extensions=new Uint8Array(d.getBlock(j)).buffer.slice(0),d.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(d.getBlock(1)[0]){case 0:this.signatureAlgorithm=Bp;break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const _e=d.getUint16(),ze=mt(new Uint8Array(d.getBlock(_e)).buffer.slice(0));if(ye.assert(ze,"SignedCertificateTimestamp"),this.signature=ze.result,T!==47+j+_e)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const d=this.toStream();return new Vi({data:d.stream.buffer})}toStream(){const d=new Bs;d.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),d.appendChar(this.version),d.appendView(new Uint8Array(this.logID));const T=new ArrayBuffer(8),j=new Uint8Array(T),_e=S(this.timestamp.valueOf(),8);let Oe,ze;switch(j.set(new Uint8Array(_e),8-_e.byteLength),d.appendView(j),d.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&d.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":Oe=0;break;case"md5":Oe=1;break;case"sha1":Oe=2;break;case"sha224":Oe=3;break;case"sha256":Oe=4;break;case"sha384":Oe=5;break;case"sha512":Oe=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(d.appendChar(Oe),this.signatureAlgorithm.toLowerCase()){case Bp:ze=0;break;case"rsa":ze=1;break;case"dsa":ze=2;break;case"ecdsa":ze=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}d.appendChar(ze);const nt=this.signature.toBER(!1);return d.appendUint16(nt.byteLength),d.appendView(new Uint8Array(nt)),d}toJSON(){return{version:this.version,logID:w(this.logID),timestamp:this.timestamp,extensions:w(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(d,T,j=0,_e=co(!0)){var Oe=this;return(0,t.A)(function*(){const ze=M(y(Oe.logID));let nt=null;const bt=new Bs;for(const ki of d)if(ki.log_id===ze){nt=ki.key;break}if(!nt)throw new Error(`Public key not found for CT with logId: ${ze}`);const $t=z(W(nt)),Zt=kc.fromBER($t);bt.appendChar(0),bt.appendChar(0);const Rn=new ArrayBuffer(8),dn=new Uint8Array(Rn),di=S(Oe.timestamp.valueOf(),8);return dn.set(new Uint8Array(di),8-di.byteLength),bt.appendView(dn),bt.appendUint16(j),0===j&&bt.appendUint24(T.byteLength),bt.appendView(new Uint8Array(T)),bt.appendUint16(Oe.extensions.byteLength),0!==Oe.extensions.byteLength&&bt.appendView(new Uint8Array(Oe.extensions)),_e.verifyWithPublicKey(bt.buffer.slice(0,bt.length),new Ot({valueHex:Oe.signature.toBER(!1)}),Zt,{algorithmId:""},"SHA-256")})()}}return U.CLASS_NAME="SignedCertificateTimestamp",U})();const Bf="timestamps";let __=(()=>{class U extends Me{constructor(d={}){super(),this.timestamps=e(d,Bf,U.defaultValues(Bf)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Bf?[]:super.defaultValues(d)}static compareWithDefault(d,T){return d===Bf?0===T.length:super.defaultValues(d)}static schema(d={}){var T;const j=e(d,"names",{});return null!==(T=j.optional)&&void 0!==T||(j.optional=!1),new Ot({name:j.blockName||"SignedCertificateTimestampList",optional:j.optional})}fromSchema(d){if(!(d instanceof Ot))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const T=new Bs({stream:new Yi({buffer:d.valueBlock.valueHex})});if(T.getUint16()!==T.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;T.length;)this.timestamps.push(new Tg({stream:T}))}toSchema(){const d=new Bs;let T=0;const j=[];for(const _e of this.timestamps){const Oe=_e.toStream();j.push(Oe),T+=Oe.stream.buffer.byteLength}d.appendUint16(T);for(const _e of j)d.appendView(_e.stream.view);return new Ot({valueHex:d.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,d=>d.toJSON())}}}return U.CLASS_NAME="SignedCertificateTimestampList",U})();const Nh="attributes",v_=[Nh];let Vf=(()=>{class U extends Me{constructor(d={}){super(),this.attributes=e(d,Nh,U.defaultValues(Nh)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Nh?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.attributes||"",value:me.schema()})]})}fromSchema(d){L(d,v_);const T=li(d,d,U.schema({names:{attributes:Nh}}));ye.assertSchema(T,this.className),this.attributes=Array.from(T.result.attributes,j=>new me({schema:j}))}toSchema(){return new Dn({value:Array.from(this.attributes,d=>d.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,d=>d.toJSON())}}}return U.CLASS_NAME="SubjectDirectoryAttributes",U})();class zr{static getItems(){return this.types||(this.types={},zr.register("2.5.29.17","SubjectAltName",uf),zr.register("2.5.29.18","IssuerAltName",uf),zr.register("2.5.29.35","AuthorityKeyIdentifier",so),zr.register("2.5.29.19","BasicConstraints",Cp),zr.register("1.3.6.1.4.1.311.21.1","MicrosoftCaVersion",l_),zr.register("2.5.29.32","CertificatePolicies",Ep),zr.register("1.3.6.1.4.1.311.21.10","CertificatePoliciesMicrosoft",Ep),zr.register("1.3.6.1.4.1.311.21.7","MicrosoftCertTemplateV2",Pu),zr.register("2.5.29.31","CRLDistributionPoints",ug),zr.register("2.5.29.46","FreshestCRL",ug),zr.register("2.5.29.37","ExtKeyUsage",wd),zr.register("2.5.29.29","CertificateIssuer",fs),zr.register("1.3.6.1.5.5.7.1.1","AuthorityInfoAccess",dg),zr.register("1.3.6.1.5.5.7.1.11","SubjectInfoAccess",dg),zr.register("2.5.29.28","IssuingDistributionPoint",Id),zr.register("2.5.29.30","NameConstraints",fg),zr.register("2.5.29.36","PolicyConstraints",_f),zr.register("2.5.29.33","PolicyMappings",yf),zr.register("2.5.29.16","PrivateKeyUsagePeriod",Mc),zr.register("1.3.6.1.5.5.7.1.3","QCStatements",br),zr.register("1.3.6.1.4.1.11129.2.4.2","SignedCertificateTimestampList",__),zr.register("2.5.29.9","SubjectDirectoryAttributes",Vf)),this.types}static fromBER(G,d){const T=mt(d);if(-1===T.offset)return null;const j=this.find(G);if(j)try{return new j.type({schema:T.result})}catch{const Oe=new j.type;return Oe.parsingError=`Incorrectly formatted value of extension ${j.name} (${G})`,Oe}return T.result}static find(G){return this.getItems()[G]||null}static register(G,d,T){this.getItems()[G]={name:d,type:T}}}const Ld="extnID",Fl="critical",Ud="extnValue",Mh="parsedValue",wg=[Ld,Fl,Ud];let Lf=(()=>{class U extends Me{get parsedValue(){if(void 0===this._parsedValue){const d=zr.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=d}return this._parsedValue||void 0}set parsedValue(d){this._parsedValue=d}constructor(d={}){super(),this.extnID=e(d,Ld,U.defaultValues(Ld)),this.critical=e(d,Fl,U.defaultValues(Fl)),this.extnValue=Ud in d?new Ot({valueHex:d.extnValue}):U.defaultValues(Ud),Mh in d&&(this.parsedValue=e(d,Mh,U.defaultValues(Mh))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ld:return"";case Fl:return!1;case Ud:return new Ot;case Mh:return{};default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Kt({name:T.extnID||""}),new wn({name:T.critical||"",optional:!0}),new Ot({name:T.extnValue||""})]})}fromSchema(d){L(d,wg);const T=li(d,d,U.schema({names:{extnID:Ld,critical:Fl,extnValue:Ud}}));ye.assertSchema(T,this.className),this.extnID=T.result.extnID.valueBlock.toString(),Fl in T.result&&(this.critical=T.result.critical.valueBlock.value),this.extnValue=T.result.extnValue}toSchema(){const d=[];return d.push(new Kt({value:this.extnID})),this.critical!==U.defaultValues(Fl)&&d.push(new wn({value:this.critical})),d.push(this.extnValue),new Dn({value:d})}toJSON(){const d={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==U.defaultValues(Fl)&&(d.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(d.parsedValue=this.parsedValue.toJSON()),d}}return U.CLASS_NAME="Extension",U})();const Oh="extensions",y_=[Oh];let Lp=(()=>{class U extends Me{constructor(d={}){super(),this.extensions=e(d,Oh,U.defaultValues(Oh)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Oh?[]:super.defaultValues(d)}static schema(d={},T=!1){const j=e(d,"names",{});return new Dn({optional:T,name:j.blockName||"",value:[new Di({name:j.extensions||"",value:Lf.schema(j.extension||{})})]})}fromSchema(d){L(d,y_);const T=li(d,d,U.schema({names:{extensions:Oh}}));ye.assertSchema(T,this.className),this.extensions=Array.from(T.result.extensions,j=>new Lf({schema:j}))}toSchema(){return new Dn({value:Array.from(this.extensions,d=>d.toSchema())})}toJSON(){return{extensions:this.extensions.map(d=>d.toJSON())}}}return U.CLASS_NAME="Extensions",U})();const Uf="type",jf="value",$c="utcTimeName",_o="generalTimeName",Qy=[$c,_o];let fu=(()=>{class U extends Me{constructor(d={}){super(),this.type=e(d,Uf,U.defaultValues(Uf)),this.value=e(d,jf,U.defaultValues(jf)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Uf:return 0;case jf:return new Date(0,0,0);default:return super.defaultValues(d)}}static schema(d={},T=!1){const j=e(d,"names",{});return new Wi({optional:T,value:[new Et({name:j.utcTimeName||""}),new Wt({name:j.generalTimeName||""})]})}fromSchema(d){L(d,Qy);const T=li(d,d,U.schema({names:{utcTimeName:$c,generalTimeName:_o}}));ye.assertSchema(T,this.className),$c in T.result&&(this.type=0,this.value=T.result.utcTimeName.toDate()),_o in T.result&&(this.type=1,this.value=T.result.generalTimeName.toDate())}toSchema(){return 0===this.type?new Et({valueDate:this.value}):1===this.type?new Wt({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}}return U.CLASS_NAME="Time",U})();const gl="version",Bh="serialNumber",gr="signature",sc="issuer",rc="notBefore",_l="notAfter",pu="subject",ol="subjectPublicKeyInfo",Ju="issuerUniqueID",$f="subjectUniqueID",Vl="extensions",Gf="signatureAlgorithm",Gc="signatureValue",vl="tbsCertificate",Gd=`${vl}.${gl}`,Hd=`${vl}.${Bh}`,Qu=`${vl}.${gr}`,Vh=`${vl}.${sc}`,Zu=`${vl}.${rc}`,Ll=`${vl}.${_l}`,vo=`${vl}.${pu}`,Pg=`${vl}.${ol}`,wa=`${vl}.${Ju}`,zp=`${vl}.${$f}`,Hf=`${vl}.${Vl}`,Fg=[vl,Gd,Hd,Qu,Vh,Zu,Ll,vo,Pg,wa,zp,Hf,Gf,Gc];function Bg(U={}){const G=e(U,"names",{});return new Dn({name:G.blockName||vl,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new zn({name:G.tbsCertificateVersion||Gd})]}),new zn({name:G.tbsCertificateSerialNumber||Hd}),Ds.schema(G.signature||{names:{blockName:Qu}}),xn.schema(G.issuer||{names:{blockName:Vh}}),new Dn({name:G.tbsCertificateValidity||"tbsCertificate.validity",value:[fu.schema(G.notBefore||{names:{utcTimeName:Zu,generalTimeName:Zu}}),fu.schema(G.notAfter||{names:{utcTimeName:Ll,generalTimeName:Ll}})]}),xn.schema(G.subject||{names:{blockName:vo}}),kc.schema(G.subjectPublicKeyInfo||{names:{blockName:Pg}}),new en({name:G.tbsCertificateIssuerUniqueID||wa,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new en({name:G.tbsCertificateSubjectUniqueID||zp,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Lp.schema(G.extensions||{names:{blockName:Hf}})]})]})}let Xp=(()=>{class U extends Me{get tbs(){return p._H.toArrayBuffer(this.tbsView)}set tbs(d){this.tbsView=new Uint8Array(d)}constructor(d={}){super(),this.tbsView=new Uint8Array(e(d,"tbs",U.defaultValues("tbs"))),this.version=e(d,gl,U.defaultValues(gl)),this.serialNumber=e(d,Bh,U.defaultValues(Bh)),this.signature=e(d,gr,U.defaultValues(gr)),this.issuer=e(d,sc,U.defaultValues(sc)),this.notBefore=e(d,rc,U.defaultValues(rc)),this.notAfter=e(d,_l,U.defaultValues(_l)),this.subject=e(d,pu,U.defaultValues(pu)),this.subjectPublicKeyInfo=e(d,ol,U.defaultValues(ol)),Ju in d&&(this.issuerUniqueID=e(d,Ju,U.defaultValues(Ju))),$f in d&&(this.subjectUniqueID=e(d,$f,U.defaultValues($f))),Vl in d&&(this.extensions=e(d,Vl,U.defaultValues(Vl))),this.signatureAlgorithm=e(d,Gf,U.defaultValues(Gf)),this.signatureValue=e(d,Gc,U.defaultValues(Gc)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"tbs":return es;case gl:return 0;case Bh:return new zn;case gr:return new Ds;case sc:return new xn;case rc:case _l:return new fu;case pu:return new xn;case ol:return new kc;case Ju:case $f:return es;case Vl:return[];case Gf:return new Ds;case Gc:return new Sn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Bg(T.tbsCertificate),Ds.schema(T.signatureAlgorithm||{names:{blockName:Gf}}),new Sn({name:T.signatureValue||Gc})]})}fromSchema(d){L(d,Fg);const T=li(d,d,U.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:Hf}}}}}}));ye.assertSchema(T,this.className),this.tbsView=T.result.tbsCertificate.valueBeforeDecodeView,Gd in T.result&&(this.version=T.result[Gd].valueBlock.valueDec),this.serialNumber=T.result[Hd],this.signature=new Ds({schema:T.result[Qu]}),this.issuer=new xn({schema:T.result[Vh]}),this.notBefore=new fu({schema:T.result[Zu]}),this.notAfter=new fu({schema:T.result[Ll]}),this.subject=new xn({schema:T.result[vo]}),this.subjectPublicKeyInfo=new kc({schema:T.result[Pg]}),wa in T.result&&(this.issuerUniqueID=T.result[wa].valueBlock.valueHex),zp in T.result&&(this.subjectUniqueID=T.result[zp].valueBlock.valueHex),Hf in T.result&&(this.extensions=Array.from(T.result[Hf],j=>new Lf({schema:j}))),this.signatureAlgorithm=new Ds({schema:T.result.signatureAlgorithm}),this.signatureValue=T.result.signatureValue}encodeTBS(){const d=[];return gl in this&&this.version!==U.defaultValues(gl)&&d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new zn({value:this.version})]})),d.push(this.serialNumber),d.push(this.signature.toSchema()),d.push(this.issuer.toSchema()),d.push(new Dn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),d.push(this.subject.toSchema()),d.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&d.push(new en({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&d.push(new en({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Dn({value:Array.from(this.extensions,T=>T.toSchema())})]})),new Dn({value:d})}toSchema(d=!1){let T;if(!1===d){if(!this.tbsView.byteLength)return U.schema().value[0];const j=mt(this.tbsView);ye.assert(j,"TBS Certificate"),T=j.result}else T=this.encodeTBS();return new Dn({value:[T,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const d={tbs:p.U$.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return gl in this&&this.version!==U.defaultValues(gl)&&(d.version=this.version),this.issuerUniqueID&&(d.issuerUniqueID=p.U$.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(d.subjectUniqueID=p.U$.ToHex(this.subjectUniqueID)),this.extensions&&(d.extensions=Array.from(this.extensions,T=>T.toJSON())),d}getPublicKey(d,T=co(!0)){var j=this;return(0,t.A)(function*(){return T.getPublicKey(j.subjectPublicKeyInfo,j.signatureAlgorithm,d)})()}getKeyHash(d="SHA-1",T=co(!0)){var j=this;return(0,t.A)(function*(){return T.digest({name:d},j.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)})()}sign(d,T="SHA-1",j=co(!0)){var _e=this;return(0,t.A)(function*(){if(!d)throw new Error("Need to provide a private key for signing");const Oe=yield j.getSignatureParameters(d,T),ze=Oe.parameters;_e.signature=Oe.signatureAlgorithm,_e.signatureAlgorithm=Oe.signatureAlgorithm,_e.tbsView=new Uint8Array(_e.encodeTBS().toBER());const nt=yield j.signWithPrivateKey(_e.tbsView,d,ze);_e.signatureValue=new Sn({valueHex:nt})})()}verify(d,T=co(!0)){var j=this;return(0,t.A)(function*(){let _e;if(d?_e=d.subjectPublicKeyInfo:j.issuer.isEqual(j.subject)&&(_e=j.subjectPublicKeyInfo),!(_e instanceof kc))throw new Error("Please provide issuer certificate as a parameter");return T.verifyWithPublicKey(j.tbsView,j.signatureValue,_e,j.signatureAlgorithm)})()}}return U.CLASS_NAME="Certificate",U})();Error,function lh(){if(typeof self<"u"){if("crypto"in self){let U="webcrypto";"webkitSubtle"in self.crypto&&(U="safari"),Fd(U,new Rf({name:U,crypto}))}}else if(typeof crypto<"u"&&"webcrypto"in crypto){const U="NodeJS ^15",G=crypto.webcrypto;Fd(U,new Rf({name:U,crypto:G}))}}();var zm=l(3838),B1=l(4531),Xm=l(1360);let Jm=(()=>{class U{convertStringToArrayBuffer(d){const T=new zm.hp(d,"base64").toString("binary"),j=new ArrayBuffer(2*T.length),_e=new Uint8Array(j);for(let Oe=0,ze=T.length;Oe<ze;Oe++)_e[Oe]=T.charCodeAt(Oe);return j}buildCertModelFromArrayBuffer(d,T){var j=this;return(0,t.A)(function*(){const _e=mt(d),Oe=new Xp({schema:_e.result}),ze=new a,nt=j.getSubject(Oe),bt=yield j.calculateCertificateThumbprint(T);return ze.base64Cert=T,ze.subject=nt,ze.thumbprint=bt,ze})()}verifyCertFilePassword(d,T,j){let _e=new FileReader;_e.onload=Oe=>{try{const ze=_e.result,nt=this.arrayBufferToBase64(ze);(0,B1.hc)(zm.hp.from(ze),T),j.next(nt)}catch(ze){console.log("Invalid cert!"),j.error(ze)}},_e.onerror=Oe=>{j.error(Oe)},_e.readAsArrayBuffer(d)}getSubject(d){const T={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},j=new Array;for(const Oe of d.subject.typesAndValues){let ze=T[Oe.type];typeof ze>"u"&&(ze=Oe.type),j.push(`${ze}=${Oe.value.valueBlock.value}`)}return j.reverse().join(", ")}calculateCertificateThumbprint(d){var T=this;return(0,t.A)(function*(){const j=new zm.hp(d,"base64"),_e=yield crypto.subtle.digest("SHA-1",j);return T.computeHex(_e)})()}computeHex(d){return[].map.call(new Uint8Array(d),T=>("00"+T.toString(16)).slice(-2)).join("")}arrayBufferToBase64(d){for(var T="",j=new Uint8Array(d),_e=j.byteLength,Oe=0;Oe<_e;Oe++)T+=String.fromCharCode(j[Oe]);return window.btoa(T)}static{this.\u0275fac=function(T){return new(T||U)}}static{this.\u0275prov=Xm.jDH({token:U,factory:U.\u0275fac})}}return U})()},3973:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>D});var t=l(6037),a=l(9988),p=l(7263),A=l(1360),e=l(5424),w=l(5794),m=l(8018);let D=(()=>{class S extends t.J{constructor(k,Y,u){super(k,Y,u),this.components=new Map,this.displayUpgradeIcon=!1}get showProgress(){return this.wizardName!==a.$.Home&&super.showProgress}nextTab(){var k=this.components.get(this.index),Y=(0,p.hX)(k.instance.selectedType)?null:k.instance.selectedType();Y?this.changeWizardType(Y):super.nextTab()}previousTab(){0!==this.index||this.wizardName===a.$.Home?super.previousTab():this.changeWizardType(a.$.Home)}initialStep(){return super.initialStep()&&this.wizardName==a.$.Home}cancelWizard(){this.index>0||this.wizardName!==a.$.Home?this.changeWizardType(a.$.Home,0):super.cancelWizard()}changeWizardType(k,Y=null){(0,p.hX)(Y)||(this.index=Y),this.wizardName=k,this.clearComponents(),this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}static{this.\u0275fac=function(Y){return new(Y||S)(A.rXU(e.I),A.rXU(w.tw),A.rXU(m.c$))}}static{this.\u0275dir=A.FsC({type:S,inputs:{displayUpgradeIcon:"displayUpgradeIcon"},features:[A.Vt3]})}}return S})()},3981:(ot,ve)=>{"use strict";ve.byteLength=function m(u){var E=w(u),V=E[1];return 3*(E[0]+V)/4-V},ve.toByteArray=function S(u){var E,z,B=w(u),V=B[0],F=B[1],M=new a(function D(u,E,B){return 3*(E+B)/4-B}(0,V,F)),W=0,y=F>0?V-4:V;for(z=0;z<y;z+=4)E=t[u.charCodeAt(z)]<<18|t[u.charCodeAt(z+1)]<<12|t[u.charCodeAt(z+2)]<<6|t[u.charCodeAt(z+3)],M[W++]=E>>16&255,M[W++]=E>>8&255,M[W++]=255&E;return 2===F&&(E=t[u.charCodeAt(z)]<<2|t[u.charCodeAt(z+1)]>>4,M[W++]=255&E),1===F&&(E=t[u.charCodeAt(z)]<<10|t[u.charCodeAt(z+1)]<<4|t[u.charCodeAt(z+2)]>>2,M[W++]=E>>8&255,M[W++]=255&E),M},ve.fromByteArray=function Y(u){for(var E,B=u.length,V=B%3,F=[],M=16383,W=0,y=B-V;W<y;W+=M)F.push(k(u,W,W+M>y?y:W+M));return 1===V?F.push(l[(E=u[B-1])>>2]+l[E<<4&63]+"=="):2===V&&F.push(l[(E=(u[B-2]<<8)+u[B-1])>>10]+l[E>>4&63]+l[E<<2&63]+"="),F.join("")};for(var l=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)l[A]=p[A],t[p.charCodeAt(A)]=A;function w(u){var E=u.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=u.indexOf("=");return-1===B&&(B=E),[B,B===E?0:4-B%4]}function g(u){return l[u>>18&63]+l[u>>12&63]+l[u>>6&63]+l[63&u]}function k(u,E,B){for(var F=[],M=E;M<B;M+=3)F.push(g((u[M]<<16&16711680)+(u[M+1]<<8&65280)+(255&u[M+2])));return F.join("")}t[45]=62,t[95]=63},3993:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>m});var t=l(9974),a=l(4360),p=l(8750),A=l(3669),e=l(5343),w=l(9326);function m(...D){const S=(0,w.ms)(D);return(0,t.N)((g,k)=>{const Y=D.length,u=new Array(Y);let E=D.map(()=>!1),B=!1;for(let V=0;V<Y;V++)(0,p.Tg)(D[V]).subscribe((0,a._)(k,F=>{u[V]=F,!B&&!E[V]&&(E[V]=!0,(B=E.every(A.D))&&(E=null))},e.l));g.subscribe((0,a._)(k,V=>{if(B){const F=[V,...u];k.next(S?S(...F):F)}}))})}},4112:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>F});var t=l(1360),a=l(1413),p=l(5139),A=l(2947),e=l(8434),w=l(9417);let m=(()=>{class M{transform(y,z){let Z=y;return z&&(Z=y.filter(v=>v.name.toUpperCase().includes(z))),Z}static{this.\u0275fac=function(z){return new(z||M)}}static{this.\u0275pipe=t.EJ8({name:"search",type:M,pure:!0,standalone:!1})}}return M})();var D=l(8018);const S=M=>({"tw-text-grey-600":M}),g=(M,W)=>W.name;function k(M,W){if(1&M){const y=t.RV6();t.j41(0,"div",3)(1,"label",6),t.nrm(2,"span",7),t.j41(3,"span",8),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",9),t.mxI("ngModelChange",function(Z){t.eBV(y);const v=t.XpG();return t.DH7(v.searchValue,Z)||(v.searchValue=Z),t.Njj(Z)}),t.k0s()()}if(2&M){const y=t.XpG();t.Y8G("id",y.id+"-search"),t.R7$(),t.Y8G("for",y.id+"search-input"),t.R7$(3),t.JRh(t.bMT(5,6,"Common.Search")),t.R7$(2),t.Y8G("id",y.id+"search-input")("name",y.id+"SearchField"),t.R50("ngModel",y.searchValue)}}function Y(M,W){1&M&&t.nrm(0,"span",14)}function u(M,W){if(1&M){const y=t.RV6();t.j41(0,"a",17),t.bIt("click",function(Z){t.eBV(y);const v=t.XpG().$implicit,L=t.XpG();return t.Njj(L.navigate(Z,v))}),t.nrm(1,"span",18),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&M&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.GoToScope")))}function E(M,W){if(1&M&&(t.j41(0,"span",19),t.EFF(1),t.k0s()),2&M){const y=t.XpG().$implicit;t.R7$(),t.SpI(" ",y.description," ")}}function B(M,W){if(1&M){const y=t.RV6();t.j41(0,"li",5)(1,"label",10)(2,"input",11),t.bIt("change",function(){const Z=t.eBV(y).$implicit,v=t.XpG();return t.Njj(v.selectItem(Z))}),t.k0s(),t.j41(3,"span",12)(4,"span",13),t.DNE(5,Y,1,0,"span",14),t.EFF(6),t.DNE(7,u,5,3,"a",15),t.k0s(),t.DNE(8,E,2,1,"span",16),t.k0s()()()}if(2&M){let y;const z=W.$implicit,Z=t.XpG();t.Y8G("id",Z.id+"Items"),t.R7$(),t.Y8G("htmlFor",Z.prefix+z.name),t.R7$(),t.FS9("id",Z.prefix+z.name),t.FS9("name",z.name),t.Y8G("checked",z.selected)("disabled",Z.isRestricted(z)||Z.isReadOnly),t.R7$(2),t.Y8G("ngClass",t.eq3(12,S,Z.isReadOnly)),t.R7$(),t.vxM(Z.isRestricted(z)?5:-1),t.R7$(),t.Lme(" ",null!==(y=z.displayName)&&void 0!==y?y:z.name," ",z.shared?"*":""," "),t.R7$(),t.vxM(z.link?7:-1),t.R7$(),t.Y8G("ngIf",(null==z.description?null:z.description.length)>0)}}let V=(()=>{class M{constructor(y,z){this.localize=y,this.router=z,this.itemsChanged=new t.bkB}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}selectItem(y){y.selected?this.selectedCount-=1:this.selectedCount+=1,y.selected=!y.selected,this.itemsChanged.emit(this.items)}navigate(y,z){const Z=this.localize.translateRoute(z.link);if(this.linkInNewTab){const v=this.router.serializeUrl(this.router.createUrlTree([Z]));window.open(v,"_blank")}else this.router.navigate([Z]);y.stopPropagation()}static{this.\u0275fac=function(z){return new(z||M)(t.rXU(p.QG),t.rXU(A.Ix))}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["app-picker-list"]],inputs:{id:"id",title:"title",items:"items",allowSearch:"allowSearch",isReadOnly:"isReadOnly",isRestricted:"isRestricted",linkInNewTab:"linkInNewTab"},outputs:{itemsChanged:"itemsChanged"},standalone:!1,decls:11,vars:10,consts:[[3,"id"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],[1,"tw-mt-3","tw-w-full","tw-relative",3,"id"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],[1,"tw-py-3","tw-px-4",3,"id"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0",3,"for"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],[1,"sr-only"],["type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","id","name","ngModel"],[1,"tw-flex","tw-items-start","tw-items-center","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],["click-stop-propagation","","type","button",1,"tw-btn-link","group-hover:tw-text-blue-500","tw-p-0","tw-pl-2"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],["click-stop-propagation","","type","button",1,"tw-btn-link","group-hover:tw-text-blue-500","tw-p-0","tw-pl-2",3,"click"],[1,"fas","fa-external-link-alt"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"]],template:function(z,Z){1&z&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.DNE(5,k,7,8,"div",3),t.k0s(),t.j41(6,"ul",4),t.Z7z(7,B,9,14,"li",5,g),t.nI1(9,"uppercase"),t.nI1(10,"search"),t.k0s()()),2&z&&(t.Y8G("id",Z.id+"-picker-list"),t.R7$(3),t.JRh(t.bMT(4,3,Z.title)),t.R7$(2),t.vxM(Z.allowSearch&&!Z.isReadOnly?5:-1),t.R7$(2),t.Dyx(t.i5U(10,7,Z.items,t.bMT(9,5,Z.searchValue))))},dependencies:[e.YU,e.bT,w.me,w.BC,w.vS,e.Pc,m,D.D9],encapsulation:2})}}return M})(),F=(()=>{class M{set availableInput(y){this.available=this.sortArray(y)}set assignedInput(y){this.assigned=this.sortArray(y)}get availableCount(){return this.available.filter(y=>y.selected).length}get assignedCount(){return this.assigned.filter(y=>y.selected).length}set isReadOnly(y){this._isReadOnly=y||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.unAssignedStream=new a.B,this.assignedStream=new a.B,this.onUnAssigned=new t.bkB,this.onAssigned=new t.bkB}ngOnInit(){}sortArray(y){if(y&&y.length>0)for(const z of y)z.selected=!1;return y.sort((z,Z)=>z.name<Z.name?-1:1)}assignItems(){let y=this.available.filter(z=>z.selected);this.assignedStream.next(y),this.onAssigned.emit(y),this.available.forEach(z=>{z.selected=!1}),this.assigned.forEach(z=>{z.selected=!1}),y=[]}unAssignItems(){let y=this.assigned.filter(z=>z.selected);this.unAssignedStream.next(y),this.onUnAssigned.emit(y),this.available.forEach(z=>{z.selected=!1}),this.assigned.forEach(z=>{z.selected=!1}),y=[]}isRestricted(y){if(this.restrictedInput)for(let z=0;z<this.restrictedInput.length;z++)if(this.restrictedInput[z].value===y.name)return!0}static{this.\u0275fac=function(z){return new(z||M)}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",linkInNewTab:"linkInNewTab",isReadOnly:"isReadOnly"},outputs:{onUnAssigned:"onUnAssigned",onAssigned:"onAssigned"},standalone:!1,decls:19,vars:20,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],["id","available",1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5",3,"itemsChanged","title","items","allowSearch","isReadOnly","isRestricted","linkInNewTab"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["id","assigned",1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5",3,"itemsChanged","title","items","allowSearch","isReadOnly","isRestricted","linkInNewTab"]],template:function(z,Z){1&z&&(t.j41(0,"div",0)(1,"app-picker-list",1),t.bIt("itemsChanged",function(L){return Z.available=L}),t.k0s(),t.j41(2,"div",2)(3,"ul",3)(4,"li",4)(5,"button",5),t.bIt("click",function(){return Z.assignItems()}),t.nrm(6,"span",6)(7,"span",7),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"translate"),t.k0s()()(),t.j41(11,"li",4)(12,"button",9),t.bIt("click",function(){return Z.unAssignItems()}),t.nrm(13,"span",10)(14,"span",11),t.j41(15,"span",8),t.EFF(16),t.nI1(17,"translate"),t.k0s()()()()(),t.j41(18,"app-picker-list",12),t.bIt("itemsChanged",function(L){return Z.assigned=L}),t.k0s()()),2&z&&(t.R7$(),t.Y8G("title","Common.Available")("items",Z.available)("allowSearch",Z.availableSearch)("isReadOnly",Z.isReadOnly)("isRestricted",Z.isRestricted)("linkInNewTab",Z.linkInNewTab),t.R7$(4),t.Y8G("disabled",Z.availableCount<1||Z.isReadOnly),t.R7$(4),t.JRh(t.bMT(10,16,"Common.Unassign")),t.R7$(3),t.Y8G("disabled",Z.assignedCount<1||Z.isReadOnly),t.R7$(4),t.JRh(t.bMT(17,18,"Common.Assign")),t.R7$(2),t.Y8G("title","Common.Assigned")("items",Z.assigned)("allowSearch",Z.assignedSearch)("isReadOnly",Z.isReadOnly)("isRestricted",Z.isRestricted)("linkInNewTab",Z.linkInNewTab))},dependencies:[V,D.D9],encapsulation:2})}}return M})()},4179:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>u});var t=l(9417),a=l(8434),p=l(1683),A=l(8018),e=l(779),w=l(75),m=l(8389),D=l(8251),S=l(4367),g=l(6599),k=l(9812),Y=l(1360);let u=(()=>{class E{static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=Y.$C({type:E})}static{this.\u0275inj=Y.G2t({providers:[k.I],imports:[a.MD,t.X1,p.Y,A.h,t.YN,e.Q_,w.U,m.w,D.h,S.N,g.Y]})}}return E})()},4193:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>w});var t=l(8434),a=l(9262),p=l(1683),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,a.iI,p.Y,A.h]})}}return m})()},4252:(ot,ve,l)=>{"use strict";l.d(ve,{AA:()=>lt,up:()=>rt});var t=l(1360),a=l(8577),p=l(2947),A=l(9812),e=l(8434),w=l(8018);const m=["selectButton"],D=["deleteButton"],S=je=>({hover:je}),g=je=>({"tw-mr-2":je});function k(je,Ye){if(1&je&&(t.j41(0,"div",7),t.nrm(1,"div",8),t.nI1(2,"translate"),t.k0s()),2&je){const Ke=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,Ke.noRowsLabel),t.npT)}}function Y(je,Ye){if(1&je&&t.nrm(0,"span",14),2&je){const Ke=t.XpG().$implicit;t.Y8G("ngClass",Ke.sortClass)}}function u(je,Ye){if(1&je){const Ke=t.RV6();t.j41(0,"th",13),t.bIt("click",function(){const Ve=t.eBV(Ke).$implicit,Be=t.XpG(2);return t.Njj(Be.sortColumn(Ve))}),t.j41(1,"span",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,Y,1,1,"span",15),t.k0s()}if(2&je){const Ke=Ye.$implicit;t.Y8G("className",Ke.headClasses),t.R7$(),t.Y8G("ngClass",t.eq3(6,g,null!=Ke.sort)),t.R7$(),t.JRh(t.bMT(3,4,Ke.title)),t.R7$(2),t.Y8G("ngIf",null!=Ke.sort)}}function E(je,Ye){1&je&&(t.j41(0,"th",16)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&je&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Actions")))}function B(je,Ye){if(1&je&&(t.qex(0),t.EFF(1),t.bVm()),2&je){const Ke=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",Ke," ")}}function V(je,Ye){if(1&je&&(t.qex(0),t.EFF(1),t.bVm()),2&je){const Ke=t.XpG(4).$implicit,it=t.XpG().$implicit;t.R7$(),t.SpI(" ",Ke.dateColumn.datePipe.transform(it[Ke.prop])," ")}}function F(je,Ye){if(1&je&&(t.EFF(0),t.nI1(1,"translate")),2&je){const Ke=t.XpG(4).$implicit;t.SpI(" ",t.bMT(1,1,Ke.dateColumn.noDateLabel)," ")}}function M(je,Ye){if(1&je&&(t.qex(0),t.DNE(1,V,2,1,"ng-container",21)(2,F,2,3,"ng-template",null,1,t.C5r),t.bVm()),2&je){const Ke=t.sdS(3),it=t.XpG(3).$implicit,Ve=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",Ve[it.prop])("ngIfElse",Ke)}}function W(je,Ye){if(1&je){const Ke=t.RV6();t.qex(0),t.j41(1,"a",22),t.bIt("click",function(){t.eBV(Ke);const Ve=t.XpG(5).$implicit,Be=t.XpG(2);return t.Njj(!!Be.clickLinkCell(Ve.link))}),t.EFF(2),t.k0s(),t.bVm()}if(2&je){const Ke=t.XpG(4).$implicit,it=t.XpG().$implicit;t.R7$(),t.FS9("href",it.routeLink,t.B4B),t.R7$(),t.SpI(" ",it[Ke.prop]," ")}}function y(je,Ye){if(1&je&&t.nrm(0,"span",23),2&je){const Ke=t.XpG(4).$implicit,it=t.XpG().$implicit;t.Y8G("innerHTML",Ke.format(it[Ke.prop]),t.npT)}}function z(je,Ye){if(1&je&&t.DNE(0,W,3,2,"ng-container",21)(1,y,1,1,"ng-template",null,2,t.C5r),2&je){const Ke=t.sdS(2),it=t.XpG(3).$implicit;t.Y8G("ngIf",it.link)("ngIfElse",Ke)}}function Z(je,Ye){if(1&je&&(t.qex(0),t.DNE(1,M,4,2,"ng-container",21)(2,z,3,2,"ng-template",null,0,t.C5r),t.bVm()),2&je){const Ke=t.sdS(3),it=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",it.date)("ngIfElse",Ke)}}function v(je,Ye){if(1&je&&(t.qex(0),t.DNE(1,B,2,1,"ng-container",20)(2,Z,4,2,"ng-container",20),t.bVm()),2&je){const Ke=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null==Ke.prop),t.R7$(),t.Y8G("ngIf",null!=Ke.prop)}}function L(je,Ye){if(1&je&&(t.qex(0),t.j41(1,"span",24),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()),2&je){const Ke=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,1,Ke.placeholder))}}function J(je,Ye){1&je&&(t.j41(0,"span",27)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&je&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Yes")))}function te(je,Ye){1&je&&(t.j41(0,"span",28)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&je&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.No")))}function N(je,Ye){if(1&je&&(t.qex(0),t.DNE(1,J,4,3,"span",25)(2,te,4,3,"span",26),t.bVm()),2&je){const Ke=t.XpG().$implicit,it=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",it[Ke.prop]),t.R7$(),t.Y8G("ngIf",!it[Ke.prop])}}function fe(je,Ye){if(1&je&&(t.j41(0,"td",19),t.DNE(1,v,3,2,"ng-container",20)(2,L,4,3,"ng-container",20)(3,N,3,2,"ng-container",20),t.k0s()),2&je){const Ke=Ye.$implicit;t.Y8G("className",Ke.cellClasses),t.BMQ("data-label",Ke.title),t.R7$(),t.Y8G("ngIf",!Ke.isPlaceholder&&!Ke.isBoolean),t.R7$(),t.Y8G("ngIf",Ke.isPlaceholder),t.R7$(),t.Y8G("ngIf",Ke.isBoolean)}}function oe(je,Ye){if(1&je){const Ke=t.RV6();t.j41(0,"button",32,3),t.bIt("click",function(){t.eBV(Ke);const Ve=t.XpG(2).$implicit,Be=t.XpG(2);return t.Njj(Be.selectRow(Ve))}),t.nrm(2,"span",33),t.j41(3,"span",17),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&je&&(t.R7$(4),t.JRh(t.bMT(5,1,"Common.Edit")))}function R(je,Ye){if(1&je){const Ke=t.RV6();t.j41(0,"button",34,4),t.bIt("click",function(){t.eBV(Ke);const Ve=t.XpG(2).index,Be=t.XpG(2);return t.Njj(Be.deleteRow(Ve))}),t.nrm(2,"span",35),t.j41(3,"span",17),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&je&&(t.R7$(4),t.JRh(t.bMT(5,1,"Common.Remove.Title")))}function Pe(je,Ye){if(1&je&&(t.j41(0,"td",16)(1,"div",29),t.DNE(2,oe,6,3,"button",30)(3,R,6,3,"button",31),t.k0s()()),2&je){const Ke=t.XpG(3);t.R7$(2),t.Y8G("ngIf",Ke.canSelect),t.R7$(),t.Y8G("ngIf",Ke.canDelete)}}function Te(je,Ye){if(1&je&&(t.j41(0,"tr"),t.DNE(1,fe,4,5,"td",18)(2,Pe,4,2,"td",11),t.k0s()),2&je){const Ke=t.XpG(2);t.R7$(),t.Y8G("ngForOf",Ke.columns),t.R7$(),t.Y8G("ngIf",Ke.actions)}}function We(je,Ye){if(1&je&&(t.j41(0,"table",9)(1,"thead")(2,"tr"),t.DNE(3,u,5,8,"th",10)(4,E,4,3,"th",11),t.k0s()(),t.j41(5,"tbody"),t.DNE(6,Te,3,2,"tr",12),t.k0s()()),2&je){const Ke=t.XpG();t.Y8G("ngClass",t.eq3(4,S,!Ke.isReadOnly)),t.R7$(3),t.Y8G("ngForOf",Ke.columns),t.R7$(),t.Y8G("ngIf",Ke.actions),t.R7$(2),t.Y8G("ngForOf",Ke.rows)}}let rt=(()=>{class je{set isReadOnly(Ke){this._isReadOnly=Ke||!1}get isReadOnly(){return this._isReadOnly}constructor(Ke,it){this.router=Ke,this.dataTableService=it,this.onSelect=new t.bkB,this.delete=new t.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(lt.Delete),this.canSelect=this.actions.includes(lt.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(Ke){this.canDelete&&(this.dataTableService.deleteRowEvent.next(Ke),this.delete.next(Ke))}selectRow(Ke){if(this.canSelect){const it=new vt(Ke,this.selectButtonRef);this.onSelect.emit(it)}}clickLinkCell(Ke){this.router.navigate([`${Ke.routeForLink}`,Ke.identifier])}sortColumn(Ke){(null!=Ke.sort||null!=Ke.sort)&&this.dataTableService.sortColumnEvent.next(Ke)}static{this.\u0275fac=function(it){return new(it||je)(t.rXU(p.Ix),t.rXU(A.I))}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["app-data-table"]],contentQueries:function(it,Ve,Be){if(1&it&&t.wni(Be,a.w,4),2&it){let Xe;t.mGM(Xe=t.lsd())&&(Ve.columns=Xe)}},viewQuery:function(it,Ve){if(1&it&&(t.GBs(m,5),t.GBs(D,5)),2&it){let Be;t.mGM(Be=t.lsd())&&(Ve.selectButtonRef=Be.first),t.mGM(Be=t.lsd())&&(Ve.deleteButtonRef=Be.first)}},inputs:{noRowsLabel:[0,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect",delete:"delete"},standalone:!1,decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(it,Ve){1&it&&t.DNE(0,k,3,3,"div",5)(1,We,7,6,"table",6),2&it&&(t.Y8G("ngIf",(null==Ve.rows?null:Ve.rows.length)<1),t.R7$(),t.Y8G("ngIf",(null==Ve.rows?null:Ve.rows.length)>0))},dependencies:[e.YU,e.Sq,e.bT,w.D9],encapsulation:2})}}return je})();var lt=function(je){return je.Delete="Delete",je.Select="Select",je}(lt||{});class vt{constructor(Ye,Ke=null){this.data=Ye,this.element=Ke}}},4288:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>e});var t=l(3165),a=l(7263),p=l(1360),A=l(9564);let e=(()=>{class w{constructor(D,S){this.http=D,this.headersService=S,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(D,S,g,k,Y,u,E){let B=new t.Nl;return null!=D&&(B=B.append("query",D)),(0,a.gP)(k)||(B=B.append("sort",k)),S&&(B=B.append("created",S)),g&&(B=B.append("expires",g)),Y&&(B=B.append("page",String(Y))),u&&(B=B.append("pageSize",String(u))),E&&(B=B.append("filterExpired",String(E))),B}getSessions(D,S,g,k,Y,u,E){const B=this.buildParams(D,S,g,k,Y,u,E);return this.http.get(this.actionUrl,{headers:this.headers,params:B})}deleteSession(D){return this.http.delete(`${this.actionUrl}/${D}`,{headers:this.headers})}static{this.\u0275fac=function(S){return new(S||w)(p.KVO(t.Qq),p.KVO(A.m))}}static{this.\u0275prov=p.jDH({token:w,factory:w.\u0275fac})}}return w})()},4360:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>a});var t=l(7707);function a(A,e,w,m,D){return new p(A,e,w,m,D)}class p extends t.vU{constructor(e,w,m,D,S,g){super(e),this.onFinalize=S,this.shouldUnsubscribe=g,this._next=w?function(k){try{w(k)}catch(Y){e.error(Y)}}:super._next,this._error=D?function(k){try{D(k)}catch(Y){e.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=m?function(){try{m()}catch(k){e.error(k)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:w}=this;super.unsubscribe(),!w&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}},4367:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>m});var t=l(8434),a=l(8018),p=l(779),A=l(1993),e=l(4193),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,a.h,A.E,e.c,a.h,p.Q_]})}}return D})()},4402:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>p});var t=l(1985),a=l(8071);function p(A){return!!A&&(A instanceof t.c||(0,a.T)(A.lift)&&(0,a.T)(A.subscribe))}},4406:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>e});var t=l(6799),a=l(1360),p=l(5826),A=l(8018);let e=(()=>{class w extends t.P{constructor(D){super(),this.importWizardService=D,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(S){return new(S||w)(a.rXU(p.o))}}static{this.\u0275cmp=a.VBU({type:w,selectors:[["app-import-download-warning"]],standalone:!1,features:[a.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(S,g){1&S&&(a.j41(0,"div",0)(1,"p",1),a.EFF(2),a.nI1(3,"translate"),a.nI1(4,"translate"),a.k0s(),a.j41(5,"p",2),a.EFF(6),a.nI1(7,"translate"),a.k0s()(),a.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),a.bIt("click",function(){return g.downloadAndQuit()}),a.EFF(12),a.nI1(13,"translate"),a.k0s()(),a.j41(14,"button",7),a.bIt("click",function(){return g.yes()}),a.EFF(15),a.nI1(16,"translate"),a.k0s()()()),2&S&&(a.R7$(2),a.Lme(" ",a.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",a.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),a.R7$(4),a.JRh(a.bMT(7,9,"Secret Picker.LastWarning")),a.R7$(6),a.JRh(a.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),a.R7$(3),a.JRh(a.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[A.D9],encapsulation:2})}}return w})()},4412:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>a});var t=l(1413);class a extends t.B{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const e=super._subscribe(A);return!e.closed&&A.next(this._value),e}getValue(){const{hasError:A,thrownError:e,_value:w}=this;if(A)throw e;return this._throwIfClosed(),w}next(A){super.next(this._value=A)}}},4414:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>t});let t=(()=>{class a{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return a})()},4442:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>w});var t=l(1594),a=l(1360),p=l(9156),A=l(9069),e=l(5424);let w=(()=>{class m{constructor(S,g,k){this.serviceProviderService=S,this.cache=g,this.errorService=k}uploadFile(S,g){return this.serviceProviderService.setEncryptionCertificateViaFile(S,g)}uploadViaMetaData(S,g){return this.serviceProviderService.setEncryptionCertificateViaMetadata(S,g)}updateCertCache(S){this.serviceProviderService.getServiceProvider(S).subscribe(g=>{this.cache.unsavedCache$.pipe((0,t.$)()).subscribe(k=>{k.encryptionCertificate=g.encryptionCertificate,this.cache.unsavedCache.next(k)})},g=>{this.errorService.handleError(g)})}static{this.\u0275fac=function(g){return new(g||m)(a.KVO(p.s),a.KVO(A.d),a.KVO(e.I))}}static{this.\u0275prov=a.jDH({token:m,factory:m.\u0275fac})}}return m})()},4446:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>m});var t=l(1594),a=l(6354),p=l(1360),A=l(3853),e=l(2947),w=l(5139);let m=(()=>{class D{constructor(g,k,Y){this.licenseService=g,this.router=k,this.localizeRouter=Y}canActivate(g,k){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,a.T)(Y=>{if(!Y.isExpectingStarterConsent())return!0;{const u=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([u])}}))}static{this.\u0275fac=function(k){return new(k||D)(p.KVO(A.X),p.KVO(e.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac})}}return D})()},4491:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>t});let t=(()=>{class a{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return a})()},4531:(ot,ve,l)=>{"use strict";ve.hc=void 0;const a=l(2114);ve.hc=(e,w)=>{const m=a.asn1.fromDer(e.toString("binary")),S=a.pkcs12.pkcs12FromAsn1(m,!1,w).getBags({bagType:a.pki.oids.certBag});if(!S||!S?.[a.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return S[a.pki.oids.certBag][0]}},4549:(ot,ve,l)=>{"use strict";l.d(ve,{c9:()=>Yn,wB:()=>xi});class t extends Error{}class a extends t{constructor($){super(`Invalid DateTime: ${$.toMessage()}`)}}class p extends t{constructor($){super(`Invalid Interval: ${$.toMessage()}`)}}class A extends t{constructor($){super(`Invalid Duration: ${$.toMessage()}`)}}class e extends t{}class w extends t{constructor($){super(`Invalid unit ${$}`)}}class m extends t{}class D extends t{constructor(){super("Zone is an abstract class")}}const S="numeric",g="short",k="long",Y={year:S,month:S,day:S},u={year:S,month:g,day:S},E={year:S,month:g,day:S,weekday:g},B={year:S,month:k,day:S},V={year:S,month:k,day:S,weekday:k},F={hour:S,minute:S},M={hour:S,minute:S,second:S},W={hour:S,minute:S,second:S,timeZoneName:g},y={hour:S,minute:S,second:S,timeZoneName:k},z={hour:S,minute:S,hourCycle:"h23"},Z={hour:S,minute:S,second:S,hourCycle:"h23"},v={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:g},L={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:k},J={year:S,month:S,day:S,hour:S,minute:S},te={year:S,month:S,day:S,hour:S,minute:S,second:S},N={year:S,month:g,day:S,hour:S,minute:S},fe={year:S,month:g,day:S,hour:S,minute:S,second:S},oe={year:S,month:g,day:S,weekday:g,hour:S,minute:S},R={year:S,month:k,day:S,hour:S,minute:S,timeZoneName:g},Pe={year:S,month:k,day:S,hour:S,minute:S,second:S,timeZoneName:g},Te={year:S,month:k,day:S,weekday:k,hour:S,minute:S,timeZoneName:k},We={year:S,month:k,day:S,weekday:k,hour:S,minute:S,second:S,timeZoneName:k};class rt{get type(){throw new D}get name(){throw new D}get ianaName(){return this.name}get isUniversal(){throw new D}offsetName($,ye){throw new D}formatOffset($,ye){throw new D}offset($){throw new D}equals($){throw new D}get isValid(){throw new D}}let lt=null;class vt extends rt{static get instance(){return null===lt&&(lt=new vt),lt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName($,{format:ye,locale:Me}){return Et($,ye,Me)}formatOffset($,ye){return Qi(this.offset($),ye)}offset($){return-new Date($).getTimezoneOffset()}equals($){return"system"===$.type}get isValid(){return!0}}const je=new Map,Ke={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},Be=new Map;class Xe extends rt{static create($){let ye=Be.get($);return void 0===ye&&Be.set($,ye=new Xe($)),ye}static resetCache(){Be.clear(),je.clear()}static isValidSpecifier($){return this.isValidZone($)}static isValidZone($){if(!$)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:$}).format(),!0}catch{return!1}}constructor($){super(),this.zoneName=$,this.valid=Xe.isValidZone($)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName($,{format:ye,locale:Me}){return Et($,ye,Me,this.name)}formatOffset($,ye){return Qi(this.offset($),ye)}offset($){if(!this.valid)return NaN;const ye=new Date($);if(isNaN(ye))return NaN;const Me=function Ye(Se){let $=je.get(Se);return void 0===$&&($=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Se,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),je.set(Se,$)),$}(this.name);let[ft,Ft,Yt,_n,On,ln,En]=Me.formatToParts?function Ve(Se,$){const ye=Se.formatToParts($),Me=[];for(let ft=0;ft<ye.length;ft++){const{type:Ft,value:Yt}=ye[ft],_n=Ke[Ft];"era"===Ft?Me[_n]=Yt:tn(_n)||(Me[_n]=parseInt(Yt,10))}return Me}(Me,ye):function it(Se,$){const ye=Se.format($).replace(/\u200E/g,""),Me=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ye),[,ft,Ft,Yt,_n,On,ln,En]=Me;return[Yt,ft,Ft,_n,On,ln,En]}(Me,ye);"BC"===_n&&(ft=1-Math.abs(ft));let ss=+ye;const Ar=ss%1e3;return ss-=Ar>=0?Ar:1e3+Ar,(Ji({year:ft,month:Ft,day:Yt,hour:24===On?0:On,minute:ln,second:En,millisecond:0})-ss)/6e4}equals($){return"iana"===$.type&&$.name===this.name}get isValid(){return this.valid}}let Ue={};const st=new Map;function Qe(Se,$={}){const ye=JSON.stringify([Se,$]);let Me=st.get(ye);return void 0===Me&&(Me=new Intl.DateTimeFormat(Se,$),st.set(ye,Me)),Me}const ne=new Map,de=new Map;let o=null;const gt=new Map;function qt(Se){let $=gt.get(Se);return void 0===$&&($=new Intl.DateTimeFormat(Se).resolvedOptions(),gt.set(Se,$)),$}const Tn=new Map;function Jt(Se,$,ye,Me){const ft=Se.listingMode();return"error"===ft?null:"en"===ft?ye($):Me($)}class ue{constructor($,ye,Me){this.padTo=Me.padTo||0,this.floor=Me.floor||!1;const{padTo:ft,floor:Ft,...Yt}=Me;if(!ye||Object.keys(Yt).length>0){const _n={useGrouping:!1,...Me};Me.padTo>0&&(_n.minimumIntegerDigits=Me.padTo),this.inf=function K(Se,$={}){const ye=JSON.stringify([Se,$]);let Me=ne.get(ye);return void 0===Me&&(Me=new Intl.NumberFormat(Se,$),ne.set(ye,Me)),Me}($,_n)}}format($){if(this.inf){const ye=this.floor?Math.floor($):$;return this.inf.format(ye)}return ht(this.floor?Math.floor($):hi($,3),this.padTo)}}class P{constructor($,ye,Me){let ft;if(this.opts=Me,this.originalZone=void 0,this.opts.timeZone)this.dt=$;else if("fixed"===$.zone.type){const Yt=$.offset/60*-1,_n=Yt>=0?`Etc/GMT+${Yt}`:`Etc/GMT${Yt}`;0!==$.offset&&Xe.create(_n).valid?(ft=_n,this.dt=$):(ft="UTC",this.dt=0===$.offset?$:$.setZone("UTC").plus({minutes:$.offset}),this.originalZone=$.zone)}else"system"===$.zone.type?this.dt=$:"iana"===$.zone.type?(this.dt=$,ft=$.zone.name):(ft="UTC",this.dt=$.setZone("UTC").plus({minutes:$.offset}),this.originalZone=$.zone);const Ft={...this.opts};Ft.timeZone=Ft.timeZone||ft,this.dtf=Qe(ye,Ft)}format(){return this.originalZone?this.formatToParts().map(({value:$})=>$).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const $=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?$.map(ye=>{if("timeZoneName"===ye.type){const Me=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...ye,value:Me}}return ye}):$}resolvedOptions(){return this.dtf.resolvedOptions()}}class q{constructor($,ye,Me){this.opts={style:"long",...Me},!ye&&Gt()&&(this.rtf=function ge(Se,$={}){const{base:ye,...Me}=$,ft=JSON.stringify([Se,Me]);let Ft=de.get(ft);return void 0===Ft&&(Ft=new Intl.RelativeTimeFormat(Se,$),de.set(ft,Ft)),Ft}($,Me))}format($,ye){return this.rtf?this.rtf.format($,ye):function Dt(Se,$,ye="always",Me=!1){const ft={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Ft=-1===["hours","minutes","seconds"].indexOf(Se);if("auto"===ye&&Ft){const xn="days"===Se;switch($){case 1:return xn?"tomorrow":`next ${ft[Se][0]}`;case-1:return xn?"yesterday":`last ${ft[Se][0]}`;case 0:return xn?"today":`this ${ft[Se][0]}`}}const Yt=Object.is($,-0)||$<0,_n=Math.abs($),On=1===_n,ln=ft[Se],En=Me?On?ln[1]:ln[2]||ln[1]:On?ft[Se][0]:Se;return Yt?`${_n} ${En} ago`:`in ${_n} ${En}`}(ye,$,this.opts.numeric,"long"!==this.opts.style)}formatToParts($,ye){return this.rtf?this.rtf.formatToParts($,ye):[]}}const De={firstDay:1,minimalDays:4,weekend:[6,7]};class Ae{static fromOpts($){return Ae.create($.locale,$.numberingSystem,$.outputCalendar,$.weekSettings,$.defaultToEN)}static create($,ye,Me,ft,Ft=!1){const Yt=$||xi.defaultLocale,_n=Yt||(Ft?"en-US":function dt(){return o||(o=(new Intl.DateTimeFormat).resolvedOptions().locale,o)}()),On=ye||xi.defaultNumberingSystem,ln=Me||xi.defaultOutputCalendar,En=vi(ft)||xi.defaultWeekSettings;return new Ae(_n,On,ln,En,Yt)}static resetCache(){o=null,st.clear(),ne.clear(),de.clear(),gt.clear(),Tn.clear()}static fromObject({locale:$,numberingSystem:ye,outputCalendar:Me,weekSettings:ft}={}){return Ae.create($,ye,Me,ft)}constructor($,ye,Me,ft,Ft){const[Yt,_n,On]=function en(Se){const $=Se.indexOf("-x-");-1!==$&&(Se=Se.substring(0,$));const ye=Se.indexOf("-u-");if(-1===ye)return[Se];{let Me,ft;try{Me=Qe(Se).resolvedOptions(),ft=Se}catch{const On=Se.substring(0,ye);Me=Qe(On).resolvedOptions(),ft=On}const{numberingSystem:Ft,calendar:Yt}=Me;return[ft,Ft,Yt]}}($);this.locale=Yt,this.numberingSystem=ye||_n||null,this.outputCalendar=Me||On||null,this.weekSettings=ft,this.intl=function Ln(Se,$,ye){return(ye||$)&&(Se.includes("-u-")||(Se+="-u"),ye&&(Se+=`-ca-${ye}`),$&&(Se+=`-nu-${$}`)),Se}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Ft,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function he(Se){return(!Se.numberingSystem||"latn"===Se.numberingSystem)&&("latn"===Se.numberingSystem||!Se.locale||Se.locale.startsWith("en")||"latn"===qt(Se.locale).numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone($){return $&&0!==Object.getOwnPropertyNames($).length?Ae.create($.locale||this.specifiedLocale,$.numberingSystem||this.numberingSystem,$.outputCalendar||this.outputCalendar,vi($.weekSettings)||this.weekSettings,$.defaultToEN||!1):this}redefaultToEN($={}){return this.clone({...$,defaultToEN:!0})}redefaultToSystem($={}){return this.clone({...$,defaultToEN:!1})}months($,ye=!1){return Jt(this,$,ke,()=>{const Me=ye?{month:$,day:"numeric"}:{month:$},ft=ye?"format":"standalone";return this.monthsCache[ft][$]||(this.monthsCache[ft][$]=function ni(Se){const $=[];for(let ye=1;ye<=12;ye++){const Me=Yn.utc(2009,ye,1);$.push(Se(Me))}return $}(Ft=>this.extract(Ft,Me,"month"))),this.monthsCache[ft][$]})}weekdays($,ye=!1){return Jt(this,$,Wi,()=>{const Me=ye?{weekday:$,year:"numeric",month:"long",day:"numeric"}:{weekday:$},ft=ye?"format":"standalone";return this.weekdaysCache[ft][$]||(this.weekdaysCache[ft][$]=function mt(Se){const $=[];for(let ye=1;ye<=7;ye++){const Me=Yn.utc(2016,11,13+ye);$.push(Se(Me))}return $}(Ft=>this.extract(Ft,Me,"weekday"))),this.weekdaysCache[ft][$]})}meridiems(){return Jt(this,void 0,()=>Di,()=>{if(!this.meridiemCache){const $={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Yn.utc(2016,11,13,9),Yn.utc(2016,11,13,19)].map(ye=>this.extract(ye,$,"dayperiod"))}return this.meridiemCache})}eras($){return Jt(this,$,Yi,()=>{const ye={era:$};return this.eraCache[$]||(this.eraCache[$]=[Yn.utc(-40,1,1),Yn.utc(2017,1,1)].map(Me=>this.extract(Me,ye,"era"))),this.eraCache[$]})}extract($,ye,Me){const Yt=this.dtFormatter($,ye).formatToParts().find(_n=>_n.type.toLowerCase()===Me);return Yt?Yt.value:null}numberFormatter($={}){return new ue(this.intl,$.forceSimple||this.fastNumbers,$)}dtFormatter($,ye={}){return new P($,this.intl,ye)}relFormatter($={}){return new q(this.intl,this.isEnglish(),$)}listFormatter($={}){return function ct(Se,$={}){const ye=JSON.stringify([Se,$]);let Me=Ue[ye];return Me||(Me=new Intl.ListFormat(Se,$),Ue[ye]=Me),Me}(this.intl,$)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||qt(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:oi()?function Wn(Se){let $=Tn.get(Se);if(!$){const ye=new Intl.Locale(Se);$="getWeekInfo"in ye?ye.getWeekInfo():ye.weekInfo,"minimalDays"in $||($={...De,...$}),Tn.set(Se,$)}return $}(this.locale):De}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals($){return this.locale===$.locale&&this.numberingSystem===$.numberingSystem&&this.outputCalendar===$.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let et=null;class _t extends rt{static get utcInstance(){return null===et&&(et=new _t(0)),et}static instance($){return 0===$?_t.utcInstance:new _t($)}static parseSpecifier($){if($){const ye=$.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ye)return new _t(vn(ye[1],ye[2]))}return null}constructor($){super(),this.fixed=$}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Qi(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Qi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset($,ye){return Qi(this.fixed,ye)}get isUniversal(){return!0}offset(){return this.fixed}equals($){return"fixed"===$.type&&$.fixed===this.fixed}get isValid(){return!0}}class Ht extends rt{constructor($){super(),this.zoneName=$}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function nn(Se,$){if(tn(Se)||null===Se)return $;if(Se instanceof rt)return Se;if(function Xn(Se){return"string"==typeof Se}(Se)){const Me=Se.toLowerCase();return"default"===Me?$:"local"===Me||"system"===Me?vt.instance:"utc"===Me||"gmt"===Me?_t.utcInstance:_t.parseSpecifier(Me)||Xe.create(Se)}return Vn(Se)?_t.instance(Se):"object"==typeof Se&&"offset"in Se&&"function"==typeof Se.offset?Se:new Ht(Se)}const wn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Kn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ei=wn.hanidec.replace(/[\[|\]]/g,"").split(""),Gn=new Map;function Sn({numberingSystem:Se},$=""){const ye=Se||"latn";let Me=Gn.get(ye);void 0===Me&&(Me=new Map,Gn.set(ye,Me));let ft=Me.get($);return void 0===ft&&(ft=new RegExp(`${wn[ye]}${$}`),Me.set($,ft)),ft}let zn,In=()=>Date.now(),rs="system",_i=null,Fi=null,Ni=null,os=60,ms=null;class xi{static get now(){return In}static set now($){In=$}static set defaultZone($){rs=$}static get defaultZone(){return nn(rs,vt.instance)}static get defaultLocale(){return _i}static set defaultLocale($){_i=$}static get defaultNumberingSystem(){return Fi}static set defaultNumberingSystem($){Fi=$}static get defaultOutputCalendar(){return Ni}static set defaultOutputCalendar($){Ni=$}static get defaultWeekSettings(){return ms}static set defaultWeekSettings($){ms=vi($)}static get twoDigitCutoffYear(){return os}static set twoDigitCutoffYear($){os=$%100}static get throwOnInvalid(){return zn}static set throwOnInvalid($){zn=$}static resetCaches(){Ae.resetCache(),Xe.resetCache(),Yn.resetCache(),function Qt(){Gn.clear()}()}}class wt{constructor($,ye){this.reason=$,this.explanation=ye}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Tt=[0,31,59,90,120,151,181,212,243,273,304,334],xt=[0,31,60,91,121,152,182,213,244,274,305,335];function Kt(Se,$){return new wt("unit out of range",`you specified ${$} (of type ${typeof $}) as a ${Se}, which is invalid`)}function cn(Se,$,ye){const Me=new Date(Date.UTC(Se,$-1,ye));Se<100&&Se>=0&&Me.setUTCFullYear(Me.getUTCFullYear()-1900);const ft=Me.getUTCDay();return 0===ft?7:ft}function ii(Se,$,ye){return ye+(ri(Se)?xt:Tt)[$-1]}function Ei(Se,$){const ye=ri(Se)?xt:Tt,Me=ye.findIndex(Ft=>Ft<$);return{month:Me+1,day:$-ye[Me]}}function Ii(Se,$){return(Se-$+7)%7+1}function Ti(Se,$=4,ye=1){const{year:Me,month:ft,day:Ft}=Se,Yt=ii(Me,ft,Ft),_n=Ii(cn(Me,ft,Ft),ye);let ln,On=Math.floor((Yt-_n+14-$)/7);return On<1?(ln=Me-1,On=jt(ln,$,ye)):On>jt(Me,$,ye)?(ln=Me+1,On=1):ln=Me,{weekYear:ln,weekNumber:On,weekday:_n,...Bt(Se)}}function Dn(Se,$=4,ye=1){const{weekYear:Me,weekNumber:ft,weekday:Ft}=Se,Yt=Ii(cn(Me,1,$),ye),_n=Nn(Me);let ln,On=7*ft+Ft-Yt-7+$;On<1?(ln=Me-1,On+=Nn(ln)):On>_n?(ln=Me+1,On-=Nn(Me)):ln=Me;const{month:En,day:xn}=Ei(ln,On);return{year:ln,month:En,day:xn,...Bt(Se)}}function Bi(Se){const{year:$,month:ye,day:Me}=Se;return{year:$,ordinal:ii($,ye,Me),...Bt(Se)}}function Ui(Se){const{year:$,ordinal:ye}=Se,{month:Me,day:ft}=Ei($,ye);return{year:$,month:Me,day:ft,...Bt(Se)}}function zi(Se,$){if(tn(Se.localWeekday)&&tn(Se.localWeekNumber)&&tn(Se.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!tn(Se.weekday)||!tn(Se.weekNumber)||!tn(Se.weekYear))throw new e("Cannot mix locale-based week fields with ISO-based week fields");return tn(Se.localWeekday)||(Se.weekday=Se.localWeekday),tn(Se.localWeekNumber)||(Se.weekNumber=Se.localWeekNumber),tn(Se.localWeekYear)||(Se.weekYear=Se.localWeekYear),delete Se.localWeekday,delete Se.localWeekNumber,delete Se.localWeekYear,{minDaysInFirstWeek:$.getMinDaysInFirstWeek(),startOfWeek:$.getStartOfWeek()}}function Rt(Se){const $=on(Se.year),ye=Fe(Se.month,1,12),Me=Fe(Se.day,1,Ki(Se.year,Se.month));return $?ye?!Me&&Kt("day",Se.day):Kt("month",Se.month):Kt("year",Se.year)}function yt(Se){const{hour:$,minute:ye,second:Me,millisecond:ft}=Se,Ft=Fe($,0,23)||24===$&&0===ye&&0===Me&&0===ft,Yt=Fe(ye,0,59),_n=Fe(Me,0,59),On=Fe(ft,0,999);return Ft?Yt?_n?!On&&Kt("millisecond",ft):Kt("second",Me):Kt("minute",ye):Kt("hour",$)}function tn(Se){return typeof Se>"u"}function Vn(Se){return"number"==typeof Se}function on(Se){return"number"==typeof Se&&Se%1==0}function Gt(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function oi(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Un(Se,$,ye){if(0!==Se.length)return Se.reduce((Me,ft)=>{const Ft=[$(ft),ft];return Me&&ye(Me[0],Ft[0])===Me[0]?Me:Ft},null)[1]}function Qn(Se,$){return Object.prototype.hasOwnProperty.call(Se,$)}function vi(Se){if(null==Se)return null;if("object"!=typeof Se)throw new m("Week settings must be an object");if(!Fe(Se.firstDay,1,7)||!Fe(Se.minimalDays,1,7)||!Array.isArray(Se.weekend)||Se.weekend.some($=>!Fe($,1,7)))throw new m("Invalid week settings");return{firstDay:Se.firstDay,minimalDays:Se.minimalDays,weekend:Array.from(Se.weekend)}}function Fe(Se,$,ye){return on(Se)&&Se>=$&&Se<=ye}function ht(Se,$=2){let Me;return Me=Se<0?"-"+(""+-Se).padStart($,"0"):(""+Se).padStart($,"0"),Me}function Ut(Se){if(!tn(Se)&&null!==Se&&""!==Se)return parseInt(Se,10)}function Xt(Se){if(!tn(Se)&&null!==Se&&""!==Se)return parseFloat(Se)}function Mn(Se){if(!tn(Se)&&null!==Se&&""!==Se){const $=1e3*parseFloat("0."+Se);return Math.floor($)}}function hi(Se,$,ye=!1){const Me=10**$;return(ye?Math.trunc:Math.round)(Se*Me)/Me}function ri(Se){return Se%4==0&&(Se%100!=0||Se%400==0)}function Nn(Se){return ri(Se)?366:365}function Ki(Se,$){const ye=function Ze(Se,$){return Se-$*Math.floor(Se/$)}($-1,12)+1;return 2===ye?ri(Se+($-ye)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ye-1]}function Ji(Se){let $=Date.UTC(Se.year,Se.month-1,Se.day,Se.hour,Se.minute,Se.second,Se.millisecond);return Se.year<100&&Se.year>=0&&($=new Date($),$.setUTCFullYear(Se.year,Se.month-1,Se.day)),+$}function Os(Se,$,ye){return-Ii(cn(Se,1,$),ye)+$-1}function jt(Se,$=4,ye=1){const Me=Os(Se,$,ye),ft=Os(Se+1,$,ye);return(Nn(Se)-Me+ft)/7}function Ai(Se){return Se>99?Se:Se>xi.twoDigitCutoffYear?1900+Se:2e3+Se}function Et(Se,$,ye,Me=null){const ft=new Date(Se),Ft={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Me&&(Ft.timeZone=Me);const Yt={timeZoneName:$,...Ft},_n=new Intl.DateTimeFormat(ye,Yt).formatToParts(ft).find(On=>"timezonename"===On.type.toLowerCase());return _n?_n.value:null}function vn(Se,$){let ye=parseInt(Se,10);Number.isNaN(ye)&&(ye=0);const Me=parseInt($,10)||0;return 60*ye+(ye<0||Object.is(ye,-0)?-Me:Me)}function Wt(Se){const $=Number(Se);if("boolean"==typeof Se||""===Se||Number.isNaN($))throw new m(`Invalid unit value ${Se}`);return $}function Pn(Se,$){const ye={};for(const Me in Se)if(Qn(Se,Me)){const ft=Se[Me];if(null==ft)continue;ye[$(Me)]=Wt(ft)}return ye}function Qi(Se,$){const ye=Math.trunc(Math.abs(Se/60)),Me=Math.trunc(Math.abs(Se%60)),ft=Se>=0?"+":"-";switch($){case"short":return`${ft}${ht(ye,2)}:${ht(Me,2)}`;case"narrow":return`${ft}${ye}${Me>0?`:${Me}`:""}`;case"techie":return`${ft}${ht(ye,2)}${ht(Me,2)}`;default:throw new RangeError(`Value format ${$} is out of range for property format`)}}function Bt(Se){return function fn(Se,$){return $.reduce((ye,Me)=>(ye[Me]=Se[Me],ye),{})}(Se,["hour","minute","second","millisecond"])}const Ie=["January","February","March","April","May","June","July","August","September","October","November","December"],ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],be=["J","F","M","A","M","J","J","A","S","O","N","D"];function ke(Se){switch(Se){case"narrow":return[...be];case"short":return[...ae];case"long":return[...Ie];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const At=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Fn=["M","T","W","T","F","S","S"];function Wi(Se){switch(Se){case"narrow":return[...Fn];case"short":return[...hn];case"long":return[...At];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Di=["AM","PM"],Vi=["Before Christ","Anno Domini"],li=["BC","AD"],Li=["B","A"];function Yi(Se){switch(Se){case"narrow":return[...Li];case"short":return[...li];case"long":return[...Vi];default:return null}}function Vt(Se,$){let ye="";for(const Me of Se)ye+=Me.literal?Me.val:$(Me.val);return ye}const pn={D:Y,DD:u,DDD:B,DDDD:V,t:F,tt:M,ttt:W,tttt:y,T:z,TT:Z,TTT:v,TTTT:L,f:J,ff:N,fff:R,ffff:Te,F:te,FF:fe,FFF:Pe,FFFF:We};class Jn{static create($,ye={}){return new Jn($,ye)}static parseFormat($){let ye=null,Me="",ft=!1;const Ft=[];for(let Yt=0;Yt<$.length;Yt++){const _n=$.charAt(Yt);"'"===_n?(Me.length>0&&Ft.push({literal:ft||/^\s+$/.test(Me),val:Me}),ye=null,Me="",ft=!ft):ft||_n===ye?Me+=_n:(Me.length>0&&Ft.push({literal:/^\s+$/.test(Me),val:Me}),Me=_n,ye=_n)}return Me.length>0&&Ft.push({literal:ft||/^\s+$/.test(Me),val:Me}),Ft}static macroTokenToFormatOpts($){return pn[$]}constructor($,ye){this.opts=ye,this.loc=$,this.systemLoc=null}formatWithSystemDefault($,ye){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter($,{...this.opts,...ye}).format()}dtFormatter($,ye={}){return this.loc.dtFormatter($,{...this.opts,...ye})}formatDateTime($,ye){return this.dtFormatter($,ye).format()}formatDateTimeParts($,ye){return this.dtFormatter($,ye).formatToParts()}formatInterval($,ye){return this.dtFormatter($.start,ye).dtf.formatRange($.start.toJSDate(),$.end.toJSDate())}resolvedOptions($,ye){return this.dtFormatter($,ye).resolvedOptions()}num($,ye=0){if(this.opts.forceSimple)return ht($,ye);const Me={...this.opts};return ye>0&&(Me.padTo=ye),this.loc.numberFormatter(Me).format($)}formatDateTimeFromString($,ye){const Me="en"===this.loc.listingMode(),ft=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Ft=(ss,Ar)=>this.loc.extract($,ss,Ar),Yt=ss=>$.isOffsetFixed&&0===$.offset&&ss.allowZ?"Z":$.isValid?$.zone.formatOffset($.ts,ss.format):"",On=(ss,Ar)=>Me?function Mr(Se,$){return ke($)[Se.month-1]}($,ss):Ft(Ar?{month:ss}:{month:ss,day:"numeric"},"month"),ln=(ss,Ar)=>Me?function Bs(Se,$){return Wi($)[Se.weekday-1]}($,ss):Ft(Ar?{weekday:ss}:{weekday:ss,month:"long",day:"numeric"},"weekday"),En=ss=>{const Ar=Jn.macroTokenToFormatOpts(ss);return Ar?this.formatWithSystemDefault($,Ar):ss},xn=ss=>Me?function Qr(Se,$){return Yi($)[Se.year<0?0:1]}($,ss):Ft({era:ss},"era");return Vt(Jn.parseFormat(ye),ss=>{switch(ss){case"S":return this.num($.millisecond);case"u":case"SSS":return this.num($.millisecond,3);case"s":return this.num($.second);case"ss":return this.num($.second,2);case"uu":return this.num(Math.floor($.millisecond/10),2);case"uuu":return this.num(Math.floor($.millisecond/100));case"m":return this.num($.minute);case"mm":return this.num($.minute,2);case"h":return this.num($.hour%12==0?12:$.hour%12);case"hh":return this.num($.hour%12==0?12:$.hour%12,2);case"H":return this.num($.hour);case"HH":return this.num($.hour,2);case"Z":return Yt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Yt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Yt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return $.zone.offsetName($.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return $.zone.offsetName($.ts,{format:"long",locale:this.loc.locale});case"z":return $.zoneName;case"a":return Me?function xs(Se){return Di[Se.hour<12?0:1]}($):Ft({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return ft?Ft({day:"numeric"},"day"):this.num($.day);case"dd":return ft?Ft({day:"2-digit"},"day"):this.num($.day,2);case"c":case"E":return this.num($.weekday);case"ccc":return ln("short",!0);case"cccc":return ln("long",!0);case"ccccc":return ln("narrow",!0);case"EEE":return ln("short",!1);case"EEEE":return ln("long",!1);case"EEEEE":return ln("narrow",!1);case"L":return ft?Ft({month:"numeric",day:"numeric"},"month"):this.num($.month);case"LL":return ft?Ft({month:"2-digit",day:"numeric"},"month"):this.num($.month,2);case"LLL":return On("short",!0);case"LLLL":return On("long",!0);case"LLLLL":return On("narrow",!0);case"M":return ft?Ft({month:"numeric"},"month"):this.num($.month);case"MM":return ft?Ft({month:"2-digit"},"month"):this.num($.month,2);case"MMM":return On("short",!1);case"MMMM":return On("long",!1);case"MMMMM":return On("narrow",!1);case"y":return ft?Ft({year:"numeric"},"year"):this.num($.year);case"yy":return ft?Ft({year:"2-digit"},"year"):this.num($.year.toString().slice(-2),2);case"yyyy":return ft?Ft({year:"numeric"},"year"):this.num($.year,4);case"yyyyyy":return ft?Ft({year:"numeric"},"year"):this.num($.year,6);case"G":return xn("short");case"GG":return xn("long");case"GGGGG":return xn("narrow");case"kk":return this.num($.weekYear.toString().slice(-2),2);case"kkkk":return this.num($.weekYear,4);case"W":return this.num($.weekNumber);case"WW":return this.num($.weekNumber,2);case"n":return this.num($.localWeekNumber);case"nn":return this.num($.localWeekNumber,2);case"ii":return this.num($.localWeekYear.toString().slice(-2),2);case"iiii":return this.num($.localWeekYear,4);case"o":return this.num($.ordinal);case"ooo":return this.num($.ordinal,3);case"q":return this.num($.quarter);case"qq":return this.num($.quarter,2);case"X":return this.num(Math.floor($.ts/1e3));case"x":return this.num($.ts);default:return En(ss)}})}formatDurationFromString($,ye){const Me=On=>{switch(On[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Ft=Jn.parseFormat(ye),Yt=Ft.reduce((On,{literal:ln,val:En})=>ln?On:On.concat(En),[]);return Vt(Ft,(On=>ln=>{const En=Me(ln);return En?this.num(On.get(En),ln.length):ln})($.shiftTo(...Yt.map(Me).filter(On=>On))))}}const yi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function pi(...Se){const $=Se.reduce((ye,Me)=>ye+Me.source,"");return RegExp(`^${$}$`)}function js(...Se){return $=>Se.reduce(([ye,Me,ft],Ft)=>{const[Yt,_n,On]=Ft($,ft);return[{...ye,...Yt},_n||Me,On]},[{},null,1]).slice(0,2)}function Ts(Se,...$){if(null==Se)return[null,null];for(const[ye,Me]of $){const ft=ye.exec(Se);if(ft)return Me(ft)}return[null,null]}function Hr(...Se){return($,ye)=>{const Me={};let ft;for(ft=0;ft<Se.length;ft++)Me[Se[ft]]=Ut($[ye+ft]);return[Me,null,ye+ft]}}const ks=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ci=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wr=RegExp(`${Ci.source}(?:${ks.source}?(?:\\[(${yi.source})\\])?)?`),Zr=RegExp(`(?:T${wr.source})?`),pa=Hr("weekYear","weekNumber","weekDay"),Cr=Hr("year","ordinal"),Kr=RegExp(`${Ci.source} ?(?:${ks.source}|(${yi.source}))?`),xr=RegExp(`(?: ${Kr.source})?`);function qr(Se,$,ye){const Me=Se[$];return tn(Me)?ye:Ut(Me)}function Fa(Se,$){return[{hours:qr(Se,$,0),minutes:qr(Se,$+1,0),seconds:qr(Se,$+2,0),milliseconds:Mn(Se[$+3])},null,$+4]}function fr(Se,$){const ye=!Se[$]&&!Se[$+1],Me=vn(Se[$+1],Se[$+2]);return[{},ye?null:_t.instance(Me),$+3]}function kr(Se,$){return[{},Se[$]?Xe.create(Se[$]):null,$+1]}const Lo=RegExp(`^T?${Ci.source}$`),ea=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Da(Se){const[$,ye,Me,ft,Ft,Yt,_n,On,ln]=Se,En="-"===$[0],xn=On&&"-"===On[0],Zn=(ss,Ar=!1)=>void 0!==ss&&(Ar||ss&&En)?-ss:ss;return[{years:Zn(Xt(ye)),months:Zn(Xt(Me)),weeks:Zn(Xt(ft)),days:Zn(Xt(Ft)),hours:Zn(Xt(Yt)),minutes:Zn(Xt(_n)),seconds:Zn(Xt(On),"-0"===On),milliseconds:Zn(Mn(ln),xn)}]}const Ba={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vr(Se,$,ye,Me,ft,Ft,Yt){const _n={year:2===$.length?Ai(Ut($)):Ut($),month:ae.indexOf(ye)+1,day:Ut(Me),hour:Ut(ft),minute:Ut(Ft)};return Yt&&(_n.second=Ut(Yt)),Se&&(_n.weekday=Se.length>3?At.indexOf(Se)+1:hn.indexOf(Se)+1),_n}const pr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Na(Se){const[,$,ye,Me,ft,Ft,Yt,_n,On,ln,En,xn]=Se,Zn=Vr($,ft,Me,ye,Ft,Yt,_n);let ss;return ss=On?Ba[On]:ln?0:vn(En,xn),[Zn,new _t(ss)]}const Sa=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Pr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Vs=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _r(Se){const[,$,ye,Me,ft,Ft,Yt,_n]=Se;return[Vr($,ft,Me,ye,Ft,Yt,_n),_t.utcInstance]}function Lr(Se){const[,$,ye,Me,ft,Ft,Yt,_n]=Se;return[Vr($,_n,ye,Me,ft,Ft,Yt),_t.utcInstance]}const So=pi(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Zr),ya=pi(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Zr),rr=pi(/(\d{4})-?(\d{3})/,Zr),hs=pi(wr),As=js(function da(Se,$){return[{year:qr(Se,$),month:qr(Se,$+1,1),day:qr(Se,$+2,1)},null,$+3]},Fa,fr,kr),Ps=js(pa,Fa,fr,kr),Wr=js(Cr,Fa,fr,kr),Sr=js(Fa,fr,kr),H=js(Fa),ee=pi(/(\d{4})-(\d\d)-(\d\d)/,xr),Ee=pi(Kr),qe=js(Fa,fr,kr),yn="Invalid Duration",ai={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ts={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ai},ji=365.2425,Js=30.436875,Ur={years:{quarters:4,months:12,weeks:ji/7,days:ji,hours:24*ji,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ji/28,days:ji/4,hours:24*ji/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Js/7,days:Js,hours:24*Js,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ai},ma=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Va=ma.slice(0).reverse();function Ir(Se,$,ye=!1){const Me={values:ye?$.values:{...Se.values,...$.values||{}},loc:Se.loc.clone($.loc),conversionAccuracy:$.conversionAccuracy||Se.conversionAccuracy,matrix:$.matrix||Se.matrix};return new Is(Me)}function La(Se,$){let ye=$.milliseconds??0;for(const Me of Va.slice(1))$[Me]&&(ye+=$[Me]*Se[Me].milliseconds);return ye}function to(Se,$){const ye=La(Se,$)<0?-1:1;ma.reduceRight((Me,ft)=>{if(tn($[ft]))return Me;if(Me){const Yt=Se[ft][Me],_n=Math.floor($[Me]*ye/Yt);$[ft]+=_n*ye,$[Me]-=_n*Yt*ye}return ft},null),ma.reduce((Me,ft)=>{if(tn($[ft]))return Me;if(Me){const Ft=$[Me]%1;$[Me]-=Ft,$[ft]+=Ft*Se[Me][ft]}return ft},null)}class Is{constructor($){const ye="longterm"===$.conversionAccuracy||!1;let Me=ye?Ur:ts;$.matrix&&(Me=$.matrix),this.values=$.values,this.loc=$.loc||Ae.create(),this.conversionAccuracy=ye?"longterm":"casual",this.invalid=$.invalid||null,this.matrix=Me,this.isLuxonDuration=!0}static fromMillis($,ye){return Is.fromObject({milliseconds:$},ye)}static fromObject($,ye={}){if(null==$||"object"!=typeof $)throw new m("Duration.fromObject: argument expected to be an object, got "+(null===$?"null":typeof $));return new Is({values:Pn($,Is.normalizeUnit),loc:Ae.fromObject(ye),conversionAccuracy:ye.conversionAccuracy,matrix:ye.matrix})}static fromDurationLike($){if(Vn($))return Is.fromMillis($);if(Is.isDuration($))return $;if("object"==typeof $)return Is.fromObject($);throw new m(`Unknown duration argument ${$} of type ${typeof $}`)}static fromISO($,ye){const[Me]=function Qo(Se){return Ts(Se,[ea,Da])}($);return Me?Is.fromObject(Me,ye):Is.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static fromISOTime($,ye){const[Me]=function ie(Se){return Ts(Se,[Lo,H])}($);return Me?Is.fromObject(Me,ye):Is.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static invalid($,ye=null){if(!$)throw new m("need to specify a reason the Duration is invalid");const Me=$ instanceof wt?$:new wt($,ye);if(xi.throwOnInvalid)throw new A(Me);return new Is({invalid:Me})}static normalizeUnit($){const ye={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[$&&$.toLowerCase()];if(!ye)throw new w($);return ye}static isDuration($){return $&&$.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat($,ye={}){const Me={...ye,floor:!1!==ye.round&&!1!==ye.floor};return this.isValid?Jn.create(this.loc,Me).formatDurationFromString(this,$):yn}toHuman($={}){if(!this.isValid)return yn;const ye=ma.map(Me=>{const ft=this.values[Me];return tn(ft)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...$,unit:Me.slice(0,-1)}).format(ft)}).filter(Me=>Me);return this.loc.listFormatter({type:"conjunction",style:$.listStyle||"narrow",...$}).format(ye)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let $="P";return 0!==this.years&&($+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&($+=this.months+3*this.quarters+"M"),0!==this.weeks&&($+=this.weeks+"W"),0!==this.days&&($+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&($+="T"),0!==this.hours&&($+=this.hours+"H"),0!==this.minutes&&($+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&($+=hi(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===$&&($+="T0S"),$}toISOTime($={}){if(!this.isValid)return null;const ye=this.toMillis();return ye<0||ye>=864e5?null:($={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...$,includeOffset:!1},Yn.fromMillis(ye,{zone:"UTC"}).toISOTime($))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?La(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus($){if(!this.isValid)return this;const ye=Is.fromDurationLike($),Me={};for(const ft of ma)(Qn(ye.values,ft)||Qn(this.values,ft))&&(Me[ft]=ye.get(ft)+this.get(ft));return Ir(this,{values:Me},!0)}minus($){if(!this.isValid)return this;const ye=Is.fromDurationLike($);return this.plus(ye.negate())}mapUnits($){if(!this.isValid)return this;const ye={};for(const Me of Object.keys(this.values))ye[Me]=Wt($(this.values[Me],Me));return Ir(this,{values:ye},!0)}get($){return this[Is.normalizeUnit($)]}set($){return this.isValid?Ir(this,{values:{...this.values,...Pn($,Is.normalizeUnit)}}):this}reconfigure({locale:$,numberingSystem:ye,conversionAccuracy:Me,matrix:ft}={}){return Ir(this,{loc:this.loc.clone({locale:$,numberingSystem:ye}),matrix:ft,conversionAccuracy:Me})}as($){return this.isValid?this.shiftTo($).get($):NaN}normalize(){if(!this.isValid)return this;const $=this.toObject();return to(this.matrix,$),Ir(this,{values:$},!0)}rescale(){return this.isValid?Ir(this,{values:function _c(Se){const $={};for(const[ye,Me]of Object.entries(Se))0!==Me&&($[ye]=Me);return $}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...$){if(!this.isValid)return this;if(0===$.length)return this;$=$.map(Yt=>Is.normalizeUnit(Yt));const ye={},Me={},ft=this.toObject();let Ft;for(const Yt of ma)if($.indexOf(Yt)>=0){Ft=Yt;let _n=0;for(const ln in Me)_n+=this.matrix[ln][Yt]*Me[ln],Me[ln]=0;Vn(ft[Yt])&&(_n+=ft[Yt]);const On=Math.trunc(_n);ye[Yt]=On,Me[Yt]=(1e3*_n-1e3*On)/1e3}else Vn(ft[Yt])&&(Me[Yt]=ft[Yt]);for(const Yt in Me)0!==Me[Yt]&&(ye[Ft]+=Yt===Ft?Me[Yt]:Me[Yt]/this.matrix[Ft][Yt]);return to(this.matrix,ye),Ir(this,{values:ye},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const $={};for(const ye of Object.keys(this.values))$[ye]=0===this.values[ye]?0:-this.values[ye];return Ir(this,{values:$},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals($){if(!this.isValid||!$.isValid||!this.loc.equals($.loc))return!1;function ye(Me,ft){return void 0===Me||0===Me?void 0===ft||0===ft:Me===ft}for(const Me of ma)if(!ye(this.values[Me],$.values[Me]))return!1;return!0}}const Ma="Invalid Interval";class Ks{constructor($){this.s=$.start,this.e=$.end,this.invalid=$.invalid||null,this.isLuxonInterval=!0}static invalid($,ye=null){if(!$)throw new m("need to specify a reason the Interval is invalid");const Me=$ instanceof wt?$:new wt($,ye);if(xi.throwOnInvalid)throw new p(Me);return new Ks({invalid:Me})}static fromDateTimes($,ye){const Me=es($),ft=es(ye),Ft=function Zo(Se,$){return Se&&Se.isValid?$&&$.isValid?$<Se?Ks.invalid("end before start",`The end of an interval must be after its start, but you had start=${Se.toISO()} and end=${$.toISO()}`):null:Ks.invalid("missing or invalid end"):Ks.invalid("missing or invalid start")}(Me,ft);return Ft??new Ks({start:Me,end:ft})}static after($,ye){const Me=Is.fromDurationLike(ye),ft=es($);return Ks.fromDateTimes(ft,ft.plus(Me))}static before($,ye){const Me=Is.fromDurationLike(ye),ft=es($);return Ks.fromDateTimes(ft.minus(Me),ft)}static fromISO($,ye){const[Me,ft]=($||"").split("/",2);if(Me&&ft){let Ft,Yt,_n,On;try{Ft=Yn.fromISO(Me,ye),Yt=Ft.isValid}catch{Yt=!1}try{_n=Yn.fromISO(ft,ye),On=_n.isValid}catch{On=!1}if(Yt&&On)return Ks.fromDateTimes(Ft,_n);if(Yt){const ln=Is.fromISO(ft,ye);if(ln.isValid)return Ks.after(Ft,ln)}else if(On){const ln=Is.fromISO(Me,ye);if(ln.isValid)return Ks.before(_n,ln)}}return Ks.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static isInterval($){return $&&$.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length($="milliseconds"){return this.isValid?this.toDuration($).get($):NaN}count($="milliseconds",ye){if(!this.isValid)return NaN;const Me=this.start.startOf($,ye);let ft;return ft=ye?.useLocaleWeeks?this.end.reconfigure({locale:Me.locale}):this.end,ft=ft.startOf($,ye),Math.floor(ft.diff(Me,$).get($))+(ft.valueOf()!==this.end.valueOf())}hasSame($){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,$))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter($){return!!this.isValid&&this.s>$}isBefore($){return!!this.isValid&&this.e<=$}contains($){return!!this.isValid&&this.s<=$&&this.e>$}set({start:$,end:ye}={}){return this.isValid?Ks.fromDateTimes($||this.s,ye||this.e):this}splitAt(...$){if(!this.isValid)return[];const ye=$.map(es).filter(Yt=>this.contains(Yt)).sort((Yt,_n)=>Yt.toMillis()-_n.toMillis()),Me=[];let{s:ft}=this,Ft=0;for(;ft<this.e;){const Yt=ye[Ft]||this.e,_n=+Yt>+this.e?this.e:Yt;Me.push(Ks.fromDateTimes(ft,_n)),ft=_n,Ft+=1}return Me}splitBy($){const ye=Is.fromDurationLike($);if(!this.isValid||!ye.isValid||0===ye.as("milliseconds"))return[];let Ft,{s:Me}=this,ft=1;const Yt=[];for(;Me<this.e;){const _n=this.start.plus(ye.mapUnits(On=>On*ft));Ft=+_n>+this.e?this.e:_n,Yt.push(Ks.fromDateTimes(Me,Ft)),Me=Ft,ft+=1}return Yt}divideEqually($){return this.isValid?this.splitBy(this.length()/$).slice(0,$):[]}overlaps($){return this.e>$.s&&this.s<$.e}abutsStart($){return!!this.isValid&&+this.e==+$.s}abutsEnd($){return!!this.isValid&&+$.e==+this.s}engulfs($){return!!this.isValid&&this.s<=$.s&&this.e>=$.e}equals($){return!(!this.isValid||!$.isValid)&&this.s.equals($.s)&&this.e.equals($.e)}intersection($){if(!this.isValid)return this;const ye=this.s>$.s?this.s:$.s,Me=this.e<$.e?this.e:$.e;return ye>=Me?null:Ks.fromDateTimes(ye,Me)}union($){return this.isValid?Ks.fromDateTimes(this.s<$.s?this.s:$.s,this.e>$.e?this.e:$.e):this}static merge($){const[ye,Me]=$.sort((ft,Ft)=>ft.s-Ft.s).reduce(([ft,Ft],Yt)=>Ft?Ft.overlaps(Yt)||Ft.abutsStart(Yt)?[ft,Ft.union(Yt)]:[ft.concat([Ft]),Yt]:[ft,Yt],[[],null]);return Me&&ye.push(Me),ye}static xor($){let ye=null,Me=0;const ft=[],Ft=$.map(On=>[{time:On.s,type:"s"},{time:On.e,type:"e"}]),_n=Array.prototype.concat(...Ft).sort((On,ln)=>On.time-ln.time);for(const On of _n)Me+="s"===On.type?1:-1,1===Me?ye=On.time:(ye&&+ye!=+On.time&&ft.push(Ks.fromDateTimes(ye,On.time)),ye=null);return Ks.merge(ft)}difference(...$){return Ks.xor([this].concat($)).map(ye=>this.intersection(ye)).filter(ye=>ye&&!ye.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ma}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString($=Y,ye={}){return this.isValid?Jn.create(this.s.loc.clone(ye),$).formatInterval(this):Ma}toISO($){return this.isValid?`${this.s.toISO($)}/${this.e.toISO($)}`:Ma}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ma}toISOTime($){return this.isValid?`${this.s.toISOTime($)}/${this.e.toISOTime($)}`:Ma}toFormat($,{separator:ye=" \u2013 "}={}){return this.isValid?`${this.s.toFormat($)}${ye}${this.e.toFormat($)}`:Ma}toDuration($,ye){return this.isValid?this.e.diff(this.s,$,ye):Is.invalid(this.invalidReason)}mapEndpoints($){return Ks.fromDateTimes($(this.s),$(this.e))}}class Eo{static hasDST($=xi.defaultZone){const ye=Yn.now().setZone($).set({month:12});return!$.isUniversal&&ye.offset!==ye.set({month:6}).offset}static isValidIANAZone($){return Xe.isValidZone($)}static normalizeZone($){return nn($,xi.defaultZone)}static getStartOfWeek({locale:$=null,locObj:ye=null}={}){return(ye||Ae.create($)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:$=null,locObj:ye=null}={}){return(ye||Ae.create($)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:$=null,locObj:ye=null}={}){return(ye||Ae.create($)).getWeekendDays().slice()}static months($="long",{locale:ye=null,numberingSystem:Me=null,locObj:ft=null,outputCalendar:Ft="gregory"}={}){return(ft||Ae.create(ye,Me,Ft)).months($)}static monthsFormat($="long",{locale:ye=null,numberingSystem:Me=null,locObj:ft=null,outputCalendar:Ft="gregory"}={}){return(ft||Ae.create(ye,Me,Ft)).months($,!0)}static weekdays($="long",{locale:ye=null,numberingSystem:Me=null,locObj:ft=null}={}){return(ft||Ae.create(ye,Me,null)).weekdays($)}static weekdaysFormat($="long",{locale:ye=null,numberingSystem:Me=null,locObj:ft=null}={}){return(ft||Ae.create(ye,Me,null)).weekdays($,!0)}static meridiems({locale:$=null}={}){return Ae.create($).meridiems()}static eras($="short",{locale:ye=null}={}){return Ae.create(ye,null,"gregory").eras($)}static features(){return{relative:Gt(),localeWeek:oi()}}}function Sl(Se,$){const ye=ft=>ft.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Me=ye($)-ye(Se);return Math.floor(Is.fromMillis(Me).as("days"))}function ws(Se,$=ye=>ye){return{regex:Se,deser:([ye])=>$(function Ot(Se){let $=parseInt(Se,10);if(isNaN($)){$="";for(let ye=0;ye<Se.length;ye++){const Me=Se.charCodeAt(ye);if(-1!==Se[ye].search(wn.hanidec))$+=ei.indexOf(Se[ye]);else for(const ft in Kn){const[Ft,Yt]=Kn[ft];Me>=Ft&&Me<=Yt&&($+=Me-Ft)}}return parseInt($,10)}return $}(ye))}}const jo=new RegExp("[ \xa0]","g");function wo(Se){return Se.replace(/\./g,"\\.?").replace(jo,"[ \xa0]")}function Rr(Se){return Se.replace(/\./g,"").replace(jo," ").toLowerCase()}function Ea(Se,$){return null===Se?null:{regex:RegExp(Se.map(wo).join("|")),deser:([ye])=>Se.findIndex(Me=>Rr(ye)===Rr(Me))+$}}function qo(Se,$){return{regex:Se,deser:([,ye,Me])=>vn(ye,Me),groups:$}}function Oa(Se){return{regex:Se,deser:([$])=>$}}function Yl(Se){return Se.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Ua={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ho=null;function ns(Se,$){return Array.prototype.concat(...Se.map(ye=>function ci(Se,$){if(Se.literal)return Se;const Me=ta(Jn.macroTokenToFormatOpts(Se.val),$);return null==Me||Me.includes(void 0)?Se:Me}(ye,$)))}class lr{constructor($,ye){if(this.locale=$,this.format=ye,this.tokens=ns(Jn.parseFormat(ye),$),this.units=this.tokens.map(Me=>function vc(Se,$){const ye=Sn($),Me=Sn($,"{2}"),ft=Sn($,"{3}"),Ft=Sn($,"{4}"),Yt=Sn($,"{6}"),_n=Sn($,"{1,2}"),On=Sn($,"{1,3}"),ln=Sn($,"{1,6}"),En=Sn($,"{1,9}"),xn=Sn($,"{2,4}"),Zn=Sn($,"{4,6}"),ss=io=>({regex:RegExp(Yl(io.val)),deser:([Zi])=>Zi,literal:!0}),si=(io=>{if(Se.literal)return ss(io);switch(io.val){case"G":return Ea($.eras("short"),0);case"GG":return Ea($.eras("long"),0);case"y":return ws(ln);case"yy":case"kk":return ws(xn,Ai);case"yyyy":case"kkkk":return ws(Ft);case"yyyyy":return ws(Zn);case"yyyyyy":return ws(Yt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ws(_n);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ws(Me);case"MMM":return Ea($.months("short",!0),1);case"MMMM":return Ea($.months("long",!0),1);case"LLL":return Ea($.months("short",!1),1);case"LLLL":return Ea($.months("long",!1),1);case"o":case"S":return ws(On);case"ooo":case"SSS":return ws(ft);case"u":return Oa(En);case"uu":return Oa(_n);case"uuu":case"E":case"c":return ws(ye);case"a":return Ea($.meridiems(),0);case"EEE":return Ea($.weekdays("short",!1),1);case"EEEE":return Ea($.weekdays("long",!1),1);case"ccc":return Ea($.weekdays("short",!0),1);case"cccc":return Ea($.weekdays("long",!0),1);case"Z":case"ZZ":return qo(new RegExp(`([+-]${_n.source})(?::(${Me.source}))?`),2);case"ZZZ":return qo(new RegExp(`([+-]${_n.source})(${Me.source})?`),2);case"z":return Oa(/[a-z_+-/]{1,256}?/i);case" ":return Oa(/[^\S\n\r]/);default:return ss(io)}})(Se)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return si.token=Se,si}(Me,$)),this.disqualifyingUnit=this.units.find(Me=>Me.invalidReason),!this.disqualifyingUnit){const[Me,ft]=function Tl(Se){return[`^${Se.map(ye=>ye.regex).reduce((ye,Me)=>`${ye}(${Me.source})`,"")}$`,Se]}(this.units);this.regex=RegExp(Me,"i"),this.handlers=ft}}explainFromTokens($){if(this.isValid){const[ye,Me]=function or(Se,$,ye){const Me=Se.match($);if(Me){const ft={};let Ft=1;for(const Yt in ye)if(Qn(ye,Yt)){const _n=ye[Yt],On=_n.groups?_n.groups+1:1;!_n.literal&&_n.token&&(ft[_n.token.val[0]]=_n.deser(Me.slice(Ft,Ft+On))),Ft+=On}return[Me,ft]}return[Me,{}]}($,this.regex,this.handlers),[ft,Ft,Yt]=Me?function no(Se){let Me,ye=null;return tn(Se.z)||(ye=Xe.create(Se.z)),tn(Se.Z)||(ye||(ye=new _t(Se.Z)),Me=Se.Z),tn(Se.q)||(Se.M=3*(Se.q-1)+1),tn(Se.h)||(Se.h<12&&1===Se.a?Se.h+=12:12===Se.h&&0===Se.a&&(Se.h=0)),0===Se.G&&Se.y&&(Se.y=-Se.y),tn(Se.u)||(Se.S=Mn(Se.u)),[Object.keys(Se).reduce((Ft,Yt)=>{const _n=(Ft=>{switch(Ft){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Yt);return _n&&(Ft[_n]=Se[Yt]),Ft},{}),ye,Me]}(Me):[null,null,void 0];if(Qn(Me,"a")&&Qn(Me,"H"))throw new e("Can't include meridiem when specifying 24-hour format");return{input:$,tokens:this.tokens,regex:this.regex,rawMatches:ye,matches:Me,result:ft,zone:Ft,specificOffset:Yt}}return{input:$,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function dr(Se,$,ye){return new lr(Se,ye).explainFromTokens($)}function ta(Se,$){if(!Se)return null;const Me=Jn.create($,Se).dtFormatter(function Fs(){return ho||(ho=Yn.fromMillis(1555555555555)),ho}()),ft=Me.formatToParts(),Ft=Me.resolvedOptions();return ft.map(Yt=>function dl(Se,$,ye){const{type:Me,value:ft}=Se;if("literal"===Me){const On=/^\s+$/.test(ft);return{literal:!On,val:On?" ":ft}}let Yt=Me;"hour"===Me&&(Yt=null!=$.hour12?$.hour12?"hour12":"hour24":null!=$.hourCycle?"h11"===$.hourCycle||"h12"===$.hourCycle?"hour12":"hour24":ye.hour12?"hour12":"hour24");let _n=Ua[Yt];if("object"==typeof _n&&(_n=_n[$[Me]]),_n)return{literal:!1,val:_n}}(Yt,Se,Ft))}const Ge="Invalid DateTime",mn=864e13;function $e(Se){return new wt("unsupported zone",`the zone "${Se.name}" is not supported`)}function It(Se){return null===Se.weekData&&(Se.weekData=Ti(Se.c)),Se.weekData}function at(Se){return null===Se.localWeekData&&(Se.localWeekData=Ti(Se.c,Se.loc.getMinDaysInFirstWeek(),Se.loc.getStartOfWeek())),Se.localWeekData}function bn(Se,$){const ye={ts:Se.ts,zone:Se.zone,c:Se.c,o:Se.o,loc:Se.loc,invalid:Se.invalid};return new Yn({...ye,...$,old:ye})}function Ri(Se,$,ye){let Me=Se-60*$*1e3;const ft=ye.offset(Me);if($===ft)return[Me,$];Me-=60*(ft-$)*1e3;const Ft=ye.offset(Me);return ft===Ft?[Me,ft]:[Se-60*Math.min(ft,Ft)*1e3,Math.max(ft,Ft)]}function us(Se,$){const ye=new Date(Se+=60*$*1e3);return{year:ye.getUTCFullYear(),month:ye.getUTCMonth()+1,day:ye.getUTCDate(),hour:ye.getUTCHours(),minute:ye.getUTCMinutes(),second:ye.getUTCSeconds(),millisecond:ye.getUTCMilliseconds()}}function qi(Se,$,ye){return Ri(Ji(Se),$,ye)}function Er(Se,$){const ye=Se.o,Me=Se.c.year+Math.trunc($.years),ft=Se.c.month+Math.trunc($.months)+3*Math.trunc($.quarters),Ft={...Se.c,year:Me,month:ft,day:Math.min(Se.c.day,Ki(Me,ft))+Math.trunc($.days)+7*Math.trunc($.weeks)},Yt=Is.fromObject({years:$.years-Math.trunc($.years),quarters:$.quarters-Math.trunc($.quarters),months:$.months-Math.trunc($.months),weeks:$.weeks-Math.trunc($.weeks),days:$.days-Math.trunc($.days),hours:$.hours,minutes:$.minutes,seconds:$.seconds,milliseconds:$.milliseconds}).as("milliseconds"),_n=Ji(Ft);let[On,ln]=Ri(_n,ye,Se.zone);return 0!==Yt&&(On+=Yt,ln=Se.zone.offset(On)),{ts:On,o:ln}}function Br(Se,$,ye,Me,ft,Ft){const{setZone:Yt,zone:_n}=ye;if(Se&&0!==Object.keys(Se).length||$){const On=$||_n,ln=Yn.fromObject(Se,{...ye,zone:On,specificOffset:Ft});return Yt?ln:ln.setZone(_n)}return Yn.invalid(new wt("unparsable",`the input "${ft}" can't be parsed as ${Me}`))}function Yr(Se,$,ye=!0){return Se.isValid?Jn.create(Ae.create("en-US"),{allowZ:ye,forceSimple:!0}).formatDateTimeFromString(Se,$):null}function mr(Se,$){const ye=Se.c.year>9999||Se.c.year<0;let Me="";return ye&&Se.c.year>=0&&(Me+="+"),Me+=ht(Se.c.year,ye?6:4),$?(Me+="-",Me+=ht(Se.c.month),Me+="-",Me+=ht(Se.c.day)):(Me+=ht(Se.c.month),Me+=ht(Se.c.day)),Me}function Ys(Se,$,ye,Me,ft,Ft){let Yt=ht(Se.c.hour);return $?(Yt+=":",Yt+=ht(Se.c.minute),(0!==Se.c.millisecond||0!==Se.c.second||!ye)&&(Yt+=":")):Yt+=ht(Se.c.minute),(0!==Se.c.millisecond||0!==Se.c.second||!ye)&&(Yt+=ht(Se.c.second),(0!==Se.c.millisecond||!Me)&&(Yt+=".",Yt+=ht(Se.c.millisecond,3))),ft&&(Se.isOffsetFixed&&0===Se.offset&&!Ft?Yt+="Z":Se.o<0?(Yt+="-",Yt+=ht(Math.trunc(-Se.o/60)),Yt+=":",Yt+=ht(Math.trunc(-Se.o%60))):(Yt+="+",Yt+=ht(Math.trunc(Se.o/60)),Yt+=":",Yt+=ht(Math.trunc(Se.o%60)))),Ft&&(Yt+="["+Se.zone.ianaName+"]"),Yt}const tr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},el={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$o={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Mi=["year","month","day","hour","minute","second","millisecond"],Hi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],se=["year","ordinal","hour","minute","second","millisecond"];function pe(Se){switch(Se.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Ce(Se){const $={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Se.toLowerCase()];if(!$)throw new w(Se);return $}(Se)}}function Je(Se,$){const ye=nn($.zone,xi.defaultZone);if(!ye.isValid)return Yn.invalid($e(ye));const Me=Ae.fromObject($);let ft,Ft;if(tn(Se.year))ft=xi.now();else{for(const On of Mi)tn(Se[On])&&(Se[On]=tr[On]);const Yt=Rt(Se)||yt(Se);if(Yt)return Yn.invalid(Yt);const _n=function we(Se){if(void 0===rn&&(rn=xi.now()),"iana"!==Se.type)return Se.offset(rn);const $=Se.name;let ye=kn.get($);return void 0===ye&&(ye=Se.offset(rn),kn.set($,ye)),ye}(ye);[ft,Ft]=qi(Se,_n,ye)}return new Yn({ts:ft,zone:ye,loc:Me,o:Ft})}function Mt(Se,$,ye){const Me=!!tn(ye.round)||ye.round,ft=(Yt,_n)=>(Yt=hi(Yt,Me||ye.calendary?0:2,!0),$.loc.clone(ye).relFormatter(ye).format(Yt,_n)),Ft=Yt=>ye.calendary?$.hasSame(Se,Yt)?0:$.startOf(Yt).diff(Se.startOf(Yt),Yt).get(Yt):$.diff(Se,Yt).get(Yt);if(ye.unit)return ft(Ft(ye.unit),ye.unit);for(const Yt of ye.units){const _n=Ft(Yt);if(Math.abs(_n)>=1)return ft(_n,Yt)}return ft(Se>$?-0:0,ye.units[ye.units.length-1])}function St(Se){let ye,$={};return Se.length>0&&"object"==typeof Se[Se.length-1]?($=Se[Se.length-1],ye=Array.from(Se).slice(0,Se.length-1)):ye=Array.from(Se),[$,ye]}let rn;const kn=new Map;class Yn{constructor($){const ye=$.zone||xi.defaultZone;let Me=$.invalid||(Number.isNaN($.ts)?new wt("invalid input"):null)||(ye.isValid?null:$e(ye));this.ts=tn($.ts)?xi.now():$.ts;let ft=null,Ft=null;if(!Me)if($.old&&$.old.ts===this.ts&&$.old.zone.equals(ye))[ft,Ft]=[$.old.c,$.old.o];else{const _n=Vn($.o)&&!$.old?$.o:ye.offset(this.ts);ft=us(this.ts,_n),Me=Number.isNaN(ft.year)?new wt("invalid input"):null,ft=Me?null:ft,Ft=Me?null:_n}this._zone=ye,this.loc=$.loc||Ae.create(),this.invalid=Me,this.weekData=null,this.localWeekData=null,this.c=ft,this.o=Ft,this.isLuxonDateTime=!0}static now(){return new Yn({})}static local(){const[$,ye]=St(arguments),[Me,ft,Ft,Yt,_n,On,ln]=ye;return Je({year:Me,month:ft,day:Ft,hour:Yt,minute:_n,second:On,millisecond:ln},$)}static utc(){const[$,ye]=St(arguments),[Me,ft,Ft,Yt,_n,On,ln]=ye;return $.zone=_t.utcInstance,Je({year:Me,month:ft,day:Ft,hour:Yt,minute:_n,second:On,millisecond:ln},$)}static fromJSDate($,ye={}){const Me=function qn(Se){return"[object Date]"===Object.prototype.toString.call(Se)}($)?$.valueOf():NaN;if(Number.isNaN(Me))return Yn.invalid("invalid input");const ft=nn(ye.zone,xi.defaultZone);return ft.isValid?new Yn({ts:Me,zone:ft,loc:Ae.fromObject(ye)}):Yn.invalid($e(ft))}static fromMillis($,ye={}){if(Vn($))return $<-mn||$>mn?Yn.invalid("Timestamp out of range"):new Yn({ts:$,zone:nn(ye.zone,xi.defaultZone),loc:Ae.fromObject(ye)});throw new m(`fromMillis requires a numerical input, but received a ${typeof $} with value ${$}`)}static fromSeconds($,ye={}){if(Vn($))return new Yn({ts:1e3*$,zone:nn(ye.zone,xi.defaultZone),loc:Ae.fromObject(ye)});throw new m("fromSeconds requires a numerical input")}static fromObject($,ye={}){$=$||{};const Me=nn(ye.zone,xi.defaultZone);if(!Me.isValid)return Yn.invalid($e(Me));const ft=Ae.fromObject(ye),Ft=Pn($,pe),{minDaysInFirstWeek:Yt,startOfWeek:_n}=zi(Ft,ft),On=xi.now(),ln=tn(ye.specificOffset)?Me.offset(On):ye.specificOffset,En=!tn(Ft.ordinal),xn=!tn(Ft.year),Zn=!tn(Ft.month)||!tn(Ft.day),ss=xn||Zn,Ar=Ft.weekYear||Ft.weekNumber;if((ss||En)&&Ar)throw new e("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Zn&&En)throw new e("Can't mix ordinal dates with month/day");const si=Ar||Ft.weekday&&!ss;let io,Zi,Qs=us(On,ln);si?(io=Hi,Zi=el,Qs=Ti(Qs,Yt,_n)):En?(io=se,Zi=$o,Qs=Bi(Qs)):(io=Mi,Zi=tr);let vr=!1;for(const Ao of io)tn(Ft[Ao])?Ft[Ao]=vr?Zi[Ao]:Qs[Ao]:vr=!0;const Io=si?function ls(Se,$=4,ye=1){const Me=on(Se.weekYear),ft=Fe(Se.weekNumber,1,jt(Se.weekYear,$,ye)),Ft=Fe(Se.weekday,1,7);return Me?ft?!Ft&&Kt("weekday",Se.weekday):Kt("week",Se.weekNumber):Kt("weekYear",Se.weekYear)}(Ft,Yt,_n):En?function ut(Se){const $=on(Se.year),ye=Fe(Se.ordinal,1,Nn(Se.year));return $?!ye&&Kt("ordinal",Se.ordinal):Kt("year",Se.year)}(Ft):Rt(Ft),eu=Io||yt(Ft);if(eu)return Yn.invalid(eu);const Iu=si?Dn(Ft,Yt,_n):En?Ui(Ft):Ft,[Ru,md]=qi(Iu,ln,Me),Ro=new Yn({ts:Ru,zone:Me,o:md,loc:ft});return Ft.weekday&&ss&&$.weekday!==Ro.weekday?Yn.invalid("mismatched weekday",`you can't specify both a weekday of ${Ft.weekday} and a date of ${Ro.toISO()}`):Ro.isValid?Ro:Yn.invalid(Ro.invalid)}static fromISO($,ye={}){const[Me,ft]=function Jo(Se){return Ts(Se,[So,As],[ya,Ps],[rr,Wr],[hs,Sr])}($);return Br(Me,ft,ye,"ISO 8601",$)}static fromRFC2822($,ye={}){const[Me,ft]=function Uo(Se){return Ts(function qa(Se){return Se.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Se),[pr,Na])}($);return Br(Me,ft,ye,"RFC 2822",$)}static fromHTTP($,ye={}){const[Me,ft]=function eo(Se){return Ts(Se,[Sa,_r],[Pr,_r],[Vs,Lr])}($);return Br(Me,ft,ye,"HTTP",ye)}static fromFormat($,ye,Me={}){if(tn($)||tn(ye))throw new m("fromFormat requires an input string and a format");const{locale:ft=null,numberingSystem:Ft=null}=Me,Yt=Ae.fromOpts({locale:ft,numberingSystem:Ft,defaultToEN:!0}),[_n,On,ln,En]=function Fr(Se,$,ye){const{result:Me,zone:ft,specificOffset:Ft,invalidReason:Yt}=dr(Se,$,ye);return[Me,ft,Ft,Yt]}(Yt,$,ye);return En?Yn.invalid(En):Br(_n,On,Me,`format ${ye}`,$,ln)}static fromString($,ye,Me={}){return Yn.fromFormat($,ye,Me)}static fromSQL($,ye={}){const[Me,ft]=function Pt(Se){return Ts(Se,[ee,As],[Ee,qe])}($);return Br(Me,ft,ye,"SQL",$)}static invalid($,ye=null){if(!$)throw new m("need to specify a reason the DateTime is invalid");const Me=$ instanceof wt?$:new wt($,ye);if(xi.throwOnInvalid)throw new a(Me);return new Yn({invalid:Me})}static isDateTime($){return $&&$.isLuxonDateTime||!1}static parseFormatForOpts($,ye={}){const Me=ta($,Ae.fromObject(ye));return Me?Me.map(ft=>ft?ft.val:null).join(""):null}static expandFormat($,ye={}){return ns(Jn.parseFormat($),Ae.fromObject(ye)).map(ft=>ft.val).join("")}static resetCache(){rn=void 0,kn.clear()}get($){return this[$]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?It(this).weekYear:NaN}get weekNumber(){return this.isValid?It(this).weekNumber:NaN}get weekday(){return this.isValid?It(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?at(this).weekday:NaN}get localWeekNumber(){return this.isValid?at(this).weekNumber:NaN}get localWeekYear(){return this.isValid?at(this).weekYear:NaN}get ordinal(){return this.isValid?Bi(this.c).ordinal:NaN}get monthShort(){return this.isValid?Eo.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Eo.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Eo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Eo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const $=864e5,ye=6e4,Me=Ji(this.c),ft=this.zone.offset(Me-$),Ft=this.zone.offset(Me+$),Yt=this.zone.offset(Me-ft*ye),_n=this.zone.offset(Me-Ft*ye);if(Yt===_n)return[this];const On=Me-Yt*ye,ln=Me-_n*ye,En=us(On,Yt),xn=us(ln,_n);return En.hour===xn.hour&&En.minute===xn.minute&&En.second===xn.second&&En.millisecond===xn.millisecond?[bn(this,{ts:On}),bn(this,{ts:ln})]:[this]}get isInLeapYear(){return ri(this.year)}get daysInMonth(){return Ki(this.year,this.month)}get daysInYear(){return this.isValid?Nn(this.year):NaN}get weeksInWeekYear(){return this.isValid?jt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?jt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions($={}){const{locale:ye,numberingSystem:Me,calendar:ft}=Jn.create(this.loc.clone($),$).resolvedOptions(this);return{locale:ye,numberingSystem:Me,outputCalendar:ft}}toUTC($=0,ye={}){return this.setZone(_t.instance($),ye)}toLocal(){return this.setZone(xi.defaultZone)}setZone($,{keepLocalTime:ye=!1,keepCalendarTime:Me=!1}={}){if(($=nn($,xi.defaultZone)).equals(this.zone))return this;if($.isValid){let ft=this.ts;if(ye||Me){const Ft=$.offset(this.ts),Yt=this.toObject();[ft]=qi(Yt,Ft,$)}return bn(this,{ts:ft,zone:$})}return Yn.invalid($e($))}reconfigure({locale:$,numberingSystem:ye,outputCalendar:Me}={}){return bn(this,{loc:this.loc.clone({locale:$,numberingSystem:ye,outputCalendar:Me})})}setLocale($){return this.reconfigure({locale:$})}set($){if(!this.isValid)return this;const ye=Pn($,pe),{minDaysInFirstWeek:Me,startOfWeek:ft}=zi(ye,this.loc),Ft=!tn(ye.weekYear)||!tn(ye.weekNumber)||!tn(ye.weekday),Yt=!tn(ye.ordinal),_n=!tn(ye.year),On=!tn(ye.month)||!tn(ye.day);if((_n||On||Yt)&&(ye.weekYear||ye.weekNumber))throw new e("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(On&&Yt)throw new e("Can't mix ordinal dates with month/day");let xn;Ft?xn=Dn({...Ti(this.c,Me,ft),...ye},Me,ft):tn(ye.ordinal)?(xn={...this.toObject(),...ye},tn(ye.day)&&(xn.day=Math.min(Ki(xn.year,xn.month),xn.day))):xn=Ui({...Bi(this.c),...ye});const[Zn,ss]=qi(xn,this.o,this.zone);return bn(this,{ts:Zn,o:ss})}plus($){return this.isValid?bn(this,Er(this,Is.fromDurationLike($))):this}minus($){return this.isValid?bn(this,Er(this,Is.fromDurationLike($).negate())):this}startOf($,{useLocaleWeeks:ye=!1}={}){if(!this.isValid)return this;const Me={},ft=Is.normalizeUnit($);switch(ft){case"years":Me.month=1;case"quarters":case"months":Me.day=1;case"weeks":case"days":Me.hour=0;case"hours":Me.minute=0;case"minutes":Me.second=0;case"seconds":Me.millisecond=0}if("weeks"===ft)if(ye){const Ft=this.loc.getStartOfWeek(),{weekday:Yt}=this;Yt<Ft&&(Me.weekNumber=this.weekNumber-1),Me.weekday=Ft}else Me.weekday=1;if("quarters"===ft){const Ft=Math.ceil(this.month/3);Me.month=3*(Ft-1)+1}return this.set(Me)}endOf($,ye){return this.isValid?this.plus({[$]:1}).startOf($,ye).minus(1):this}toFormat($,ye={}){return this.isValid?Jn.create(this.loc.redefaultToEN(ye)).formatDateTimeFromString(this,$):Ge}toLocaleString($=Y,ye={}){return this.isValid?Jn.create(this.loc.clone(ye),$).formatDateTime(this):Ge}toLocaleParts($={}){return this.isValid?Jn.create(this.loc.clone($),$).formatDateTimeParts(this):[]}toISO({format:$="extended",suppressSeconds:ye=!1,suppressMilliseconds:Me=!1,includeOffset:ft=!0,extendedZone:Ft=!1}={}){if(!this.isValid)return null;const Yt="extended"===$;let _n=mr(this,Yt);return _n+="T",_n+=Ys(this,Yt,ye,Me,ft,Ft),_n}toISODate({format:$="extended"}={}){return this.isValid?mr(this,"extended"===$):null}toISOWeekDate(){return Yr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:$=!1,suppressSeconds:ye=!1,includeOffset:Me=!0,includePrefix:ft=!1,extendedZone:Ft=!1,format:Yt="extended"}={}){return this.isValid?(ft?"T":"")+Ys(this,"extended"===Yt,ye,$,Me,Ft):null}toRFC2822(){return Yr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Yr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mr(this,!0):null}toSQLTime({includeOffset:$=!0,includeZone:ye=!1,includeOffsetSpace:Me=!0}={}){let ft="HH:mm:ss.SSS";return(ye||$)&&(Me&&(ft+=" "),ye?ft+="z":$&&(ft+="ZZ")),Yr(this,ft,!0)}toSQL($={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime($)}`:null}toString(){return this.isValid?this.toISO():Ge}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject($={}){if(!this.isValid)return{};const ye={...this.c};return $.includeConfig&&(ye.outputCalendar=this.outputCalendar,ye.numberingSystem=this.loc.numberingSystem,ye.locale=this.loc.locale),ye}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff($,ye="milliseconds",Me={}){if(!this.isValid||!$.isValid)return Is.invalid("created by diffing an invalid DateTime");const ft={locale:this.locale,numberingSystem:this.numberingSystem,...Me},Ft=function zt(Se){return Array.isArray(Se)?Se:[Se]}(ye).map(Is.normalizeUnit),Yt=$.valueOf()>this.valueOf(),ln=function To(Se,$,ye,Me){let[ft,Ft,Yt,_n]=function El(Se,$,ye){const Me=[["years",(On,ln)=>ln.year-On.year],["quarters",(On,ln)=>ln.quarter-On.quarter+4*(ln.year-On.year)],["months",(On,ln)=>ln.month-On.month+12*(ln.year-On.year)],["weeks",(On,ln)=>{const En=Sl(On,ln);return(En-En%7)/7}],["days",Sl]],ft={},Ft=Se;let Yt,_n;for(const[On,ln]of Me)ye.indexOf(On)>=0&&(Yt=On,ft[On]=ln(Se,$),_n=Ft.plus(ft),_n>$?(ft[On]--,(Se=Ft.plus(ft))>$&&(_n=Se,ft[On]--,Se=Ft.plus(ft))):Se=_n);return[Se,ft,_n,Yt]}(Se,$,ye);const On=$-ft,ln=ye.filter(xn=>["hours","minutes","seconds","milliseconds"].indexOf(xn)>=0);0===ln.length&&(Yt<$&&(Yt=ft.plus({[_n]:1})),Yt!==ft&&(Ft[_n]=(Ft[_n]||0)+On/(Yt-ft)));const En=Is.fromObject(Ft,Me);return ln.length>0?Is.fromMillis(On,Me).shiftTo(...ln).plus(En):En}(Yt?this:$,Yt?$:this,Ft,ft);return Yt?ln.negate():ln}diffNow($="milliseconds",ye={}){return this.diff(Yn.now(),$,ye)}until($){return this.isValid?Ks.fromDateTimes(this,$):this}hasSame($,ye,Me){if(!this.isValid)return!1;const ft=$.valueOf(),Ft=this.setZone($.zone,{keepLocalTime:!0});return Ft.startOf(ye,Me)<=ft&&ft<=Ft.endOf(ye,Me)}equals($){return this.isValid&&$.isValid&&this.valueOf()===$.valueOf()&&this.zone.equals($.zone)&&this.loc.equals($.loc)}toRelative($={}){if(!this.isValid)return null;const ye=$.base||Yn.fromObject({},{zone:this.zone}),Me=$.padding?this<ye?-$.padding:$.padding:0;let ft=["years","months","days","hours","minutes","seconds"],Ft=$.unit;return Array.isArray($.unit)&&(ft=$.unit,Ft=void 0),Mt(ye,this.plus(Me),{...$,numeric:"always",units:ft,unit:Ft})}toRelativeCalendar($={}){return this.isValid?Mt($.base||Yn.fromObject({},{zone:this.zone}),this,{...$,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...$){if(!$.every(Yn.isDateTime))throw new m("min requires all arguments be DateTimes");return Un($,ye=>ye.valueOf(),Math.min)}static max(...$){if(!$.every(Yn.isDateTime))throw new m("max requires all arguments be DateTimes");return Un($,ye=>ye.valueOf(),Math.max)}static fromFormatExplain($,ye,Me={}){const{locale:ft=null,numberingSystem:Ft=null}=Me;return dr(Ae.fromOpts({locale:ft,numberingSystem:Ft,defaultToEN:!0}),$,ye)}static fromStringExplain($,ye,Me={}){return Yn.fromFormatExplain($,ye,Me)}static buildFormatParser($,ye={}){const{locale:Me=null,numberingSystem:ft=null}=ye,Ft=Ae.fromOpts({locale:Me,numberingSystem:ft,defaultToEN:!0});return new lr(Ft,$)}static fromFormatParser($,ye,Me={}){if(tn($)||tn(ye))throw new m("fromFormatParser requires an input string and a format parser");const{locale:ft=null,numberingSystem:Ft=null}=Me,Yt=Ae.fromOpts({locale:ft,numberingSystem:Ft,defaultToEN:!0});if(!Yt.equals(ye.locale))throw new m(`fromFormatParser called with a locale of ${Yt}, but the format parser was created for ${ye.locale}`);const{result:_n,zone:On,specificOffset:ln,invalidReason:En}=ye.explainFromTokens($);return En?Yn.invalid(En):Br(_n,On,Me,`format ${ye.format}`,$,ln)}static get DATE_SHORT(){return Y}static get DATE_MED(){return u}static get DATE_MED_WITH_WEEKDAY(){return E}static get DATE_FULL(){return B}static get DATE_HUGE(){return V}static get TIME_SIMPLE(){return F}static get TIME_WITH_SECONDS(){return M}static get TIME_WITH_SHORT_OFFSET(){return W}static get TIME_WITH_LONG_OFFSET(){return y}static get TIME_24_SIMPLE(){return z}static get TIME_24_WITH_SECONDS(){return Z}static get TIME_24_WITH_SHORT_OFFSET(){return v}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return J}static get DATETIME_SHORT_WITH_SECONDS(){return te}static get DATETIME_MED(){return N}static get DATETIME_MED_WITH_SECONDS(){return fe}static get DATETIME_MED_WITH_WEEKDAY(){return oe}static get DATETIME_FULL(){return R}static get DATETIME_FULL_WITH_SECONDS(){return Pe}static get DATETIME_HUGE(){return Te}static get DATETIME_HUGE_WITH_SECONDS(){return We}}function es(Se){if(Yn.isDateTime(Se))return Se;if(Se&&Se.valueOf&&Vn(Se.valueOf()))return Yn.fromJSDate(Se);if(Se&&"object"==typeof Se)return Yn.fromObject(Se);throw new m(`Unknown datetime argument: ${Se}, of type ${typeof Se}`)}},4572:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>k,z:()=>g});var t=l(1985),a=l(3073),p=l(6648),A=l(3669),e=l(6450),w=l(9326),m=l(8496),D=l(4360),S=l(5225);function g(...u){const E=(0,w.lI)(u),B=(0,w.ms)(u),{args:V,keys:F}=(0,a.D)(u);if(0===V.length)return(0,p.H)([],E);const M=new t.c(k(V,E,F?W=>(0,m.e)(F,W):A.D));return B?M.pipe((0,e.I)(B)):M}function k(u,E,B=A.D){return V=>{Y(E,()=>{const{length:F}=u,M=new Array(F);let W=F,y=F;for(let z=0;z<F;z++)Y(E,()=>{const Z=(0,p.H)(u[z],E);let v=!1;Z.subscribe((0,D._)(V,L=>{M[z]=L,v||(v=!0,y--),y||V.next(B(M.slice()))},()=>{--W||V.complete()}))},V)},V)}}function Y(u,E,B){u?(0,S.N)(B,u,E):E()}},4579:(ot,ve,l)=>{var t=l(6589);l(5437),l(812),(ot.exports=t.hmac=t.hmac||{}).create=function(){var p=null,A=null,e=null,w=null,m={start:function(D,S){if(null!==D)if("string"==typeof D){if(!((D=D.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+D+'"');A=t.md.algorithms[D].create()}else A=D;if(null===S)S=p;else{if("string"==typeof S)S=t.util.createBuffer(S);else if(t.util.isArray(S)){var g=S;S=t.util.createBuffer();for(var k=0;k<g.length;++k)S.putByte(g[k])}var Y=S.length();for(Y>A.blockLength&&(A.start(),A.update(S.bytes()),S=A.digest()),e=t.util.createBuffer(),w=t.util.createBuffer(),Y=S.length(),k=0;k<Y;++k)g=S.at(k),e.putByte(54^g),w.putByte(92^g);if(Y<A.blockLength)for(g=A.blockLength-Y,k=0;k<g;++k)e.putByte(54),w.putByte(92);p=S,e=e.bytes(),w=w.bytes()}A.start(),A.update(e)},update:function(D){A.update(D)},getMac:function(){var D=A.digest().bytes();return A.start(),A.update(w),A.update(D),A.digest()}};return m.digest=m.getMac,m}},4589:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>t});var t=function(a){return a[a.None=0]="None",a.Production="Production",a.NonProduction="Non-Production",a.Demo="Demo",a.Starter="Starter",a}(t||{})},4692:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>p});var t=l(1746),a=l(1360);let p=(()=>{class A{transform(w,m){return new t.w(w)}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275pipe=a.EJ8({name:"readOnlyValue",type:A,pure:!0,standalone:!1})}}return A})()},4701:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>Z});var t=l(6536),a=l(7263),p=l(1360),A=l(9417),e=l(8434),w=l(8698),m=l(9550),D=l(3860),S=l(7811),g=l(8018);const k=["claimsForm"];function Y(v,L){if(1&v){const J=p.RV6();p.j41(0,"input",12,1),p.bIt("keyup",function(){p.eBV(J);const N=p.XpG().$implicit,fe=p.XpG();return p.Njj(fe.checkForPolicyClaimForm(N.type,N))}),p.mxI("ngModelChange",function(N){p.eBV(J);const fe=p.XpG().$implicit;return p.DH7(fe.value,N)||(fe.value=N),p.Njj(N)}),p.k0s()}if(2&v){const J=p.sdS(1),te=p.XpG(),N=te.$implicit,fe=te.index,oe=p.XpG();p.Mz_("id","claim-",fe,""),p.Y8G("name",N.type),p.R50("ngModel",N.value),p.Y8G("appClaimRegex",N.regex)("disabled",oe.notAllowedToEditClaim(N)&&!J.dirty)}}function u(v,L){if(1&v){const J=p.RV6();p.j41(0,"input",13,1),p.bIt("keyup",function(){p.eBV(J);const N=p.XpG().$implicit,fe=p.XpG();return p.Njj(fe.checkForPolicyClaimForm(N.type,N))}),p.mxI("ngModelChange",function(N){p.eBV(J);const fe=p.XpG().$implicit;return p.DH7(fe.value,N)||(fe.value=N),p.Njj(N)}),p.k0s()}if(2&v){const J=p.sdS(1),te=p.XpG(),N=te.$implicit,fe=te.index,oe=p.XpG();p.Mz_("id","claim-",fe,""),p.Y8G("name",N.type),p.R50("ngModel",N.value),p.Y8G("disabled",oe.notAllowedToEditClaim(N)&&!J.dirty)}}function E(v,L){if(1&v){const J=p.RV6();p.j41(0,"app-form-toggle",14)(1,"input",15),p.bIt("keyup",function(){p.eBV(J);const N=p.XpG().$implicit,fe=p.XpG();return p.Njj(fe.checkForPolicyClaimForm(N.type,N))})("ngModelChange",function(N){p.eBV(J);const fe=p.XpG().$implicit;return p.Njj(fe.value=N?"true":"false")}),p.k0s()()}if(2&v){const J=p.XpG(),te=J.$implicit,N=J.index,fe=p.XpG();p.Y8G("id","claim-"+N)("isTraffic",!0)("isAlt",!1),p.R7$(),p.Y8G("id","claim-"+N)("name",te.type)("disabled",fe.notAllowedToEditClaim(te)&&!fe.claimvalue.dirty)("ngModel","true"==te.value)}}function B(v,L){if(1&v){const J=p.RV6();p.qex(0),p.j41(1,"app-date-time",18,1),p.mxI("ngModelChange",function(N){p.eBV(J);const fe=p.XpG(2).$implicit;return p.DH7(fe.value,N)||(fe.value=N),p.Njj(N)}),p.bIt("keyup",function(){p.eBV(J);const N=p.XpG(2).$implicit,fe=p.XpG();return p.Njj(fe.checkForPolicyClaimForm(N.type,N))})("change",function(){p.eBV(J);const N=p.XpG(3);return p.Njj(N.makeFormDirty())}),p.k0s(),p.bVm()}if(2&v){const J=p.sdS(2),te=p.XpG(2),N=te.$implicit,fe=te.index,oe=p.XpG();p.R7$(),p.Mz_("id","claim-",fe,""),p.Y8G("name",N.type),p.R50("ngModel",N.value),p.Y8G("disabled",oe.notAllowedToEditClaim(N)&&!J.dirty)}}function V(v,L){if(1&v){const J=p.RV6();p.qex(0),p.j41(1,"app-date-time",19,1),p.mxI("ngModelChange",function(N){p.eBV(J);const fe=p.XpG(2).$implicit;return p.DH7(fe.value,N)||(fe.value=N),p.Njj(N)}),p.bIt("keyup",function(){p.eBV(J);const N=p.XpG(2).$implicit,fe=p.XpG();return p.Njj(fe.checkForPolicyClaimForm(N.type,N))})("change",function(){p.eBV(J);const N=p.XpG(3);return p.Njj(N.makeFormDirty())}),p.k0s(),p.bVm()}if(2&v){const J=p.sdS(2),te=p.XpG(2),N=te.$implicit,fe=te.index,oe=p.XpG();p.R7$(),p.Mz_("id","claim-",fe,""),p.Y8G("name",N.type)("displayType",oe.dateTimeDisplayType.Date),p.R50("ngModel",N.value),p.Y8G("disabled",oe.notAllowedToEditClaim(N)&&!J.dirty)}}function F(v,L){if(1&v&&(p.j41(0,"div",16),p.DNE(1,B,3,5,"ng-container",17)(2,V,3,6,"ng-container",17),p.k0s()),2&v){const J=p.XpG().$implicit;p.R7$(),p.Y8G("ngIf","birthdate"!=J.type),p.R7$(),p.Y8G("ngIf","birthdate"==J.type)}}function M(v,L){if(1&v){const J=p.RV6();p.j41(0,"div",20)(1,"app-enum-claim-type-input",21),p.bIt("valueChanged",function(N){p.eBV(J);const fe=p.XpG().$implicit,oe=p.XpG();return fe.value=N,p.Njj(oe.makeFormDirty())})("keyupEvent",function(){p.eBV(J);const N=p.XpG().$implicit,fe=p.XpG();return p.Njj(fe.checkForPolicyClaimForm(N.type,N))}),p.k0s()()}if(2&v){const J=p.XpG(),te=J.$implicit,N=J.index,fe=p.XpG();p.R7$(),p.Y8G("id","claim-"+N)("typeId",fe.getClaimType(te).id)("value",te.value)("disabled",fe.notAllowedToEditClaim(te))}}function W(v,L){if(1&v&&(p.j41(0,"span",22),p.EFF(1),p.k0s()),2&v){const J=p.XpG().$implicit;p.R7$(),p.JRh(J.failureMessage)}}function y(v,L){if(1&v&&(p.j41(0,"span",11),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&v){const J=p.XpG().$implicit,te=p.XpG();p.R7$(),p.JRh(p.i5U(2,1,"Claims.RequiredMultipleValuesWarning",te.valueCount(J.type)))}}function z(v,L){if(1&v&&(p.j41(0,"app-form-row",4),p.DNE(1,Y,2,6,"input",5)(2,u,2,5,"input",6)(3,E,2,7,"app-form-toggle",7)(4,F,3,2,"div",8)(5,M,2,4,"div",9)(6,W,2,1,"span",10)(7,y,3,4,"span",11),p.k0s()),2&v){const J=L.$implicit,te=L.index,N=p.XpG();p.Y8G("id","claim-"+te)("label",N.getLabel(J))("help",N.getHelpTextString(J)),p.R7$(),p.Y8G("ngIf","String"==J.format),p.R7$(),p.Y8G("ngIf","Int"==J.format),p.R7$(),p.Y8G("ngIf","Boolean"==J.format),p.R7$(),p.Y8G("ngIf","DateTime"==J.format),p.R7$(),p.Y8G("ngIf","Enum"==J.format),p.R7$(),p.Y8G("ngIf",N.claimDirtyAndInvalid(J.type)),p.R7$(),p.vxM(N.valueCount(J.type).count>1?7:-1)}}let Z=(()=>{class v{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=t.e}ngOnChanges(){this.requiredClaims=[];for(const J of this.claimTypes??[])if(J.required){let te="Boolean"===J.valueType?"false":null,N=this.claims?.filter(oe=>oe.type===J.name)??[];N.length>0&&!(0,a.hX)(N[0].value)&&(te=N[0].value);const fe={typeId:J.id,format:J.valueType,value:te,type:J.name,displayName:J.displayName,editing:!1,required:J.required};J.rule&&(fe.regex=J.rule,fe.failureMessage=J.ruleValidationFailureDescription),this.requiredClaims.push(fe)}}getHelpTextString(J){return this.isPolicyClaim(J)?"DateTime"==J.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==J.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(J,te){this.notAllowedToEditClaim(te)&&this.claimsForm.form.controls[J].setErrors({incorrect:!0})}isClaimInValid(J){return this.claimsForm.form.get(J)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(J){let te=this.claimsForm.form.get(J)??{invalid:!1,dirty:!1};return te.invalid&&te.dirty}resetForm(){this.claimsForm.reset()}getClaimType(J){return this.claimTypes.find(te=>te.name===J.type)}getLabel(J){return(0,a.gP)(J.displayName)?J.type:J.displayName}valueCount(J){return{count:(this.claims?.filter(N=>N.type==J)??[]).length}}static{this.\u0275fac=function(te){return new(te||v)}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["app-required-claims-form"]],viewQuery:function(te,N){if(1&te&&p.GBs(k,7),2&te){let fe;p.mGM(fe=p.lsd())&&(N.claimsForm=fe.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},standalone:!1,features:[p.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["id","warn-msg",1,"tw-form-text-warning"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(te,N){1&te&&(p.j41(0,"form",2,0),p.DNE(2,z,8,10,"app-form-row",3),p.k0s()),2&te&&(p.R7$(2),p.Y8G("ngForOf",N.requiredClaims))},dependencies:[A.qT,A.me,A.Q0,A.Zm,A.BC,A.cb,A.YS,A.vS,A.cV,e.Sq,e.bT,t.Z,w.Y,m.m,D.$,S.j,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return v})()},4724:(ot,ve,l)=>{var t=l(6589);l(7097),l(4579),l(1817),l(8291),l(1347),l(1675),l(2880),l(8825),l(812),l(9436);var a=t.asn1,p=t.pki,A=ot.exports=t.pkcs12=t.pkcs12||{},e={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},w={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},e,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},m={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},D={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},S={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function g(V,F,M,W){for(var y=[],z=0;z<V.length;z++)for(var Z=0;Z<V[z].safeBags.length;Z++){var v=V[z].safeBags[Z];if(void 0===W||v.type===W){if(null===F){y.push(v);continue}void 0!==v.attributes[F]&&v.attributes[F].indexOf(M)>=0&&y.push(v)}}return y}function k(V){if(V.composed||V.constructed){for(var F=t.util.createBuffer(),M=0;M<V.value.length;++M)F.putBytes(V.value[M].value);V.composed=V.constructed=!1,V.value=F.getBytes()}return V}function u(V,F){var M={},W=[];if(!a.validate(V,t.pkcs7.asn1.encryptedDataValidator,M,W))throw(y=new Error("Cannot read EncryptedContentInfo.")).errors=W,y;var y,z=a.derToOid(M.contentType);if(z!==p.oids.data)throw(y=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=z,y;z=a.derToOid(M.encAlgorithm);var Z=p.pbe.getCipher(z,M.encParameter,F),v=k(M.encryptedContentAsn1),L=t.util.createBuffer(v.value);if(Z.update(L),!Z.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return Z.output.getBytes()}function E(V,F,M){if(!F&&0===V.length)return[];if((V=a.fromDer(V,F)).tagClass!==a.Class.UNIVERSAL||V.type!==a.Type.SEQUENCE||!0!==V.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var W=[],y=0;y<V.value.length;y++){var Z={},v=[];if(!a.validate(V.value[y],m,Z,v))throw(L=new Error("Cannot read SafeBag.")).errors=v,L;var J={type:a.derToOid(Z.bagId),attributes:B(Z.bagAttributes)};W.push(J);var te,N,fe=Z.bagValue.value[0];switch(J.type){case p.oids.pkcs8ShroudedKeyBag:if(null===(fe=p.decryptPrivateKeyInfo(fe,M)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case p.oids.keyBag:try{J.key=p.privateKeyFromAsn1(fe)}catch{J.key=null,J.asn1=fe}continue;case p.oids.certBag:te=S,N=function(){if(a.derToOid(Z.certId)!==p.oids.x509Certificate){var R=new Error("Unsupported certificate type, only X.509 supported.");throw R.oid=a.derToOid(Z.certId),R}var Pe=a.fromDer(Z.cert,F);try{J.cert=p.certificateFromAsn1(Pe,!0)}catch{J.cert=null,J.asn1=Pe}};break;default:var L;throw(L=new Error("Unsupported PKCS#12 SafeBag type.")).oid=J.type,L}if(void 0!==te&&!a.validate(fe,te,Z,v))throw(L=new Error("Cannot read PKCS#12 "+te.name)).errors=v,L;N()}return W}function B(V){var F={};if(void 0!==V)for(var M=0;M<V.length;++M){var W={},y=[];if(!a.validate(V[M],D,W,y)){var z=new Error("Cannot read PKCS#12 BagAttribute.");throw z.errors=y,z}var Z=a.derToOid(W.oid);if(void 0!==p.oids[Z]){F[p.oids[Z]]=[];for(var v=0;v<W.values.length;++v)F[p.oids[Z]].push(W.values[v].value)}}return F}A.pkcs12FromAsn1=function(V,F,M){"string"==typeof F?(M=F,F=!0):void 0===F&&(F=!0);var W={};if(!a.validate(V,w,W,[]))throw(z=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=z,z;var z,Z={version:W.version.charCodeAt(0),safeContents:[],getBags:function(Te){var rt,We={};return"localKeyId"in Te?rt=Te.localKeyId:"localKeyIdHex"in Te&&(rt=t.util.hexToBytes(Te.localKeyIdHex)),void 0===rt&&!("friendlyName"in Te)&&"bagType"in Te&&(We[Te.bagType]=g(Z.safeContents,null,null,Te.bagType)),void 0!==rt&&(We.localKeyId=g(Z.safeContents,"localKeyId",rt,Te.bagType)),"friendlyName"in Te&&(We.friendlyName=g(Z.safeContents,"friendlyName",Te.friendlyName,Te.bagType)),We},getBagsByFriendlyName:function(Te,We){return g(Z.safeContents,"friendlyName",Te,We)},getBagsByLocalKeyId:function(Te,We){return g(Z.safeContents,"localKeyId",Te,We)}};if(3!==W.version.charCodeAt(0))throw(z=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=W.version.charCodeAt(0),z;if(a.derToOid(W.contentType)!==p.oids.data)throw(z=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=a.derToOid(W.contentType),z;var v=W.content.value[0];if(v.tagClass!==a.Class.UNIVERSAL||v.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(v=k(v),W.mac){var L=null,J=0,te=a.derToOid(W.macAlgorithm);switch(te){case p.oids.sha1:L=t.md.sha1.create(),J=20;break;case p.oids.sha256:L=t.md.sha256.create(),J=32;break;case p.oids.sha384:L=t.md.sha384.create(),J=48;break;case p.oids.sha512:L=t.md.sha512.create(),J=64;break;case p.oids.md5:L=t.md.md5.create(),J=16}if(null===L)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+te);var N=new t.util.ByteBuffer(W.macSalt),fe="macIterations"in W?parseInt(t.util.bytesToHex(W.macIterations),16):1,oe=A.generateKey(M,N,3,fe,J,L),R=t.hmac.create();if(R.start(L,oe),R.update(v.value),R.getMac().getBytes()!==W.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function Y(V,F,M,W){if((F=a.fromDer(F,M)).tagClass!==a.Class.UNIVERSAL||F.type!==a.Type.SEQUENCE||!0!==F.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var y=0;y<F.value.length;y++){var Z={},v=[];if(!a.validate(F.value[y],e,Z,v))throw(L=new Error("Cannot read ContentInfo.")).errors=v,L;var J={encrypted:!1},te=null,N=Z.content.value[0];switch(a.derToOid(Z.contentType)){case p.oids.data:if(N.tagClass!==a.Class.UNIVERSAL||N.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");te=k(N).value;break;case p.oids.encryptedData:te=u(N,W),J.encrypted=!0;break;default:var L;throw(L=new Error("Unsupported PKCS#12 contentType.")).contentType=a.derToOid(Z.contentType),L}J.safeBags=E(te,M,W),V.safeContents.push(J)}}(Z,v.value,F,M),Z},A.toPkcs12Asn1=function(V,F,M,W){(W=W||{}).saltSize=W.saltSize||8,W.count=W.count||2048,W.algorithm=W.algorithm||W.encAlgorithm||"aes128","useMac"in W||(W.useMac=!0),"localKeyId"in W||(W.localKeyId=null),"generateLocalKeyId"in W||(W.generateLocalKeyId=!0);var z,y=W.localKeyId;if(null!==y)y=t.util.hexToBytes(y);else if(W.generateLocalKeyId)if(F){var Z=t.util.isArray(F)?F[0]:F;"string"==typeof Z&&(Z=p.certificateFromPem(Z)),(v=t.md.sha1.create()).update(a.toDer(p.certificateToAsn1(Z)).getBytes()),y=v.digest().getBytes()}else y=t.random.getBytes(20);var L=[];null!==y&&L.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,y)])])),"friendlyName"in W&&L.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,W.friendlyName)])])),L.length>0&&(z=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,L));var J=[],te=[];null!==F&&(te=t.util.isArray(F)?F:[F]);for(var N=[],fe=0;fe<te.length;++fe){"string"==typeof(F=te[fe])&&(F=p.certificateFromPem(F));var oe=0===fe?z:void 0,R=p.certificateToAsn1(F),Pe=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(R).getBytes())])])]),oe]);N.push(Pe)}if(N.length>0){var Te=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,N),We=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(Te).getBytes())])]);J.push(We)}var rt=null;if(null!==V){var lt=p.wrapRsaPrivateKey(p.privateKeyToAsn1(V));rt=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,null===M?[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[lt]),z]:[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[p.encryptPrivateKeyInfo(lt,M,W)]),z]);var vt=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[rt]),je=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(vt).getBytes())])]);J.push(je)}var Ke,Ye=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,J);if(W.useMac){var v=t.md.sha1.create(),it=new t.util.ByteBuffer(t.random.getBytes(W.saltSize)),Ve=W.count,Be=(V=A.generateKey(M,it,3,Ve,20),t.hmac.create());Be.start(v,V),Be.update(a.toDer(Ye).getBytes());var Xe=Be.getMac();Ke=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,Xe.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,it.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(Ve).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(Ye).getBytes())])]),Ke])},A.generateKey=t.pbe.generatePkcs12Key},4754:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>p});var t=l(9361),a=l(1360);let p=(()=>{class A{constructor(w){this.document=w,this.modalList=[]}add(w){this.modalList.push(w)}remove(w){const m=this.modalList.indexOf(w);this.modalList.splice(m)}visibleModals(){return this.modalList.filter(w=>w.isVisible).length}showById(w,m){null!=m&&null!=m.nativeElement&&(this.lastClickedEl=m.nativeElement),this.modalList.find(S=>S.modalId===w).show()}hideById(w){const m=this.modalList.find(D=>D.modalId===w);m&&(m.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(m){return new(m||A)(a.KVO(t.q))}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},4761:(ot,ve,l)=>{"use strict";l.d(ve,{l:()=>a});const a=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4811:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>D});var t=l(983),a=l(6354),p=l(9437),A=l(8284),e=l(1360),w=l(5602),m=l(5424);let D=(()=>{class S{constructor(k,Y){this.userService=k,this.errorService=Y}resolve(k,Y){return this.userService.getUser(k.params.id).pipe((0,a.T)(E=>(E&&this.userService.getCachedUser().next(E),E)),(0,p.W)((E,B)=>(404===E.status?this.errorService.resourceNotFound(A.v.user):this.errorService.handleError(E),(0,t.I)())))}static{this.\u0275fac=function(Y){return new(Y||S)(e.KVO(w.D),e.KVO(m.I))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},4814:(ot,ve,l)=>{"use strict";l.d(ve,{y:()=>S});var t=l(1594),a=l(6354),p=l(7380),A=l(1360),e=l(3853),w=l(5794),m=l(8018),D=l(2947);let S=(()=>{class g extends p.Q{constructor(Y,u,E,B){super(B),this.licenseService=Y,this.toastr=u,this.tranlate=E}canActivate(Y,u){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,a.T)(E=>{if(!E.overUserLimit)return!0;{const B=this.tranlate.instant("Nav.Clients"),V=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:B}),F=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:B});this.toastr.warning(F,V,{timeOut:1e4}),super.redirectToView(Y,u)}}))}static{this.\u0275fac=function(u){return new(u||g)(A.KVO(e.X),A.KVO(w.tw),A.KVO(m.c$),A.KVO(D.Ix))}}static{this.\u0275prov=A.jDH({token:g,factory:g.\u0275fac})}}return g})()},4846:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var a=ot.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=a,a.create=function(){m||function D(){p="\x80",p+=t.util.fillString("\0",64),A=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],e=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],w=new Array(64);for(var g=0;g<64;++g)w[g]=Math.floor(4294967296*Math.abs(Math.sin(g+1)));m=!0}();var g=null,k=t.util.createBuffer(),Y=new Array(16),u={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var E=u.messageLengthSize/4,B=0;B<E;++B)u.fullMessageLength.push(0);return k=t.util.createBuffer(),g={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},u}};return u.start(),u.update=function(E,B){"utf8"===B&&(E=t.util.encodeUtf8(E));var V=E.length;u.messageLength+=V,V=[V/4294967296>>>0,V>>>0];for(var F=u.fullMessageLength.length-1;F>=0;--F)u.fullMessageLength[F]+=V[1],V[1]=V[0]+(u.fullMessageLength[F]/4294967296>>>0),u.fullMessageLength[F]=u.fullMessageLength[F]>>>0,V[0]=V[1]/4294967296>>>0;return k.putBytes(E),S(g,Y,k),(k.read>2048||0===k.length())&&k.compact(),u},u.digest=function(){var E=t.util.createBuffer();E.putBytes(k.bytes()),E.putBytes(p.substr(0,u.blockLength-(u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize&u.blockLength-1)));for(var F,M=0,W=u.fullMessageLength.length-1;W>=0;--W)M=(F=8*u.fullMessageLength[W]+M)/4294967296>>>0,E.putInt32Le(F>>>0);var y={h0:g.h0,h1:g.h1,h2:g.h2,h3:g.h3};S(y,Y,E);var z=t.util.createBuffer();return z.putInt32Le(y.h0),z.putInt32Le(y.h1),z.putInt32Le(y.h2),z.putInt32Le(y.h3),z},u};var p=null,A=null,e=null,w=null,m=!1;function S(g,k,Y){for(var u,E,B,V,F,W,y,z=Y.length();z>=64;){for(E=g.h0,B=g.h1,V=g.h2,F=g.h3,y=0;y<16;++y)k[y]=Y.getInt32Le(),u=E+(F^B&(V^F))+w[y]+k[y],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;for(;y<32;++y)u=E+(V^F&(B^V))+w[y]+k[A[y]],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;for(;y<48;++y)u=E+(B^V^F)+w[y]+k[A[y]],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;for(;y<64;++y)u=E+(V^(B|~F))+w[y]+k[A[y]],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;g.h0=g.h0+E|0,g.h1=g.h1+B|0,g.h2=g.h2+V|0,g.h3=g.h3+F|0,z-=64}}},4861:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>t});let t=(()=>{class a{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return a})()},4866:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>a});var a,t=l(3806);!function(p){const A=new Map([[t.u.Minute,60],[t.u.Minutes,60],[t.u.Hour,3600],[t.u.Hours,3600],[t.u.Day,86400],[t.u.Days,86400],[t.u.Week,604800],[t.u.Weeks,604800],[t.u.Month,2629743],[t.u.Months,2629743],[t.u.Year,31556926],[t.u.Years,31556926],[t.u.Unlimited,null]]);p.getUnitMap=function e(){return A}}(a||(a={}))},5022:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>A});var t=l(1360),a=l(3165),p=l(9564);let A=(()=>{class e{constructor(m,D){this.http=m,this.headersService=D,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(m){const D=JSON.stringify(m);return this.http.put(this.actionUrl,D,{headers:this.headers})}static{this.\u0275fac=function(D){return new(D||e)(t.KVO(a.Qq),t.KVO(p.m))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})()},5034:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{DynamicAuthModule:()=>ph});var t=l(8434),a=l(9417),p=l(9262),A=l(5139),e=l(8018),w=l(779),m=l(3816),D=l(534),S=l(8400),g=l(9947),k=l(5749),Y=l(1683),u=l(3929),E=l(3384),B=l(4442),V=l(8892),F=l(8556),M=l(2036),W=l(4193),y=l(9475),z=l(1993),Z=l(8455),v=l(2571),L=l(275),J=l(8251),te=l(6599),N=l(8389),fe=l(967),oe=l(4367),R=l(6843),Pe=l(4179),Te=l(9945),We=l(7175),rt=l(367),lt=l(5731),vt=l(1957),je=l(9196),Ye=l(7677),Ke=l(3583),it=l(6609),Ve=l(7648),Be=l(3165),Xe=l(2771),Ue=l(9568),ct=l(6354),st=l(9437),Qe=l(7673),ne=function(me){return me[me.Query=0]="Query",me[me.FormPost=1]="FormPost",me[me.Fragment=2]="Fragment",me}(ne||{}),K=function(me){return me.OIDC="oidc",me.SAML="saml2p",me.Enabled="enabled",me.Disabled="disabled",me}(K||{}),de=function(me){return me.AuthCode="AuthCode",me.AuthCodePlusPkce="AuthCodePlusPkce",me}(de||{});class ge{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[de.AuthCode,de.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...ge.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(An){return!this.RequiredScopes.includes(An)}static{this.ResponseModeMap=new Map([["query",ne.Query],["form_post",ne.FormPost],["fragment",ne.Fragment]])}static{this.ResponseModeKey=An=>[...ge.ResponseModeMap.entries()].filter(({1:Re})=>Re===An).map(([Re])=>Re)[0]}}var o=l(1360),dt=l(9564);let gt=(()=>{class me{get cacheTimeout(){return ge.DiscoveryDocCachingDuration}constructor(Q,Re){this.http=Q,this.cacheTime=0,this.discoveryDoc=new Xe.m(1),this.headers=Re.setHeaders()}getDiscoveryDocument(Q,Re=!1){this.actionUrl=ge.AdminUIOidcDiscoveryDocumentEndpoint;const Le=Date.now()-this.cacheTime>=this.cacheTimeout;if(!Re&&(!Q||this.previousAuthority===Q&&!Le&&this.discoveryDoc))return this.discoveryDoc.asObservable();let gn=new Be.Nl;return gn=gn.append("authority",Q),this.http.get(this.actionUrl,{headers:this.headers,params:gn}).pipe((0,Ue.t)(1),(0,ct.T)($i=>(this.previousAuthority=Q,this.cacheTime=Date.now(),this.discoveryDoc.next($i),$i)),(0,st.W)($i=>(this.previousAuthority=Q,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,Qe.of)(null))))}isValid(Q){return this.getDiscoveryDocument(Q,!0).pipe((0,ct.T)(Re=>!(!Re||!Re.issuer)))}supportedScopes(Q){return this.getDiscoveryDocument(Q).pipe((0,ct.T)(Re=>Re?.scopes_supported??ge.ScopeOptions))}validateMetadataUrl(Q){this.actionUrl=ge.AdminUISamlMetadataEndpoint;let Re=new Be.Nl;return Re=Re.append("metadataUrl",Q),this.http.get(this.actionUrl,{headers:this.headers,params:Re}).pipe((0,Ue.t)(1),(0,ct.T)(Le=>!0),(0,st.W)(Le=>(0,Qe.of)(!1)))}static{this.\u0275fac=function(Re){return new(Re||me)(o.KVO(Be.Qq),o.KVO(dt.m))}}static{this.\u0275prov=o.jDH({token:me,factory:me.\u0275fac})}}return me})();var qt=l(1413),Tn=l(1594),Wn=l(8412),en=l(9172),Ln=l(1397),ni=l(1655),mt=l(7548),Jt=l(308),he=l(7263),ue=l(9838),P=l(6026),q=l(978),De=l(9865);class Ae{constructor(An,Q,Re=!1){this.name="",this.label="",this.activeByDefault=!1,this.name=An,this.label=Q,this.activeByDefault=Re}}var et=l(6494),_t=l(5424),Ht=l(345),nn=l(7883),wn=l(5794),Kn=l(2947),ei=l(3680),Ot=l(7294),Gn=l(7384),Qt=l(7156),Sn=l(2510),In=l(8698);let rs=(()=>{class me{constructor(Q){this.fb=Q}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}hosted(){}toStepDto(){const Q={};return Q.clientSecret=this.clientSecretForm.get("clientSecret").value,Q}toSummaryMap(){const Q=new Map;return Q.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-client-secret-step"]],inputs:{data:"data"},standalone:!1,decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3),o.nrm(5,"input",4),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",Le.clientSecretForm),o.R7$(),o.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,In.Y,e.D9],encapsulation:2})}}return me})();var _i=l(5568);function Fi(){return a.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function Ni(me){if((0,he.hX)(me.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let An=(0,_i.parse)(me.value);return(0,he.gP)(An.query)&&(0,he.gP)(An.fragment)?"absolute"!==An.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,he.gP)(An.error)?null:{invalidUri:An.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function os(me,An){1&me&&(o.j41(0,"app-form-row",3),o.nrm(1,"input",11),o.k0s()),2&me&&o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.OidcHelp")}function zn(me,An){if(1&me&&(o.j41(0,"option",12),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me){const Q=An.$implicit;o.Y8G("value",Q),o.R7$(),o.JRh(o.bMT(2,2,"DynamicAuth.Flows."+Q))}}let ms=(()=>{class me{constructor(Q,Re,Le,gn,$i){this.fb=Q,this.configService=Re,this.translate=Le,this.providerValidator=gn,this.toastr=$i,this.failedToContactAuthority=!1,this.allowedFlows=ge.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var Q=this.connectionForm.get("authority").value;this.providerValidator.isValid(Q).subscribe(Re=>{Re||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let Q={authority:["https://",[a.k0.required,a.k0.pattern("^https://.{1,}$")]],clientId:["",a.k0.required]};if(this.isRskDynamicAuth){let Re=this.dtoSnapshot?.scheme;(0,he.gP)(Re)&&(Re="{scheme}"),Q.callbackPath=["/oidc-"+Re,[a.k0.required,Fi()]]}Q.flow=[de.AuthCodePlusPkce,[a.k0.required]],this.connectionForm=this.fb.group(Q)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}hosted(){}toStepDto(){const Q={};return Q.authority=this.connectionForm.get("authority").value,Q.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(Q.callbackPath=this.connectionForm.get("callbackPath").value),Q.flow=this.connectionForm.get("flow").value,Q}toSummaryMap(){const Q=new Map;return Q.set("authority",[this.connectionForm.get("authority").value]),Q.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&Q.set("callbackPath",[this.connectionForm.get("callbackPath").value]),Q.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(je.w),o.rXU(e.c$),o.rXU(gt),o.rXU(wn.tw))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-connection-step"]],inputs:{data:"data"},standalone:!1,decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),o.bIt("focusout",function(){return Le.tryReachAuthority()}),o.k0s()(),o.j41(6,"app-form-row",3),o.nrm(7,"input",5),o.k0s(),o.DNE(8,os,2,3,"app-form-row",6),o.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),o.DNE(12,zn,3,4,"option",10),o.k0s()()()()),2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",Le.connectionForm),o.R7$(),o.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.R7$(2),o.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.R7$(2),o.Y8G("ngIf",Le.isRskDynamicAuth),o.R7$(),o.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),o.R7$(3),o.Y8G("ngForOf",Le.allowedFlows))},dependencies:[t.Sq,t.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y,e.D9],encapsulation:2})}}return me})();var xi=l(1985),wt=l(5558),Tt=l(803);function xt(me,An){if(1&me&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"slice"),o.k0s()),2&me){const Q=An.item;o.R7$(),o.JRh(Q.length>20?o.brH(2,1,Q,0,20)+"...":Q)}}function Kt(me,An){1&me&&(o.j41(0,"div",16)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function cn(me,An){1&me&&(o.j41(0,"span",20),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Reserved")," "))}function ii(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",21),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG().$implicit,gn=o.XpG(2);return o.Njj(gn.removeScope(Le))}),o.nrm(1,"span",22),o.j41(2,"span",13),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&me){const Q=o.XpG().$implicit;o.Y8G("id","btnRemove"+Q),o.R7$(3),o.JRh(o.bMT(4,2,"Common.Remove.Title"))}}function Ei(me,An){if(1&me&&(o.j41(0,"tr")(1,"td",17)(2,"span"),o.EFF(3),o.k0s()(),o.j41(4,"td"),o.DNE(5,cn,3,3,"span",18),o.k0s(),o.j41(6,"td"),o.DNE(7,ii,5,4,"button",19),o.k0s()()),2&me){const Q=An.$implicit,Re=o.XpG(2);o.R7$(3),o.JRh(Q),o.R7$(2),o.Y8G("ngIf",!Re.allowRemoveScope(Q)),o.R7$(2),o.Y8G("ngIf",Re.allowRemoveScope(Q))}}function Ii(me,An){if(1&me&&(o.j41(0,"div",9),o.DNE(1,Kt,4,3,"div",10),o.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),o.EFF(6),o.nI1(7,"translate"),o.k0s()(),o.j41(8,"th",14)(9,"span",13),o.EFF(10),o.nI1(11,"translate"),o.k0s()(),o.j41(12,"th",14)(13,"span",13),o.EFF(14),o.nI1(15,"translate"),o.k0s()()(),o.j41(16,"tbody"),o.DNE(17,Ei,8,3,"tr",15),o.k0s()()()),2&me){const Q=o.XpG();o.Y8G("id","Scopes"),o.R7$(),o.Y8G("ngIf",Q.scopes.length<=0),o.R7$(5),o.JRh(o.bMT(7,6,"Common.Scope")),o.R7$(4),o.JRh(o.bMT(11,8,"Common.Reserved")),o.R7$(4),o.JRh(o.bMT(15,10,"Common.Actions")),o.R7$(3),o.Y8G("ngForOf",Q.scopes)}}let Ti=(()=>{class me{constructor(Q,Re,Le,gn){this.toastrService=Q,this.translateService=Re,this.fb=Le,this.providerValidator=gn,this.scopes=[...ge.RequiredScopes],this.maxScopeLength=ge.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new xi.c(Q=>{let Re=this.scopesForm.get("newScope").value;Q.next(Re)}).pipe((0,wt.n)(Q=>this.providerValidator.supportedScopes().pipe((0,ct.T)(Re=>this.filterScopes(Q,Re)))))}filterScopes(Q,Re){const Le=!Q;return Re.filter(gn=>!this.scopes.includes(gn)&&(Le||gn.includes(Q)))}addScope(){var Q=this.scopesForm.get("newScope").value;if(""!==Q)if(this.scopes.includes(Q)){const Re=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(Re)}else if(Q.indexOf(" ")>=0){const Re=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(Re)}else this.scopes.push(Q);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(Q){const Re=this.scopes.indexOf(Q);if(-1!==Re)this.scopes.splice(Re,1);else{const Le=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(Le)}}allowRemoveScope(Q){return ge.AllowRemoveScope(Q)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const Q={};return Q.scopes=this.scopes,Q}toSummaryMap(){const Q=new Map;return Q.set("scopes",this.scopes),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(wn.tw),o.rXU(e.c$),o.rXU(a.ze),o.rXU(gt))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-scopes-step"]],inputs:{data:"data"},standalone:!1,decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(Re,Le){if(1&Re){const gn=o.RV6();o.j41(0,"div",1),o.nrm(1,"p",2),o.nI1(2,"translate"),o.k0s(),o.DNE(3,xt,3,5,"ng-template",null,0,o.C5r),o.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),o.nrm(8,"input",6),o.nI1(9,"translate"),o.j41(10,"button",7),o.bIt("click",function(){return o.eBV(gn),o.Njj(Le.addScope())}),o.EFF(11),o.nI1(12,"translate"),o.k0s()()(),o.DNE(13,Ii,18,12,"div",8),o.k0s()}if(2&Re){const gn=o.sdS(4);o.R7$(),o.Y8G("innerHTML",o.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),o.npT),o.R7$(4),o.Y8G("formGroup",Le.scopesForm),o.R7$(),o.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),o.R7$(2),o.FS9("placeholder",o.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),o.Y8G("typeahead",Le.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",gn)("typeaheadMinLength",0)("maxlength",Le.maxScopeLength),o.R7$(3),o.SpI(" ",o.bMT(12,18,"Common.Add")," "),o.R7$(2),o.Y8G("ngIf",Le.scopes.length>0)}},dependencies:[t.Sq,t.bT,a.qT,a.me,a.BC,a.cb,a.tU,a.j4,a.JD,S.Xi,In.Y,Tt.f,t.P9,e.D9],encapsulation:2})}}return me})(),Ui=(()=>{class me{constructor(Q){this.fb=Q}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[a.k0.required,a.k0.pattern(/^[\d\w-]*$/)]],displayName:["",[a.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}hosted(){}toStepDto(){const Q={};return Q.scheme=this.nameRoleForm.get("scheme").value,Q.displayName=this.nameRoleForm.get("displayName").value,Q}toSummaryMap(){const Q=new Map;return Q.set("scheme",[this.nameRoleForm.get("scheme").value]),Q.set("displayName",[this.nameRoleForm.get("displayName").value]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-name-role-step"]],inputs:{data:"data"},standalone:!1,decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3),o.nrm(5,"input",4),o.k0s(),o.j41(6,"app-form-row",5),o.nrm(7,"input",6),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",Le.nameRoleForm),o.R7$(),o.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.R7$(2),o.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y,e.D9],encapsulation:2})}}return me})();var zi=l(9550);function ls(me,An){if(1&me&&(o.j41(0,"span",10),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me){const Q=o.XpG().$implicit;o.R7$(),o.SpI(" ",o.bMT(2,1,Q.help)," ")}}function ut(me,An){if(1&me&&(o.j41(0,"li",5)(1,"label",6),o.nrm(2,"input",7),o.j41(3,"span",8),o.EFF(4),o.nI1(5,"translate"),o.k0s()(),o.DNE(6,ls,3,3,"span",9),o.k0s()),2&me){const Q=An.$implicit,Re=An.index,Le=o.XpG();o.R7$(),o.FCK("for","",Le.id,"-item-",Re,""),o.R7$(),o.FCK("id","",Le.id,"-item-",Re,""),o.Y8G("value",Q.value),o.R7$(2),o.JRh(o.bMT(5,9,Q.name)),o.R7$(2),o.Y8G("ngIf",Q.help)}}function Rt(me,An){if(1&me&&(o.j41(0,"li",5)(1,"label",6),o.nrm(2,"input",7),o.j41(3,"span",8),o.EFF(4),o.nI1(5,"translate"),o.nI1(6,"translate"),o.k0s()()()),2&me){const Q=o.XpG();o.R7$(),o.Mz_("for","",Q.id,"-item-custom"),o.R7$(),o.Mz_("id","",Q.id,"-item-custom"),o.Y8G("value",Q.customRadioValue),o.R7$(2),o.Lme("",o.bMT(5,7,"Common.Custom")," ",o.bMT(6,9,Q.label),"")}}function yt(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-form-row",11)(1,"input",12),o.nI1(2,"translate"),o.bIt("ngModelChange",function(Le){o.eBV(Q);const gn=o.XpG();return o.Njj(gn.valueChanged.emit(Le))}),o.k0s()()}if(2&me){const Q=o.XpG();o.Mz_("id","",Q.id,"-custom"),o.Y8G("label","Common.Custom")("isLast",Q.isLast),o.R7$(),o.Mz_("id","",Q.id,"-item-value"),o.FS9("placeholder",o.bMT(2,8,Q.placeholder)),o.Y8G("ngModel",Q.value)}}let tn=(()=>{class me{constructor(Q){this.fb=Q,this.listItems=[],this.allowCustom=!1,this.valueChanged=new o.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const Q=this.listItems.some(Re=>Re.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[Q]}),this.radioForm.get("radioVal").valueChanges.subscribe(Re=>{this.valueChanged.emit(Re===this.customRadioValue?"":Re)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},standalone:!1,decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(Re,Le){1&Re&&(o.j41(0,"app-form-row",0)(1,"ul",1),o.nI1(2,"translate"),o.DNE(3,ut,7,11,"li",2)(4,Rt,7,11,"li",3),o.k0s()(),o.DNE(5,yt,3,10,"app-form-row",4)),2&Re&&(o.Mz_("id","",Le.id,"-options"),o.Y8G("label",Le.label)("help",Le.help)("isLast",!Le.showCustom()&&Le.isLast)("formGroup",Le.radioForm),o.R7$(),o.Mz_("id","",Le.id,"-options-list"),o.BMQ("aria-label",o.bMT(2,12,Le.label)),o.R7$(2),o.Y8G("ngForOf",Le.listItems),o.R7$(),o.Y8G("ngIf",Le.allowCustom),o.R7$(),o.Y8G("ngIf",Le.showCustom()))},dependencies:[a.me,a.Fm,a.BC,a.cb,a.vS,a.j4,a.JD,t.Sq,t.bT,In.Y,e.D9],encapsulation:2})}}return me})();function Vn(me,An){if(1&me&&(o.j41(0,"app-form-row",7)(1,"app-form-toggle",8),o.nrm(2,"input",9),o.k0s()()),2&me){const Q=o.XpG(2);o.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!Q.diffSignOut),o.R7$(),o.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function on(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-radio-list-input",10),o.bIt("valueChanged",function(Le){o.eBV(Q);const gn=o.XpG(2);return o.Njj(gn.signInSchemeForm.get("outScheme").setValue(Le))}),o.k0s()}if(2&me){const Q=o.XpG(2);o.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",Q.options)("allowCustom",!0)("value",Q.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function Xn(me,An){if(1&me){const Q=o.RV6();o.j41(0,"form",3)(1,"app-radio-list-input",4),o.bIt("valueChanged",function(Le){o.eBV(Q);const gn=o.XpG();return o.Njj(gn.signInSchemeForm.get("scheme").setValue(Le))}),o.k0s(),o.DNE(2,Vn,3,7,"app-form-row",5)(3,on,1,6,"app-radio-list-input",6),o.k0s()}if(2&me){const Q=o.XpG();o.Y8G("formGroup",Q.signInSchemeForm),o.R7$(),o.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",Q.options)("allowCustom",!0)("value",Q.signInSchemeForm.get("scheme").value)("isLast",!1),o.R7$(),o.Y8G("ngIf",Q.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",Q.diffSignOut)}}let qn=(()=>{class me{constructor(Q,Re){this.fb=Q,this.configService=Re,this.isRskDynamicAuth=!1,this.options=ge.SignInSchemeOptions,this.snippet=ge.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Tn.$)()).subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,a.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(Re=>{this.signInSchemeForm.get("outScheme").setValidators(Re?[a.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,a.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const Q={};return Q.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(Q.signOutScheme=this.signInSchemeForm.get("outScheme").value),Q}toSummaryMap(){const Q=new Map;return Q.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&Q.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(je.w))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},standalone:!1,decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.DNE(3,Xn,4,9,"form",2)),2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),o.npT),o.R7$(2),o.Y8G("ngIf",Le.signInSchemeForm))},dependencies:[t.bT,a.qT,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,zi.m,tn,e.D9],encapsulation:2})}}return me})();var Gt=l(9988),oi=l(7957),zt=l(8575),Un=l(7329);function fn(me,An){1&me&&(o.nrm(0,"span",8),o.nI1(1,"translate")),2&me&&o.Y8G("innerHTML",o.bMT(1,1,"Errors.PathValidation"),o.npT)}let Qn=(()=>{class me{constructor(Q,Re){this.fb=Q,this.configService=Re}ngOnInit(){this.configService.getConfig().pipe((0,Tn.$)()).subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let Q=this.dtoSnapshot?.scheme;(0,he.gP)(Q)&&(Q="{scheme}");let Le={entityId:["",[a.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${Q}`:`/federation/${Q}/signin-saml`,[a.k0.required,Fi()]]};this.serviceProviderForm=this.fb.group(Le)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}hosted(){}toStepDto(){const Q={};return Q.entityId=this.serviceProviderForm.get("entityId").value,Q.callbackPath=this.serviceProviderForm.get("callbackPath").value,Q}toSummaryMap(){const Q=new Map;return Q.set("entityId",[this.serviceProviderForm.get("entityId").value]),Q.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(je.w))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-service-provider-step"]],inputs:{data:"data"},standalone:!1,decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3),o.nrm(5,"input",4),o.k0s(),o.j41(6,"app-form-row",5),o.nrm(7,"input",6),o.DNE(8,fn,2,3,"span",7),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",Le.serviceProviderForm),o.R7$(),o.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),o.R7$(2),o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),o.R7$(2),o.Y8G("ngIf",!Le.validCallbackPath()))},dependencies:[t.bT,a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y,e.D9],encapsulation:2})}}return me})();var vi=l(6303),Fe=l(1746);const Ze=["fileInput"];let ht=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le,gn){this.fb=Q,this.certService=Re,this.toastr=Le,this.translate=gn,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Fe.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}hosted(){}handleFileInput(Q){this.selectedFile=Q.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const Q=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==Q}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Fe.w(""),this.fileContent=void 0;const Q=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,Q,{next:Re=>{this.fileName=new Fe.w(this.selectedFile?.name),this.fileContent=Re,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:Re=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Fe.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const Q={};return Q.certFile=this.fileContent,Q.certPassword=this.certForm.get("certPassword").value,Q}toSummaryMap(){const Q=new Map;return Q.set("certFile",[this.selectedFile?.name]),Q.set("certPassword",[this.certForm.get("certPassword").value]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(u.V),o.rXU(wn.tw),o.rXU(e.c$))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-signing-step"]],viewQuery:function(Re,Le){if(1&Re&&o.GBs(Ze,5),2&Re){let gn;o.mGM(gn=o.lsd())&&(Le.fileInputNative=gn.first)}},inputs:{data:"data"},standalone:!1,decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(Re,Le){if(1&Re){const gn=o.RV6();o.j41(0,"div",1),o.nrm(1,"p",2),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),o.bIt("change",function(fs){return o.eBV(gn),o.Njj(Le.handleFileInput(fs.target.files))}),o.k0s()()(),o.j41(9,"app-form-row",7),o.bIt("input",function(){return o.eBV(gn),o.Njj(Le.requestCertValidation())}),o.nrm(10,"input",8),o.k0s(),o.j41(11,"app-form-row",9)(12,"button",10),o.bIt("click",function(){return o.eBV(gn),o.Njj(Le.validateForm())}),o.EFF(13),o.nI1(14,"translate"),o.k0s(),o.j41(15,"button",11),o.bIt("click",function(){return o.eBV(gn),o.Njj(Le.clearCertificateForm())}),o.EFF(16),o.nI1(17,"translate"),o.k0s()()()}2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",Le.certForm),o.R7$(),o.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.R7$(5),o.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),o.R7$(),o.Y8G("readonly",Le.passwordDisabled),o.R7$(),o.Y8G("isLast",!0),o.R7$(),o.Y8G("disabled",Le.disableTestBtn()),o.R7$(),o.JRh(o.bMT(14,15,"Common.ValidateCert")),o.R7$(2),o.Y8G("disabled",Le.disableClearBtn()),o.R7$(),o.JRh(o.bMT(17,17,"Common.Clear")))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,In.Y,e.D9],encapsulation:2})}}return me})();var Ut=l(7767);let Xt=(()=>{class me{constructor(Q,Re,Le,gn){this.fb=Q,this.providerValidator=Re,this.translate=Le,this.toastr=gn,this.metadataAddrStream=new qt.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(Q=>{this.providerValidator.validateMetadataUrl(Q).subscribe(Re=>{Re?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const Q=this.externalProviderForm.get("metadataAddress");Q.invalid||this.metadataAddrStream.next(Q.value)}showReachableError(){const Q=this.externalProviderForm.get("metadataAddress");return!(0,he.gP)(Q.value)&&Q.errors?.unreachableUrl}buildForm(){let Q={metadataAddress:["https://",[a.k0.required,a.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(Q)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}hosted(){}toStepDto(){const Q={};return Q.metadataAddress=this.externalProviderForm.get("metadataAddress").value,Q}toSummaryMap(){const Q=new Map;return Q.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),Q}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(gt),o.rXU(e.c$),o.rXU(Ut.g))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-external-provider-step"]],inputs:{data:"data"},standalone:!1,decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),o.nrm(6,"input",5),o.j41(7,"button",6),o.bIt("click",function(){return Le.tryMetadataAddr()}),o.j41(8,"span"),o.EFF(9),o.nI1(10,"translate"),o.k0s()()()()()),2&Re&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",Le.externalProviderForm),o.R7$(),o.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.R7$(3),o.Y8G("disabled",!Le.canNext()),o.R7$(2),o.JRh(o.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y,e.D9],encapsulation:2})}}return me})();var Mn=l(2552);function hi(me,An){1&me&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function ri(me,An){1&me&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function Nn(me,An){1&me&&(o.nrm(0,"p",1),o.nI1(1,"translate")),2&me&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),o.npT)}function Ki(me,An){1&me&&(o.nrm(0,"p",1),o.nI1(1,"translate")),2&me&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),o.npT)}let Ji=(()=>{class me{constructor(){this.wizardTypes=Gt.$,this.activeType=Gt.$.AddOidcDynamicAuth}hosted(){}ngOnInit(){}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!0}selectedType(){return this.activeType}buildOptionsArray(){return[{id:"oidcBtn",btnId:"oidcTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title",icon:"fab fa-openid",type:Gt.$.AddOidcDynamicAuth,selectedTypes:[Gt.$.AddOidcDynamicAuth],starterMode:!0,disabled:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.SAML.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.SAML.Title",icon:"fad fa-code",type:Gt.$.AddSamlDynamicAuth,selectedTypes:[Gt.$.AddSamlDynamicAuth],starterMode:!0,disabled:!1}]}setActive(Q){this.activeType=Q}static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-type-select"]],inputs:{data:"data"},standalone:!1,decls:11,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"]],template:function(Re,Le){if(1&Re&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"app-type-selector",2),o.bIt("select",function($i){return Le.setActive($i)}),o.k0s(),o.j41(4,"div",3)(5,"h2",4),o.nrm(6,"span",5),o.DNE(7,hi,3,3,"span")(8,ri,3,3,"span"),o.k0s(),o.DNE(9,Nn,2,3,"p",1)(10,Ki,2,3,"p",1),o.k0s()),2&Re){let gn,$i;o.R7$(),o.Y8G("innerHTML",o.bMT(2,6,"DynamicAuth.Wizard.Description"),o.npT),o.R7$(2),o.Y8G("activeType",Le.activeType)("isStarterMode",!1)("options",Le.buildOptionsArray()),o.R7$(4),o.vxM((gn=Le.activeType)===Le.wizardTypes.AddOidcDynamicAuth?7:gn===Le.wizardTypes.AddSamlDynamicAuth?8:-1),o.R7$(2),o.vxM(($i=Le.activeType)===Le.wizardTypes.AddOidcDynamicAuth?9:$i===Le.wizardTypes.AddSamlDynamicAuth?10:-1)}},dependencies:[Mn.N,e.D9],encapsulation:2})}}return me})();class Os extends oi.p{constructor(An){super();var Q=[new Un.W(Ui,{stepName:"NameRoleStepComponent"}),new Un.W(ms,{stepName:"ConnectionStepComponent"}),new Un.W(Ti,{stepName:"ScopesStepComponent"}),new Un.W(rs,{stepName:"ClientSecretStepComponent"})];An&&Q.push(new Un.W(qn,{stepName:"SignInSchemeStepComponent"}));var Re=[new Un.W(Ui,{stepName:"NameRoleStepComponent"}),new Un.W(Qn,{stepName:"ServiceProviderStepComponent"}),new Un.W(ht,{stepName:"SigningStepComponent"}),new Un.W(Xt,{stepName:"ExternalProviderStepComponent"}),new Un.W(qn,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(Gt.$.Home,[new Un.W(Ji,{})]),this.nameComponentMap.set(Gt.$.AddOidcDynamicAuth,Q),this.nameComponentMap.set(Gt.$.AddSamlDynamicAuth,Re),this.nameTitleMap.set(Gt.$.Home,new zt.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(Gt.$.AddOidcDynamicAuth,new zt.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(Gt.$.AddSamlDynamicAuth,new zt.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}var jt=l(7594),Ai=l(3973);let Et=(()=>{class me{canNext(){return!1}hosted(){}static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-empty-step"]],standalone:!1,decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&Re&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[e.D9],encapsulation:2})}}return me})();class vn extends oi.p{getWizard(An){return[new Un.W(Et)]}getWizardTitle(An){return new zt.J("Empty Provider",`No step for wizard name: ${An}`)}}var Wt=l(1715);function Pn(me,An){if(1&me&&(o.j41(0,"div",5),o.nrm(1,"div",17),o.k0s()),2&me){const Q=o.XpG();o.R7$(),o.xc7("width",Q.progressPercent+"%"),o.BMQ("aria-valuenow",Q.progressPercent)}}function Qi(me,An){}function Bt(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.nextTab())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}if(2&me){const Q=o.XpG();o.Y8G("disabled",!Q.canNext()),o.R7$(),o.JRh(o.bMT(2,2,"Common.Next"))}}function ce(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.submit())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"Common.Save")))}function Ie(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.previousTab())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"Common.Back")))}function ae(me,An){1&me&&(o.j41(0,"a",15),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let be=(()=>{class me extends Ai.P{constructor(Q,Re,Le,gn,$i){super(Q,Re,Le),this.dynamicAuthService=gn,this.configService=$i,this.wizardProvider=new vn,this.wizardName=Gt.$.Home,this.askIfEnabled=!0,this.configService.getConfig().subscribe({next:fs=>{this.wizardProvider=new Os(fs.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk),this.askIfEnabled=fs.featureFlagOptions.dynamicAuthenticationFlag==q.U.Duende},error:fs=>{this.errorService.handleError(fs)}})}submit(){const Q=(0,mt.jc)(this.getModel());this.dynamicAuthService.createDynamicAuth(Q).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${Q.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated"))},error:Re=>{this.errorService.handleError(Re)}})}getModel(){const Q=this.wizardName,Re=this.getWizardDto(),Le=this.summaryComponentRef.instance.isEnabled();var gn="";if(this.wizardName===Gt.$.AddOidcDynamicAuth&&(gn=JSON.stringify({authority:Re.authority,clientId:Re.clientId,callbackPath:Re.callbackPath,usePkce:Re.flow==de.AuthCodePlusPkce,scope:Re.scopes,clientSecret:Re.clientSecret,signInScheme:Re.signInScheme})),this.wizardName===Gt.$.AddSamlDynamicAuth){var $i={spEntityId:Re.entityId,callbackPath:Re.callbackPath,signAuthenticationRequests:!(0,he.hX)(Re.certFile)&&!(0,he.hX)(Re.certPassword),signingCertBase64:Re.certFile,signingCertPassword:Re.certPassword,signInScheme:Re.signInScheme,idpMetadataAddress:Re.metadataAddress};gn=JSON.stringify($i)}return{type:Jt.EX.fromWizardType(Q),scheme:Re.scheme,displayName:Re.displayName,enabled:Le,nonEditable:!1,options:gn}}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(_t.I),o.rXU(wn.tw),o.rXU(e.c$),o.rXU(it.v),o.rXU(je.w))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-wizard-host"]],standalone:!1,features:[o.Jv_([jt._]),o.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn-secondary","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn-secondary",3,"click"]],template:function(Re,Le){if(1&Re&&(o.j41(0,"div",0)(1,"h5",1),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"button",2),o.bIt("click",function(){return Le.hideWizard()}),o.nrm(5,"span",3),o.j41(6,"span",4),o.EFF(7),o.nI1(8,"translate"),o.k0s()()(),o.DNE(9,Pn,2,3,"div",5),o.j41(10,"div",6),o.DNE(11,Qi,0,0,"ng-template",7),o.k0s(),o.nrm(12,"div",8),o.j41(13,"div",9)(14,"div",10)(15,"div",11),o.DNE(16,Bt,3,4,"button",12)(17,ce,3,3,"button",13)(18,Ie,3,3,"button",14)(19,ae,3,3,"a",15),o.k0s(),o.j41(20,"button",16),o.bIt("click",function(){return Le.cancelWizard()}),o.EFF(21),o.nI1(22,"translate"),o.k0s()()()),2&Re){let gn;o.R7$(),o.Y8G("id",Le.titleId),o.R7$(),o.JRh(o.bMT(3,9,null!==(gn=null==Le.wizardTitles?null:Le.wizardTitles.setupTitle)&&void 0!==gn?gn:"")),o.R7$(5),o.JRh(o.bMT(8,11,"Common.Close")),o.R7$(2),o.vxM(Le.showProgress?9:-1),o.R7$(7),o.Y8G("ngIf",Le.index<(null==Le.wizardSteps?null:Le.wizardSteps.length)),o.R7$(),o.Y8G("ngIf",Le.index==(null==Le.wizardSteps?null:Le.wizardSteps.length)),o.R7$(),o.Y8G("ngIf",!Le.initialStep()),o.R7$(),o.vxM(Le.initialStep()&&null!=Le.asAny&&Le.asAny.displayUpgradeIcon?19:-1),o.R7$(2),o.JRh(o.bMT(22,13,"Common.Cancel"))}},dependencies:[t.bT,Wt.t,e.D9],encapsulation:2})}}return me})();const ke=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"});function At(me,An){1&me&&(o.j41(0,"div",3),o.nrm(1,"app-title-bar",4),o.nI1(2,"translate"),o.j41(3,"div",5)(4,"div",6)(5,"p",7),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"ul",8)(9,"li")(10,"a",9),o.EFF(11),o.nI1(12,"translate"),o.k0s()(),o.j41(13,"li")(14,"a",10),o.EFF(15),o.nI1(16,"translate"),o.k0s()()()()()()),2&me&&(o.R7$(),o.Y8G("title",o.bMT(2,4,"DynamicAuth.Title.Generic")),o.R7$(5),o.JRh(o.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),o.R7$(5),o.JRh(o.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),o.R7$(4),o.JRh(o.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function hn(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-dynamic-auth-wizard-host",17),o.bIt("wizardCancel",function(){o.eBV(Q);const Le=o.XpG(2);return o.Njj(Le.hideWizard())})("finish",function(){o.eBV(Q);const Le=o.XpG(2);return o.Njj(Le.onFinish())})("hide",function(){o.eBV(Q);const Le=o.XpG(2);return o.Njj(Le.hideWizard())}),o.k0s()}}function Fn(me,An){1&me&&(o.j41(0,"div",18)(1,"div",19),o.nrm(2,"span",20),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.R7$(2),o.Y8G("innerHTML",o.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",o.lJ4(4,ke)),o.npT))}function Wi(me,An){if(1&me){const Q=o.RV6();o.j41(0,"div",28)(1,"label",29),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"select",30),o.mxI("ngModelChange",function(Le){o.eBV(Q);const gn=o.XpG(4);return o.DH7(gn.pageSize,Le)||(gn.pageSize=Le),o.Njj(Le)}),o.bIt("change",function(){o.eBV(Q);const Le=o.XpG(4);return o.Njj(Le.setPageLength(+Le.pageSize))}),o.j41(5,"option",31),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"option",32),o.EFF(9),o.nI1(10,"translate"),o.k0s(),o.j41(11,"option",33),o.EFF(12),o.nI1(13,"translate"),o.k0s()()()}if(2&me){const Q=o.XpG(4);o.R7$(2),o.Lme("",Q.pageSize," ",o.bMT(3,6,"Nav.PerPage"),""),o.R7$(2),o.R50("ngModel",Q.pageSize),o.R7$(2),o.SpI("25 ",o.bMT(7,8,"Nav.PerPage"),""),o.R7$(3),o.SpI("50 ",o.bMT(10,10,"Nav.PerPage"),""),o.R7$(3),o.SpI("100 ",o.bMT(13,12,"Nav.PerPage"),"")}}function Di(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-action-bar"),o.qex(1,24),o.DNE(2,Wi,14,14,"div",25),o.bVm(),o.qex(3,26),o.j41(4,"button",27),o.bIt("click",function(){o.eBV(Q),o.XpG(2);const Le=o.sdS(9),gn=o.XpG();return o.Njj(gn.showWizard(Le))}),o.EFF(5),o.nI1(6,"translate"),o.k0s(),o.bVm(),o.k0s()}if(2&me){const Q=o.XpG(3);o.R7$(2),o.Y8G("ngIf",(null==Q.pagedResult?null:Q.pagedResult.results.length)>0),o.R7$(3),o.SpI(" ",o.bMT(6,2,"Common.Add")," ")}}function Vi(me,An){1&me&&o.nrm(0,"app-simple-loader")}function li(me,An){1&me&&(o.j41(0,"div",37)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.R7$(2),o.JRh(o.bMT(3,1,"DynamicAuth.List.None")))}function Li(me,An){1&me&&(o.j41(0,"span",51)(1,"span",14),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Disabled")))}function Yi(me,An){1&me&&(o.j41(0,"span",52),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Disabled")," "))}function xs(me,An){1&me&&(o.j41(0,"span",53),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Reserved")," "))}function Bs(me,An){1&me&&(o.nrm(0,"span",54),o.j41(1,"span",14),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&me&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.View")))}function Mr(me,An){1&me&&(o.nrm(0,"span",55),o.j41(1,"span",14),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&me&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Edit")))}function Qr(me,An){if(1&me){const Q=o.RV6();o.j41(0,"tr",43)(1,"td",44),o.bIt("click",function(){const Le=o.eBV(Q).$implicit,gn=o.XpG(5);return o.Njj(gn.navigate(Le,Le.scheme))}),o.DNE(2,Li,4,3,"span",45),o.j41(3,"b"),o.EFF(4),o.k0s()(),o.j41(5,"td",46),o.bIt("click",function(){const Le=o.eBV(Q).$implicit,gn=o.XpG(5);return o.Njj(gn.navigate(Le,Le.scheme))}),o.EFF(6),o.k0s(),o.j41(7,"td",46),o.bIt("click",function(){const Le=o.eBV(Q).$implicit,gn=o.XpG(5);return o.Njj(gn.navigate(Le,Le.scheme))}),o.j41(8,"code"),o.EFF(9),o.k0s()(),o.j41(10,"td",47),o.bIt("click",function(){const Le=o.eBV(Q).$implicit,gn=o.XpG(5);return o.Njj(gn.navigate(Le,Le.scheme))}),o.DNE(11,Yi,3,3,"span",48)(12,xs,3,3,"span",49),o.k0s(),o.j41(13,"td",47),o.bIt("click",function(){const Le=o.eBV(Q).$implicit,gn=o.XpG(5);return o.Njj(gn.navigate(Le,Le.scheme))}),o.j41(14,"button",50),o.bIt("click",function(){const Le=o.eBV(Q).$implicit,gn=o.XpG(5);return o.Njj(gn.navigate(Le,Le.scheme))}),o.DNE(15,Bs,4,3)(16,Mr,4,3),o.k0s()()()}if(2&me){const Q=An.$implicit,Re=o.XpG(5);o.AVh("inactive",!Q.enabled||(null==Q?null:Q.nonEditable)),o.FS9("id",Q.scheme),o.R7$(2),o.Y8G("ngIf",!Q.enabled),o.R7$(),o.AVh("tw-text-blue-500",!(null!=Q&&Q.nonEditable)),o.R7$(),o.SpI(" ",null==Q?null:Q.scheme," "),o.R7$(2),o.SpI(" ",null==Q?null:Q.displayName," "),o.R7$(3),o.JRh(Re.typeStr(null==Q?null:Q.type)),o.R7$(2),o.Y8G("ngIf",!Q.enabled),o.R7$(),o.Y8G("ngIf",null==Q?null:Q.nonEditable),o.R7$(3),o.vxM(Re.resourceIsReadOnly(Q)?15:16)}}function Dt(me,An){if(1&me&&(o.j41(0,"table",38)(1,"thead")(2,"tr")(3,"th",39),o.EFF(4),o.nI1(5,"translate"),o.k0s(),o.j41(6,"th",40),o.EFF(7),o.nI1(8,"translate"),o.k0s(),o.j41(9,"th",40),o.EFF(10),o.nI1(11,"translate"),o.k0s(),o.j41(12,"th",41)(13,"span",14),o.EFF(14),o.nI1(15,"translate"),o.k0s()(),o.j41(16,"th",41)(17,"span",14),o.EFF(18),o.nI1(19,"translate"),o.k0s()()()(),o.j41(20,"tbody"),o.DNE(21,Qr,17,12,"tr",42),o.k0s()()),2&me){const Q=o.XpG(4);o.R7$(4),o.SpI(" ",o.bMT(5,6,"Common.Scheme")," "),o.R7$(3),o.SpI(" ",o.bMT(8,8,"Common.Name")," "),o.R7$(3),o.SpI(" ",o.bMT(11,10,"Common.Type")," "),o.R7$(4),o.JRh(o.bMT(15,12,"Common.Status")),o.R7$(4),o.JRh(o.bMT(19,14,"Common.Actions")),o.R7$(3),o.Y8G("ngForOf",Q.dynamicAuths)}}function un(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-pager",56),o.bIt("onGoToPage",function(Le){o.eBV(Q);const gn=o.XpG(4);return o.Njj(gn.goToPage(Le))}),o.k0s()}if(2&me){const Q=o.XpG(4);o.Y8G("totalResults",null==Q.pagedResult?null:Q.pagedResult.totalCount)("currentPage",Q.page)("lastPage",null==Q.pagedResult?null:Q.pagedResult.pageCount)}}function Vt(me,An){if(1&me&&(o.qex(0),o.DNE(1,li,4,3,"div",34)(2,Dt,22,16,"table",35)(3,un,1,3,"app-pager",36),o.bVm()),2&me){const Q=o.XpG(3);o.R7$(),o.Y8G("ngIf",(null==Q.dynamicAuths?null:Q.dynamicAuths.length)<1),o.R7$(),o.Y8G("ngIf",(null==Q.dynamicAuths?null:Q.dynamicAuths.length)>0),o.R7$(),o.Y8G("ngIf",(null==Q.pagedResult?null:Q.pagedResult.results.length)>0&&!Q.isLoading)}}function pn(me,An){if(1&me){const Q=o.RV6();o.j41(0,"div",21)(1,"app-search",22),o.nI1(2,"translate"),o.mxI("searchTermChange",function(Le){o.eBV(Q);const gn=o.XpG(2);return o.DH7(gn.searchTerm,Le)||(gn.searchTerm=Le),o.Njj(Le)}),o.bIt("onSearch",function(Le){o.eBV(Q);const gn=o.XpG(2);return o.Njj(gn.search(Le))})("appliedFilters",function(Le){o.eBV(Q);const gn=o.XpG(2);return o.Njj(gn.filterStream.next(Le))}),o.k0s(),o.DNE(3,Di,7,4,"app-action-bar",23)(4,Vi,1,0,"app-simple-loader",23)(5,Vt,4,3,"ng-container",23),o.k0s()}if(2&me){const Q=o.XpG(2);o.R7$(),o.R50("searchTerm",Q.searchTerm),o.Y8G("availableFilters",Q.availableFilters)("placeholder",o.bMT(2,6,"DynamicAuth.SearchPlaceholder")),o.R7$(2),o.Y8G("ngIf",!Q.isLoading&&!Q.isReadOnly),o.R7$(),o.Y8G("ngIf",Q.isLoading),o.R7$(),o.Y8G("ngIf",!Q.isLoading)}}function Jn(me,An){if(1&me&&(o.j41(0,"div",11)(1,"app-title-bar",4),o.nI1(2,"translate"),o.j41(3,"a",12),o.nrm(4,"span",13),o.j41(5,"span",14),o.EFF(6),o.nI1(7,"translate"),o.k0s()()(),o.DNE(8,hn,1,0,"ng-template",null,0,o.C5r)(10,Fn,4,5,"div",15)(11,pn,6,8,"div",16),o.k0s()),2&me){const Q=o.XpG();o.R7$(),o.Y8G("title",o.bMT(2,5,Q.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),o.R7$(2),o.Y8G("href",Q.LinkConstants.EnablingDynamicAuth,o.B4B),o.R7$(3),o.JRh(o.bMT(7,7,"Common.Help")),o.R7$(4),o.Y8G("ngIf",!Q.schemaHealthy),o.R7$(),o.Y8G("ngIf",Q.schemaHealthy)}}let yi=(()=>{class me extends et.u{get availableFilters(){return Object.keys(K).map(Q=>new Ae(K[Q],`DynamicAuth.Filters.${Q}`,!1))}get DynamicAuthFilters(){return K}get isReadOnly(){return(0,he.tb)(this.securityService.userPermissions)}get LinkConstants(){return De.e}typeStr(Q){return Jt.EX[Q]}constructor(Q,Re,Le,gn,$i,fs,Go,nu,iu,$a,Au){super(nu,iu,!0,Au,Go,$a),this.configService=Q,this.errorService=Re,this.titleService=Le,this.dynamicAuthenticationService=gn,this.localize=$i,this.modalService=fs,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new qt.B,this.pageStream=new qt.B,this.pageSizeStream=new qt.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(Q){this.modalService.show(Q,{id:P.R.Id,ariaLabelledBy:P.R.TileId,ariaDescribedby:P.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(P.R.Id)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(Q){return this.term=Q,{searchTerm:Q,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:void 0}}ngOnInit(){const Q=this.translate.instant("Nav.DynamicAuth")+" - "+ue.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(Q),this.configService.getConfig().subscribe({next:Re=>{this.dynamicAuthIsNotConfigured=(0,he.hX)(Re.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=Re.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk},error:Re=>{this.errorService.handleError(Re)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,Tn.$)()).subscribe({next:Re=>{this.schemaHealthy=Re,this.schemaHealthy&&this.triggerPageLoad()},error:Re=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:Re.status}))}})}triggerPageLoad(){const Q=this.filterStream.pipe((0,ct.T)(gn=>(this.activeFilters=gn,{filters:gn,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),Re=this.pageStream.pipe((0,ct.T)(gn=>(this.page=gn,{filters:this.activeFilters,searchTerm:this.term,page:gn,pageSize:this.pageSize}))),Le=this.pageSizeStream.pipe((0,ct.T)(gn=>(this.pageSize=gn,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:gn})));Re.pipe((0,Wn.X)(Le),(0,Wn.X)(this.searchSource),(0,Wn.X)(Q),(0,Wn.X)(this.enterKeySource),(0,en.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters}),(0,Ln.Z)(gn=>{this.isLoading=!0;const $i=gn.filters.join(" ");return this.dynamicAuthenticationService.get(gn.searchTerm,gn.page,gn.pageSize,$i).pipe((0,ni.c)(200))})).subscribe({next:gn=>{this.pagedResult=gn,this.dynamicAuths=this.pagedResult.results.map($i=>(0,mt.lH)($i)).sort(($i,fs)=>Number(fs.nonEditable)-Number($i.nonEditable)),this.isLoading=!1},error:gn=>{500===gn.status?this.handleInternalServerError():this.errorService.handleError(gn),this.isLoading=!1}})}filter(Q){if(this.activeFilters.includes(Q)){const Re=this.activeFilters.indexOf(Q);this.activeFilters.splice(Re,1)}else this.activeFilters.push(Q);this.filterStream.next(this.activeFilters)}isShowing(Q){return this.activeFilters.includes(Q)}goToPage(Q){this.pageStream.next(Q)}setPageLength(Q){this.page=1,this.pageSizeStream.next(Q)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}resourceIsReadOnly(Q){return!this.hasEditPermission||Q.nonEditable}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(je.w),o.rXU(_t.I),o.rXU(Ht.hE),o.rXU(it.v),o.rXU(A.QG),o.rXU(w.I8),o.rXU(nn.i),o.rXU(wn.tw),o.rXU(e.c$),o.rXU(Kn.Ix),o.rXU(Kn.nX))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["ng-component"]],standalone:!1,features:[o.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],[3,"wizardCancel","finish","hide"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","appliedFilters","searchTerm","availableFilters","placeholder"],[4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Re,Le){1&Re&&o.DNE(0,At,17,12,"div",1)(1,Jn,12,9,"div",2),2&Re&&(o.Y8G("ngIf",Le.dynamicAuthIsNotConfigured),o.R7$(),o.Y8G("ngIf",!Le.dynamicAuthIsNotConfigured))},dependencies:[t.Sq,t.bT,a.xH,a.y7,a.wz,a.BC,a.vS,ei.z,Ot.n,Gn.d,Qt.B,Sn.S,be,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var pi=l(3806),js=l(1560),Ts=l(8114),Hr=l(7778),ks=l(8762),ca=l(4692);const Ci=me=>[me];function wr(me,An){1&me&&(o.nrm(0,"span",15),o.j41(1,"span",16),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&me&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Add")))}function Zr(me,An){1&me&&(o.nrm(0,"span",17),o.j41(1,"span",16),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&me&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Edit")))}function Aa(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",7,3),o.bIt("click",function(){o.eBV(Q),o.XpG();const Le=o.sdS(18);return o.Njj(Le.show())}),o.nrm(2,"span",18),o.j41(3,"span",16),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}if(2&me){const Q=o.XpG();o.Y8G("id",Q.id+"-secret-value-delete-btn"),o.R7$(4),o.JRh(o.bMT(5,2,"Common.Delete"))}}let ua=(()=>{class me{get ReadOnlyFieldType(){return vi.t}get currentValue(){const Q=this.updateSecretForm.get("newSecret").value;return(0,he.gP)(Q)?null:Q}constructor(Q){this.fb=Q,this.update=new o.bkB,this.updateSecretForm=Q.group({newSecret:["",[he.Dh,a.k0.required]]})}confirm(){this.update.emit(this.currentValue),this.updateSecretForm.patchValue({newSecret:null})}removeSecret(){this.update.emit(null),this.updateSecretForm.patchValue({newSecret:null})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-secret-input"]],inputs:{id:"id",label:"label",help:"help",isLast:"isLast",secret:"secret"},outputs:{update:"update"},standalone:!1,decls:20,vars:27,consts:[["addClientSecretButton",""],["modifySecretModal",""],["deleteSecretModal",""],["removeClientSecretButton",""],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],[3,"fieldType","values"],["type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click","id"],["type","button","class","tw-btn-link tw-btn-small group-hover:tw-text-blue-500","placement","right",3,"id","click",4,"ngIf"],[3,"confirm","close","title","modalId","okText","inFlight","disableSpinner"],["body",""],[3,"formGroup"],[1,"tw-mb-4"],["type","text","name","newSecret","id","newSecret","formControlName","newSecret",1,"tw-form-control"],[3,"delete","resourceName","modalId","destructive"],["id","addEditIcon","aria-hidden","true",1,"fas","fa-plus"],[1,"sr-only"],["id","addEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["id","deleteIcon","aria-hidden","true",1,"fas","fa-times"]],template:function(Re,Le){if(1&Re){const gn=o.RV6();o.j41(0,"app-form-row",4)(1,"div",5),o.nrm(2,"app-readonly",6),o.nI1(3,"readOnlyValue"),o.j41(4,"button",7,0),o.bIt("click",function(){o.eBV(gn);const fs=o.sdS(10);return o.Njj(fs.show())}),o.DNE(6,wr,4,3)(7,Zr,4,3),o.k0s(),o.DNE(8,Aa,6,4,"button",8),o.k0s()(),o.j41(9,"app-confirmation-modal",9,1),o.bIt("confirm",function(){return o.eBV(gn),o.Njj(Le.confirm())})("close",function(){return o.eBV(gn),o.Njj(Le.updateSecretForm.patchValue({newSecret:null}))}),o.qex(11,10),o.j41(12,"form",11)(13,"p",12),o.EFF(14),o.nI1(15,"translate"),o.k0s(),o.nrm(16,"input",13),o.k0s(),o.bVm(),o.k0s(),o.j41(17,"app-delete-confirmation-modal",14,2),o.nI1(19,"translate"),o.bIt("delete",function(){return o.eBV(gn),o.Njj(Le.removeSecret())}),o.k0s()}2&Re&&(o.Y8G("id",Le.id+"secret-value-input")("label",Le.label)("help",Le.help)("isLast",Le.isLast),o.R7$(2),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(25,Ci,o.bMT(3,19,Le.secret))),o.R7$(2),o.Y8G("id",Le.id+"-secret-value-change-btn"),o.R7$(2),o.vxM(null===Le.secret?6:7),o.R7$(2),o.Y8G("ngIf",null!=Le.secret),o.R7$(),o.Y8G("title","Common.NewSecretModal.Title")("modalId",Le.id+"-modify-secret")("okText","Common.Update")("inFlight",!Le.updateSecretForm.valid)("disableSpinner",!0),o.R7$(3),o.Y8G("formGroup",Le.updateSecretForm),o.R7$(2),o.SpI("",o.bMT(15,21,"Common.NewSecretModal.Description"),":"),o.R7$(3),o.Y8G("resourceName",o.bMT(19,23,Le.label))("modalId",Le.id+"-delete-secret")("destructive",!1))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,t.bT,Ts.B,Hr.w,ks.O,In.Y,e.D9,ca.u],encapsulation:2})}}return me})();const uo=["updateClientSecretButton"],pa=me=>[me];function Cr(me,An){1&me&&(o.j41(0,"app-form-row",13)(1,"app-form-toggle",14),o.nrm(2,"input",15),o.k0s()()),2&me&&(o.Y8G("id","Enabled")("label","Common.Enabled"),o.R7$(),o.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function Or(me,An){if(1&me&&(o.j41(0,"div",8),o.DNE(1,Cr,3,5,"app-form-row",9),o.j41(2,"app-form-row",10),o.nrm(3,"app-readonly",11),o.nI1(4,"readOnlyValue"),o.k0s(),o.j41(5,"app-form-row",10),o.nrm(6,"input",12),o.k0s()()),2&me){const Q=o.XpG(2);o.R7$(),o.Y8G("ngIf",!Q.isRskDynamicAuth),o.R7$(),o.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(11,pa,o.bMT(4,9,Q.dynamicAuth.scheme))),o.R7$(2),o.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function Kr(me,An){1&me&&(o.j41(0,"app-form-row",10),o.nrm(1,"input",23),o.k0s()),2&me&&o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.OidcHelp")}function xr(me,An){if(1&me&&(o.j41(0,"option",24),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me){const Q=An.$implicit;o.Y8G("value",Q),o.R7$(),o.JRh(o.bMT(2,2,"DynamicAuth.Flows."+Q))}}function qr(me,An){if(1&me){const Q=o.RV6();o.j41(0,"div",16)(1,"app-form-row",10)(2,"input",17),o.bIt("focusout",function(){o.eBV(Q);const Le=o.XpG(2);return o.Njj(Le.tryReachAuthority())}),o.k0s()(),o.j41(3,"app-form-row",10),o.nrm(4,"input",18),o.k0s(),o.DNE(5,Kr,2,3,"app-form-row",19),o.j41(6,"app-form-row",10)(7,"div",20)(8,"select",21),o.DNE(9,xr,3,4,"option",22),o.k0s()()()()}if(2&me){const Q=o.XpG(2);o.R7$(),o.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.R7$(2),o.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.R7$(2),o.Y8G("ngIf",Q.isRskDynamicAuth),o.R7$(),o.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),o.R7$(3),o.Y8G("ngForOf",Q.allowedFlows)}}function da(me,An){1&me&&(o.j41(0,"app-form-row",29)(1,"app-form-toggle",14),o.nrm(2,"input",30),o.k0s()()),2&me&&(o.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),o.R7$(),o.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function Fa(me,An){1&me&&(o.j41(0,"app-form-row",10)(1,"app-row-bar",26),o.nrm(2,"input",31),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),o.R7$(2),o.FS9("placeholder",o.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function fr(me,An){if(1&me&&(o.j41(0,"div",25)(1,"app-form-row",10)(2,"app-row-bar",26),o.nrm(3,"input",27),o.nI1(4,"translate"),o.k0s()(),o.DNE(5,da,3,6,"app-form-row",28)(6,Fa,4,6,"app-form-row",19),o.k0s()),2&me){const Q=o.XpG(2);o.R7$(),o.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),o.R7$(2),o.FS9("placeholder",o.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),o.R7$(2),o.Y8G("ngIf",Q.isRskDynamicAuth||Q.dynamicAuth.type==Q.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",(Q.isRskDynamicAuth||Q.dynamicAuth.type==Q.dynamicAuthTypes.SAML)&&Q.formGroup.get("signInSchemeForm.differentSignOut").value)}}function kr(me,An){if(1&me&&(o.j41(0,"div")(1,"app-form-row",32),o.nrm(2,"app-lifetime-picker",33),o.k0s()()),2&me){const Q=o.XpG(2);o.R7$(),o.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),o.R7$(),o.Y8G("buttons",Q.defaultToleranceTimes)}}function Lo(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-secret-input",34),o.bIt("update",function(Le){o.eBV(Q);const gn=o.XpG(2);return o.Njj(gn.formGroup.get("secretForm.clientSecret").setValue(Le))}),o.k0s()}if(2&me){const Q=o.XpG(2);o.Y8G("id","client")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("secret",Q.formGroup.get("secretForm.clientSecret").value)}}function ea(me,An){if(1&me&&(o.j41(0,"form",2),o.DNE(1,Or,7,13,"div",3)(2,qr,10,11,"div",4)(3,fr,7,8,"div",5)(4,kr,3,5,"div",6)(5,Lo,1,4,"app-secret-input",7),o.k0s()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.formGroup),o.R7$(),o.Y8G("ngIf",Q.formGroup.get("detailsForm")),o.R7$(),o.Y8G("ngIf",Q.formGroup.get("connectionForm")&&Q.dynamicAuth.type==Q.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",Q.formGroup.get("signInSchemeForm")&&(Q.isRskDynamicAuth||Q.dynamicAuth.type==Q.dynamicAuthTypes.SAML)),o.R7$(),o.Y8G("ngIf",Q.formGroup.get("timeComparisonTolerance")&&(Q.isRskDynamicAuth||Q.dynamicAuth.type==Q.dynamicAuthTypes.SAML)),o.R7$(),o.vxM(Q.formGroup.get("secretForm")&&Q.dynamicAuth.type==Q.dynamicAuthTypes.OIDC?5:-1)}}let Da=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le,gn,$i,fs,Go){this.fb=Q,this.errorService=Re,this.dynamicAuthCacheService=Le,this.configService=gn,this.providerValidator=$i,this.translate=fs,this.toastr=Go,this.dynamicAuthTypes=Jt.EX,this.allowedFlows=ge.FlowTypes,this.failedToContactAuthority=!1}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:pi.u.Minutes},{duration:5,unit:pi.u.Minutes},{duration:10,unit:pi.u.Minutes}],this.configService.getConfig().subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk},error:Q=>{this.errorService.handleError(Q)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{switch(this.dynamicAuth=Q,this.dynamicAuth.type){case Jt.EX.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case Jt.EX.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[a.k0.required]]})}buildOidcForms(){this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options);let Q={authority:[this.oidcOptions.authority,[a.k0.required,a.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[a.k0.required]],flow:[this.oidcOptions.usePkce?de.AuthCodePlusPkce:de.AuthCode,[a.k0.required]]};this.isRskDynamicAuth&&(Q.callbackPath=[this.oidcOptions.callbackPath,[a.k0.required,Fi()]]);let Re={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(Q),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(Re.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[a.k0.required]],differentSignOut:[!(0,he.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),Re.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(Le=>{this.validateSignOutScheme()})),this.formGroup=this.fb.group(Re)}validateSignOutScheme(){let Q=this.formGroup.get("signInSchemeForm.signOutScheme").value;this.formGroup.get("signInSchemeForm.differentSignOut").value&&(0,he.gP)(Q)?this.formGroup.get("signInSchemeForm.signOutScheme").setErrors({incorrect:!0}):this.formGroup.get("signInSchemeForm.signOutScheme").setErrors(null)}buildSamlForms(){this.samlOptions=(0,mt.Q0)(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[a.k0.required]],differentSignOut:[!(0,he.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme??"",[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let Q=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(Q).subscribe(Re=>{Re||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:Q=>{let Le,Re={...this.dynamicAuth};Re=this.updateDetails(Re),this.dynamicAuth.type===Jt.EX.OIDC?(Le={...this.oidcOptions},Le=this.updateConnection(Le),Le=this.updateSignInScheme(Le),Le=this.updateSecret(Le)):this.dynamicAuth.type===Jt.EX.SAML&&(Le={...this.samlOptions},Le=this.updateSignInScheme(Le),Le=this.updateTimeComparisonTolerance(Le)),Re.options=JSON.stringify(Le),this.dynamicAuthCacheService.unsavedCache.next(Re)}}),this.dynamicAuth.type===Jt.EX.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(Q=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(Q){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...Q,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(Q){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let Re={...Q,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==de.AuthCodePlusPkce};return this.isRskDynamicAuth&&(Re.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),Re}updateSignInScheme(Q){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==Jt.EX.OIDC)return Q;this.validateSignOutScheme(),this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let Re={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===Jt.EX.SAML||this.isRskDynamicAuth){let Le=this.formGroup.get("signInSchemeForm.differentSignOut").value,gn=this.formGroup.get("signInSchemeForm.signOutScheme").value;Re.signOutScheme=Le?gn:null}return{...Q,...Re}}updateSecret(Q){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);const Re=this.formGroup.get("secretForm.clientSecret").value;return{...Q,clientSecret:Re,deleteSecret:(0,he.gP)(Re)}}updateTimeComparisonTolerance(Q){let Re=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",Re.valid),{...Q,timeComparisonTolerance:Re.value}}setTimeComparisonTolerance(Q){this.formGroup.controls.timeComparisonTolerance.setValue(Q)}checkTimeComparisonToleranceSelected(Q){return Q==this.formGroup.get("timeComparisonTolerance").value}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(Ke.t),o.rXU(je.w),o.rXU(gt),o.rXU(e.c$),o.rXU(wn.tw))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(Re,Le){if(1&Re&&o.GBs(uo,5),2&Re){let gn;o.mGM(gn=o.lsd())&&(Le.updateClientSecretButtonRef=gn.first)}},standalone:!1,decls:2,vars:1,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],[3,"id","label","help","secret"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],[3,"update","id","label","help","secret"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,ea,6,6,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&(Le.oidcOptions||Le.samlOptions)))},dependencies:[t.Sq,t.bT,a.qT,a.xH,a.y7,a.me,a.Zm,a.wz,a.BC,a.cb,a.YS,a.j4,a.JD,a.$R,js.T,In.Y,zi.m,Tt.f,ua,ks.O,ca.u,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var Ba=l(4252),Vr=l(8577);function pr(me,An){1&me&&(o.j41(0,"div")(1,"app-form-row",8),o.nrm(2,"input",9),o.k0s()()),2&me&&(o.R7$(),o.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help"))}function Na(me,An){if(1&me&&(o.j41(0,"form",3)(1,"app-form-row",4)(2,"app-form-toggle",5),o.nrm(3,"input",6),o.k0s()(),o.DNE(4,pr,3,3,"div",7),o.k0s()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.idpAdvancedForm),o.R7$(),o.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!Q.idpAdvancedForm.get("allowIdpInitiatedSso").value),o.R7$(),o.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("ngIf",Q.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}function qa(me,An){if(1&me){const Q=o.RV6();o.j41(0,"form",10)(1,"app-form-row",4)(2,"app-row-bar",11),o.nrm(3,"input",12),o.j41(4,"button",13),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.addRelayState())}),o.EFF(5),o.nI1(6,"translate"),o.k0s()()(),o.j41(7,"div",14)(8,"app-data-table",15),o.bIt("delete",function(Le){o.eBV(Q);const gn=o.XpG();return o.Njj(gn.deleteRelayState(Le))}),o.nrm(9,"app-data-table-column",16),o.k0s()()()}if(2&me){const Q=o.XpG();o.Y8G("formGroup",Q.newRelayStateForm),o.R7$(),o.Y8G("id","AllowedIdpInitiatedRelayStates")("label","DynamicAuth.SAML.AllowedIdpInitiatedRelayStates.Label")("help","DynamicAuth.SAML.AllowedIdpInitiatedRelayStates.Help")("isLast",!0),o.R7$(3),o.Y8G("disabled",""==Q.newRelayStateForm.controls.newRelayState.value),o.R7$(),o.SpI(" ",o.bMT(6,11,"Common.Add")," "),o.R7$(3),o.Y8G("rows",Q.relayStates)("norowslabel","DynamicAuth.SAML.AllowedIdpInitiatedRelayStates.Empty")("actions",Q.relayStateActions),o.R7$(),o.Y8G("cellClasses","tw-max-w-0 tw-truncate tw-font-semibold")}}let Sa=(()=>{class me{constructor(Q,Re,Le){this.fb=Q,this.errorService=Re,this.dynamicAuthCacheService=Le,this.relayStates=[],this.relayStateActions=[Ba.AA.Delete]}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.samlOptions=(0,mt.Q0)(this.dynamicAuth.options),this.relayStates=this.samlOptions.allowedIdpInitiatedRelayStates??[],this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:Q=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);let Re={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value,allowedIdpInitiatedRelayStates:this.relayStates};const Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.dynamicAuthCacheService.unsavedCache.next(Le)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[a.k0.required]],allowedIdpInitiatedRelayStates:[this.samlOptions.allowedIdpInitiatedRelayStates??[],[]]}),this.newRelayStateForm=this.fb.group({newRelayState:["",[]]})}addRelayState(){const Q=this.newRelayStateForm.controls.newRelayState.value;""==Q||this.relayStates.includes(Q)||(this.relayStates.push(Q),this.newRelayStateForm.controls.newRelayState.setValue(""),this.idpAdvancedForm.controls.allowedIdpInitiatedRelayStates.setValue(this.relayStates))}deleteRelayState(Q){this.relayStates.splice(Q,1),this.idpAdvancedForm.controls.allowedIdpInitiatedRelayStates.setValue(this.relayStates)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-idp-advanced"]],standalone:!1,decls:3,vars:2,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],["class","tw-relative",3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],[3,"id","label","help"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"],[1,"tw-relative",3,"formGroup"],[1,"tw-form-typeahead"],["type","text","name","AllowedIdpInitiatedRelayStates","id","AllowedIdpInitiatedRelayStates","formControlName","newRelayState","left","",1,"tw-form-control"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click","disabled"],[1,"tw-mt-4"],[3,"delete","rows","norowslabel","actions"],[3,"prop","cellClasses"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,Na,5,9,"form",1)(2,qa,10,13,"form",2),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&Le.idpAdvancedForm),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&Le.newRelayStateForm&&Le.idpAdvancedForm.get("allowIdpInitiatedSso").value))},dependencies:[t.bT,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.j4,a.JD,Ba.up,Vr.w,In.Y,zi.m,Tt.f,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();function Pr(me,An){if(1&me){const Q=o.RV6();o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6)(5,"div",7),o.nrm(6,"input",8),o.j41(7,"button",9),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.tryMetadataAddr())}),o.j41(8,"span"),o.EFF(9),o.nI1(10,"translate"),o.k0s()()()()()}if(2&me){const Q=o.XpG();o.Y8G("formGroup",Q.idpDetailsForm),o.R7$(),o.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),o.R7$(),o.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.R7$(5),o.JRh(o.bMT(10,12,"Common.ValidateMetadata"))}}let Vs=(()=>{class me{constructor(Q,Re,Le,gn,$i,fs){this.fb=Q,this.errorService=Re,this.dynamicAuthCacheService=Le,this.providerValidator=gn,this.translate=$i,this.toastr=fs,this.metadataAddrStream=new Xe.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.samlOptions=(0,mt.Q0)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,he.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:Q=>{this.errorService.handleError(Q)}}),this.metadataAddrStream.subscribe(Q=>{this.providerValidator.validateMetadataUrl(Q).subscribe(Re=>{Re?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:Q=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var Q={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[a.k0.required,a.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(Q)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var Q={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const Re={...this.dynamicAuth,options:JSON.stringify(Q)};this.dynamicAuthCacheService.unsavedCache.next(Re)}tryMetadataAddr(){const Q=this.idpDetailsForm.get("idpMetadataAddress");Q.invalid||this.metadataAddrStream.next(Q.value)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(Ke.t),o.rXU(gt),o.rXU(e.c$),o.rXU(Ut.g))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-idp-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,Pr,11,14,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&Le.idpDetailsForm))},dependencies:[t.bT,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y,zi.m,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var _r=l(6719),Lr=l(251);const So=["AdvancedTabs"];let ya=(()=>{class me{constructor(){}ngOnInit(){}static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(Re,Le){if(1&Re&&o.GBs(So,7),2&Re){let gn;o.mGM(gn=o.lsd())&&(Le.advancedTabs=gn.first)}},standalone:!1,decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),o.k0s()(),o.j41(4,"div",3),o.nrm(5,"router-outlet"),o.k0s()),2&Re&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.IdpInitiated")("tabValue","idp-initiated"))},dependencies:[Kn.n3,_r.G,Lr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();function rr(me,An){if(1&me&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"slice"),o.k0s()),2&me){const Q=An.item;o.R7$(),o.JRh(Q.length>20?o.brH(2,1,Q,0,20)+"...":Q)}}function hs(me,An){1&me&&(o.j41(0,"div",11)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function As(me,An){1&me&&(o.j41(0,"span",21),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Reserved")," "))}function Ps(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",22),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG().$implicit,gn=o.XpG(3);return o.Njj(gn.removeScope(Le))}),o.nrm(1,"span",23),o.j41(2,"span",15),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}2&me&&(o.R7$(3),o.JRh(o.bMT(4,1,"Common.Delete.Title")))}function Wr(me,An){if(1&me&&(o.j41(0,"tr")(1,"td",18)(2,"span"),o.EFF(3),o.k0s()(),o.j41(4,"td"),o.DNE(5,As,3,3,"span",19),o.k0s(),o.j41(6,"td"),o.DNE(7,Ps,5,3,"button",20),o.k0s()()),2&me){const Q=An.$implicit,Re=o.XpG(3);o.R7$(3),o.JRh(Q),o.R7$(2),o.Y8G("ngIf",!Re.allowRemoveScope(Q)),o.R7$(2),o.Y8G("ngIf",Re.allowRemoveScope(Q))}}function Sr(me,An){if(1&me&&(o.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),o.EFF(4),o.nI1(5,"translate"),o.k0s()(),o.j41(6,"th",16)(7,"span",15),o.EFF(8),o.nI1(9,"translate"),o.k0s()(),o.j41(10,"th",16)(11,"span",15),o.EFF(12),o.nI1(13,"translate"),o.k0s()()(),o.j41(14,"tbody"),o.DNE(15,Wr,8,3,"tr",17),o.k0s()()),2&me){const Q=o.XpG(2);o.R7$(4),o.JRh(o.bMT(5,4,"Common.Scope")),o.R7$(4),o.JRh(o.bMT(9,6,"Common.Reserved")),o.R7$(4),o.JRh(o.bMT(13,8,"Common.Actions")),o.R7$(3),o.Y8G("ngForOf",Q.currentScopes())}}function Jo(me,An){if(1&me){const Q=o.RV6();o.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),o.nrm(3,"input",6),o.nI1(4,"translate"),o.j41(5,"button",7),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.addScope())}),o.EFF(6),o.nI1(7,"translate"),o.k0s()()(),o.j41(8,"div",8),o.DNE(9,hs,4,3,"div",9)(10,Sr,16,10,"table",10),o.k0s()()}if(2&me){const Q=o.XpG(),Re=o.sdS(1);o.Y8G("formGroup",Q.scopesForm),o.R7$(),o.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),o.R7$(2),o.FS9("placeholder",o.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),o.Y8G("typeahead",Q.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Re)("typeaheadMinLength",0)("maxlength",Q.maxScopeLength),o.R7$(3),o.SpI(" ",o.bMT(7,17,"Common.Add")," "),o.R7$(2),o.Y8G("id","Scopes"),o.R7$(),o.Y8G("ngIf",Q.currentScopes().length<=0),o.R7$(),o.Y8G("ngIf",Q.currentScopes().length>0)}}let Uo=(()=>{class me{constructor(Q,Re,Le,gn,$i,fs){this.fb=Q,this.errorService=Re,this.toastr=Le,this.translateService=gn,this.dynamicAuthChachService=$i,this.providerValidator=fs,this.newScope="",this.dynamicAuthTypes=Jt.EX,this.isDeleting=!1,this.maxScopeLength=ge.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}}),this.options=new xi.c(Q=>{let Re=this.scopesForm.get("newScope").value;Q.next(Re)}).pipe((0,wt.n)(Q=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,ct.T)(Re=>this.filterScopes(Q,Re)))))}filterScopes(Q,Re){const Le=!Q;return Re.filter(gn=>!this.currentScopes().includes(gn)&&(Le||gn.includes(Q)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:Q=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const Re={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.dynamicAuthChachService.unsavedCache.next(Le)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const Q=this.scopesForm.controls.newScope.value,Re=this.scopesForm.controls.scopes.value;""!==Q?Q.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):Re.includes(Q)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...Re,Q]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(Q){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(Le=>Le!==Q))}currentScopes(){const Q=this.scopesForm.controls.scopes;return Q?Q.value:[]}allowRemoveScope(Q){return ge.AllowRemoveScope(Q)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(wn.tw),o.rXU(e.c$),o.rXU(Ke.t),o.rXU(gt))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-scopes"]],standalone:!1,decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(Re,Le){1&Re&&(o.DNE(0,rr,3,5,"ng-template",null,0,o.C5r),o.j41(2,"div",1),o.DNE(3,Jo,11,19,"form",2),o.k0s()),2&Re&&(o.R7$(3),o.Y8G("ngIf",Le.dynamicAuth))},dependencies:[t.Sq,t.bT,a.qT,a.me,a.BC,a.cb,a.tU,a.j4,a.JD,In.Y,Tt.f,S.Xi,t.P9,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var eo=l(4572);function Qo(me,An){1&me&&(o.nrm(0,"span",12),o.nI1(1,"translate")),2&me&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.PathValidation"),o.npT)}function H(me,An){1&me&&(o.nrm(0,"span",13),o.nI1(1,"translate")),2&me&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.PathValidation"),o.npT)}function ie(me,An){1&me&&(o.nrm(0,"span",14),o.nI1(1,"translate")),2&me&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.PathValidation"),o.npT)}function ee(me,An){if(1&me&&(o.j41(0,"form",2)(1,"app-form-row",3),o.nrm(2,"input",4),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"input",5),o.DNE(5,Qo,2,3,"span",6),o.k0s(),o.j41(6,"app-form-row",3),o.nrm(7,"input",7),o.DNE(8,H,2,3,"span",8),o.k0s(),o.j41(9,"app-form-row",9),o.nrm(10,"input",10),o.DNE(11,ie,2,3,"span",11),o.k0s()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.spDetailsForm),o.R7$(),o.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),o.R7$(2),o.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),o.R7$(2),o.Y8G("ngIf",!Q.validMetadataPath()),o.R7$(),o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.SamlHelp"),o.R7$(2),o.Y8G("ngIf",!Q.validCallbackPath()),o.R7$(),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.SamlHelp")("isLast",!0),o.R7$(2),o.Y8G("ngIf",!Q.validSignedOutPath())}}let Ee=(()=>{class me{constructor(Q,Re,Le,gn){this.fb=Q,this.errorService=Re,this.dynamicAuthCacheService=Le,this.configService=gn}ngOnInit(){(0,eo.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()),this.configService.getConfig().pipe((0,Tn.$)())]).subscribe({next:([Q,Re])=>{this.dynamicAuth=Q,this.samlOptions=(0,mt.Q0)(this.dynamicAuth.options),this.isRskDynamicAuth=Re.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:Q=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var Re={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.dynamicAuthCacheService.unsavedCache.next(Le)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let Q={spEntityId:[this.samlOptions.spEntityId,[a.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[a.k0.required,Fi()]],callbackPath:[this.samlOptions.callbackPath,[a.k0.required,Fi()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[Fi()]]};this.spDetailsForm=this.fb.group(Q)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(Ke.t),o.rXU(je.w))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-sp-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,ee,12,17,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&Le.spDetailsForm))},dependencies:[t.bT,a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var qe=l(3042);function Pt(me,An){if(1&me&&(o.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),o.nrm(3,"input",17),o.k0s()()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.spRequestForm),o.R7$(),o.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),o.R7$(),o.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function yn(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){o.eBV(Q),o.XpG();const Le=o.sdS(7);return o.Njj(Le.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.AddCert")," "))}function ai(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(Q),o.XpG();const Le=o.sdS(7);return o.Njj(Le.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let ts=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le,gn,$i,fs,Go){this.fb=Q,this.errorService=Re,this.dynamicAuthCacheService=Le,this.toastr=gn,this.translate=$i,this.certService=fs,this.dynamicAuthService=Go,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Fe.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.samlOptions=(0,mt.Q0)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:Q=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var Re={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(Le)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(Q){this.selectedFile=Q.item(0)}updateSigningCert(){this.fileName=new Fe.w("");const Q=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,Q,{next:Re=>{this.fileName=new Fe.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,Re,Q).subscribe(Le=>{this.certificateDescription=[Le],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(Le)})},error:Re=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},Q=>{this.errorService.handleError(Q)})}updateSigninCertInCache(Q){var Re={...this.samlOptions,signingCertificateDto:Q};const Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.dynamicAuthCacheService.unsavedCache.next(Le)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(Ke.t),o.rXU(wn.tw),o.rXU(e.c$),o.rXU(u.V),o.rXU(it.v))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-sp-request"]],standalone:!1,decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(Re,Le){if(1&Re){const gn=o.RV6();o.j41(0,"div",2),o.DNE(1,Pt,4,7,"form",3),o.j41(2,"app-saml-cert-list",4),o.bIt("delete",function(){return o.eBV(gn),o.Njj(Le.removeSigningCert())}),o.qex(3,5),o.DNE(4,yn,3,3,"button",6)(5,ai,3,3,"button",7),o.bVm(),o.k0s(),o.j41(6,"app-confirmation-modal",8,0),o.bIt("confirm",function(){return o.eBV(gn),o.Njj(Le.updateSigningCert())}),o.qex(8,9),o.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),o.bIt("change",function(fs){return o.eBV(gn),o.Njj(Le.handleFileInput(fs.target.files))}),o.k0s()()(),o.j41(15,"app-form-row",14),o.nrm(16,"input",15),o.k0s()(),o.bVm(),o.k0s()()}2&Re&&(o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&Le.spRequestForm),o.R7$(),o.Y8G("certificates",Le.certificateDescription)("showSingle",!0)("deleteCertDisabled",Le.canDeleteCert),o.R7$(2),o.Y8G("ngIf",Le.certificateDescription.length<1),o.R7$(),o.Y8G("ngIf",Le.certificateDescription.length>0),o.R7$(),o.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),o.R7$(3),o.Y8G("formGroup",Le.certForm),o.R7$(),o.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.R7$(5),o.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[t.bT,a.qT,a.me,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,zi.m,Ts.B,qe.T,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();function ji(me,An){if(1&me&&(o.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),o.nrm(3,"input",17),o.k0s()(),o.j41(4,"app-form-row",11)(5,"app-form-toggle",16),o.nrm(6,"input",18),o.k0s()()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.spResponseForm),o.R7$(),o.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),o.R7$(),o.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),o.R7$(),o.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function Js(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(Q),o.XpG();const Le=o.sdS(7);return o.Njj(Le.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.AddCert")," "))}function Ur(me,An){if(1&me){const Q=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(Q),o.XpG();const Le=o.sdS(7);return o.Njj(Le.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&me&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let ma=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le,gn,$i,fs,Go){this.fb=Q,this.errorService=Re,this.dynamicAuthCacheService=Le,this.toastr=gn,this.translate=$i,this.certService=fs,this.dynamicAuthService=Go,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Fe.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.samlOptions=(0,mt.Q0)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:Q=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var Re={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(Le)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(Q){this.selectedFile=Q.item(0)}updateEncryptionCert(){this.fileName=new Fe.w("");const Q=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,Q,{next:Re=>{this.fileName=new Fe.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,Re,Q).subscribe(Le=>{this.certificateDescription=[Le],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(Le)})},error:Re=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},Q=>{this.errorService.handleError(Q)})}updateEncryptionCertInCache(Q){var Re={...this.samlOptions,encryptionCertificateDto:Q};const Le={...this.dynamicAuth,options:JSON.stringify(Re)};this.dynamicAuthCacheService.unsavedCache.next(Le)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(_t.I),o.rXU(Ke.t),o.rXU(wn.tw),o.rXU(e.c$),o.rXU(u.V),o.rXU(it.v))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-sp-response"]],standalone:!1,decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(Re,Le){if(1&Re){const gn=o.RV6();o.j41(0,"div",2),o.DNE(1,ji,7,13,"form",3),o.j41(2,"app-saml-cert-list",4),o.bIt("delete",function(){return o.eBV(gn),o.Njj(Le.removeEncryptionCert())}),o.qex(3,5),o.DNE(4,Js,3,3,"button",6)(5,Ur,3,3,"button",7),o.bVm(),o.k0s(),o.j41(6,"app-confirmation-modal",8,0),o.bIt("confirm",function(){return o.eBV(gn),o.Njj(Le.updateEncryptionCert())}),o.qex(8,9),o.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),o.bIt("change",function(fs){return o.eBV(gn),o.Njj(Le.handleFileInput(fs.target.files))}),o.k0s()()(),o.j41(15,"app-form-row",14),o.nrm(16,"input",15),o.k0s()(),o.bVm(),o.k0s()()}2&Re&&(o.R7$(),o.Y8G("ngIf",Le.dynamicAuth&&Le.spResponseForm),o.R7$(),o.Y8G("certificates",Le.certificateDescription)("showSingle",!0)("deleteCertDisabled",Le.canDeleteCert),o.R7$(2),o.Y8G("ngIf",Le.certificateDescription.length<1),o.R7$(),o.Y8G("ngIf",Le.certificateDescription.length>0),o.R7$(),o.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),o.R7$(3),o.Y8G("formGroup",Le.certForm),o.R7$(),o.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.R7$(5),o.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[t.bT,a.qT,a.me,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,zi.m,Ts.B,qe.T,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const Va=["AdvancedTabs"];let Ir=(()=>{class me{constructor(){}ngOnInit(){}static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(Re,Le){if(1&Re&&o.GBs(Va,7),2&Re){let gn;o.mGM(gn=o.lsd())&&(Le.advancedTabs=gn.first)}},standalone:!1,decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),o.k0s()(),o.j41(5,"div",3),o.nrm(6,"router-outlet"),o.k0s()),2&Re&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Request")("tabValue","request"),o.R7$(),o.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[Kn.n3,_r.G,Lr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var La=l(6411),to=l(7499),_c=l(6728),Is=l(6406);const Ma=(me,An)=>({title:me,link:An}),Zo=me=>[me];function Ks(me,An){1&me&&o.nrm(0,"app-custom-tab",3),2&me&&o.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function Eo(me,An){1&me&&o.nrm(0,"app-custom-tab",3),2&me&&o.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function Sl(me,An){1&me&&o.nrm(0,"app-custom-tab",3),2&me&&o.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function El(me,An){1&me&&o.nrm(0,"app-custom-tab",3),2&me&&o.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let To=(()=>{class me extends La.A{constructor(Q,Re,Le,gn,$i,fs,Go,nu,iu,$a){super($a),this.r=Q,this.route=Re,this.localize=Le,this.titleService=gn,this.translate=$i,this.toastr=fs,this.errorService=Go,this.dynamicAuthService=nu,this.dynamicAuthCachService=iu,this.dynamicAuthTypes=Jt.EX,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:Q=>{this.dynamicAuth=Q;const Re=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+ue.$9.SITE_TITLE;if(this.titleService.setTitle(Re),this.checkSubmitEnabled(),this.dynamicAuth.type==Jt.EX.OIDC&&this.isFirstCall){var Le=(0,mt.yx)(this.dynamicAuth.options);this.oldSecret=Le.clientSecret,this.isFirstCall=!1}},error:Q=>{this.errorService.handleError(Q)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}get unsavedChanges(){return this.dynamicAuthCachService.componentDirtyValidMap.size>0}onDeactivate(){this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}checkSubmitEnabled(){const Q=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===Q.length||Q.some(Re=>!Re)}mobRoute(Q){this.r.navigate([Q],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==Jt.EX.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth((0,mt.jc)(this.dynamicAuth)).subscribe({next:Q=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next((0,mt.lH)(Q)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:Q=>{this.errorService.handleError(Q,{forceToast:!0})}}))}deleteDynamicAuth(Q){this.dynamicAuthService.deleteDynamicAuth(Q).subscribe({next:Re=>{const Le=this.localize.translateRoute("/dynamic-auth");this.r.navigate([Le]),this.toastr.success(`${Q} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:Re=>{this.errorService.handleError(Re,{forceToast:!0})}})}setOidcClientSecret(){var Q=(0,mt.yx)(this.dynamicAuth.options);this.oldSecret==Q.clientSecret&&(Q.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(Q)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Kn.Ix),o.rXU(Kn.nX),o.rXU(A.QG),o.rXU(Ht.hE),o.rXU(e.c$),o.rXU(wn.tw),o.rXU(_t.I),o.rXU(it.v),o.rXU(Ke.t),o.rXU(to.o))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["ng-component"]],standalone:!1,features:[o.Vt3],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(Re,Le){if(1&Re){const gn=o.RV6();o.j41(0,"app-title-bar",1),o.nI1(1,"translate"),o.nI1(2,"localize"),o.qex(3,2),o.j41(4,"app-custom-tabs"),o.nrm(5,"app-custom-tab",3),o.DNE(6,Ks,1,2,"app-custom-tab",4)(7,Eo,1,2,"app-custom-tab",4)(8,Sl,1,2,"app-custom-tab",4)(9,El,1,2,"app-custom-tab",4),o.k0s(),o.bVm(),o.k0s(),o.j41(10,"div",5),o.nrm(11,"router-outlet"),o.k0s(),o.j41(12,"app-button-bar")(13,"button",6),o.bIt("click",function(){return o.eBV(gn),o.Njj(Le.saveDynamicAuth())}),o.j41(14,"span"),o.EFF(15),o.nI1(16,"translate"),o.k0s()(),o.qex(17,7),o.j41(18,"button",8),o.bIt("click",function(){o.eBV(gn);const fs=o.sdS(22);return o.Njj(fs.show())}),o.EFF(19),o.nI1(20,"translate"),o.k0s(),o.bVm(),o.k0s(),o.j41(21,"app-delete-confirmation-modal",9,0),o.bIt("delete",function(){return o.eBV(gn),o.Njj(Le.deleteDynamicAuth(Le.dynamicAuth.scheme))}),o.k0s(),o.nrm(23,"app-can-deactivate")}2&Re&&(o.Y8G("title",Le.dynamicAuth.displayName)("crumbs",o.eq3(24,Zo,o.l_i(21,Ma,o.bMT(1,13,"Nav.DynamicAuth"),o.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),o.R7$(5),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.SAML),o.R7$(4),o.Y8G("disabled",Le.saveDisabled),o.R7$(2),o.JRh(o.bMT(16,17,"Common.SaveAll")),o.R7$(4),o.JRh(o.bMT(20,19,"Common.Delete.Title")),o.R7$(2),o.Y8G("resourceName",Le.dynamicAuth.displayName))},dependencies:[Kn.n3,t.bT,_r.G,Lr.v,_c.E,ei.z,Is.z,Hr.w,e.D9,A.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var jr=l(7921);const ws=me=>[me];function ga(me,An){if(1&me&&(o.j41(0,"app-form-row",4),o.nrm(1,"app-readonly",3),o.k0s()),2&me){const Q=o.XpG(2);o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.OidcHelp"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(5,ws,Q.optionsDictionary.callbackPath))}}function _a(me,An){if(1&me&&(o.j41(0,"div",8)(1,"app-form-row",4),o.nrm(2,"app-readonly",3),o.k0s(),o.j41(3,"app-form-row",4),o.nrm(4,"app-readonly",3),o.k0s(),o.DNE(5,ga,2,7,"app-form-row",9),o.j41(6,"app-form-row",4),o.nrm(7,"app-readonly",3),o.k0s()()),2&me){const Q=o.XpG();o.R7$(),o.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(16,ws,Q.optionsDictionary.authority)),o.R7$(),o.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(18,ws,Q.optionsDictionary.clientId)),o.R7$(),o.Y8G("ngIf",Q.isRskDynamicAuth),o.R7$(),o.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(20,ws,Q.optionsDictionary.flow))}}function jo(me,An){if(1&me&&(o.j41(0,"div",10)(1,"app-form-row",11),o.nrm(2,"app-readonly",3),o.k0s(),o.j41(3,"app-form-row",4),o.nrm(4,"app-readonly",3),o.k0s(),o.j41(5,"app-form-row",12),o.nrm(6,"app-readonly",3),o.k0s()()),2&me){const Q=o.XpG();o.R7$(),o.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(16,ws,Q.optionsDictionary.signInScheme)),o.R7$(),o.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(18,ws,Q.optionsDictionary.signOutScheme)),o.R7$(),o.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.LifetimePicker)("values",o.eq3(20,ws,Q.optionsDictionary.timeComparisonTolerance))}}function wo(me,An){if(1&me&&(o.j41(0,"div",13)(1,"app-form-row",12),o.nrm(2,"app-readonly",3),o.k0s()()),2&me){const Q=o.XpG();o.R7$(),o.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(6,ws,Q.optionsDictionary.clientSecret))}}let Rr=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le,gn){this.errorService=Q,this.dynamicAuthChachService=Re,this.configService=Le,this.translate=gn,this.dynamicAuthTypes=Jt.EX,this.snippet=ge.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk},error:Q=>{this.errorService.handleError(Q)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{switch(this.dynamicAuthType=Q.type,this.dynamicAuthDictionary=new jr.b(Q),this.dynamicAuthType){case Jt.EX.OIDC:this.setOidcOptions(Q.options);break;case Jt.EX.SAML:this.setSamlOptions(Q.options)}},error:Q=>{this.errorService.handleError(Q)}})}setOidcOptions(Q){let Re={...(0,mt.yx)(Q)};Re.flow=this.translate.instant("DynamicAuth.Flows."+(Re.usePkce?de.AuthCodePlusPkce:de.AuthCode)),this.optionsDictionary=new jr.b(Re)}setSamlOptions(Q){const Re=(0,mt.Q0)(Q);this.optionsDictionary=new jr.b(Re)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(_t.I),o.rXU(Ke.t),o.rXU(je.w),o.rXU(e.c$))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-details"]],standalone:!1,decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),o.nrm(3,"app-readonly",3),o.k0s(),o.j41(4,"app-form-row",4),o.nrm(5,"app-readonly",3),o.k0s(),o.j41(6,"app-form-row",4),o.nrm(7,"app-readonly",3),o.k0s()(),o.DNE(8,_a,8,22,"div",5)(9,jo,7,22,"div",6)(10,wo,3,8,"div",7),o.k0s()),2&Re&&(o.R7$(2),o.Y8G("id","Enabled")("label","Common.Enabled"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(17,ws,Le.dynamicAuthDictionary.enabled)),o.R7$(),o.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(19,ws,Le.dynamicAuthDictionary.scheme)),o.R7$(),o.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(21,ws,Le.dynamicAuthDictionary.displayName)),o.R7$(),o.Y8G("ngIf",Le.dynamicAuthType==Le.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth||Le.dynamicAuthType==Le.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",Le.dynamicAuthType==Le.dynamicAuthTypes.OIDC))},dependencies:[t.bT,In.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const Ea=me=>[me];let qo=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCacheService=Q}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{var Re=(0,mt.Q0)(Q.options);this.idpAdvancedDictionary=new jr.b({allowIdpInitiatedSso:Re.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:Re.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-idp-advanced"]],standalone:!1,decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(11,Ea,Le.idpAdvancedDictionary.allowIdpInitiatedSso)),o.R7$(),o.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(13,Ea,Le.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[In.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const Oa=me=>[me];let Yl=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCacheService=Q}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{var Re=(0,mt.Q0)(Q.options);this.idpDetailsDictionary=new jr.b({requireValidMetadataSignature:Re.requireValidMetadataSignature,idpMetadataAddr:Re.idpMetadataAddress})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-idp-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(11,Oa,Le.idpDetailsDictionary.requireValidMetadataSignature)),o.R7$(),o.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(13,Oa,Le.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[In.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const vc=["AdvancedTabs"];let Ua=(()=>{class me{constructor(){}ngOnInit(){}static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(Re,Le){if(1&Re&&o.GBs(vc,7),2&Re){let gn;o.mGM(gn=o.lsd())&&(Le.advancedTabs=gn.first)}},standalone:!1,decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),o.k0s()(),o.j41(4,"div",3),o.nrm(5,"router-outlet"),o.k0s()),2&Re&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[Kn.n3,_r.G,Lr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();function dl(me,An){if(1&me&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"slice"),o.k0s()),2&me){const Q=An.item;o.R7$(),o.JRh(Q.length>20?o.brH(2,1,Q,0,20)+"...":Q)}}function Tl(me,An){1&me&&(o.j41(0,"div",5)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&me&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function or(me,An){if(1&me&&(o.j41(0,"tr")(1,"td",11)(2,"span",12),o.EFF(3),o.k0s()()()),2&me){const Q=An.$implicit;o.R7$(3),o.JRh(Q)}}function no(me,An){if(1&me&&(o.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),o.EFF(4),o.nI1(5,"translate"),o.k0s()()(),o.j41(6,"tbody"),o.DNE(7,or,4,1,"tr",10),o.k0s()()),2&me){const Q=o.XpG();o.R7$(4),o.JRh(o.bMT(5,2,"Common.Scope")),o.R7$(3),o.Y8G("ngForOf",Q.oidcOptions.scope)}}let ho=(()=>{class me{constructor(Q,Re){this.errorService=Q,this.dynamicAuthChachService=Re,this.newScope="",this.dynamicAuthTypes=Jt.EX,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options)},error:Q=>{this.errorService.handleError(Q)}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(_t.I),o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-scopes"]],standalone:!1,decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(Re,Le){1&Re&&(o.DNE(0,dl,3,5,"ng-template",null,0,o.C5r),o.j41(2,"div",1)(3,"div",2),o.DNE(4,Tl,4,3,"div",3)(5,no,8,4,"table",4),o.k0s()()),2&Re&&(o.R7$(3),o.Y8G("id","Scopes"),o.R7$(),o.Y8G("ngIf",Le.oidcOptions.scope.length<=0),o.R7$(),o.Y8G("ngIf",Le.oidcOptions.scope.length>0))},dependencies:[t.Sq,t.bT,t.P9,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const Fs=me=>[me];let ci=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCacheService=Q}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{var Re=(0,mt.Q0)(Q.options);this.spDetailsDictionary=new jr.b({entityId:Re.spEntityId,metaDataAddr:Re.spMetadataAddress,callbackPath:Re.callbackPath,signOutCallbackPath:Re.signedOutCallbackPath})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-sp-details"]],standalone:!1,decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.j41(5,"app-form-row",1),o.nrm(6,"app-readonly",2),o.k0s(),o.j41(7,"app-form-row",3),o.nrm(8,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(21,Fs,Le.spDetailsDictionary.entityId)),o.R7$(),o.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(23,Fs,Le.spDetailsDictionary.metaDataAddr)),o.R7$(),o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.SamlHelp"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(25,Fs,Le.spDetailsDictionary.callbackPath)),o.R7$(),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.SamlHelp")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(27,Fs,Le.spDetailsDictionary.signOutCallbackPath)))},dependencies:[In.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const ns=me=>[me];let lr=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCacheService=Q}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{var Re=(0,mt.Q0)(Q.options);this.spRequestDictionary=new jr.b({signAuthenticationRequests:Re.signAuthenticationRequests}),this.certificateDescription=Re.signingCertificateDto?[Re.signingCertificateDto]:[]}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-sp-request"]],standalone:!1,decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.nrm(3,"app-saml-cert-list",3),o.k0s()),2&Re&&(o.R7$(),o.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(8,ns,Le.spRequestDictionary.signAuthenticationRequests)),o.R7$(),o.Y8G("certificates",Le.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[In.Y,qe.T,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const dr=me=>[me];let Fr=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCacheService=Q}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{var Re=(0,mt.Q0)(Q.options);this.spResponseDictionary=new jr.b({requireSignedAssertions:Re.requireSignedAssertions,requireEncryptedAssertions:Re.requireEncryptedAssertions}),this.certificateDescription=Re.encryptionCertificateDto?[Re.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-sp-response"]],standalone:!1,decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.nrm(5,"app-saml-cert-list",3),o.k0s()),2&Re&&(o.R7$(),o.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(13,dr,Le.spResponseDictionary.requireSignedAssertions)),o.R7$(),o.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(15,dr,Le.spResponseDictionary.requireEncryptedAssertions)),o.R7$(),o.Y8G("certificates",Le.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[In.Y,qe.T,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const ta=["AdvancedTabs"];let Ge=(()=>{class me{constructor(){}ngOnInit(){}static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(Re,Le){if(1&Re&&o.GBs(ta,7),2&Re){let gn;o.mGM(gn=o.lsd())&&(Le.advancedTabs=gn.first)}},standalone:!1,decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),o.k0s()(),o.j41(5,"div",3),o.nrm(6,"router-outlet"),o.k0s()),2&Re&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Request")("tabValue","request"),o.R7$(),o.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[Kn.n3,_r.G,Lr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();const mn=(me,An)=>({title:me,link:An}),$e=me=>[me],It=()=>["active"];function at(me,An){1&me&&(o.j41(0,"option",19),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.Scopes")))}function bn(me,An){1&me&&(o.j41(0,"option",20),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.Advanced")))}function Ri(me,An){1&me&&(o.j41(0,"option",21),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.SP")))}function us(me,An){1&me&&(o.j41(0,"option",22),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.IdP")))}function qi(me,An){1&me&&(o.j41(0,"button",23),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.Y8G("routerLinkActive",o.lJ4(4,It)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.Scopes")))}function Er(me,An){1&me&&(o.j41(0,"button",24),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.Y8G("routerLinkActive",o.lJ4(4,It)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.Advanced")))}function Br(me,An){1&me&&(o.j41(0,"button",25),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.Y8G("routerLinkActive",o.lJ4(4,It)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.SP")))}function Yr(me,An){1&me&&(o.j41(0,"button",26),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me&&(o.Y8G("routerLinkActive",o.lJ4(4,It)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.IdP")))}let mr=(()=>{class me{constructor(Q,Re,Le,gn,$i,fs){this.r=Q,this.route=Re,this.titleService=Le,this.translate=gn,this.errorService=$i,this.dynamicAuthCachService=fs,this.dynamicAuthTypes=Jt.EX}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q;const Re=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+ue.$9.SITE_TITLE;this.titleService.setTitle(Re)},error:Q=>{this.errorService.handleError(Q)}})}mobRoute(Q){this.r.navigate([Q],{relativeTo:this.route})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Kn.Ix),o.rXU(Kn.nX),o.rXU(Ht.hE),o.rXU(e.c$),o.rXU(_t.I),o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["ng-component"]],standalone:!1,decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(Re,Le){1&Re&&(o.j41(0,"app-title-bar",0),o.nI1(1,"translate"),o.nI1(2,"localize"),o.qex(3,1),o.j41(4,"div",2)(5,"label",3),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"div",4)(9,"select",5),o.bIt("change",function($i){return Le.mobRoute($i.target.value)}),o.j41(10,"option",6),o.EFF(11),o.nI1(12,"translate"),o.k0s(),o.DNE(13,at,3,3,"option",7)(14,bn,3,3,"option",8)(15,Ri,3,3,"option",9)(16,us,3,3,"option",10),o.k0s()()(),o.j41(17,"ul",11),o.nI1(18,"translate"),o.j41(19,"li",12)(20,"button",13),o.EFF(21),o.nI1(22,"translate"),o.k0s()(),o.j41(23,"li",12),o.DNE(24,qi,3,5,"button",14),o.k0s(),o.j41(25,"li",12),o.DNE(26,Er,3,5,"button",15),o.k0s(),o.j41(27,"li",12),o.DNE(28,Br,3,5,"button",16),o.k0s(),o.j41(29,"li",12),o.DNE(30,Yr,3,5,"button",17),o.k0s()(),o.bVm(),o.k0s(),o.j41(31,"div",18),o.nrm(32,"router-outlet"),o.k0s()),2&Re&&(o.Y8G("title",Le.dynamicAuth.displayName)("crumbs",o.eq3(33,$e,o.l_i(30,mn,o.bMT(1,18,"Nav.DynamicAuth"),o.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",Le.dynamicAuth.nonEditable),o.R7$(6),o.JRh(o.bMT(7,22,"Nav.SubMenu")),o.R7$(5),o.JRh(o.bMT(12,24,"Nav.Details")),o.R7$(2),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.SAML),o.R7$(),o.BMQ("aria-label",o.bMT(18,26,"Nav.SubMenu")),o.R7$(3),o.Y8G("routerLinkActive",o.lJ4(35,It)),o.R7$(),o.JRh(o.bMT(22,28,"Nav.Details")),o.R7$(3),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.OIDC),o.R7$(2),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.OIDC),o.R7$(2),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.SAML),o.R7$(2),o.Y8G("ngIf",Le.dynamicAuth.type==Le.dynamicAuthTypes.SAML))},dependencies:[Kn.n3,p.Wk,p.wQ,t.bT,a.xH,a.y7,ei.z,e.D9,A.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return me})();var Ys=l(3178),tr=l(7553),el=l(2892),$o=l(8416),Mi=l(4446),Hi=l(6923);function se(me,An){1&me&&(o.j41(0,"app-form-row",3)(1,"app-form-toggle",4),o.nrm(2,"input",7),o.k0s()()),2&me&&(o.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),o.R7$(),o.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function Ce(me,An){if(1&me&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.DNE(4,se,3,7,"app-form-row",6),o.k0s()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.form),o.R7$(),o.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!Q.isRskDynamicAuth),o.R7$(),o.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("ngIf",Q.isRskDynamicAuth)}}let pe=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le,gn){this.fb=Q,this.configService=Re,this.dynamicAuthCache=Le,this.errorService=gn}ngOnInit(){this.configService.getConfig().pipe((0,Tn.$)()).subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}buildForm(){let Q={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(Q.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(Q)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:Q=>{let Re={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(Re.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Re)})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(je.w),o.rXU(Ke.t),o.rXU(_t.I))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-claims-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,Ce,5,9,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.form))},dependencies:[t.bT,a.qT,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,zi.m],encapsulation:2})}}return me})();function we(me,An){if(1&me&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6)(5,"app-form-toggle",4),o.nrm(6,"input",7),o.k0s()()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.form),o.R7$(),o.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),o.R7$(),o.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),o.R7$(),o.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let Je=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le){this.fb=Q,this.dynamicAuthCache=Re,this.errorService=Le}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:Q=>{let Re={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Re)})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(Ke.t),o.rXU(_t.I))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-tokens-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,we,7,14,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.form))},dependencies:[t.bT,a.qT,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,zi.m],encapsulation:2})}}return me})();function Mt(me,An){if(1&me&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6),o.nrm(5,"app-lifetime-picker",7),o.k0s()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.form),o.R7$(),o.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),o.R7$(),o.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),o.R7$(),o.Y8G("buttons",Q.metadataRefreshIntervalButtons)}}let St=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le){this.fb=Q,this.dynamicAuthCache=Re,this.errorService=Le,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[a.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:Q=>{let Re={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Re)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:pi.u.Hour},{duration:12,unit:pi.u.Hours},{duration:1,unit:pi.u.Day}]}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(Ke.t),o.rXU(_t.I))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-metadata-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,Mt,6,12,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.form))},dependencies:[t.bT,a.qT,a.Zm,a.BC,a.cb,a.j4,a.JD,js.T,In.Y,zi.m],encapsulation:2})}}return me})();function rn(me,An){if(1&me&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6)(5,"app-form-toggle",4),o.nrm(6,"input",7),o.k0s()()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.form),o.R7$(),o.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),o.R7$(),o.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),o.R7$(),o.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let kn=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le){this.fb=Q,this.dynamicAuthCache=Re,this.errorService=Le}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:Q=>{let Re={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Re)})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(Ke.t),o.rXU(_t.I))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-other-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,rn,7,14,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.form))},dependencies:[t.bT,a.qT,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,zi.m],encapsulation:2})}}return me})();function Yn(me,An){1&me&&o.nrm(0,"app-custom-tab",2),2&me&&o.Y8G("tabTitle","Common.Request")("tabValue","request")}function es(me,An){1&me&&o.nrm(0,"app-custom-tab",2),2&me&&o.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function sn(me,An){1&me&&o.nrm(0,"app-custom-tab",2),2&me&&o.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function Se(me,An){1&me&&o.nrm(0,"app-custom-tab",2),2&me&&o.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function $(me,An){1&me&&o.nrm(0,"app-custom-tab",2),2&me&&o.Y8G("tabTitle","Common.Other")("tabValue","other")}let ye=(()=>{class me{constructor(Q){this.configService=Q}ngOnInit(){this.configService.getConfig().subscribe({next:Q=>{this.isRskDynamicAuth=Q.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(je.w))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-advanced"]],standalone:!1,decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(Re,Le){1&Re&&(o.j41(0,"app-custom-tabs",0),o.DNE(1,Yn,1,2,"app-custom-tab",1),o.nrm(2,"app-custom-tab",2),o.DNE(3,es,1,2,"app-custom-tab",1)(4,sn,1,2,"app-custom-tab",1)(5,Se,1,2,"app-custom-tab",1)(6,$,1,2,"app-custom-tab",1),o.k0s(),o.j41(7,"div",3),o.nrm(8,"router-outlet"),o.k0s()),2&Re&&(o.Y8G("pillMode",!0)("hidden",!Le.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth),o.R7$(),o.Y8G("tabTitle","Common.Claims")("tabValue","claims"),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth))},dependencies:[Kn.n3,t.bT,_r.G,Lr.v],encapsulation:2})}}return me})();function Me(me,An){if(1&me&&(o.j41(0,"form",2)(1,"app-form-row",3),o.nrm(2,"input",4),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"input",5),o.k0s(),o.j41(5,"app-form-row",6),o.nrm(6,"input",7),o.k0s()()),2&me){const Q=o.XpG();o.Y8G("formGroup",Q.form),o.R7$(),o.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label")("help","DynamicAuth.RemoteSignOutPath.Help"),o.R7$(2),o.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label")("help","DynamicAuth.SignedOutRedirectUri.Help"),o.R7$(2),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.OidcHelp")("isLast",!0)}}let ft=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re,Le){this.fb=Q,this.dynamicAuthCache=Re,this.errorService=Le}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[a.k0.required,Fi()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[a.k0.required,Fi()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[a.k0.required,Fi()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:Q=>{let Re={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Re)})}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(Ke.t),o.rXU(_t.I))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-signout-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,Me,7,11,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.form))},dependencies:[t.bT,a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,In.Y],encapsulation:2})}}return me})();const Ft=me=>[me];function Yt(me,An){if(1&me&&(o.j41(0,"app-form-row",1),o.nrm(1,"app-readonly",2),o.k0s()),2&me){const Q=o.XpG();o.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Q.ReadOnlyFieldType.Single)("values",o.eq3(6,Ft,Q.optionsDictionary.mapInboundClaims))}}let _n=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q,Re){this.configService=Q,this.dynamicAuthCache=Re}ngOnInit(){(0,eo.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()),this.configService.getConfig().pipe((0,Tn.$)())]).subscribe({next:([Q,Re])=>{this.optionsDictionary=new jr.b((0,mt.yx)(Q.options)),this.isRskDynamicAuth=Re.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(je.w),o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-claims-view-details"]],standalone:!1,decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.DNE(3,Yt,2,8,"app-form-row",3),o.k0s()),2&Re&&(o.R7$(),o.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!Le.isRskDynamicAuth),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(7,Ft,Le.optionsDictionary.getClaimsFromUserInfoEndpoint)),o.R7$(),o.Y8G("ngIf",Le.isRskDynamicAuth))},dependencies:[t.bT,In.Y,ks.O],encapsulation:2})}}return me})();const On=me=>[me];let ln=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCache=Q}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.optionsDictionary=new jr.b((0,mt.yx)(Q.options))}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-signout-view-details"]],standalone:!1,decls:7,vars:22,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.j41(5,"app-form-row",3),o.nrm(6,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label")("help","DynamicAuth.RemoteSignOutPath.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(16,On,Le.optionsDictionary.remoteSignOutPath)),o.R7$(),o.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label")("help","DynamicAuth.SignedOutRedirectUri.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(18,On,Le.optionsDictionary.signedOutRedirectUri)),o.R7$(),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.OidcHelp")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(20,On,Le.optionsDictionary.signedOutCallbackPath)))},dependencies:[In.Y,ks.O],encapsulation:2})}}return me})();const En=me=>[me];let xn=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCache=Q}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.optionsDictionary=new jr.b((0,mt.yx)(Q.options))}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-metadata-view-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(11,En,Le.optionsDictionary.refreshOnIssuerKeyNotFound)),o.R7$(),o.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(13,En,Le.optionsDictionary.metadataRefreshInterval)))},dependencies:[In.Y,ks.O],encapsulation:2})}}return me})();const Zn=me=>[me];let ss=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCache=Q}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.optionsDictionary=new jr.b((0,mt.yx)(Q.options))}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-tokens-view-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(11,Zn,Le.optionsDictionary.saveTokens)),o.R7$(),o.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(13,Zn,Le.optionsDictionary.useTokenLifetime)))},dependencies:[In.Y,ks.O],encapsulation:2})}}return me})();const Ar=me=>[me];let si=(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCache=Q}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.optionsDictionary=new jr.b((0,mt.yx)(Q.options))}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-other-view-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(11,Ar,Le.optionsDictionary.skipUnrecognizedRequests)),o.R7$(),o.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(13,Ar,Le.optionsDictionary.disableTelemetry)))},dependencies:[In.Y,ks.O],encapsulation:2})}}return me})();var io=l(7970),Zi=l(2292);function Qs(me,An){if(1&me){const Q=o.RV6();o.j41(0,"div",7)(1,"div",8)(2,"input",9),o.bIt("keydown.enter",function(Le){o.eBV(Q);const gn=o.XpG();return o.Njj(gn.onEnter(Le))}),o.k0s(),o.j41(3,"button",10),o.bIt("click",function(){o.eBV(Q);const Le=o.XpG();return o.Njj(Le.onAdd())}),o.nrm(4,"span",11),o.j41(5,"span",12),o.EFF(6),o.nI1(7,"translate"),o.k0s()()()()}if(2&me){const Q=o.XpG();o.R7$(2),o.FS9("id",Q.id+"-newValue-input"),o.BMQ("list",Q.suggestionListId),o.R7$(),o.FS9("id",Q.id+"-newValue-button"),o.Y8G("disabled",Q.addDisabled),o.R7$(3),o.JRh(o.bMT(7,5,"Common.Add"))}}function vr(me,An){if(1&me&&(o.j41(0,"option"),o.EFF(1),o.k0s()),2&me){const Q=An.$implicit;o.R7$(),o.JRh(Q)}}function Io(me,An){if(1&me){const Q=o.RV6();o.j41(0,"app-pill-list",13),o.bIt("onDelete",function(Le){o.eBV(Q);const gn=o.XpG();return o.Njj(gn.onDelete(Le))}),o.k0s()}if(2&me){const Q=o.XpG();o.Y8G("readonly",Q.reserved)("id",Q.id)("values",Q.value)}}function eu(me,An){if(1&me&&(o.j41(0,"span",5),o.EFF(1),o.k0s()),2&me){const Q=o.XpG();o.R7$(),o.JRh(Q.valueLimitMsg)}}function Iu(me,An){if(1&me&&(o.j41(0,"span",14),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&me){const Q=An.$implicit;o.R7$(),o.Lme("",Q.key,": ",o.bMT(2,2,Q.value),"")}}let Ru=(()=>{class me{get newValue(){return this.form.get("newValue")?.value}set newValue(Q){this.form.get("newValue").setValue(Q)}get suggestionListId(){return`${this.id}-suggestions`}get availableSuggestions(){return this.suggestions?.filter(Q=>!this.value.includes(Q))}get errors(){let Q=this.form.get("newValue");return Q.dirty?Q?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(Q,Re){this.fb=Q,this.tranlate=Re,this.id=(0,he.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.suggestions=[],this.onChange=Le=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(Q){this.value=Q}registerOnChange(Q){this.onChange=Q}registerOnTouched(Q){this.onTouched=Q}setDisabledState(Q){this.disabled=Q}validate(Q){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onEnter(Q){Q.stopPropagation(),this.onAdd()}onDelete(Q){this.value.splice(Q,1),this.onChange(this.value)}isNullOrEmpty(Q){return!Q||null!==Q.match(/^ *$/)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(e.c$))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators",suggestions:"suggestions"},standalone:!1,features:[o.Jv_([{provide:a.kq,useExisting:(0,o.Rfq)(()=>me),multi:!0},{provide:a.cz,useExisting:(0,o.Rfq)(()=>me),multi:!0}])],decls:11,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[3,"id"],[1,"tw-mb-5"],[3,"readonly","id","values"],["id","too-many-values"],["class","tw-alert-danger","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","autocomplete","off","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"keydown.enter","id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["role","alert",1,"tw-alert-danger"]],template:function(Re,Le){1&Re&&(o.j41(0,"form",0),o.DNE(1,Qs,8,7,"div",1),o.j41(2,"datalist",2),o.Z7z(3,vr,2,1,"option",null,o.fX1),o.k0s(),o.j41(5,"div",3),o.DNE(6,Io,1,3,"app-pill-list",4)(7,eu,2,1,"span",5),o.k0s(),o.j41(8,"div"),o.DNE(9,Iu,3,4,"span",6),o.nI1(10,"keyvalue"),o.k0s()()),2&Re&&(o.Y8G("formGroup",Le.form),o.R7$(),o.Y8G("ngIf",!Le.reserved),o.R7$(),o.Y8G("id",Le.suggestionListId),o.R7$(),o.Dyx(Le.availableSuggestions),o.R7$(3),o.vxM(Le.value.length<=Le.valueLimit||!Le.reserved?6:7),o.R7$(3),o.Y8G("ngForOf",o.bMT(10,5,Le.errors)))},dependencies:[t.Sq,t.bT,a.qT,a.xH,a.y7,a.me,a.BC,a.cb,a.j4,a.JD,Zi.L,t.lG,e.D9],encapsulation:2})}}return me})();function md(me,An){if(1&me&&(o.j41(0,"li",21)(1,"label",22),o.nrm(2,"input",23),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()()),2&me){const Q=An.$implicit,Re=o.XpG(2);o.Y8G("id",Q.value+"-prompt"),o.R7$(),o.Y8G("for",Q.value+"-checkbox"),o.R7$(),o.Y8G("id",Q.value+"-checkbox")("formControlName",Q.value),o.BMQ("disabled",Re.promptDisabled(Q.value)),o.R7$(2),o.JRh(o.bMT(5,6,Q.displayName))}}function Ro(me,An){1&me&&o.nrm(0,"app-freetext-list-input",24)}function Ao(me,An){if(1&me){const Q=o.RV6();o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),o.bIt("newValue",function(Le){o.eBV(Q);const gn=o.XpG();return o.Njj(gn.updateResponseMode(Le))}),o.k0s(),o.j41(4,"a",6),o.nrm(5,"span",7),o.j41(6,"span",8),o.EFF(7),o.nI1(8,"translate"),o.k0s()()()(),o.j41(9,"app-form-row",3)(10,"ul",9),o.DNE(11,md,6,8,"li",10),o.j41(12,"li",11)(13,"label",12),o.nrm(14,"input",13),o.j41(15,"span"),o.EFF(16),o.nI1(17,"translate"),o.k0s()()()(),o.nrm(18,"br"),o.DNE(19,Ro,1,0,"app-freetext-list-input",14),o.j41(20,"p",15)(21,"span",16),o.EFF(22,"Preview:"),o.k0s(),o.j41(23,"span",17)(24,"span",18),o.EFF(25),o.k0s()()()(),o.j41(26,"app-form-row",19),o.nrm(27,"app-freetext-list-input",20),o.k0s()()}if(2&me){const Q=o.XpG();o.Y8G("formGroup",Q.form),o.R7$(),o.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),o.R7$(2),o.Y8G("id","ResponseMode")("options",Q.responseModeOptions)("value",Q.form.get("responseMode").value),o.R7$(),o.Y8G("href",Q.LinkConstants.AdvOthDynamicAuth,o.B4B),o.R7$(3),o.JRh(o.bMT(8,22,"Common.Help")),o.R7$(2),o.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),o.R7$(2),o.Y8G("ngForOf",Q.promptOptions),o.R7$(3),o.BMQ("disabled",Q.promptDisabled("")),o.R7$(2),o.JRh(o.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),o.R7$(3),o.Y8G("ngIf",Q.form.get("useOther").value&&!Q.promptDisabled("other")),o.R7$(6),o.SpI(" '",Q.generatePromptString(),"' "),o.R7$(),o.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),o.R7$(),o.Y8G("validators",Q.ResourceValidators)}}class ja{constructor(An,Q){this.displayName=An,this.value=Q}}const zl=me=>[me],Ds=[{path:"dynamic-auth",component:yi,canActivate:[el.h,Mi._,tr.F,Hi.q],data:{permissions:[Ys.a[Ys.a.AuthorizationServerManager],Ys.a[Ys.a.AuthorizationServerManagerReadOnly],Ys.a[Ys.a.AllReadOnly],Ys.a[Ys.a.All]],editPermissions:[Ys.a[Ys.a.AuthorizationServerManager],Ys.a[Ys.a.All]]}},{path:"dynamic-auth/:Scheme",component:To,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Da},{path:"scopes",component:Uo},{path:"advanced",component:ye,children:[{path:"request",component:(()=>{class me{get ReadOnlyFieldType(){return vi.t}get LinkConstants(){return De.e}get ResourceValidators(){return[Ni]}constructor(Q,Re,Le){this.fb=Q,this.dynamicAuthCache=Re,this.errorService=Le,this.responseModeOptions=Object.keys(ne).filter(gn=>isNaN(Number(gn))),this.promptOptions=[new ja("DynamicAuth.Prompt.Values.None","none"),new ja("DynamicAuth.Prompt.Values.Login","login"),new ja("DynamicAuth.Prompt.Values.Consent","consent"),new ja("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.dynamicAuth=Q,this.oidcOptions=(0,mt.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:Q=>{this.errorService.handleError(Q)}})}buildForm(){let Q=ge.ResponseModeMap.get(this.oidcOptions.responseMode);const Re=this.promptOptions.map(fs=>fs.value),Le=(0,he.hr)(this.oidcOptions.prompt),gn=Le.filter(fs=>!Re.includes(fs));let $i={responseMode:[ne[Q],[]],resource:[(0,he.hr)(this.oidcOptions.resource),[]],useOther:[gn.length>0,[]],otherPrompts:[gn,[]]};for(let fs of this.promptOptions)$i[fs.value]=[Le?.includes(fs.value)??!1,[]];this.form=this.fb.group($i)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:Q=>{let Re=ne[this.form.get("responseMode").value],Le=ge.ResponseModeKey(Re),gn={...this.oidcOptions,responseMode:Le,prompt:this.generatePromptString(),resource:(0,he.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(gn)})}})}generatePromptString(){let Q=[];if(this.form.get("none").value)return"none";for(let Re of this.promptOptions)this.form.get(Re.value).value&&Q.push(Re.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(Re=>Q.push(Re)),(0,he.Nj)(Q)}promptDisabled(Q){const Re=this.form.get("none").value;return!("none"===Q||!Re)||null}updateResponseMode(Q){this.form.get("responseMode").setValue(Q)}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(a.ze),o.rXU(Ke.t),o.rXU(_t.I))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-request-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0),o.DNE(1,Ao,28,26,"form",1),o.k0s()),2&Re&&(o.R7$(),o.Y8G("ngIf",Le.form))},dependencies:[t.Sq,t.bT,a.qT,a.Zm,a.BC,a.cb,a.j4,a.JD,In.Y,Tt.f,io.j,Ru,e.D9],encapsulation:2})}}return me})()},{path:"claims",component:pe},{path:"signOut",component:ft},{path:"metadata",component:St},{path:"tokens",component:Je},{path:"other",component:kn}]},{path:"sp",component:Ir,children:[{path:"details",component:Ee},{path:"request",component:ts},{path:"response",component:ma}]},{path:"idp",component:ya,children:[{path:"details",component:Vs},{path:"idp-initiated",component:Sa}]}],resolve:{dynamicAuth:Ve.q},canDeactivate:[$o.M],canActivate:[el.h,Mi._,tr.F,Hi.q],data:{permissions:[Ys.a[Ys.a.AuthorizationServerManager],Ys.a[Ys.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:mr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Rr},{path:"scopes",component:ho},{path:"advanced",component:ye,children:[{path:"request",component:(()=>{class me{get ReadOnlyFieldType(){return vi.t}constructor(Q){this.dynamicAuthCache=Q}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Tn.$)()).subscribe({next:Q=>{this.optionsDictionary=new jr.b((0,mt.yx)(Q.options))}})}static{this.\u0275fac=function(Re){return new(Re||me)(o.rXU(Ke.t))}}static{this.\u0275cmp=o.VBU({type:me,selectors:[["app-dynamic-auth-request-view-details"]],standalone:!1,decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(Re,Le){1&Re&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.j41(5,"app-form-row",3),o.nrm(6,"app-readonly",2),o.k0s()()),2&Re&&(o.R7$(),o.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(16,zl,Le.optionsDictionary.responseMode)),o.R7$(),o.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(18,zl,Le.optionsDictionary.prompt)),o.R7$(),o.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",Le.ReadOnlyFieldType.Single)("values",o.eq3(20,zl,Le.optionsDictionary.resource)))},dependencies:[In.Y,ks.O],encapsulation:2})}}return me})()},{path:"claims",component:_n},{path:"signOut",component:ln},{path:"metadata",component:xn},{path:"tokens",component:ss},{path:"other",component:si}]},{path:"sp",component:Ge,children:[{path:"details",component:ci},{path:"request",component:lr},{path:"response",component:Fr}]},{path:"idp",component:Ua,children:[{path:"details",component:Yl},{path:"idp-initiated",component:qo}]}],resolve:{dynamicAuth:Ve.q},canActivate:[el.h,Mi._,tr.F,Hi.q],data:{permissions:[Ys.a[Ys.a.AuthorizationServerManager],Ys.a[Ys.a.AuthorizationServerManagerReadOnly],Ys.a[Ys.a.AllReadOnly],Ys.a[Ys.a.All]]}}];let tu=(()=>{class me{static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275mod=o.$C({type:me})}static{this.\u0275inj=o.G2t({imports:[p.iI.forChild(Ds),A.XE.forChild(Ds),p.iI]})}}return me})();var fh=l(8906),uf=l(3665),ir=l(1176),yc=l(9069);let ph=(()=>{class me{static{this.\u0275fac=function(Re){return new(Re||me)}}static{this.\u0275mod=o.$C({type:me})}static{this.\u0275inj=o.G2t({providers:[Ve.q,E.R,M.c,ir.z,yc.d,F.S,B._,V._,u.V,it.v,Ke.t,je.w,gt],imports:[tu,t.MD,p.iI,a.YN,Y.Y,a.X1,m.jr,L.W,D.Ss,w.Q_,Pe.z,v.A,e.h,Z.p,A.XE,y.F,fe.M,g.a,rt.m,W.c,We.c,z.E,J.h,N.w,oe.N,Te.f,te.Y,R.l,k.Q,lt.i,S.qP,vt.U,Ye.N,fh.G,uf.t]})}}return me})()},5055:(ot,ve,l)=>{"use strict";l.d(ve,{l:()=>p});var t=l(3494),a=l(8071);function p(A){return(0,a.T)(A[t.s])}},5060:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>p});var t=l(1985),a=l(5343);const p=new t.c(a.l)},5139:(ot,ve,l)=>{"use strict";l.d(ve,{xq:()=>Be,XE:()=>mt,tl:()=>ge,QG:()=>K,wY:()=>it});var t=l(1360),a=l(2947),p=l(9262),A=l(9350),e=l(7707),m=l(1985),D=l(1413),S=l(2771),g=l(7673),k=l(6648),Y=l(17),u=l(4402),E=l(5964),B=l(9974),V=l(4360),M=l(6354),W=l(1397),y=l(980),z=l(9898),Z=l(8018),v=l(1482),L=l(9377),J=l(8434),te=l(3165);const N=new t.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),fe=new t.nKC("RAW_ROUTES");var oe=function(q){return q.LocalStorage="LocalStorage",q.SessionStorage="SessionStorage",q.Cookie="Cookie",q}(oe||{});const R=new t.nKC("USE_CACHED_LANG"),Pe=new t.nKC("CACHE_MECHANISM"),Te=new t.nKC("CACHE_NAME"),We=new t.nKC("COOKIE_FORMAT"),rt=new t.nKC("INITIAL_NAVIGATION"),lt=new t.nKC("DEFAULT_LANG_FUNCTION"),vt=new t.nKC("ALWAYS_SET_PREFIX");let it=(()=>{class q{constructor(Ae=!0,et=!0,_t=oe.LocalStorage,Ht="LOCALIZE_DEFAULT_LANGUAGE",nn=void 0,wn="{{value}};{{expires}}",Kn=!1){this.useCachedLang=Ae,this.alwaysSetPrefix=et,this.cacheName=Ht,this.cookieFormat=wn,this.initialNavigation=Kn,this.cacheMechanism=_t,this.defaultLangFunction=nn}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(R),t.KVO(vt),t.KVO(Pe),t.KVO(Te),t.KVO(lt),t.KVO(We),t.KVO(rt))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})(),Be=(()=>{class q{constructor(Ae,et,_t){this.translate=Ae,this.location=et,this.settings=_t}init(Ae){let et;if(this.routes=Ae,!this.locales||!this.locales.length)return Promise.resolve();const _t=this.getLocationLang(),Ht=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,Ht):this._cachedLang||Ht||this.locales[0],et=_t||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let nn=[];if(this.settings.alwaysSetPrefix){const wn={path:"",redirectTo:this.defaultLang,pathMatch:"full"},Kn=Ae.findIndex(ei=>"**"===ei.path);-1!==Kn&&(this._wildcardRoute=Ae.splice(Kn,1)[0]),nn=this.routes.splice(0,this.routes.length,wn)}else nn=[...this.routes];for(let wn=nn.length-1;wn>=0;wn--)nn[wn].data&&nn[wn].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(nn[wn]),(void 0===nn[wn].redirectTo||!nn[wn].data.skipRouteLocalization.localizeRedirectTo||"function"==typeof nn[wn].redirectTo)&&nn.splice(wn,1));return nn&&nn.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:nn},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function w(q,De){const Ae="object"==typeof De;return new Promise((et,_t)=>{const Ht=new e.Ms({next:nn=>{et(nn),Ht.unsubscribe()},error:_t,complete:()=>{Ae?et(De.defaultValue):_t(new A.G)}});q.subscribe(Ht)})}(this.translateRoutes(et))}initChildRoutes(Ae){return this._translateRouteTree(Ae),Ae}translateRoutes(Ae){return new m.c(et=>{this._cachedLang=Ae,this._languageRoute&&(this._languageRoute.path=Ae),this.translate.use(Ae).subscribe(_t=>{this._translationObject=_t,this.currentLang=Ae,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),et.next(void 0),et.complete()})})}_translateRouteTree(Ae,et){Ae.forEach(_t=>{const Ht=_t.data&&_t.data.skipRouteLocalization;if(_t.redirectTo&&(!Ht||Ht.localizeRedirectTo)&&"function"!=typeof _t.redirectTo){const wn=0===_t.redirectTo.indexOf("/")||et;this._translateProperty(_t,"redirectTo",wn)}Ht||(null!=_t.path&&this._translateProperty(_t,"path"),_t.children&&this._translateRouteTree(_t.children),_t.loadChildren&&_t._loadedRoutes?.length&&this._translateRouteTree(_t._loadedRoutes))})}_translateProperty(Ae,et,_t){const Ht=Ae.data=Ae.data||{};Ht.localizeRouter||(Ht.localizeRouter={}),Ht.localizeRouter[et]||(Ht.localizeRouter={...Ht.localizeRouter,[et]:Ae[et]});const nn=this.translateRoute(Ht.localizeRouter[et]);Ae[et]=_t?this.addPrefixToUrl(nn):nn}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(Ae){const et=Ae.split("?"),_t=1===et[0].length&&"/"===et[0];et[0]=et[0].replace(/\/$/,"");const Ht=et.join("?");return""===this.urlPrefix?Ht:Ht.startsWith("/")||_t?`/${this.urlPrefix}${Ht}`:`${this.urlPrefix}/${Ht}`}translateRoute(Ae){const et=Ae.split("?");if(et.length>2)throw Error("There should be only one query parameter block in the URL");return et[0].split("/").map(Ht=>Ht.length?this.translateText(Ht):Ht).join("/")+(et.length>1?`?${et[1]}`:"")}getLocationLang(Ae){const et=(Ae||this.location.path()).split(/[\?;]/);let _t=[];return et.length>0&&(_t=et[0].split("/")),_t.length>1&&-1!==this.locales.indexOf(_t[1])?_t[1]:_t.length&&-1!==this.locales.indexOf(_t[0])?_t[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===oe.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===oe.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===oe.Cookie)return this._cacheWithCookies()}}set _cachedLang(Ae){this.settings.useCachedLang&&(this.settings.cacheMechanism===oe.LocalStorage&&this._cacheWithLocalStorage(Ae),this.settings.cacheMechanism===oe.SessionStorage&&this._cacheWithSessionStorage(Ae),this.settings.cacheMechanism===oe.Cookie&&this._cacheWithCookies(Ae))}_cacheWithLocalStorage(Ae){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return Ae?void window.localStorage.setItem(this.settings.cacheName,Ae):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(Ae){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return Ae?void window.sessionStorage.setItem(this.settings.cacheName,Ae):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(Ae){try{if(typeof document>"u"||typeof document.cookie>"u")return;const et=encodeURIComponent(this.settings.cacheName);if(Ae){let nn=`${this.settings.cookieFormat}`;return nn=nn.replace("{{value}}",`${et}=${encodeURIComponent(Ae)}`).replace(/{{expires:?(\d+)?}}/g,(wn,Kn)=>{const ei=void 0===Kn?30:parseInt(Kn,10),Ot=new Date;return Ot.setTime(Ot.getTime()+864e5*ei),`expires=${Ot.toUTCString()}`}),void(document.cookie=nn)}const Ht=new RegExp("(?:^"+et+"|;\\s*"+et+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(Ht[1])}catch{return}}_returnIfInLocales(Ae){return Ae&&-1!==this.locales.indexOf(Ae)?Ae:null}translateText(Ae){if(this.escapePrefix&&Ae.startsWith(this.escapePrefix))return Ae.replace(this.escapePrefix,"");{if(!this._translationObject)return Ae;const et=this.prefix+Ae,_t=this.translate.getParsedResult(this._translationObject,et);return _t!==et?_t:Ae}}chooseQueryParams(Ae,et){let _t;return Ae&&Ae.queryParams?_t=Ae.queryParams:et&&(_t=et),_t}formatQueryParams(Ae){return new te.Nl({fromObject:Ae}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(Z.c$),t.KVO(v.aZ),t.KVO(it))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})(),Ue=(()=>{class q extends Be{load(Ae){return new Promise(et=>{this.init(Ae).then(et)})}static{this.\u0275fac=(()=>{let Ae;return function(_t){return(Ae||(Ae=t.xGo(q)))(_t||q)}})()}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})();function ct(q,De){if(q===De)return!0;if(null===q||null===De)return!1;if(q!=q&&De!=De)return!0;const Ae=typeof q;let _t,Ht,nn;if(Ae===typeof De&&"object"===Ae){if(!Array.isArray(q)){if(Array.isArray(De))return!1;for(Ht in nn=Object.create(null),q)if(q.hasOwnProperty(Ht)){if(!ct(q[Ht],De[Ht]))return!1;nn[Ht]=!0}for(Ht in De)if(De.hasOwnProperty(Ht)&&!(Ht in nn)&&typeof De[Ht]<"u")return!1;return!0}if(!Array.isArray(De))return!1;if((_t=q.length)===De.length){for(Ht=0;Ht<_t;Ht++)if(!ct(q[Ht],De[Ht]))return!1;return!0}}return!1}function Qe(q){const De=Array.isArray(q)?[]:{};for(const Ae in q)if(Ae){const et=q[Ae];De[Ae]="object"==typeof et?Qe(et):et}return De}let K=(()=>{class q{constructor(Ae,et,_t,Ht){this.parser=Ae,this.settings=et,this.router=_t,this.route=Ht,this.routerEvents=new D.B;const nn=new S.m(1);this.hooks={_initializedSubject:nn,initialized:nn.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,E.p)(Ae=>Ae instanceof a.Z),function F(){return(0,B.N)((q,De)=>{let Ae,et=!1;q.subscribe((0,V._)(De,_t=>{const Ht=Ae;Ae=_t,et&&De.next([Ht,_t]),et=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(Ae,et,_t){if(Ae!==this.parser.currentLang){const Ht=this.router.routerState.snapshot.root;this.parser.translateRoutes(Ae).subscribe(()=>{let nn=this.traverseRouteSnapshot(Ht);if(nn=this.translateRoute(nn),!this.settings.alwaysSetPrefix){let ei=nn.split("/");const Ot=ei.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===Ot||1===Ot&&""===ei[0])&&(ei=ei.slice(0,Ot).concat(ei.slice(Ot+1)));else if(-1===Ot){const Gn=""===ei[0]?1:0;ei=ei.slice(0,Gn).concat(this.parser.currentLang,ei.slice(Gn))}nn=ei.join("/")}nn=nn.replace(/\/+/g,"/");const wn=nn.lastIndexOf("/");wn>0&&wn===nn.length-1&&(nn=nn.slice(0,-1));const Kn=this.parser.chooseQueryParams(et,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=et,_t){const ei=et?{...et}:{};Kn&&(ei.queryParams=Kn),this.router.navigate([nn],ei)}else{let ei=this.parser.formatQueryParams(Kn);ei=ei?`?${ei}`:"",this.router.navigateByUrl(`${nn}${ei}`,et)}})}}traverseRouteSnapshot(Ae){return Ae.firstChild&&Ae.routeConfig?`${this.parseSegmentValue(Ae)}/${this.traverseRouteSnapshot(Ae.firstChild)}`:Ae.firstChild?this.traverseRouteSnapshot(Ae.firstChild):this.parseSegmentValue(Ae)}buildUrlFromSegments(Ae,et){return et.map((_t,Ht)=>0===_t.indexOf(":")?Ae.url[Ht].path:_t).join("/")}parseSegmentValue(Ae){if(Ae.routeConfig&&Ae.routeConfig.matcher){const et=this.parseSegmentValueMatcher(Ae);return this.buildUrlFromSegments(Ae,et)}if(Ae.data.localizeRouter){const _t=Ae.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(Ae,_t)}if(Ae.parent&&Ae.parent.parent){const _t=Ae.routeConfig.path.split("/");return this.buildUrlFromSegments(Ae,_t)}return""}parseSegmentValueMatcher(Ae){const et=Ae.data&&Ae.data.localizeMatcher&&Ae.data.localizeMatcher.params||{};return Ae.url.map(Ht=>{const nn=Ht.path,wn=Ht.localizedParamName;return(wn&&et[wn]?et[wn](nn):null)||`${this.parser.getEscapePrefix()}${nn}`})}translateRoute(Ae){if("string"==typeof Ae){const _t=this.parser.translateRoute(Ae);return Ae.indexOf("/")?_t:this.parser.addPrefixToUrl(_t)}const et=[];return Ae.forEach((_t,Ht)=>{if("string"==typeof _t){const nn=this.parser.translateRoute(_t);Ht||_t.indexOf("/")?et.push(nn):et.push(this.parser.addPrefixToUrl(nn))}else et.push(_t)}),et}_routeChanged(){return([Ae,et])=>{const _t=this.parser.getLocationLang(Ae.url)||this.parser.defaultLang,Ht=this.parser.getLocationLang(et.url)||this.parser.defaultLang,nn=this.lastExtras;Ht!==_t&&this.latestUrl!==et.url&&(this.latestUrl=et.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(Ht).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(et.url,nn),this.routerEvents.next(Ht)})),this.latestUrl=et.url}}cancelCurrentNavigation(){const Ae=this.router.getCurrentNavigation(),et=this.router.serializeUrl(Ae.extractedUrl);this.router.events.next(new a.j5(Ae.id,et,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(Ae){this.router.resetConfig(Qe(Ae))}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(Be),t.KVO(it),t.KVO(a.Ix),t.KVO(a.nX))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})(),ge=(()=>{class q{constructor(Ae,et){this.localize=Ae,this._ref=et,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(Ae){if(!Ae||0===Ae.length||!this.localize.parser.currentLang)return Ae;if(ct(Ae,this.lastKey)&&ct(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=Ae,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(Ae),this.lastKey=Ae;const et=this._ref._view;return et&&128&et.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}static{this.\u0275fac=function(et){return new(et||q)(t.rXU(K,16),t.rXU(t.gRc,16))}}static{this.\u0275pipe=t.EJ8({name:"localize",type:q,pure:!1})}}return q})();class o{constructor(){}shouldDetach(De){return!1}store(De,Ae){}shouldAttach(De){return!1}retrieve(De){return null}shouldReuseRoute(De,Ae){return!(!De||!Ae)&&this.getKey(De)===this.getKey(Ae)}getKey(De){if(De.firstChild&&De.firstChild.routeConfig&&De.firstChild.routeConfig.path&&-1!==De.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(De.data.localizeRouter||De.parent&&De.parent.parent||De.data.skipRouteLocalization))return"LANG";if(De.routeConfig.matcher){let Ae=`${this.getKey(De.parent)}/${De.routeConfig.matcher.name}`;return De.data.discriminantPathKey&&(Ae=`${Ae}-${De.data.discriminantPathKey}`),Ae}if(De.data.localizeRouter){let Ae=`${this.getKey(De.parent)}/${De.data.localizeRouter.path}`;return De.data.discriminantPathKey&&(Ae=`${Ae}-${De.data.discriminantPathKey}`),Ae}{let Ae=De.routeConfig.path;return De.parent&&(Ae=`${this.getKey(De.parent)}/${De.routeConfig.path}`),De.data.discriminantPathKey&&(Ae=`${Ae}-${De.data.discriminantPathKey}`),Ae}}}let dt=(()=>{class q extends a.Ix{constructor(){super(),this.platformId=(0,t.WQX)(t.Agw),this.compiler=(0,t.WQX)(t.Ql9),this.localize=(0,t.WQX)(Be),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(_t,Ht)=>function Wn(q){return(0,u.A)(q)?q:function st(q){return!!q&&"function"==typeof q.then}(q)?(0,k.H)(Promise.resolve(q)):(0,g.of)(q)}(Ht.loadChildren()).pipe((0,M.T)(Tn),(0,W.Z)(nn=>nn instanceof t.Co$||Array.isArray(nn)?(0,g.of)(nn):(0,k.H)(this.compiler.compileModuleAsync(nn))),(0,M.T)(nn=>{let wn,Kn;if(this.onLoadEndListener&&this.onLoadEndListener(Ht),Array.isArray(nn))Kn=this.localize.initChildRoutes([].concat(...nn));else{wn=nn.create(_t).injector;const Ot=wn.get.bind(wn);wn.get=(Gn,Qt,Sn)=>{const In=Ot(Gn,Qt,Sn);return Gn===a.bw?this.localize.initChildRoutes([].concat(...In)):In},Kn=wn.get(a.bw,[],{optional:!0,self:!0}).reduce((Gn,Qt)=>Gn.concat(Qt),[])}return{routes:Kn.map(gt),injector:wn}})),((0,L.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadChildren=(_t,Ht)=>{if(this.childrenLoaders.get(Ht))return this.childrenLoaders.get(Ht);if(Ht._loadedRoutes)return(0,g.of)({routes:Ht._loadedRoutes,injector:Ht._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ht);const wn=this.loadModuleFactoryOrRoutes(_t,Ht).pipe((0,y.j)(()=>{this.childrenLoaders.delete(Ht)})),Kn=new Y.G(wn,()=>new D.B).pipe((0,z.B)());return this.childrenLoaders.set(Ht,Kn),Kn}}static{this.\u0275fac=function(et){return new(et||q)}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})();function gt(q){const De=q.children&&q.children.map(gt),Ae=De?{...q,children:De}:{...q};return!Ae.component&&!Ae.loadComponent&&(De||Ae.loadChildren)&&Ae.outlet&&Ae.outlet!==a.Xk&&(Ae.component=a.we),Ae}function Tn(q){return function qt(q){return q&&"object"==typeof q&&"default"in q}(q)?q.default:q}let en=(()=>{class q{constructor(Ae){this.injector=Ae}appInitializer(){return this.parser.load(this.routes).then(()=>{const et=this.injector.get(K),_t=this.injector.get(a.Ix),Ht=this.injector.get(it);if(et.init(),Ht.initialNavigation)return new Promise(nn=>{const wn=_t.navigationTransitions.afterPreactivation;let Kn=!0;_t.navigationTransitions.afterPreactivation=()=>(Kn&&(nn(),Kn=!1,et.hooks._initializedSubject.next(!0),et.hooks._initializedSubject.complete()),wn())});et.hooks._initializedSubject.next(!0),et.hooks._initializedSubject.complete()})}generateInitializer(Ae,et){return this.parser=Ae,this.routes=et.reduce((_t,Ht)=>_t.concat(Ht)),this.appInitializer}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})();function Ln(q,De,Ae){const et=Qe(Ae);return q.generateInitializer(De,et).bind(q)}function ni(q,De){return[{provide:a.Ix,useClass:dt},{provide:N,useFactory:Jt,deps:[[mt,new t.Xx1,new t.kdw]]},{provide:R,useValue:De.useCachedLang},{provide:vt,useValue:De.alwaysSetPrefix},{provide:Te,useValue:De.cacheName},{provide:Pe,useValue:De.cacheMechanism},{provide:lt,useValue:De.defaultLangFunction},{provide:We,useValue:De.cookieFormat},{provide:rt,useValue:De.initialNavigation},it,De.parser||{provide:Be,useClass:Ue},{provide:fe,multi:!0,useValue:q},K,en,{provide:t.hnV,multi:!0,useFactory:Ln,deps:[en,Be,fe]},{provide:a.b,useClass:o}]}let mt=(()=>{class q{static forRoot(Ae,et={}){return{ngModule:q,providers:ni(Ae,et)}}static forChild(Ae){return{ngModule:q,providers:[{provide:fe,multi:!0,useValue:Ae}]}}static{this.\u0275fac=function(et){return new(et||q)}}static{this.\u0275mod=t.$C({type:q})}static{this.\u0275inj=t.G2t({imports:[J.MD,p.iI,Z.h]})}}return q})();function Jt(q){if(q)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},5175:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>e});var t=l(6701),a=l(4491),p=l(1360),A=l(455);let e=(()=>{class te{constructor(fe){this.cache=fe,this.defaultClientGrantTypeMap=new Map([[t.s.BrowserBased,a.$.AuthorizationCode],[t.s.ServerSidePKCE,a.$.AuthorizationCode],[t.s.ServerSide,a.$.Hybrid],[t.s.Native,a.$.Hybrid],[t.s.Machine,a.$.ClientCredentials],[t.s.CIBAMachine,a.$.CIBA],[t.s.Device,a.$.Device],[t.s.LegacyClientSide,a.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(oe=>{this.initClientViews(oe)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(fe){this.resetTabs(),this.isStandardClientFormat(fe)||fe.clientType===t.s.Saml||fe.clientType===t.s.WsFed?this.initUsingClientType(fe.clientType):0!==fe.allowedGrantTypes.length?this.initUsingGrantTypes(fe.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new w,this.details=new m,this.applicationUrls=new D,this.secrets=new S,this.resources=new g,this.tokens=new L,this.claims=new Y,this.refreshTokens=new y,this.identityProviders=new E,this.properties=new B,this.other=new V,this.deviceFlow=new M,this.singleSignOut=new W,this.consent=new z,this.saml=new Z,this.wsFed=new v,this.ciba=new k,this.dpop=new J}isStandardClientFormat(fe){if(fe.clientType===t.s.Unknown||fe.allowedGrantTypes.length>1)return!1;const oe=this.defaultClientGrantTypeMap.get(fe.clientType);return fe.allowedGrantTypes[0]===oe}initUsingClientType(fe){switch(fe){case t.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.s.ServerSide:case t.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.s.Native:case t.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case t.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case t.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case t.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case t.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(fe){this.saml.display=!1,this.wsFed.display=!1,fe.forEach(oe=>{switch(oe){case a.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case a.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case a.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case a.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(oe){return new(oe||te)(p.KVO(A.e))}}static{this.\u0275prov=p.jDH({token:te,factory:te.\u0275fac})}}return te})();class w{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class m{}class D{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class S{constructor(){this.display=!1}}class g{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class k{constructor(){this.display=!1}}class Y{constructor(){this.display=!1}}class E{constructor(){this.display=!1}}class B{constructor(){this.display=!1}}class V{constructor(){this.display=!1,this.userSSOLifetime=!1}}class M{constructor(){this.display=!1}}class W{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class y{constructor(){this.display=!1}}class z{constructor(){this.display=!1}}class Z{constructor(){this.display=!1}}class v{constructor(){this.display=!1}}class L{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class J{constructor(){this.display=!1}}},5196:(ot,ve,l)=>{"use strict";l.d(ve,{C:()=>p,U:()=>A});var t=l(1635),a=l(8071);function p(e){return(0,t.AQ)(this,arguments,function*(){const m=e.getReader();try{for(;;){const{value:D,done:S}=yield(0,t.N3)(m.read());if(S)return yield(0,t.N3)(void 0);yield yield(0,t.N3)(D)}}finally{m.releaseLock()}})}function A(e){return(0,a.T)(e?.getReader)}},5218:(ot,ve,l)=>{"use strict";l.d(ve,{FX:()=>M,If:()=>t,K2:()=>w,PZ:()=>F,hZ:()=>p,i0:()=>A,iF:()=>m,kY:()=>g,kp:()=>a,sf:()=>V,wk:()=>D});var t=function(W){return W[W.State=0]="State",W[W.Transition=1]="Transition",W[W.Sequence=2]="Sequence",W[W.Group=3]="Group",W[W.Animate=4]="Animate",W[W.Keyframes=5]="Keyframes",W[W.Style=6]="Style",W[W.Trigger=7]="Trigger",W[W.Reference=8]="Reference",W[W.AnimateChild=9]="AnimateChild",W[W.AnimateRef=10]="AnimateRef",W[W.Query=11]="Query",W[W.Stagger=12]="Stagger",W}(t||{});const a="*";function p(W,y){return{type:t.Trigger,name:W,definitions:y,options:{}}}function A(W,y=null){return{type:t.Animate,styles:y,timings:W}}function w(W,y=null){return{type:t.Sequence,steps:W,options:y}}function m(W){return{type:t.Style,styles:W,offset:null}}function D(W,y,z){return{type:t.State,name:W,styles:y,options:z}}function g(W,y,z=null){return{type:t.Transition,expr:W,animation:y,options:z}}class V{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(y=0,z=0){this.totalTime=y+z}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(y){this._position=this.totalTime?y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(y){const z="start"==y?this._onStartFns:this._onDoneFns;z.forEach(Z=>Z()),z.length=0}}class F{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(y){this.players=y;let z=0,Z=0,v=0;const L=this.players.length;0==L?queueMicrotask(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++z==L&&this._onFinish()}),J.onDestroy(()=>{++Z==L&&this._onDestroy()}),J.onStart(()=>{++v==L&&this._onStart()})}),this.totalTime=this.players.reduce((J,te)=>Math.max(J,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this.players.forEach(y=>y.init())}onStart(y){this._onStartFns.push(y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(y=>y()),this._onStartFns=[])}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(y=>y.play())}pause(){this.players.forEach(y=>y.pause())}restart(){this.players.forEach(y=>y.restart())}finish(){this._onFinish(),this.players.forEach(y=>y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(y=>y.destroy()),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this.players.forEach(y=>y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(y){const z=y*this.totalTime;this.players.forEach(Z=>{const v=Z.totalTime?Math.min(1,z/Z.totalTime):1;Z.setPosition(v)})}getPosition(){const y=this.players.reduce((z,Z)=>null===z||Z.totalTime>z.totalTime?Z:z,null);return null!=y?y.getPosition():0}beforeDestroy(){this.players.forEach(y=>{y.beforeDestroy&&y.beforeDestroy()})}triggerCallback(y){const z="start"==y?this._onStartFns:this._onDoneFns;z.forEach(Z=>Z()),z.length=0}}const M="!"},5225:(ot,ve,l)=>{"use strict";function t(a,p,A,e=0,w=!1){const m=p.schedule(function(){A(),w?a.add(this.schedule(null,e)):this.unsubscribe()},e);if(a.add(m),!w)return m}l.d(ve,{N:()=>t})},5291:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>Xe});var t=l(4549),a=l(7263),p=l(1413),A=l(8359),e=l(1594),w=l(9172),m=l(1397),D=l(8577),S=l(4252),g=l(1258),k=l(7185),Y=l(2390);class u{constructor(ct,st,Qe,ne,K,de){this.query=ct,this.page=st,this.pageSize=Qe,this.sortCriteria=ne,this.fromDate=K,this.toDate=de}}class E{constructor(ct){this.query=ct.query,this.page=ct.page,this.pageSize=ct.pageSize,this.sortCriteria=ct.sortCriteria,this.fromDate=ct.fromDate?.toString(),this.toDate=ct.toDate?.toString()}}var B=function(Ue){return Ue.ByUser="user",Ue.ByUserDescending="-user",Ue.ByScheme="scheme",Ue.BySchemeDescending="-scheme",Ue.ByCreated="created",Ue.ByCreatedDescending="-created",Ue.ByExpires="expires",Ue.ByExpiresDescending="-expires",Ue.ByRenewed="renewed",Ue.ByRenewedDescending="-renewed",Ue}(B||{}),V=l(923),F=l(1360),M=l(4288),W=l(5139),y=l(2947),z=l(9417),Z=l(9812),v=l(4754),L=l(7883),J=l(5424),te=l(3488),N=l(8434),fe=l(7156),oe=l(7384),R=l(6536),Pe=l(3899),Te=l(8018);const We=Ue=>[Ue];function rt(Ue,ct){1&Ue&&(F.j41(0,"span",34),F.EFF(1),F.nI1(2,"translate"),F.k0s()),2&Ue&&(F.R7$(),F.SpI(" ",F.bMT(2,1,"Auditing.FromDateWarning")," "))}function lt(Ue,ct){1&Ue&&(F.j41(0,"span",35),F.EFF(1),F.nI1(2,"translate"),F.k0s()),2&Ue&&(F.R7$(),F.SpI(" ",F.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function vt(Ue,ct){1&Ue&&(F.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),F.nrm(4,"input",39,2),F.nI1(6,"translate"),F.nI1(7,"translate"),F.k0s()()()()),2&Ue&&(F.R7$(4),F.BMQ("placeholder",F.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",F.bMT(7,4,"Auditing.AddFilterTerm")))}function je(Ue,ct){1&Ue&&(F.j41(0,"p",40),F.nrm(1,"span",41),F.EFF(2),F.nI1(3,"translate"),F.k0s()),2&Ue&&(F.R7$(2),F.SpI(" ",F.bMT(3,1,"Auditing.UpdateWarning")," "))}function Ye(Ue,ct){1&Ue&&F.nrm(0,"app-simple-loader")}function Ke(Ue,ct){1&Ue&&(F.j41(0,"div",42)(1,"div"),F.EFF(2),F.nI1(3,"translate"),F.k0s()()),2&Ue&&(F.R7$(2),F.JRh(F.bMT(3,1,"SessionManagement.NoSessionsFound")))}function it(Ue,ct){if(1&Ue&&F.nrm(0,"app-data-table-column",48),2&Ue){const st=F.XpG(2);F.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",st.sortingEnum.None)}}function Ve(Ue,ct){if(1&Ue&&(F.j41(0,"app-data-table",43),F.DNE(1,it,1,5,"app-data-table-column",44),F.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),F.k0s()),2&Ue){const st=F.XpG();F.Y8G("rows",st.pagedResult.results)("actions",st.dataTableActions),F.R7$(),F.Y8G("ngIf",!st.resourceOnly()),F.R7$(),F.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),F.R7$(),F.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",st.dateColumn(st.DatePipeNames.prettyDateTime)),F.R7$(),F.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",st.dateColumn(st.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",st.sortingEnum.Descending),F.R7$(),F.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",st.dateColumn(st.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function Be(Ue,ct){if(1&Ue){const st=F.RV6();F.j41(0,"app-pager",49),F.bIt("onGoToPage",function(ne){F.eBV(st);const K=F.XpG();return F.Njj(K.goToPage(ne))}),F.k0s()}if(2&Ue){const st=F.XpG();F.Y8G("totalResults",null==st.pagedResult?null:st.pagedResult.totalCount)("currentPage",st.filterForm.get("page").value)("lastPage",null==st.pagedResult?null:st.pagedResult.pageCount)}}let Xe=(()=>{class Ue{resourceOnly(){return!(0,a.gP)(this.resourceName)}constructor(st,Qe,ne,K,de,ge,o,dt,gt,qt){this.sessionManagementService=st,this.localizeRouter=Qe,this.router=ne,this.fb=K,this.activatedRoute=de,this.dataTableService=ge,this.modalService=o,this.securityService=dt,this.errorService=gt,this.systemClock=qt,this.isLoading=!1,this.sortingEnum=Y.u,this.filterHasChanged=!1,this.sessionStream=new p.B,this.dateColumn=(Tn,Wn)=>new D.$(Tn,Wn),this.DatePipeNames=V.N,this.dataTableActions=[S.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=g.N,this.deleteModalType=k.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new A.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,a.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[S.AA.Delete],this.activatedRoute.parent.url.pipe((0,e.$)()).subscribe({next:st=>{this.resourceName=st[1]?.path??"",this.initDataSource()},error:st=>this.errorService.handleError(st)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(st=>{this.sortResults(st)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(st=>{this.openDeleteModal(this.pagedResult.results[st])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,w.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,m.Z)(Qe=>(this.isLoading=!0,this.sessionManagementService.getSessions(Qe.query||"",Qe.fromDate?.toString(),Qe.toDate?.toString(),Qe.sortCriteria||"-when",Qe.page,Qe.pageSize,this.resourceOnly())))).subscribe(Qe=>{this.isLoading=!1,this.pagedResult={totalCount:Qe.totalCount,pageSize:Qe.pageSize,currentPage:Qe.currentPage,pageCount:Qe.pageCount,results:Qe.results.map(ne=>new Y.j(ne,this.translatedRoute))}})}applyForm(st){st&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const Qe=this.filterForm.value;this.filterForm.patchValue({fromDate:Qe.fromDate,toDate:Qe.toDate}),this.sessionStream.next(Qe),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new E(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(st){this.filterForm.patchValue({page:st}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:B.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(st){this.sessionToDelete=st,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:st=>{this.errorService.handleError(st)}})}sortResults(st){const Qe=this.activatedRoute.snapshot.queryParams,ne=(0,a.gP)(Qe?.fromDate)?this.systemClock.now().minus({month:1}):t.c9.fromISO(Qe.fromDate),K=(0,a.gP)(Qe?.toDate)?this.systemClock.now().plus({month:1}):t.c9.fromISO(Qe.toDate),de=new u(Qe.query,Qe.page,Qe.pageSize,this.getSortFromColumnName(st.prop,Qe.sortCriteria),ne,K),ge=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:de.sortCriteria}),this.sessionStream.next(de),this.filterHasChanged=ge,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new E(de)}),this.dataTableService.sortCompletedEvent.next(st.prop)}getSortFromColumnName(st,Qe){switch(st){case"user":return Qe===B.ByUserDescending?B.ByUser:B.ByUserDescending;case"expires":return Qe===B.ByExpiresDescending?B.ByExpires:B.ByExpiresDescending;default:return B.ByExpiresDescending}}setupFilterForm(st){const Qe=(0,a.gP)(st?.fromDate)?this.systemClock.now().minus({month:1}):t.c9.fromISO(st.fromDate),ne=(0,a.gP)(st?.toDate)?this.systemClock.now().plus({month:1}):t.c9.fromISO(st.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[Qe,[a.TO]],toDate:[ne],query:[this.resourceName||""],page:[st?.page||1],pageSize:[st?.pageSize>1e3?1e3:st?.pageSize||25],sortCriteria:[st?.sortCriteria||B.ByExpiresDescending]},{validators:a.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(Qe){return new(Qe||Ue)(F.rXU(M.f),F.rXU(W.QG),F.rXU(y.Ix),F.rXU(z.ok),F.rXU(y.nX),F.rXU(Z.I),F.rXU(v.B),F.rXU(L.i),F.rXU(J.I),F.rXU(te.F))}}static{this.\u0275cmp=F.VBU({type:Ue,selectors:[["app-sessionmanagement"]],standalone:!1,decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Qe,ne){if(1&Qe){const K=F.RV6();F.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),F.EFF(7),F.nI1(8,"translate"),F.k0s(),F.j41(9,"div"),F.nrm(10,"app-date-time",10),F.DNE(11,rt,3,3,"span",11),F.k0s()()(),F.j41(12,"div",7)(13,"div",8)(14,"label",12),F.EFF(15),F.nI1(16,"translate"),F.k0s(),F.j41(17,"div"),F.nrm(18,"app-date-time",13),F.DNE(19,lt,3,3,"span",14),F.k0s()()(),F.j41(20,"div",15)(21,"div",8)(22,"label",16),F.EFF(23),F.nI1(24,"translate"),F.k0s(),F.j41(25,"div",17)(26,"select",18,0)(28,"option",19),F.EFF(29,"25 "),F.k0s(),F.j41(30,"option",19),F.EFF(31,"50"),F.k0s(),F.j41(32,"option",19),F.EFF(33,"100"),F.k0s()()()()()(),F.DNE(34,vt,8,6,"div",20),F.j41(35,"div",21),F.nrm(36,"input",22,1),F.j41(38,"button",23),F.bIt("click",function(){return F.eBV(K),F.Njj(ne.applyForm(!0))}),F.EFF(39),F.nI1(40,"translate"),F.k0s(),F.j41(41,"button",24),F.bIt("click",function(){return F.eBV(K),F.Njj(ne.resetForm())}),F.EFF(42),F.nI1(43,"translate"),F.k0s(),F.DNE(44,je,4,3,"p",25),F.k0s()()(),F.DNE(45,Ye,1,0,"app-simple-loader",26)(46,Ke,4,3,"div",27)(47,Ve,6,19,"app-data-table",28)(48,Be,1,3,"app-pager",29),F.k0s(),F.j41(49,"app-custom-modal",30),F.bIt("onCancel",function(){return F.eBV(K),F.Njj(ne.closeDeleteModal())})("onDelete",function(){return F.eBV(K),F.Njj(ne.removeSession())}),F.j41(50,"div",31)(51,"p",32),F.EFF(52),F.nI1(53,"translate"),F.k0s(),F.nrm(54,"p",33),F.nI1(55,"translate"),F.k0s()()}if(2&Qe){let K;F.R7$(),F.Y8G("formGroup",ne.filterForm),F.R7$(6),F.JRh(F.bMT(8,26,"SessionManagement.Created")),F.R7$(3),F.Y8G("displayType","datetime"),F.R7$(),F.Y8G("ngIf",ne.filterForm.get("fromDate").hasError("dateInFuture")),F.R7$(4),F.JRh(F.bMT(16,28,"SessionManagement.Expires")),F.R7$(3),F.Y8G("displayType","datetime"),F.R7$(),F.Y8G("ngIf",ne.filterForm.hasError("fromDateIsAfterToDate")),F.R7$(4),F.JRh(F.bMT(24,30,"Auditing.ResultsPerPage")),F.R7$(5),F.Y8G("value",25),F.R7$(2),F.Y8G("value",50),F.R7$(2),F.Y8G("value",100),F.R7$(2),F.Y8G("ngIf",!ne.resourceOnly()),F.R7$(4),F.Y8G("disabled",(null==ne.filterForm?null:ne.filterForm.errors)||(null==(K=ne.filterForm.get("fromDate"))?null:K.hasError("dateInFuture"))),F.R7$(),F.SpI(" ",F.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),F.R7$(3),F.SpI(" ",F.bMT(43,34,"Auditing.Reset")," "),F.R7$(2),F.Y8G("ngIf",ne.filterHasChanged),F.R7$(),F.Y8G("ngIf",ne.isLoading),F.R7$(),F.Y8G("ngIf",(null==ne.pagedResult?null:ne.pagedResult.results.length)<1&&!ne.isLoading),F.R7$(),F.Y8G("ngIf",(null==ne.pagedResult?null:ne.pagedResult.results.length)>0),F.R7$(),F.Y8G("ngIf",(null==ne.pagedResult?null:ne.pagedResult.results.length)>0&&!ne.isLoading),F.R7$(),F.Y8G("title","Settings.Keys.DeleteKey")("modalId",ne.deleteModalId)("actions",F.eq3(40,We,ne.modelActions.Delete))("modalType",ne.deleteModalType),F.R7$(3),F.JRh(F.bMT(53,36,"Common.Delete.AreYouSureSimple")),F.R7$(2),F.Y8G("innerHTML",F.bMT(55,38,"Common.Delete.Warning"),F.npT)}},dependencies:[N.bT,fe.B,oe.d,z.qT,z.xH,z.y7,z.me,z.wz,z.BC,z.cb,z.j4,z.JD,R.Z,S.up,D.w,Pe.G,Te.D9],encapsulation:2})}}return Ue})()},5302:(ot,ve,l)=>{"use strict";l.d(ve,{PC:()=>w});var t=l(3165),a=l(1360),p=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.headersService=g,this.actionUrl="users/reports",this.headers=this.headersService.setHeaders()}getReports(){return this.http.get(this.actionUrl,{headers:this.headers})}runReport(S,g,k){var Y=this.actionUrl+"/"+S;let u=new t.Nl;return g&&(u=u.append("page",String(g))),k&&(u=u.append("pageSize",String(k))),this.http.get(Y,{headers:this.headers,params:u})}static{this.\u0275fac=function(g){return new(g||m)(a.KVO(t.Qq),a.KVO(p.m))}}static{this.\u0275prov=a.jDH({token:m,factory:m.\u0275fac})}}return m})()},5312:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>a});const a={authServer:l(1410).y.Duende,production:!0}},5334:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>p});var t=l(1026),a=l(9270);function p(A){a.f.setTimeout(()=>{const{onUnhandledError:e}=t.$;if(!e)throw A;e(A)})}},5343:(ot,ve,l)=>{"use strict";function t(){}l.d(ve,{l:()=>t})},5397:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>p});var t=l(4761),a=l(8071);function p(A){return(0,a.T)(A?.[t.l])}},5404:(ot,ve,l)=>{"use strict";l.d(ve,{V:()=>S});var t=l(467),a=l(1360),p=l(3929),A=l(5794),e=l(8018),w=l(9417),m=l(8698);const D=["fileInput"];let S=(()=>{class g{constructor(Y,u,E){this.certPickerService=Y,this.toastr=u,this.translate=E,this.metadata="",this.dataExists=new a.bkB}ngOnInit(){}handleFileInput(Y){this.fileToUpload=Y.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var Y=this;return(0,t.A)(function*(){let u="";if(Y.fileToUpload){const B=Y.fileToUpload.slice(0),V=new FileReader,M=new Promise(function(W,y){V.onloadend=function(){const Z=V.result.split("base64,");W(Z[1])}});V.readAsDataURL(B),u=yield M}else""!==Y.metadata&&(u=Y.metadata);const E=yield Y.tryBuildCertModel(u);return Y.resetForm(Y),E})()}resetForm(Y){Y.fileToUpload=null,Y.fileInput.nativeElement.value="",Y.metadata="",Y.dataExists.emit(Y.hasData())}tryBuildCertModel(Y){var u=this;return(0,t.A)(function*(){let E;try{const B=u.certPickerService.convertStringToArrayBuffer(Y);E=yield u.certPickerService.buildCertModelFromArrayBuffer(B,Y)}catch(B){throw u.toastr.error(u.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),u.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),B}return E})()}static{this.\u0275fac=function(u){return new(u||g)(a.rXU(p.V),a.rXU(A.tw),a.rXU(e.c$))}}static{this.\u0275cmp=a.VBU({type:g,selectors:[["app-cert-reader"]],viewQuery:function(u,E){if(1&u&&a.GBs(D,7),2&u){let B;a.mGM(B=a.lsd())&&(E.fileInput=B.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},standalone:!1,decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(u,E){if(1&u){const B=a.RV6();a.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),a.bIt("change",function(F){return a.eBV(B),a.Njj(E.handleFileInput(F.target.files))}),a.k0s()()(),a.j41(4,"div",4)(5,"span",5),a.EFF(6),a.nI1(7,"translate"),a.k0s()(),a.j41(8,"app-form-row",1)(9,"textarea",6),a.mxI("ngModelChange",function(F){return a.eBV(B),a.DH7(E.metadata,F)||(E.metadata=F),a.Njj(F)}),a.bIt("keyup",function(){return a.eBV(B),a.Njj(E.metaDataKeyDown())}),a.EFF(10,"  "),a.k0s()()}2&u&&(a.Y8G("id","fileInput")("label",E.uploadCert)("help",E.uploadCertHelp)("isLast",!0),a.R7$(2),a.Y8G("disabled",""!=E.metadata),a.R7$(4),a.JRh(a.bMT(7,12,"Common.Or")),a.R7$(2),a.Y8G("id","metaData")("label",E.certMetaData)("help",E.certMetaDataHelp)("isLast",!0),a.R7$(),a.Y8G("disabled",null!=E.fileToUpload),a.R50("ngModel",E.metadata))},dependencies:[w.me,w.BC,w.vS,m.Y,e.D9],encapsulation:2})}}return g})()},5424:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>S});var t=l(7263),a=l(8284),p=l(9957),A=l(1360),e=l(2947),w=l(5139),m=l(5794),D=l(8018);let S=(()=>{class g{constructor(Y,u,E,B){this.router=Y,this.localize=u,this.toast=E,this.translate=B}resourceNotFound(Y){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+a.v[Y])])}handleError(Y,u,E){let B=p.I.NotHandled;const V=this.getDefaultNavigationPath(Y);if(V){if(!0===u?.forceToast){const F=this.translate.instant("Notifications.SomethingWrong");return E?this.toast.error(Y.statusText,F,E):this.toast.error(Y.statusText,F),B|=p.I.Toast,B}this.router.navigate([this.localize.translateRoute(V)]),B|=p.I.Navigate}else{const F=this.getOptionsToastBody(Y,u)||this.getDefaultToastBody(Y),M=this.getOptionsToastTitle(Y,u)||this.getDefaultToastTitle(Y);F&&M&&(E?this.toast.error(F,M,E):this.toast.error(F,M),B|=p.I.Toast)}return B}getOptionsToastBody(Y,u){if(!u)return;const E="number"==typeof Y.status&&u.statusToastOptions?u.statusToastOptions[Y.status]:u;return E&&E.toastBody}getOptionsToastTitle(Y,u){if(!u)return;const E="number"==typeof Y.status&&u.statusToastOptions?u.statusToastOptions[Y.status]:u;return E&&E.toastTitle}getDefaultNavigationPath(Y){switch(Y.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(Y){switch(Y.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(Y){return 500===Y.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:Y.error&&Y.error.errors&&Y.error.errors.length>0?Y.error.errors[0]:(0,t.gP)(Y._body)&&(0,t.gP)(Y.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,t.gP)(Y.error)?Y._body:Y.error}static{this.\u0275fac=function(u){return new(u||g)(A.KVO(e.Ix),A.KVO(w.QG),A.KVO(m.tw),A.KVO(D.c$))}}static{this.\u0275prov=A.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},5435:(ot,ve,l)=>{"use strict";l.d(ve,{if:()=>g});var t=l(1413),a=l(152),p=l(3294),A=l(5964),e=l(6354);class g{constructor(Y,u,E){this.toastr=Y,this.translate=u,this.canSearchEmptyString=E,this.searchTerm="",this.searchTermStream=new t.B,this.enterKeyStream=new t.B,this.searchSource=this.searchTermStream.pipe((0,a.B)(600),(0,p.F)(),(0,A.p)(B=>this.filterSearchTerm(B)),(0,e.T)(B=>this.mapSearchTerm(B))),this.enterKeySource=this.enterKeyStream.pipe((0,a.B)(600),(0,A.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,e.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(Y){return this.canSearchEmptyString?Y.length<50&&1!==Y.length:!(Y.length<2||Y.length>50)&&""!==Y.trim()}search(Y){"Enter"===Y.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},5437:(ot,ve,l)=>{var t=l(6589);ot.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}},5517:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>m});var t=l(1594),a=l(6354),p=l(1360),A=l(3853),e=l(2947),w=l(5139);let m=(()=>{class D{constructor(g,k,Y){this.licenseService=g,this.router=k,this.localizeRouter=Y}canActivate(g,k){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,a.T)(Y=>{if(Y.isStarterLicense())return!0;{const u=this.localizeRouter.translateRoute("/home");this.router.navigate([u])}}))}static{this.\u0275fac=function(k){return new(k||D)(p.KVO(A.X),p.KVO(e.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac})}}return D})()},5558:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>A});var t=l(8750),a=l(9974),p=l(4360);function A(e,w){return(0,a.N)((m,D)=>{let S=null,g=0,k=!1;const Y=()=>k&&!S&&D.complete();m.subscribe((0,p._)(D,u=>{S?.unsubscribe();let E=0;const B=g++;(0,t.Tg)(e(u,B)).subscribe(S=(0,p._)(D,V=>D.next(w?w(u,V,B,E++):V),()=>{S=null,Y()}))},()=>{k=!0,Y()}))})}},5568:function(ot,ve){!function(l){"use strict";function t(){for(var wt=arguments.length,Tt=Array(wt),xt=0;xt<wt;xt++)Tt[xt]=arguments[xt];if(Tt.length>1){Tt[0]=Tt[0].slice(0,-1);for(var Kt=Tt.length-1,cn=1;cn<Kt;++cn)Tt[cn]=Tt[cn].slice(1,-1);return Tt[Kt]=Tt[Kt].slice(1),Tt.join("")}return Tt[0]}function a(wt){return"(?:"+wt+")"}function p(wt){return void 0===wt?"undefined":null===wt?"null":Object.prototype.toString.call(wt).split(" ").pop().split("]").shift().toLowerCase()}function A(wt){return wt.toUpperCase()}function m(wt){var Tt="[A-Za-z]",Kt="[0-9]",ii=t(Kt,"[A-Fa-f]"),Ti=a(a("%[EFef]"+ii+"%"+ii+ii+"%"+ii+ii)+"|"+a("%[89A-Fa-f]"+ii+"%"+ii+ii)+"|"+a("%"+ii+ii)),Bi="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ui=t("[\\:\\/\\?\\#\\[\\]\\@]",Bi),ls=wt?"[\\uE000-\\uF8FF]":"[]",ut=t(Tt,Kt,"[\\-\\.\\_\\~]",wt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Rt=a(Tt+t(Tt,Kt,"[\\+\\-\\.]")+"*"),yt=a(a(Ti+"|"+t(ut,Bi,"[\\:]"))+"*"),Vn=(a(a("25[0-5]")+"|"+a("2[0-4]"+Kt)+"|"+a("1"+Kt+Kt)+"|"+a("[1-9]"+Kt)+"|"+Kt),a(a("25[0-5]")+"|"+a("2[0-4]"+Kt)+"|"+a("1"+Kt+Kt)+"|"+a("0?[1-9]"+Kt)+"|0?0?"+Kt)),on=a(Vn+"\\."+Vn+"\\."+Vn+"\\."+Vn),Xn=a(ii+"{1,4}"),qn=a(a(Xn+"\\:"+Xn)+"|"+on),Gt=a(a(Xn+"\\:")+"{6}"+qn),oi=a("\\:\\:"+a(Xn+"\\:")+"{5}"+qn),zt=a(a(Xn)+"?\\:\\:"+a(Xn+"\\:")+"{4}"+qn),Un=a(a(a(Xn+"\\:")+"{0,1}"+Xn)+"?\\:\\:"+a(Xn+"\\:")+"{3}"+qn),fn=a(a(a(Xn+"\\:")+"{0,2}"+Xn)+"?\\:\\:"+a(Xn+"\\:")+"{2}"+qn),Qn=a(a(a(Xn+"\\:")+"{0,3}"+Xn)+"?\\:\\:"+Xn+"\\:"+qn),vi=a(a(a(Xn+"\\:")+"{0,4}"+Xn)+"?\\:\\:"+qn),Fe=a(a(a(Xn+"\\:")+"{0,5}"+Xn)+"?\\:\\:"+Xn),Ze=a(a(a(Xn+"\\:")+"{0,6}"+Xn)+"?\\:\\:"),ht=a([Gt,oi,zt,Un,fn,Qn,vi,Fe,Ze].join("|")),Ut=a(a(ut+"|"+Ti)+"+"),Mn=(a(ht+"\\%25"+Ut),a(ht+a("\\%25|\\%(?!"+ii+"{2})")+Ut)),hi=a("[vV]"+ii+"+\\."+t(ut,Bi,"[\\:]")+"+"),ri=a("\\["+a(Mn+"|"+ht+"|"+hi)+"\\]"),Nn=a(a(Ti+"|"+t(ut,Bi))+"*"),Ki=a(ri+"|"+on+"(?!"+Nn+")|"+Nn),Ji=a(Kt+"*"),Os=a(a(yt+"@")+"?"+Ki+a("\\:"+Ji)+"?"),jt=a(Ti+"|"+t(ut,Bi,"[\\:\\@]")),Ai=a(jt+"*"),Et=a(jt+"+"),vn=a(a(Ti+"|"+t(ut,Bi,"[\\@]"))+"+"),Wt=a(a("\\/"+Ai)+"*"),Pn=a("\\/"+a(Et+Wt)+"?"),Qi=a(vn+Wt),Bt=a(Et+Wt),ce="(?!"+jt+")",ae=(a(Wt+"|"+Pn+"|"+Qi+"|"+Bt+"|"+ce),a(a(jt+"|"+t("[\\/\\?]",ls))+"*")),be=a(a(jt+"|[\\/\\?]")+"*"),ke=a(a("\\/\\/"+Os+Wt)+"|"+Pn+"|"+Bt+"|"+ce),At=a(Rt+"\\:"+ke+a("\\?"+ae)+"?"+a("\\#"+be)+"?"),hn=a(a("\\/\\/"+Os+Wt)+"|"+Pn+"|"+Qi+"|"+ce),Fn=a(hn+a("\\?"+ae)+"?"+a("\\#"+be)+"?");return a(At+"|"+Fn),a(Rt+"\\:"+ke+a("\\?"+ae)+"?"),a(a("\\/\\/("+a("("+yt+")@")+"?("+Ki+")"+a("\\:("+Ji+")")+"?)")+"?("+Wt+"|"+Pn+"|"+Bt+"|"+ce+")"),a("\\?("+ae+")"),a("\\#("+be+")"),a(a("\\/\\/("+a("("+yt+")@")+"?("+Ki+")"+a("\\:("+Ji+")")+"?)")+"?("+Wt+"|"+Pn+"|"+Qi+"|"+ce+")"),a("\\?("+ae+")"),a("\\#("+be+")"),a(a("\\/\\/("+a("("+yt+")@")+"?("+Ki+")"+a("\\:("+Ji+")")+"?)")+"?("+Wt+"|"+Pn+"|"+Bt+"|"+ce+")"),a("\\?("+ae+")"),a("\\#("+be+")"),a("("+yt+")@"),a("\\:("+Ji+")"),{NOT_SCHEME:new RegExp(t("[^]",Tt,Kt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",ut,Bi),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",ut,Bi),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",ut,Bi),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",ut,Bi),"g"),NOT_QUERY:new RegExp(t("[^\\%]",ut,Bi,"[\\:\\@\\/\\?]",ls),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",ut,Bi,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",ut,Bi),"g"),UNRESERVED:new RegExp(ut,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",ut,Ui),"g"),PCT_ENCODED:new RegExp(Ti,"g"),IPV4ADDRESS:new RegExp("^("+on+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ht+")"+a(a("\\%25|\\%(?!"+ii+"{2})")+"("+Ut+")")+"?\\]?$")}}var D=m(!1),S=m(!0),g=function(){return function(Tt,xt){if(Array.isArray(Tt))return Tt;if(Symbol.iterator in Object(Tt))return function wt(Tt,xt){var Kt=[],cn=!0,ii=!1,Ei=void 0;try{for(var Ti,Ii=Tt[Symbol.iterator]();!(cn=(Ti=Ii.next()).done)&&(Kt.push(Ti.value),!xt||Kt.length!==xt);cn=!0);}catch(Dn){ii=!0,Ei=Dn}finally{try{!cn&&Ii.return&&Ii.return()}finally{if(ii)throw Ei}}return Kt}(Tt,xt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=2147483647,u=36,z=/^xn--/,Z=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,N=String.fromCharCode;function fe(wt){throw new RangeError(L[wt])}function R(wt,Tt){var xt=wt.split("@"),Kt="";return xt.length>1&&(Kt=xt[0]+"@",wt=xt[1]),Kt+function oe(wt,Tt){for(var xt=[],Kt=wt.length;Kt--;)xt[Kt]=Tt(wt[Kt]);return xt}((wt=wt.replace(v,".")).split("."),Tt).join(".")}function Pe(wt){for(var Tt=[],xt=0,Kt=wt.length;xt<Kt;){var cn=wt.charCodeAt(xt++);if(cn>=55296&&cn<=56319&&xt<Kt){var ii=wt.charCodeAt(xt++);56320==(64512&ii)?Tt.push(((1023&cn)<<10)+(1023&ii)+65536):(Tt.push(cn),xt--)}else Tt.push(cn)}return Tt}var We=function(Tt){return Tt-48<10?Tt-22:Tt-65<26?Tt-65:Tt-97<26?Tt-97:u},rt=function(Tt,xt){return Tt+22+75*(Tt<26)-((0!=xt)<<5)},lt=function(Tt,xt,Kt){var cn=0;for(Tt=Kt?te(Tt/700):Tt>>1,Tt+=te(Tt/xt);Tt>455;cn+=u)Tt=te(Tt/35);return te(cn+36*Tt/(Tt+38))},vt=function(Tt){var xt=[],Kt=Tt.length,cn=0,ii=128,Ei=72,Ii=Tt.lastIndexOf("-");Ii<0&&(Ii=0);for(var Ti=0;Ti<Ii;++Ti)Tt.charCodeAt(Ti)>=128&&fe("not-basic"),xt.push(Tt.charCodeAt(Ti));for(var Dn=Ii>0?Ii+1:0;Dn<Kt;){for(var Bi=cn,Ui=1,zi=u;;zi+=u){Dn>=Kt&&fe("invalid-input");var ls=We(Tt.charCodeAt(Dn++));(ls>=u||ls>te((Y-cn)/Ui))&&fe("overflow"),cn+=ls*Ui;var ut=zi<=Ei?1:zi>=Ei+26?26:zi-Ei;if(ls<ut)break;var Rt=u-ut;Ui>te(Y/Rt)&&fe("overflow"),Ui*=Rt}var yt=xt.length+1;Ei=lt(cn-Bi,yt,0==Bi),te(cn/yt)>Y-ii&&fe("overflow"),ii+=te(cn/yt),cn%=yt,xt.splice(cn++,0,ii)}return String.fromCodePoint.apply(String,xt)},je=function(Tt){var xt=[],Kt=(Tt=Pe(Tt)).length,cn=128,ii=0,Ei=72,Ii=!0,Ti=!1,Dn=void 0;try{for(var Ui,Bi=Tt[Symbol.iterator]();!(Ii=(Ui=Bi.next()).done);Ii=!0){var zi=Ui.value;zi<128&&xt.push(N(zi))}}catch(Mn){Ti=!0,Dn=Mn}finally{try{!Ii&&Bi.return&&Bi.return()}finally{if(Ti)throw Dn}}var ls=xt.length,ut=ls;for(ls&&xt.push("-");ut<Kt;){var Rt=Y,yt=!0,tn=!1,Vn=void 0;try{for(var Xn,on=Tt[Symbol.iterator]();!(yt=(Xn=on.next()).done);yt=!0){var qn=Xn.value;qn>=cn&&qn<Rt&&(Rt=qn)}}catch(Mn){tn=!0,Vn=Mn}finally{try{!yt&&on.return&&on.return()}finally{if(tn)throw Vn}}var Gt=ut+1;Rt-cn>te((Y-ii)/Gt)&&fe("overflow"),ii+=(Rt-cn)*Gt,cn=Rt;var oi=!0,zt=!1,Un=void 0;try{for(var Qn,fn=Tt[Symbol.iterator]();!(oi=(Qn=fn.next()).done);oi=!0){var vi=Qn.value;if(vi<cn&&++ii>Y&&fe("overflow"),vi==cn){for(var Fe=ii,Ze=u;;Ze+=u){var ht=Ze<=Ei?1:Ze>=Ei+26?26:Ze-Ei;if(Fe<ht)break;var Ut=Fe-ht,Xt=u-ht;xt.push(N(rt(ht+Ut%Xt,0))),Fe=te(Ut/Xt)}xt.push(N(rt(Fe,0))),Ei=lt(ii,Gt,ut==ls),ii=0,++ut}}}catch(Mn){zt=!0,Un=Mn}finally{try{!oi&&fn.return&&fn.return()}finally{if(zt)throw Un}}++ii,++cn}return xt.join("")},it_toASCII=function(Tt){return R(Tt,function(xt){return Z.test(xt)?"xn--"+je(xt):xt})},it_toUnicode=function(Tt){return R(Tt,function(xt){return z.test(xt)?vt(xt.slice(4).toLowerCase()):xt})},Ve={};function Be(wt){var Tt=wt.charCodeAt(0);return Tt<16?"%0"+Tt.toString(16).toUpperCase():Tt<128?"%"+Tt.toString(16).toUpperCase():Tt<2048?"%"+(Tt>>6|192).toString(16).toUpperCase()+"%"+(63&Tt|128).toString(16).toUpperCase():"%"+(Tt>>12|224).toString(16).toUpperCase()+"%"+(Tt>>6&63|128).toString(16).toUpperCase()+"%"+(63&Tt|128).toString(16).toUpperCase()}function Xe(wt){for(var Tt="",xt=0,Kt=wt.length;xt<Kt;){var cn=parseInt(wt.substr(xt+1,2),16);if(cn<128)Tt+=String.fromCharCode(cn),xt+=3;else if(cn>=194&&cn<224){if(Kt-xt>=6){var ii=parseInt(wt.substr(xt+4,2),16);Tt+=String.fromCharCode((31&cn)<<6|63&ii)}else Tt+=wt.substr(xt,6);xt+=6}else if(cn>=224){if(Kt-xt>=9){var Ei=parseInt(wt.substr(xt+4,2),16),Ii=parseInt(wt.substr(xt+7,2),16);Tt+=String.fromCharCode((15&cn)<<12|(63&Ei)<<6|63&Ii)}else Tt+=wt.substr(xt,9);xt+=9}else Tt+=wt.substr(xt,3),xt+=3}return Tt}function Ue(wt,Tt){function xt(Kt){var cn=Xe(Kt);return cn.match(Tt.UNRESERVED)?cn:Kt}return wt.scheme&&(wt.scheme=String(wt.scheme).replace(Tt.PCT_ENCODED,xt).toLowerCase().replace(Tt.NOT_SCHEME,"")),void 0!==wt.userinfo&&(wt.userinfo=String(wt.userinfo).replace(Tt.PCT_ENCODED,xt).replace(Tt.NOT_USERINFO,Be).replace(Tt.PCT_ENCODED,A)),void 0!==wt.host&&(wt.host=String(wt.host).replace(Tt.PCT_ENCODED,xt).toLowerCase().replace(Tt.NOT_HOST,Be).replace(Tt.PCT_ENCODED,A)),void 0!==wt.path&&(wt.path=String(wt.path).replace(Tt.PCT_ENCODED,xt).replace(wt.scheme?Tt.NOT_PATH:Tt.NOT_PATH_NOSCHEME,Be).replace(Tt.PCT_ENCODED,A)),void 0!==wt.query&&(wt.query=String(wt.query).replace(Tt.PCT_ENCODED,xt).replace(Tt.NOT_QUERY,Be).replace(Tt.PCT_ENCODED,A)),void 0!==wt.fragment&&(wt.fragment=String(wt.fragment).replace(Tt.PCT_ENCODED,xt).replace(Tt.NOT_FRAGMENT,Be).replace(Tt.PCT_ENCODED,A)),wt}function ct(wt){return wt.replace(/^0*(.*)/,"$1")||"0"}function st(wt,Tt){var xt=wt.match(Tt.IPV4ADDRESS)||[],cn=g(xt,2)[1];return cn?cn.split(".").map(ct).join("."):wt}function Qe(wt,Tt){var xt=wt.match(Tt.IPV6ADDRESS)||[],Kt=g(xt,3),cn=Kt[1],ii=Kt[2];if(cn){for(var Ei=cn.toLowerCase().split("::").reverse(),Ii=g(Ei,2),Ti=Ii[0],Dn=Ii[1],Bi=Dn?Dn.split(":").map(ct):[],Ui=Ti.split(":").map(ct),zi=Tt.IPV4ADDRESS.test(Ui[Ui.length-1]),ls=zi?7:8,ut=Ui.length-ls,Rt=Array(ls),yt=0;yt<ls;++yt)Rt[yt]=Bi[yt]||Ui[ut+yt]||"";zi&&(Rt[ls-1]=st(Rt[ls-1],Tt));var Vn=Rt.reduce(function(Gt,oi,zt){if(!oi||"0"===oi){var Un=Gt[Gt.length-1];Un&&Un.index+Un.length===zt?Un.length++:Gt.push({index:zt,length:1})}return Gt},[]).sort(function(Gt,oi){return oi.length-Gt.length})[0],on=void 0;if(Vn&&Vn.length>1){var Xn=Rt.slice(0,Vn.index),qn=Rt.slice(Vn.index+Vn.length);on=Xn.join(":")+"::"+qn.join(":")}else on=Rt.join(":");return ii&&(on+="%"+ii),on}return wt}var ne=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,K=void 0==="".match(/(){0}/)[1];function de(wt){var Tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xt={},Kt=!1!==Tt.iri?S:D;"suffix"===Tt.reference&&(wt=(Tt.scheme?Tt.scheme+":":"")+"//"+wt);var cn=wt.match(ne);if(cn){K?(xt.scheme=cn[1],xt.userinfo=cn[3],xt.host=cn[4],xt.port=parseInt(cn[5],10),xt.path=cn[6]||"",xt.query=cn[7],xt.fragment=cn[8],isNaN(xt.port)&&(xt.port=cn[5])):(xt.scheme=cn[1]||void 0,xt.userinfo=-1!==wt.indexOf("@")?cn[3]:void 0,xt.host=-1!==wt.indexOf("//")?cn[4]:void 0,xt.port=parseInt(cn[5],10),xt.path=cn[6]||"",xt.query=-1!==wt.indexOf("?")?cn[7]:void 0,xt.fragment=-1!==wt.indexOf("#")?cn[8]:void 0,isNaN(xt.port)&&(xt.port=wt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?cn[4]:void 0)),xt.host&&(xt.host=Qe(st(xt.host,Kt),Kt)),xt.reference=void 0!==xt.scheme||void 0!==xt.userinfo||void 0!==xt.host||void 0!==xt.port||xt.path||void 0!==xt.query?void 0===xt.scheme?"relative":void 0===xt.fragment?"absolute":"uri":"same-document",Tt.reference&&"suffix"!==Tt.reference&&Tt.reference!==xt.reference&&(xt.error=xt.error||"URI is not a "+Tt.reference+" reference.");var ii=Ve[(Tt.scheme||xt.scheme||"").toLowerCase()];if(Tt.unicodeSupport||ii&&ii.unicodeSupport)Ue(xt,Kt);else{if(xt.host&&(Tt.domainHost||ii&&ii.domainHost))try{xt.host=it_toASCII(xt.host.replace(Kt.PCT_ENCODED,Xe).toLowerCase())}catch(Ei){xt.error=xt.error||"Host's domain name can not be converted to ASCII via punycode: "+Ei}Ue(xt,D)}ii&&ii.parse&&ii.parse(xt,Tt)}else xt.error=xt.error||"URI can not be parsed.";return xt}var o=/^\.\.?\//,dt=/^\/\.(\/|$)/,gt=/^\/\.\.(\/|$)/,qt=/^\/?(?:.|\n)*?(?=\/|$)/;function Tn(wt){for(var Tt=[];wt.length;)if(wt.match(o))wt=wt.replace(o,"");else if(wt.match(dt))wt=wt.replace(dt,"/");else if(wt.match(gt))wt=wt.replace(gt,"/"),Tt.pop();else if("."===wt||".."===wt)wt="";else{var xt=wt.match(qt);if(!xt)throw new Error("Unexpected dot segment condition");var Kt=xt[0];wt=wt.slice(Kt.length),Tt.push(Kt)}return Tt.join("")}function Wn(wt){var Tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xt=Tt.iri?S:D,Kt=[],cn=Ve[(Tt.scheme||wt.scheme||"").toLowerCase()];if(cn&&cn.serialize&&cn.serialize(wt,Tt),wt.host&&!xt.IPV6ADDRESS.test(wt.host)&&(Tt.domainHost||cn&&cn.domainHost))try{wt.host=Tt.iri?it_toUnicode(wt.host):it_toASCII(wt.host.replace(xt.PCT_ENCODED,Xe).toLowerCase())}catch(Ii){wt.error=wt.error||"Host's domain name can not be converted to "+(Tt.iri?"Unicode":"ASCII")+" via punycode: "+Ii}Ue(wt,xt),"suffix"!==Tt.reference&&wt.scheme&&(Kt.push(wt.scheme),Kt.push(":"));var ii=function ge(wt,Tt){var xt=!1!==Tt.iri?S:D,Kt=[];return void 0!==wt.userinfo&&(Kt.push(wt.userinfo),Kt.push("@")),void 0!==wt.host&&Kt.push(Qe(st(String(wt.host),xt),xt).replace(xt.IPV6ADDRESS,function(cn,ii,Ei){return"["+ii+(Ei?"%25"+Ei:"")+"]"})),("number"==typeof wt.port||"string"==typeof wt.port)&&(Kt.push(":"),Kt.push(String(wt.port))),Kt.length?Kt.join(""):void 0}(wt,Tt);if(void 0!==ii&&("suffix"!==Tt.reference&&Kt.push("//"),Kt.push(ii),wt.path&&"/"!==wt.path.charAt(0)&&Kt.push("/")),void 0!==wt.path){var Ei=wt.path;!Tt.absolutePath&&(!cn||!cn.absolutePath)&&(Ei=Tn(Ei)),void 0===ii&&(Ei=Ei.replace(/^\/\//,"/%2F")),Kt.push(Ei)}return void 0!==wt.query&&(Kt.push("?"),Kt.push(wt.query)),void 0!==wt.fragment&&(Kt.push("#"),Kt.push(wt.fragment)),Kt.join("")}function en(wt,Tt){var xt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},cn={};return arguments[3]||(wt=de(Wn(wt,xt),xt),Tt=de(Wn(Tt,xt),xt)),!(xt=xt||{}).tolerant&&Tt.scheme?(cn.scheme=Tt.scheme,cn.userinfo=Tt.userinfo,cn.host=Tt.host,cn.port=Tt.port,cn.path=Tn(Tt.path||""),cn.query=Tt.query):(void 0!==Tt.userinfo||void 0!==Tt.host||void 0!==Tt.port?(cn.userinfo=Tt.userinfo,cn.host=Tt.host,cn.port=Tt.port,cn.path=Tn(Tt.path||""),cn.query=Tt.query):(Tt.path?("/"===Tt.path.charAt(0)?cn.path=Tn(Tt.path):(cn.path=void 0===wt.userinfo&&void 0===wt.host&&void 0===wt.port||wt.path?wt.path?wt.path.slice(0,wt.path.lastIndexOf("/")+1)+Tt.path:Tt.path:"/"+Tt.path,cn.path=Tn(cn.path)),cn.query=Tt.query):(cn.path=wt.path,cn.query=void 0!==Tt.query?Tt.query:wt.query),cn.userinfo=wt.userinfo,cn.host=wt.host,cn.port=wt.port),cn.scheme=wt.scheme),cn.fragment=Tt.fragment,cn}function he(wt,Tt){return wt&&wt.toString().replace(Tt&&Tt.iri?S.PCT_ENCODED:D.PCT_ENCODED,Xe)}var ue={scheme:"http",domainHost:!0,parse:function(Tt,xt){return Tt.host||(Tt.error=Tt.error||"HTTP URIs must have a host."),Tt},serialize:function(Tt,xt){var Kt="https"===String(Tt.scheme).toLowerCase();return(Tt.port===(Kt?443:80)||""===Tt.port)&&(Tt.port=void 0),Tt.path||(Tt.path="/"),Tt}},P={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize};function q(wt){return"boolean"==typeof wt.secure?wt.secure:"wss"===String(wt.scheme).toLowerCase()}var De={scheme:"ws",domainHost:!0,parse:function(Tt,xt){var Kt=Tt;return Kt.secure=q(Kt),Kt.resourceName=(Kt.path||"/")+(Kt.query?"?"+Kt.query:""),Kt.path=void 0,Kt.query=void 0,Kt},serialize:function(Tt,xt){if((Tt.port===(q(Tt)?443:80)||""===Tt.port)&&(Tt.port=void 0),"boolean"==typeof Tt.secure&&(Tt.scheme=Tt.secure?"wss":"ws",Tt.secure=void 0),Tt.resourceName){var Kt=Tt.resourceName.split("?"),cn=g(Kt,2),ii=cn[0],Ei=cn[1];Tt.path=ii&&"/"!==ii?ii:void 0,Tt.query=Ei,Tt.resourceName=void 0}return Tt.fragment=void 0,Tt}},Ae={scheme:"wss",domainHost:De.domainHost,parse:De.parse,serialize:De.serialize},et={},Ht="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",nn="[0-9A-Fa-f]",wn=a(a("%[EFef]"+nn+"%"+nn+nn+"%"+nn+nn)+"|"+a("%[89A-Fa-f]"+nn+"%"+nn+nn)+"|"+a("%"+nn+nn)),Ot=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Qt=new RegExp(Ht,"g"),Sn=new RegExp(wn,"g"),In=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Ot),"g"),rs=new RegExp(t("[^]",Ht,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),_i=rs;function Fi(wt){var Tt=Xe(wt);return Tt.match(Qt)?Tt:wt}var Ni={scheme:"mailto",parse:function(Tt,xt){var Kt=Tt,cn=Kt.to=Kt.path?Kt.path.split(","):[];if(Kt.path=void 0,Kt.query){for(var ii=!1,Ei={},Ii=Kt.query.split("&"),Ti=0,Dn=Ii.length;Ti<Dn;++Ti){var Bi=Ii[Ti].split("=");switch(Bi[0]){case"to":for(var Ui=Bi[1].split(","),zi=0,ls=Ui.length;zi<ls;++zi)cn.push(Ui[zi]);break;case"subject":Kt.subject=he(Bi[1],xt);break;case"body":Kt.body=he(Bi[1],xt);break;default:ii=!0,Ei[he(Bi[0],xt)]=he(Bi[1],xt)}}ii&&(Kt.headers=Ei)}Kt.query=void 0;for(var ut=0,Rt=cn.length;ut<Rt;++ut){var yt=cn[ut].split("@");if(yt[0]=he(yt[0]),xt.unicodeSupport)yt[1]=he(yt[1],xt).toLowerCase();else try{yt[1]=it_toASCII(he(yt[1],xt).toLowerCase())}catch(tn){Kt.error=Kt.error||"Email address's domain name can not be converted to ASCII via punycode: "+tn}cn[ut]=yt.join("@")}return Kt},serialize:function(Tt,xt){var Kt=Tt,cn=function e(wt){return null!=wt?wt instanceof Array?wt:"number"!=typeof wt.length||wt.split||wt.setInterval||wt.call?[wt]:Array.prototype.slice.call(wt):[]}(Tt.to);if(cn){for(var ii=0,Ei=cn.length;ii<Ei;++ii){var Ii=String(cn[ii]),Ti=Ii.lastIndexOf("@"),Dn=Ii.slice(0,Ti).replace(Sn,Fi).replace(Sn,A).replace(In,Be),Bi=Ii.slice(Ti+1);try{Bi=xt.iri?it_toUnicode(Bi):it_toASCII(he(Bi,xt).toLowerCase())}catch(ut){Kt.error=Kt.error||"Email address's domain name can not be converted to "+(xt.iri?"Unicode":"ASCII")+" via punycode: "+ut}cn[ii]=Dn+"@"+Bi}Kt.path=cn.join(",")}var Ui=Tt.headers=Tt.headers||{};Tt.subject&&(Ui.subject=Tt.subject),Tt.body&&(Ui.body=Tt.body);var zi=[];for(var ls in Ui)Ui[ls]!==et[ls]&&zi.push(ls.replace(Sn,Fi).replace(Sn,A).replace(rs,Be)+"="+Ui[ls].replace(Sn,Fi).replace(Sn,A).replace(_i,Be));return zi.length&&(Kt.query=zi.join("&")),Kt}},os=/^([^\:]+)\:(.*)/,zn={scheme:"urn",parse:function(Tt,xt){var Kt=Tt.path&&Tt.path.match(os),cn=Tt;if(Kt){var ii=xt.scheme||cn.scheme||"urn",Ei=Kt[1].toLowerCase(),Ii=Kt[2],Dn=Ve[ii+":"+(xt.nid||Ei)];cn.nid=Ei,cn.nss=Ii,cn.path=void 0,Dn&&(cn=Dn.parse(cn,xt))}else cn.error=cn.error||"URN can not be parsed.";return cn},serialize:function(Tt,xt){var cn=Tt.nid,Ei=Ve[(xt.scheme||Tt.scheme||"urn")+":"+(xt.nid||cn)];Ei&&(Tt=Ei.serialize(Tt,xt));var Ii=Tt;return Ii.path=(cn||xt.nid)+":"+Tt.nss,Ii}},ms=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xi={scheme:"urn:uuid",parse:function(Tt,xt){var Kt=Tt;return Kt.uuid=Kt.nss,Kt.nss=void 0,!xt.tolerant&&(!Kt.uuid||!Kt.uuid.match(ms))&&(Kt.error=Kt.error||"UUID is not valid."),Kt},serialize:function(Tt,xt){var Kt=Tt;return Kt.nss=(Tt.uuid||"").toLowerCase(),Kt}};Ve[ue.scheme]=ue,Ve[P.scheme]=P,Ve[De.scheme]=De,Ve[Ae.scheme]=Ae,Ve[Ni.scheme]=Ni,Ve[zn.scheme]=zn,Ve[xi.scheme]=xi,l.SCHEMES=Ve,l.pctEncChar=Be,l.pctDecChars=Xe,l.parse=de,l.removeDotSegments=Tn,l.serialize=Wn,l.resolveComponents=en,l.resolve=function Ln(wt,Tt,xt){var Kt=function w(wt,Tt){var xt=wt;if(Tt)for(var Kt in Tt)xt[Kt]=Tt[Kt];return xt}({scheme:"null"},xt);return Wn(en(de(wt,Kt),de(Tt,Kt),Kt,!0),Kt)},l.normalize=function ni(wt,Tt){return"string"==typeof wt?wt=Wn(de(wt,Tt),Tt):"object"===p(wt)&&(wt=de(Wn(wt,Tt),Tt)),wt},l.equal=function mt(wt,Tt,xt){return"string"==typeof wt?wt=Wn(de(wt,xt),xt):"object"===p(wt)&&(wt=Wn(wt,xt)),"string"==typeof Tt?Tt=Wn(de(Tt,xt),xt):"object"===p(Tt)&&(Tt=Wn(Tt,xt)),wt===Tt},l.escapeComponent=function Jt(wt,Tt){return wt&&wt.toString().replace(Tt&&Tt.iri?S.ESCAPE:D.ESCAPE,Be)},l.unescapeComponent=he,Object.defineProperty(l,"__esModule",{value:!0})}(ve)},5586:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>p});var t=l(2771),a=l(1360);let p=(()=>{class A{constructor(){this.cachedClaimTypes=new t.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(w){this.cachedClaimTypes.next(w)}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},5602:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>S});var t=l(3165),a=l(2771),p=l(7673),A=l(6354),e=l(9437),w=l(7263),m=l(1360),D=l(9564);let S=(()=>{class k{constructor(u,E){this.http=u,this.headersService=E,this.userSubject=new a.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,A.T)(()=>!0),(0,e.W)(E=>(0,p.of)(!1)))}getUser(u){return this.http.get(`${this.actionUrl}/${u}`,{headers:this.headers}).pipe((0,A.T)(B=>(this.userSubject.next(B),B),B=>(this.userSubject.error(B),B)))}setCachedUser(u){this.userSubject.next(u)}getCachedUser(){return this.userSubject}getUsers(u,E,B,V,F){let M=new t.Nl;return(0,w.gP)(u)||(M=M.append("q",u)),E&&(M=M.append("page",String(E))),B&&(M=M.append("pageSize",String(B))),V&&(M=M.append("state",V.toString())),F&&(M=M.append("sort",F.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:M})}getUsersLightweight(u,E,B,V,F){let M=new t.Nl;return(0,w.gP)(u)||(M=M.append("q",u)),E&&(M=M.append("page",String(E))),B&&(M=M.append("pageSize",String(B))),V&&(M=M.append("state",V.toString())),F&&(M=M.append("advancedFilters",F.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:M})}addUser(u){const E=`${this.actionUrl}/`,B=JSON.stringify(u);return this.http.post(E,B,{headers:this.headers,observe:"response"})}addInitialAdministrator(u){const E=`${this.actionUrl}/initialadmin`,B=JSON.stringify(u);return this.http.post(E,B,{headers:this.headers,observe:"response"})}getUserApps(u){return this.http.get(`${this.actionUrl}/${u}/apps`,{headers:this.headers})}revokeAllUserApps(u){return this.http.delete(`${this.actionUrl}/${u}/apps`,{headers:this.headers})}revokeSingleUserApp(u,E){return this.http.delete(`${this.actionUrl}/${u}/apps/${E}`,{headers:this.headers})}updateUser(u){const E=`${this.actionUrl}/${u.subject}`,B=JSON.stringify(u);return this.http.put(E,B,{headers:this.headers})}deleteUser(u){return this.http.delete(`${this.actionUrl}/${u.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(u,E){return this.http.post(`${this.actionUrl}/${u}/roles`,E,{headers:this.headers})}deleteUserRoles(u,E){return this.http.request("delete",`${this.actionUrl}/${u}/roles`,{headers:this.headers,body:E})}addUserClaim(u,E){return this.http.post(`${this.actionUrl}/${u}/claims`,E,{headers:this.headers})}updateUserClaim(u,E){return this.http.put(`${this.actionUrl}/${u}/claims`,E,{headers:this.headers})}deleteUserClaim(u,E){return this.http.request("delete",`${this.actionUrl}/${u}/claims`,{headers:this.headers,body:E})}resetPassword(u){return this.http.get(`${this.actionUrl}/${u}/password/reset`,{headers:this.headers})}resetMfa(u){return this.http.get(`${this.actionUrl}/${u}/mfa/reset`,{headers:this.headers})}getUserLogins(u){return this.http.get(`${this.actionUrl}/${u}/logins`,{headers:this.headers})}revokeUserLogin(u,E){return this.http.request("delete",`${this.actionUrl}/${u}/logins`,{headers:this.headers,body:E})}getLightweightUsersAndIfInRole(u,E,B,V,F){let M=new t.Nl;E&&(M=M.append("state",E.toString()));const W=`${this.actionUrl}/lightweight/isinrole/${u}`;return(0,w.gP)(B)||(M=M.append("searchTerm",B)),V&&(M=M.append("page",String(V))),F&&(M=M.append("pageSize",String(F))),this.http.get(W,{headers:this.headers,params:M})}MergeUser(u,E,B,V){return this.http.request("post",`${this.actionUrl}/${u}/merge`,{headers:this.headers,body:{destinationUserId:E,claimMergeActions:B,deleteAfterMerge:V}})}static{this.\u0275fac=function(E){return new(E||k)(m.KVO(t.Qq),m.KVO(D.m))}}static{this.\u0275prov=m.jDH({token:k,factory:k.\u0275fac})}}return k})()},5615:(ot,ve,l)=>{"use strict";l.d(ve,{J:()=>z,r:()=>y});var t=l(1924),a=l(9838),p=l(1360),A=l(9417),e=l(2947),w=l(9262),m=l(345),D=l(5893),S=l(526),g=l(8018),k=l(5586),Y=l(8434),u=l(3680),E=l(5139);const B=(Z,v)=>({title:Z,link:v}),V=Z=>[Z],F=()=>["active"];function M(Z,v){1&Z&&(p.j41(0,"span",21),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Z&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"Common.Disabled")," "))}function W(Z,v){1&Z&&(p.j41(0,"div",22),p.nrm(1,"router-outlet"),p.k0s())}function y(){return Object.assign(new t.P0,{closeOthers:!0})}let z=(()=>{class Z{constructor(L,J,te,N,fe,oe,R,Pe){this.fb=L,this.route=J,this.router=te,this.titleService=N,this.protectedResourceService=fe,this.claimTypesService=oe,this.translate=R,this.scopesClaimService=Pe}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(L=>{this.protectedResource=L;const J=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+a.$9.SITE_TITLE;this.titleService.setTitle(J)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:L=>{this.scopesClaimService.setClaimTypes(L)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(L){this.router.navigate([L],{relativeTo:this.route})}static{this.\u0275fac=function(J){return new(J||Z)(p.rXU(A.ze),p.rXU(e.nX),p.rXU(e.Ix),p.rXU(m.hE),p.rXU(D.x),p.rXU(S.X),p.rXU(g.c$),p.rXU(k.N))}}static{this.\u0275cmp=p.VBU({type:Z,selectors:[["app-view-protectedresource"]],standalone:!1,features:[p.Jv_([{provide:t.P0,useFactory:y}])],decls:53,vars:65,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","viewProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(J,te){1&J&&(p.j41(0,"app-title-bar",0),p.nI1(1,"translate"),p.nI1(2,"localize"),p.qex(3,1),p.j41(4,"div",2)(5,"label",3),p.EFF(6),p.nI1(7,"translate"),p.k0s(),p.j41(8,"div",4)(9,"select",5),p.bIt("change",function(fe){return te.mobRoute(fe.target.value)}),p.j41(10,"option",6),p.EFF(11),p.nI1(12,"translate"),p.k0s(),p.j41(13,"option",6),p.EFF(14),p.nI1(15,"translate"),p.k0s(),p.j41(16,"option",7),p.EFF(17),p.nI1(18,"translate"),p.k0s(),p.j41(19,"option",8),p.EFF(20),p.nI1(21,"translate"),p.k0s(),p.j41(22,"option",9),p.EFF(23),p.nI1(24,"translate"),p.k0s(),p.j41(25,"option",10),p.EFF(26),p.nI1(27,"translate"),p.k0s()()()(),p.j41(28,"ul",11),p.nI1(29,"translate"),p.j41(30,"li",12)(31,"button",13),p.EFF(32),p.nI1(33,"translate"),p.k0s()(),p.j41(34,"li",12)(35,"button",14),p.EFF(36),p.nI1(37,"translate"),p.k0s()(),p.j41(38,"li",12)(39,"button",15),p.EFF(40),p.nI1(41,"translate"),p.k0s()(),p.j41(42,"li",12)(43,"button",16),p.EFF(44),p.nI1(45,"translate"),p.k0s()(),p.j41(46,"li",12)(47,"button",17),p.EFF(48),p.nI1(49,"translate"),p.k0s()()(),p.bVm(),p.qex(50,18),p.DNE(51,M,3,3,"span",19),p.bVm(),p.k0s(),p.DNE(52,W,2,0,"div",20)),2&J&&(p.Y8G("title",null==te.protectedResource?null:te.protectedResource.name)("crumbs",p.eq3(58,V,p.l_i(55,B,p.bMT(1,25,"ProtectedResources.Title"),p.bMT(2,27,"/protectedresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",te.protectedResource.nonEditable),p.R7$(6),p.JRh(p.bMT(7,29,"Nav.SubMenu")),p.R7$(5),p.SpI("",p.bMT(12,31,"Nav.SubMenu"),"..."),p.R7$(3),p.JRh(p.bMT(15,33,"Nav.Details")),p.R7$(3),p.JRh(p.bMT(18,35,"Nav.Scopes")),p.R7$(3),p.JRh(p.bMT(21,37,"Nav.Claims")),p.R7$(3),p.JRh(p.bMT(24,39,"Nav.Secrets")),p.R7$(3),p.JRh(p.bMT(27,41,"Nav.Properties")),p.R7$(2),p.BMQ("aria-label",p.bMT(29,43,"Nav.SubMenu")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(60,F)),p.R7$(),p.JRh(p.bMT(33,45,"Nav.Details")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(61,F)),p.R7$(),p.JRh(p.bMT(37,47,"Nav.Scopes")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(62,F)),p.R7$(),p.JRh(p.bMT(41,49,"Nav.Claims")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(63,F)),p.R7$(),p.JRh(p.bMT(45,51,"Nav.Secrets")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(64,F)),p.R7$(),p.JRh(p.bMT(49,53,"Nav.Properties")),p.R7$(3),p.Y8G("ngIf",!te.protectedResource.enabled),p.R7$(),p.Y8G("ngIf",te.protectedResource))},dependencies:[Y.bT,e.n3,w.Wk,w.wQ,u.z,g.D9,E.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Z})()},5663:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>w});var t=l(5794),a=l(2947),p=l(8018),A=l(1360),e=l(5139);let w=(()=>{class m{constructor(S){this.injector=S}handleError(S){if((0,A.naY)())console.log(S);else{const g=this.injector.get(a.Ix),k=this.injector.get(t.tw),Y=this.injector.get(p.c$),u=this.injector.get(e.QG);k.info(Y.instant("ServerDependent.Notifications.Support")),k.info(Y.instant("Notifications.Apology"),Y.instant("Notifications.Sorry"));const E=u.translateRoute("/home");g.navigateByUrl(E)}}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(A.zZn))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},5667:(ot,ve,l)=>{"use strict";l.d(ve,{g:()=>e});var t=l(8434),a=l(9417),p=l(8018),A=l(1360);let e=(()=>{class w{static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275mod=A.$C({type:w})}static{this.\u0275inj=A.G2t({imports:[t.MD,a.YN,p.h]})}}return w})()},5696:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>L});var t=l(1744),a=l(4414),p=l(6799),A=l(1360),e=l(5826),w=l(8018),m=l(8434);const D=(J,te,N,fe,oe)=>({title:J,editable:!0,header1:te,header2:N,header3:fe,data:oe}),S=(J,te,N,fe,oe,R)=>({title:J,editable:te,header1:N,header2:fe,header3:oe,data:R}),g=J=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":J});function k(J,te){1&J&&A.eu8(0)}function Y(J,te){if(1&J&&(A.j41(0,"div"),A.DNE(1,k,1,0,"ng-container",12),A.nI1(2,"translate"),A.nI1(3,"translate"),A.nI1(4,"translate"),A.nI1(5,"translate"),A.k0s()),2&J){const N=A.XpG(),fe=A.sdS(9);A.R7$(),A.Y8G("ngTemplateOutlet",fe)("ngTemplateOutletContext",A.s1E(10,D,A.bMT(2,2,"Nav.Clients"),A.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),A.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),A.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),N.clients))}}function u(J,te){1&J&&A.eu8(0)}function E(J,te){if(1&J&&(A.j41(0,"div",13),A.DNE(1,u,1,0,"ng-container",12),A.nI1(2,"translate"),A.nI1(3,"translate"),A.nI1(4,"translate"),A.nI1(5,"translate"),A.k0s()),2&J){const N=A.XpG(),fe=A.sdS(9);A.R7$(),A.Y8G("ngTemplateOutlet",fe)("ngTemplateOutletContext",A.l4e(10,S,A.bMT(2,2,"Nav.Resources"),N.canEdit(N.resources),A.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),A.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),A.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),N.resources))}}function B(J,te){1&J&&A.eu8(0)}function V(J,te){if(1&J&&(A.j41(0,"div",13),A.DNE(1,B,1,0,"ng-container",12),A.nI1(2,"translate"),A.nI1(3,"translate"),A.nI1(4,"translate"),A.nI1(5,"translate"),A.k0s()),2&J){const N=A.XpG(),fe=A.sdS(9);A.R7$(),A.Y8G("ngTemplateOutlet",fe)("ngTemplateOutletContext",A.l4e(10,S,A.bMT(2,2,"Nav.ClaimTypes"),N.canEdit(N.claims),A.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),A.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),A.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),N.claims))}}function F(J,te){if(1&J&&(A.qex(0),A.j41(1,"td",31),A.nrm(2,"span",32),A.k0s(),A.j41(3,"td")(4,"span",33),A.EFF(5),A.k0s()(),A.bVm()),2&J){const N=A.XpG().$implicit,fe=A.XpG(2);A.R7$(5),A.JRh(fe.getConflicts(N))}}function M(J,te){1&J&&A.nrm(0,"span",37)}function W(J,te){1&J&&A.nrm(0,"span",38)}function y(J,te){1&J&&A.nrm(0,"span",32)}function z(J,te){if(1&J&&(A.qex(0),A.j41(1,"td",31),A.DNE(2,M,1,0,"span",34)(3,W,1,0,"span",35)(4,y,1,0,"span",36),A.k0s(),A.j41(5,"td")(6,"span",33),A.EFF(7),A.k0s()(),A.bVm()),2&J){const N=A.XpG().$implicit,fe=A.XpG(2);A.R7$(2),A.Y8G("ngIf",N.resourceState==fe.resourceStates.New),A.R7$(),A.Y8G("ngIf",N.resourceState==fe.resourceStates.Duplicate),A.R7$(),A.Y8G("ngIf",N.conflictedByDependencies),A.R7$(2),A.AVh("tw-italic",N.resourceState===fe.resourceStates.Duplicate),A.R7$(),A.SpI(" ",fe.getResourceState(N)," ")}}function Z(J,te){if(1&J&&(A.j41(0,"tr",27)(1,"td",28)(2,"b"),A.EFF(3),A.k0s()(),A.j41(4,"td",29),A.EFF(5),A.k0s(),A.j41(6,"td",30),A.EFF(7),A.nI1(8,"translate"),A.k0s(),A.DNE(9,F,6,1,"ng-container",3)(10,z,8,6,"ng-container",3),A.k0s()),2&J){const N=te.$implicit,fe=A.XpG(2);A.Y8G("ngClass",A.eq3(9,g,N.resourceState===fe.resourceStates.Duplicate)),A.R7$(),A.Y8G("title",N.displayName),A.R7$(2),A.JRh(N.displayName),A.R7$(2),A.SpI(" ",N.identifier," "),A.R7$(2),A.SpI(" ",A.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+N.displayType)," "),A.R7$(2),A.Y8G("ngIf",N.resourceState===fe.resourceStates.Conflicted&&!N.conflictedByDependencies),A.R7$(),A.Y8G("ngIf",N.resourceState!==fe.resourceStates.Conflicted||N.conflictedByDependencies)}}function v(J,te){if(1&J){const N=A.RV6();A.j41(0,"h2",14)(1,"span",15),A.EFF(2),A.k0s(),A.j41(3,"button",16),A.bIt("click",function(){const oe=A.eBV(N).data,R=A.XpG();return A.Njj(R.editResourceSummary(oe))}),A.nrm(4,"span",17),A.j41(5,"span",18),A.EFF(6),A.nI1(7,"translate"),A.k0s()()(),A.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),A.EFF(12),A.k0s(),A.j41(13,"th",21),A.EFF(14),A.k0s(),A.j41(15,"th",22),A.EFF(16),A.k0s(),A.nrm(17,"td",23),A.j41(18,"th",24)(19,"span",25),A.EFF(20),A.nI1(21,"translate"),A.k0s()()()(),A.j41(22,"tbody"),A.DNE(23,Z,11,11,"tr",26),A.k0s()()}if(2&J){const N=te.title,fe=te.editable,oe=te.header1,R=te.header2,Pe=te.header3,Te=te.data;A.R7$(2),A.JRh(N),A.R7$(),A.Y8G("disabled",!fe),A.R7$(3),A.JRh(A.bMT(7,8,"Common.Edit")),A.R7$(6),A.JRh(oe),A.R7$(2),A.JRh(R),A.R7$(2),A.JRh(Pe),A.R7$(4),A.JRh(A.bMT(21,10,"Common.Status")),A.R7$(3),A.Y8G("ngForOf",Te)}}let L=(()=>{class J extends p.P{constructor(N,fe){super(),this.importWizardService=N,this.translate=fe,this.resourceStates=t.jD,this.resourceTypes=t.ot}ngOnInit(){this.importWizardService.cache.subscribe(N=>{const fe=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],oe=N.filter(Te=>Te.resourceType===t.ot.Client&&(Te.selected||Te.resourceState===t.jD.Duplicate)),R=[],Pe=[];N.forEach(Te=>{Te.resourceType!==t.ot.Client&&oe.some(We=>Te.dependantClients.some(rt=>rt.identifier===We.identifier))&&(Te.resourceType===t.ot.ClaimType?R.push(Te):Pe.push(Te))}),this.clients=oe.sort((Te,We)=>fe.indexOf(Te.resourceState)-fe.indexOf(We.resourceState)),this.claims=R.sort((Te,We)=>fe.indexOf(Te.resourceState)-fe.indexOf(We.resourceState)),this.resources=Pe.sort((Te,We)=>fe.indexOf(Te.resourceState)-fe.indexOf(We.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(N,fe){N.stopPropagation(),this.openModal(a.M.summaryConflicts,fe)}getResourceState(N){return N.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[N.resourceState]}canEdit(N){return N.length>0&&N.some(fe=>fe.resourceState!==t.jD.Duplicate)}editResourceSummary(N){this.importWizardController.goToSummaryStep(N[0].resourceType)}getConflicts(N){let oe,fe=0;return N.conflicts.forEach(R=>{fe+=R.conflicts.length}),oe=this.translate.instant(1===fe?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),fe+" "+oe}static{this.\u0275fac=function(fe){return new(fe||J)(A.rXU(e.o),A.rXU(w.c$))}}static{this.\u0275cmp=A.VBU({type:J,selectors:[["app-import-summary-all"]],standalone:!1,features:[A.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(fe,oe){if(1&fe){const R=A.RV6();A.j41(0,"div",1)(1,"div",2)(2,"p"),A.EFF(3),A.nI1(4,"translate"),A.k0s()(),A.DNE(5,Y,6,16,"div",3)(6,E,6,17,"div",4)(7,V,6,17,"div",4)(8,v,24,12,"ng-template",null,0,A.C5r),A.k0s(),A.nrm(10,"div",5),A.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),A.bIt("click",function(){return A.eBV(R),A.Njj(oe.goNext())}),A.EFF(15),A.nI1(16,"translate"),A.k0s(),A.j41(17,"button",10),A.bIt("click",function(){return A.eBV(R),A.Njj(oe.back())}),A.EFF(18),A.nI1(19,"translate"),A.k0s()(),A.j41(20,"button",11),A.bIt("click",function(){return A.eBV(R),A.Njj(oe.cancel())}),A.EFF(21),A.nI1(22,"translate"),A.k0s()()()}2&fe&&(A.R7$(3),A.JRh(A.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),A.R7$(2),A.Y8G("ngIf",(null==oe.clients?null:oe.clients.length)>0),A.R7$(),A.Y8G("ngIf",(null==oe.resources?null:oe.resources.length)>0),A.R7$(),A.Y8G("ngIf",(null==oe.claims?null:oe.claims.length)>0),A.R7$(7),A.Y8G("disabled",!oe.canNext()),A.R7$(),A.JRh(A.bMT(16,10,"Clients.Import.Import")),A.R7$(3),A.JRh(A.bMT(19,12,"Common.Back")),A.R7$(3),A.JRh(A.bMT(22,14,"Common.Cancel")))},dependencies:[m.YU,m.Sq,m.bT,m.T3,w.D9],encapsulation:2})}}return J})()},5731:(ot,ve,l)=>{"use strict";l.d(ve,{i:()=>w});var t=l(8434),a=l(9262),p=l(1683),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,a.iI,p.Y,A.h]})}}return m})()},5749:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>S});var t=l(8434),a=l(8018),p=l(779),A=l(4193),e=l(8251),w=l(8389),m=l(7677),D=l(1360);let S=(()=>{class g{static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275mod=D.$C({type:g})}static{this.\u0275inj=D.G2t({imports:[p.Q_,a.h,t.MD,e.h,A.c,w.w,m.N]})}}return g})()},5794:(ot,ve,l)=>{"use strict";l.d(ve,{_B:()=>lt,tw:()=>Pe});var t=l(1360),a=l(5218),p=l(9361),A=l(8434),e=l(1413),w=l(345);const m=["toast-component",""];function D(it,Ve){if(1&it){const Be=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(Be);const Ue=t.XpG();return t.Njj(Ue.remove())}),t.j41(1,"span",6),t.EFF(2,"\xd7"),t.k0s()()}}function S(it,Ve){if(1&it&&(t.qex(0),t.EFF(1),t.bVm()),2&it){const Be=t.XpG(2);t.R7$(),t.SpI("[",Be.duplicatesCount+1,"]")}}function g(it,Ve){if(1&it&&(t.j41(0,"div"),t.EFF(1),t.DNE(2,S,2,1,"ng-container",4),t.k0s()),2&it){const Be=t.XpG();t.HbH(Be.options.titleClass),t.BMQ("aria-label",Be.title),t.R7$(),t.SpI(" ",Be.title," "),t.R7$(),t.Y8G("ngIf",Be.duplicatesCount)}}function k(it,Ve){if(1&it&&t.nrm(0,"div",7),2&it){const Be=t.XpG();t.HbH(Be.options.messageClass),t.Y8G("innerHTML",Be.message,t.npT)}}function Y(it,Ve){if(1&it&&(t.j41(0,"div",8),t.EFF(1),t.k0s()),2&it){const Be=t.XpG();t.HbH(Be.options.messageClass),t.BMQ("aria-label",Be.message),t.R7$(),t.SpI(" ",Be.message," ")}}function u(it,Ve){if(1&it&&(t.j41(0,"div"),t.nrm(1,"div",9),t.k0s()),2&it){const Be=t.XpG();t.R7$(),t.xc7("width",Be.width()+"%")}}class z{_attachedHost;component;viewContainerRef;injector;constructor(Ve,Be){this.component=Ve,this.injector=Be}attach(Ve,Be){return this._attachedHost=Ve,Ve.attach(this,Be)}detach(){const Ve=this._attachedHost;if(Ve)return this._attachedHost=void 0,Ve.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ve){this._attachedHost=Ve}}class Z{_attachedPortal;_disposeFn;attach(Ve,Be){return this._attachedPortal=Ve,this.attachComponentPortal(Ve,Be)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ve){this._disposeFn=Ve}}class v{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new e.B;_activate=new e.B;_manualClose=new e.B;_resetTimeout=new e.B;_countDuplicate=new e.B;constructor(Ve){this._overlayRef=Ve}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ve,Be){Ve&&this._resetTimeout.next(),Be&&this._countDuplicate.next(++this.duplicatesCount)}}class L{toastId;config;message;title;toastType;toastRef;_onTap=new e.B;_onAction=new e.B;constructor(Ve,Be,Xe,Ue,ct,st){this.toastId=Ve,this.config=Be,this.message=Xe,this.title=Ue,this.toastType=ct,this.toastRef=st,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ve){this._onAction.next(Ve)}onAction(){return this._onAction.asObservable()}}const te=new t.nKC("ToastConfig");class N extends Z{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Ve,Be,Xe){super(),this._hostDomElement=Ve,this._componentFactoryResolver=Be,this._appRef=Xe}attachComponentPortal(Ve,Be){const Xe=this._componentFactoryResolver.resolveComponentFactory(Ve.component);let Ue;return Ue=Xe.create(Ve.injector),this._appRef.attachView(Ue.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ue.hostView),Ue.destroy()}),Be?this._hostDomElement.insertBefore(this._getComponentRootNode(Ue),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ue)),Ue}_getComponentRootNode(Ve){return Ve.hostView.rootNodes[0]}}let fe=(()=>{class it{_document=(0,t.WQX)(p.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Be=this._document.createElement("div");Be.classList.add("overlay-container"),Be.setAttribute("aria-live","polite"),this._document.body.appendChild(Be),this._containerElement=Be}static \u0275fac=function(Xe){return new(Xe||it)};static \u0275prov=t.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();class oe{_portalHost;constructor(Ve){this._portalHost=Ve}attach(Ve,Be=!0){return this._portalHost.attach(Ve,Be)}detach(){return this._portalHost.detach()}}let R=(()=>{class it{_overlayContainer=(0,t.WQX)(fe);_componentFactoryResolver=(0,t.WQX)(t.OM3);_appRef=(0,t.WQX)(t.o8S);_document=(0,t.WQX)(p.q);_paneElements=new Map;create(Be,Xe){return this._createOverlayRef(this.getPaneElement(Be,Xe))}getPaneElement(Be="",Xe){return this._paneElements.get(Xe)||this._paneElements.set(Xe,{}),this._paneElements.get(Xe)[Be]||(this._paneElements.get(Xe)[Be]=this._createPaneElement(Be,Xe)),this._paneElements.get(Xe)[Be]}_createPaneElement(Be,Xe){const Ue=this._document.createElement("div");return Ue.id="toast-container",Ue.classList.add(Be),Ue.classList.add("toast-container"),Xe?Xe.getContainerElement().appendChild(Ue):this._overlayContainer.getContainerElement().appendChild(Ue),Ue}_createPortalHost(Be){return new N(Be,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Be){return new oe(this._createPortalHost(Be))}static \u0275fac=function(Xe){return new(Xe||it)};static \u0275prov=t.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),Pe=(()=>{class it{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Be,Xe,Ue,ct,st){this.overlay=Xe,this._injector=Ue,this.sanitizer=ct,this.ngZone=st,this.toastrConfig={...Be.default,...Be.config},Be.config.iconClasses&&(this.toastrConfig.iconClasses={...Be.default.iconClasses,...Be.config.iconClasses})}show(Be,Xe,Ue={},ct=""){return this._preBuildNotification(ct,Be,Xe,this.applyConfig(Ue))}success(Be,Xe,Ue={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Be,Xe,this.applyConfig(Ue))}error(Be,Xe,Ue={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Be,Xe,this.applyConfig(Ue))}info(Be,Xe,Ue={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Be,Xe,this.applyConfig(Ue))}warning(Be,Xe,Ue={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Be,Xe,this.applyConfig(Ue))}clear(Be){for(const Xe of this.toasts)if(void 0!==Be){if(Xe.toastId===Be)return void Xe.toastRef.manualClose()}else Xe.toastRef.manualClose()}remove(Be){const Xe=this._findToast(Be);if(!Xe||(Xe.activeToast.toastRef.close(),this.toasts.splice(Xe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ue=this.toasts[this.currentlyActive].toastRef;Ue.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ue.activate())}return!0}findDuplicate(Be="",Xe="",Ue,ct){const{includeTitleDuplicates:st}=this.toastrConfig;for(const Qe of this.toasts)if((!st||st&&Qe.title===Be)&&Qe.message===Xe)return Qe.toastRef.onDuplicate(Ue,ct),Qe;return null}applyConfig(Be={}){return{...this.toastrConfig,...Be}}_findToast(Be){for(let Xe=0;Xe<this.toasts.length;Xe++)if(this.toasts[Xe].toastId===Be)return{index:Xe,activeToast:this.toasts[Xe]};return null}_preBuildNotification(Be,Xe,Ue,ct){return ct.onActivateTick?this.ngZone.run(()=>this._buildNotification(Be,Xe,Ue,ct)):this._buildNotification(Be,Xe,Ue,ct)}_buildNotification(Be,Xe,Ue,ct){if(!ct.toastComponent)throw new Error("toastComponent required");const st=this.findDuplicate(Ue,Xe,this.toastrConfig.resetTimeoutOnDuplicate&&ct.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ue||Xe)&&this.toastrConfig.preventDuplicates&&null!==st)return st;this.previousToastMessage=Xe;let Qe=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Qe=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ne=this.overlay.create(ct.positionClass,this.overlayContainer);this.index=this.index+1;let K=Xe;Xe&&ct.enableHtml&&(K=this.sanitizer.sanitize(t.WPN.HTML,Xe));const de=new v(ne),ge=new L(this.index,ct,K,Ue,Be,de),dt=t.zZn.create({providers:[{provide:L,useValue:ge}],parent:this._injector}),gt=new z(ct.toastComponent,dt),qt=ne.attach(gt,ct.newestOnTop);de.componentInstance=qt.instance;const Tn={toastId:this.index,title:Ue||"",message:Xe||"",toastRef:de,onShown:de.afterActivate(),onHidden:de.afterClosed(),onTap:ge.onTap(),onAction:ge.onAction(),portal:qt};return Qe||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Tn.toastRef.activate()})),this.toasts.push(Tn),Tn}static \u0275fac=function(Xe){return new(Xe||it)(t.KVO(te),t.KVO(R),t.KVO(t.zZn),t.KVO(w.up),t.KVO(t.SKi))};static \u0275prov=t.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();const We={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class it{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,t.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Be,Xe,Ue){this.toastrService=Be,this.toastPackage=Xe,this.ngZone=Ue,this.message=Xe.message,this.title=Xe.title,this.options=Xe.config,this.originalTimeout=Xe.config.timeOut,this.toastClasses=`${Xe.toastType} ${Xe.config.toastClass}`,this.sub=Xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Xe.toastRef.countDuplicate().subscribe(ct=>{this.duplicatesCount=ct}),this.state=(0,t.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(Be=>({...Be,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const Be=(new Date).getTime();this.width.set((this.hideTime-Be)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ue=>100-Ue),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(Be=>({...Be,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(Be=>({...Be,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Be,Xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Be),Xe)):this.timeout=setTimeout(()=>Be(),Xe)}outsideInterval(Be,Xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Be),Xe)):this.intervalId=setInterval(()=>Be(),Xe)}runInsideAngular(Be){this.ngZone?this.ngZone.run(()=>Be()):Be()}static \u0275fac=function(Xe){return new(Xe||it)(t.rXU(Pe),t.rXU(L),t.rXU(t.SKi))};static \u0275cmp=t.VBU({type:it,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Xe,Ue){1&Xe&&t.bIt("click",function(){return Ue.tapToast()})("mouseenter",function(){return Ue.stickAround()})("mouseleave",function(){return Ue.delayedHideToast()}),2&Xe&&(t.zvX("@flyInOut",Ue._state),t.HbH(Ue.toastClasses),t.xc7("display",Ue.displayStyle))},attrs:m,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Xe,Ue){1&Xe&&t.DNE(0,D,3,0,"button",0)(1,g,3,5,"div",1)(2,k,1,3,"div",2)(3,Y,2,4,"div",3)(4,u,2,2,"div",4),2&Xe&&(t.Y8G("ngIf",Ue.options.closeButton),t.R7$(),t.Y8G("ngIf",Ue.title),t.R7$(),t.Y8G("ngIf",Ue.message&&Ue.options.enableHtml),t.R7$(),t.Y8G("ngIf",Ue.message&&!Ue.options.enableHtml),t.R7$(),t.Y8G("ngIf",Ue.options.progressBar))},dependencies:[A.bT],encapsulation:2,data:{animation:[(0,a.hZ)("flyInOut",[(0,a.wk)("inactive",(0,a.iF)({opacity:0})),(0,a.wk)("active",(0,a.iF)({opacity:1})),(0,a.wk)("removed",(0,a.iF)({opacity:0})),(0,a.kY)("inactive => active",(0,a.i0)("{{ easeTime }}ms {{ easing }}")),(0,a.kY)("active => removed",(0,a.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return it})()},rt=(it={})=>(0,t.EmA)([{provide:te,useValue:{default:We,config:it}}]);let lt=(()=>{class it{static forRoot(Be={}){return{ngModule:it,providers:[rt(Be)]}}static \u0275fac=function(Xe){return new(Xe||it)};static \u0275mod=t.$C({type:it});static \u0275inj=t.G2t({})}return it})()},5826:(ot,ve,l)=>{"use strict";l.d(ve,{o:()=>e});var t=l(1744),a=l(2771),p=l(1594),A=l(1360);let e=(()=>{class w{constructor(){this.importResourceTypeMap=new Map([[t.ot.Client,"Client"],[t.ot.ClaimType,"Claim Type"],[t.ot.ProtectedResource,"Protected Resource"],[t.ot.IdentityResource,"Identity Resource"]]),this.cache=new a.m(1),this.resetImport=new a.m(1)}updateSelectedClients(D){this.cache.pipe((0,p.$)()).subscribe(S=>{D=D.filter(g=>g.resourceType===t.ot.Client),S.forEach(g=>{const k=D.find(Y=>Y.identifier===g.identifier);void 0!==k&&(g.selected=k.selected)}),this.cache.next(S)})}selectResource(D){this.setResourcesSelected(D,!0)}deselectResource(D){this.setResourcesSelected(D,!1)}setResourcesSelected(D,S){this.cache.pipe((0,p.$)()).subscribe(g=>{let k;k=D.resourceType===t.ot.Client?[D.identifier]:D.dependantClients.filter(u=>u.state===t.XF.Importing).map(u=>u.identifier),k.forEach(Y=>{g.find(u=>u.identifier===Y&&u.resourceType===t.ot.Client).selected=S}),this.cache.next(g)})}downloadClientSecretsFromCache(){const D=new a.m;return this.cache.pipe((0,p.$)()).subscribe(S=>{const g=S.filter(E=>E.secrets&&E.secrets.length>0);let k="Type,Id,Name,Secret\r\n";g.forEach(E=>{E.secrets.forEach(B=>{const V=this.importResourceTypeMap.get(E.resourceType);k+=V+","+E.identifier+","+E.displayName+","+B.value+"\r\n"})});const Y=new Blob([k],{type:"application/csv"}),u=document.createElement("a");u.download="import-secrets.csv",u.href=window.URL.createObjectURL(Y),u.click(),u.remove(),D.next()}),D}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275prov=A.jDH({token:w,factory:w.\u0275fac})}}return w})()},5833:(ot,ve,l)=>{var t=l(6589);l(812),t.mgf=t.mgf||{},(ot.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{}).create=function(p){return{generate:function(e,w){for(var m=new t.util.ByteBuffer,D=Math.ceil(w/p.digestLength),S=0;S<D;S++){var g=new t.util.ByteBuffer;g.putInt32(S),p.start(),p.update(e+g.getBytes()),m.putBuffer(p.digest())}return m.truncate(m.length()-w),m.getBytes()}}}},5847:(ot,ve,l)=>{"use strict";l.d(ve,{a:()=>L});var t=l(1744),a=l(7728),p=l(2286),A=l(7629),e=l(6799),w=l(1360),m=l(5826),D=l(8018);let S=(()=>{class te extends e.P{set data(fe){null!==fe&&(this.resetOnClose=fe)}constructor(fe){super(),this.importWizardService=fe,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(oe){return new(oe||te)(w.rXU(m.o))}}static{this.\u0275cmp=w.VBU({type:te,selectors:[["app-import-close-warning"]],standalone:!1,features:[w.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(oe,R){1&oe&&(w.j41(0,"div",0)(1,"p"),w.EFF(2),w.nI1(3,"translate"),w.nI1(4,"translate"),w.k0s()(),w.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),w.bIt("click",function(){return R.no()}),w.EFF(9),w.nI1(10,"translate"),w.k0s()(),w.j41(11,"button",5),w.bIt("click",function(){return R.yes()}),w.EFF(12),w.nI1(13,"translate"),w.k0s()()()),2&oe&&(w.R7$(2),w.Lme("",w.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",w.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),w.R7$(7),w.JRh(w.bMT(10,8,"Notifications.StayHere")),w.R7$(3),w.JRh(w.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[D.D9],encapsulation:2})}}return te})();var g=l(4414),k=l(590),Y=l(8434);function u(te,N){1&te&&(w.j41(0,"p"),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&te&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let E=(()=>{class te extends e.P{set data(fe){this.resource=fe,this.summaryDisplayType=k.n.getSummaryDisplayType(fe.resourceType)}constructor(fe){super(),this.importWizardService=fe,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(oe){return new(oe||te)(w.rXU(m.o))}}static{this.\u0275cmp=w.VBU({type:te,selectors:[["app-conflicts-confirmation"]],standalone:!1,features:[w.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(oe,R){1&oe&&(w.j41(0,"div",0)(1,"p"),w.EFF(2),w.nI1(3,"translate"),w.k0s(),w.DNE(4,u,3,3,"p",1),w.k0s(),w.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),w.bIt("click",function(){return R.no()}),w.EFF(9),w.nI1(10,"translate"),w.k0s()(),w.j41(11,"button",6),w.bIt("click",function(){return R.yes()}),w.EFF(12),w.nI1(13,"translate"),w.k0s()()()),2&oe&&(w.R7$(2),w.Lme("",w.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==R.resource?null:R.resource.displayName,""),w.R7$(2),w.Y8G("ngIf","Client"!==R.summaryDisplayType),w.R7$(5),w.JRh(w.bMT(10,7,"Clients.Import.Wizard.Warning.No")),w.R7$(3),w.JRh(w.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[Y.bT,D.D9],encapsulation:2})}}return te})();var B=l(5696),V=l(1138),F=l(4406),M=l(2858),W=l(467),y=l(5404);const z=["certReader"],Z=["nextButton"];let v=(()=>{class te extends e.P{get data(){return this._subject}set data(fe){this._subject=fe}constructor(fe){super(),this.translate=fe}certificateDataLoaded(fe){this.nextButton.nativeElement.disabled=!fe}goNext(){var fe=this;return(0,W.A)(function*(){const oe=yield fe.certReaderComponent.getCertificateModel();fe.data.next(oe),fe.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(oe){return new(oe||te)(w.rXU(D.c$))}}static{this.\u0275cmp=w.VBU({type:te,selectors:[["app-import-certificate-picker"]],viewQuery:function(oe,R){if(1&oe&&(w.GBs(z,5),w.GBs(Z,5)),2&oe){let Pe;w.mGM(Pe=w.lsd())&&(R.certReaderComponent=Pe.first),w.mGM(Pe=w.lsd())&&(R.nextButton=Pe.first)}},standalone:!1,features:[w.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(oe,R){if(1&oe){const Pe=w.RV6();w.j41(0,"div",2)(1,"app-cert-reader",3,0),w.nI1(3,"translate"),w.nI1(4,"translate"),w.nI1(5,"translate"),w.nI1(6,"translate"),w.bIt("dataExists",function(We){return w.eBV(Pe),w.Njj(R.certificateDataLoaded(We))}),w.k0s()(),w.nrm(7,"div",4),w.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),w.bIt("click",function(){return w.eBV(Pe),w.Njj(R.goNext())}),w.EFF(13),w.nI1(14,"translate"),w.k0s(),w.j41(15,"button",9),w.bIt("click",function(){return w.eBV(Pe),w.Njj(R.back())}),w.EFF(16),w.nI1(17,"translate"),w.k0s()(),w.j41(18,"button",10),w.bIt("click",function(){return w.eBV(Pe),w.Njj(R.cancel())}),w.EFF(19),w.nI1(20,"translate"),w.k0s()()()}2&oe&&(w.R7$(),w.Y8G("uploadCert",w.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",w.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",w.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",w.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),w.R7$(12),w.SpI(" ",w.bMT(14,15,"Common.Add")," "),w.R7$(3),w.SpI(" ",w.bMT(17,17,"Common.Back")," "),w.R7$(3),w.SpI(" ",w.bMT(20,19,"Common.Cancel")," "))},dependencies:[y.V,D.D9],encapsulation:2})}}return te})(),L=(()=>{class te{constructor(){this.stepMap=new Map,this.stepMap.set(g.M.clientSummary,new J(a.z,"Clients.Import.Wizard.Summary.Title.Client",[t.ot.Client])),this.stepMap.set(g.M.resourcesSummary,new J(a.z,"Clients.Import.Wizard.Summary.Title.Resource",[t.ot.IdentityResource,t.ot.ProtectedResource])),this.stepMap.set(g.M.claimTypeSummary,new J(a.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[t.ot.ClaimType])),this.stepMap.set(g.M.summaryConflicts,new J(A.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(g.M.importComplete,new J(p.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(g.M.importCloseWarning,new J(S,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(g.M.summaryConflictsConfirmation,new J(E,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(g.M.finalSummary,new J(B.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(g.M.importDownloadWarning,new J(F.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(g.M.importUploadCertificate,new J(v,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(fe){return this.stepMap.get(fe)}getSecretStep(fe){return new J(V.u,"Clients.Import.Wizard.Secrets.Title",fe)}getCertificateStep(fe){return new J(M.zI,"Clients.Import.Wizard.Certificates.Title",fe)}static{this.\u0275fac=function(oe){return new(oe||te)}}static{this.\u0275prov=w.jDH({token:te,factory:te.\u0275fac})}}return te})();class J{constructor(N,fe,oe,R=!1){this.component=N,this.stepTitle=fe,this.data=oe,this.isDeadEnd=R}}},5855:(ot,ve,l)=>{var t=l(6589);l(812),ot.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(p,A){var e=p;if("string"==typeof e&&(e=t.cipher.getAlgorithm(e))&&(e=e()),!e)throw new Error("Unsupported algorithm: "+p);return new t.cipher.BlockCipher({algorithm:e,key:A,decrypt:!1})},t.cipher.createDecipher=function(p,A){var e=p;if("string"==typeof e&&(e=t.cipher.getAlgorithm(e))&&(e=e()),!e)throw new Error("Unsupported algorithm: "+p);return new t.cipher.BlockCipher({algorithm:e,key:A,decrypt:!0})},t.cipher.registerAlgorithm=function(p,A){p=p.toUpperCase(),t.cipher.algorithms[p]=A},t.cipher.getAlgorithm=function(p){return(p=p.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[p]:null};var a=t.cipher.BlockCipher=function(p){this.algorithm=p.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=p.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=p.decrypt,this.algorithm.initialize(p)};a.prototype.start=function(p){p=p||{};var A={};for(var e in p)A[e]=p[e];A.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=p.output||t.util.createBuffer(),this.mode.start(A)},a.prototype.update=function(p){for(p&&this._input.putBuffer(p);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},a.prototype.finish=function(p){p&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(e){return p(this.blockSize,e,!1)},this.mode.unpad=function(e){return p(this.blockSize,e,!0)});var A={};return A.decrypt=this._decrypt,A.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,A)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,A))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,A))}},5866:(ot,ve,l)=>{"use strict";l.d(ve,{K:()=>m});var t=l(1594),a=l(6354),p=l(1360),A=l(9196),e=l(2947),w=l(5139);let m=(()=>{class D{constructor(g,k,Y){this.configService=g,this.router=k,this.localizeRouter=Y}canActivate(g,k){return this.configService.getConfig().pipe((0,t.$)(),(0,a.T)(Y=>{if(Y.featureFlagOptions.enableRoleClaims)return!0;{const u=this.localizeRouter.translateRoute("/home");this.router.navigate([u])}}))}static{this.\u0275fac=function(k){return new(k||D)(p.KVO(A.w),p.KVO(e.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac})}}return D})()},5893:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>w});var t=l(3165),a=l(2771),p=l(7263),A=l(1360),e=l(9564);let w=(()=>{class D{constructor(g,k){this.http=g,this.headersService=k,this.protectedResourceSubject=new a.m(1),this.actionUrl="ProtectedResources",this.headers=k.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(g){let k=new t.Nl;return(0,p.gP)(g)||(k=k.set("name",g)),this.http.get(this.actionUrl,{headers:this.headers,params:k})}getResourcesPaginated(g,k,Y){const u=`${this.actionUrl}/getPaginated`;let E=new t.Nl;return(0,p.gP)(g)||(E=E.set("name",g)),k&&(E=E.append("page",k)),Y&&(E=E.append("pageSize",Y)),this.http.get(u,{headers:this.headers,params:E})}addResource(g){const k=`${this.actionUrl}/`,Y=JSON.stringify(g);return this.http.post(k,Y,{headers:this.headers})}getResource(g){return this.http.get(`${this.actionUrl}/${g}`,{headers:this.headers})}updateResource(g){return this.http.put(`${this.actionUrl}/${g.id}`,g,{headers:this.headers})}updateResourceSecret(g,k){return this.http.put(`${this.actionUrl}/${g}/secrets/${k.id}`,k,{headers:this.headers})}removeResourceSecret(g,k){return this.http.delete(`${this.actionUrl}/${g}/secrets/${k}`,{headers:this.headers})}addResourceSecret(g,k){return this.http.post(`${this.actionUrl}/${g}/secrets`,k,{headers:this.headers})}updateResourceScope(g,k,Y){const u=encodeURIComponent(Y);return this.http.put(`${this.actionUrl}/${g}/scopes/${u}`,k,{headers:this.headers})}addResourceScope(g,k){return this.http.post(`${this.actionUrl}/${g}/scopes`,k,{headers:this.headers})}deleteProtectedResource(g){return this.http.delete(`${this.actionUrl}/${g}`,{headers:this.headers})}deleteScope(g,k){const Y=encodeURIComponent(k);return this.http.delete(`${this.actionUrl}/${g}/scopes/${Y}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(k){return new(k||D)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:D,factory:D.\u0275fac})}}return D})()},5955:(ot,ve)=>{"use strict";class a{static isArrayBuffer(E){return"[object ArrayBuffer]"===Object.prototype.toString.call(E)}static toArrayBuffer(E){return this.isArrayBuffer(E)?E:E.byteLength===E.buffer.byteLength||0===E.byteOffset&&E.byteLength===E.buffer.byteLength?E.buffer:this.toUint8Array(E.buffer).slice(E.byteOffset,E.byteOffset+E.byteLength).buffer}static toUint8Array(E){return this.toView(E,Uint8Array)}static toView(E,B){if(E.constructor===B)return E;if(this.isArrayBuffer(E))return new B(E);if(this.isArrayBufferView(E))return new B(E.buffer,E.byteOffset,E.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(E){return this.isArrayBufferView(E)||this.isArrayBuffer(E)}static isArrayBufferView(E){return ArrayBuffer.isView(E)||E&&this.isArrayBuffer(E.buffer)}static isEqual(E,B){const V=a.toUint8Array(E),F=a.toUint8Array(B);if(V.length!==F.byteLength)return!1;for(let M=0;M<V.length;M++)if(V[M]!==F[M])return!1;return!0}static concat(...E){let B;B=Array.isArray(E[0])&&!(E[1]instanceof Function)||Array.isArray(E[0])&&E[1]instanceof Function?E[0]:E[E.length-1]instanceof Function?E.slice(0,E.length-1):E;let V=0;for(const W of B)V+=W.byteLength;const F=new Uint8Array(V);let M=0;for(const W of B){const y=this.toUint8Array(W);F.set(y,M),M+=y.length}return E[E.length-1]instanceof Function?this.toView(F,E[E.length-1]):F.buffer}}const p="string",A=/^[0-9a-f\s]+$/i,e=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,w=/^[a-zA-Z0-9-_]+$/;class m{static fromString(E){const B=unescape(encodeURIComponent(E)),V=new Uint8Array(B.length);for(let F=0;F<B.length;F++)V[F]=B.charCodeAt(F);return V.buffer}static toString(E){const B=a.toUint8Array(E);let V="";for(let M=0;M<B.length;M++)V+=String.fromCharCode(B[M]);return decodeURIComponent(escape(V))}}class D{static toString(E,B=!1){const V=a.toArrayBuffer(E),F=new DataView(V);let M="";for(let W=0;W<V.byteLength;W+=2){const y=F.getUint16(W,B);M+=String.fromCharCode(y)}return M}static fromString(E,B=!1){const V=new ArrayBuffer(2*E.length),F=new DataView(V);for(let M=0;M<E.length;M++)F.setUint16(2*M,E.charCodeAt(M),B);return V}}let S=(()=>{class u{static isHex(B){return typeof B===p&&A.test(B)}static isBase64(B){return typeof B===p&&e.test(B)}static isBase64Url(B){return typeof B===p&&w.test(B)}static ToString(B,V="utf8"){const F=a.toUint8Array(B);switch(V.toLowerCase()){case"utf8":return this.ToUtf8String(F);case"binary":return this.ToBinary(F);case"hex":return this.ToHex(F);case"base64":return this.ToBase64(F);case"base64url":return this.ToBase64Url(F);case"utf16le":return D.toString(F,!0);case"utf16":case"utf16be":return D.toString(F);default:throw new Error(`Unknown type of encoding '${V}'`)}}static FromString(B,V="utf8"){if(!B)return new ArrayBuffer(0);switch(V.toLowerCase()){case"utf8":return this.FromUtf8String(B);case"binary":return this.FromBinary(B);case"hex":return this.FromHex(B);case"base64":return this.FromBase64(B);case"base64url":return this.FromBase64Url(B);case"utf16le":return D.fromString(B,!0);case"utf16":case"utf16be":return D.fromString(B);default:throw new Error(`Unknown type of encoding '${V}'`)}}static ToBase64(B){const V=a.toUint8Array(B);if(typeof btoa<"u"){const F=this.ToString(V,"binary");return btoa(F)}return Buffer.from(V).toString("base64")}static FromBase64(B){const V=this.formatString(B);if(!V)return new ArrayBuffer(0);if(!u.isBase64(V))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(V)):new Uint8Array(Buffer.from(V,"base64")).buffer}static FromBase64Url(B){const V=this.formatString(B);if(!V)return new ArrayBuffer(0);if(!u.isBase64Url(V))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(V.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(B){return this.ToBase64(B).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(B,V=u.DEFAULT_UTF8_ENCODING){switch(V){case"ascii":return this.FromBinary(B);case"utf8":return m.fromString(B);case"utf16":case"utf16be":return D.fromString(B);case"utf16le":case"usc2":return D.fromString(B,!0);default:throw new Error(`Unknown type of encoding '${V}'`)}}static ToUtf8String(B,V=u.DEFAULT_UTF8_ENCODING){switch(V){case"ascii":return this.ToBinary(B);case"utf8":return m.toString(B);case"utf16":case"utf16be":return D.toString(B);case"utf16le":case"usc2":return D.toString(B,!0);default:throw new Error(`Unknown type of encoding '${V}'`)}}static FromBinary(B){const V=B.length,F=new Uint8Array(V);for(let M=0;M<V;M++)F[M]=B.charCodeAt(M);return F.buffer}static ToBinary(B){const V=a.toUint8Array(B);let F="";for(let M=0;M<V.length;M++)F+=String.fromCharCode(V[M]);return F}static ToHex(B){const V=a.toUint8Array(B);let F="";const M=V.length;for(let W=0;W<M;W++){const y=V[W];y<16&&(F+="0"),F+=y.toString(16)}return F}static FromHex(B){let V=this.formatString(B);if(!V)return new ArrayBuffer(0);if(!u.isHex(V))throw new TypeError("Argument 'hexString' is not HEX encoded");V.length%2&&(V=`0${V}`);const F=new Uint8Array(V.length/2);for(let M=0;M<V.length;M+=2){const W=V.slice(M,M+2);F[M/2]=parseInt(W,16)}return F.buffer}static ToUtf16String(B,V=!1){return D.toString(B,V)}static FromUtf16String(B,V=!1){return D.fromString(B,V)}static Base64Padding(B){const V=4-B.length%4;if(V<4)for(let F=0;F<V;F++)B+="=";return B}static formatString(B){return B?.replace(/[\n\r\t ]/g,"")||""}}return u.DEFAULT_UTF8_ENCODING="utf8",u})();ve._H=a,ve.U$=S},5964:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>p});var t=l(9974),a=l(4360);function p(A,e){return(0,t.N)((w,m)=>{let D=0;w.subscribe((0,a._)(m,S=>A.call(e,S,D++)&&m.next(S)))})}},6026:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>t});let t=(()=>{class a{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return a})()},6037:(ot,ve,l)=>{"use strict";l.d(ve,{J:()=>F});var t=l(1594),a=l(1360),p=l(1715),A=l(6026);let e=(()=>{class M{constructor(){this.wizardCancel=new a.bkB,this.finish=new a.bkB,this.hide=new a.bkB,this.titleId=A.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(y){"Enter"===y.key&&this.canNext()&&this.nextTab()}get showProgress(){return!0}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}initialStep(){return this.index<=0}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const y=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(y.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const z=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,z),z.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(y=>{y?.destroy()}),this.components.clear()}get asAny(){return this}static{this.\u0275fac=function(z){return new(z||M)}}static{this.\u0275dir=a.FsC({type:M,viewQuery:function(z,Z){if(1&z&&a.GBs(p.t,7),2&z){let v;a.mGM(v=a.lsd())&&(Z.wizardHost=v.first)}},hostBindings:function(z,Z){1&z&&a.bIt("keydown",function(L){return Z.keydown(L)},!1,a.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return M})();var w=l(9417),m=l(8434),D=l(8018),S=l(2467);function g(M,W){if(1&M&&(a.j41(0,"span",17),a.EFF(1),a.k0s()),2&M){const y=W.$implicit;a.R7$(),a.JRh(y)}}function k(M,W){if(1&M){const y=a.RV6();a.j41(0,"tr",11)(1,"td",12),a.bIt("click",function(){a.eBV(y);const Z=a.XpG().$implicit,v=a.XpG();return a.Njj(v.jumpToTab(Z.stepName))}),a.j41(2,"b"),a.EFF(3),a.nI1(4,"keyToString"),a.nI1(5,"translate"),a.k0s()(),a.j41(6,"td",13),a.bIt("click",function(){a.eBV(y);const Z=a.XpG().$implicit,v=a.XpG();return a.Njj(v.jumpToTab(Z.stepName))}),a.DNE(7,g,2,1,"span",14),a.k0s(),a.j41(8,"td",12),a.bIt("click",function(){a.eBV(y);const Z=a.XpG().$implicit,v=a.XpG();return a.Njj(v.jumpToTab(Z.stepName))}),a.j41(9,"button",15),a.bIt("click",function(){a.eBV(y);const Z=a.XpG().$implicit,v=a.XpG();return a.Njj(v.jumpToTab(Z.stepName))}),a.nrm(10,"span",16),a.j41(11,"span",2),a.EFF(12),a.nI1(13,"translate"),a.k0s()()()()}if(2&M){const y=W.$implicit;a.R7$(3),a.JRh(a.bMT(5,5,a.bMT(4,3,y.key))),a.R7$(4),a.Y8G("ngForOf",y.value),a.R7$(5),a.JRh(a.bMT(13,7,"Common.Edit"))}}function Y(M,W){if(1&M&&(a.qex(0),a.DNE(1,k,14,9,"tr",10),a.nI1(2,"keyvalue"),a.bVm()),2&M){const y=W.$implicit;a.R7$(),a.Y8G("ngForOf",a.bMT(2,1,y.stepData))}}function u(M,W){if(1&M&&(a.j41(0,"form",18)(1,"div",19),a.nrm(2,"input",20),a.j41(3,"label",21),a.EFF(4),a.nI1(5,"translate"),a.k0s()()()),2&M){const y=a.XpG();a.Y8G("formGroup",y.summaryForm),a.R7$(),a.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),a.R7$(3),a.JRh(a.bMT(5,3,"Common.Enabled"))}}let E=(()=>{class M{constructor(y){this.fb=y,this.askIfEnabled=!1,this.emitNavigate=new a.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(y){this.emitNavigate.emit(y)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(z){return new(z||M)(a.rXU(w.ze))}}static{this.\u0275cmp=a.VBU({type:M,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},standalone:!1,decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(z,Z){1&z&&(a.j41(0,"div",0)(1,"p"),a.EFF(2),a.nI1(3,"translate"),a.k0s()(),a.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),a.EFF(8),a.nI1(9,"translate"),a.k0s(),a.j41(10,"th"),a.EFF(11),a.nI1(12,"translate"),a.k0s(),a.j41(13,"th")(14,"span",2),a.EFF(15),a.nI1(16,"translate"),a.k0s()()()(),a.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),a.EFF(21),a.nI1(22,"translate"),a.k0s()(),a.j41(23,"td",5)(24,"span",6),a.EFF(25),a.nI1(26,"translate"),a.k0s()(),a.nrm(27,"td",7),a.k0s(),a.DNE(28,Y,3,3,"ng-container",8),a.k0s()(),a.DNE(29,u,6,5,"form",9)),2&z&&(a.R7$(2),a.JRh(a.bMT(3,8,"Common.Wizards.Review")),a.R7$(6),a.JRh(a.bMT(9,10,"Common.Key")),a.R7$(3),a.JRh(a.bMT(12,12,"Common.Value")),a.R7$(4),a.JRh(a.bMT(16,14,"Common.Actions")),a.R7$(6),a.JRh(a.bMT(22,16,"Common.Type")),a.R7$(4),a.JRh(a.bMT(26,18,Z.summaryTitle)),a.R7$(3),a.Y8G("ngForOf",Z.summary),a.R7$(),a.Y8G("ngIf",Z.askIfEnabled))},dependencies:[m.YU,m.Sq,m.bT,w.qT,w.Zm,w.BC,w.cb,w.j4,w.JD,m.lG,D.D9,S.C],encapsulation:2})}}return M})();var B=l(5424),V=l(5794);let F=(()=>{class M extends e{constructor(y,z,Z){super(),this.errorService=y,this.toastr=z,this.translate=Z,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex(),this.setOrUpdateDtoSnapshot())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const y=[];this.wizardSteps.forEach((z,Z)=>{const L=this.components.get(Z).instance.getStepSummary();null!=L&&y.push({stepName:`ClientStep${Z}`,stepData:L})}),this.displaySummaryComponent(y)}displaySummaryComponent(y){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(E)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.setInput("askIfEnabled",this.askIfEnabled),this.summaryComponentRef.instance.summary=y,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,t.$)()).subscribe(z=>{this.index=y.findIndex(Z=>Z.stepName===z),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let y={};return this.wizardSteps.forEach((z,Z)=>{if(Z>=this.index)return;const L=this.components.get(Z).instance.getStepDTO();y=Object.assign({},y,L)}),y}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}setOrUpdateDtoSnapshot(){var y=this.components.get(this.index),z=this.getWizardDto();y.instance.dtoSnapshot=z}static{this.\u0275fac=function(z){return new(z||M)(a.rXU(B.I),a.rXU(V.tw),a.rXU(D.c$))}}static{this.\u0275dir=a.FsC({type:M,features:[a.Vt3]})}}return M})()},6129:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},6193:(ot,ve,l)=>{"use strict";l.d(ve,{V:()=>F});var t=l(1413),a=l(2771),p=l(4414),A=l(1594),e=l(1744),w=l(7728),m=l(5696),D=l(4406),S=l(1138),g=l(785),k=l(7263),Y=l(2858),u=l(7212),E=l(1360),B=l(5847),V=l(5826);let F=(()=>{class M{constructor(y,z){this.importWizardProvider=y,this.importWizardService=z,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new t.B}setupInitialStep(){const y=this.importWizardProvider.getStep(p.M.clientSummary);this.stepsAhead.push(y)}goToNextStep(){const y=this.stepsAhead.pop();this.stepsCompleted.push(y),y.component===w.z&&y.data.includes(e.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(y.component===S.u&&y.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(y):y.component===Y.zI&&y.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(y)),this.move.next(!1))}applyCertificateRememberDecision(y){const z=[];return this.stepsAhead.forEach(Z=>{Z.component!==Y.zI||Z.data.existingHasCertificates!==y.data.existingHasCertificates||(y.data.certificateAction===Y.AU.DoNotSet?Z.data.certificates=new u.D:y.data.certificateAction===Y.AU.UseExisting&&(Z.data.certificates=new u.D,Z.data.useExistingCertificates=!0),z.push(Z),this.stepsCompleted.push(Z))}),this.stepsAhead.filter(Z=>!z.includes(Z))}applyRememberDecision(y){const z=[];return this.stepsAhead.forEach(Z=>{if(Z.component===S.u&&Z.data.resourceType===y.data.resourceType&&Z.data.existingHasSecrets===y.data.existingHasSecrets){if(y.data.secretsAction===S.r.DoNotSet)Z.data.secrets=[];else if(y.data.secretsAction===S.r.UseExistingSecret)Z.data.useExistingSecrets=!0;else if(y.data.secretsAction===S.r.Generate){const v=new g.z;v.value=(0,k.Nl)(),v.type="Shared Secret",v.description="",Z.data.secrets=[v]}z.push(Z),this.stepsCompleted.push(Z)}}),this.stepsAhead.filter(Z=>!z.includes(Z))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(p.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const z=this.stepsCompleted[this.stepsCompleted.length-1];if(z.component===S.u)this.goToLastRememberedDecision(z.component,Z=>Z.data.rememberSecretAction);else if(z.component===Y.zI)this.goToLastRememberedDecision(z.component,Z=>Z.data.rememberCertificateAction&&Z.data.existingHasCertificates===z.data.existingHasCertificates);else{const Z=this.stepsCompleted.pop();this.stepsAhead.push(Z)}this.move.next(!1)}goToLastRememberedDecision(y,z){const Z=this.stepsCompleted.filter(v=>v.component===y);if(Z.length>1){const v=Z.filter(z);if(v){const J=this.stepsCompleted.indexOf(v[v.length-1]),te=this.stepsCompleted.splice(J,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...te.reverse()]}else{const L=this.stepsCompleted.pop();this.stepsAhead.push(L)}}else{const v=this.stepsCompleted.pop();this.stepsAhead.push(v)}}goToFinalSummary(){const y=this.stepsAhead.findIndex(Z=>Z.component===m.s),z=this.stepsAhead.splice(y+1);for(;z.length>0;){const Z=z.pop();this.stepsCompleted.push(Z)}this.move.next(!1)}goToSummaryStep(y){const z=this.stepsCompleted.findIndex(v=>v.component===w.z&&v.data.includes(y)),Z=this.stepsCompleted.splice(z);for(;Z.length>0;){const v=Z.pop();this.stepsAhead.push(v)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const y=this.getCurrentStep();y.component===D.X?this.quit():y.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(p.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(y,z){const Z=this.stepsAhead.pop();this.stepsCompleted.push(Z);const v=this.importWizardProvider.getStep(y);v.data=z,this.stepsAhead.push(v),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const y=new a.m;return this.importWizardService.cache.pipe((0,A.$)()).subscribe(z=>{this.stepsAhead.push(this.importWizardProvider.getStep(p.M.importComplete)),this.showFinalSummary(z)&&this.stepsAhead.push(this.importWizardProvider.getStep(p.M.finalSummary));const Z=this.sortImportResources(z),v=[],L=[];for(let J=Z.length;J>0;J--){const te=Z[J-1];let N=!1;te.resourceType===e.ot.ProtectedResource&&te.dependantClients.forEach(fe=>{N=z.some(oe=>oe.identifier===fe.identifier&&oe.resourceState!==e.jD.Duplicate)}),(te.selected||N)&&(te.existingHasSecrets&&v.push(this.importWizardProvider.getSecretStep(te)),te.hadSecrets&&!te.existingHasSecrets&&v.push(this.importWizardProvider.getSecretStep(te)),te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)),te.hadCertificates&&!te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)))}this.stepsAhead.push(...v),this.stepsAhead.push(...L),this.showClaimTypeSummary(z)&&this.stepsAhead.push(this.importWizardProvider.getStep(p.M.claimTypeSummary)),this.showResourceSummary(z)&&this.stepsAhead.push(this.importWizardProvider.getStep(p.M.resourcesSummary)),y.next()}),y}sortImportResources(y){y=(y=y.sort((Z,v)=>Z.displayName.toUpperCase().localeCompare(v.displayName.toUpperCase()))).sort((Z,v)=>+Z.conflictedByDependencies-+v.conflictedByDependencies);const z=[e.jD.Conflicted,e.jD.New,e.jD.Duplicate];return y.sort((Z,v)=>z.indexOf(Z.resourceState)-z.indexOf(v.resourceState))}showResourceSummary(y){const z=y.filter(v=>v.resourceType===e.ot.Client&&!0===v.selected).map(v=>v.identifier),Z=y.filter(v=>(v.resourceType===e.ot.IdentityResource||v.resourceType===e.ot.ProtectedResource)&&v.dependantClients.map(L=>L.identifier).some(L=>z.includes(L)));return Z.length>0&&Z.some(v=>v.resourceState===e.jD.Conflicted)}showClaimTypeSummary(y){const z=y.filter(v=>v.resourceType===e.ot.Client&&!0===v.selected).map(v=>v.identifier),Z=y.filter(v=>v.resourceType===e.ot.ClaimType&&v.dependantClients.map(L=>L.identifier).some(L=>z.includes(L)));return Z.length>0&&Z.some(v=>v.resourceState===e.jD.Conflicted)}showFinalSummary(y){return y.some(z=>z.resourceType!==e.ot.Client)}static{this.\u0275fac=function(z){return new(z||M)(E.KVO(B.a),E.KVO(V.o))}}static{this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac})}}return M})()},6199:(ot,ve,l)=>{var t=l(6589);l(812),t.cipher=t.cipher||{};var a=ot.exports=t.cipher.modes=t.cipher.modes||{};function p(w,m){if("string"==typeof w&&(w=t.util.createBuffer(w)),t.util.isArray(w)&&w.length>4){var D=w;w=t.util.createBuffer();for(var S=0;S<D.length;++S)w.putByte(D[S])}if(w.length()<m)throw new Error("Invalid IV length; got "+w.length()+" bytes and expected "+m+" bytes.");if(!t.util.isArray(w)){var g=[],k=m/4;for(S=0;S<k;++S)g.push(w.getInt32());w=g}return w}function A(w){w[w.length-1]=w[w.length-1]+1&4294967295}function e(w){return[w/4294967296|0,4294967295&w]}a.ecb=function(w){w=w||{},this.name="ECB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},a.ecb.prototype.start=function(w){},a.ecb.prototype.encrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=w.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._outBlock[S])},a.ecb.prototype.decrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=w.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._outBlock[S])},a.ecb.prototype.pad=function(w,m){var D=w.length()===this.blockSize?this.blockSize:this.blockSize-w.length();return w.fillWithByte(D,D),!0},a.ecb.prototype.unpad=function(w,m){if(m.overflow>0)return!1;var D=w.length(),S=w.at(D-1);return!(S>this.blockSize<<2||(w.truncate(S),0))},a.cbc=function(w){w=w||{},this.name="CBC",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},a.cbc.prototype.start=function(w){if(null===w.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._prev=this._iv.slice(0)}},a.cbc.prototype.encrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=this._prev[S]^w.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._outBlock[S]);this._prev=this._outBlock},a.cbc.prototype.decrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=w.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._prev[S]^this._outBlock[S]);this._prev=this._inBlock.slice(0)},a.cbc.prototype.pad=function(w,m){var D=w.length()===this.blockSize?this.blockSize:this.blockSize-w.length();return w.fillWithByte(D,D),!0},a.cbc.prototype.unpad=function(w,m){if(m.overflow>0)return!1;var D=w.length(),S=w.at(D-1);return!(S>this.blockSize<<2||(w.truncate(S),0))},a.cfb=function(w){w=w||{},this.name="CFB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},a.cfb.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.cfb.prototype.encrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)this._inBlock[g]=w.getInt32()^this._outBlock[g],m.putInt32(this._inBlock[g]);else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialBlock[g]=w.getInt32()^this._outBlock[g],this._partialOutput.putInt32(this._partialBlock[g]);if(k>0)w.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._partialBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}},a.cfb.prototype.decrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)this._inBlock[g]=w.getInt32(),m.putInt32(this._inBlock[g]^this._outBlock[g]);else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialBlock[g]=w.getInt32(),this._partialOutput.putInt32(this._partialBlock[g]^this._outBlock[g]);if(k>0)w.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._partialBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}},a.ofb=function(w){w=w||{},this.name="OFB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},a.ofb.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ofb.prototype.encrypt=function(w,m,D){var S=w.length();if(0===w.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)m.putInt32(w.getInt32()^this._outBlock[g]),this._inBlock[g]=this._outBlock[g];else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(w.getInt32()^this._outBlock[g]);if(k>0)w.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._outBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}},a.ofb.prototype.decrypt=a.ofb.prototype.encrypt,a.ctr=function(w){w=w||{},this.name="CTR",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},a.ctr.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ctr.prototype.encrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)m.putInt32(w.getInt32()^this._outBlock[g]);else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(w.getInt32()^this._outBlock[g]);if(k>0&&(w.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}A(this._inBlock)},a.ctr.prototype.decrypt=a.ctr.prototype.encrypt,a.gcm=function(w){w=w||{},this.name="GCM",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},a.gcm.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");var D,m=t.util.createBuffer(w.iv);if(this._cipherLength=0,D="additionalData"in w?t.util.createBuffer(w.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in w?w.tagLength:128,this._tag=null,w.decrypt&&(this._tag=t.util.createBuffer(w.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var S=m.length();if(12===S)this._j0=[m.getInt32(),m.getInt32(),m.getInt32(),1];else{for(this._j0=[0,0,0,0];m.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[m.getInt32(),m.getInt32(),m.getInt32(),m.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(e(8*S)))}this._inBlock=this._j0.slice(0),A(this._inBlock),this._partialBytes=0,D=t.util.createBuffer(D),this._aDataLength=e(8*D.length());var g=D.length()%this.blockSize;for(g&&D.fillWithByte(0,this.blockSize-g),this._s=[0,0,0,0];D.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[D.getInt32(),D.getInt32(),D.getInt32(),D.getInt32()])},a.gcm.prototype.encrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize){for(var g=0;g<this._ints;++g)m.putInt32(this._outBlock[g]^=w.getInt32());this._cipherLength+=this.blockSize}else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(w.getInt32()^this._outBlock[g]);if(k<=0||D){if(D){var Y=S%this.blockSize;this._cipherLength+=Y,this._partialOutput.truncate(this.blockSize-Y)}else this._cipherLength+=this.blockSize;for(g=0;g<this._ints;++g)this._outBlock[g]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return w.read-=this.blockSize,m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),A(this._inBlock)},a.gcm.prototype.decrypt=function(w,m,D){var S=w.length();if(S<this.blockSize&&!(D&&S>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),A(this._inBlock),this._hashBlock[0]=w.getInt32(),this._hashBlock[1]=w.getInt32(),this._hashBlock[2]=w.getInt32(),this._hashBlock[3]=w.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var g=0;g<this._ints;++g)m.putInt32(this._outBlock[g]^this._hashBlock[g]);this._cipherLength+=S<this.blockSize?S%this.blockSize:this.blockSize},a.gcm.prototype.afterFinish=function(w,m){var D=!0;m.decrypt&&m.overflow&&w.truncate(this.blockSize-m.overflow),this.tag=t.util.createBuffer();var S=this._aDataLength.concat(e(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,S);var g=[];this.cipher.encrypt(this._j0,g);for(var k=0;k<this._ints;++k)this.tag.putInt32(this._s[k]^g[k]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),m.decrypt&&this.tag.bytes()!==this._tag&&(D=!1),D},a.gcm.prototype.multiply=function(w,m){for(var D=[0,0,0,0],S=m.slice(0),g=0;g<128;++g)w[g/32|0]&1<<31-g%32&&(D[0]^=S[0],D[1]^=S[1],D[2]^=S[2],D[3]^=S[3]),this.pow(S,S);return D},a.gcm.prototype.pow=function(w,m){for(var D=1&w[3],S=3;S>0;--S)m[S]=w[S]>>>1|(1&w[S-1])<<31;m[0]=w[0]>>>1,D&&(m[0]^=this._R)},a.gcm.prototype.tableMultiply=function(w){for(var m=[0,0,0,0],D=0;D<32;++D){var k=this._m[D][w[D/8|0]>>>4*(7-D%8)&15];m[0]^=k[0],m[1]^=k[1],m[2]^=k[2],m[3]^=k[3]}return m},a.gcm.prototype.ghash=function(w,m,D){return m[0]^=D[0],m[1]^=D[1],m[2]^=D[2],m[3]^=D[3],this.tableMultiply(m)},a.gcm.prototype.generateHashTable=function(w,m){for(var D=8/m,S=4*D,g=16*D,k=new Array(g),Y=0;Y<g;++Y){var u=[0,0,0,0];u[Y/S|0]=1<<m-1<<(S-1-Y%S)*m,k[Y]=this.generateSubHashTable(this.multiply(u,w),m)}return k},a.gcm.prototype.generateSubHashTable=function(w,m){var D=1<<m,S=D>>>1,g=new Array(D);g[S]=w.slice(0);for(var k=S>>>1;k>0;)this.pow(g[2*k],g[k]=[]),k>>=1;for(k=2;k<S;){for(var Y=1;Y<k;++Y){var u=g[k],E=g[Y];g[k+Y]=[u[0]^E[0],u[1]^E[1],u[2]^E[2],u[3]^E[3]]}k*=2}for(g[0]=[0,0,0,0],k=S+1;k<D;++k){var B=g[k^S];g[k]=[w[0]^B[0],w[1]^B[1],w[2]^B[2],w[3]^B[3]]}return g}},6303:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>t});var t=function(a){return a[a.Single=0]="Single",a[a.Multi=1]="Multi",a[a.CommaSeparated=2]="CommaSeparated",a[a.LifetimePicker=3]="LifetimePicker",a}(t||{})},6354:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>p});var t=l(9974),a=l(4360);function p(A,e){return(0,t.N)((w,m)=>{let D=0;w.subscribe((0,a._)(m,S=>{m.next(A.call(e,S,D++))}))})}},6357:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{SettingsDuendeModule:()=>Os});var t=l(5139),a=l(9262),p=l(8018),A=l(779),e=l(9417),w=l(8434),m=l(1683),D=l(2571),S=l(8455),g=l(367),k=l(8251),Y=l(5731),u=l(7175),E=l(4193),B=l(1993),V=l(8389),F=l(4367),M=l(7677),W=l(275),y=l(2334),z=l(6599),Z=l(1594),v=l(6354),L=l(1258);class te{constructor(Ai,Et,vn,Wt){this.webhooks={MfaReset:Ai,PasswordReset:Et,UserRegistration:vn,ServerSideSessionDelete:Wt}}}var N=function(jt){return jt.MFAReset="MfaReset",jt.PasswordReset="PasswordReset",jt.UserRegistration="UserRegistration",jt.ServerSideSessionDelete="ServerSideSessionDelete",jt}(N||{}),fe=l(5312),oe=l(1410),R=l(1360),Pe=l(2947),Te=l(5424),We=l(5022),rt=l(5794),lt=l(4754),vt=l(7499),je=l(9196),Ye=l(6728),Ke=l(6406),it=l(3899),Ve=l(8698),Be=l(9550);function Xe(jt,Ai){if(1&jt&&(R.j41(0,"option",11),R.EFF(1),R.k0s()),2&jt){const Et=Ai.$implicit;R.Y8G("ngValue",Et),R.R7$(),R.JRh(Et)}}let Ue=(()=>{class jt{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(vn){return new(vn||jt)}}static{this.\u0275cmp=R.VBU({type:jt,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},standalone:!1,decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(vn,Wt){1&vn&&(R.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),R.bIt("click",function(){return Wt.toggle()}),R.k0s()()(),R.j41(5,"app-form-row",5),R.nrm(6,"input",6),R.k0s(),R.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),R.DNE(10,Xe,2,2,"option",10),R.k0s()()()()()),2&vn&&(R.Y8G("formGroup",Wt.parentForm),R.R7$(),R.FS9("formGroupName",Wt.webhookName),R.R7$(),R.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),R.R7$(),R.Y8G("id","WebhookEnabled"+Wt.webhookName)("isTraffic",!0)("isAlt",!1),R.R7$(),R.Y8G("id","WebhookEnabled"+Wt.webhookName),R.R7$(),R.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),R.R7$(2),R.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),R.R7$(3),R.Y8G("ngForOf",Wt.scopeNames))},dependencies:[w.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,Ve.Y,Be.m],encapsulation:2})}}return jt})();var ct=l(6303),st=l(7921),Qe=l(8762);const ne=jt=>[jt];function K(jt,Ai){if(1&jt&&(R.j41(0,"app-form-row",3),R.nrm(1,"app-readonly",2),R.k0s(),R.j41(2,"app-form-row",1),R.nrm(3,"app-readonly",2),R.k0s()),2&jt){const Et=R.XpG();R.Y8G("id","WebhookUrl"+Et.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),R.R7$(),R.Y8G("id","WebhookUrl"+Et.webhookName)("fieldType",Et.ReadOnlyFieldType.Single)("values",R.eq3(12,ne,Et.webhookValues.url)),R.R7$(),R.Y8G("id","WebhookScope"+Et.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),R.R7$(),R.Y8G("id","WebhookScope"+Et.webhookName)("fieldType",Et.ReadOnlyFieldType.Single)("values",R.eq3(14,ne,Et.webhookValues.scopeName))}}let de=(()=>{class jt{get ReadOnlyFieldType(){return ct.t}constructor(){}ngOnChanges(){this.webhookValues=new st.b(this.webhook)}static{this.\u0275fac=function(vn){return new(vn||jt)}}static{this.\u0275cmp=R.VBU({type:jt,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},standalone:!1,features:[R.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(vn,Wt){1&vn&&(R.j41(0,"div",0)(1,"app-form-row",1),R.nrm(2,"app-readonly",2),R.k0s(),R.DNE(3,K,4,16),R.k0s()),2&vn&&(R.R7$(),R.Y8G("id","WebhookEnabled"+Wt.webhookName)("label","Webhooks.EnableWebhook")("isLast",!Wt.webhook.enabled),R.R7$(),R.Y8G("id","WebhookEnabled"+Wt.webhookName)("fieldType",Wt.ReadOnlyFieldType.Single)("values",R.eq3(7,ne,Wt.webhookValues.enabled)),R.R7$(),R.vxM(Wt.webhook.enabled?3:-1))},dependencies:[Ve.Y,Qe.O],encapsulation:2})}}return jt})();const ge=["save"];function o(jt,Ai){if(1&jt&&(R.j41(0,"h2",5),R.EFF(1),R.nI1(2,"translate"),R.k0s(),R.nrm(3,"app-readonly-webhook",6)),2&jt){const Et=R.XpG(3);R.R7$(),R.JRh(R.bMT(2,3,"Webhooks.ServerSideSessionDeleteHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.ServerSideSessionDelete)("webhook",Et.webhooksForm.get(Et.webhookNames.ServerSideSessionDelete).value)}}function dt(jt,Ai){if(1&jt&&(R.j41(0,"div",0)(1,"h2",5),R.EFF(2),R.nI1(3,"translate"),R.k0s(),R.nrm(4,"app-readonly-webhook",6),R.j41(5,"h2",5),R.EFF(6),R.nI1(7,"translate"),R.k0s(),R.nrm(8,"app-readonly-webhook",6),R.j41(9,"h2",5),R.EFF(10),R.nI1(11,"translate"),R.k0s(),R.nrm(12,"app-readonly-webhook",6),R.DNE(13,o,4,5),R.k0s()),2&jt){const Et=R.XpG(2);R.R7$(2),R.JRh(R.bMT(3,10,"Webhooks.MultiFactorHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.MFAReset)("webhook",Et.webhooksForm.get(Et.webhookNames.MFAReset).value),R.R7$(2),R.JRh(R.bMT(7,12,"Webhooks.PasswordResetHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.PasswordReset)("webhook",Et.webhooksForm.get(Et.webhookNames.PasswordReset).value),R.R7$(2),R.JRh(R.bMT(11,14,"Webhooks.UserRegistrationHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.UserRegistration)("webhook",Et.webhooksForm.get(Et.webhookNames.UserRegistration).value),R.R7$(),R.vxM(Et.duendeEnvironment?13:-1)}}function gt(jt,Ai){if(1&jt&&(R.j41(0,"div",1)(1,"div")(2,"p",2),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.nrm(5,"p",3),R.nI1(6,"translate"),R.k0s()(),R.DNE(7,dt,14,16,"div",4)),2&jt){const Et=R.XpG();R.R7$(3),R.JRh(R.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),R.R7$(2),R.Y8G("innerHTML",R.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),R.npT),R.R7$(2),R.Y8G("ngIf",Et.webhookConfiguration)}}function qt(jt,Ai){if(1&jt&&(R.j41(0,"h2",5),R.EFF(1),R.nI1(2,"translate"),R.k0s(),R.nrm(3,"app-edit-webhook",12)),2&jt){const Et=R.XpG(3);R.R7$(),R.JRh(R.bMT(2,4,"Webhooks.ServerSideSessionDeleteHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.ServerSideSessionDelete)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm)}}function Tn(jt,Ai){if(1&jt&&(R.j41(0,"div",0)(1,"form",11)(2,"h2",5),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.nrm(5,"app-edit-webhook",12),R.j41(6,"h2",5),R.EFF(7),R.nI1(8,"translate"),R.k0s(),R.nrm(9,"app-edit-webhook",12),R.j41(10,"h2",5),R.EFF(11),R.nI1(12,"translate"),R.k0s(),R.nrm(13,"app-edit-webhook",12),R.DNE(14,qt,4,6),R.k0s()()),2&jt){const Et=R.XpG(2);R.R7$(),R.Y8G("formGroup",Et.webhooksForm),R.R7$(2),R.JRh(R.bMT(4,14,"Webhooks.MultiFactorHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.MFAReset)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm),R.R7$(2),R.JRh(R.bMT(8,16,"Webhooks.PasswordResetHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.PasswordReset)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm),R.R7$(2),R.JRh(R.bMT(12,18,"Webhooks.UserRegistrationHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.UserRegistration)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm),R.R7$(),R.vxM(Et.duendeEnvironment?14:-1)}}function Wn(jt,Ai){if(1&jt){const Et=R.RV6();R.DNE(0,Tn,15,20,"div",4),R.j41(1,"app-custom-modal",7),R.bIt("onCancel",function(){R.eBV(Et);const Wt=R.XpG();return R.Njj(Wt.cancelWebhookUpdate())})("onSave",function(){R.eBV(Et);const Wt=R.XpG();return R.Njj(Wt.acceptClientCreation())}),R.j41(2,"h2",8),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.j41(5,"p",9),R.EFF(6),R.nI1(7,"translate"),R.k0s()(),R.j41(8,"app-custom-modal",7),R.bIt("onCancel",function(){R.eBV(Et);const Wt=R.XpG();return R.Njj(Wt.cancelWebhookUpdate())})("onSave",function(){R.eBV(Et);const Wt=R.XpG();return R.Njj(Wt.acceptClientCreation())}),R.j41(9,"h2",8),R.EFF(10),R.nI1(11,"translate"),R.k0s(),R.j41(12,"p",9),R.EFF(13),R.nI1(14,"translate"),R.k0s()(),R.j41(15,"app-button-bar")(16,"button",10),R.bIt("click",function(){R.eBV(Et);const Wt=R.XpG();return R.Njj(Wt.processWebhookConfigurationUpdate())}),R.EFF(17),R.nI1(18,"translate"),R.k0s()()}if(2&jt){const Et=R.XpG();R.Y8G("ngIf",Et.webhookConfiguration),R.R7$(),R.Y8G("saveText","Common.Continue")("actions",Et.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",Et.clientCreationConfirmationModalId),R.R7$(2),R.JRh(R.bMT(4,15,"Common.Warning")),R.R7$(3),R.SpI(" ",R.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),R.R7$(2),R.Y8G("saveText","Common.Continue")("actions",Et.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",Et.clientDeletionConfirmationModalId),R.R7$(2),R.JRh(R.bMT(11,19,"Common.Warning")),R.R7$(3),R.SpI(" ",R.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),R.R7$(3),R.Y8G("disabled",Et.saveLock),R.R7$(),R.SpI(" ",R.bMT(18,23,"Common.Save")," ")}}let en=(()=>{class jt{constructor(Et,vn,Wt,Pn,Qi,Bt,ce,Ie,ae){this.activatedRoute=Et,this.errorService=vn,this.fb=Wt,this.webhookService=Pn,this.translate=Qi,this.toastr=Bt,this.modalService=ce,this.dialogService=Ie,this.uiConfig=ae,this.webhookNames=N,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[L.N.Save],this.isReadOnly=!1,this.duendeEnvironment=fe.c.authServer==oe.y.Duende}ngOnInit(){this.uiConfig.getConfig().pipe((0,Z.$)()).subscribe({next:Et=>{this.isReadOnly=!Et.webhookPersistence}}),this.activatedRoute.data.pipe((0,v.T)(Et=>Et?.webhookResolverObject)).subscribe({next:Et=>{this.webhookConfiguration=Et.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=Et.scopeNames,this.webhooksForm=this.fb.group({[N.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[N.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[N.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[N.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(vn=>{this.saveLock=!(this.webhooksForm.controls[N.MFAReset].valid&&this.webhooksForm.controls[N.PasswordReset].valid&&this.webhooksForm.controls[N.UserRegistration].valid&&this.webhooksForm.controls[N.ServerSideSessionDelete].valid)})},error:Et=>{this.errorService.handleError(Et)}})}createFormGroup(Et){return this.fb.group({url:[{value:Et.url,disabled:!Et.enabled},e.k0.required],scopeName:[{value:Et.scopeName,disabled:!Et.enabled}],enabled:[Et.enabled]})}processWebhookConfigurationUpdate(){const Et=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(Et)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(Et)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const Et=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(Et).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(vn=>{this.webhookConfiguration=vn,this.webhooksEnabled=this.checkWebhooksEnabled()},vn=>{this.errorService.handleError(vn)}),this.webhooksForm.markAsPristine()},vn=>{this.errorService.handleError(vn)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const Et=this.webhooksForm.getRawValue();return new te(Et.MfaReset,Et.PasswordReset,Et.UserRegistration,Et.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(Et){return Et.webhooks.PasswordReset.enabled||Et.webhooks.UserRegistration.enabled||Et.webhooks.MfaReset.enabled||Et.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(Et){return!(Et.webhooks.PasswordReset.enabled||Et.webhooks.UserRegistration.enabled||Et.webhooks.MfaReset.enabled||Et.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(vn){return new(vn||jt)(R.rXU(Pe.nX),R.rXU(Te.I),R.rXU(e.ze),R.rXU(We.x),R.rXU(p.c$),R.rXU(rt.tw),R.rXU(lt.B),R.rXU(vt.o),R.rXU(je.w))}}static{this.\u0275cmp=R.VBU({type:jt,selectors:[["app-manage-webhooks"]],viewQuery:function(vn,Wt){if(1&vn&&R.GBs(ge,5),2&vn){let Pn;R.mGM(Pn=R.lsd())&&(Wt.saveButtonRef=Pn.first)}},standalone:!1,decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(vn,Wt){1&vn&&(R.j41(0,"div",0),R.DNE(1,gt,8,7)(2,Wn,19,25),R.k0s(),R.nrm(3,"app-can-deactivate")),2&vn&&(R.R7$(),R.vxM(Wt.isReadOnly?1:2))},dependencies:[w.bT,e.qT,e.cb,e.j4,Ye.E,Ke.z,it.G,Ue,de,p.D9],encapsulation:2})}}return jt})();class Ln{}var ni=l(4549),mt=l(3165),Jt=l(9564);let he=(()=>{class jt{constructor(Et,vn){this.http=Et,this.headersService=vn,this.actionUrl="policy",this.headers=vn.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(Et){return this.http.put(this.actionUrl,Et,{headers:this.headers})}static{this.\u0275fac=function(vn){return new(vn||jt)(R.KVO(mt.Qq),R.KVO(Jt.m))}}static{this.\u0275prov=R.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();var ue=l(6801),P=l(7156),q=l(7384),De=l(7294),Ae=l(7778);class et{constructor(Ai,Et,vn){this.isDateTime=!1,this.type=Ai,this.value=Et,this.permission=vn}}var _t=l(7811),Ht=l(6536);const nn=["addPolicyModal"],wn=()=>({animated:!1,backdrop:"static"});function Kn(jt,Ai){if(1&jt&&(R.j41(0,"option"),R.EFF(1),R.k0s()),2&jt){const Et=Ai.$implicit;R.R7$(),R.SpI(" ",null==Et?null:Et.name," ")}}function ei(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"input",31),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG();return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.k0s()}if(2&jt){const Et=R.XpG();R.R50("ngModel",Et.value)}}function Ot(jt,Ai){if(1&jt&&(R.j41(0,"option"),R.EFF(1),R.k0s()),2&jt){const Et=Ai.$implicit;R.R7$(),R.SpI(" ",null==Et?null:Et.name," ")}}function Gn(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"div",11)(1,"select",32),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG();return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.DNE(2,Ot,2,1,"option",13),R.k0s()()}if(2&jt){const Et=R.XpG();R.R7$(),R.R50("ngModel",Et.value),R.R7$(),R.Y8G("ngForOf",Et.avaliableRoles)}}function Qt(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"input",31),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG();return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.k0s()}if(2&jt){const Et=R.XpG();R.R50("ngModel",Et.value)}}function Sn(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"input",33),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG();return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.k0s()}if(2&jt){const Et=R.XpG();R.R50("ngModel",Et.value)}}function In(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"div",11)(1,"select",32),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG();return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.j41(2,"option",34),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.j41(5,"option",35),R.EFF(6),R.nI1(7,"translate"),R.k0s()()()}if(2&jt){const Et=R.XpG();R.R7$(),R.R50("ngModel",Et.value),R.R7$(2),R.JRh(R.bMT(4,3,"Common.True")),R.R7$(3),R.JRh(R.bMT(7,5,"Common.False"))}}function rs(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"div",36)(1,"app-enum-claim-type-input",37),R.bIt("valueChanged",function(Wt){R.eBV(Et);const Pn=R.XpG();return R.Njj(Pn.value=Wt)}),R.k0s()()}if(2&jt){const Et=R.XpG();R.Y8G("id","value-for-"+Et.selectedClaimType.id),R.R7$(),R.Y8G("id","claimsFormInput")("typeId",Et.selectedClaimType.id)("hostingModal","addPolicyModal")("value",Et.value)}}function _i(jt,Ai){if(1&jt){const Et=R.RV6();R.qex(0),R.j41(1,"app-date-time",40),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG(2);return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.k0s(),R.bVm()}if(2&jt){const Et=R.XpG(2);R.R7$(),R.R50("ngModel",Et.value)}}function Fi(jt,Ai){if(1&jt){const Et=R.RV6();R.qex(0),R.j41(1,"app-date-time",41),R.mxI("ngModelChange",function(Wt){R.eBV(Et);const Pn=R.XpG(2);return R.DH7(Pn.value,Wt)||(Pn.value=Wt),R.Njj(Wt)}),R.k0s(),R.bVm()}if(2&jt){const Et=R.XpG(2);R.R7$(),R.R50("ngModel",Et.value),R.Y8G("displayType","date")}}function Ni(jt,Ai){if(1&jt&&(R.j41(0,"div",38),R.DNE(1,_i,2,1,"ng-container",39)(2,Fi,2,2,"ng-container",39),R.k0s()),2&jt){const Et=R.XpG();R.R7$(),R.Y8G("ngIf","birthdate"!=Et.claimType),R.R7$(),R.Y8G("ngIf","birthdate"==Et.claimType)}}function os(jt,Ai){if(1&jt&&(R.j41(0,"option",42),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&jt){const Et=Ai.$implicit;R.FS9("value",Et),R.R7$(),R.SpI(" ",R.bMT(2,2,"Permission."+Et)," ")}}let zn=(()=>{class jt{constructor(Et){this.toastr=Et,this.added=new R.bkB,this.addAnother=!1}keydown(Et){"Enter"===Et.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(Et=>Et.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const Et=new et(this.claimType,this.value,this.permission);this.added.next(Et),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(vn){return new(vn||jt)(R.rXU(rt.tw))}}static{this.\u0275cmp=R.VBU({type:jt,selectors:[["app-add-accesspolicy"]],viewQuery:function(vn,Wt){if(1&vn&&R.GBs(nn,7),2&vn){let Pn;R.mGM(Pn=R.lsd())&&(Wt.addPolicyModal=Pn.first)}},hostBindings:function(vn,Wt){1&vn&&R.bIt("keydown",function(Qi){return Wt.keydown(Qi)},!1,R.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},standalone:!1,decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(vn,Wt){if(1&vn){const Pn=R.RV6();R.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),R.EFF(6),R.nI1(7,"translate"),R.k0s(),R.j41(8,"button",6),R.bIt("click",function(){return R.eBV(Pn),R.Njj(Wt.hide())}),R.nrm(9,"span",7),R.j41(10,"span",8),R.EFF(11),R.nI1(12,"translate"),R.k0s()()(),R.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),R.mxI("ngModelChange",function(Bt){return R.eBV(Pn),R.DH7(Wt.claimType,Bt)||(Wt.claimType=Bt),R.Njj(Bt)}),R.bIt("ngModelChange",function(){return R.eBV(Pn),R.Njj(Wt.getClaimType())}),R.nrm(17,"option"),R.DNE(18,Kn,2,1,"option",13),R.k0s()()(),R.j41(19,"app-form-row",14),R.DNE(20,ei,1,1,"input",15)(21,Gn,3,2,"div",16)(22,Qt,1,1,"input",15)(23,Sn,1,1,"input",17)(24,In,8,7,"div",16)(25,rs,2,5,"div",18)(26,Ni,3,2,"div",19),R.k0s(),R.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),R.mxI("ngModelChange",function(Bt){return R.eBV(Pn),R.DH7(Wt.permission,Bt)||(Wt.permission=Bt),R.Njj(Bt)}),R.nrm(30,"option"),R.DNE(31,os,3,4,"option",22),R.k0s()()()(),R.nrm(32,"div",23),R.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),R.bIt("click",function(){return R.eBV(Pn),Wt.addPolicy(),R.Njj(Wt.hide())}),R.EFF(37),R.nI1(38,"translate"),R.k0s(),R.j41(39,"span",28)(40,"button",29),R.bIt("click",function(){return R.eBV(Pn),R.Njj(Wt.addAnotherPolicy())}),R.EFF(41),R.nI1(42,"translate"),R.k0s()()(),R.j41(43,"button",30),R.bIt("click",function(){return R.eBV(Pn),R.Njj(Wt.hide())}),R.EFF(44),R.nI1(45,"translate"),R.k0s()()()()()()}2&vn&&(R.Y8G("config",R.lJ4(37,wn)),R.R7$(6),R.JRh(R.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),R.R7$(5),R.JRh(R.bMT(12,29,"Common.Close")),R.R7$(3),R.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),R.R7$(2),R.R50("ngModel",Wt.claimType),R.R7$(2),R.Y8G("ngForOf",Wt.avaliableClaimTypes),R.R7$(),R.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==Wt.selectedClaimType?null:Wt.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),R.R7$(),R.Y8G("ngIf",null==Wt.claimType||""==Wt.claimType),R.R7$(),R.Y8G("ngIf","role"==Wt.claimType),R.R7$(),R.Y8G("ngIf","String"==(null==Wt.selectedClaimType?null:Wt.selectedClaimType.valueType)&&"role"!=Wt.claimType),R.R7$(),R.Y8G("ngIf","Int"==(null==Wt.selectedClaimType?null:Wt.selectedClaimType.valueType)&&"role"!=Wt.claimType),R.R7$(),R.Y8G("ngIf","Boolean"==(null==Wt.selectedClaimType?null:Wt.selectedClaimType.valueType)&&"role"!=Wt.claimType),R.R7$(),R.Y8G("ngIf","Enum"==(null==Wt.selectedClaimType?null:Wt.selectedClaimType.valueType)),R.R7$(),R.Y8G("ngIf","DateTime"==(null==Wt.selectedClaimType?null:Wt.selectedClaimType.valueType)&&"role"!=Wt.claimType),R.R7$(),R.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),R.R7$(2),R.R50("ngModel",Wt.permission),R.R7$(2),R.Y8G("ngForOf",Wt.avaliablePermissions),R.R7$(5),R.Y8G("disabled",!Wt.isValid()),R.R7$(),R.JRh(R.bMT(38,31,"Common.Add")),R.R7$(3),R.Y8G("disabled",!Wt.isValid()),R.R7$(),R.JRh(R.bMT(42,33,"Common.AddAndAdd")),R.R7$(3),R.JRh(R.bMT(45,35,"Common.Cancel")))},dependencies:[w.Sq,w.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,A.hZ,Ve.Y,_t.j,Ht.Z,p.D9],encapsulation:2})}}return jt})();var ms=l(1589);const xi=["deleteAccessPolicyModal"],wt=jt=>({"inactive disabled":jt}),Tt=(jt,Ai)=>Ai.type+Ai.value+Ai.permission;function xt(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"app-action-bar"),R.qex(1,9),R.j41(2,"button",10),R.bIt("click",function(){R.eBV(Et),R.XpG();const Wt=R.sdS(1);return R.Njj(Wt.show())}),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.bVm(),R.k0s()}2&jt&&(R.R7$(3),R.SpI(" ",R.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function Kt(jt,Ai){1&jt&&(R.j41(0,"div",5)(1,"div")(2,"p",11),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.nrm(5,"p",12),R.nI1(6,"translate"),R.k0s()()),2&jt&&(R.R7$(3),R.JRh(R.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),R.R7$(2),R.Y8G("innerHTML",R.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),R.npT))}function cn(jt,Ai){1&jt&&R.nrm(0,"app-simple-loader")}function ii(jt,Ai){1&jt&&(R.j41(0,"th",17)(1,"span",18),R.EFF(2),R.nI1(3,"translate"),R.k0s()()),2&jt&&(R.R7$(2),R.JRh(R.bMT(3,1,"Common.Actions")))}function Ei(jt,Ai){if(1&jt&&(R.j41(0,"td",24),R.EFF(1),R.k0s()),2&jt){const Et=R.XpG().$implicit;R.R7$(),R.SpI(" ",Et.value," ")}}function Ii(jt,Ai){if(1&jt&&(R.j41(0,"td",24),R.EFF(1),R.nI1(2,"standardDate"),R.k0s()),2&jt){const Et=R.XpG().$implicit;R.R7$(),R.SpI(" ",R.bMT(2,1,Et.value)," ")}}function Ti(jt,Ai){1&jt&&(R.j41(0,"span",23),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&jt&&(R.R7$(),R.SpI(" ",R.bMT(2,1,"Common.Reserved")," "))}function Dn(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"button",26),R.bIt("click",function(){R.eBV(Et);const Wt=R.XpG(2).$implicit,Pn=R.XpG(3);return R.Njj(Pn.openDeletePolicyConfirmation(Wt.type,Wt.value,Wt.permission))}),R.nrm(1,"span",27),R.j41(2,"span",18),R.EFF(3),R.nI1(4,"translate"),R.k0s()()}2&jt&&(R.R7$(3),R.SpI(" ",R.bMT(4,1,"Common.Remove.Title")," "))}function Bi(jt,Ai){if(1&jt&&(R.j41(0,"td"),R.DNE(1,Dn,5,3,"button",25),R.k0s()),2&jt){const Et=R.XpG().$implicit,vn=R.XpG(3);R.R7$(),R.vxM(vn.isAdminUiAdmin(Et)?-1:1)}}function Ui(jt,Ai){if(1&jt&&(R.j41(0,"tr",19)(1,"td",20)(2,"b"),R.EFF(3),R.k0s()(),R.DNE(4,Ei,2,1,"td",21)(5,Ii,3,3,"ng-template",null,2,R.C5r),R.j41(7,"td",22),R.EFF(8),R.nI1(9,"translate"),R.k0s(),R.j41(10,"td"),R.DNE(11,Ti,3,3,"span",23),R.k0s(),R.DNE(12,Bi,2,1,"td"),R.k0s()),2&jt){const Et=Ai.$implicit,vn=R.sdS(6),Wt=R.XpG(3);R.Y8G("ngClass",R.eq3(9,wt,!Wt.persistenceSetup||Wt.isAdminUiAdmin(Et))),R.R7$(3),R.JRh(Et.type),R.R7$(),R.Y8G("ngIf",!Et.isDateTime)("ngIfElse",vn),R.R7$(4),R.SpI(" ",R.bMT(9,7,"Permission."+Et.permission)," "),R.R7$(3),R.vxM(Wt.isAdminUiAdmin(Et)?11:-1),R.R7$(),R.vxM(Wt.persistenceSetup?12:-1)}}function zi(jt,Ai){if(1&jt&&(R.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",14),R.EFF(4),R.nI1(5,"translate"),R.k0s(),R.j41(6,"th",15),R.EFF(7),R.nI1(8,"translate"),R.k0s(),R.j41(9,"th",16),R.EFF(10),R.nI1(11,"translate"),R.k0s(),R.j41(12,"th",17)(13,"span",18),R.EFF(14),R.nI1(15,"translate"),R.k0s()(),R.DNE(16,ii,4,3,"th",17),R.k0s()(),R.j41(17,"tbody"),R.Z7z(18,Ui,13,11,"tr",19,Tt),R.k0s(),R.nrm(20,"tbody"),R.k0s()),2&jt){const Et=R.XpG(2);R.R7$(4),R.JRh(R.bMT(5,5,"Settings.AccessPolicy.ClaimType")),R.R7$(3),R.JRh(R.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),R.R7$(3),R.JRh(R.bMT(11,9,"Settings.AccessPolicy.Permission")),R.R7$(4),R.JRh(R.bMT(15,11,"Common.Reserved")),R.R7$(2),R.vxM(Et.persistenceSetup?16:-1),R.R7$(2),R.Dyx(null==Et.accessPolicy?null:Et.accessPolicy.policyClaims)}}function ls(jt,Ai){if(1&jt&&R.DNE(0,zi,21,13,"table",13),2&jt){const Et=R.XpG();R.Y8G("ngIf",(null==Et.accessPolicy||null==Et.accessPolicy.policyClaims?null:Et.accessPolicy.policyClaims.length)>0&&!Et.isLoading)}}function ut(jt,Ai){if(1&jt&&R.nrm(0,"app-pager",7),2&jt){const Et=R.XpG();R.Y8G("totalResults",null==Et.accessPolicy||null==Et.accessPolicy.policyClaims?null:Et.accessPolicy.policyClaims.length)}}function Rt(jt,Ai){if(1&jt){const Et=R.RV6();R.j41(0,"app-button-bar")(1,"button",28),R.bIt("click",function(){R.eBV(Et);const Wt=R.XpG();return R.Njj(Wt.updatePolicy())}),R.EFF(2),R.nI1(3,"translate"),R.k0s()()}if(2&jt){const Et=R.XpG();R.R7$(),R.Y8G("disabled",Et.saveDisabled),R.R7$(),R.SpI(" ",R.bMT(3,2,"Common.Save")," ")}}let yt=(()=>{class jt{constructor(Et,vn,Wt,Pn,Qi,Bt,ce,Ie){this.accessPolicyService=Et,this.translate=vn,this.toastr=Wt,this.errorService=Pn,this.healthCheckService=Qi,this.dialogService=Bt,this.activatedRoute=ce,this.configService=Ie,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(Et=>{this.accessPolicyResolverData=Et.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const vn=this.accessPolicyResolverData.accessPolicy.policyClaims.find(Wt=>"role"===Wt.type&&"AdminUI Administrator"===Wt.value&&"All"===Wt.permission);this.accessPolicy=new Ln,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((Wt,Pn)=>Wt===vn?-1:Pn===vn?1:0),this.accessPolicy.policyClaims.forEach(Wt=>{ni.c9.fromISO(Wt.value).isValid&&(Wt.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((Wt,Pn)=>Wt.name.toUpperCase()<Pn.name.toUpperCase()?-1:Wt.name.toUpperCase()>Pn.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:Et=>{this.persistenceSetup=Et.policyPersistence}})}isAdminUiAdmin(Et){return"role"===Et.type&&"AdminUI Administrator"===Et.value&&"All"===Et.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(Et=>Et.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(Et){this.hasChanged=!0,this.accessPolicy.policyClaims.push(Et),this.warnToSave()}openDeletePolicyConfirmation(Et,vn,Wt){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(Pn=>Pn.type===Et&&Pn.value===vn&&Pn.permission===Wt),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(Et){this.accessPolicy.policyClaims.splice(Et,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(Et=>{this.accessPolicy=Et;const vn=this.accessPolicy.policyClaims.find(Wt=>"role"===Wt.type&&"AdminUI Administrator"===Wt.value&&"All"===Wt.permission);this.accessPolicy.policyClaims.sort((Wt,Pn)=>Wt===vn?-1:Pn===vn?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},Et=>{"409"===Et.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(Et)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(vn){return new(vn||jt)(R.rXU(he),R.rXU(p.c$),R.rXU(rt.tw),R.rXU(Te.I),R.rXU(ue.M),R.rXU(vt.o),R.rXU(Pe.nX),R.rXU(je.w))}}static{this.\u0275cmp=R.VBU({type:jt,selectors:[["app-update-accesspolicy"]],viewQuery:function(vn,Wt){if(1&vn&&R.GBs(xi,7),2&vn){let Pn;R.mGM(Pn=R.lsd())&&(Wt.deleteAccessPolicyModal=Pn.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},standalone:!1,decls:12,vars:12,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"]],template:function(vn,Wt){if(1&vn){const Pn=R.RV6();R.j41(0,"app-add-accesspolicy",3,0),R.bIt("added",function(Bt){return R.eBV(Pn),R.Njj(Wt.addPolicy(Bt))}),R.k0s(),R.j41(2,"div",4),R.DNE(3,xt,5,3,"app-action-bar")(4,Kt,7,6,"div",5)(5,cn,1,0,"app-simple-loader")(6,ls,1,1,"table",6)(7,ut,1,1,"app-pager",7),R.k0s(),R.DNE(8,Rt,4,4,"app-button-bar"),R.j41(9,"app-delete-confirmation-modal",8,1),R.bIt("delete",function(){return R.eBV(Pn),R.Njj(Wt.removePolicy(Wt.indexToDelete))}),R.k0s(),R.nrm(11,"app-can-deactivate")}if(2&vn){const Pn=R.sdS(10);R.Y8G("avaliableClaimTypes",Wt.avaliableClaimTypes)("avaliableRoles",Wt.avaliableRoles)("avaliablePermissions",Wt.avaliablePermissions)("accessPolicy",Wt.accessPolicy),R.R7$(3),R.vxM(Wt.persistenceSetup&&!Wt.isLoading?3:-1),R.R7$(),R.vxM(Wt.persistenceSetup?-1:4),R.R7$(),R.vxM(Wt.isLoading?5:-1),R.R7$(),R.vxM((null==Wt.accessPolicy||null==Wt.accessPolicy.policyClaims?null:Wt.accessPolicy.policyClaims.length)>0&&!Wt.isLoading?6:-1),R.R7$(),R.vxM((null==Wt.accessPolicy||null==Wt.accessPolicy.policyClaims?null:Wt.accessPolicy.policyClaims.length)>0&&!Wt.isLoading?7:-1),R.R7$(),R.vxM(Wt.persistenceSetup?8:-1),R.R7$(),R.Y8G("modalId",Pn)("destructive",!1)}},dependencies:[w.YU,w.bT,Ye.E,P.B,q.d,De.n,Ke.z,Ae.w,zn,p.D9,ms.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return jt})();var tn=l(7468);class Vn{}var on=l(526),Xn=l(7773),qn=l(3519);let Gt=(()=>{class jt{constructor(Et,vn,Wt,Pn,Qi){this.claimTypeService=Et,this.permissionService=vn,this.accessPolicyService=Wt,this.rolesService=Pn,this.errorService=Qi}resolve(){const Et=this.permissionService.getAvaliablePermissions(),vn=this.accessPolicyService.getAccessPolicy(),Wt=this.claimTypeService.getClaimTypes(),Pn=this.rolesService.getRoles();return(0,tn.p)([Et,vn,Wt,Pn]).pipe((0,v.T)(([Bt,ce,Ie,ae])=>{const be=new Vn;return be.permissions=Bt,be.claimTypes=Ie,be.accessPolicy=ce,be.roles=ae,be},Bt=>{this.errorService.handleError(Bt)}))}static{this.\u0275fac=function(vn){return new(vn||jt)(R.KVO(on.X),R.KVO(Xn.n),R.KVO(he),R.KVO(qn.P),R.KVO(Te.I))}}static{this.\u0275prov=R.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();var oi=l(9437),zt=l(3485);let Un=(()=>{class jt{constructor(Et,vn,Wt){this.webhookService=Et,this.baseWebhookScopesService=vn,this.errorService=Wt}resolve(){return(0,tn.p)({webhooks:this.webhookService.getWebhooks(),scopes:this.baseWebhookScopesService.getScopes()}).pipe((0,v.T)(Et=>{const vn=new fn;return vn.webhookConfiguration=Et.webhooks,vn.scopeNames=Et.scopes,vn}),(0,oi.W)(Et=>(this.errorService.handleError(Et),Et)))}static{this.\u0275fac=function(vn){return new(vn||jt)(R.KVO(We.x),R.KVO(zt.L),R.KVO(Te.I))}}static{this.\u0275prov=R.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();class fn{}var Qn=l(8416);const vi=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:yt,canDeactivate:[Qn.M],resolve:{accessPolicyObject:Gt}},{path:"webhooks",component:en,canDeactivate:[Qn.M],resolve:{webhookResolverObject:Un}}];let Fe=(()=>{class jt{static{this.\u0275fac=function(vn){return new(vn||jt)}}static{this.\u0275mod=R.$C({type:jt})}static{this.\u0275inj=R.G2t({imports:[p.h.forChild({extend:!0}),a.iI.forChild(vi),p.h,a.iI]})}}return jt})();var Ze=l(7883);let ht=(()=>{class jt{constructor(Et,vn){this.http=Et,this.headersService=vn,this.actionUrl="signingkey",this.headers=vn.setHeaders()}getKeys(){const Et=new mt.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:Et})}deleteKey(Et){return this.http.delete(`${this.actionUrl}/${Et}`,{headers:this.headers})}static{this.\u0275fac=function(vn){return new(vn||jt)(R.KVO(mt.Qq),R.KVO(Jt.m))}}static{this.\u0275prov=R.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}return jt})();var Ut=l(9812);let Xt=(()=>{class jt{static{this.\u0275fac=function(vn){return new(vn||jt)}}static{this.\u0275mod=R.$C({type:jt})}static{this.\u0275inj=R.G2t({providers:[Gt,he,Ze.i,on.X,qn.P,ht,Un,Ut.I],imports:[Fe,w.MD,e.YN,e.X1,A.Q_,p.h,m.Y,a.iI,D.A,S.p,t.XE,g.m,k.h,Y.i,u.c,E.c,B.E,V.w,F.N,z.Y,W.W,y.ClaimTypesModule,M.N]})}}return jt})();var Mn=l(4252),hi=l(8577);const ri=["deleteKeyModal"],Ki=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:yt,canDeactivate:[Qn.M],resolve:{accessPolicyObject:Gt}},{path:"webhooks",component:en,canDeactivate:[Qn.M],resolve:{webhookResolverObject:Un}},{path:"keys",component:(()=>{class jt{constructor(Et,vn,Wt,Pn){this.keyService=Et,this.toastr=vn,this.translate=Wt,this.dataTableService=Pn,this.keysDataTableActions=[Mn.AA.Delete],this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Et=>{this.startDeleteKey(Et)})}getSerializedKeys(){this.keyService.getKeys().subscribe(Et=>{this.keys=Et})}startDeleteKey(Et){this.keyToDelete=this.keys[Et],this.deleteModal.show()}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).subscribe({next:Et=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.deleteModal.closeModal()},error:Et=>{this.toastr.error(this.translate.instant("Settings.Keys.DeleteKeyError",{keyId:this.keyToDelete.id}),this.translate.instant("Notifications.Failed"))}})}resetDeleteModal(){this.keyToDelete=null}static{this.\u0275fac=function(vn){return new(vn||jt)(R.rXU(ht),R.rXU(rt.tw),R.rXU(p.c$),R.rXU(Ut.I))}}static{this.\u0275cmp=R.VBU({type:jt,selectors:[["app-list-keys"]],viewQuery:function(vn,Wt){if(1&vn&&R.GBs(ri,7),2&vn){let Pn;R.mGM(Pn=R.lsd())&&(Wt.deleteModal=Pn.first)}},standalone:!1,decls:9,vars:28,consts:[["deleteKeyModal",""],["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"delete","close","modalId","title","resourceName"]],template:function(vn,Wt){if(1&vn){const Pn=R.RV6();R.j41(0,"div",1)(1,"app-data-table",2),R.nrm(2,"app-data-table-column",3)(3,"app-data-table-column",3)(4,"app-data-table-column",3)(5,"app-data-table-column",4)(6,"app-data-table-column",5),R.k0s()(),R.j41(7,"app-delete-confirmation-modal",6,0),R.bIt("delete",function(){return R.eBV(Pn),R.Njj(Wt.deleteKey())})("close",function(){return R.eBV(Pn),R.Njj(Wt.resetDeleteModal())}),R.k0s()}2&vn&&(R.R7$(),R.Y8G("rows",Wt.keys)("actions",Wt.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),R.R7$(),R.Y8G("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),R.R7$(),R.Y8G("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),R.R7$(),R.Y8G("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),R.R7$(),R.Y8G("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),R.R7$(),R.Y8G("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),R.R7$(),R.Y8G("modalId",Wt.deleteModalId)("title","Settings.Keys.DeleteKey")("resourceName",null==Wt.keyToDelete?null:Wt.keyToDelete.id))},dependencies:[Mn.up,hi.w,Ae.w],encapsulation:2})}}return jt})(),canDeactivate:[Qn.M]}];let Ji=(()=>{class jt{static{this.\u0275fac=function(vn){return new(vn||jt)}}static{this.\u0275mod=R.$C({type:jt})}static{this.\u0275inj=R.G2t({imports:[p.h.forChild({extend:!0}),a.iI.forChild(Ki),p.h,a.iI]})}}return jt})(),Os=(()=>{class jt{static{this.\u0275fac=function(vn){return new(vn||jt)}}static{this.\u0275mod=R.$C({type:jt})}static{this.\u0275inj=R.G2t({providers:[ht],imports:[w.MD,e.YN,e.X1,A.Q_,p.h,m.Y,a.iI,D.A,S.p,t.XE,g.m,k.h,Y.i,u.c,E.c,B.E,V.w,F.N,z.Y,W.W,y.ClaimTypesModule,M.N,Xt,Ji]})}}return jt})()},6365:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>p});var t=l(1397),a=l(3669);function p(A=1/0){return(0,t.Z)(a.D,A)}},6406:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>A});var t=l(1360);const a=["*",[["","right",""]]],p=["*","[right]"];let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-button-bar"]],standalone:!1,ngContentSelectors:p,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(D,S){1&D&&(t.NAR(a),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.SdG(4),t.k0s(),t.SdG(5,1),t.k0s()()())},encapsulation:2})}}return e})()},6411:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>t});class t{constructor(p){this.dialogService=p}canDeactivate(){return!this.unsavedChanges||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(p=>{p&&this.onDeactivate()}),this.dialogService.eventStream)}}},6450:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>A});var t=l(6354);const{isArray:a}=Array;function A(e){return(0,t.T)(w=>function p(e,w){return a(w)?e(...w):e(w)}(e,w))}},6494:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>a});var t=l(5435);class a extends t.if{constructor(A,e,w,m,D,S){super(A,e,w),this.activateRoute=m,this.securityService=D,this.router=S,this.parentRoute=!1}get hasEditPermission(){const w=this.securityService.userPermissions;return!(!w||0===w.length)&&((this.parentRoute?this.activateRoute.parent:this.activateRoute).snapshot.data?.editPermissions??[]).findIndex(m=>w.includes(m))>=0}navigate(A,e){let w=this.parentRoute?[".."]:[];(!this.hasEditPermission||this.resourceIsReadOnly(A))&&w.push("view"),this.router.navigate([...w,encodeURIComponent(e)],{relativeTo:this.activateRoute})}}},6520:(ot,ve,l)=>{"use strict";l.d(ve,{C:()=>y});var t=l(1360);class a{constructor(){this.key="",this.value=""}}class p extends a{constructor(){super()}}var A=l(4252),e=l(1258),w=l(5794),m=l(8018),D=l(4754),S=l(9812),g=l(8434),k=l(9417),Y=l(8577),u=l(7294),E=l(3899),B=l(8698);const V=["addButton"];function F(z,Z){if(1&z){const v=t.RV6();t.j41(0,"app-action-bar"),t.qex(1,5),t.j41(2,"button",6,0),t.bIt("click",function(){t.eBV(v);const J=t.XpG();return t.Njj(J.openAddModal())}),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.bVm(),t.k0s()}2&z&&(t.R7$(2),t.Y8G("id","addClaim"),t.R7$(2),t.SpI(" ",t.bMT(5,2,"Clients.Properties.AddProperty")," "))}function M(z,Z){if(1&z){const v=t.RV6();t.j41(0,"app-custom-modal",7),t.bIt("onCancel",function(){t.eBV(v);const J=t.XpG();return t.Njj(J.closeAddAndReset())})("onSave",function(){t.eBV(v);const J=t.XpG();return t.Njj(J.addProperty())}),t.j41(1,"app-form-row",8)(2,"input",9),t.mxI("ngModelChange",function(J){t.eBV(v);const te=t.XpG();return t.DH7(te.addProp.key,J)||(te.addProp.key=J),t.Njj(J)}),t.k0s()(),t.j41(3,"app-form-row",10)(4,"input",11),t.mxI("ngModelChange",function(J){t.eBV(v);const te=t.XpG();return t.DH7(te.addProp.value,J)||(te.addProp.value=J),t.Njj(J)}),t.k0s()()()}if(2&z){const v=t.XpG();t.Y8G("title","Clients.Properties.AddProperty")("modalId",v.addModalId)("actions",v.addModalActions)("addDisabled",v.addProp.key.length<1||v.addProp.value.length<1),t.R7$(),t.Y8G("label","Common.Key")("id","propertyAddKey"),t.R7$(),t.R50("ngModel",v.addProp.key),t.R7$(),t.Y8G("label","Common.Value")("id","propertyAddValue")("isLast",!0),t.R7$(),t.R50("ngModel",v.addProp.value)}}function W(z,Z){if(1&z){const v=t.RV6();t.j41(0,"app-custom-modal",7),t.bIt("onCancel",function(){t.eBV(v);const J=t.XpG();return t.Njj(J.closeModalAndReset())})("onSave",function(){t.eBV(v);const J=t.XpG();return t.Njj(J.saveEdit())}),t.j41(1,"app-form-row",8)(2,"input",12),t.mxI("ngModelChange",function(J){t.eBV(v);const te=t.XpG();return t.DH7(te.editProp.key,J)||(te.editProp.key=J),t.Njj(J)}),t.k0s()(),t.j41(3,"app-form-row",10)(4,"input",13),t.mxI("ngModelChange",function(J){t.eBV(v);const te=t.XpG();return t.DH7(te.editProp.value,J)||(te.editProp.value=J),t.Njj(J)}),t.k0s()()()}if(2&z){const v=t.XpG();t.Y8G("title","Clients.Properties.EditProperty")("modalId",v.editModalId)("actions",v.editModalActions)("addDisabled",v.editProp.key.length<1||v.editProp.value.length<1),t.R7$(),t.Y8G("label","Common.Key")("id","propertyEditKey"),t.R7$(),t.R50("ngModel",v.editProp.key),t.R7$(),t.Y8G("label","Common.Value")("id","propertyEditValue")("isLast",!0),t.R7$(),t.R50("ngModel",v.editProp.value)}}let y=(()=>{class z{set properties(v){this._properties=v||[]}get properties(){return this._properties}set isReadOnly(v){this._isReadOnly=v||!1}get isReadOnly(){return this._isReadOnly}set modalId(v){this._addModalId="add_"+v,this._editModalId="edit_"+v}get addModalId(){return this._addModalId}get editModalId(){return this._editModalId}constructor(v,L,J,te){this.toastr=v,this.translate=L,this.modalService=J,this.dataTableService=te,this.propertiesChanged=new t.bkB,this.addProp=new a,this.editing=!1,this.editProp=new p,this.propertyDataTableActions=[A.AA.Delete,A.AA.Select],this.addModalActions=[e.N.Save],this.editModalActions=[e.N.Save],this._properties=[]}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(v=>{this.deleteProperty(v)})}ngOnDestroy(){this.dtsSubscription?.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}closeAddAndReset(){this.addProp=new a,this.modalService.hideById(this.addModalId)}editProperty(v){this.editProp=JSON.parse(JSON.stringify(v.data)),this.editProp.originalIndex=this.properties.indexOf(v.data),this.editing=!0,this.modalService.showById(this.editModalId,v.element)}closeModalAndReset(){this.editProp=new p,this.editing=!1,this.modalService.hideById(this.editModalId)}saveEdit(){const v=this.properties.slice(),L=v[this.editProp.originalIndex];L.key=this.editProp.key,L.value=this.editProp.value,this.updateProperties(v),this.closeModalAndReset()}addProperty(){if(this.properties.find(L=>L.key===this.addProp.key))return void this.toastr.error(this.translate.instant("Clients.UnableToAddProperty"),this.translate.instant("Notifications.Error"));if(null==this.addProp.key||""===this.addProp.key.trim())return void this.toastr.error("Key is Invalid",this.translate.instant("Notifications.Error"));if(null==this.addProp.value||""===this.addProp.value.trim())return void this.toastr.error("Value is Invalid",this.translate.instant("Notifications.Error"));const v=this.properties.slice();v.push(this.addProp),this.updateProperties(v),this.addProp=new a}deleteProperty(v){const L=this.properties.slice();L.splice(v,1),this.updateProperties(L)}updateProperties(v){this.properties=v,this.propertiesChanged.emit(this.properties)}static{this.\u0275fac=function(L){return new(L||z)(t.rXU(w.tw),t.rXU(m.c$),t.rXU(D.B),t.rXU(S.I))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["app-properties-editor"]],viewQuery:function(L,J){if(1&L&&t.GBs(V,5),2&L){let te;t.mGM(te=t.lsd())&&(J.addButtonRef=te.first)}},inputs:{properties:"properties",isReadOnly:"isReadOnly",modalId:"modalId"},outputs:{propertiesChanged:"propertiesChanged"},standalone:!1,decls:6,vars:15,consts:[["addButton",""],[4,"ngIf"],[3,"title","modalId","actions","addDisabled","onCancel","onSave",4,"ngIf"],[3,"onSelect","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses","cellClasses"],["right",""],[1,"tw-btn-success",3,"click","id"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"label","id"],["id","propertyAddKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],[3,"label","id","isLast"],["id","propertyAddValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],["id","propertyEditKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],["id","propertyEditValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"]],template:function(L,J){1&L&&(t.DNE(0,F,6,4,"app-action-bar",1)(1,M,5,11,"app-custom-modal",2),t.j41(2,"app-data-table",3),t.bIt("onSelect",function(N){return J.editProperty(N)}),t.nrm(3,"app-data-table-column",4)(4,"app-data-table-column",4),t.k0s(),t.DNE(5,W,5,11,"app-custom-modal",2)),2&L&&(t.Y8G("ngIf",!J.isReadOnly),t.R7$(),t.Y8G("ngIf",!J.isReadOnly),t.R7$(),t.Y8G("isReadOnly",J.isReadOnly)("rows",J.properties)("norowslabel","Clients.Properties.None")("actions",J.propertyDataTableActions),t.R7$(),t.Y8G("prop","key")("title","Common.Key")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),t.R7$(),t.Y8G("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),t.R7$(),t.Y8G("ngIf",!J.isReadOnly))},dependencies:[g.bT,k.me,k.BC,k.vS,A.up,Y.w,u.n,E.G,B.Y,m.D9],encapsulation:2})}}return z})()},6536:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>M,e:()=>F});var t=l(1360),a=l(9417),p=l(4549),A=l(7263),e=l(8434);function w(W,y){1&W&&t.eu8(0)}function m(W,y){if(1&W&&(t.j41(0,"div",4),t.DNE(1,w,1,0,"ng-container",5),t.k0s()),2&W){t.XpG();const z=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",z)}}function D(W,y){1&W&&t.eu8(0)}function S(W,y){1&W&&t.eu8(0)}function g(W,y){if(1&W&&(t.j41(0,"div",6)(1,"div",7),t.DNE(2,D,1,0,"ng-container",5),t.k0s(),t.j41(3,"div",8),t.DNE(4,S,1,0,"ng-container",5),t.k0s()()),2&W){t.XpG();const z=t.sdS(5),Z=t.sdS(7);t.R7$(2),t.Y8G("ngTemplateOutlet",Z),t.R7$(2),t.Y8G("ngTemplateOutlet",z)}}function k(W,y){1&W&&t.eu8(0)}function Y(W,y){if(1&W&&(t.j41(0,"div",6),t.DNE(1,k,1,0,"ng-container",5),t.k0s()),2&W){t.XpG();const z=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",z)}}function u(W,y){if(1&W&&(t.j41(0,"option",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&W){const z=y.index;t.Y8G("value",z),t.R7$(),t.JRh(t.i5U(2,2,z,"2.0"))}}function E(W,y){if(1&W&&(t.j41(0,"option",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&W){const z=y.index;t.Y8G("value",z),t.R7$(),t.JRh(t.i5U(2,2,z,"2.0"))}}function B(W,y){if(1&W){const z=t.RV6();t.j41(0,"label",9),t.EFF(1,"Hours"),t.k0s(),t.j41(2,"div",10)(3,"select",11),t.bIt("ngModelChange",function(v){t.eBV(z);const L=t.XpG();return t.Njj(L.onHoursChange(v))}),t.j41(4,"option",12),t.EFF(5,"HH"),t.k0s(),t.DNE(6,u,3,5,"option",13),t.k0s()(),t.j41(7,"span",14),t.EFF(8,":"),t.k0s(),t.j41(9,"label",9),t.EFF(10,"Minutes"),t.k0s(),t.j41(11,"div",10)(12,"select",11),t.bIt("ngModelChange",function(v){t.eBV(z);const L=t.XpG();return t.Njj(L.onMinutesChange(v))}),t.j41(13,"option",12),t.EFF(14,"MM"),t.k0s(),t.DNE(15,E,3,5,"option",13),t.k0s()()}if(2&W){const z=t.XpG();t.Y8G("for",z.id+"-time-hours"),t.R7$(3),t.Y8G("id",z.id+"-time-hours")("ngModel",z.hours),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Y8G("ngForOf",z.counter(23)),t.R7$(3),t.Y8G("for",z.id+"-time-minutes"),t.R7$(3),t.Y8G("id",z.id+"-time-minutes")("ngModel",z.minutes),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Y8G("ngForOf",z.counter(59))}}function V(W,y){if(1&W){const z=t.RV6();t.j41(0,"input",16),t.bIt("ngModelChange",function(v){t.eBV(z);const L=t.XpG();return t.Njj(L.onDateChange(v))})("keyup",function(v){t.eBV(z);const L=t.XpG();return t.Njj(L.onKeyUp(v))}),t.k0s()}if(2&W){const z=t.XpG();t.Y8G("id",z.id+"-date")("ngModel",z.stringDate),t.BMQ("required",z.required?"":null)("min",z.minDate)("max",z.maxDate)}}var F=function(W){return W.Date="date",W.Time="time",W.DateTime="datetime",W}(F||{});let M=(()=>{class W{constructor(){this.id=(0,A.Nl)(),this.displayType=F.DateTime,this.required=!1,this.disabled=!1,this.keyup=new t.bkB,this.onChange=z=>{},this.onTouched=()=>{}}set value(z){this.setDate(z)}set min(z){this.minDate=this.toMinMaxDateString(z)}set max(z){this.maxDate=this.toMinMaxDateString(z)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(z){this.setDate(z)}registerOnChange(z){this.onChange=z}registerOnTouched(z){this.onTouched=z}setDisabledState(z){this.disabled=z}get opacity(){return this.disabled?.25:1}validate(z){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(z){this.keyup.emit(z)}onHoursChange(z){this.date=this.date?this.date.set({hour:z}):p.c9.now().set({hour:z}),this.onChange(this.date.toString())}onMinutesChange(z){this.date=this.date?this.date.set({minute:z}):p.c9.now().set({minute:z}),this.onChange(this.date.toString())}onDateChange(z){this.stringDate=z;let Z=p.c9.fromFormat(z,"yyyy-MM-dd");Z.isValid&&(this.date=this.date?this.date.set({year:Z.year,month:Z.month,day:Z.day}):Z,this.onChange(this.date.toString()))}counter(z){return new Array(z+1)}setDate(z){if(z){if(z instanceof p.c9&&(this.date=z),"string"==typeof z){const Z=p.c9.fromISO(z);this.date=Z.isValid?Z:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(z){let Z;return Z=z instanceof p.c9?z:p.c9.fromISO(z.toString()),Z.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(Z){return new(Z||W)}}static{this.\u0275cmp=t.VBU({type:W,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(Z,v){2&Z&&t.xc7("opacity",v.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},standalone:!1,features:[t.Jv_([{provide:a.kq,useExisting:(0,t.Rfq)(()=>W),multi:!0},{provide:a.cz,useExisting:(0,t.Rfq)(()=>W),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(Z,v){1&Z&&(t.j41(0,"div"),t.DNE(1,m,2,1,"div",2)(2,g,5,2,"div",3)(3,Y,2,1,"div",3)(4,B,16,10,"ng-template",null,0,t.C5r)(6,V,1,5,"ng-template",null,1,t.C5r),t.k0s()),2&Z&&(t.R7$(),t.Y8G("ngIf","time"==v.displayType),t.R7$(),t.Y8G("ngIf","datetime"==v.displayType),t.R7$(),t.Y8G("ngIf","date"==v.displayType))},dependencies:[e.Sq,e.bT,e.T3,a.xH,a.y7,a.me,a.wz,a.BC,a.vS,e.QX],encapsulation:2})}}return W})()},6589:ot=>{ot.exports={options:{usePureJavaScript:!1}}},6599:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>w});var t=l(8434),a=l(1683),p=l(8018),A=l(9417),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,A.YN,a.Y,p.h]})}}return m})()},6609:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>w});var t=l(3165),a=l(6354),p=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.actionUrl="DynamicAuthentication",this.headers=g.setHeaders()}get(S,g,k,Y){let u=new t.Nl;return(0,p.gP)(S)||(u=u.append("scheme",S)),g&&(u=u.append("page",g)),k&&(u=u.append("pageSize",k)),(0,p.gP)(Y)||(u=u.append("filters",Y)),this.http.get(this.actionUrl,{headers:this.headers,params:u})}createDynamicAuth(S){return this.http.post(this.actionUrl,S,{headers:this.headers})}getDynamicAuth(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}updateDynamicAuth(S){return this.http.put(`${this.actionUrl}/${S.scheme}`,S,{headers:this.headers})}deleteDynamicAuth(S){return this.http.delete(`${this.actionUrl}/${S}`,{headers:this.headers})}replaceSigningCert(S,g,k){return this.http.put(`${this.actionUrl}/${S}/saml/sp/signing-certificate`,{certBase64:g,certPassword:k},{headers:this.headers})}removeSigningCert(S){return this.http.delete(`${this.actionUrl}/${S}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(S,g,k){return this.http.put(`${this.actionUrl}/${S}/saml/sp/encryption-certificate`,{certBase64:g,certPassword:k},{headers:this.headers})}removeEncryptionCert(S){return this.http.delete(`${this.actionUrl}/${S}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,a.T)(g=>g.isValid??!1))}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},6648:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>L});var t=l(8750),a=l(5225),p=l(9974),A=l(4360);function e(J,te=0){return(0,p.N)((N,fe)=>{N.subscribe((0,A._)(fe,oe=>(0,a.N)(fe,J,()=>fe.next(oe),te),()=>(0,a.N)(fe,J,()=>fe.complete(),te),oe=>(0,a.N)(fe,J,()=>fe.error(oe),te)))})}function w(J,te=0){return(0,p.N)((N,fe)=>{fe.add(J.schedule(()=>N.subscribe(fe),te))})}var S=l(1985),k=l(4761),Y=l(8071);function E(J,te){if(!J)throw new Error("Iterable cannot be null");return new S.c(N=>{(0,a.N)(N,te,()=>{const fe=J[Symbol.asyncIterator]();(0,a.N)(N,te,()=>{fe.next().then(oe=>{oe.done?N.complete():N.next(oe.value)})},0,!0)})})}var B=l(5055),V=l(9858),F=l(7441),M=l(5397),W=l(7953),y=l(591),z=l(5196);function L(J,te){return te?function v(J,te){if(null!=J){if((0,B.l)(J))return function m(J,te){return(0,t.Tg)(J).pipe(w(te),e(te))}(J,te);if((0,F.X)(J))return function g(J,te){return new S.c(N=>{let fe=0;return te.schedule(function(){fe===J.length?N.complete():(N.next(J[fe++]),N.closed||this.schedule())})})}(J,te);if((0,V.y)(J))return function D(J,te){return(0,t.Tg)(J).pipe(w(te),e(te))}(J,te);if((0,W.T)(J))return E(J,te);if((0,M.x)(J))return function u(J,te){return new S.c(N=>{let fe;return(0,a.N)(N,te,()=>{fe=J[k.l](),(0,a.N)(N,te,()=>{let oe,R;try{({value:oe,done:R}=fe.next())}catch(Pe){return void N.error(Pe)}R?N.complete():N.next(oe)},0,!0)}),()=>(0,Y.T)(fe?.return)&&fe.return()})}(J,te);if((0,z.U)(J))return function Z(J,te){return E((0,z.C)(J),te)}(J,te)}throw(0,y.L)(J)}(J,te):(0,t.Tg)(J)}},6649:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>a});var t=l(4360);function a(p,A,e,w,m){return(D,S)=>{let g=e,k=A,Y=0;D.subscribe((0,t._)(S,u=>{const E=Y++;k=g?p(k,u,E):(g=!0,u),w&&S.next(k)},m&&(()=>{g&&S.next(k),S.complete()})))}}},6697:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>A});var t=l(983),a=l(9974),p=l(4360);function A(e){return e<=0?()=>t.w:(0,a.N)((w,m)=>{let D=0;w.subscribe((0,p._)(m,S=>{++D<=e&&(m.next(S),e<=D&&m.complete())}))})}},6701:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>t});var t=function(a){return a.Unknown="Unknown",a.ServerSide="ServerSide",a.Machine="Machine",a.CIBAMachine="CIBAMachine",a.Native="Native",a.Device="Device",a.Saml="Saml",a.WsFed="WsFed",a.BrowserBased="BrowserBased",a.LegacyClientSide="LegacyClientSide",a.ServerSidePKCE="ServerSidePKCE",a.NativePKCE="NativePKCE",a}(t||{})},6719:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>A});var t=l(1360),a=l(2947);const p=["*"];let A=(()=>{class e{constructor(m){this.activatedRoute=m,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const m=this.activatedRoute.snapshot;null!==m.firstChild&&null!==m.firstChild.routeConfig&&m.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(D){return new(D||e)(t.rXU(a.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-custom-tab"]],inputs:{title:[0,"tabTitle","title"],value:[0,"tabValue","value"],restrictedStarter:"restrictedStarter"},standalone:!1,ngContentSelectors:p,decls:1,vars:0,template:function(D,S){1&D&&(t.NAR(),t.SdG(0))},encapsulation:2})}}return e})()},6728:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>m});var t=l(1360),a=l(7499),p=l(8018),A=l(779);const e=["canDeactivate"],w=()=>({animated:!1,backdrop:"static"});let m=(()=>{class D{constructor(g,k){this.service=g,this.translate=k,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(g=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(k){return new(k||D)(t.rXU(a.o),t.rXU(p.c$))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-can-deactivate"]],viewQuery:function(k,Y){if(1&k&&t.GBs(e,7),2&k){let u;t.mGM(u=t.lsd())&&(Y.modal=u.first)}},standalone:!1,decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(k,Y){if(1&k){const u=t.RV6();t.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return t.eBV(u),t.Njj(Y.stay())}),t.nrm(9,"span",7),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",9)(14,"p"),t.EFF(15),t.nI1(16,"translate"),t.nI1(17,"translate"),t.k0s()(),t.nrm(18,"div",10),t.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),t.bIt("click",function(){return t.eBV(u),t.Njj(Y.leave())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()(),t.j41(25,"button",15),t.bIt("click",function(){return t.eBV(u),t.Njj(Y.stay())}),t.EFF(26),t.nI1(27,"translate"),t.k0s()()()()()()}2&k&&(t.Y8G("config",t.lJ4(19,w)),t.R7$(6),t.JRh(t.bMT(7,7,"Notifications.UnsavedChangesTitle")),t.R7$(5),t.JRh(t.bMT(12,9,"Common.Close")),t.R7$(4),t.Lme("",t.bMT(16,11,"Notifications.UnsavedChanges")," ",t.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),t.R7$(8),t.JRh(t.bMT(24,15,"Notifications.DiscardChanges")),t.R7$(3),t.JRh(t.bMT(27,17,"Notifications.StayHere")))},dependencies:[A.hZ,p.D9],encapsulation:2})}}return D})()},6772:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>t});var t=function(a){return a.Sliding="Sliding",a.Absolute="Absolute",a}(t||{})},6780:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>e});var t=l(8359);class a extends t.yU{constructor(m,D){super()}schedule(m,D=0){return this}}const p={setInterval(w,m,...D){const{delegate:S}=p;return S?.setInterval?S.setInterval(w,m,...D):setInterval(w,m,...D)},clearInterval(w){const{delegate:m}=p;return(m?.clearInterval||clearInterval)(w)},delegate:void 0};var A=l(7908);class e extends a{constructor(m,D){super(m,D),this.scheduler=m,this.work=D,this.pending=!1}schedule(m,D=0){var S;if(this.closed)return this;this.state=m;const g=this.id,k=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(k,g,D)),this.pending=!0,this.delay=D,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(k,this.id,D),this}requestAsyncId(m,D,S=0){return p.setInterval(m.flush.bind(m,this),S)}recycleAsyncId(m,D,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return D;null!=D&&p.clearInterval(D)}execute(m,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(m,D);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(m,D){let g,S=!1;try{this.work(m)}catch(k){S=!0,g=k||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),g}unsubscribe(){if(!this.closed){const{id:m,scheduler:D}=this,{actions:S}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.o)(S,this),null!=m&&(this.id=this.recycleAsyncId(D,m,null)),this.delay=null,super.unsubscribe()}}}},6799:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>t});class t{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(p){this._data=p}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(p,A){this.importWizardController.insertAndOpenStep(p,A)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},6801:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>A});var t=l(2771),a=l(1360),p=l(3165);let A=(()=>{class e{constructor(m){this.http=m,this.idsReady=!1,this.idsHealthCheckComplete=new t.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new t.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(D){return new(D||e)(a.KVO(p.Qq))}}static{this.\u0275prov=a.jDH({token:e,factory:e.\u0275fac})}}return e})()},6807:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>p});var t=l(1360),a=l(7883);let p=(()=>{class A{constructor(w){this.securityService=w}notAllowedToEditClaim(w){return!this.securityService.allView&&this.isPolicyClaim(w)}isPolicyClaim(w){if(void 0!==w){const m=this.securityService.policyClaims;for(let D=0;D<m.length;D++)if(m[D].type===w.type&&m[D].value===w.value)return!0;return!1}}static{this.\u0275fac=function(m){return new(m||A)(t.KVO(a.i))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac})}}return A})()},6829:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{UsersModule:()=>Bt});var t=l(8434),a=l(9417),p=l(9262),A=l(5139),e=l(779),w=l(534),m=l(1683),D=l(4811),S=l(2571),g=l(5663),k=l(8018),Y=l(9475),u=l(367),E=l(5731),B=l(4193),V=l(3665),F=l(7175),M=l(8389),W=l(6599),y=l(2334),z=l(7677),Z=l(1594),v=l(1360),L=l(2947),J=l(5424),te=l(9196),N=l(3853),fe=l(3680);const oe=(ce,Ie)=>({title:ce,link:Ie}),R=ce=>[ce],Pe=()=>["active"];function Te(ce,Ie){1&ce&&(v.j41(0,"option",23),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ce&&(v.R7$(),v.JRh(v.bMT(2,1,"Nav.Audits")))}function We(ce,Ie){1&ce&&(v.j41(0,"option",24),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ce&&(v.R7$(),v.JRh(v.bMT(2,1,"Nav.SessionManagement")))}function rt(ce,Ie){1&ce&&(v.j41(0,"span",27)(1,"span",28),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.nrm(4,"span",29),v.k0s()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"StarterMode.RequiresUpgrade")))}function lt(ce,Ie){if(1&ce&&(v.j41(0,"li",14)(1,"button",25),v.EFF(2),v.nI1(3,"translate"),v.DNE(4,rt,5,3,"span",26),v.k0s()()),2&ce){const ae=v.XpG();v.R7$(),v.Y8G("routerLinkActive",v.lJ4(5,Pe)),v.R7$(),v.SpI(" ",v.bMT(3,3,"Nav.Audits")," "),v.R7$(2),v.Y8G("ngIf",null==ae.licenseInfo?null:ae.licenseInfo.isStarterLicense())}}function vt(ce,Ie){1&ce&&(v.j41(0,"li",14)(1,"button",30),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ce&&(v.R7$(),v.Y8G("routerLinkActive",v.lJ4(4,Pe)),v.R7$(),v.JRh(v.bMT(3,2,"Nav.SessionManagement")))}function je(ce,Ie){1&ce&&(v.j41(0,"div",31)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.nI1(4,"translate"),v.k0s()()),2&ce&&(v.R7$(2),v.Lme("",v.bMT(3,2,"Users.Delete.DeletedUser")," ",v.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let Ye=(()=>{class ce{constructor(ae,be,ke,At,hn){this.r=ae,this.route=be,this.errorService=ke,this.configService=At,this.licenseService=hn,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ae=>{this.user=ae.user},error:ae=>{this.errorService.handleError(ae)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ae=>{this.showSessionManagement=ae.featureFlagOptions.sessionManagementEnabled,this.enableAuditing=ae.enableAuditing},error:ae=>{this.errorService.handleError(ae)}}),this.licenseService.getLicenseInfo().pipe((0,Z.$)()).subscribe({next:ae=>{this.licenseInfo=ae}})}mobRoute(ae){this.r.navigate([ae],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(be){return new(be||ce)(v.rXU(L.Ix),v.rXU(L.nX),v.rXU(J.I),v.rXU(te.w),v.rXU(N.X))}}static{this.\u0275cmp=v.VBU({type:ce,selectors:[["ng-component"]],standalone:!1,decls:57,vars:67,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","apps"],["value","userlogins"],["value","useraudits",4,"ngIf"],["value","sessions",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","apps","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["value","useraudits"],["value","sessions"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(be,ke){1&be&&(v.j41(0,"app-title-bar",0),v.nI1(1,"translate"),v.nI1(2,"localize"),v.qex(3,1),v.j41(4,"div",2)(5,"label",3),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"div",4)(9,"select",5),v.bIt("change",function(hn){return ke.mobRoute(hn.target.value)}),v.j41(10,"option",6),v.EFF(11),v.nI1(12,"translate"),v.k0s(),v.j41(13,"option",6),v.EFF(14),v.nI1(15,"translate"),v.k0s(),v.j41(16,"option",7),v.EFF(17),v.nI1(18,"translate"),v.k0s(),v.j41(19,"option",8),v.EFF(20),v.nI1(21,"translate"),v.k0s(),v.j41(22,"option",9),v.EFF(23),v.nI1(24,"translate"),v.k0s(),v.j41(25,"option",10),v.EFF(26),v.nI1(27,"translate"),v.k0s(),v.DNE(28,Te,3,3,"option",11)(29,We,3,3,"option",12),v.k0s()()(),v.j41(30,"ul",13),v.nI1(31,"translate"),v.j41(32,"li",14)(33,"button",15),v.EFF(34),v.nI1(35,"translate"),v.k0s()(),v.j41(36,"li",14)(37,"button",16),v.EFF(38),v.nI1(39,"translate"),v.k0s()(),v.j41(40,"li",14)(41,"button",17),v.EFF(42),v.nI1(43,"translate"),v.k0s()(),v.j41(44,"li",14)(45,"button",18),v.EFF(46),v.nI1(47,"translate"),v.k0s()(),v.j41(48,"li",14)(49,"button",19),v.EFF(50),v.nI1(51,"translate"),v.k0s()(),v.DNE(52,lt,5,6,"li",20)(53,vt,4,5,"li",20),v.k0s(),v.bVm(),v.k0s(),v.j41(54,"div",21),v.DNE(55,je,5,6,"div",22),v.nrm(56,"router-outlet"),v.k0s()),2&be&&(v.Y8G("title",ke.user.firstName+" "+ke.user.lastName)("totpEnabled",ke.user.totpEnabled)("crumbs",v.eq3(60,R,v.l_i(57,oe,v.bMT(1,27,"Nav.Users"),v.bMT(2,29,"/users"))))("hasTabs",!0),v.R7$(6),v.JRh(v.bMT(7,31,"Nav.SubMenu")),v.R7$(5),v.SpI("",v.bMT(12,33,"Nav.SubMenu"),"..."),v.R7$(3),v.JRh(v.bMT(15,35,"Nav.Details")),v.R7$(3),v.JRh(v.bMT(18,37,"Nav.Roles")),v.R7$(3),v.JRh(v.bMT(21,39,"Nav.Additional Details")),v.R7$(3),v.JRh(v.bMT(24,41,"Nav.Applications")),v.R7$(3),v.JRh(v.bMT(27,43,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",ke.enableAuditing),v.R7$(),v.Y8G("ngIf",ke.showSessionManagement),v.R7$(),v.BMQ("aria-label",v.bMT(31,45,"Nav.SubMenu")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(62,Pe)),v.R7$(),v.JRh(v.bMT(35,47,"Nav.Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(63,Pe)),v.R7$(),v.JRh(v.bMT(39,49,"Nav.Roles")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(64,Pe)),v.R7$(),v.JRh(v.bMT(43,51,"Nav.Additional Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(65,Pe)),v.R7$(),v.JRh(v.bMT(47,53,"Nav.Applications")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(66,Pe)),v.R7$(),v.JRh(v.bMT(51,55,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",ke.enableAuditing),v.R7$(),v.Y8G("ngIf",ke.showSessionManagement),v.R7$(2),v.Y8G("ngIf",ke.user.isDeleted))},dependencies:[L.n3,p.Wk,p.wQ,t.bT,a.xH,a.y7,fe.z,k.D9,A.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var Ke=l(1413),it=l(6354),Ve=l(8412),Be=l(9172),Xe=l(1397),Ue=l(1655),ct=l(9838),st=l(9865),Qe=l(6494),ne=l(5602),K=l(345),de=l(5794),ge=l(7883),o=l(7156),dt=l(7294),gt=l(7384),qt=l(8698),Tn=l(9550),Wn=l(7263),en=l(316),Ln=l(6697),ni=function(ce){return ce[ce.None=0]="None",ce[ce.Add=1]="Add",ce[ce.AddAnother=2]="AddAnother",ce[ce.AddAndConfigure=3]="AddAndConfigure",ce}(ni||{}),mt=l(4589),Jt=l(526),he=l(6801),ue=l(4701);const P=["claimsComponent"],q=["addUserModal"],De=()=>({animated:!1,backdrop:"static"});function Ae(ce,Ie){1&ce&&(v.j41(0,"h2",37),v.nrm(1,"span",38),v.j41(2,"span",24),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span")(6,"a",39),v.EFF(7),v.nI1(8,"translate"),v.k0s()()()),2&ce&&(v.R7$(3),v.JRh(v.bMT(4,2,"Users.Password.DemoTitle")),v.R7$(4),v.SpI(" ",v.bMT(8,4,"Users.Password.DemoLink")," "))}function et(ce,Ie){if(1&ce&&(v.j41(0,"div")(1,"div",33),v.DNE(2,Ae,9,6,"h2",34),v.j41(3,"app-form-row",16),v.nrm(4,"input",35),v.j41(5,"ul",36)(6,"li"),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"li"),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"li"),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"li"),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"li"),v.EFF(19),v.nI1(20,"translate"),v.k0s()()()()()),2&ce){const ae=v.XpG();v.R7$(2),v.Y8G("ngIf",ae.isDemo),v.R7$(),v.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),v.R7$(4),v.JRh(v.bMT(8,9,"Users.Password.Requirements.1")),v.R7$(3),v.JRh(v.bMT(11,11,"Users.Password.Requirements.2")),v.R7$(3),v.JRh(v.bMT(14,13,"Users.Password.Requirements.3")),v.R7$(3),v.JRh(v.bMT(17,15,"Users.Password.Requirements.4")),v.R7$(3),v.JRh(v.bMT(20,17,"Users.Password.Requirements.5"))}}function _t(ce,Ie){1&ce&&v.nrm(0,"span",40)}function Ht(ce,Ie){1&ce&&v.nrm(0,"span",40)}function nn(ce,Ie){1&ce&&v.nrm(0,"span",40)}let wn=(()=>{class ce{constructor(ae,be,ke,At,hn,Fn,Wi,Di,Vi,li,Li){this.userService=ae,this.claimTypesService=be,this.errorService=ke,this.translate=At,this.router=hn,this.fb=Fn,this.toastr=Wi,this.localize=Di,this.securityService=Vi,this.healthCheckService=li,this.configService=Li,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.requireEmail=!0,this.onSubmitted=new v.bkB,this.inFlight=!1,this.addButtonClick=ni,this.addClicked=ni.None}keydown(ae){"Enter"===ae.key&&"addUserSubmit"!==ae.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.configService.getConfig().pipe((0,Ln.s)(1)).subscribe(ae=>{null!=ae.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ae.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===mt.G.Demo||this.securityService.licenseType===mt.G.Starter,this.isDemo&&(this.canCreatePassword=!0),this.requireEmail=ae.requireEmailInUsers,this.createForms()}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ae=>{this.claimTypes=ae},ae=>{this.errorService.handleError(ae)})}addAnotherUser(){this.addAnother=!0,this.addClicked=ni.AddAnother,this.addUser()}addUser(ae){let be;this.addClicked===ni.None&&(this.addClicked=ae?ni.AddAndConfigure:ni.Add),be=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(be,{claims:[]});for(const ke of this.claimsComponent.requiredClaims){if(null===ke.value)continue;let At=ke.value;"DateTime"===ke.format&&(At=ke.value),"Int"===ke.format&&(At=At.toString()),be.claims.push({claimTypeId:ke.typeId,value:At,type:ke.type})}!1===this.canCreatePassword&&(be.password=null),this.inFlight=!0,this.userService.addUser(be).subscribe(ke=>{this.inFlight=!1,this.addClicked=ni.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const At=this.translate.instant("Notifications.AccountCreated"),hn=this.translate.instant("Users.Singular")+" "+be.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(At,hn),ae&&ke.headers.get("location")?this.addUserAndConfigure(ke.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},ke=>{this.inFlight=!1,this.addClicked=ni.None,this.addAnother=!1,this.errorService.handleError(ke)})}addUserAndConfigure(ae){const be=ae.lastIndexOf("/"),ke=ae.substring(be+1),At=[this.localize.translateRoute("/users"),ke];this.router.navigate(At)}createForms(){this.addUserForm=this.fb.group({username:["",[a.k0.required,(0,Wn.Zt)()]],email:["",this.requireEmail?en.D:[]],firstName:["",a.k0.required],lastName:["",a.k0.required],password:["",a.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(be){return new(be||ce)(v.rXU(ne.D),v.rXU(Jt.X),v.rXU(J.I),v.rXU(k.c$),v.rXU(L.Ix),v.rXU(a.ze),v.rXU(de.tw),v.rXU(A.QG),v.rXU(ge.i),v.rXU(he.M),v.rXU(te.w))}}static{this.\u0275cmp=v.VBU({type:ce,selectors:[["app-add-user"]],viewQuery:function(be,ke){if(1&be&&(v.GBs(P,7),v.GBs(q,7)),2&be){let At;v.mGM(At=v.lsd())&&(ke.claimsComponent=At.first),v.mGM(At=v.lsd())&&(ke.addUserModal=At.first)}},hostBindings:function(be,ke){1&be&&v.bIt("keydown",function(hn){return ke.keydown(hn)},!1,v.EBC)},outputs:{onSubmitted:"onSubmitted"},standalone:!1,decls:49,vars:40,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn-secondary",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(be,ke){if(1&be){const At=v.RV6();v.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"button",7),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.hide())}),v.nrm(9,"span",8),v.j41(10,"span",9),v.EFF(11),v.nI1(12,"translate"),v.k0s()()(),v.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),v.nrm(16,"input",13),v.k0s(),v.j41(17,"app-form-row",12),v.nrm(18,"input",14),v.k0s(),v.j41(19,"app-form-row",12),v.nrm(20,"input",15),v.k0s(),v.j41(21,"app-form-row",16),v.nrm(22,"input",17),v.k0s()(),v.nrm(23,"app-required-claims-form",18,1),v.j41(25,"form",19),v.DNE(26,et,21,19,"div",20),v.k0s()(),v.nrm(27,"div",21),v.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.addUser())}),v.EFF(33),v.nI1(34,"translate"),v.DNE(35,_t,1,0,"span",27),v.k0s()(),v.j41(36,"span",28)(37,"button",29),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.addUser(!0))}),v.EFF(38),v.nI1(39,"translate"),v.DNE(40,Ht,1,0,"span",27),v.k0s()(),v.j41(41,"span",30)(42,"button",31),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.addAnotherUser())}),v.EFF(43),v.nI1(44,"translate"),v.DNE(45,nn,1,0,"span",27),v.k0s()()(),v.j41(46,"button",32),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.hide())}),v.EFF(47),v.nI1(48,"translate"),v.k0s()()()()()()}if(2&be){const At=v.sdS(24);v.Y8G("config",v.lJ4(39,De)),v.R7$(6),v.JRh(v.bMT(7,27,"Users.NewUser")),v.R7$(5),v.JRh(v.bMT(12,29,"Common.Close")),v.R7$(3),v.Y8G("formGroup",ke.addUserForm),v.R7$(),v.Y8G("id","FirstName")("label","Users.FirstName"),v.R7$(2),v.Y8G("id","LastName")("label","Users.LastName"),v.R7$(2),v.Y8G("id","Username")("label","Users.Username"),v.R7$(2),v.Y8G("id","Email")("label","Users.Email")("isLast",!ke.canCreatePassword),v.R7$(),v.BMQ("Required",ke.requireEmail),v.R7$(),v.Y8G("claimTypes",ke.claimTypes),v.R7$(2),v.Y8G("formGroup",ke.addUserForm),v.R7$(),v.Y8G("ngIf",ke.canCreatePassword),v.R7$(6),v.Y8G("disabled",!ke.addUserForm.valid||!At.isFormValid()||ke.inFlight),v.R7$(),v.SpI(" ",v.bMT(34,31,"Common.Save")," "),v.R7$(2),v.Y8G("ngIf",ke.inFlight&&ke.addClicked===ke.addButtonClick.Add),v.R7$(2),v.Y8G("disabled",ke.addAnother||!ke.addUserForm.valid||!At.isFormValid()||ke.inFlight),v.R7$(),v.SpI(" ",v.bMT(39,33,"Common.SaveAndConfigure")," "),v.R7$(2),v.Y8G("ngIf",ke.inFlight&&ke.addClicked===ke.addButtonClick.AddAndConfigure),v.R7$(2),v.Y8G("disabled",!ke.addUserForm.valid||!At.isFormValid()||ke.inFlight),v.R7$(),v.SpI(" ",v.bMT(44,35,"Common.SaveAndAdd")," "),v.R7$(2),v.Y8G("ngIf",ke.inFlight&&ke.addClicked===ke.addButtonClick.AddAnother),v.R7$(2),v.JRh(v.bMT(48,37,"Common.Cancel"))}},dependencies:[t.bT,a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,e.hZ,qt.Y,ue.u,k.D9],encapsulation:2})}}return ce})();const Kn=["addUserModal"],ei=(ce,Ie)=>({"tw-alert":ce,"tw-alert-warning":Ie}),Ot=(ce,Ie)=>({limit:ce,type:"users",href:Ie});function Gn(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"app-add-user",30,1),v.bIt("onSubmitted",function(ke){v.eBV(ae);const At=v.XpG();return v.Njj(At.onSubmitted(ke))}),v.k0s()}}function Qt(ce,Ie){if(1&ce&&(v.j41(0,"div",31),v.nrm(1,"span",32),v.nI1(2,"translate"),v.k0s()),2&ce){const ae=v.XpG();v.Y8G("ngClass",v.l_i(5,ei,ae.limitReached,ae.overLimit)),v.R7$(),v.Y8G("innerHTML",v.i5U(2,2,"Common.QuotaLimit",v.l_i(8,Ot,ae.licenseInfo.maxUsers,"https://www."+ae.LinkConstants.AdminUIProviderDomain+".com/products/adminui/order-now?index=2&name=Enterprise")),v.npT)}}function Sn(ce,Ie){1&ce&&(v.j41(0,"span"),v.nrm(1,"span",33),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ce&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.ShowFilters")," "))}function In(ce,Ie){1&ce&&(v.j41(0,"span"),v.nrm(1,"span",34),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ce&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.HideFilters")," "))}function rs(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"div",38)(1,"label",39),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"select",40),v.mxI("ngModelChange",function(ke){v.eBV(ae);const At=v.XpG(2);return v.DH7(At.pageSize,ke)||(At.pageSize=ke),v.Njj(ke)}),v.bIt("change",function(){v.eBV(ae);const ke=v.XpG(2);return v.Njj(ke.setPageLength(+ke.pageSize))}),v.j41(5,"option",41),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"option",42),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"option",43),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()}if(2&ce){const ae=v.XpG(2);v.R7$(2),v.Lme("",ae.pageSize," ",v.bMT(3,6,"Nav.PerPage"),""),v.R7$(2),v.R50("ngModel",ae.pageSize),v.R7$(2),v.SpI("25 ",v.bMT(7,8,"Nav.PerPage"),""),v.R7$(3),v.SpI("50 ",v.bMT(10,10,"Nav.PerPage"),""),v.R7$(3),v.SpI("100 ",v.bMT(13,12,"Nav.PerPage"),"")}}function _i(ce,Ie){if(1&ce){const ae=v.RV6();v.qex(0,37),v.j41(1,"button",44),v.bIt("click",function(){v.eBV(ae);const ke=v.XpG(2);return v.Njj(ke.addModal.show())}),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.bVm()}if(2&ce){const ae=v.XpG(2);v.R7$(),v.Y8G("disabled",ae.limitReached),v.R7$(),v.SpI(" ",v.bMT(3,2,"Users.AddUser")," ")}}function Fi(ce,Ie){if(1&ce&&(v.j41(0,"app-action-bar"),v.qex(1,35),v.DNE(2,rs,14,14,"div",36),v.bVm(),v.DNE(3,_i,4,4,"ng-container",37),v.k0s()),2&ce){const ae=v.XpG();v.R7$(2),v.Y8G("ngIf",(null==ae.pagedResult?null:ae.pagedResult.results.length)>0),v.R7$(),v.vxM(ae.hasEditPermission?3:-1)}}function Ni(ce,Ie){1&ce&&v.nrm(0,"app-simple-loader")}function os(ce,Ie){1&ce&&(v.j41(0,"div",45)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.NoUsersFound")))}function zn(ce,Ie){1&ce&&(v.j41(0,"span",64)(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.Filter.Deleted")))}function ms(ce,Ie){1&ce&&(v.j41(0,"span",65)(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.Filter.Blocked")))}function xi(ce,Ie){1&ce&&(v.j41(0,"span",66),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ce&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Users.Filter.Deleted")," "))}function wt(ce,Ie){1&ce&&(v.j41(0,"span",67),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ce&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Users.Filter.Blocked")," "))}function Tt(ce,Ie){1&ce&&(v.nrm(0,"span",68),v.j41(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.View")))}function xt(ce,Ie){1&ce&&(v.nrm(0,"span",69),v.j41(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.Edit")))}function Kt(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"tr",53)(1,"td",54),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(ke,ke.subject))}),v.DNE(2,zn,4,3,"span",55)(3,ms,4,3,"span",56),v.j41(4,"b",57),v.EFF(5),v.k0s()(),v.j41(6,"td",58),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(ke,ke.subject))}),v.EFF(7),v.k0s(),v.j41(8,"td",59),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(ke,ke.subject))}),v.EFF(9),v.k0s(),v.j41(10,"td",60),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(ke,ke.subject))}),v.DNE(11,xi,3,3,"span",61)(12,wt,3,3,"span",62),v.k0s(),v.j41(13,"td",60),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(ke,ke.subject))}),v.j41(14,"button",63),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(ke,ke.subject))}),v.DNE(15,Tt,4,3)(16,xt,4,3),v.k0s()()()}if(2&ce){const ae=Ie.$implicit,be=v.XpG(2);v.AVh("inactive",ae.isBlocked||ae.isDeleted||be.overLimit),v.R7$(2),v.Y8G("ngIf",ae.isDeleted),v.R7$(),v.Y8G("ngIf",ae.isBlocked&&!ae.isDeleted),v.R7$(2),v.SpI(" ",ae.username," "),v.R7$(2),v.Lme(" ",ae.firstName," ",ae.lastName," "),v.R7$(2),v.SpI(" ",ae.email," "),v.R7$(2),v.Y8G("ngIf",ae.isDeleted),v.R7$(),v.Y8G("ngIf",ae.isBlocked&&!ae.isDeleted),v.R7$(3),v.vxM(be.resourceIsReadOnly(null)?15:16)}}function cn(ce,Ie){if(1&ce&&(v.j41(0,"table",46)(1,"thead")(2,"tr")(3,"th",47),v.EFF(4),v.nI1(5,"translate"),v.k0s(),v.j41(6,"th",48),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"th",49),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"th",50)(13,"span",9),v.EFF(14),v.nI1(15,"translate"),v.k0s()(),v.j41(16,"th",50)(17,"span",9),v.EFF(18),v.nI1(19,"translate"),v.k0s()()()(),v.j41(20,"tbody",51),v.DNE(21,Kt,17,11,"tr",52),v.k0s()()),2&ce){const ae=v.XpG();v.R7$(4),v.SpI(" ",v.bMT(5,6,"Users.Username")," "),v.R7$(3),v.SpI(" ",v.bMT(8,8,"Users.FullName")," "),v.R7$(3),v.SpI(" ",v.bMT(11,10,"Users.Email")," "),v.R7$(4),v.JRh(v.bMT(15,12,"Common.Status")),v.R7$(4),v.JRh(v.bMT(19,14,"Common.Actions")),v.R7$(3),v.Y8G("ngForOf",ae.pagedResult.results)}}function ii(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"app-pager",70),v.bIt("onGoToPage",function(ke){v.eBV(ae);const At=v.XpG();return v.Njj(At.goToPage(ke))}),v.k0s()}if(2&ce){const ae=v.XpG();v.Y8G("totalResults",null==ae.pagedResult?null:ae.pagedResult.totalCount)("currentPage",ae.page)("lastPage",null==ae.pagedResult?null:ae.pagedResult.pageCount)}}let Ei=(()=>{class ce extends Qe.u{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ae,be,ke,At,hn,Fn,Wi,Di,Vi,li){super(Di,Wi,!0,li,Vi,Fn),this.userService=ae,this.errorService=be,this.titleService=ke,this.localize=At,this.licenseService=hn,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new Ke.B,this.advancedFilterStream=new Ke.B,this.pageStream=new Ke.B,this.pageSizeStream=new Ke.B,this.LinkConstants=st.e,this.parentRoute=!0,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${ct.$9.SITE_TITLE}`),this.isLoading=!0;const ae=this.pageStream.pipe((0,it.T)(Fn=>(this.page=Fn,{searchTerm:this.term,page:Fn,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}))),be=this.pageSizeStream.pipe((0,it.T)(Fn=>(this.pageSize=Fn,{searchTerm:this.term,page:this.page,pageSize:Fn,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}))),ke=this.filterStream.pipe((0,it.T)(Fn=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Fn,advancedFilters:this.activeAdvancedFilters}))),At=this.advancedFilterStream.pipe((0,it.T)(Fn=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Fn})));ae.pipe((0,Ve.X)(be),(0,Ve.X)(this.searchSource),(0,Ve.X)(ke),(0,Ve.X)(At),(0,Ve.X)(this.enterKeySource),(0,Be.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,Xe.Z)(Fn=>(this.isLoading=!0,this.userService.getUsersLightweight(Fn.searchTerm,Fn.page,Fn.pageSize,Fn.filters,Fn.advancedFilters).pipe((0,Ue.c)(200))))).subscribe({next:Fn=>{this.pagedResult=Fn,this.isLoading=!1},error:Fn=>{500===Fn.status?this.handleInternalServerError():this.errorService.handleError(Fn),this.isLoading=!1}}),this.licenseService.getLicenseInfo().subscribe({next:Fn=>{this.licenseInfo=Fn}})}mapSearchTerm(ae){return this.term=ae,{searchTerm:ae,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}goToPage(ae){this.pageStream.next(ae)}setPageLength(ae){this.page=1,this.pageSizeStream.next(ae)}filter(ae){if(this.activeFilters.includes(ae)){const be=this.activeFilters.indexOf(ae);this.activeFilters.splice(be,1)}else this.activeFilters.push(ae);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ae){if(this.activeAdvancedFilters.includes(ae)){const be=this.activeAdvancedFilters.indexOf(ae);this.activeAdvancedFilters.splice(be,1)}else this.activeAdvancedFilters.push(ae);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ae){return this.activeFilters.includes(ae)}onSubmitted(ae){ae&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}resourceIsReadOnly(ae){return!this.hasEditPermission||this.overLimit}static{this.\u0275fac=function(be){return new(be||ce)(v.rXU(ne.D),v.rXU(J.I),v.rXU(K.hE),v.rXU(A.QG),v.rXU(N.X),v.rXU(L.Ix),v.rXU(k.c$),v.rXU(de.tw),v.rXU(ge.i),v.rXU(L.nX))}}static{this.\u0275cmp=v.VBU({type:ce,selectors:[["ng-component"]],viewQuery:function(be,ke){if(1&be&&v.GBs(Kn,5),2&be){let At;v.mGM(At=v.lsd())&&(ke.addModal=At.first)}},standalone:!1,features:[v.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(be,ke){if(1&be){const At=v.RV6();v.DNE(0,Gn,2,0,"app-add-user",2),v.j41(1,"div",3),v.DNE(2,Qt,3,11,"div",4),v.j41(3,"div",5)(4,"div",6)(5,"label",7),v.nrm(6,"span",8),v.j41(7,"span",9),v.EFF(8),v.nI1(9,"translate"),v.k0s()(),v.j41(10,"input",10,0),v.nI1(12,"translate"),v.mxI("ngModelChange",function(Fn){return v.eBV(At),v.DH7(ke.searchTerm,Fn)||(ke.searchTerm=Fn),v.Njj(Fn)}),v.bIt("keyup",function(Fn){return v.eBV(At),v.Njj(ke.search(Fn))}),v.k0s()(),v.j41(13,"button",11),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.showAdvancedFilters=!ke.showAdvancedFilters)}),v.DNE(14,Sn,4,3,"span",12)(15,In,4,3,"span",12),v.k0s(),v.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.advancedFilter("claims"))}),v.k0s()()()()(),v.j41(23,"div",20)(24,"p",21),v.EFF(25),v.nI1(26,"translate"),v.k0s(),v.j41(27,"ul",22)(28,"li",23)(29,"button",24),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.filter("active"))}),v.EFF(30),v.nI1(31,"translate"),v.k0s()(),v.j41(32,"li",23)(33,"button",25),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.filter("blocked"))}),v.EFF(34),v.nI1(35,"translate"),v.k0s()(),v.j41(36,"li")(37,"button",26),v.bIt("click",function(){return v.eBV(At),v.Njj(ke.filter("deleted"))}),v.EFF(38),v.nI1(39,"translate"),v.k0s()()()()(),v.nrm(40,"hr"),v.k0s()(),v.DNE(41,Fi,4,2,"app-action-bar",12)(42,Ni,1,0,"app-simple-loader",12)(43,os,4,3,"div",27)(44,cn,22,16,"table",28)(45,ii,1,3,"app-pager",29),v.k0s()}2&be&&(v.Y8G("ngIf",!ke.resourceIsReadOnly(null)),v.R7$(2),v.Y8G("ngIf",ke.limitReached),v.R7$(6),v.JRh(v.bMT(9,25,"Common.Search")),v.R7$(2),v.FS9("placeholder",v.bMT(12,27,"Users.SearchPlaceholder")),v.R50("ngModel",ke.searchTerm),v.R7$(4),v.Y8G("ngIf",!ke.showAdvancedFilters),v.R7$(),v.Y8G("ngIf",ke.showAdvancedFilters),v.R7$(),v.Y8G("hidden",!ke.showAdvancedFilters),v.R7$(4),v.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),v.R7$(),v.Y8G("id","includeClaims"),v.R7$(4),v.JRh(v.bMT(26,29,"Auditing.Showing")),v.R7$(4),v.Y8G("ngClass",ke.isShowing("active")?"tw-btn":"tw-btn-link"),v.R7$(),v.SpI(" ",v.bMT(31,31,"Users.Filter.Active")," "),v.R7$(3),v.Y8G("ngClass",ke.isShowing("blocked")?"tw-btn":"tw-btn-link"),v.R7$(),v.SpI(" ",v.bMT(35,33,"Users.Filter.Blocked")," "),v.R7$(3),v.Y8G("ngClass",ke.isShowing("deleted")?"tw-btn":"tw-btn-link"),v.R7$(),v.SpI(" ",v.bMT(39,35,"Users.Filter.Deleted")," "),v.R7$(3),v.Y8G("ngIf",!ke.isLoading),v.R7$(),v.Y8G("ngIf",ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)<1&&!ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)>0&&!ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)>0&&!ke.isLoading))},dependencies:[t.YU,t.Sq,t.bT,a.xH,a.y7,a.me,a.wz,a.BC,a.vS,o.B,dt.n,gt.d,qt.Y,Tn.m,wn,k.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Ii=()=>["active"];function Ti(ce,Ie){1&ce&&(v.j41(0,"li",10)(1,"button",15),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ce&&(v.R7$(),v.Y8G("routerLinkActive",v.lJ4(4,Ii)),v.R7$(),v.JRh(v.bMT(3,2,"Nav.SessionManagement")))}let Dn=(()=>{class ce{constructor(ae,be,ke){this.r=ae,this.route=be,this.configService=ke}ngOnInit(){this.configService.getConfig().subscribe(ae=>{this.showSessionManagement=ae.featureFlagOptions.sessionManagementEnabled})}mobRoute(ae){this.r.navigate([ae],{relativeTo:this.route})}static{this.\u0275fac=function(be){return new(be||ce)(v.rXU(L.Ix),v.rXU(L.nX),v.rXU(te.w))}}static{this.\u0275cmp=v.VBU({type:ce,selectors:[["app-users-nav"]],standalone:!1,decls:34,vars:33,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["value","reports"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["type","button","routerLink","reports","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userRoutes"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(be,ke){1&be&&(v.j41(0,"app-title-bar",0),v.nI1(1,"translate"),v.qex(2,1),v.j41(3,"div",2)(4,"label",3),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.j41(7,"div",4)(8,"select",5),v.bIt("change",function(hn){return ke.mobRoute(hn.target.value)}),v.j41(9,"option",6),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"option",6),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"option",7),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"option",8),v.EFF(19),v.nI1(20,"translate"),v.k0s()()()(),v.j41(21,"ul",9),v.nI1(22,"translate"),v.j41(23,"li",10)(24,"button",11),v.EFF(25),v.nI1(26,"translate"),v.k0s()(),v.DNE(27,Ti,4,5,"li",12),v.j41(28,"li",10)(29,"button",13),v.EFF(30),v.nI1(31,"translate"),v.k0s()()(),v.bVm(),v.k0s(),v.j41(32,"div",14),v.nrm(33,"router-outlet"),v.k0s()),2&be&&(v.Y8G("hasTabs",!0)("title",v.bMT(1,13,"Nav.Users")),v.R7$(5),v.JRh(v.bMT(6,15,"Nav.SubMenu")),v.R7$(5),v.SpI("",v.bMT(11,17,"Nav.SubMenu"),"..."),v.R7$(3),v.JRh(v.bMT(14,19,"Nav.Users")),v.R7$(3),v.JRh(v.bMT(17,21,"Nav.SessionManagement")),v.R7$(3),v.JRh(v.bMT(20,23,"Nav.Reports")),v.R7$(2),v.BMQ("aria-label",v.bMT(22,25,"Nav.SubMenu")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(31,Ii)),v.R7$(),v.JRh(v.bMT(26,27,"Nav.Users")),v.R7$(2),v.Y8G("ngIf",ke.showSessionManagement),v.R7$(2),v.Y8G("routerLinkActive",v.lJ4(32,Ii)),v.R7$(),v.JRh(v.bMT(31,29,"Nav.Reports")))},dependencies:[L.n3,p.Wk,p.wQ,t.bT,a.xH,a.y7,fe.z,k.D9],encapsulation:2})}}return ce})();const Bi=(ce,Ie)=>({title:ce,link:Ie}),Ui=ce=>[ce],zi=()=>["active"];function ls(ce,Ie){1&ce&&(v.j41(0,"span",24),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ce&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Users.Filter.Blocked")," "))}function ut(ce,Ie){1&ce&&(v.j41(0,"option",25),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ce&&(v.R7$(),v.JRh(v.bMT(2,1,"Nav.Audits")))}function Rt(ce,Ie){1&ce&&(v.j41(0,"span",28)(1,"span",29),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.nrm(4,"span",30),v.k0s()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"StarterMode.RequiresUpgrade")))}function yt(ce,Ie){if(1&ce&&(v.j41(0,"li",15)(1,"button",26),v.EFF(2),v.nI1(3,"translate"),v.DNE(4,Rt,5,3,"span",27),v.k0s()()),2&ce){const ae=v.XpG();v.R7$(),v.Y8G("routerLinkActive",v.lJ4(5,zi)),v.R7$(),v.SpI(" ",v.bMT(3,3,"Nav.Audits")," "),v.R7$(2),v.Y8G("ngIf",ae.licenseInfo.isStarterLicense())}}function tn(ce,Ie){1&ce&&(v.j41(0,"div",31)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.nI1(4,"translate"),v.k0s()()),2&ce&&(v.R7$(2),v.Lme("",v.bMT(3,2,"Users.Delete.DeletedUser")," ",v.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let Vn=(()=>{class ce{constructor(ae,be,ke,At,hn,Fn){this.route=ae,this.router=be,this.errorService=ke,this.licenseService=At,this.configService=hn,this.translate=Fn,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ae=>{this.user=ae.user},ae=>{this.errorService.handleError(ae)}),this.licenseService.getLicenseInfo().pipe((0,Z.$)()).subscribe({next:ae=>{this.licenseInfo=ae}}),this.configService.getConfig().pipe((0,Z.$)()).subscribe({next:ae=>{this.enableAuditing=ae.enableAuditing}})}mobRoute(ae){this.router.navigate([ae],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(be){return new(be||ce)(v.rXU(L.nX),v.rXU(L.Ix),v.rXU(J.I),v.rXU(N.X),v.rXU(te.w),v.rXU(k.c$))}}static{this.\u0275cmp=v.VBU({type:ce,selectors:[["ng-component"]],standalone:!1,decls:57,vars:66,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","apps"],["value","userlogins"],["value","useraudits",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","apps","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["value","useraudits"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(be,ke){1&be&&(v.j41(0,"app-title-bar",0),v.nI1(1,"translate"),v.nI1(2,"localize"),v.qex(3,1),v.DNE(4,ls,3,3,"span",2),v.bVm(),v.qex(5,3),v.j41(6,"div",4)(7,"label",5),v.EFF(8),v.nI1(9,"translate"),v.k0s(),v.j41(10,"div",6)(11,"select",7),v.bIt("change",function(hn){return ke.mobRoute(hn.target.value)}),v.j41(12,"option",8),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"option",8),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"option",9),v.EFF(19),v.nI1(20,"translate"),v.k0s(),v.j41(21,"option",10),v.EFF(22),v.nI1(23,"translate"),v.k0s(),v.j41(24,"option",11),v.EFF(25),v.nI1(26,"translate"),v.k0s(),v.j41(27,"option",12),v.EFF(28),v.nI1(29,"translate"),v.k0s(),v.DNE(30,ut,3,3,"option",13),v.k0s()()(),v.j41(31,"ul",14),v.nI1(32,"translate"),v.j41(33,"li",15)(34,"button",16),v.EFF(35),v.nI1(36,"translate"),v.k0s()(),v.j41(37,"li",15)(38,"button",17),v.EFF(39),v.nI1(40,"translate"),v.k0s()(),v.j41(41,"li",15)(42,"button",18),v.EFF(43),v.nI1(44,"translate"),v.k0s()(),v.j41(45,"li",15)(46,"button",19),v.EFF(47),v.nI1(48,"translate"),v.k0s()(),v.j41(49,"li",15)(50,"button",20),v.EFF(51),v.nI1(52,"translate"),v.k0s()(),v.DNE(53,yt,5,6,"li",21),v.k0s(),v.bVm(),v.k0s(),v.j41(54,"div",22),v.DNE(55,tn,5,6,"div",23),v.nrm(56,"router-outlet"),v.k0s()),2&be&&(v.Y8G("title",ke.user.firstName+" "+ke.user.lastName)("crumbs",v.eq3(59,Ui,v.l_i(56,Bi,v.bMT(1,26,"Nav.Users"),v.bMT(2,28,"/users"))))("hasTabs",!0)("isReadOnly",!0),v.R7$(4),v.Y8G("ngIf",ke.user.isBlocked),v.R7$(4),v.JRh(v.bMT(9,30,"Nav.SubMenu")),v.R7$(5),v.SpI("",v.bMT(14,32,"Nav.SubMenu"),"..."),v.R7$(3),v.JRh(v.bMT(17,34,"Nav.Details")),v.R7$(3),v.JRh(v.bMT(20,36,"Nav.Roles")),v.R7$(3),v.JRh(v.bMT(23,38,"Nav.Additional Details")),v.R7$(3),v.JRh(v.bMT(26,40,"Nav.Applications")),v.R7$(3),v.JRh(v.bMT(29,42,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",ke.enableAuditing),v.R7$(),v.BMQ("aria-label",v.bMT(32,44,"Nav.SubMenu")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(61,zi)),v.R7$(),v.JRh(v.bMT(36,46,"Nav.Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(62,zi)),v.R7$(),v.JRh(v.bMT(40,48,"Nav.Roles")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(63,zi)),v.R7$(),v.JRh(v.bMT(44,50,"Nav.Additional Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(64,zi)),v.R7$(),v.JRh(v.bMT(48,52,"Nav.Applications")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(65,zi)),v.R7$(),v.JRh(v.bMT(52,54,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",ke.enableAuditing),v.R7$(2),v.Y8G("ngIf",ke.user.isDeleted))},dependencies:[L.n3,p.Wk,p.wQ,t.bT,fe.z,k.D9,A.tl],encapsulation:2})}}return ce})();var on=l(3178),Xn=l(5291),qn=l(3218),Gt=l(2892),oi=l(4446),zt=l(4814),Un=l(4549),fn=l(5302),Qn=l(1589);function vi(ce,Ie){if(1&ce&&(v.j41(0,"option",11),v.EFF(1),v.k0s()),2&ce){const ae=Ie.$implicit,be=v.XpG(2);v.Y8G("value",ae.identifier)("selected",be.identifier===ae.identifier),v.R7$(),v.JRh(ae.displayName)}}function Fe(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"app-action-bar"),v.qex(1,5),v.j41(2,"div",6)(3,"select",7),v.mxI("ngModelChange",function(ke){v.eBV(ae);const At=v.XpG();return v.DH7(At.identifier,ke)||(At.identifier=ke),v.Njj(ke)}),v.j41(4,"option",8),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.DNE(7,vi,2,3,"option",9),v.k0s()(),v.j41(8,"button",10),v.bIt("click",function(){v.eBV(ae);const ke=v.XpG();return v.Njj(ke.runReport(ke.identifier))}),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.bVm(),v.k0s()}if(2&ce){const ae=v.XpG();v.R7$(3),v.R50("ngModel",ae.identifier),v.R7$(2),v.JRh(v.bMT(6,4,"Reports.SelectReport")),v.R7$(2),v.Y8G("ngForOf",ae.availableReports),v.R7$(2),v.SpI(" ",v.bMT(10,6,"Reports.RunReport")," ")}}function Ze(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"div",13)(1,"label",14),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"select",15),v.mxI("ngModelChange",function(ke){v.eBV(ae);const At=v.XpG(2);return v.DH7(At.pageSize,ke)||(At.pageSize=ke),v.Njj(ke)}),v.bIt("change",function(){v.eBV(ae);const ke=v.XpG(2);return v.Njj(ke.setPageLength(+ke.pageSize))}),v.j41(5,"option",16),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"option",17),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"option",18),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()}if(2&ce){const ae=v.XpG(2);v.R7$(2),v.Lme("",ae.pageSize," ",v.bMT(3,6,"Nav.PerPage"),""),v.R7$(2),v.R50("ngModel",ae.pageSize),v.R7$(2),v.SpI("25 ",v.bMT(7,8,"Nav.PerPage"),""),v.R7$(3),v.SpI("50 ",v.bMT(10,10,"Nav.PerPage"),""),v.R7$(3),v.SpI("100 ",v.bMT(13,12,"Nav.PerPage"),"")}}function ht(ce,Ie){if(1&ce&&(v.j41(0,"app-action-bar"),v.qex(1,5),v.DNE(2,Ze,14,14,"div",12),v.bVm(),v.k0s()),2&ce){const ae=v.XpG();v.R7$(2),v.Y8G("ngIf",(null==ae.pagedResult?null:ae.pagedResult.results.length)>0)}}function Ut(ce,Ie){1&ce&&v.nrm(0,"app-simple-loader")}function Xt(ce,Ie){1&ce&&(v.j41(0,"div",19)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.NoUsersFound")))}function Mn(ce,Ie){if(1&ce&&(v.j41(0,"div")(1,"b"),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.EFF(4),v.nI1(5,"standardDateTime"),v.nrm(6,"br")(7,"br"),v.k0s()),2&ce){const ae=v.XpG();v.R7$(2),v.SpI("",v.bMT(3,3,"Reports.ShowingReport")," :"),v.R7$(2),v.Lme(" ",ae.identifierDisplay," - ",v.bMT(5,5,ae.reportRunTime)," ")}}function hi(ce,Ie){1&ce&&(v.nrm(0,"span",35),v.j41(1,"span",25),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.View")))}function ri(ce,Ie){1&ce&&(v.nrm(0,"span",36),v.j41(1,"span",25),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ce&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.Edit")))}function Nn(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"tr",28)(1,"td",29),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(ke.id))}),v.j41(2,"b",30),v.EFF(3),v.k0s()(),v.j41(4,"td",31),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(ke.id))}),v.EFF(5),v.k0s(),v.j41(6,"td",32),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(ke.id))}),v.EFF(7),v.k0s(),v.j41(8,"td",33),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(ke.id))}),v.j41(9,"button",34),v.bIt("click",function(){const ke=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(ke.id))}),v.DNE(10,hi,4,3)(11,ri,4,3),v.k0s()()()}if(2&ce){const ae=Ie.$implicit,be=v.XpG(2);v.R7$(3),v.SpI(" ",ae.username," "),v.R7$(2),v.SpI(" ",ae.fullName," "),v.R7$(2),v.SpI(" ",ae.email," "),v.R7$(3),v.vxM(be.resourceIsReadOnly(null)?10:11)}}function Ki(ce,Ie){if(1&ce&&(v.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),v.EFF(4),v.nI1(5,"translate"),v.k0s(),v.j41(6,"th",22),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"th",23),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"th",24)(13,"span",25),v.EFF(14),v.nI1(15,"translate"),v.k0s()()()(),v.j41(16,"tbody",26),v.DNE(17,Nn,12,4,"tr",27),v.k0s()()),2&ce){const ae=v.XpG();v.R7$(4),v.SpI(" ",v.bMT(5,5,"Users.Username")," "),v.R7$(3),v.SpI(" ",v.bMT(8,7,"Users.FullName")," "),v.R7$(3),v.SpI(" ",v.bMT(11,9,"Users.Email")," "),v.R7$(4),v.JRh(v.bMT(15,11,"Common.Actions")),v.R7$(3),v.Y8G("ngForOf",ae.pagedResult.results)}}function Ji(ce,Ie){if(1&ce){const ae=v.RV6();v.j41(0,"app-pager",37),v.bIt("onGoToPage",function(ke){v.eBV(ae);const At=v.XpG();return v.Njj(At.goToPage(ke))}),v.k0s()}if(2&ce){const ae=v.XpG();v.Y8G("totalResults",null==ae.pagedResult?null:ae.pagedResult.totalCount)("currentPage",ae.page)("lastPage",null==ae.pagedResult?null:ae.pagedResult.pageCount)}}let Et=(()=>{class ce extends Qe.u{constructor(ae,be,ke,At,hn,Fn,Wi,Di,Vi){super(Wi,Fn,!0,Vi,Di,hn),this.reportsService=ae,this.errorService=be,this.titleService=ke,this.localize=At,this.activatedRoute=Vi,this.pageSize=25,this.page=1,this.pageStream=new Ke.B,this.pageSizeStream=new Ke.B,this.identifierStream=new Ke.B,this.availableReportsStream=new Ke.B,this.pagedResultStream=new Ke.B,this.parentRoute=!0,this.mapSearchTerm=this.mapSearchTerm.bind(this)}runReport(ae){this.page=1,this.identifierStream.next(ae),this.updateRouter(ae)}updateRouter(ae){var be=this.router.url.split("?")[0],ke=be.split("/"),At=ke.pop(),hn={page:this.page,pageSize:this.pageSize};if("reports"==At)this.router.navigate([be+"/"+ae],{queryParams:hn});else{var Fn=ke.join("/");this.router.navigate([Fn+"/"+ae],{queryParams:hn})}}navigateUser(ae){var be=this.router.url.split("/")[1];this.router.navigate(["/"+be+"/users/"+ae],{})}resourceIsReadOnly(ae){return!this.hasEditPermission}mapSearchTerm(ae){throw new Error("Method not implemented.")}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Reports")+` - ${ct.$9.SITE_TITLE}`),this.isLoading=!0;var ae=this.router.url.split("?")[0].split("/").pop();this.identifier="reports"!==ae?ae:"";var be=this.activatedRoute.snapshot.queryParams,ke=be.page;null!=ke&&(this.page=ke);var At=be.pageSize;null!=At&&(this.pageSize=At);const hn=this.pageStream.pipe((0,it.T)(Vi=>(this.page=Vi,{identifier:this.identifier,page:Vi,pageSize:this.pageSize}))),Fn=this.pageSizeStream.pipe((0,it.T)(Vi=>(this.pageSize=Vi,{identifier:this.identifier,page:this.page,pageSize:Vi}))),Di=this.identifierStream.pipe((0,it.T)(Vi=>(this.identifier=Vi,this.identifierDisplay=this.availableReports.find(li=>li.identifier==this.identifier).displayName,{identifier:Vi,page:this.page,pageSize:this.pageSize}))).pipe((0,Ve.X)(hn),(0,Ve.X)(Fn),(0,Be.Z)({identifier:this.identifier,page:this.page,pageSize:this.pageSize}),(0,Xe.Z)(Vi=>(this.isLoading=!0,this.reportRunTime=Un.c9.local(),this.reportsService.runReport(this.identifier,this.page,this.pageSize).pipe((0,Ue.c)(200)))));this.reportsService.getReports().pipe().subscribe({next:Vi=>{this.availableReports=Vi.reports,this.identifierDisplay=Vi.reports.find(li=>li.identifier==this.identifier).displayName}}),Di.subscribe({next:Vi=>{this.pagedResult=Vi.users,this.isLoading=!1},error:Vi=>{500===Vi.status?this.handleInternalServerError():this.errorService.handleError(Vi),this.isLoading=!1}})}goToPage(ae){this.pageStream.next(ae),this.updateRouter(this.identifier)}setPageLength(ae){this.page=1,this.pageSizeStream.next(ae),this.updateRouter(this.identifier)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(be){return new(be||ce)(v.rXU(fn.PC),v.rXU(J.I),v.rXU(K.hE),v.rXU(A.QG),v.rXU(L.Ix),v.rXU(k.c$),v.rXU(de.tw),v.rXU(ge.i),v.rXU(L.nX))}}static{this.\u0275cmp=v.VBU({type:ce,selectors:[["ng-component"]],standalone:!1,features:[v.Vt3],decls:8,vars:7,consts:[["id","userReportList",1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],[1,"tw-hidden","tw-form-select","sm:tw-block","tw-px-2"],["required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"tw-btn-success",3,"click"],[3,"value","selected"],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","usersTable"],["class","group userRow",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(be,ke){1&be&&(v.j41(0,"div",0),v.DNE(1,Fe,11,8,"app-action-bar",1)(2,ht,3,1,"app-action-bar",1)(3,Ut,1,0,"app-simple-loader",1)(4,Xt,4,3,"div",2)(5,Mn,8,7,"div",1)(6,Ki,18,13,"table",3)(7,Ji,1,3,"app-pager",4),v.k0s()),2&be&&(v.R7$(),v.Y8G("ngIf",!ke.isLoading),v.R7$(),v.Y8G("ngIf",!ke.isLoading),v.R7$(),v.Y8G("ngIf",ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)<1&&!ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)>0&&!ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)>0&&!ke.isLoading),v.R7$(),v.Y8G("ngIf",(null==ke.pagedResult?null:ke.pagedResult.results.length)>0&&!ke.isLoading))},dependencies:[t.Sq,t.bT,a.xH,a.y7,a.wz,a.BC,a.YS,a.vS,o.B,dt.n,gt.d,Qn.r7,k.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const vn=[{path:"users",component:Dn,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Ei},{path:"sessions",component:Xn.Z,canActivate:[qn.O]},{path:"reports",component:Et},{path:"reports/:identifier",component:Et}],canActivate:[Gt.h,oi._],data:{permissions:[on.a[on.a.UserManager],on.a[on.a.UserManagerReadOnly],on.a[on.a.AllReadOnly],on.a[on.a.All]],editPermissions:[on.a[on.a.UserManager],on.a[on.a.All]]}},{path:"users/:id",component:Ye,loadChildren:()=>Promise.all([l.e(76),l.e(688)]).then(l.bind(l,1688)).then(ce=>ce.EditUsersModule),resolve:{user:D.M},canActivate:[Gt.h,oi._,zt.y],data:{permissions:[on.a[on.a.UserManager],on.a[on.a.All]]}},{path:"users/view/:id",loadChildren:()=>Promise.all([l.e(76),l.e(855)]).then(l.bind(l,4855)).then(ce=>ce.ViewUserModule),component:Vn,canActivate:[Gt.h,oi._],resolve:{user:D.M},data:{permissions:[on.a[on.a.UserManager],on.a[on.a.UserManagerReadOnly],on.a[on.a.AllReadOnly],on.a[on.a.All]]}}];let Wt=(()=>{class ce{static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275mod=v.$C({type:ce})}static{this.\u0275inj=v.G2t({imports:[p.iI.forChild(vn),A.XE.forChild(vn),p.iI]})}}return ce})();var Pn=l(4367),Qi=l(9973);let Bt=(()=>{class ce{static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275mod=v.$C({type:ce})}static{this.\u0275inj=v.G2t({providers:[D.M,g.Q,fn.PC],imports:[Wt,t.MD,a.YN,a.X1,e.Q_,m.Y,k.h,S.A,w.Ss,A.XE,Y.F,u.m,E.i,B.c,V.t,F.c,M.w,W.Y,p.iI,y.ClaimTypesModule,z.N,Pn.N,z.N,Qi.s]})}}return ce})()},6843:(ot,ve,l)=>{"use strict";l.d(ve,{l:()=>g});var t=l(8434),a=l(1683),p=l(8018),A=l(8251),e=l(4193),w=l(4367),m=l(9417),D=l(8389),S=l(1360);let g=(()=>{class k{static{this.\u0275fac=function(E){return new(E||k)}}static{this.\u0275mod=S.$C({type:k})}static{this.\u0275inj=S.G2t({imports:[t.MD,m.YN,a.Y,p.h,A.h,e.c,w.N,D.w]})}}return k})()},6888:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>a});var t=l(1360);let a=(()=>{class p{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const e=this.storage.getItem(this.countKey);let w=e?Number(e):0;return w=isNaN(w)?0:w,w}set retryCount(e){(e=isNaN(e)?0:e)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,e.toString())}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},6923:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>D});var t=l(1594),a=l(6354),p=l(6976),A=l(1360),e=l(3853),w=l(2947),m=l(5139);let D=(()=>{class S{constructor(k,Y,u){this.licenseService=k,this.router=Y,this.localizeRouter=u,this.featureMap=new Map([["dynamic-auth",p.p.DynamicAuthentication],["auditing",p.p.Auditing],["clientaudits",p.p.Auditing],["useraudits",p.p.Auditing]])}canActivate(k,Y){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,a.T)(u=>{if(!u.isStarterLicense())return!0;{const E=this.localizeRouter.translateRoute("/starter-mode/teaser");let B=p.p.None,V=Y.url;for(let F of this.featureMap.entries())if(V.includes(F[0])){B=F[1];break}this.router.navigate([E],{queryParams:{feature:B}})}}))}static{this.\u0275fac=function(Y){return new(Y||S)(A.KVO(e.X),A.KVO(w.Ix),A.KVO(m.QG))}}static{this.\u0275prov=A.jDH({token:S,factory:S.\u0275fac})}}return S})()},6932:(ot,ve,l)=>{"use strict";l.d(ve,{Li:()=>D});var t=l(1360),a=l(2806),p=l(2865),A=l(9361);class w{constructor(g,k,Y){this.nodes=g,this.viewRef=k,this.componentRef=Y}}class m{constructor(g,k,Y,u,E,B,V,F,M){this._viewContainerRef=g,this._renderer=k,this._elementRef=Y,this._injector=u,this._componentFactoryResolver=E,this._ngZone=B,this._applicationRef=V,this._posService=F,this._document=M,this.onBeforeShow=new t.bkB,this.onShown=new t.bkB,this.onBeforeHide=new t.bkB,this.onHidden=new t.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(g){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(g),this}to(g){return this.container=g||this.container,this}position(g){return g?(this.attachment=g.attachment||this.attachment,this._elementRef=g.target||this._elementRef,this):this}provide(g){return this._providers.push(g),this}show(g={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(g.content,g.context,g.initialState);const k=t.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(k,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,g),this.container instanceof t.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const Y=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!Y)return;Y.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(g.id?{id:g.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(g){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const k=this._componentRef.location.nativeElement;return k.parentNode?.removeChild(k),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(g?{id:g}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(g){this.triggers=g.triggers||this.triggers,this._listenOpts.outsideClick=g.outsideClick,this._listenOpts.outsideEsc=g.outsideEsc,g.target=g.target||this._elementRef?.nativeElement;const k=this._listenOpts.hide=()=>g.hide?g.hide():void this.hide(),Y=this._listenOpts.show=E=>{g.show?g.show(E):this.show(E),E()};return this._renderer&&(this._unregisterListenersFn=(0,a.GL)(this._renderer,{target:g.target,triggers:g.triggers,show:Y,hide:k,toggle:E=>{this.isShown?k():Y(E)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(g,k){return g&&k&&(this._inlineViewRef=g.createEmbeddedView(k)),this}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let g=Function.prototype,k=Function.prototype;if(this._listenOpts.outsideClick){const Y=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(g=(0,a.Xt)(this._renderer,{targets:[Y,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(k=(0,a.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})),this._globalListener=()=>{g(),k()}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(g,k,Y){if(!g)return new w([]);if(g instanceof t.C4Q){if(this._viewContainerRef){const B=this._viewContainerRef.createEmbeddedView(g,k);return B.markForCheck(),new w([B.rootNodes],B)}const E=g.createEmbeddedView({});return this._applicationRef.attachView(E),new w([E.rootNodes],E)}if("function"==typeof g){const E=this._componentFactoryResolver.resolveComponentFactory(g),B=t.zZn.create({providers:this._providers,parent:this._injector}),V=E.create(B);return Object.assign(V.instance,Y),this._applicationRef.attachView(V.hostView),new w([[V.location.nativeElement]],V.hostView,V)}const u=this._renderer?[this._renderer.createText(`${g}`)]:[];return new w([u])}}let D=(()=>{class S{constructor(k,Y,u,E,B,V){this._componentFactoryResolver=k,this._ngZone=Y,this._injector=u,this._posService=E,this._applicationRef=B,this._document=V}createLoader(k,Y,u){return new m(Y,u,k,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(Y){return new(Y||S)(t.KVO(t.OM3),t.KVO(t.SKi),t.KVO(t.zZn),t.KVO(p.DF),t.KVO(t.o8S),t.KVO(A.q))}}static{this.\u0275prov=t.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},6976:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>t});var t=function(a){return a[a.None=0]="None",a[a.DynamicAuthentication=1]="DynamicAuthentication",a[a.Auditing=2]="Auditing",a[a.ImportExportClients=3]="ImportExportClients",a[a.ExtraClientFlows=4]="ExtraClientFlows",a}(t||{})},6977:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>e});var t=l(9974),a=l(4360),p=l(8750),A=l(5343);function e(w){return(0,t.N)((m,D)=>{(0,p.Tg)(w).subscribe((0,a._)(D,()=>D.complete(),A.l)),!D.closed&&m.subscribe(D)})}},7097:(ot,ve,l)=>{var t=l(6589);l(812),l(1817);var a=ot.exports=t.asn1=t.asn1||{};function p(m,D,S){if(S>D){var g=new Error("Too few bytes to parse DER.");throw g.available=m.length(),g.remaining=D,g.requested=S,g}}function e(m,D,S,g){var k;p(m,D,2);var Y=m.getByte();D--;var u=192&Y,E=31&Y;k=m.length();var B=function(m,D){var S=m.getByte();if(D--,128!==S){var g;if(128&S){var Y=127&S;p(m,D,Y),g=m.getInt(Y<<3)}else g=S;if(g<0)throw new Error("Negative length: "+g);return g}}(m,D);if(D-=k-m.length(),void 0!==B&&B>D){if(g.strict){var V=new Error("Too few bytes to read ASN.1 value.");throw V.available=m.length(),V.remaining=D,V.requested=B,V}B=D}var F,M,W=!(32&~Y);if(W)if(F=[],void 0===B)for(;;){if(p(m,D,2),"\0\0"===m.bytes(2)){m.getBytes(2),D-=2;break}k=m.length(),F.push(e(m,D,S+1,g)),D-=k-m.length()}else for(;B>0;)k=m.length(),F.push(e(m,B,S+1,g)),D-=k-m.length(),B-=k-m.length();if(void 0===F&&u===a.Class.UNIVERSAL&&E===a.Type.BITSTRING&&(M=m.bytes(B)),void 0===F&&g.decodeBitStrings&&u===a.Class.UNIVERSAL&&E===a.Type.BITSTRING&&B>1){var y=m.read,z=D,Z=0;if(E===a.Type.BITSTRING&&(p(m,D,1),Z=m.getByte(),D--),0===Z)try{k=m.length();var L=e(m,D,S+1,{strict:!0,decodeBitStrings:!0}),J=k-m.length();D-=J,E==a.Type.BITSTRING&&J++;var te=L.tagClass;J===B&&(te===a.Class.UNIVERSAL||te===a.Class.CONTEXT_SPECIFIC)&&(F=[L])}catch{}void 0===F&&(m.read=y,D=z)}if(void 0===F){if(void 0===B){if(g.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");B=D}if(E===a.Type.BMPSTRING)for(F="";B>0;B-=2)p(m,D,2),F+=String.fromCharCode(m.getInt16()),D-=2;else F=m.getBytes(B),D-=B}return a.create(u,E,W,F,void 0===M?null:{bitStringContents:M})}a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(m,D,S,g,k){if(t.util.isArray(g)){for(var Y=[],u=0;u<g.length;++u)void 0!==g[u]&&Y.push(g[u]);g=Y}var E={tagClass:m,type:D,constructed:S,composed:S||t.util.isArray(g),value:g};return k&&"bitStringContents"in k&&(E.bitStringContents=k.bitStringContents,E.original=a.copy(E)),E},a.copy=function(m,D){var S;if(t.util.isArray(m)){S=[];for(var g=0;g<m.length;++g)S.push(a.copy(m[g],D));return S}return"string"==typeof m?m:(S={tagClass:m.tagClass,type:m.type,constructed:m.constructed,composed:m.composed,value:a.copy(m.value,D)},D&&!D.excludeBitStringContents&&(S.bitStringContents=m.bitStringContents),S)},a.equals=function(m,D,S){if(t.util.isArray(m)){if(!t.util.isArray(D)||m.length!==D.length)return!1;for(var g=0;g<m.length;++g)if(!a.equals(m[g],D[g]))return!1;return!0}if(typeof m!=typeof D)return!1;if("string"==typeof m)return m===D;var k=m.tagClass===D.tagClass&&m.type===D.type&&m.constructed===D.constructed&&m.composed===D.composed&&a.equals(m.value,D.value);return S&&S.includeBitStringContents&&(k=k&&m.bitStringContents===D.bitStringContents),k},a.getBerValueLength=function(m){var D=m.getByte();if(128!==D)return 128&D?m.getInt((127&D)<<3):D},a.fromDer=function(m,D){void 0===D&&(D={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof D&&(D={strict:D,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in D||(D.strict=!0),"parseAllBytes"in D||(D.parseAllBytes=!0),"decodeBitStrings"in D||(D.decodeBitStrings=!0),"string"==typeof m&&(m=t.util.createBuffer(m));var S=m.length(),g=e(m,m.length(),0,D);if(D.parseAllBytes&&0!==m.length()){var k=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw k.byteCount=S,k.remaining=m.length(),k}return g},a.toDer=function(m){var D=t.util.createBuffer(),S=m.tagClass|m.type,g=t.util.createBuffer(),k=!1;if("bitStringContents"in m&&(k=!0,m.original&&(k=a.equals(m,m.original))),k)g.putBytes(m.bitStringContents);else if(m.composed){m.constructed?S|=32:g.putByte(0);for(var Y=0;Y<m.value.length;++Y)void 0!==m.value[Y]&&g.putBuffer(a.toDer(m.value[Y]))}else if(m.type===a.Type.BMPSTRING)for(Y=0;Y<m.value.length;++Y)g.putInt16(m.value.charCodeAt(Y));else!(m.type===a.Type.INTEGER&&m.value.length>1)||(0!==m.value.charCodeAt(0)||128&m.value.charCodeAt(1))&&(255!==m.value.charCodeAt(0)||128&~m.value.charCodeAt(1))?g.putBytes(m.value):g.putBytes(m.value.substr(1));if(D.putByte(S),g.length()<=127)D.putByte(127&g.length());else{var u=g.length(),E="";do{E+=String.fromCharCode(255&u),u>>>=8}while(u>0);for(D.putByte(128|E.length),Y=E.length-1;Y>=0;--Y)D.putByte(E.charCodeAt(Y))}return D.putBuffer(g),D},a.oidToDer=function(m){var D=m.split("."),S=t.util.createBuffer();S.putByte(40*parseInt(D[0],10)+parseInt(D[1],10));for(var g,k,Y,u,E=2;E<D.length;++E){g=!0,k=[],Y=parseInt(D[E],10);do{u=127&Y,Y>>>=7,g||(u|=128),k.push(u),g=!1}while(Y>0);for(var B=k.length-1;B>=0;--B)S.putByte(k[B])}return S},a.derToOid=function(m){var D;"string"==typeof m&&(m=t.util.createBuffer(m));var S=m.getByte();D=Math.floor(S/40)+"."+S%40;for(var g=0;m.length()>0;)g<<=7,128&(S=m.getByte())?g+=127&S:(D+="."+(g+S),g=0);return D},a.utcTimeToDate=function(m){var D=new Date,S=parseInt(m.substr(0,2),10);S=S>=50?1900+S:2e3+S;var g=parseInt(m.substr(2,2),10)-1,k=parseInt(m.substr(4,2),10),Y=parseInt(m.substr(6,2),10),u=parseInt(m.substr(8,2),10),E=0;if(m.length>11){var B=m.charAt(10),V=10;"+"!==B&&"-"!==B&&(E=parseInt(m.substr(10,2),10),V+=2)}if(D.setUTCFullYear(S,g,k),D.setUTCHours(Y,u,E,0),V&&("+"===(B=m.charAt(V))||"-"===B)){var W=60*parseInt(m.substr(V+1,2),10)+parseInt(m.substr(V+4,2),10);W*=6e4,D.setTime("+"===B?+D-W:+D+W)}return D},a.generalizedTimeToDate=function(m){var D=new Date,S=parseInt(m.substr(0,4),10),g=parseInt(m.substr(4,2),10)-1,k=parseInt(m.substr(6,2),10),Y=parseInt(m.substr(8,2),10),u=parseInt(m.substr(10,2),10),E=parseInt(m.substr(12,2),10),B=0,V=0,F=!1;"Z"===m.charAt(m.length-1)&&(F=!0);var M=m.length-5,W=m.charAt(M);return"+"!==W&&"-"!==W||(V=60*parseInt(m.substr(M+1,2),10)+parseInt(m.substr(M+4,2),10),V*=6e4,"+"===W&&(V*=-1),F=!0),"."===m.charAt(14)&&(B=1e3*parseFloat(m.substr(14),10)),F?(D.setUTCFullYear(S,g,k),D.setUTCHours(Y,u,E,B),D.setTime(+D+V)):(D.setFullYear(S,g,k),D.setHours(Y,u,E,B)),D},a.dateToUtcTime=function(m){if("string"==typeof m)return m;var D="",S=[];S.push((""+m.getUTCFullYear()).substr(2)),S.push(""+(m.getUTCMonth()+1)),S.push(""+m.getUTCDate()),S.push(""+m.getUTCHours()),S.push(""+m.getUTCMinutes()),S.push(""+m.getUTCSeconds());for(var g=0;g<S.length;++g)S[g].length<2&&(D+="0"),D+=S[g];return D+"Z"},a.dateToGeneralizedTime=function(m){if("string"==typeof m)return m;var D="",S=[];S.push(""+m.getUTCFullYear()),S.push(""+(m.getUTCMonth()+1)),S.push(""+m.getUTCDate()),S.push(""+m.getUTCHours()),S.push(""+m.getUTCMinutes()),S.push(""+m.getUTCSeconds());for(var g=0;g<S.length;++g)S[g].length<2&&(D+="0"),D+=S[g];return D+"Z"},a.integerToDer=function(m){var D=t.util.createBuffer();if(m>=-128&&m<128)return D.putSignedInt(m,8);if(m>=-32768&&m<32768)return D.putSignedInt(m,16);if(m>=-8388608&&m<8388608)return D.putSignedInt(m,24);if(m>=-2147483648&&m<2147483648)return D.putSignedInt(m,32);var S=new Error("Integer too large; max is 32-bits.");throw S.integer=m,S},a.derToInteger=function(m){"string"==typeof m&&(m=t.util.createBuffer(m));var D=8*m.length();if(D>32)throw new Error("Integer too large; max is 32-bits.");return m.getSignedInt(D)},a.validate=function(m,D,S,g){var k=!1;if((m.tagClass===D.tagClass||typeof D.tagClass>"u")&&(m.type===D.type||typeof D.type>"u"))if(m.constructed===D.constructed||typeof D.constructed>"u"){if(k=!0,D.value&&t.util.isArray(D.value))for(var Y=0,u=0;k&&u<D.value.length;++u)k=D.value[u].optional||!1,m.value[Y]&&((k=a.validate(m.value[Y],D.value[u],S,g))?++Y:D.value[u].optional&&(k=!0)),!k&&g&&g.push("["+D.name+'] Tag class "'+D.tagClass+'", type "'+D.type+'" expected value length "'+D.value.length+'", got "'+m.value.length+'"');if(k&&S&&(D.capture&&(S[D.capture]=m.value),D.captureAsn1&&(S[D.captureAsn1]=m),D.captureBitStringContents&&"bitStringContents"in m&&(S[D.captureBitStringContents]=m.bitStringContents),D.captureBitStringValue&&"bitStringContents"in m))if(m.bitStringContents.length<2)S[D.captureBitStringValue]="";else{if(0!==m.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");S[D.captureBitStringValue]=m.bitStringContents.slice(1)}}else g&&g.push("["+D.name+'] Expected constructed "'+D.constructed+'", got "'+m.constructed+'"');else g&&(m.tagClass!==D.tagClass&&g.push("["+D.name+'] Expected tag class "'+D.tagClass+'", got "'+m.tagClass+'"'),m.type!==D.type&&g.push("["+D.name+'] Expected type "'+D.type+'", got "'+m.type+'"'));return k};var w=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(m,D,S){var g="";S=S||2,(D=D||0)>0&&(g+="\n");for(var k="",Y=0;Y<D*S;++Y)k+=" ";switch(g+=k+"Tag: ",m.tagClass){case a.Class.UNIVERSAL:g+="Universal:";break;case a.Class.APPLICATION:g+="Application:";break;case a.Class.CONTEXT_SPECIFIC:g+="Context-Specific:";break;case a.Class.PRIVATE:g+="Private:"}if(m.tagClass===a.Class.UNIVERSAL)switch(g+=m.type,m.type){case a.Type.NONE:g+=" (None)";break;case a.Type.BOOLEAN:g+=" (Boolean)";break;case a.Type.INTEGER:g+=" (Integer)";break;case a.Type.BITSTRING:g+=" (Bit string)";break;case a.Type.OCTETSTRING:g+=" (Octet string)";break;case a.Type.NULL:g+=" (Null)";break;case a.Type.OID:g+=" (Object Identifier)";break;case a.Type.ODESC:g+=" (Object Descriptor)";break;case a.Type.EXTERNAL:g+=" (External or Instance of)";break;case a.Type.REAL:g+=" (Real)";break;case a.Type.ENUMERATED:g+=" (Enumerated)";break;case a.Type.EMBEDDED:g+=" (Embedded PDV)";break;case a.Type.UTF8:g+=" (UTF8)";break;case a.Type.ROID:g+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:g+=" (Sequence)";break;case a.Type.SET:g+=" (Set)";break;case a.Type.PRINTABLESTRING:g+=" (Printable String)";break;case a.Type.IA5String:g+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:g+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:g+=" (Generalized time)";break;case a.Type.BMPSTRING:g+=" (BMP String)"}else g+=m.type;if(g+="\n",g+=k+"Constructed: "+m.constructed+"\n",m.composed){var u=0,E="";for(Y=0;Y<m.value.length;++Y)void 0!==m.value[Y]&&(u+=1,E+=a.prettyPrint(m.value[Y],D+1,S),Y+1<m.value.length&&(E+=","));g+=k+"Sub values: "+u+E}else{if(g+=k+"Value: ",m.type===a.Type.OID){var B=a.derToOid(m.value);g+=B,t.pki&&t.pki.oids&&B in t.pki.oids&&(g+=" ("+t.pki.oids[B]+") ")}if(m.type===a.Type.INTEGER)try{g+=a.derToInteger(m.value)}catch{g+="0x"+t.util.bytesToHex(m.value)}else if(m.type===a.Type.BITSTRING){if(g+=m.value.length>1?"0x"+t.util.bytesToHex(m.value.slice(1)):"(none)",m.value.length>0){var V=m.value.charCodeAt(0);1==V?g+=" (1 unused bit shown)":V>1&&(g+=" ("+V+" unused bits shown)")}}else if(m.type===a.Type.OCTETSTRING)w.test(m.value)||(g+="("+m.value+") "),g+="0x"+t.util.bytesToHex(m.value);else if(m.type===a.Type.UTF8)try{g+=t.util.decodeUtf8(m.value)}catch(F){if("URI malformed"!==F.message)throw F;g+="0x"+t.util.bytesToHex(m.value)+" (malformed UTF8)"}else m.type===a.Type.PRINTABLESTRING||m.type===a.Type.IA5String?g+=m.value:w.test(m.value)?g+="0x"+t.util.bytesToHex(m.value):g+=0===m.value.length?"[null]":m.value}return g}},7156:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>m});var t=l(1360),a=l(8434),p=l(8018);function A(D,S){if(1&D&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&D){const g=t.XpG();t.R7$(),t.JRh(g.pageXofX)}}function e(D,S){1&D&&(t.j41(0,"span",7),t.EFF(1,"\u2022"),t.k0s())}function w(D,S){if(1&D){const g=t.RV6();t.j41(0,"nav",8),t.nI1(1,"translate"),t.j41(2,"ul",9)(3,"li")(4,"button",10),t.bIt("click",function(){t.eBV(g);const Y=t.XpG();return t.Njj(Y.goToPage(1))}),t.j41(5,"span"),t.nrm(6,"span",11),t.k0s(),t.j41(7,"span",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"li",13)(11,"button",14),t.bIt("click",function(){t.eBV(g);const Y=t.XpG();return t.Njj(Y.goToPage(Y.currentPage-1))}),t.j41(12,"span"),t.nrm(13,"span",15),t.k0s(),t.j41(14,"span",12),t.EFF(15),t.nI1(16,"translate"),t.k0s()()(),t.j41(17,"li",13)(18,"button",16),t.bIt("click",function(){t.eBV(g);const Y=t.XpG();return t.Njj(Y.goToPage(Y.currentPage+1))}),t.j41(19,"span"),t.nrm(20,"span",17),t.k0s(),t.j41(21,"span",12),t.EFF(22),t.nI1(23,"translate"),t.k0s()()(),t.j41(24,"li",13)(25,"button",18),t.bIt("click",function(){t.eBV(g);const Y=t.XpG();return t.Njj(Y.goToPage(Y.lastPage))}),t.j41(26,"span"),t.nrm(27,"span",19),t.k0s(),t.j41(28,"span",12),t.EFF(29),t.nI1(30,"translate"),t.k0s()()()()()}if(2&D){const g=t.XpG();t.BMQ("aria-label",t.bMT(1,9,"Nav.Page")),t.R7$(4),t.Y8G("disabled",1==g.currentPage),t.R7$(4),t.JRh(t.bMT(9,11,"Nav.First")),t.R7$(3),t.Y8G("disabled",1==g.currentPage),t.R7$(4),t.JRh(t.bMT(16,13,"Nav.Previous")),t.R7$(3),t.Y8G("disabled",g.currentPage==g.lastPage),t.R7$(4),t.JRh(t.bMT(23,15,"Nav.Next")),t.R7$(3),t.Y8G("disabled",g.currentPage==g.lastPage),t.R7$(4),t.JRh(t.bMT(30,17,"Nav.Last"))}}let m=(()=>{class D{constructor(g,k){this.translate=g,this.decimalPipe=k,this.onGoToPage=new t.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let g=this.translate.instant("Nav.PageXofX");g=g.replace("{0}",this.decimalPipe.transform(this.currentPage)),g=g.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=g}goToPage(g){void 0!==this.onGoToPage&&(g<1?g=1:g>this.lastPage&&(g=this.lastPage),this.onGoToPage.emit(g))}static{this.\u0275fac=function(k){return new(k||D)(t.rXU(p.c$),t.rXU(a.QX))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},standalone:!1,features:[t.Jv_([a.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(k,Y){1&k&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,A,2,1,"span",2)(3,e,2,0,"span",3),t.j41(4,"span",4),t.EFF(5),t.nI1(6,"number"),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,w,31,19,"nav",5),t.k0s()),2&k&&(t.R7$(2),t.Y8G("ngIf",!Y.hidePager),t.R7$(),t.Y8G("ngIf",!Y.hidePager),t.R7$(2),t.Lme("",t.bMT(6,5,Y.totalResults)," ",t.bMT(7,7,"Nav.ResultsFound"),""),t.R7$(3),t.Y8G("ngIf",!Y.hidePager))},dependencies:[a.bT,a.QX,p.D9],encapsulation:2})}}return D})()},7175:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>w});var t=l(9417),a=l(8434),p=l(9262),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[a.MD,p.iI,A.h,t.YN]})}}return m})()},7185:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>t});var t=function(a){return a.Default="Default",a.Warning="Warning",a}(t||{})},7212:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>t});class t{constructor(){this.SigningCertificates=[]}}},7263:(ot,ve,l)=>{"use strict";l.d(ve,{$N:()=>y,$_:()=>v,AB:()=>F,Dh:()=>S,KU:()=>e,Li:()=>Z,Nj:()=>p,Nl:()=>V,TO:()=>W,Yt:()=>E,Zt:()=>M,_U:()=>u,gP:()=>D,hX:()=>w,hr:()=>A,kI:()=>g,mk:()=>J,tb:()=>L,uf:()=>Y,zG:()=>te});var t=l(3178),a=l(4549);function p(R,Pe=" "){return w(R)?"":R.join(Pe)}function A(R,Pe=" "){return D(R)?[]:R.split(Pe)}function e(R,Pe){return`${a.c9.fromISO(R).toFormat(Pe)} UTC`}function w(R){return null==R}function D(R){return null==R||"string"!=typeof R||""===R||null!==R.match(/^ *$/)}function S(R){return(R.value||"").trim().length?null:{whitespace:!0}}function g(R){const Pe=document.createElement("a");return Pe.href=R,Pe.protocol+"//"+decodeURIComponent(Pe.host)}function Y(R){const Te=new RegExp("(^https?://|urn:|tcp://)").exec(R);if(Te){if("urn:"===Te[0])return!1}else R="http://"+R;const We=R.split("/");return R.endsWith("/")?We.length>4:We.length>3}function u(R){const Te=new RegExp("https?://|urn:|tcp://").exec(R);return Te?Te[0]:null}function E(R,Pe){const Te=JSON.parse(JSON.stringify(R));return Pe.forEach(We=>{let rt=Te.length;for(;rt--;)Te[rt].name===We.name&&Te.splice(rt,1)}),Te}function V(){let R=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(R+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(Pe){const Te=(R+16*Math.random())%16|0;return R=Math.floor(R/16),("x"===Pe?Te:3&Te|8).toString(16)})}function F(R){return Pe=>R.test(Pe.value)?null:{regex:{value:Pe.value}}}function M(){return R=>0===(R.value||"").trim().length?{whitespace:{value:R.value}}:null}function W(R){const Pe=a.c9.now();return a.c9.fromISO(R.value).diff(Pe).milliseconds>1?{dateInFuture:!0}:null}function y(R){const Pe=a.c9.fromISO(R.get("fromDate").value);return a.c9.fromISO(R.get("toDate").value).diff(Pe,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function Z(R){if(R&&R.size>0){const Pe={};return R.forEach((Te,We)=>{Pe[We]=Te}),Pe}return{}}function v(){const R=document.getElementsByTagName("base")[0].attributes.href.value;return D(R)?"/":R.endsWith("/")?R:`${R}/`}function L(R){return!(!R||0===R.length)&&(R.includes(t.a.AuthorizationServerManagerReadOnly)||R.includes(t.a.AllReadOnly))&&!(R.includes(t.a.AuthorizationServerManager)||R.includes(t.a.All))}function J(R){return!(!R||0===R.length)&&(R.includes(t.a.AuthorizationServerManager)||R.includes(t.a.All))}function te(R){return!(!R||0===R.length)&&(R.includes(t.a.UserManagerReadOnly)||R.includes(t.a.AllReadOnly))&&!(R.includes(t.a.UserManager)||R.includes(t.a.All))}},7294:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>A});var t=l(1360);const a=[[["","left",""]],[["","right",""]]],p=["[left]","[right]"];let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-action-bar"]],standalone:!1,ngContentSelectors:p,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(D,S){1&D&&(t.NAR(a),t.j41(0,"div",0),t.SdG(1),t.j41(2,"div",1),t.SdG(3,1),t.k0s()())},encapsulation:2})}}return e})()},7329:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>t});class t{constructor(p,A){this.component=p,this.data=A,A||(A={})}}},7380:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>t});class t{constructor(p){this.router=p}redirectToView(p,A){const e=A.url.replace(`/${p.params.id}`,`/view/${p.params.id}`);this.router.navigate([e])}}},7384:(ot,ve,l)=>{"use strict";l.d(ve,{d:()=>w});var t=l(1360),a=l(8434),p=l(8018);function A(m,D){1&m&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&m&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.LoadingPleaseWait")))}function e(m,D){if(1&m&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&m){const S=t.XpG();t.R7$(),t.JRh(S.text)}}let w=(()=>{class m{constructor(){this.text=""}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["app-simple-loader"]],inputs:{text:"text"},standalone:!1,decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(g,k){1&g&&(t.j41(0,"div",0),t.nrm(1,"span",1),t.DNE(2,A,3,3,"span",2)(3,e,2,1,"span",2),t.k0s()),2&g&&(t.R7$(2),t.Y8G("ngIf",""==k.text),t.R7$(),t.Y8G("ngIf",""!=k.text))},dependencies:[a.bT,p.D9],encapsulation:2})}}return m})()},7441:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>t});const t=a=>a&&"number"==typeof a.length&&"function"!=typeof a},7468:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>D});var t=l(1985),a=l(3073),p=l(8750),A=l(9326),e=l(4360),w=l(6450),m=l(8496);function D(...S){const g=(0,A.ms)(S),{args:k,keys:Y}=(0,a.D)(S),u=new t.c(E=>{const{length:B}=k;if(!B)return void E.complete();const V=new Array(B);let F=B,M=B;for(let W=0;W<B;W++){let y=!1;(0,p.Tg)(k[W]).subscribe((0,e._)(E,z=>{y||(y=!0,M--),V[W]=z},()=>F--,void 0,()=>{(!F||!y)&&(M||E.next(Y?(0,m.e)(Y,V):V),E.complete())}))}});return g?u.pipe((0,w.I)(g)):u}},7499:(ot,ve,l)=>{"use strict";l.d(ve,{o:()=>p});var t=l(1413),a=l(1360);let p=(()=>{class A{constructor(){this.emitter=new t.B,this.eventStream=new t.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},7548:(ot,ve,l)=>{"use strict";l.d(ve,{Q0:()=>e,jc:()=>p,lH:()=>a,yx:()=>A});var t=l(308);function a(m){return{...m,type:t.EX[m.type]}}function p(m){return{...m,type:t.EX[m.type]}}function A(m){return JSON.parse(m)}function e(m){return JSON.parse(m)}},7553:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>m});var t=l(1594),a=l(6354),p=l(978),A=l(1360),e=l(2947),w=l(9196);let m=(()=>{class D{constructor(g,k){this.router=g,this.config=k}canActivate(g,k){return this.config.getConfig().pipe((0,t.$)(),(0,a.T)(Y=>Y?.featureFlagOptions?.dynamicAuthenticationFlag!=p.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(k){return new(k||D)(A.KVO(e.Ix),A.KVO(w.w))}}static{this.\u0275prov=A.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},7594:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>D});var t=l(3165),a=l(2771),p=l(6701),A=l(7263);class e{constructor(g,k){this.http=g,this.headersService=k,this.headers=k.setHeaders()}create(g){return this.http.post(this.actionUrl,g,{headers:this.headers})}clone(g,k){return this.http.post(`${this.actionUrl}/${g}/clone`,k,{headers:this.headers,observe:"response"})}delete(g){return this.http.delete(`${this.actionUrl}/${g}`,{headers:this.headers})}getByResourceId(g){return this.http.get(`${this.actionUrl}/${g}`,{headers:this.headers})}find(g,k,Y,u){let E=new t.Nl;return(0,A.gP)(g)||(E=E.append("query",g)),k&&(E=E.append("page",k)),Y&&(E=E.append("pageSize",Y)),u&&(E=E.append("filters",u.join(" "))),this.http.get(this.actionUrl,{headers:this.headers,params:E})}update(g,k){return this.http.put(`${this.actionUrl}/${g}`,k,{headers:this.headers})}}var w=l(1360),m=l(9564);let D=(()=>{class S extends e{constructor(k,Y){super(k,Y),this.actionUrl="clients",this.clientSubject=new a.m(1)}getClients(k,Y,u){let E=new t.Nl;return(0,A.gP)(k)||(E=E.append("name",k)),Y&&(E=E.append("page",Y)),u&&(E=E.append("pageSize",u)),this.http.get(this.actionUrl,{headers:this.headers,params:E})}getClient(k){return this.getByResourceId(k)}getCachedClient(){return this.clientSubject}addClient(k){switch(k.clientType){case p.s.Saml:this.headers=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case p.s.WsFed:this.headers=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:this.headers=this.headersService.setHeaders()}return this.create(k)}updateClient(k){return this.update(k.id,k)}addClientSecret(k,Y){return this.http.post(`${this.actionUrl}/${k}/secrets`,Y,{headers:this.headers})}removeClientSecret(k,Y){return this.http.delete(`${this.actionUrl}/${k}/secrets/${Y.id}`,{headers:this.headers})}deleteClient(k){return this.delete(k)}cloneClient(k,Y){return this.headers=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json"),this.clone(k,Y)}static{this.\u0275fac=function(Y){return new(Y||S)(w.KVO(t.Qq),w.KVO(m.m))}}static{this.\u0275prov=w.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},7629:(ot,ve,l)=>{"use strict";l.d(ve,{oG:()=>Ae});var t=l(1744),a=l(4414),p=l(7263),A=l(590),e=l(6799);let w=(()=>{class Ot{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return Ot})();var m=l(1360),D=l(5826),S=l(8018),g=l(5139),k=l(8434);let Y=(()=>{class Ot{transform(Qt){if(Qt){const Sn=[...Qt];let In="",rs="";for(let _i=0;_i<Sn.length;_i++){const Fi=Sn[_i];if(0===In.length)In=Fi.toUpperCase();else if(_i+1===Sn.length)rs===rs.toUpperCase()||Fi===Fi.toLowerCase()?In+=Fi:In+=`${Fi}`;else if(Fi===Fi.toUpperCase()){const Ni=rs===rs.toUpperCase(),os=Sn[_i+1];Ni?os===os.toLowerCase()?In+=` ${Fi}`:In+=Fi:In+=` ${Fi}`}else In+=Fi;rs=Fi}Qt=In}return Qt}static{this.\u0275fac=function(Sn){return new(Sn||Ot)}}static{this.\u0275pipe=m.EJ8({name:"beautifyPropertyName",type:Ot,pure:!0,standalone:!1})}}return Ot})();const u=["importSummaryConflictsModal"];function E(Ot,Gn){1&Ot&&m.nrm(0,"span",25)}function B(Ot,Gn){1&Ot&&m.nrm(0,"span",26)}function V(Ot,Gn){1&Ot&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function F(Ot,Gn){if(1&Ot&&(m.j41(0,"li",34)(1,"span"),m.EFF(2),m.k0s(),m.DNE(3,V,2,0,"span",35),m.k0s()),2&Ot){const Qt=Gn.$implicit,Sn=Gn.last;m.R7$(2),m.JRh(Qt.displayName),m.R7$(),m.Y8G("ngIf",!Sn)}}function M(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",30)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd")(5,"ul",32),m.DNE(6,F,4,2,"li",33),m.k0s()()()),2&Ot){const Qt=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),m.R7$(4),m.Y8G("ngForOf",Qt.linkedNewClients)}}function W(Ot,Gn){1&Ot&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function y(Ot,Gn){if(1&Ot&&(m.j41(0,"li",34)(1,"a",38),m.EFF(2),m.k0s(),m.DNE(3,W,2,0,"span",35),m.k0s()),2&Ot){const Qt=Gn.$implicit,Sn=Gn.last,In=m.XpG(4);m.R7$(),m.Y8G("href",In.buildHref(Qt.existingIdentifier),m.B4B),m.R7$(),m.SpI(" ",Qt.displayName," "),m.R7$(),m.Y8G("ngIf",!Sn)}}function z(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",37)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",34)(5,"ul",32),m.DNE(6,y,4,3,"li",33),m.k0s()()()),2&Ot){const Qt=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),m.R7$(4),m.Y8G("ngForOf",Qt.linkedExistingClients)}}function Z(Ot,Gn){if(1&Ot&&(m.j41(0,"div",27),m.DNE(1,M,7,4,"dl",28)(2,z,7,4,"dl",29),m.k0s()),2&Ot){const Qt=m.XpG(2);m.R7$(),m.Y8G("ngIf",Qt.linkedNewClients.length>0),m.R7$(),m.Y8G("ngIf",Qt.linkedExistingClients.length>0)}}function v(Ot,Gn){if(1&Ot){const Qt=m.RV6();m.j41(0,"div",18)(1,"div",19)(2,"button",20),m.bIt("click",function(){m.eBV(Qt);const In=m.XpG();return m.Njj(In.toggleDisplayLinkedClientsDropdown())}),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s(),m.j41(6,"span",21),m.DNE(7,E,1,0,"span",22)(8,B,1,0,"span",23),m.k0s()(),m.DNE(9,Z,3,2,"div",24),m.k0s()()}if(2&Ot){const Qt=m.XpG();m.AVh("tw-alert-warning",Qt.linkedExistingClients.length>0),m.R7$(4),m.JRh(m.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),m.R7$(3),m.Y8G("ngIf",Qt.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",!Qt.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",Qt.displayLinkedClientsDropdown)}}function L(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.previous," ")}}function J(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function te(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.new," ")}}function N(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function fe(Ot,Gn){if(1&Ot){const Qt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Qt);const In=m.XpG(2);return m.Njj(In.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,L,2,1,"span",44)(6,J,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,te,2,1,"span",46)(9,N,3,3,"i",45),m.k0s()()}if(2&Ot){const Qt=Gn.$implicit,Sn=m.XpG(2);m.R7$(2),m.JRh(m.bMT(3,5,Qt.propertyName)),m.R7$(3),m.Y8G("ngIf",Sn.hasValue(Qt.previous)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.previous)),m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.new)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.new))}}function oe(Ot,Gn){if(1&Ot&&(m.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),m.EFF(5),m.nI1(6,"translate"),m.k0s(),m.j41(7,"th",41),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s()()(),m.j41(13,"tbody"),m.DNE(14,fe,10,7,"tr",42),m.k0s()()()),2&Ot){const Qt=m.XpG();m.R7$(5),m.JRh(m.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Qt.fieldConflicts?null:Qt.fieldConflicts.conflicts)}}function R(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.previous," ")}}function Pe(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Te(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.new," ")}}function We(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function rt(Ot,Gn){if(1&Ot){const Qt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Qt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.k0s(),m.j41(3,"td"),m.DNE(4,R,2,1,"span",44)(5,Pe,3,3,"i",45),m.k0s(),m.j41(6,"td"),m.DNE(7,Te,2,1,"span",46)(8,We,3,3,"i",45),m.k0s()()}if(2&Ot){const Qt=Gn.$implicit,Sn=m.XpG(3);m.R7$(2),m.JRh(Qt.propertyName),m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.previous)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.previous)),m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.new)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.new))}}function lt(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,rt,9,5,"tr",42),m.k0s()()()),2&Ot){const Qt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Qt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function vt(Ot,Gn){if(1&Ot&&(m.j41(0,"div",50),m.DNE(1,lt,18,13,"div",51),m.k0s()),2&Ot){const Qt=m.XpG();m.R7$(),m.Y8G("ngForOf",Qt.clientKeyValueConflicts)}}function je(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.previous," ")}}function Ye(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ke(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.new," ")}}function it(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Ve(Ot,Gn){if(1&Ot){const Qt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Qt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,je,2,1,"span",44)(6,Ye,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,Ke,2,1,"span",46)(9,it,3,3,"i",45),m.k0s()()}if(2&Ot){const Qt=Gn.$implicit,Sn=m.XpG(3);m.R7$(2),m.JRh(m.bMT(3,5,Qt.propertyName)),m.R7$(3),m.Y8G("ngIf",Sn.hasValue(Qt.previous)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.previous)),m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.new)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.new))}}function Be(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Ve,10,7,"tr",42),m.k0s()()()),2&Ot){const Qt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Qt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function Xe(Ot,Gn){if(1&Ot&&(m.j41(0,"div",54)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,Be,18,13,"div",51),m.k0s()),2&Ot){const Qt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),m.R7$(2),m.Y8G("ngForOf",Qt.scopeConflicts)}}function Ue(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Qt.propertyName))}}function ct(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.JRh(Qt.propertyName)}}function st(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",62),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",62),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",47),m.EFF(15),m.k0s()()),2&Ot){const Qt=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Qt.previous.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Qt.previous.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Qt.previous.index)}}function Qe(Ot,Gn){1&Ot&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&Ot&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ne(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",63),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",63),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",49),m.EFF(15),m.k0s()()),2&Ot){const Qt=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Qt.new.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Qt.new.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Qt.new.index)}}function K(Ot,Gn){1&Ot&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&Ot&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function de(Ot,Gn){if(1&Ot&&(m.qex(0),m.j41(1,"td"),m.DNE(2,st,16,12,"dl",59)(3,Qe,4,3,"dl",57),m.k0s(),m.j41(4,"td"),m.DNE(5,ne,16,12,"dl",59)(6,K,4,3,"dl",57),m.k0s(),m.bVm()),2&Ot){const Qt=m.XpG().$implicit,Sn=m.XpG(3);m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.previous)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.previous)),m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.new)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.new))}}function ge(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Qt.previous," ")}}function o(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function dt(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Qt.new," ")}}function gt(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function qt(Ot,Gn){if(1&Ot&&(m.j41(0,"td",64),m.DNE(1,ge,2,1,"span",44)(2,o,3,3,"i",45),m.k0s(),m.j41(3,"td",64),m.DNE(4,dt,2,1,"span",46)(5,gt,3,3,"i",45),m.k0s()),2&Ot){const Qt=m.XpG().$implicit,Sn=m.XpG(3);m.R7$(),m.Y8G("ngIf",Sn.hasValue(Qt.previous)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.previous)),m.R7$(2),m.Y8G("ngIf",Sn.hasValue(Qt.new)),m.R7$(),m.Y8G("ngIf",!Sn.hasValue(Qt.new))}}function Tn(Ot,Gn){if(1&Ot){const Qt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Qt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.DNE(1,Ue,3,3,"td",57)(2,ct,2,1,"td",57)(3,de,7,4,"ng-container",58)(4,qt,6,4,"ng-template",null,0,m.C5r),m.k0s()}if(2&Ot){const Qt=m.sdS(5),Sn=m.XpG().$implicit,In=m.XpG(2);m.R7$(),m.Y8G("ngIf",Sn.identifier!=In.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",Sn.identifier==In.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",Sn.identifier==In.summaryConflictsConstants.sloProperty||Sn.identifier==In.summaryConflictsConstants.acsProperty)("ngIfElse",Qt)}}function Wn(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Tn,6,4,"tr",42),m.k0s()()()),2&Ot){const Qt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Qt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function en(Ot,Gn){if(1&Ot&&(m.j41(0,"div",56)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,Wn,18,13,"div",51),m.k0s()),2&Ot){const Qt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),m.R7$(2),m.Y8G("ngForOf",Qt.serviceProviderConflicts)}}function Ln(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Qt.propertyName))}}function ni(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.JRh(Qt.propertyName)}}function mt(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.previous," ")}}function Jt(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function he(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Qt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Qt.new," ")}}function ue(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function P(Ot,Gn){if(1&Ot){const Qt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Qt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.DNE(1,Ln,3,3,"td",57)(2,ni,2,1,"td",57),m.j41(3,"td",64),m.DNE(4,mt,2,1,"span",44)(5,Jt,3,3,"i",45),m.k0s(),m.j41(6,"td",64),m.DNE(7,he,2,1,"span",46)(8,ue,3,3,"i",45),m.k0s()()}if(2&Ot){const Qt=Gn.$implicit,Sn=m.XpG().$implicit,In=m.XpG(2);m.R7$(),m.Y8G("ngIf",Sn.identifier!=In.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(),m.Y8G("ngIf",Sn.identifier==In.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(2),m.Y8G("ngIf",In.hasValue(Qt.previous)),m.R7$(),m.Y8G("ngIf",!In.hasValue(Qt.previous)),m.R7$(2),m.Y8G("ngIf",In.hasValue(Qt.new)),m.R7$(),m.Y8G("ngIf",!In.hasValue(Qt.new))}}function q(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,P,9,6,"tr",42),m.k0s()()()),2&Ot){const Qt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Qt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function De(Ot,Gn){if(1&Ot&&(m.j41(0,"div",65)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,q,18,13,"div",51),m.k0s()),2&Ot){const Qt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),m.R7$(2),m.Y8G("ngForOf",Qt.relyingPartyConflicts)}}let Ae=(()=>{class Ot extends e.P{set data(Qt){const Sn=JSON.parse(JSON.stringify(Qt));this.resource=Sn,this.summaryDisplayType=A.n.getSummaryDisplayType(Sn.resourceType),this.setupLinkedClients(Sn),this.resource.resourceType===t.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(In=>In.identifier===w.ClaimTypes)),this.resource.resourceType===t.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(In=>In.identifier===w.IdentityResources)),this.resource.resourceType===t.ot.Client&&(this.initClient(),this.resource.displayType===w.SamlDisplayType?this.initServiceProvider():this.resource.displayType===w.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===t.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(In=>In.identifier===w.ProtectedResources),this.initScopeConflicts())}constructor(Qt,Sn,In){super(),this.importWizardService=Qt,this.translate=Sn,this.localizeRouterService=In,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=w}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===A.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(a.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Qt){null!==Qt.dependantClients&&0!==Qt.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Qt.dependantClients.filter(Sn=>Sn.state===t.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Qt.dependantClients.filter(Sn=>Sn.state===t.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Qt){return Qt.sort((Sn,In)=>Sn.displayName.localeCompare(In.displayName))}buildHref(Qt){return this.localizeRouterService.translateRoute(`/clients/${Qt}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Qt){return!(null==Qt||(0,p.gP)(Qt.toString()))}initClient(){const Qt=this.resource.conflicts.find(rs=>rs.identifier===w.Client),Sn=this.resource.conflicts.find(rs=>rs.identifier===w.ClaimsProperty),In=this.resource.conflicts.find(rs=>rs.identifier===w.PropertiesProperty);Qt&&(this.fieldConflicts=Qt),Sn&&this.clientKeyValueConflicts.push(Sn),In&&this.clientKeyValueConflicts.push(In)}initRelyingParty(){const Qt=this.resource.conflicts.find(In=>In.identifier===w.RelyingPartyProperty),Sn=this.resource.conflicts.find(In=>In.identifier===w.ClaimMappingsKey);Qt&&this.relyingPartyConflicts.push(Qt),Sn&&this.relyingPartyConflicts.push(Sn)}initServiceProvider(){const Qt=this.resource.conflicts.find(_i=>_i.identifier===w.ServiceProviderProperty),Sn=this.resource.conflicts.find(_i=>_i.identifier===w.ClaimMappingsKey),In=this.resource.conflicts.find(_i=>_i.identifier===w.acsProperty),rs=this.resource.conflicts.find(_i=>_i.identifier===w.sloProperty);Qt&&this.serviceProviderConflicts.push(Qt),Sn&&this.serviceProviderConflicts.push(Sn),In&&this.serviceProviderConflicts.push(In),rs&&this.serviceProviderConflicts.push(rs)}initScopeConflicts(){const Qt=this.resource.conflicts.filter(Sn=>Sn.identifier!==w.ProtectedResources);void 0!==Qt&&(Qt.forEach(Sn=>{const In=Sn.conflicts.find(rs=>rs.propertyName===w.UserClaimsProperty);In&&(In.new=In.new.join(", "),In.previous=In.previous.join(", "))}),this.scopeConflicts=Qt)}static{this.\u0275fac=function(Sn){return new(Sn||Ot)(m.rXU(D.o),m.rXU(S.c$),m.rXU(g.QG))}}static{this.\u0275cmp=m.VBU({type:Ot,selectors:[["app-import-summary-conflicts"]],viewQuery:function(Sn,In){if(1&Sn&&m.GBs(u,7),2&Sn){let rs;m.mGM(rs=m.lsd())&&(In.importSummaryConflictsModal=rs.first)}},standalone:!1,features:[m.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(Sn,In){1&Sn&&(m.j41(0,"div",1)(1,"h2",2)(2,"span",3),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s()(),m.j41(7,"div",4)(8,"p"),m.EFF(9),m.nI1(10,"translate"),m.k0s()(),m.DNE(11,v,10,8,"div",5)(12,oe,15,10,"div",6)(13,vt,2,1,"div",7)(14,Xe,5,4,"div",8)(15,en,5,4,"div",9)(16,De,5,4,"div",10),m.k0s(),m.nrm(17,"div",11),m.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),m.bIt("click",function(){return In.accept()}),m.EFF(22),m.nI1(23,"translate"),m.k0s(),m.j41(24,"button",16),m.bIt("click",function(){return In.decline()}),m.EFF(25),m.nI1(26,"translate"),m.k0s()(),m.j41(27,"button",17),m.bIt("click",function(){return In.back()}),m.EFF(28),m.nI1(29,"translate"),m.k0s()()()),2&Sn&&(m.R7$(3),m.SpI("",m.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+In.summaryDisplayType),":"),m.R7$(3),m.JRh(null==In.resource?null:In.resource.displayName),m.R7$(3),m.JRh(m.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+In.summaryDisplayType)),m.R7$(2),m.Y8G("ngIf",In.displayLinkedClients),m.R7$(),m.Y8G("ngIf",In.fieldConflicts&&In.fieldConflicts.conflicts.length>0),m.R7$(),m.Y8G("ngIf",In.clientKeyValueConflicts.length>0),m.R7$(),m.Y8G("ngIf",In.scopeConflicts.length>0),m.R7$(),m.Y8G("ngIf",In.serviceProviderConflicts.length>0),m.R7$(),m.Y8G("ngIf",In.relyingPartyConflicts.length>0),m.R7$(6),m.JRh(m.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),m.R7$(3),m.JRh(m.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),m.R7$(3),m.JRh(m.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[k.Sq,k.bT,S.D9,Y],encapsulation:2})}}return Ot})()},7648:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>g});var t=l(6354),a=l(9437),p=l(983),A=l(8284),e=l(7548),w=l(1360),m=l(6609),D=l(3583),S=l(5424);let g=(()=>{class k{constructor(u,E,B){this.dynamicAuthService=u,this.changeCachingService=E,this.errorService=B}resolve(u,E){return this.dynamicAuthService.getDynamicAuth(u.params.Scheme).pipe((0,t.T)(V=>{let F;return V&&(F=(0,e.lH)(V),this.changeCachingService.unsavedCache.next(F)),F}),(0,a.W)((V,F)=>(404===V.status?this.errorService.resourceNotFound(A.v.dynamicAuth):this.errorService.handleError(V),(0,p.I)())))}static{this.\u0275fac=function(E){return new(E||k)(w.KVO(m.v),w.KVO(D.t),w.KVO(S.I))}}static{this.\u0275prov=w.jDH({token:k,factory:k.\u0275fac})}}return k})()},7673:(ot,ve,l)=>{"use strict";l.d(ve,{of:()=>p});var t=l(9326),a=l(6648);function p(...A){const e=(0,t.lI)(A);return(0,a.H)(A,e)}},7677:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>A});var t=l(8434),a=l(8018),p=l(1360);let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275mod=p.$C({type:e})}static{this.\u0275inj=p.G2t({imports:[a.h,t.MD]})}}return e})()},7707:(ot,ve,l)=>{"use strict";l.d(ve,{Ms:()=>V,vU:()=>Y});var t=l(8071),a=l(8359),p=l(1026),A=l(5334),e=l(5343);const w=S("C",void 0,void 0);function S(z,Z,v){return{kind:z,value:Z,error:v}}var g=l(9270),k=l(9786);class Y extends a.yU{constructor(Z){super(),this.isStopped=!1,Z?(this.destination=Z,(0,a.Uv)(Z)&&Z.add(this)):this.destination=y}static create(Z,v,L){return new V(Z,v,L)}next(Z){this.isStopped?W(function D(z){return S("N",z,void 0)}(Z),this):this._next(Z)}error(Z){this.isStopped?W(function m(z){return S("E",void 0,z)}(Z),this):(this.isStopped=!0,this._error(Z))}complete(){this.isStopped?W(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Z){this.destination.next(Z)}_error(Z){try{this.destination.error(Z)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const u=Function.prototype.bind;function E(z,Z){return u.call(z,Z)}class B{constructor(Z){this.partialObserver=Z}next(Z){const{partialObserver:v}=this;if(v.next)try{v.next(Z)}catch(L){F(L)}}error(Z){const{partialObserver:v}=this;if(v.error)try{v.error(Z)}catch(L){F(L)}else F(Z)}complete(){const{partialObserver:Z}=this;if(Z.complete)try{Z.complete()}catch(v){F(v)}}}class V extends Y{constructor(Z,v,L){let J;if(super(),(0,t.T)(Z)||!Z)J={next:Z??void 0,error:v??void 0,complete:L??void 0};else{let te;this&&p.$.useDeprecatedNextContext?(te=Object.create(Z),te.unsubscribe=()=>this.unsubscribe(),J={next:Z.next&&E(Z.next,te),error:Z.error&&E(Z.error,te),complete:Z.complete&&E(Z.complete,te)}):J=Z}this.destination=new B(J)}}function F(z){p.$.useDeprecatedSynchronousErrorHandling?(0,k.l)(z):(0,A.m)(z)}function W(z,Z){const{onStoppedNotification:v}=p.$;v&&g.f.setTimeout(()=>v(z,Z))}const y={closed:!0,next:e.l,error:function M(z){throw z},complete:e.l}},7728:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>te});var t=l(1744),a=l(4414),p=l(590),A=l(6799),e=l(1360),w=l(5826),m=l(8018),D=l(8434),S=l(9417);const g=N=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":N});function k(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"th",21)(1,"label",22)(2,"input",23),e.mxI("ngModelChange",function(Pe){e.eBV(oe);const Te=e.XpG();return e.DH7(Te.allSelected,Pe)||(Te.allSelected=Pe),e.Njj(Pe)}),e.bIt("change",function(){e.eBV(oe);const Pe=e.XpG();return e.Njj(Pe.toggleAllSelected())}),e.k0s()()()}if(2&N){const oe=e.XpG();e.R7$(2),e.R50("ngModel",oe.allSelected)}}function Y(N,fe){if(1&N&&(e.j41(0,"th",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&N){const oe=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+oe.summaryDisplayType))}}function u(N,fe){1&N&&(e.j41(0,"th",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&N&&(e.R7$(),e.SpI("",e.bMT(2,1,"Nav.Clients")," *"))}function E(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"label",22)(1,"input",23),e.nI1(2,"translate"),e.mxI("ngModelChange",function(Pe){e.eBV(oe);const Te=e.XpG(2).$implicit;return e.DH7(Te.selected,Pe)||(Te.selected=Pe),e.Njj(Pe)}),e.bIt("change",function(){e.eBV(oe);const Pe=e.XpG(3);return e.Njj(Pe.selectionChanged())}),e.k0s()()}if(2&N){const oe=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",oe.selected),e.BMQ("aria-label",e.bMT(2,2,"Common.Add"))}}function B(N,fe){if(1&N&&(e.j41(0,"td",21),e.DNE(1,E,3,4,"label",32),e.k0s()),2&N){const oe=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",oe.isSelectable)}}function V(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"td",33),e.bIt("click",function(){e.eBV(oe);const Pe=e.XpG().$implicit,Te=e.XpG();return e.Njj(Te.toggle(Pe))}),e.EFF(1),e.k0s()}if(2&N){const oe=e.XpG().$implicit;e.Y8G("title",oe.identifier),e.R7$(),e.SpI(" ",oe.identifier," ")}}function F(N,fe){if(1&N&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&N){const oe=e.XpG().$implicit,R=e.XpG();e.R7$(),e.SpI(" ",R.displayLinkedClients(oe)," ")}}function M(N,fe){1&N&&e.nrm(0,"span",40)}function W(N,fe){if(1&N){const oe=e.RV6();e.qex(0),e.j41(1,"td",35),e.bIt("click",function(Pe){e.eBV(oe);const Te=e.XpG().$implicit,We=e.XpG();return e.Njj(We.viewConflicts(Pe,Te))}),e.DNE(2,M,1,0,"span",36),e.k0s(),e.j41(3,"td",37),e.bIt("click",function(Pe){e.eBV(oe);const Te=e.XpG().$implicit,We=e.XpG();return e.Njj(We.viewConflicts(Pe,Te))}),e.j41(4,"button",38),e.bIt("click",function(Pe){e.eBV(oe);const Te=e.XpG().$implicit,We=e.XpG();return e.Njj(We.viewConflicts(Pe,Te))}),e.j41(5,"span",39),e.EFF(6),e.k0s()()(),e.bVm()}if(2&N){const oe=e.XpG().$implicit,R=e.XpG();e.R7$(2),e.Y8G("ngIf",oe.resourceState==R.resourceStates.Conflicted),e.R7$(4),e.JRh(R.getConflicts(oe))}}function y(N,fe){1&N&&e.nrm(0,"span",45)}function z(N,fe){1&N&&e.nrm(0,"span",46)}function Z(N,fe){1&N&&e.nrm(0,"span",40)}function v(N,fe){if(1&N){const oe=e.RV6();e.qex(0),e.j41(1,"td",41),e.bIt("click",function(){e.eBV(oe);const Pe=e.XpG().$implicit,Te=e.XpG();return e.Njj(Te.toggle(Pe))}),e.DNE(2,y,1,0,"span",42)(3,z,1,0,"span",43)(4,Z,1,0,"span",36),e.k0s(),e.j41(5,"td",44),e.bIt("click",function(){e.eBV(oe);const Pe=e.XpG().$implicit,Te=e.XpG();return e.Njj(Te.toggle(Pe))}),e.j41(6,"span",39),e.EFF(7),e.k0s()(),e.bVm()}if(2&N){const oe=e.XpG().$implicit,R=e.XpG();e.R7$(2),e.Y8G("ngIf",oe.resourceState==R.resourceStates.New),e.R7$(),e.Y8G("ngIf",oe.resourceState==R.resourceStates.Duplicate),e.R7$(),e.Y8G("ngIf",oe.conflictedByDependencies),e.R7$(2),e.AVh("tw-italic",!oe.isSelectable),e.R7$(),e.SpI(" ",R.getResourceState(oe)," ")}}function L(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"tr",26),e.DNE(1,B,2,1,"td",3),e.j41(2,"td",27),e.bIt("click",function(){const Pe=e.eBV(oe).$implicit,Te=e.XpG();return e.Njj(Te.toggle(Pe))}),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.DNE(5,V,2,2,"td",28),e.j41(6,"td",29),e.bIt("click",function(){const Pe=e.eBV(oe).$implicit,Te=e.XpG();return e.Njj(Te.toggle(Pe))}),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.DNE(9,F,2,1,"td",30)(10,W,7,2,"ng-container",31)(11,v,8,6,"ng-container",31),e.k0s()}if(2&N){const oe=fe.$implicit,R=e.XpG();e.Y8G("ngClass",e.eq3(11,g,oe.resourceState===R.resourceStates.Duplicate)),e.R7$(),e.Y8G("ngIf",R.showSelectAll()),e.R7$(),e.Y8G("title",oe.displayName),e.R7$(2),e.JRh(oe.displayName),e.R7$(),e.Y8G("ngIf","ClaimType"!==R.summaryDisplayType),e.R7$(2),e.SpI(" ",e.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+oe.displayType)," "),e.R7$(2),e.Y8G("ngIf","Client"!==R.summaryDisplayType),e.R7$(),e.Y8G("ngIf",oe.resourceState===R.resourceStates.Conflicted&&!oe.conflictedByDependencies),e.R7$(),e.Y8G("ngIf",oe.resourceState!==R.resourceStates.Conflicted||oe.conflictedByDependencies)}}function J(N,fe){1&N&&(e.j41(0,"p",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&N&&(e.R7$(),e.SpI(" * ",e.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let te=(()=>{class N extends A.P{get data(){return this._importResourceType}set data(oe){this._importResourceType=oe}constructor(oe,R){super(),this.importWizardService=oe,this.translate=R,this.resourceStates=t.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=p.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(oe=>{oe.every(Pe=>Pe.resourceType===t.ot.Client)&&(this.nextImport=!0);let R=oe.filter(Pe=>this.data.includes(Pe.resourceType));if(!this.data.includes(t.ot.Client)){const Pe=oe.filter(Te=>Te.resourceType===t.ot.Client&&!0===Te.selected).map(Te=>Te.identifier);R=R.filter(Te=>Te.dependantClients.map(We=>We.identifier).some(We=>Pe.includes(We)))}if(1===this.data.length&&this.data.includes(t.ot.Client)){const Pe=R.filter(We=>We.resourceState===t.jD.Duplicate),Te=oe.filter(We=>We.resourceType!==t.ot.Client&&We.dependantClients.length>0&&We.resourceState===t.jD.Conflicted);Pe.forEach(We=>{Te.filter(lt=>lt.dependantClients.some(vt=>vt.identifier===We.identifier)).length>0&&(We.resourceState=t.jD.Conflicted,We.selected=!0,We.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(R),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(oe=>oe.selected)||this.displayData.every(oe=>!1===oe.isSelectable)&&this.summaryDisplayType!==p.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===p.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(oe=>oe.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(oe=>oe.resourceState!==this.resourceStates.Duplicate).every(oe=>!0===oe.selected)}toggle(oe){oe.isSelectable&&(oe.selected=!oe.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(oe=>oe.selected=this.allSelected),this.selectionChanged()}getConflicts(oe){let Pe,R=0;return oe.conflicts.forEach(Te=>{R+=Te.conflicts.length}),Pe=this.translate.instant(1===R?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),R+" "+Pe}viewConflicts(oe,R){oe.stopPropagation(),this.openModal(a.M.summaryConflicts,R)}showSelectAll(){return this.displayData.some(oe=>oe.isSelectable)&&!this.displayData.every(oe=>oe.resourceState===t.jD.Duplicate)}displayLinkedClients(oe){return null===oe.dependantClients||0===oe.dependantClients.length?"-":oe.dependantClients.length.toString()}getResourceState(oe){return oe.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[oe.resourceState]}static{this.\u0275fac=function(R){return new(R||N)(e.rXU(w.o),e.rXU(m.c$))}}static{this.\u0275cmp=e.VBU({type:N,selectors:[["app-import-summary"]],standalone:!1,features:[e.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(R,Pe){1&R&&(e.j41(0,"div",0)(1,"div",1)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",2)(6,"thead")(7,"tr"),e.DNE(8,k,3,1,"th",3),e.j41(9,"th",4),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,Y,3,3,"th",5),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,u,3,3,"th",7),e.nrm(17,"td",8),e.j41(18,"th",9)(19,"span",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,L,12,13,"tr",12),e.k0s()(),e.DNE(24,J,3,3,"p",13),e.k0s(),e.nrm(25,"div",14),e.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),e.bIt("click",function(){return Pe.goNext()}),e.EFF(30),e.k0s(),e.j41(31,"button",19),e.bIt("click",function(){return Pe.goBack()}),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"button",20),e.bIt("click",function(){return Pe.cancel()}),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()),2&R&&(e.R7$(3),e.JRh(e.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Pe.summaryDisplayType)),e.R7$(2),e.AVh("selectable",Pe.showSelectAll()),e.R7$(3),e.Y8G("ngIf",Pe.showSelectAll()),e.R7$(2),e.JRh(e.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Pe.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf","ClaimType"!==Pe.summaryDisplayType),e.R7$(2),e.JRh(e.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Pe.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf","Client"!==Pe.summaryDisplayType),e.R7$(4),e.JRh(e.bMT(21,21,"Common.Status")),e.R7$(3),e.Y8G("ngForOf",Pe.displayData),e.R7$(),e.Y8G("ngIf","Client"!==Pe.summaryDisplayType),e.R7$(5),e.Y8G("disabled",!Pe.canNext()),e.R7$(),e.JRh(Pe.getNextText()),e.R7$(2),e.JRh(e.bMT(33,23,"Common.Back")),e.R7$(3),e.JRh(e.bMT(36,25,"Common.Cancel")))},dependencies:[D.YU,D.Sq,D.bT,S.Zm,S.BC,S.vS,m.D9],encapsulation:2})}}return N})()},7767:(ot,ve,l)=>{"use strict";l.d(ve,{g:()=>p});var t=l(1360),a=l(5794);let p=(()=>{class A{constructor(w){this.inner=w}success_noduplicate(w,m){return this.showToast(w,m,(D,S)=>this.inner.success(D,S))}error_noduplicate(w,m){return this.showToast(w,m,(D,S)=>this.inner.error(D,S))}showToast(w,m,D){var S=this.inner.findDuplicate(m,w,!1,!1);return S&&this.inner.remove(S.toastId),D(w,m)}static{this.\u0275fac=function(m){return new(m||A)(t.KVO(a.tw))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},7773:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>p});var t=l(3165),a=l(1360);let p=(()=>{class A{constructor(w){this.http=w,this.headers=new t.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||A)(a.KVO(t.Qq))}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},7778:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>k});var t=l(1360),a=l(8434),p=l(8114),A=l(8018);const e=["deleteConfirmationModal"];function w(Y,u){1&Y&&(t.j41(0,"p",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function m(Y,u){if(1&Y&&(t.j41(0,"p",6),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5,"?"),t.k0s()),2&Y){const E=t.XpG();t.R7$(),t.SpI("",t.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),t.R7$(3),t.JRh(E.resourceName)}}function D(Y,u){1&Y&&(t.nrm(0,"p",7),t.nI1(1,"translate")),2&Y&&t.Y8G("innerHTML",t.bMT(1,1,"Common.Delete.Warning"),t.npT)}function S(Y,u){if(1&Y&&(t.nrm(0,"p",7),t.nI1(1,"translate")),2&Y){const E=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,E.danger),t.npT)}}function g(Y,u){if(1&Y&&(t.nrm(0,"p",8),t.nI1(1,"translate")),2&Y){const E=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,E.warning),t.npT)}}let k=(()=>{class Y{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new t.bkB,this.close=new t.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(B){return new(B||Y)}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(B,V){if(1&B&&t.GBs(e,7),2&B){let F;t.mGM(F=t.lsd())&&(V.deleteModal=F.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},standalone:!1,decls:8,vars:11,consts:[["deleteConfirmationModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(B,V){if(1&B){const F=t.RV6();t.j41(0,"app-confirmation-modal",1,0),t.bIt("confirm",function(){return t.eBV(F),t.Njj(V.delete.emit())}),t.qex(2,2),t.DNE(3,w,3,3,"p",3)(4,m,6,4,"p",3)(5,D,2,3,"p",4)(6,S,2,3,"p",4)(7,g,2,3,"p",5),t.bVm(),t.k0s()}2&B&&(t.Y8G("modalId",V.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),t.R7$(3),t.Y8G("ngIf",!V.resourceName),t.R7$(),t.Y8G("ngIf",V.resourceName),t.R7$(),t.Y8G("ngIf",V.destructive&&null===V.warning&&null===V.danger),t.R7$(),t.Y8G("ngIf",V.destructive&&V.danger),t.R7$(),t.Y8G("ngIf",V.destructive&&V.warning))},dependencies:[a.bT,p.B,A.D9],encapsulation:2})}}return Y})()},7786:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>w});var t=l(6365),a=l(8750),p=l(983),A=l(9326),e=l(6648);function w(...m){const D=(0,A.lI)(m),S=(0,A.R0)(m,1/0),g=m;return g.length?1===g.length?(0,a.Tg)(g[0]):(0,t.U)(S)((0,e.H)(g,D)):p.w}},7811:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>y});var t=l(1360),a=l(1413),p=l(1985),A=l(5558),e=l(6354),w=l(7673),m=l(1584),D=l(526),S=l(9417),g=l(8400),k=l(8434),Y=l(8018);function u(z,Z){if(1&z&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&z){const v=Z.$implicit;t.Y8G("value",v),t.R7$(),t.JRh(v)}}function E(z,Z){if(1&z){const v=t.RV6();t.j41(0,"select",9,1),t.bIt("ngModelChange",function(J){t.eBV(v);const te=t.XpG();return t.Njj(te.valueChanged.emit(J))})("keyup",function(){t.eBV(v);const J=t.XpG();return t.Njj(J.keyupEvent.emit())}),t.DNE(2,u,2,2,"option",10),t.k0s()}if(2&z){const v=t.sdS(1),L=t.XpG();t.Y8G("id",L.forId)("ngModel",L.value)("disabled",L.disabled&&!v.dirty),t.R7$(2),t.Y8G("ngForOf",L.allowedValues)}}function B(z,Z){if(1&z){const v=t.RV6();t.j41(0,"input",12,1),t.nI1(2,"translate"),t.bIt("ngModelChange",function(J){t.eBV(v);const te=t.XpG();return t.Njj(te.valueChanged.emit(J))})("focus",function(J){t.eBV(v);const te=t.XpG();return t.Njj(te.onFocus(J))}),t.k0s()}if(2&z){const v=t.sdS(1),L=t.XpG(),J=t.sdS(5);t.FS9("placeholder",t.bMT(2,9,"ClaimTypes.TypeaheadHelp")),t.Y8G("id",L.forId)("container",L.hostingModal)("ngModel",L.value)("typeahead",L.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",J)("disabled",L.disabled&&!v.dirty)}}function V(z,Z){if(1&z&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"slice"),t.k0s()),2&z){const v=Z.item;t.R7$(),t.JRh(v.length>20?t.brH(2,1,v,0,20)+"...":v)}}function F(z,Z){1&z&&(t.j41(0,"div",13),t.nrm(1,"span",14),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&z&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.LoadingPleaseWait")))}function M(z,Z){1&z&&(t.j41(0,"div",15),t.nrm(1,"span",16),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&z&&(t.R7$(3),t.JRh(t.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function W(z,Z){if(1&z&&(t.j41(0,"div",17),t.nrm(1,"span",16),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&z){const v=t.XpG();t.R7$(3),t.Lme("",t.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",v.totalValues,")")}}let y=(()=>{class z{set hostingModal(v){this._hostingModal=v}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(v){this._typeId=v,this.typeIdSub.next(v)}get typeId(){return this._typeId}constructor(v){this.claimTypesService=v,this.valueChanged=new t.bkB,this.disabled=!1,this.keyupEvent=new t.bkB,this.typeIdSub=new a.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(L=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(J=>{this.totalValues=J.totalAllowedValues,this.allowedValues=J.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new p.c(v=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,v.next(this.value)}).pipe((0,A.n)(v=>v?this.claimTypesService.getAllowedValues(this.typeId,v,this.threshold).pipe((0,e.T)(L=>(this.totalValues=L.totalAllowedValues,this.allowedValues=L.allowedValues,this.loading=!1,this.nothingFound=L.totalAllowedValues<=0,this.tooManyResults=L.totalAllowedValues>=this.threshold,L.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,w.of)([]))))}onFocus(v){v.stopPropagation(),(0,m.O)(1).subscribe(()=>{const L=new Event("input");v.target?.dispatchEvent(L)})}static{this.\u0275fac=function(L){return new(L||z)(t.rXU(D.X))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[0,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},standalone:!1,decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(L,J){1&L&&(t.j41(0,"div",2),t.DNE(1,E,3,4,"select",3),t.k0s(),t.j41(2,"div",4),t.DNE(3,B,3,11,"input",5),t.k0s(),t.DNE(4,V,3,5,"ng-template",null,0,t.C5r)(6,F,5,3,"div",6)(7,M,5,3,"div",7)(8,W,5,4,"div",8)),2&L&&(t.R7$(),t.Y8G("ngIf",!J.typeahead),t.R7$(2),t.Y8G("ngIf",J.typeahead),t.R7$(3),t.Y8G("ngIf",J.typeahead&&J.loading),t.R7$(),t.Y8G("ngIf",J.typeahead&&J.nothingFound),t.R7$(),t.Y8G("ngIf",J.typeahead&&J.tooManyResults))},dependencies:[S.xH,S.y7,S.me,S.wz,S.BC,S.YS,S.vS,g.Xi,k.Sq,k.bT,k.P9,Y.D9],encapsulation:2})}}return z})()},7830:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>S});var t=l(1068),a=l(1360),p=l(8434),A=l(9417),e=l(8018);const w=()=>({standalone:!0});function m(g,k){if(1&g&&(a.j41(0,"option",11),a.EFF(1),a.k0s()),2&g){const Y=k.$implicit;a.Y8G("value",Y),a.R7$(),a.JRh(Y)}}function D(g,k){if(1&g){const Y=a.RV6();a.j41(0,"li",12)(1,"button",13),a.bIt("click",function(){const E=a.eBV(Y).$implicit,B=a.XpG();return a.Njj(B.removeAlgorithm(E))}),a.nrm(2,"span",14),a.j41(3,"span"),a.EFF(4),a.k0s()()()}if(2&g){const Y=k.$implicit;a.R7$(),a.BMQ("aria-label",Y),a.R7$(3),a.JRh(Y)}}let S=(()=>{class g{constructor(){this.allowedAlgorithms=["ES256","ES384","ES512","PS256","PS384","PS512","RS256","RS384","RS512"]}ngAfterContentInit(){this.allowedAlgorithms=t.FF(this.allowedAlgorithms,...this.form.get(this.algorithmControlName).value),this.selectedAlgorithm=this.allowedAlgorithms[0]}addAlgorithm(){const Y=this.form.get(this.algorithmControlName);Y.setValue([...Y.value,this.selectedAlgorithm]);const u=this.allowedAlgorithms.indexOf(this.selectedAlgorithm);this.allowedAlgorithms.splice(u,1),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}removeAlgorithm(Y){const u=this.form.get(this.algorithmControlName),E=u.value.indexOf(Y);u.value.splice(E,1),this.allowedAlgorithms.push(Y),this.allowedAlgorithms.sort(),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275cmp=a.VBU({type:g,selectors:[["app-signing-algorithm-picker"]],inputs:{form:"form",algorithmControlName:"algorithmControlName"},standalone:!1,decls:15,vars:9,consts:[[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex"],[1,"tw-form-select"],["id","client-token-signing-algorithm",1,"tw-form-control","tw-mr-1","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],["id","signing-algorithm-add-button",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-pill","id","signing-algorithm-added-algorithms",4,"ngFor","ngForOf"],[3,"value"],["id","signing-algorithm-added-algorithms",1,"tw-pill"],[3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(u,E){1&u&&(a.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),a.mxI("ngModelChange",function(V){return a.DH7(E.selectedAlgorithm,V)||(E.selectedAlgorithm=V),V}),a.DNE(7,m,2,2,"option",6),a.k0s()(),a.j41(8,"button",7),a.bIt("click",function(){return E.addAlgorithm()}),a.nrm(9,"span",8),a.j41(10,"span",9),a.EFF(11),a.nI1(12,"translate"),a.k0s()()()()()(),a.j41(13,"ul"),a.DNE(14,D,5,2,"li",10),a.k0s()()),2&u&&(a.R7$(6),a.R50("ngModel",E.selectedAlgorithm),a.Y8G("ngModelOptions",a.lJ4(8,w)),a.R7$(),a.Y8G("ngForOf",E.allowedAlgorithms),a.R7$(),a.Y8G("disabled",0==E.allowedAlgorithms.length),a.R7$(3),a.JRh(a.bMT(12,6,"Common.Add")),a.R7$(3),a.Y8G("ngForOf",E.form.get(E.algorithmControlName).value))},dependencies:[p.Sq,A.xH,A.y7,A.wz,A.BC,A.vS,e.D9],encapsulation:2})}}return g})()},7883:(ot,ve,l)=>{"use strict";l.d(ve,{i:()=>y});var t=l(1413);class a extends t.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(Z){const{hasError:v,_hasValue:L,_value:J,thrownError:te,isStopped:N,_isComplete:fe}=this;v?Z.error(te):(N||fe)&&(L&&Z.next(J),Z.complete())}next(Z){this.isStopped||(this._value=Z,this._hasValue=!0)}complete(){const{_hasValue:Z,_value:v,_isComplete:L}=this;L||(this._isComplete=!0,Z&&super.next(v),super.complete())}}var p=l(7468),A=l(3178),e=l(6354),w=l(6697),m=l(7263),D=l(9838),S=l(4589),g=l(1360),k=l(2947),Y=l(5139),u=l(9196),E=l(1339),B=l(7773),V=l(3853),F=l(5424),M=l(6888),W=l(8018);let y=(()=>{class z{constructor(v,L,J,te,N,fe,oe,R,Pe){this.router=v,this.localize=L,this.configService=J,this.authService=te,this.permissionService=N,this.licenseService=fe,this.errorService=oe,this.loginTrackingService=R,this.translate=Pe,this.userPermissions$=new a,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.authorizationServerManagerView=!1,this.authorizationServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(v){let J=v??this.router.url;J=J.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",J),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(v){if(v.isAuthenticated){let L=this.storage.getItem("redirectUrl");null==L&&(L="/home");const J=this.localize.translateRoute(L);this.handleSuccessfulAuthorization(J)}else this.handleUnsuccessfulAuthorization(v.username)}handleSuccessfulAuthorization(v){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(v)},L=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(L,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:D.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(v){if((0,m.gP)(v))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:D.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const L=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(L)}isNonProd(){return this.licenseType===S.G.Demo||this.licenseType===S.G.NonProduction}init(){const v=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,p.p)(v)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,e.T)(v=>{this.userPermissions=v.permissions,this.policyClaims=v.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(A.a[A.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.authorizationServerManagerView=!0,this.authorizationServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(A.a[A.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.authorizationServerManagerView=!1,this.authorizationServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(A.a[A.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(A.a[A.a.UserManagerReadOnly]),this.authorizationServerManagerView=this.userPermissions.includes(A.a[A.a.AuthorizationServerManager]),this.authorizationServerManagerReadOnlyView=this.userPermissions.includes(A.a[A.a.AuthorizationServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(A.a[A.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.authorizationServerManagerView||this.authorizationServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(v.permissions),this.userPermissions$.complete()},v=>{this.errorService.handleError(v)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,e.T)(v=>{this.licenseType=v.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=S.G.NonProduction),v.isStarterLicense()&&(this.licenseType=S.G.Starter),this.nonProduction=v.licenseType!==S.G.Production,this.organisation=v.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,w.s)(1))}static{this.\u0275fac=function(L){return new(L||z)(g.KVO(k.Ix),g.KVO(Y.QG),g.KVO(u.w),g.KVO(E.u),g.KVO(B.n),g.KVO(V.X),g.KVO(F.I),g.KVO(M.W),g.KVO(W.c$))}}static{this.\u0275prov=g.jDH({token:z,factory:z.\u0275fac})}}return z})()},7908:(ot,ve,l)=>{"use strict";function t(a,p){if(a){const A=a.indexOf(p);0<=A&&a.splice(A,1)}}l.d(ve,{o:()=>t})},7921:(ot,ve,l)=>{"use strict";l.d(ve,{b:()=>a});var t=l(1746);class a{constructor(A){Object.keys(A).forEach(w=>{this[w]=a.toReadOnlyValue(A[w])})}}(a||(a={})).toReadOnlyValue=function A(e){let w=e;return"boolean"==typeof e&&(w=w?"Yes":"No"),e instanceof Date&&(w=w?"Yes":"No"),e instanceof Array&&(w=e.join(", ").trimEnd()),new t.w(w)}},7953:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>a});var t=l(8071);function a(p){return Symbol.asyncIterator&&(0,t.T)(p?.[Symbol.asyncIterator])}},7957:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>t});class t{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(p){return this.nameComponentMap.get(p)}getWizardTitle(p){return this.nameTitleMap.get(p)}}},7970:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>e});var t=l(1360),a=l(7263),p=l(8434);function A(w,m){if(1&w){const D=t.RV6();t.j41(0,"li",2)(1,"input",3),t.bIt("click",function(){const g=t.eBV(D).index,k=t.XpG();return t.Njj(k.selectValue(g))}),t.k0s(),t.j41(2,"label",4),t.bIt("click",function(){const g=t.eBV(D).index,k=t.XpG();return t.Njj(k.selectValue(g))}),t.j41(3,"span",5),t.EFF(4),t.k0s()()()}if(2&w){const D=m.$implicit,S=m.index,g=t.XpG();t.R7$(),t.FCK("id","",g.id,"-enum-val-",S,""),t.Mz_("name","",g.id,"-state"),t.Y8G("checked",D===g.value),t.R7$(),t.STu("tw-state-toggle-btn ",g.borderStyle(S)," ",g.isSelected(D),""),t.FCK("for","",g.id,"-enum-val-",S,""),t.BMQ("aria-label",g.enumValues),t.R7$(2),t.JRh(D)}}let e=(()=>{class w{get id(){return this._id}set id(D){this._id=D||(0,a.Nl)()}constructor(){this.readonly=!1,this.newValue=new t.bkB}selectValue(D){this.readonly||this.newValue.emit(this.options[D])}borderStyle(D){return 0===D?"tw-rounded-l-lg":D>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(D){return D===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},standalone:!1,decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(S,g){1&S&&(t.j41(0,"ul",0),t.DNE(1,A,5,15,"li",1),t.k0s()),2&S&&(t.FS9("id",g.id+"-enumValues-select"),t.R7$(),t.Y8G("ngForOf",g.options))},dependencies:[p.Sq],encapsulation:2})}}return w})()},8018:(ot,ve,l)=>{"use strict";l.d(ve,{D9:()=>Ye,Wr:()=>Y,c$:()=>vt,h:()=>Ve});var t=l(1360),a=l(7673),p=l(4402),A=l(7468),e=l(8793),w=l(9030),m=l(6697),D=l(9568),S=l(6354),g=l(274),k=l(5558);class Y{}let u=(()=>{class Be extends Y{getTranslation(Ue){return(0,a.of)({})}static \u0275fac=(()=>{let Ue;return function(st){return(Ue||(Ue=t.xGo(Be)))(st||Be)}})();static \u0275prov=t.jDH({token:Be,factory:Be.\u0275fac})}return Be})();class E{}let B=(()=>{class Be{handle(Ue){return Ue.key}static \u0275fac=function(ct){return new(ct||Be)};static \u0275prov=t.jDH({token:Be,factory:Be.\u0275fac})}return Be})();function V(Be,Xe){if(Be===Xe)return!0;if(null===Be||null===Xe)return!1;if(Be!=Be&&Xe!=Xe)return!0;const Ue=typeof Be;let st,Qe,ne;if(Ue==typeof Xe&&"object"==Ue){if(!Array.isArray(Be)){if(Array.isArray(Xe))return!1;for(Qe in ne=Object.create(null),Be){if(!V(Be[Qe],Xe[Qe]))return!1;ne[Qe]=!0}for(Qe in Xe)if(!(Qe in ne)&&typeof Xe[Qe]<"u")return!1;return!0}if(!Array.isArray(Xe))return!1;if((st=Be.length)==Xe.length){for(Qe=0;Qe<st;Qe++)if(!V(Be[Qe],Xe[Qe]))return!1;return!0}}return!1}function F(Be){return typeof Be<"u"&&null!==Be}function M(Be){return W(Be)&&!y(Be)&&null!==Be}function W(Be){return"object"==typeof Be}function y(Be){return Array.isArray(Be)}function z(Be){return"string"==typeof Be}function v(Be,Xe){const Ue=Object.assign({},Be);return W(Be)?(W(Be)&&W(Xe)&&Object.keys(Xe).forEach(ct=>{M(Xe[ct])?ct in Be?Ue[ct]=v(Be[ct],Xe[ct]):Object.assign(Ue,{[ct]:Xe[ct]}):Object.assign(Ue,{[ct]:Xe[ct]})}),Ue):v({},Xe)}function L(Be,Xe){const Ue=Xe.split(".");Xe="";do{Xe+=Ue.shift(),F(Be)&&F(Be[Xe])&&(M(Be[Xe])||y(Be[Xe])||!Ue.length)?(Be=Be[Xe],Xe=""):Ue.length?Xe+=".":Be=void 0}while(Ue.length);return Be}class te{}let N=(()=>{class Be extends te{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(Ue,ct){return z(Ue)?this.interpolateString(Ue,ct):function Z(Be){return"function"==typeof Be}(Ue)?this.interpolateFunction(Ue,ct):void 0}interpolateFunction(Ue,ct){return Ue(ct)}interpolateString(Ue,ct){return ct?Ue.replace(this.templateMatcher,(st,Qe)=>{const ne=L(ct,Qe);return F(ne)?ne:st}):Ue}static \u0275fac=(()=>{let Ue;return function(st){return(Ue||(Ue=t.xGo(Be)))(st||Be)}})();static \u0275prov=t.jDH({token:Be,factory:Be.\u0275fac})}return Be})();class fe{}let oe=(()=>{class Be extends fe{compile(Ue,ct){return Ue}compileTranslations(Ue,ct){return Ue}static \u0275fac=(()=>{let Ue;return function(st){return(Ue||(Ue=t.xGo(Be)))(st||Be)}})();static \u0275prov=t.jDH({token:Be,factory:Be.\u0275fac})}return Be})();class R{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new t.bkB;onLangChange=new t.bkB;onDefaultLangChange=new t.bkB}const Pe=new t.nKC("ISOLATE_TRANSLATE_SERVICE"),Te=new t.nKC("USE_DEFAULT_LANG"),We=new t.nKC("DEFAULT_LANGUAGE"),rt=new t.nKC("USE_EXTEND"),lt=Be=>(0,p.A)(Be)?Be:(0,a.of)(Be);let vt=(()=>{class Be{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(Ue){this.store.defaultLang=Ue}get currentLang(){return this.store.currentLang}set currentLang(Ue){this.store.currentLang=Ue}get langs(){return this.store.langs}set langs(Ue){this.store.langs=Ue}get translations(){return this.store.translations}set translations(Ue){this.store.translations=Ue}constructor(Ue,ct,st,Qe,ne,K=!0,de=!1,ge=!1,o){this.store=Ue,this.currentLoader=ct,this.compiler=st,this.parser=Qe,this.missingTranslationHandler=ne,this.useDefaultLang=K,this.extend=ge,de&&(this.store=new R),o&&this.setDefaultLang(o)}setDefaultLang(Ue){if(Ue===this.defaultLang)return;const ct=this.retrieveTranslations(Ue);typeof ct<"u"?(null==this.defaultLang&&(this.defaultLang=Ue),ct.pipe((0,m.s)(1)).subscribe(()=>{this.changeDefaultLang(Ue)})):this.changeDefaultLang(Ue)}getDefaultLang(){return this.defaultLang}use(Ue){if(this.lastUseLanguage=Ue,Ue===this.currentLang)return(0,a.of)(this.translations[Ue]);this.currentLang||(this.currentLang=Ue);const ct=this.retrieveTranslations(Ue);return(0,p.A)(ct)?(ct.pipe((0,m.s)(1)).subscribe(()=>{this.changeLang(Ue)}),ct):(this.changeLang(Ue),(0,a.of)(this.translations[Ue]))}changeLang(Ue){Ue===this.lastUseLanguage&&(this.currentLang=Ue,this.onLangChange.emit({lang:Ue,translations:this.translations[Ue]}),null==this.defaultLang&&this.changeDefaultLang(Ue))}retrieveTranslations(Ue){if(typeof this.translations[Ue]>"u"||this.extend)return this._translationRequests[Ue]=this._translationRequests[Ue]||this.loadAndCompileTranslations(Ue),this._translationRequests[Ue]}getTranslation(Ue){return this.loadAndCompileTranslations(Ue)}loadAndCompileTranslations(Ue){this.pending=!0;const ct=this.currentLoader.getTranslation(Ue).pipe((0,D.t)(1),(0,m.s)(1));return this.loadingTranslations=ct.pipe((0,S.T)(st=>this.compiler.compileTranslations(st,Ue)),(0,D.t)(1),(0,m.s)(1)),this.loadingTranslations.subscribe({next:st=>{this.translations[Ue]=this.extend&&this.translations[Ue]?{...st,...this.translations[Ue]}:st,this.updateLangs(),this.pending=!1},error:st=>{this.pending=!1}}),ct}setTranslation(Ue,ct,st=!1){const Qe=this.compiler.compileTranslations(ct,Ue);this.translations[Ue]=(st||this.extend)&&this.translations[Ue]?v(this.translations[Ue],Qe):Qe,this.updateLangs(),this.onTranslationChange.emit({lang:Ue,translations:this.translations[Ue]})}getLangs(){return this.langs}addLangs(Ue){const ct=Ue.filter(st=>!this.langs.includes(st));ct.length>0&&(this.langs=[...this.langs,...ct])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(Ue,ct,st){let Qe;if(Ue&&(Qe=this.runInterpolation(L(Ue,ct),st)),void 0===Qe&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Qe=this.runInterpolation(L(this.translations[this.defaultLang],ct),st)),void 0===Qe){const ne={key:ct,translateService:this};typeof st<"u"&&(ne.interpolateParams=st),Qe=this.missingTranslationHandler.handle(ne)}return void 0!==Qe?Qe:ct}runInterpolation(Ue,ct){if(y(Ue))return Ue.map(st=>this.runInterpolation(st,ct));if(M(Ue)){const st={};for(const Qe in Ue){const ne=this.runInterpolation(Ue[Qe],ct);void 0!==ne&&(st[Qe]=ne)}return st}return this.parser.interpolate(Ue,ct)}getParsedResult(Ue,ct,st){if(ct instanceof Array){const Qe={};let ne=!1;for(const de of ct)Qe[de]=this.getParsedResultForKey(Ue,de,st),ne=ne||(0,p.A)(Qe[de]);if(!ne)return Qe;const K=ct.map(de=>lt(Qe[de]));return(0,A.p)(K).pipe((0,S.T)(de=>{const ge={};return de.forEach((o,dt)=>{ge[ct[dt]]=o}),ge}))}return this.getParsedResultForKey(Ue,ct,st)}get(Ue,ct){if(!F(Ue)||!Ue.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,g.H)(st=>lt(this.getParsedResult(st,Ue,ct)))):lt(this.getParsedResult(this.translations[this.currentLang],Ue,ct))}getStreamOnTranslationChange(Ue,ct){if(!F(Ue)||!Ue.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,e.x)((0,w.v)(()=>this.get(Ue,ct)),this.onTranslationChange.pipe((0,k.n)(st=>{const Qe=this.getParsedResult(st.translations,Ue,ct);return lt(Qe)})))}stream(Ue,ct){if(!F(Ue)||!Ue.length)throw new Error('Parameter "key" required');return(0,e.x)((0,w.v)(()=>this.get(Ue,ct)),this.onLangChange.pipe((0,k.n)(st=>{const Qe=this.getParsedResult(st.translations,Ue,ct);return lt(Qe)})))}instant(Ue,ct){if(!F(Ue)||0===Ue.length)throw new Error('Parameter "key" is required and cannot be empty');const st=this.getParsedResult(this.translations[this.currentLang],Ue,ct);return(0,p.A)(st)?Array.isArray(Ue)?Ue.reduce((Qe,ne)=>(Qe[ne]=ne,Qe),{}):Ue:st}set(Ue,ct,st=this.currentLang){(function J(Be,Xe,Ue){const ct=Xe.split(".");let st=Be;for(let Qe=0;Qe<ct.length;Qe++){const ne=ct[Qe];Qe===ct.length-1?st[ne]=Ue:((!st[ne]||!M(st[ne]))&&(st[ne]={}),st=st[ne])}})(this.translations[st],Ue,z(ct)?this.compiler.compile(ct,st):this.compiler.compileTranslations(ct,st)),this.updateLangs(),this.onTranslationChange.emit({lang:st,translations:this.translations[st]})}changeDefaultLang(Ue){this.defaultLang=Ue,this.onDefaultLangChange.emit({lang:Ue,translations:this.translations[Ue]})}reloadLang(Ue){return this.resetLang(Ue),this.loadAndCompileTranslations(Ue)}resetLang(Ue){delete this._translationRequests[Ue],delete this.translations[Ue]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const Ue=this.getBrowserCultureLang();return Ue?Ue.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(ct){return new(ct||Be)(t.KVO(R),t.KVO(Y),t.KVO(fe),t.KVO(te),t.KVO(E),t.KVO(Te),t.KVO(Pe),t.KVO(rt),t.KVO(We))};static \u0275prov=t.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),Ye=(()=>{class Be{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(Ue,ct){this.translate=Ue,this._ref=ct}updateValue(Ue,ct,st){const Qe=ne=>{this.value=void 0!==ne?ne:Ue,this.lastKey=Ue,this._ref.markForCheck()};if(st){const ne=this.translate.getParsedResult(st,Ue,ct);(0,p.A)(ne)?ne.subscribe(Qe):Qe(ne)}this.translate.get(Ue,ct).subscribe(Qe)}transform(Ue,...ct){if(!Ue||!Ue.length)return Ue;if(V(Ue,this.lastKey)&&V(ct,this.lastParams))return this.value;let st;if(F(ct[0])&&ct.length)if(z(ct[0])&&ct[0].length){const Qe=ct[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{st=JSON.parse(Qe)}catch(ne){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ct[0]}`)}}else M(ct[0])&&(st=ct[0]);return this.lastKey=Ue,this.lastParams=ct,this.updateValue(Ue,st),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Qe=>{this.lastKey&&Qe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Ue,st,Qe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Qe=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ue,st,Qe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ue,st))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(ct){return new(ct||Be)(t.rXU(vt,16),t.rXU(t.gRc,16))};static \u0275pipe=t.EJ8({name:"translate",type:Be,pure:!1});static \u0275prov=t.jDH({token:Be,factory:Be.\u0275fac})}return Be})(),Ve=(()=>{class Be{static forRoot(Ue={}){return{ngModule:Be,providers:[Ue.loader||{provide:Y,useClass:u},Ue.compiler||{provide:fe,useClass:oe},Ue.parser||{provide:te,useClass:N},Ue.missingTranslationHandler||{provide:E,useClass:B},R,{provide:Pe,useValue:Ue.isolate},{provide:Te,useValue:Ue.useDefaultLang},{provide:rt,useValue:Ue.extend},{provide:We,useValue:Ue.defaultLanguage},vt]}}static forChild(Ue={}){return{ngModule:Be,providers:[Ue.loader||{provide:Y,useClass:u},Ue.compiler||{provide:fe,useClass:oe},Ue.parser||{provide:te,useClass:N},Ue.missingTranslationHandler||{provide:E,useClass:B},{provide:Pe,useValue:Ue.isolate},{provide:Te,useValue:Ue.useDefaultLang},{provide:rt,useValue:Ue.extend},{provide:We,useValue:Ue.defaultLanguage},vt]}}static \u0275fac=function(ct){return new(ct||Be)};static \u0275mod=t.$C({type:Be});static \u0275inj=t.G2t({})}return Be})()},8040:(ot,ve,l)=>{var t=l(6589);l(5833),ot.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1},8044:(ot,ve,l)=>{"use strict";var t=l(1482),a=l(9377),p=l(9361),A=l(8434),e=l(1360);const w=new e.nKC("");let m=(()=>{class h{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,f){this._zone=f,r.forEach(C=>{C.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,f,C,x){return this._findPluginFor(f).addEventListener(r,f,C,x)}getZone(){return this._zone}_findPluginFor(r){let f=this._eventNameToPlugin.get(r);if(f)return f;if(f=this._plugins.find(x=>x.supports(r)),!f)throw new e.wOt(5101,!1);return this._eventNameToPlugin.set(r,f),f}static \u0275fac=function(f){return new(f||h)(e.KVO(w),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();class D{_doc;constructor(b){this._doc=b}manager}const S="ng-app-id";function g(h){for(const b of h)b.remove()}function k(h,b){const r=b.createElement("style");return r.textContent=h,r}function u(h,b){const r=b.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",h),r}let E=(()=>{class h{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,f,C,x={}){this.doc=r,this.appId=f,this.nonce=C,this.isServer=(0,a.Vy)(x),function Y(h,b,r,f){const C=h.head?.querySelectorAll(`style[${S}="${b}"],link[${S}="${b}"]`);if(C)for(const x of C)x.removeAttribute(S),x instanceof HTMLLinkElement?f.set(x.href.slice(x.href.lastIndexOf("/")+1),{usage:0,elements:[x]}):x.textContent&&r.set(x.textContent,{usage:0,elements:[x]})}(r,f,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,f){for(const C of r)this.addUsage(C,this.inline,k);f?.forEach(C=>this.addUsage(C,this.external,u))}removeStyles(r,f){for(const C of r)this.removeUsage(C,this.inline);f?.forEach(C=>this.removeUsage(C,this.external))}addUsage(r,f,C){const x=f.get(r);x?x.usage++:f.set(r,{usage:1,elements:[...this.hosts].map(le=>this.addElement(le,C(r,this.doc)))})}removeUsage(r,f){const C=f.get(r);C&&(C.usage--,C.usage<=0&&(g(C.elements),f.delete(r)))}ngOnDestroy(){for(const[,{elements:r}]of[...this.inline,...this.external])g(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(const[f,{elements:C}]of this.inline)C.push(this.addElement(r,k(f,this.doc)));for(const[f,{elements:C}]of this.external)C.push(this.addElement(r,u(f,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,f){return this.nonce&&f.setAttribute("nonce",this.nonce),this.isServer&&f.setAttribute(S,this.appId),r.appendChild(f)}static \u0275fac=function(f){return new(f||h)(e.KVO(p.q),e.KVO(e.sZ2),e.KVO(e.BIS,8),e.KVO(e.Agw))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const B={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},V=/%COMP%/g,W="%COMP%",y=`_nghost-${W}`,z=`_ngcontent-${W}`,v=new e.nKC("",{providedIn:"root",factory:()=>!0});function te(h,b){return b.map(r=>r.replace(V,h))}let fe=(()=>{class h{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,f,C,x,le,xe,tt,Ct=null,Lt=null){this.eventManager=r,this.sharedStylesHost=f,this.appId=C,this.removeStylesOnCompDestroy=x,this.doc=le,this.platformId=xe,this.ngZone=tt,this.nonce=Ct,this.tracingService=Lt,this.platformIsServer=(0,a.Vy)(xe),this.defaultRenderer=new oe(r,le,tt,this.platformIsServer,this.tracingService)}createRenderer(r,f){if(!r||!f)return this.defaultRenderer;this.platformIsServer&&f.encapsulation===e.gXe.ShadowDom&&(f={...f,encapsulation:e.gXe.Emulated});const C=this.getOrCreateRenderer(r,f);return C instanceof lt?C.applyToHost(r):C instanceof rt&&C.applyStyles(),C}getOrCreateRenderer(r,f){const C=this.rendererByCompId;let x=C.get(f.id);if(!x){const le=this.doc,xe=this.ngZone,tt=this.eventManager,Ct=this.sharedStylesHost,Lt=this.removeStylesOnCompDestroy,Cn=this.platformIsServer,jn=this.tracingService;switch(f.encapsulation){case e.gXe.Emulated:x=new lt(tt,Ct,f,this.appId,Lt,le,xe,Cn,jn);break;case e.gXe.ShadowDom:return new We(tt,Ct,r,f,le,xe,this.nonce,Cn,jn);default:x=new rt(tt,Ct,f,Lt,le,xe,Cn,jn)}C.set(f.id,x)}return x}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}static \u0275fac=function(f){return new(f||h)(e.KVO(m),e.KVO(E),e.KVO(e.sZ2),e.KVO(v),e.KVO(p.q),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(e.BIS),e.KVO(e.Lf2,8))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();class oe{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(b,r,f,C,x){this.eventManager=b,this.doc=r,this.ngZone=f,this.platformIsServer=C,this.tracingService=x}destroy(){}destroyNode=null;createElement(b,r){return r?this.doc.createElementNS(B[r]||r,b):this.doc.createElement(b)}createComment(b){return this.doc.createComment(b)}createText(b){return this.doc.createTextNode(b)}appendChild(b,r){(Te(b)?b.content:b).appendChild(r)}insertBefore(b,r,f){b&&(Te(b)?b.content:b).insertBefore(r,f)}removeChild(b,r){r.remove()}selectRootElement(b,r){let f="string"==typeof b?this.doc.querySelector(b):b;if(!f)throw new e.wOt(-5104,!1);return r||(f.textContent=""),f}parentNode(b){return b.parentNode}nextSibling(b){return b.nextSibling}setAttribute(b,r,f,C){if(C){r=C+":"+r;const x=B[C];x?b.setAttributeNS(x,r,f):b.setAttribute(r,f)}else b.setAttribute(r,f)}removeAttribute(b,r,f){if(f){const C=B[f];C?b.removeAttributeNS(C,r):b.removeAttribute(`${f}:${r}`)}else b.removeAttribute(r)}addClass(b,r){b.classList.add(r)}removeClass(b,r){b.classList.remove(r)}setStyle(b,r,f,C){C&(e.czy.DashCase|e.czy.Important)?b.style.setProperty(r,f,C&e.czy.Important?"important":""):b.style[r]=f}removeStyle(b,r,f){f&e.czy.DashCase?b.style.removeProperty(r):b.style[r]=""}setProperty(b,r,f){null!=b&&(b[r]=f)}setValue(b,r){b.nodeValue=r}listen(b,r,f,C){if("string"==typeof b&&!(b=(0,t.rb)().getGlobalEventTarget(this.doc,b)))throw new e.wOt(5102,!1);let x=this.decoratePreventDefault(f);return this.tracingService?.wrapEventListener&&(x=this.tracingService.wrapEventListener(b,r,x)),this.eventManager.addEventListener(b,r,x,C)}decoratePreventDefault(b){return r=>{if("__ngUnwrap__"===r)return b;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>b(r)):b(r))&&r.preventDefault()}}}function Te(h){return"TEMPLATE"===h.tagName&&void 0!==h.content}class We extends oe{sharedStylesHost;hostEl;shadowRoot;constructor(b,r,f,C,x,le,xe,tt,Ct){super(b,x,le,tt,Ct),this.sharedStylesHost=r,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Lt=C.styles;Lt=te(C.id,Lt);for(const jn of Lt){const Hn=document.createElement("style");xe&&Hn.setAttribute("nonce",xe),Hn.textContent=jn,this.shadowRoot.appendChild(Hn)}const Cn=C.getExternalStyles?.();if(Cn)for(const jn of Cn){const Hn=u(jn,x);xe&&Hn.setAttribute("nonce",xe),this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot(b){return b===this.hostEl?this.shadowRoot:b}appendChild(b,r){return super.appendChild(this.nodeOrShadowRoot(b),r)}insertBefore(b,r,f){return super.insertBefore(this.nodeOrShadowRoot(b),r,f)}removeChild(b,r){return super.removeChild(null,r)}parentNode(b){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(b)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends oe{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(b,r,f,C,x,le,xe,tt,Ct){super(b,x,le,xe,tt),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=C;let Lt=f.styles;this.styles=Ct?te(Ct,Lt):Lt,this.styleUrls=f.getExternalStyles?.(Ct)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class lt extends rt{contentAttr;hostAttr;constructor(b,r,f,C,x,le,xe,tt,Ct){const Lt=C+"-"+f.id;super(b,r,f,x,le,xe,tt,Ct,Lt),this.contentAttr=function L(h){return z.replace(V,h)}(Lt),this.hostAttr=function J(h){return y.replace(V,h)}(Lt)}applyToHost(b){this.applyStyles(),this.setAttribute(b,this.hostAttr,"")}createElement(b,r){const f=super.createElement(b,r);return super.setAttribute(f,this.contentAttr,""),f}}class vt extends t.qj{supportsDOMEvents=!0;static makeCurrent(){(0,t.ig)(new vt)}onAndCancel(b,r,f,C){return b.addEventListener(r,f,C),()=>{b.removeEventListener(r,f,C)}}dispatchEvent(b,r){b.dispatchEvent(r)}remove(b){b.remove()}createElement(b,r){return(r=r||this.getDefaultDocument()).createElement(b)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(b){return b.nodeType===Node.ELEMENT_NODE}isShadowRoot(b){return b instanceof DocumentFragment}getGlobalEventTarget(b,r){return"window"===r?window:"document"===r?b:"body"===r?b.body:null}getBaseHref(b){const r=function Ye(){return je=je||document.querySelector("base"),je?je.getAttribute("href"):null}();return null==r?null:function Ke(h){return new URL(h,document.baseURI).pathname}(r)}resetBaseElement(){je=null}getUserAgent(){return window.navigator.userAgent}getCookie(b){return(0,a.bS)(document.cookie,b)}}let je=null,Ve=(()=>{class h{build(){return new XMLHttpRequest}static \u0275fac=function(f){return new(f||h)};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})(),Be=(()=>{class h extends D{constructor(r){super(r)}supports(r){return!0}addEventListener(r,f,C,x){return r.addEventListener(f,C,x),()=>this.removeEventListener(r,f,C,x)}removeEventListener(r,f,C,x){return r.removeEventListener(f,C,x)}static \u0275fac=function(f){return new(f||h)(e.KVO(p.q))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const Xe=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={alt:h=>h.altKey,control:h=>h.ctrlKey,meta:h=>h.metaKey,shift:h=>h.shiftKey};let st=(()=>{class h extends D{constructor(r){super(r)}supports(r){return null!=h.parseEventName(r)}addEventListener(r,f,C,x){const le=h.parseEventName(f),xe=h.eventCallback(le.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.rb)().onAndCancel(r,le.domEventName,xe,x))}static parseEventName(r){const f=r.toLowerCase().split("."),C=f.shift();if(0===f.length||"keydown"!==C&&"keyup"!==C)return null;const x=h._normalizeKey(f.pop());let le="",xe=f.indexOf("code");if(xe>-1&&(f.splice(xe,1),le="code."),Xe.forEach(Ct=>{const Lt=f.indexOf(Ct);Lt>-1&&(f.splice(Lt,1),le+=Ct+".")}),le+=x,0!=f.length||0===x.length)return null;const tt={};return tt.domEventName=C,tt.fullKey=le,tt}static matchEventFullKeyCode(r,f){let C=Ue[r.key]||r.key,x="";return f.indexOf("code.")>-1&&(C=r.code,x="code."),!(null==C||!C)&&(C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),Xe.forEach(le=>{le!==C&&(0,ct[le])(r)&&(x+=le+".")}),x+=C,x===f)}static eventCallback(r,f,C){return x=>{h.matchEventFullKeyCode(x,r)&&C.runGuarded(()=>f(x))}}static _normalizeKey(r){return"esc"===r?"escape":r}static \u0275fac=function(f){return new(f||h)(e.KVO(p.q))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const qt=(0,e.oH4)(e.fpN,"browser",[{provide:e.Agw,useValue:a.Zn},{provide:e.PLl,useValue:function ge(){vt.makeCurrent()},multi:!0},{provide:p.q,useFactory:function dt(){return(0,e.TL$)(document),document}}]),Wn=[{provide:e.e01,useClass:class it{addToWindow(b){e.JZv.getAngularTestability=(f,C=!0)=>{const x=b.findTestabilityInTree(f,C);if(null==x)throw new e.wOt(5103,!1);return x},e.JZv.getAllAngularTestabilities=()=>b.getAllTestabilities(),e.JZv.getAllAngularRootElements=()=>b.getAllRootElements(),e.JZv.frameworkStabilizers||(e.JZv.frameworkStabilizers=[]),e.JZv.frameworkStabilizers.push(f=>{const C=e.JZv.getAllAngularTestabilities();let x=C.length;const le=function(){x--,0==x&&f()};C.forEach(xe=>{xe.whenStable(le)})})}findTestabilityInTree(b,r,f){return null==r?null:b.getTestability(r)??(f?(0,t.rb)().isShadowRoot(r)?this.findTestabilityInTree(b,r.host,!0):this.findTestabilityInTree(b,r.parentElement,!0):null)}}},{provide:e.WHO,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]},{provide:e.NYb,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]}],en=[{provide:e.H8p,useValue:"root"},{provide:e.zcH,useFactory:function o(){return new e.zcH}},{provide:w,useClass:Be,multi:!0,deps:[p.q]},{provide:w,useClass:st,multi:!0,deps:[p.q]},fe,E,m,{provide:e._9s,useExisting:fe},{provide:a.N0,useClass:Ve},[]];let Ln=(()=>{class h{constructor(){}static \u0275fac=function(f){return new(f||h)};static \u0275mod=e.$C({type:h});static \u0275inj=e.G2t({providers:[...en,...Wn],imports:[A.MD,e.Hbi]})}return h})();var ni=l(5312),mt=l(9417),Jt=l(3165),he=l(5218);function P(h){return new e.wOt(3e3,!1)}function Ui(h){switch(h.length){case 0:return new he.sf;case 1:return h[0];default:return new he.PZ(h)}}function zi(h,b,r=new Map,f=new Map){const C=[],x=[];let le=-1,xe=null;if(b.forEach(tt=>{const Ct=tt.get("offset"),Lt=Ct==le,Cn=Lt&&xe||new Map;tt.forEach((jn,Hn)=>{let gi=Hn,mi=jn;if("offset"!==Hn)switch(gi=h.normalizePropertyName(gi,C),mi){case he.FX:mi=r.get(Hn);break;case he.kp:mi=f.get(Hn);break;default:mi=h.normalizeStyleValue(Hn,gi,mi,C)}Cn.set(gi,mi)}),Lt||x.push(Cn),xe=Cn,le=Ct}),C.length)throw function xi(){return new e.wOt(3502,!1)}();return x}function ls(h,b,r,f){switch(b){case"start":h.onStart(()=>f(r&&ut(r,"start",h)));break;case"done":h.onDone(()=>f(r&&ut(r,"done",h)));break;case"destroy":h.onDestroy(()=>f(r&&ut(r,"destroy",h)))}}function ut(h,b,r){const x=Rt(h.element,h.triggerName,h.fromState,h.toState,b||h.phaseName,r.totalTime??h.totalTime,!!r.disabled),le=h._data;return null!=le&&(x._data=le),x}function Rt(h,b,r,f,C="",x=0,le){return{element:h,triggerName:b,fromState:r,toState:f,phaseName:C,totalTime:x,disabled:!!le}}function yt(h,b,r){let f=h.get(b);return f||h.set(b,f=r),f}function tn(h){const b=h.indexOf(":");return[h.substring(1,b),h.slice(b+1)]}const Vn=typeof document>"u"?null:document.documentElement;function on(h){const b=h.parentNode||h.host||null;return b===Vn?null:b}let qn=null,Gt=!1;function fn(h,b){for(;b;){if(b===h)return!0;b=on(b)}return!1}function Qn(h,b,r){if(r)return Array.from(h.querySelectorAll(b));const f=h.querySelector(b);return f?[f]:[]}const ht="ng-enter",Ut="ng-leave",Xt="ng-trigger",Mn=".ng-trigger",hi="ng-animating",ri=".ng-animating";function Nn(h){if("number"==typeof h)return h;const b=h.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:Ki(parseFloat(b[1]),b[2])}function Ki(h,b){return"s"===b?1e3*h:h}function Ji(h,b,r){return h.hasOwnProperty("duration")?h:function Os(h,b,r){let C,x=0,le="";if("string"==typeof h){const xe=h.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===xe)return b.push(P()),{duration:0,delay:0,easing:""};C=Ki(parseFloat(xe[1]),xe[2]);const tt=xe[3];null!=tt&&(x=Ki(parseFloat(tt),xe[4]));const Ct=xe[5];Ct&&(le=Ct)}else C=h;if(!r){let xe=!1,tt=b.length;C<0&&(b.push(function q(){return new e.wOt(3100,!1)}()),xe=!0),x<0&&(b.push(function De(){return new e.wOt(3101,!1)}()),xe=!0),xe&&b.splice(tt,0,P())}return{duration:C,delay:x,easing:le}}(h,b,r)}function Et(h,b,r){b.forEach((f,C)=>{const x=ae(C);r&&!r.has(C)&&r.set(C,h.style[x]),h.style[x]=f})}function vn(h,b){b.forEach((r,f)=>{const C=ae(f);h.style[C]=""})}function Wt(h){return Array.isArray(h)?1==h.length?h[0]:(0,he.K2)(h):h}const Qi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bt(h){let b=[];if("string"==typeof h){let r;for(;r=Qi.exec(h);)b.push(r[1]);Qi.lastIndex=0}return b}function ce(h,b,r){const f=`${h}`,C=f.replace(Qi,(x,le)=>{let xe=b[le];return null==xe&&(r.push(function et(){return new e.wOt(3003,!1)}()),xe=""),xe.toString()});return C==f?h:C}const Ie=/-+([a-z0-9])/g;function ae(h){return h.replace(Ie,(...b)=>b[1].toUpperCase())}function hn(h,b,r){switch(b.type){case he.If.Trigger:return h.visitTrigger(b,r);case he.If.State:return h.visitState(b,r);case he.If.Transition:return h.visitTransition(b,r);case he.If.Sequence:return h.visitSequence(b,r);case he.If.Group:return h.visitGroup(b,r);case he.If.Animate:return h.visitAnimate(b,r);case he.If.Keyframes:return h.visitKeyframes(b,r);case he.If.Style:return h.visitStyle(b,r);case he.If.Reference:return h.visitReference(b,r);case he.If.AnimateChild:return h.visitAnimateChild(b,r);case he.If.AnimateRef:return h.visitAnimateRef(b,r);case he.If.Query:return h.visitQuery(b,r);case he.If.Stagger:return h.visitStagger(b,r);default:throw function _t(){return new e.wOt(3004,!1)}()}}function Fn(h,b){return window.getComputedStyle(h)[b]}let Wi=(()=>{class h{validateStyleProperty(r){return function oi(h){qn||(qn=function Un(){return typeof document<"u"?document.body:null}()||{},Gt=!!qn.style&&"WebkitAppearance"in qn.style);let b=!0;return qn.style&&!function Xn(h){return"ebkit"==h.substring(1,6)}(h)&&(b=h in qn.style,!b&&Gt&&(b="Webkit"+h.charAt(0).toUpperCase()+h.slice(1)in qn.style)),b}(r)}containsElement(r,f){return fn(r,f)}getParentElement(r){return on(r)}query(r,f,C){return Qn(r,f,C)}computeStyle(r,f,C){return C||""}animate(r,f,C,x,le,xe=[],tt){return new he.sf(C,x)}static \u0275fac=function(f){return new(f||h)};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();class Di{static NOOP=new Wi}class Vi{}const Li=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yi extends Vi{normalizePropertyName(b,r){return ae(b)}normalizeStyleValue(b,r,f,C){let x="";const le=f.toString().trim();if(Li.has(r)&&0!==f&&"0"!==f)if("number"==typeof f)x="px";else{const xe=f.match(/^[+-]?[\d\.]+([a-z]*)$/);xe&&0==xe[1].length&&C.push(function Ht(){return new e.wOt(3005,!1)}())}return le+x}}const yi=new Set(["true","1"]),pi=new Set(["false","0"]);function js(h,b){const r=yi.has(h)||pi.has(h),f=yi.has(b)||pi.has(b);return(C,x)=>{let le="*"==h||h==C,xe="*"==b||b==x;return!le&&r&&"boolean"==typeof C&&(le=C?yi.has(h):pi.has(h)),!xe&&f&&"boolean"==typeof x&&(xe=x?yi.has(b):pi.has(b)),le&&xe}}const Hr=new RegExp("s*:selfs*,?","g");function ks(h,b,r,f){return new Ci(h).build(b,r,f)}class Ci{_driver;constructor(b){this._driver=b}build(b,r,f){const C=new Aa(r);return this._resetContextStyleTimingState(C),hn(this,Wt(b),C)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,r){let f=r.queryCount=0,C=r.depCount=0;const x=[],le=[];return"@"==b.name.charAt(0)&&r.errors.push(function nn(){return new e.wOt(3006,!1)}()),b.definitions.forEach(xe=>{if(this._resetContextStyleTimingState(r),xe.type==he.If.State){const tt=xe,Ct=tt.name;Ct.toString().split(/\s*,\s*/).forEach(Lt=>{tt.name=Lt,x.push(this.visitState(tt,r))}),tt.name=Ct}else if(xe.type==he.If.Transition){const tt=this.visitTransition(xe,r);f+=tt.queryCount,C+=tt.depCount,le.push(tt)}else r.errors.push(function wn(){return new e.wOt(3007,!1)}())}),{type:he.If.Trigger,name:b.name,states:x,transitions:le,queryCount:f,depCount:C,options:null}}visitState(b,r){const f=this.visitStyle(b.styles,r),C=b.options&&b.options.params||null;if(f.containsDynamicStyles){const x=new Set,le=C||{};f.styles.forEach(xe=>{xe instanceof Map&&xe.forEach(tt=>{Bt(tt).forEach(Ct=>{le.hasOwnProperty(Ct)||x.add(Ct)})})}),x.size&&r.errors.push(function Kn(){return new e.wOt(3008,!1)}(0,x.values()))}return{type:he.If.State,name:b.name,style:f,options:C?{params:C}:null}}visitTransition(b,r){r.queryCount=0,r.depCount=0;const f=hn(this,Wt(b.animation),r),C=function Vt(h,b){const r=[];return"string"==typeof h?h.split(/\s*,\s*/).forEach(f=>function pn(h,b,r){if(":"==h[0]){const tt=function Jn(h,b){switch(h){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,f)=>parseFloat(f)>parseFloat(r);case":decrement":return(r,f)=>parseFloat(f)<parseFloat(r);default:return b.push(function Ni(){return new e.wOt(3016,!1)}()),"* => *"}}(h,r);if("function"==typeof tt)return void b.push(tt);h=tt}const f=h.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return r.push(function Fi(){return new e.wOt(3015,!1)}()),b;const C=f[1],x=f[2],le=f[3];b.push(js(C,le)),"<"==x[0]&&("*"!=C||"*"!=le)&&b.push(js(le,C))}(f,r,b)):r.push(h),r}(b.expr,r.errors);return{type:he.If.Transition,matchers:C,animation:f,queryCount:r.queryCount,depCount:r.depCount,options:pa(b.options)}}visitSequence(b,r){return{type:he.If.Sequence,steps:b.steps.map(f=>hn(this,f,r)),options:pa(b.options)}}visitGroup(b,r){const f=r.currentTime;let C=0;const x=b.steps.map(le=>{r.currentTime=f;const xe=hn(this,le,r);return C=Math.max(C,r.currentTime),xe});return r.currentTime=C,{type:he.If.Group,steps:x,options:pa(b.options)}}visitAnimate(b,r){const f=function uo(h,b){if(h.hasOwnProperty("duration"))return h;if("number"==typeof h)return Cr(Ji(h,b).duration,0,"");const r=h;if(r.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=Cr(0,0,"");return x.dynamic=!0,x.strValue=r,x}const C=Ji(r,b);return Cr(C.duration,C.delay,C.easing)}(b.timings,r.errors);r.currentAnimateTimings=f;let C,x=b.styles?b.styles:(0,he.iF)({});if(x.type==he.If.Keyframes)C=this.visitKeyframes(x,r);else{let le=b.styles,xe=!1;if(!le){xe=!0;const Ct={};f.easing&&(Ct.easing=f.easing),le=(0,he.iF)(Ct)}r.currentTime+=f.duration+f.delay;const tt=this.visitStyle(le,r);tt.isEmptyStep=xe,C=tt}return r.currentAnimateTimings=null,{type:he.If.Animate,timings:f,style:C,options:null}}visitStyle(b,r){const f=this._makeStyleAst(b,r);return this._validateStyleAst(f,r),f}_makeStyleAst(b,r){const f=[],C=Array.isArray(b.styles)?b.styles:[b.styles];for(let xe of C)"string"==typeof xe?xe===he.kp?f.push(xe):r.errors.push(new e.wOt(3002,!1)):f.push(new Map(Object.entries(xe)));let x=!1,le=null;return f.forEach(xe=>{if(xe instanceof Map&&(xe.has("easing")&&(le=xe.get("easing"),xe.delete("easing")),!x))for(let tt of xe.values())if(tt.toString().indexOf("{{")>=0){x=!0;break}}),{type:he.If.Style,styles:f,easing:le,offset:b.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(b,r){const f=r.currentAnimateTimings;let C=r.currentTime,x=r.currentTime;f&&x>0&&(x-=f.duration+f.delay),b.styles.forEach(le=>{"string"!=typeof le&&le.forEach((xe,tt)=>{const Ct=r.collectedStyles.get(r.currentQuerySelector),Lt=Ct.get(tt);let Cn=!0;Lt&&(x!=C&&x>=Lt.startTime&&C<=Lt.endTime&&(r.errors.push(function Ot(){return new e.wOt(3010,!1)}()),Cn=!1),x=Lt.startTime),Cn&&Ct.set(tt,{startTime:x,endTime:C}),r.options&&function Pn(h,b,r){const f=b.params||{},C=Bt(h);C.length&&C.forEach(x=>{f.hasOwnProperty(x)||r.push(function Ae(){return new e.wOt(3001,!1)}())})}(xe,r.options,r.errors)})})}visitKeyframes(b,r){const f={type:he.If.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Gn(){return new e.wOt(3011,!1)}()),f;let x=0;const le=[];let xe=!1,tt=!1,Ct=0;const Lt=b.steps.map(ys=>{const cs=this._makeStyleAst(ys,r);let Ws=null!=cs.offset?cs.offset:function ua(h){if("string"==typeof h)return null;let b=null;if(Array.isArray(h))h.forEach(r=>{if(r instanceof Map&&r.has("offset")){const f=r;b=parseFloat(f.get("offset")),f.delete("offset")}});else if(h instanceof Map&&h.has("offset")){const r=h;b=parseFloat(r.get("offset")),r.delete("offset")}return b}(cs.styles),ps=0;return null!=Ws&&(x++,ps=cs.offset=Ws),tt=tt||ps<0||ps>1,xe=xe||ps<Ct,Ct=ps,le.push(ps),cs});tt&&r.errors.push(function Qt(){return new e.wOt(3012,!1)}()),xe&&r.errors.push(function Sn(){return new e.wOt(3200,!1)}());const Cn=b.steps.length;let jn=0;x>0&&x<Cn?r.errors.push(function In(){return new e.wOt(3202,!1)}()):0==x&&(jn=1/(Cn-1));const Hn=Cn-1,gi=r.currentTime,mi=r.currentAnimateTimings,Xi=mi.duration;return Lt.forEach((ys,cs)=>{const Ws=jn>0?cs==Hn?1:jn*cs:le[cs],ps=Ws*Xi;r.currentTime=gi+mi.delay+ps,mi.duration=ps,this._validateStyleAst(ys,r),ys.offset=Ws,f.styles.push(ys)}),f}visitReference(b,r){return{type:he.If.Reference,animation:hn(this,Wt(b.animation),r),options:pa(b.options)}}visitAnimateChild(b,r){return r.depCount++,{type:he.If.AnimateChild,options:pa(b.options)}}visitAnimateRef(b,r){return{type:he.If.AnimateRef,animation:this.visitReference(b.animation,r),options:pa(b.options)}}visitQuery(b,r){const f=r.currentQuerySelector,C=b.options||{};r.queryCount++,r.currentQuery=b;const[x,le]=function wr(h){const b=!!h.split(/\s*,\s*/).find(r=>":self"==r);return b&&(h=h.replace(Hr,"")),h=h.replace(/@\*/g,Mn).replace(/@\w+/g,r=>Mn+"-"+r.slice(1)).replace(/:animating/g,ri),[h,b]}(b.selector);r.currentQuerySelector=f.length?f+" "+x:x,yt(r.collectedStyles,r.currentQuerySelector,new Map);const xe=hn(this,Wt(b.animation),r);return r.currentQuery=null,r.currentQuerySelector=f,{type:he.If.Query,selector:x,limit:C.limit||0,optional:!!C.optional,includeSelf:le,animation:xe,originalSelector:b.selector,options:pa(b.options)}}visitStagger(b,r){r.currentQuery||r.errors.push(function rs(){return new e.wOt(3013,!1)}());const f="full"===b.timings?{duration:0,delay:0,easing:"full"}:Ji(b.timings,r.errors,!0);return{type:he.If.Stagger,animation:hn(this,Wt(b.animation),r),timings:f,options:null}}}class Aa{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(b){this.errors=b}}function pa(h){return h?(h={...h}).params&&(h.params=function Zr(h){return h?{...h}:null}(h.params)):h={},h}function Cr(h,b,r){return{duration:h,delay:b,easing:r}}function Or(h,b,r,f,C,x,le=null,xe=!1){return{type:1,element:h,keyframes:b,preStyleProps:r,postStyleProps:f,duration:C,delay:x,totalTime:C+x,easing:le,subTimeline:xe}}class Kr{_map=new Map;get(b){return this._map.get(b)||[]}append(b,r){let f=this._map.get(b);f||this._map.set(b,f=[]),f.push(...r)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const da=new RegExp(":enter","g"),fr=new RegExp(":leave","g");function kr(h,b,r,f,C,x=new Map,le=new Map,xe,tt,Ct=[]){return(new Lo).buildKeyframes(h,b,r,f,C,x,le,xe,tt,Ct)}class Lo{buildKeyframes(b,r,f,C,x,le,xe,tt,Ct,Lt=[]){Ct=Ct||new Kr;const Cn=new Da(b,r,Ct,C,x,Lt,[]);Cn.options=tt;const jn=tt.delay?Nn(tt.delay):0;Cn.currentTimeline.delayNextStep(jn),Cn.currentTimeline.setStyles([le],null,Cn.errors,tt),hn(this,f,Cn);const Hn=Cn.timelines.filter(gi=>gi.containsAnimation());if(Hn.length&&xe.size){let gi;for(let mi=Hn.length-1;mi>=0;mi--){const Xi=Hn[mi];if(Xi.element===r){gi=Xi;break}}gi&&!gi.allowOnlyTimelineStyles()&&gi.setStyles([xe],null,Cn.errors,tt)}return Hn.length?Hn.map(gi=>gi.buildKeyframes()):[Or(r,[],[],[],0,jn,"",!1)]}visitTrigger(b,r){}visitState(b,r){}visitTransition(b,r){}visitAnimateChild(b,r){const f=r.subInstructions.get(r.element);if(f){const C=r.createSubContext(b.options),x=r.currentTimeline.currentTime,le=this._visitSubInstructions(f,C,C.options);x!=le&&r.transformIntoNewTimeline(le)}r.previousNode=b}visitAnimateRef(b,r){const f=r.createSubContext(b.options);f.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],r,f),this.visitReference(b.animation,f),r.transformIntoNewTimeline(f.currentTimeline.currentTime),r.previousNode=b}_applyAnimationRefDelays(b,r,f){for(const C of b){const x=C?.delay;if(x){const le="number"==typeof x?x:Nn(ce(x,C?.params??{},r.errors));f.delayNextStep(le)}}}_visitSubInstructions(b,r,f){let x=r.currentTimeline.currentTime;const le=null!=f.duration?Nn(f.duration):null,xe=null!=f.delay?Nn(f.delay):null;return 0!==le&&b.forEach(tt=>{const Ct=r.appendInstructionToTimeline(tt,le,xe);x=Math.max(x,Ct.duration+Ct.delay)}),x}visitReference(b,r){r.updateOptions(b.options,!0),hn(this,b.animation,r),r.previousNode=b}visitSequence(b,r){const f=r.subContextCount;let C=r;const x=b.options;if(x&&(x.params||x.delay)&&(C=r.createSubContext(x),C.transformIntoNewTimeline(),null!=x.delay)){C.previousNode.type==he.If.Style&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=ea);const le=Nn(x.delay);C.delayNextStep(le)}b.steps.length&&(b.steps.forEach(le=>hn(this,le,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>f&&C.transformIntoNewTimeline()),r.previousNode=b}visitGroup(b,r){const f=[];let C=r.currentTimeline.currentTime;const x=b.options&&b.options.delay?Nn(b.options.delay):0;b.steps.forEach(le=>{const xe=r.createSubContext(b.options);x&&xe.delayNextStep(x),hn(this,le,xe),C=Math.max(C,xe.currentTimeline.currentTime),f.push(xe.currentTimeline)}),f.forEach(le=>r.currentTimeline.mergeTimelineCollectedStyles(le)),r.transformIntoNewTimeline(C),r.previousNode=b}_visitTiming(b,r){if(b.dynamic){const f=b.strValue;return Ji(r.params?ce(f,r.params,r.errors):f,r.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,r){const f=r.currentAnimateTimings=this._visitTiming(b.timings,r),C=r.currentTimeline;f.delay&&(r.incrementTime(f.delay),C.snapshotCurrentStyles());const x=b.style;x.type==he.If.Keyframes?this.visitKeyframes(x,r):(r.incrementTime(f.duration),this.visitStyle(x,r),C.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=b}visitStyle(b,r){const f=r.currentTimeline,C=r.currentAnimateTimings;!C&&f.hasCurrentStyleProperties()&&f.forwardFrame();const x=C&&C.easing||b.easing;b.isEmptyStep?f.applyEmptyStep(x):f.setStyles(b.styles,x,r.errors,r.options),r.previousNode=b}visitKeyframes(b,r){const f=r.currentAnimateTimings,C=r.currentTimeline.duration,x=f.duration,xe=r.createSubContext().currentTimeline;xe.easing=f.easing,b.styles.forEach(tt=>{xe.forwardTime((tt.offset||0)*x),xe.setStyles(tt.styles,tt.easing,r.errors,r.options),xe.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(xe),r.transformIntoNewTimeline(C+x),r.previousNode=b}visitQuery(b,r){const f=r.currentTimeline.currentTime,C=b.options||{},x=C.delay?Nn(C.delay):0;x&&(r.previousNode.type===he.If.Style||0==f&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ea);let le=f;const xe=r.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!C.optional,r.errors);r.currentQueryTotal=xe.length;let tt=null;xe.forEach((Ct,Lt)=>{r.currentQueryIndex=Lt;const Cn=r.createSubContext(b.options,Ct);x&&Cn.delayNextStep(x),Ct===r.element&&(tt=Cn.currentTimeline),hn(this,b.animation,Cn),Cn.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,Cn.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(le),tt&&(r.currentTimeline.mergeTimelineCollectedStyles(tt),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=b}visitStagger(b,r){const f=r.parentContext,C=r.currentTimeline,x=b.timings,le=Math.abs(x.duration),xe=le*(r.currentQueryTotal-1);let tt=le*r.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":tt=xe-tt;break;case"full":tt=f.currentStaggerTime}const Lt=r.currentTimeline;tt&&Lt.delayNextStep(tt);const Cn=Lt.currentTime;hn(this,b.animation,r),r.previousNode=b,f.currentStaggerTime=C.currentTime-Cn+(C.startTime-f.currentTimeline.startTime)}}const ea={};class Da{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ea;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(b,r,f,C,x,le,xe,tt){this._driver=b,this.element=r,this.subInstructions=f,this._enterClassName=C,this._leaveClassName=x,this.errors=le,this.timelines=xe,this.currentTimeline=tt||new Ba(this._driver,r,0),xe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,r){if(!b)return;const f=b;let C=this.options;null!=f.duration&&(C.duration=Nn(f.duration)),null!=f.delay&&(C.delay=Nn(f.delay));const x=f.params;if(x){let le=C.params;le||(le=this.options.params={}),Object.keys(x).forEach(xe=>{(!r||!le.hasOwnProperty(xe))&&(le[xe]=ce(x[xe],le,this.errors))})}}_copyOptions(){const b={};if(this.options){const r=this.options.params;if(r){const f=b.params={};Object.keys(r).forEach(C=>{f[C]=r[C]})}}return b}createSubContext(b=null,r,f){const C=r||this.element,x=new Da(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,f||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(b),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(b){return this.previousNode=ea,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,r,f){const C={duration:r??b.duration,delay:this.currentTimeline.currentTime+(f??0)+b.delay,easing:""},x=new Vr(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,C,b.stretchStartingKeyframe);return this.timelines.push(x),C}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,r,f,C,x,le){let xe=[];if(C&&xe.push(this.element),b.length>0){b=(b=b.replace(da,"."+this._enterClassName)).replace(fr,"."+this._leaveClassName);let Ct=this._driver.query(this.element,b,1!=f);0!==f&&(Ct=f<0?Ct.slice(Ct.length+f,Ct.length):Ct.slice(0,f)),xe.push(...Ct)}return!x&&0==xe.length&&le.push(function _i(){return new e.wOt(3014,!1)}()),xe}}class Ba{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(b,r,f,C){this._driver=b,this.element=r,this.startTime=f,this._elementTimelineStylesLookup=C,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+b),r&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,r){return this.applyStylesToKeyframe(),new Ba(this._driver,b,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,r){this._localTimelineStyles.set(b,r),this._globalTimelineStyles.set(b,r),this._styleSummary.set(b,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[r,f]of this._globalTimelineStyles)this._backFill.set(r,f||he.kp),this._currentKeyframe.set(r,he.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,r,f,C){r&&this._previousKeyframe.set("easing",r);const x=C&&C.params||{},le=function Na(h,b){const r=new Map;let f;return h.forEach(C=>{if("*"===C){f??=b.keys();for(let x of f)r.set(x,he.kp)}else for(let[x,le]of C)r.set(x,le)}),r}(b,this._globalTimelineStyles);for(let[xe,tt]of le){const Ct=ce(tt,x,f);this._pendingStyles.set(xe,Ct),this._localTimelineStyles.has(xe)||this._backFill.set(xe,this._globalTimelineStyles.get(xe)??he.kp),this._updateStyle(xe,Ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,r)=>{this._currentKeyframe.set(r,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,b)}))}snapshotCurrentStyles(){for(let[b,r]of this._localTimelineStyles)this._pendingStyles.set(b,r),this._updateStyle(b,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let r in this._currentKeyframe)b.push(r);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((r,f)=>{const C=this._styleSummary.get(f);(!C||r.time>C.time)&&this._updateStyle(f,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,r=new Set,f=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((xe,tt)=>{const Ct=new Map([...this._backFill,...xe]);Ct.forEach((Lt,Cn)=>{Lt===he.FX?b.add(Cn):Lt===he.kp&&r.add(Cn)}),f||Ct.set("offset",tt/this.duration),C.push(Ct)});const x=[...b.values()],le=[...r.values()];if(f){const xe=C[0],tt=new Map(xe);xe.set("offset",0),tt.set("offset",1),C=[xe,tt]}return Or(this.element,C,x,le,this.duration,this.startTime,this.easing,!1)}}class Vr extends Ba{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(b,r,f,C,x,le,xe=!1){super(b,r,le.delay),this.keyframes=f,this.preStyleProps=C,this.postStyleProps=x,this._stretchStartingKeyframe=xe,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:r,duration:f,easing:C}=this.timings;if(this._stretchStartingKeyframe&&r){const x=[],le=f+r,xe=r/le,tt=new Map(b[0]);tt.set("offset",0),x.push(tt);const Ct=new Map(b[0]);Ct.set("offset",pr(xe)),x.push(Ct);const Lt=b.length-1;for(let Cn=1;Cn<=Lt;Cn++){let jn=new Map(b[Cn]);const Hn=jn.get("offset");jn.set("offset",pr((r+Hn*f)/le)),x.push(jn)}f=le,r=0,C="",b=x}return Or(this.element,b,this.preStyleProps,this.postStyleProps,f,r,C,!0)}}function pr(h,b=3){const r=Math.pow(10,b-1);return Math.round(h*r)/r}function qa(h,b,r,f,C,x,le,xe,tt,Ct,Lt,Cn,jn){return{type:0,element:h,triggerName:b,isRemovalTransition:C,fromState:r,fromStyles:x,toState:f,toStyles:le,timelines:xe,queriedElements:tt,preStyleProps:Ct,postStyleProps:Lt,totalTime:Cn,errors:jn}}const Sa={};class Pr{_triggerName;ast;_stateStyles;constructor(b,r,f){this._triggerName=b,this.ast=r,this._stateStyles=f}match(b,r,f,C){return function _r(h,b,r,f,C){return h.some(x=>x(b,r,f,C))}(this.ast.matchers,b,r,f,C)}buildStyles(b,r,f){let C=this._stateStyles.get("*");return void 0!==b&&(C=this._stateStyles.get(b?.toString())||C),C?C.buildStyles(r,f):new Map}build(b,r,f,C,x,le,xe,tt,Ct,Lt){const Cn=[],jn=this.ast.options&&this.ast.options.params||Sa,gi=this.buildStyles(f,xe&&xe.params||Sa,Cn),mi=tt&&tt.params||Sa,Xi=this.buildStyles(C,mi,Cn),ys=new Set,cs=new Map,Ws=new Map,ps="void"===C,nr={params:Lr(mi,jn),delay:this.ast.options?.delay},Xs=Lt?[]:kr(b,r,this.ast.animation,x,le,gi,Xi,nr,Ct,Cn);let qs=0;return Xs.forEach(er=>{qs=Math.max(er.duration+er.delay,qs)}),Cn.length?qa(r,this._triggerName,f,C,ps,gi,Xi,[],[],cs,Ws,qs,Cn):(Xs.forEach(er=>{const oa=er.element,la=yt(cs,oa,new Set);er.preStyleProps.forEach(Ja=>la.add(Ja));const Xa=yt(Ws,oa,new Set);er.postStyleProps.forEach(Ja=>Xa.add(Ja)),oa!==r&&ys.add(oa)}),qa(r,this._triggerName,f,C,ps,gi,Xi,Xs,[...ys.values()],cs,Ws,qs))}}function Lr(h,b){const r={...b};return Object.entries(h).forEach(([f,C])=>{null!=C&&(r[f]=C)}),r}class So{styles;defaultParams;normalizer;constructor(b,r,f){this.styles=b,this.defaultParams=r,this.normalizer=f}buildStyles(b,r){const f=new Map,C=Lr(b,this.defaultParams);return this.styles.styles.forEach(x=>{"string"!=typeof x&&x.forEach((le,xe)=>{le&&(le=ce(le,C,r));const tt=this.normalizer.normalizePropertyName(xe,r);le=this.normalizer.normalizeStyleValue(xe,tt,le,r),f.set(xe,le)})}),f}}class rr{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(b,r,f){this.name=b,this.ast=r,this._normalizer=f,r.states.forEach(C=>{this.states.set(C.name,new So(C.style,C.options&&C.options.params||{},f))}),As(this.states,"true","1"),As(this.states,"false","0"),r.transitions.forEach(C=>{this.transitionFactories.push(new Pr(b,C,this.states))}),this.fallbackTransition=function hs(h,b){return new Pr(h,{type:he.If.Transition,animation:{type:he.If.Sequence,steps:[],options:null},matchers:[(le,xe)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,r,f,C){return this.transitionFactories.find(le=>le.match(b,r,f,C))||null}matchStyles(b,r,f){return this.fallbackTransition.buildStyles(b,r,f)}}function As(h,b,r){h.has(b)?h.has(r)||h.set(r,h.get(b)):h.has(r)&&h.set(b,h.get(r))}const Ps=new Kr;class Wr{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(b,r,f){this.bodyNode=b,this._driver=r,this._normalizer=f}register(b,r){const f=[],x=ks(this._driver,r,f,[]);if(f.length)throw function wt(){return new e.wOt(3503,!1)}();this._animations.set(b,x)}_buildPlayer(b,r,f){const C=b.element,x=zi(this._normalizer,b.keyframes,r,f);return this._driver.animate(C,x,b.duration,b.delay,b.easing,[],!0)}create(b,r,f={}){const C=[],x=this._animations.get(b);let le;const xe=new Map;if(x?(le=kr(this._driver,r,x,ht,Ut,new Map,new Map,f,Ps,C),le.forEach(Lt=>{const Cn=yt(xe,Lt.element,new Map);Lt.postStyleProps.forEach(jn=>Cn.set(jn,null))})):(C.push(function Tt(){return new e.wOt(3300,!1)}()),le=[]),C.length)throw function xt(){return new e.wOt(3504,!1)}();xe.forEach((Lt,Cn)=>{Lt.forEach((jn,Hn)=>{Lt.set(Hn,this._driver.computeStyle(Cn,Hn,he.kp))})});const Ct=Ui(le.map(Lt=>{const Cn=xe.get(Lt.element);return this._buildPlayer(Lt,new Map,Cn)}));return this._playersById.set(b,Ct),Ct.onDestroy(()=>this.destroy(b)),this.players.push(Ct),Ct}destroy(b){const r=this._getPlayer(b);r.destroy(),this._playersById.delete(b);const f=this.players.indexOf(r);f>=0&&this.players.splice(f,1)}_getPlayer(b){const r=this._playersById.get(b);if(!r)throw function Kt(){return new e.wOt(3301,!1)}();return r}listen(b,r,f,C){const x=Rt(r,"","","");return ls(this._getPlayer(b),f,x,C),()=>{}}command(b,r,f,C){if("register"==f)return void this.register(b,C[0]);if("create"==f)return void this.create(b,r,C[0]||{});const x=this._getPlayer(b);switch(f){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(b)}}}const Sr="ng-animate-queued",Uo="ng-animate-disabled",ie=[],ee={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qe="__ng_removed";class Pt{namespaceId;value;options;get params(){return this.options.params}constructor(b,r=""){this.namespaceId=r;const f=b&&b.hasOwnProperty("value");if(this.value=function ma(h){return h??null}(f?b.value:b),f){const{value:x,...le}=b;this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const r=b.params;if(r){const f=this.options.params;Object.keys(r).forEach(C=>{null==f[C]&&(f[C]=r[C])})}}}const yn="void",ai=new Pt(yn);class ts{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(b,r,f){this.id=b,this.hostElement=r,this._engine=f,this._hostClassName="ng-tns-"+b,Is(r,this._hostClassName)}listen(b,r,f,C){if(!this._triggers.has(r))throw function cn(){return new e.wOt(3302,!1)}();if(null==f||0==f.length)throw function ii(){return new e.wOt(3303,!1)}();if(!function Ir(h){return"start"==h||"done"==h}(f))throw function Ei(){return new e.wOt(3400,!1)}();const x=yt(this._elementListeners,b,[]),le={name:r,phase:f,callback:C};x.push(le);const xe=yt(this._engine.statesByElement,b,new Map);return xe.has(r)||(Is(b,Xt),Is(b,Xt+"-"+r),xe.set(r,ai)),()=>{this._engine.afterFlush(()=>{const tt=x.indexOf(le);tt>=0&&x.splice(tt,1),this._triggers.has(r)||xe.delete(r)})}}register(b,r){return!this._triggers.has(b)&&(this._triggers.set(b,r),!0)}_getTrigger(b){const r=this._triggers.get(b);if(!r)throw function Ii(){return new e.wOt(3401,!1)}();return r}trigger(b,r,f,C=!0){const x=this._getTrigger(r),le=new Js(this.id,r,b);let xe=this._engine.statesByElement.get(b);xe||(Is(b,Xt),Is(b,Xt+"-"+r),this._engine.statesByElement.set(b,xe=new Map));let tt=xe.get(r);const Ct=new Pt(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&tt&&Ct.absorbOptions(tt.options),xe.set(r,Ct),tt||(tt=ai),Ct.value!==yn&&tt.value===Ct.value){if(!function Sl(h,b){const r=Object.keys(h),f=Object.keys(b);if(r.length!=f.length)return!1;for(let C=0;C<r.length;C++){const x=r[C];if(!b.hasOwnProperty(x)||h[x]!==b[x])return!1}return!0}(tt.params,Ct.params)){const mi=[],Xi=x.matchStyles(tt.value,tt.params,mi),ys=x.matchStyles(Ct.value,Ct.params,mi);mi.length?this._engine.reportError(mi):this._engine.afterFlush(()=>{vn(b,Xi),Et(b,ys)})}return}const jn=yt(this._engine.playersByElement,b,[]);jn.forEach(mi=>{mi.namespaceId==this.id&&mi.triggerName==r&&mi.queued&&mi.destroy()});let Hn=x.matchTransition(tt.value,Ct.value,b,Ct.params),gi=!1;if(!Hn){if(!C)return;Hn=x.fallbackTransition,gi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:r,transition:Hn,fromState:tt,toState:Ct,player:le,isFallbackTransition:gi}),gi||(Is(b,Sr),le.onStart(()=>{Ma(b,Sr)})),le.onDone(()=>{let mi=this.players.indexOf(le);mi>=0&&this.players.splice(mi,1);const Xi=this._engine.playersByElement.get(b);if(Xi){let ys=Xi.indexOf(le);ys>=0&&Xi.splice(ys,1)}}),this.players.push(le),jn.push(le),le}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(r=>r.delete(b)),this._elementListeners.forEach((r,f)=>{this._elementListeners.set(f,r.filter(C=>C.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const r=this._engine.playersByElement.get(b);r&&(r.forEach(f=>f.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,r){const f=this._engine.driver.query(b,Mn,!0);f.forEach(C=>{if(C[qe])return;const x=this._engine.fetchNamespacesByElement(C);x.size?x.forEach(le=>le.triggerLeaveAnimation(C,r,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(b,r,f,C){const x=this._engine.statesByElement.get(b),le=new Map;if(x){const xe=[];if(x.forEach((tt,Ct)=>{if(le.set(Ct,tt.value),this._triggers.has(Ct)){const Lt=this.trigger(b,Ct,yn,C);Lt&&xe.push(Lt)}}),xe.length)return this._engine.markElementAsRemoved(this.id,b,!0,r,le),f&&Ui(xe).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const r=this._elementListeners.get(b),f=this._engine.statesByElement.get(b);if(r&&f){const C=new Set;r.forEach(x=>{const le=x.name;if(C.has(le))return;C.add(le);const tt=this._triggers.get(le).fallbackTransition,Ct=f.get(le)||ai,Lt=new Pt(yn),Cn=new Js(this.id,le,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:le,transition:tt,fromState:Ct,toState:Lt,player:Cn,isFallbackTransition:!0})})}}removeNode(b,r){const f=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,r),this.triggerLeaveAnimation(b,r,!0))return;let C=!1;if(f.totalAnimations){const x=f.players.length?f.playersByQueriedElement.get(b):[];if(x&&x.length)C=!0;else{let le=b;for(;le=le.parentNode;)if(f.statesByElement.get(le)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(b),C)f.markElementAsRemoved(this.id,b,!1,r);else{const x=b[qe];(!x||x===ee)&&(f.afterFlush(()=>this.clearElementCache(b)),f.destroyInnerAnimations(b),f._onRemovalComplete(b,r))}}insertNode(b,r){Is(b,this._hostClassName)}drainQueuedTransitions(b){const r=[];return this._queue.forEach(f=>{const C=f.player;if(C.destroyed)return;const x=f.element,le=this._elementListeners.get(x);le&&le.forEach(xe=>{if(xe.name==f.triggerName){const tt=Rt(x,f.triggerName,f.fromState.value,f.toState.value);tt._data=b,ls(f.player,xe.phase,tt,xe.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):r.push(f)}),this._queue=[],r.sort((f,C)=>{const x=f.transition.ast.depCount,le=C.transition.ast.depCount;return 0==x||0==le?x-le:this._engine.driver.containsElement(f.element,C.element)?1:-1})}destroy(b){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}}class ji{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(b,r)=>{};_onRemovalComplete(b,r){this.onRemovalComplete(b,r)}constructor(b,r,f){this.bodyNode=b,this.driver=r,this._normalizer=f}get queuedPlayers(){const b=[];return this._namespaceList.forEach(r=>{r.players.forEach(f=>{f.queued&&b.push(f)})}),b}createNamespace(b,r){const f=new ts(b,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(f,r):(this.newHostElements.set(r,f),this.collectEnterElement(r)),this._namespaceLookup[b]=f}_balanceNamespaceList(b,r){const f=this._namespaceList,C=this.namespacesByHostElement;if(f.length-1>=0){let le=!1,xe=this.driver.getParentElement(r);for(;xe;){const tt=C.get(xe);if(tt){const Ct=f.indexOf(tt);f.splice(Ct+1,0,b),le=!0;break}xe=this.driver.getParentElement(xe)}le||f.unshift(b)}else f.push(b);return C.set(r,b),b}register(b,r){let f=this._namespaceLookup[b];return f||(f=this.createNamespace(b,r)),f}registerTrigger(b,r,f){let C=this._namespaceLookup[b];C&&C.register(r,f)&&this.totalAnimations++}destroy(b,r){b&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const f=this._fetchNamespace(b);this.namespacesByHostElement.delete(f.hostElement);const C=this._namespaceList.indexOf(f);C>=0&&this._namespaceList.splice(C,1),f.destroy(r),delete this._namespaceLookup[b]}))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const r=new Set,f=this.statesByElement.get(b);if(f)for(let C of f.values())if(C.namespaceId){const x=this._fetchNamespace(C.namespaceId);x&&r.add(x)}return r}trigger(b,r,f,C){if(Va(r)){const x=this._fetchNamespace(b);if(x)return x.trigger(r,f,C),!0}return!1}insertNode(b,r,f,C){if(!Va(r))return;const x=r[qe];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const le=this.collectedLeaveElements.indexOf(r);le>=0&&this.collectedLeaveElements.splice(le,1)}if(b){const le=this._fetchNamespace(b);le&&le.insertNode(r,f)}C&&this.collectEnterElement(r)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,r){r?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Is(b,Uo)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),Ma(b,Uo))}removeNode(b,r,f){if(Va(r)){const C=b?this._fetchNamespace(b):null;C?C.removeNode(r,f):this.markElementAsRemoved(b,r,!1,f);const x=this.namespacesByHostElement.get(r);x&&x.id!==b&&x.removeNode(r,f)}else this._onRemovalComplete(r,f)}markElementAsRemoved(b,r,f,C,x){this.collectedLeaveElements.push(r),r[qe]={namespaceId:b,setForRemoval:C,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:x}}listen(b,r,f,C,x){return Va(r)?this._fetchNamespace(b).listen(r,f,C,x):()=>{}}_buildInstruction(b,r,f,C,x){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,f,C,b.fromState.options,b.toState.options,r,x)}destroyInnerAnimations(b){let r=this.driver.query(b,Mn,!0);r.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(b,ri,!0),r.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(b){const r=this.playersByElement.get(b);r&&r.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(b){const r=this.playersByQueriedElement.get(b);r&&r.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Ui(this.players).onDone(()=>b());b()})}processLeaveNode(b){const r=b[qe];if(r&&r.setForRemoval){if(b[qe]=ee,r.namespaceId){this.destroyInnerAnimations(b);const f=this._fetchNamespace(r.namespaceId);f&&f.clearElementCache(b)}this._onRemovalComplete(b,r.setForRemoval)}b.classList?.contains(Uo)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(b=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,C)=>this._balanceNamespaceList(f,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)Is(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{r=this._flushAnimations(f,b)}finally{for(let C=0;C<f.length;C++)f[C]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],r.length?Ui(r).onDone(()=>{f.forEach(C=>C())}):f.forEach(C=>C())}}reportError(b){throw function Ti(){return new e.wOt(3402,!1)}()}_flushAnimations(b,r){const f=new Kr,C=[],x=new Map,le=[],xe=new Map,tt=new Map,Ct=new Map,Lt=new Set;this.disabledNodes.forEach(Gi=>{Lt.add(Gi);const as=this.driver.query(Gi,".ng-animate-queued",!0);for(let Es=0;Es<as.length;Es++)Lt.add(as[Es])});const Cn=this.bodyNode,jn=Array.from(this.statesByElement.keys()),Hn=_c(jn,this.collectedEnterElements),gi=new Map;let mi=0;Hn.forEach((Gi,as)=>{const Es=ht+mi++;gi.set(as,Es),Gi.forEach(Gs=>Is(Gs,Es))});const Xi=[],ys=new Set,cs=new Set;for(let Gi=0;Gi<this.collectedLeaveElements.length;Gi++){const as=this.collectedLeaveElements[Gi],Es=as[qe];Es&&Es.setForRemoval&&(Xi.push(as),ys.add(as),Es.hasAnimation?this.driver.query(as,".ng-star-inserted",!0).forEach(Gs=>ys.add(Gs)):cs.add(as))}const Ws=new Map,ps=_c(jn,Array.from(ys));ps.forEach((Gi,as)=>{const Es=Ut+mi++;Ws.set(as,Es),Gi.forEach(Gs=>Is(Gs,Es))}),b.push(()=>{Hn.forEach((Gi,as)=>{const Es=gi.get(as);Gi.forEach(Gs=>Ma(Gs,Es))}),ps.forEach((Gi,as)=>{const Es=Ws.get(as);Gi.forEach(Gs=>Ma(Gs,Es))}),Xi.forEach(Gi=>{this.processLeaveNode(Gi)})});const nr=[],Xs=[];for(let Gi=this._namespaceList.length-1;Gi>=0;Gi--)this._namespaceList[Gi].drainQueuedTransitions(r).forEach(Es=>{const Gs=Es.player,Ca=Es.element;if(nr.push(Gs),this.collectedEnterElements.length){const Xr=Ca[qe];if(Xr&&Xr.setForMove){if(Xr.previousTriggersValues&&Xr.previousTriggersValues.has(Es.triggerName)){const Co=Xr.previousTriggersValues.get(Es.triggerName),Jr=this.statesByElement.get(Es.element);if(Jr&&Jr.has(Es.triggerName)){const hp=Jr.get(Es.triggerName);hp.value=Co,Jr.set(Es.triggerName,hp)}}return void Gs.destroy()}}const Cl=!Cn||!this.driver.containsElement(Cn,Ca),Pa=Ws.get(Ca),Kl=gi.get(Ca),sr=this._buildInstruction(Es,f,Kl,Pa,Cl);if(sr.errors&&sr.errors.length)return void Xs.push(sr);if(Cl)return Gs.onStart(()=>vn(Ca,sr.fromStyles)),Gs.onDestroy(()=>Et(Ca,sr.toStyles)),void C.push(Gs);if(Es.isFallbackTransition)return Gs.onStart(()=>vn(Ca,sr.fromStyles)),Gs.onDestroy(()=>Et(Ca,sr.toStyles)),void C.push(Gs);const ul=[];sr.timelines.forEach(Xr=>{Xr.stretchStartingKeyframe=!0,this.disabledNodes.has(Xr.element)||ul.push(Xr)}),sr.timelines=ul,f.append(Ca,sr.timelines),le.push({instruction:sr,player:Gs,element:Ca}),sr.queriedElements.forEach(Xr=>yt(xe,Xr,[]).push(Gs)),sr.preStyleProps.forEach((Xr,Co)=>{if(Xr.size){let Jr=tt.get(Co);Jr||tt.set(Co,Jr=new Set),Xr.forEach((hp,Zc)=>Jr.add(Zc))}}),sr.postStyleProps.forEach((Xr,Co)=>{let Jr=Ct.get(Co);Jr||Ct.set(Co,Jr=new Set),Xr.forEach((hp,Zc)=>Jr.add(Zc))})});if(Xs.length){const Gi=[];Xs.forEach(as=>{Gi.push(function Dn(){return new e.wOt(3505,!1)}())}),nr.forEach(as=>as.destroy()),this.reportError(Gi)}const qs=new Map,er=new Map;le.forEach(Gi=>{const as=Gi.element;f.has(as)&&(er.set(as,as),this._beforeAnimationBuild(Gi.player.namespaceId,Gi.instruction,qs))}),C.forEach(Gi=>{const as=Gi.element;this._getPreviousPlayers(as,!1,Gi.namespaceId,Gi.triggerName,null).forEach(Gs=>{yt(qs,as,[]).push(Gs),Gs.destroy()})});const oa=Xi.filter(Gi=>El(Gi,tt,Ct)),la=new Map;to(la,this.driver,cs,Ct,he.kp).forEach(Gi=>{El(Gi,tt,Ct)&&oa.push(Gi)});const Ja=new Map;Hn.forEach((Gi,as)=>{to(Ja,this.driver,new Set(Gi),tt,he.FX)}),oa.forEach(Gi=>{const as=la.get(Gi),Es=Ja.get(Gi);la.set(Gi,new Map([...as?.entries()??[],...Es?.entries()??[]]))});const Qa=[],mc=[],Qc={};le.forEach(Gi=>{const{element:as,player:Es,instruction:Gs}=Gi;if(f.has(as)){if(Lt.has(as))return Es.onDestroy(()=>Et(as,Gs.toStyles)),Es.disabled=!0,Es.overrideTotalTime(Gs.totalTime),void C.push(Es);let Ca=Qc;if(er.size>1){let Pa=as;const Kl=[];for(;Pa=Pa.parentNode;){const sr=er.get(Pa);if(sr){Ca=sr;break}Kl.push(Pa)}Kl.forEach(sr=>er.set(sr,Ca))}const Cl=this._buildAnimation(Es.namespaceId,Gs,qs,x,Ja,la);if(Es.setRealPlayer(Cl),Ca===Qc)Qa.push(Es);else{const Pa=this.playersByElement.get(Ca);Pa&&Pa.length&&(Es.parentPlayer=Ui(Pa)),C.push(Es)}}else vn(as,Gs.fromStyles),Es.onDestroy(()=>Et(as,Gs.toStyles)),mc.push(Es),Lt.has(as)&&C.push(Es)}),mc.forEach(Gi=>{const as=x.get(Gi.element);if(as&&as.length){const Es=Ui(as);Gi.setRealPlayer(Es)}}),C.forEach(Gi=>{Gi.parentPlayer?Gi.syncPlayerEvents(Gi.parentPlayer):Gi.destroy()});for(let Gi=0;Gi<Xi.length;Gi++){const as=Xi[Gi],Es=as[qe];if(Ma(as,Ut),Es&&Es.hasAnimation)continue;let Gs=[];if(xe.size){let Cl=xe.get(as);Cl&&Cl.length&&Gs.push(...Cl);let Pa=this.driver.query(as,ri,!0);for(let Kl=0;Kl<Pa.length;Kl++){let sr=xe.get(Pa[Kl]);sr&&sr.length&&Gs.push(...sr)}}const Ca=Gs.filter(Cl=>!Cl.destroyed);Ca.length?Zo(this,as,Ca):this.processLeaveNode(as)}return Xi.length=0,Qa.forEach(Gi=>{this.players.push(Gi),Gi.onDone(()=>{Gi.destroy();const as=this.players.indexOf(Gi);this.players.splice(as,1)}),Gi.play()}),Qa}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,r,f,C,x){let le=[];if(r){const xe=this.playersByQueriedElement.get(b);xe&&(le=xe)}else{const xe=this.playersByElement.get(b);if(xe){const tt=!x||x==yn;xe.forEach(Ct=>{Ct.queued||!tt&&Ct.triggerName!=C||le.push(Ct)})}}return(f||C)&&(le=le.filter(xe=>!(f&&f!=xe.namespaceId||C&&C!=xe.triggerName))),le}_beforeAnimationBuild(b,r,f){const x=r.element,le=r.isRemovalTransition?void 0:b,xe=r.isRemovalTransition?void 0:r.triggerName;for(const tt of r.timelines){const Ct=tt.element,Lt=Ct!==x,Cn=yt(f,Ct,[]);this._getPreviousPlayers(Ct,Lt,le,xe,r.toState).forEach(Hn=>{const gi=Hn.getRealPlayer();gi.beforeDestroy&&gi.beforeDestroy(),Hn.destroy(),Cn.push(Hn)})}vn(x,r.fromStyles)}_buildAnimation(b,r,f,C,x,le){const xe=r.triggerName,tt=r.element,Ct=[],Lt=new Set,Cn=new Set,jn=r.timelines.map(gi=>{const mi=gi.element;Lt.add(mi);const Xi=mi[qe];if(Xi&&Xi.removedBeforeQueried)return new he.sf(gi.duration,gi.delay);const ys=mi!==tt,cs=function Ks(h){const b=[];return Eo(h,b),b}((f.get(mi)||ie).map(qs=>qs.getRealPlayer())).filter(qs=>!!qs.element&&qs.element===mi),Ws=x.get(mi),ps=le.get(mi),nr=zi(this._normalizer,gi.keyframes,Ws,ps),Xs=this._buildPlayer(gi,nr,cs);if(gi.subTimeline&&C&&Cn.add(mi),ys){const qs=new Js(b,xe,mi);qs.setRealPlayer(Xs),Ct.push(qs)}return Xs});Ct.forEach(gi=>{yt(this.playersByQueriedElement,gi.element,[]).push(gi),gi.onDone(()=>function Ur(h,b,r){let f=h.get(b);if(f){if(f.length){const C=f.indexOf(r);f.splice(C,1)}0==f.length&&h.delete(b)}return f}(this.playersByQueriedElement,gi.element,gi))}),Lt.forEach(gi=>Is(gi,hi));const Hn=Ui(jn);return Hn.onDestroy(()=>{Lt.forEach(gi=>Ma(gi,hi)),Et(tt,r.toStyles)}),Cn.forEach(gi=>{yt(C,gi,[]).push(Hn)}),Hn}_buildPlayer(b,r,f){return r.length>0?this.driver.animate(b.element,r,b.duration,b.delay,b.easing,f):new he.sf(b.duration,b.delay)}}class Js{namespaceId;triggerName;element;_player=new he.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(b,r,f){this.namespaceId=b,this.triggerName=r,this.element=f}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((r,f)=>{r.forEach(C=>ls(b,f,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const r=this._player;r.triggerCallback&&b.onStart(()=>r.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,r){yt(this._queuedCallbacks,b,[]).push(r)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const r=this._player;r.triggerCallback&&r.triggerCallback(b)}}function Va(h){return h&&1===h.nodeType}function La(h,b){const r=h.style.display;return h.style.display=b??"none",r}function to(h,b,r,f,C){const x=[];r.forEach(tt=>x.push(La(tt)));const le=[];f.forEach((tt,Ct)=>{const Lt=new Map;tt.forEach(Cn=>{const jn=b.computeStyle(Ct,Cn,C);Lt.set(Cn,jn),(!jn||0==jn.length)&&(Ct[qe]=Ee,le.push(Ct))}),h.set(Ct,Lt)});let xe=0;return r.forEach(tt=>La(tt,x[xe++])),le}function _c(h,b){const r=new Map;if(h.forEach(xe=>r.set(xe,[])),0==b.length)return r;const C=new Set(b),x=new Map;function le(xe){if(!xe)return 1;let tt=x.get(xe);if(tt)return tt;const Ct=xe.parentNode;return tt=r.has(Ct)?Ct:C.has(Ct)?1:le(Ct),x.set(xe,tt),tt}return b.forEach(xe=>{const tt=le(xe);1!==tt&&r.get(tt).push(xe)}),r}function Is(h,b){h.classList?.add(b)}function Ma(h,b){h.classList?.remove(b)}function Zo(h,b,r){Ui(r).onDone(()=>h.processLeaveNode(b))}function Eo(h,b){for(let r=0;r<h.length;r++){const f=h[r];f instanceof he.PZ?Eo(f.players,b):b.push(f)}}function El(h,b,r){const f=r.get(h);if(!f)return!1;let C=b.get(h);return C?f.forEach(x=>C.add(x)):b.set(h,f),r.delete(h),!0}class To{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(b,r)=>{};constructor(b,r,f){this._driver=r,this._normalizer=f,this._transitionEngine=new ji(b.body,r,f),this._timelineEngine=new Wr(b.body,r,f),this._transitionEngine.onRemovalComplete=(C,x)=>this.onRemovalComplete(C,x)}registerTrigger(b,r,f,C,x){const le=b+"-"+C;let xe=this._triggerCache[le];if(!xe){const tt=[],Lt=ks(this._driver,x,tt,[]);if(tt.length)throw function ms(){return new e.wOt(3404,!1)}();xe=function ya(h,b,r){return new rr(h,b,r)}(C,Lt,this._normalizer),this._triggerCache[le]=xe}this._transitionEngine.registerTrigger(r,C,xe)}register(b,r){this._transitionEngine.register(b,r)}destroy(b,r){this._transitionEngine.destroy(b,r)}onInsert(b,r,f,C){this._transitionEngine.insertNode(b,r,f,C)}onRemove(b,r,f){this._transitionEngine.removeNode(b,r,f)}disableAnimations(b,r){this._transitionEngine.markElementAsDisabled(b,r)}process(b,r,f,C){if("@"==f.charAt(0)){const[x,le]=tn(f);this._timelineEngine.command(x,r,le,C)}else this._transitionEngine.trigger(b,r,f,C)}listen(b,r,f,C,x){if("@"==f.charAt(0)){const[le,xe]=tn(f);return this._timelineEngine.listen(le,r,xe,x)}return this._transitionEngine.listen(b,r,f,C,x)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let ws=(()=>{class h{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(r,f,C){this._element=r,this._startStyles=f,this._endStyles=C;let x=h.initialStylesByElement.get(r);x||h.initialStylesByElement.set(r,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&Et(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Et(this._element,this._initialStyles),this._endStyles&&(Et(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(h.initialStylesByElement.delete(this._element),this._startStyles&&(vn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),Et(this._element,this._initialStyles),this._state=3)}}return h})();function ga(h){let b=null;return h.forEach((r,f)=>{(function _a(h){return"display"===h||"position"===h})(f)&&(b=b||new Map,b.set(f,r))}),b}class jo{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(b,r,f,C){this.element=b,this.keyframes=r,this.options=f,this._specialStyles=C,this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const r=[];return b.forEach(f=>{r.push(Object.fromEntries(f))}),r}_triggerWebAnimation(b,r,f){return b.animate(this._convertKeyframesToObject(r),f)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((f,C)=>{"offset"!==C&&b.set(C,this._finished?f:Fn(this.element,C))}),this.currentSnapshot=b}triggerCallback(b){const r="start"===b?this._onStartFns:this._onDoneFns;r.forEach(f=>f()),r.length=0}}class wo{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}containsElement(b,r){return fn(b,r)}getParentElement(b){return on(b)}query(b,r,f){return Qn(b,r,f)}computeStyle(b,r,f){return Fn(b,r)}animate(b,r,f,C,x,le=[]){const tt={duration:f,delay:C,fill:0==C?"both":"forwards"};x&&(tt.easing=x);const Ct=new Map,Lt=le.filter(Hn=>Hn instanceof jo);(function ke(h,b){return 0===h||0===b})(f,C)&&Lt.forEach(Hn=>{Hn.currentSnapshot.forEach((gi,mi)=>Ct.set(mi,gi))});let Cn=function jt(h){return h.length?h[0]instanceof Map?h:h.map(b=>new Map(Object.entries(b))):[]}(r).map(Hn=>new Map(Hn));Cn=function At(h,b,r){if(r.size&&b.length){let f=b[0],C=[];if(r.forEach((x,le)=>{f.has(le)||C.push(le),f.set(le,x)}),C.length)for(let x=1;x<b.length;x++){let le=b[x];C.forEach(xe=>le.set(xe,Fn(h,xe)))}}return b}(b,Cn,Ct);const jn=function jr(h,b){let r=null,f=null;return Array.isArray(b)&&b.length?(r=ga(b[0]),b.length>1&&(f=ga(b[b.length-1]))):b instanceof Map&&(r=ga(b)),r||f?new ws(h,r,f):null}(b,Cn);return new jo(b,Cn,tt,jn)}}const Oa="@.disabled";class Yl{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(b,r,f,C){this.namespaceId=b,this.delegate=r,this.engine=f,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(b){this.delegate.destroyNode?.(b)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(b,r){return this.delegate.createElement(b,r)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,r){this.delegate.appendChild(b,r),this.engine.onInsert(this.namespaceId,r,b,!1)}insertBefore(b,r,f,C=!0){this.delegate.insertBefore(b,r,f),this.engine.onInsert(this.namespaceId,r,b,C)}removeChild(b,r,f){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(b,r){return this.delegate.selectRootElement(b,r)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,r,f,C){this.delegate.setAttribute(b,r,f,C)}removeAttribute(b,r,f){this.delegate.removeAttribute(b,r,f)}addClass(b,r){this.delegate.addClass(b,r)}removeClass(b,r){this.delegate.removeClass(b,r)}setStyle(b,r,f,C){this.delegate.setStyle(b,r,f,C)}removeStyle(b,r,f){this.delegate.removeStyle(b,r,f)}setProperty(b,r,f){"@"==r.charAt(0)&&r==Oa?this.disableAnimations(b,!!f):this.delegate.setProperty(b,r,f)}setValue(b,r){this.delegate.setValue(b,r)}listen(b,r,f,C){return this.delegate.listen(b,r,f,C)}disableAnimations(b,r){this.engine.disableAnimations(b,r)}}class vc extends Yl{factory;constructor(b,r,f,C,x){super(r,f,C,x),this.factory=b,this.namespaceId=r}setProperty(b,r,f){"@"==r.charAt(0)?"."==r.charAt(1)&&r==Oa?this.disableAnimations(b,f=void 0===f||!!f):this.engine.process(this.namespaceId,b,r.slice(1),f):this.delegate.setProperty(b,r,f)}listen(b,r,f,C){if("@"==r.charAt(0)){const x=function Ua(h){switch(h){case"body":return document.body;case"document":return document;case"window":return window;default:return h}}(b);let le=r.slice(1),xe="";return"@"!=le.charAt(0)&&([le,xe]=function dl(h){const b=h.indexOf(".");return[h.substring(0,b),h.slice(b+1)]}(le)),this.engine.listen(this.namespaceId,x,le,xe,tt=>{this.factory.scheduleListenerCallback(tt._data||-1,f,tt)})}return this.delegate.listen(b,r,f,C)}}class Tl{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(b,r,f){this.delegate=b,this.engine=r,this._zone=f,r.onRemovalComplete=(C,x)=>{x?.removeChild(null,C)}}createRenderer(b,r){const C=this.delegate.createRenderer(b,r);if(!b||!r?.data?.animation){const Ct=this._rendererCache;let Lt=Ct.get(C);return Lt||(Lt=new Yl("",C,this.engine,()=>Ct.delete(C)),Ct.set(C,Lt)),Lt}const x=r.id,le=r.id+"-"+this._currentId;this._currentId++,this.engine.register(le,b);const xe=Ct=>{Array.isArray(Ct)?Ct.forEach(xe):this.engine.registerTrigger(x,le,b,Ct.name,Ct)};return r.data.animation.forEach(xe),new vc(this,le,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(b,r,f){if(b>=0&&b<this._microtaskId)return void this._zone.run(()=>r(f));const C=this._animationCallbacksBuffer;0==C.length&&queueMicrotask(()=>{this._zone.run(()=>{C.forEach(x=>{const[le,xe]=x;le(xe)}),this._animationCallbacksBuffer=[]})}),C.push([r,f])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(b){this.engine.flush(),this.delegate.componentReplaced?.(b)}}let or=(()=>{class h extends To{constructor(r,f,C){super(r,f,C)}ngOnDestroy(){this.flush()}static \u0275fac=function(f){return new(f||h)(e.KVO(p.q),e.KVO(Di),e.KVO(Vi))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const Fs=[{provide:Vi,useFactory:function no(){return new Yi}},{provide:To,useClass:or},{provide:e._9s,useFactory:function ho(h,b,r){return new Tl(h,b,r)},deps:[fe,To,e.SKi]}],ci=[{provide:Di,useClass:Wi},{provide:e.bc$,useValue:"NoopAnimations"},...Fs],ns=[{provide:Di,useFactory:()=>new wo},{provide:e.bc$,useFactory:()=>"BrowserAnimations"},...Fs];let lr=(()=>{class h{static withConfig(r){return{ngModule:h,providers:r.disableAnimations?ci:ns}}static \u0275fac=function(f){return new(f||h)};static \u0275mod=e.$C({type:h});static \u0275inj=e.G2t({providers:ns,imports:[Ln]})}return h})();var Ge=l(5794),mn=l(9767),$e=l(978),It=l(7883),at=l(2947),bn=l(3853),Ri=l(9196),us=l(4549),qi=l(1594),Er=l(5964),Br=l(6697),Yr=l(7468),mr=l(7263);const Ys="10.1.0";var h,tr=l(9838),el=l(4861),$o=l(1258),Mi=l(3178),Hi=l(8018),se=l(5139),Ce=l(9262),pe=l(6801),we=l(1339),Je=l(5602),Mt=l(4754),kn="user-agent",sn="function",Se="undefined",$="object",ye="string",Me="browser",ft="cpu",Ft="device",Yt="engine",_n="os",On="result",ln="name",En="type",xn="vendor",Zn="version",ss="architecture",Ar="major",si="model",io="console",Zi="mobile",Qs="tablet",vr="smarttv",Io="wearable",Iu="embedded",Ru="inapp",md="brands",Ro="formFactors",Ao="fullVersionList",ja="platform",gd="platformVersion",zl="bitness",wl="sec-ch-ua",Ds=wl+"-full-version-list",tu=wl+"-arch",fh=wl+"-"+zl,uf=wl+"-form-factors",ir=wl+"-"+Zi,yc=wl+"-"+si,ph=wl+"-"+ja,me=ph+"-version",An=[md,Ao,Zi,si,ja,gd,ss,Ro,zl],Q="Amazon",Re="Apple",gn="BlackBerry",$i="Google",$a="Microsoft",Au="Motorola",_d="Nvidia",mh="OnePlus",Du="OPPO",Nu="Samsung",su="Sony",vd="Xiaomi",hl="Zebra",_h="Chromium",Xl="Chromecast",xa="Firefox",Ou="Opera",yd="Facebook",xu="Mobile ",vh=" Browser",yh="Windows",Ho=typeof window!==Se&&window.navigator?window.navigator:void 0,Cc=Ho&&Ho.userAgentData?Ho.userAgentData:void 0,_p=function(h){for(var b={},r=0;r<h.length;r++)b[h[r].toUpperCase()]=h[r];return b},vp=function(h,b){if(typeof h===$&&h.length>0){for(var r in h)if(Sc(h[r])==Sc(b))return!0;return!1}return!!Cs(h)&&-1!==Sc(b).indexOf(Sc(h))},Bn=function(h,b){for(var r in h)return/^(browser|cpu|device|engine|os)$/.test(r)||!!b&&Bn(h[r])},Cs=function(h){return typeof h===ye},yp=function(h){if(h){for(var b=[],r=Tc(/\\?\"/g,h).split(","),f=0;f<r.length;f++)if(r[f].indexOf(";")>-1){var C=bd(r[f]).split(";v=");b[f]={brand:C[0],version:C[1]}}else b[f]=bd(r[f]);return b}},Sc=function(h){return Cs(h)?h.toLowerCase():h},zs=function(h){return Cs(h)?Tc(/[^\d\.]/g,h).split(".")[0]:void 0},Ec=function(h){for(var b in h){var r=h[b];typeof r==$&&2==r.length?this[r[0]]=r[1]:this[r]=void 0}return this},Tc=function(h,b){return Cs(b)?b.replace(h,""):b},Ko=function(h){return Tc(/\\?\"/g,h)},bd=function(h,b){if(Cs(h))return h=Tc(/^\s\s*/,h),typeof b===Se?h:h.substring(0,500)},hf=function(h,b){if(h&&b)for(var f,C,x,le,xe,tt,r=0;r<b.length&&!xe;){var Ct=b[r],Lt=b[r+1];for(f=C=0;f<Ct.length&&!xe&&Ct[f];)if(xe=Ct[f++].exec(h))for(x=0;x<Lt.length;x++)tt=xe[++C],typeof(le=Lt[x])===$&&le.length>0?2===le.length?this[le[0]]=typeof le[1]==sn?le[1].call(this,tt):le[1]:3===le.length?this[le[0]]=typeof le[1]!==sn||le[1].exec&&le[1].test?tt?tt.replace(le[1],le[2]):void 0:tt?le[1].call(this,tt,le[2]):void 0:4===le.length&&(this[le[0]]=tt?le[3].call(this,tt.replace(le[1],le[2])):void 0):this[le]=tt||void 0;r+=2}},ru=function(h,b){for(var r in b)if(typeof b[r]===$&&b[r].length>0){for(var f=0;f<b[r].length;f++)if(vp(b[r][f],h))return"?"===r?void 0:r}else if(vp(b[r],h))return"?"===r?void 0:r;return b.hasOwnProperty("*")?b["*"]:h},ky={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Py={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},og={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Zn,[ln,xu+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Zn,[ln,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ln,Zn],[/opios[\/ ]+([\w\.]+)/i],[Zn,[ln,Ou+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Zn,[ln,Ou+" GX"]],[/\bopr\/([\w\.]+)/i],[Zn,[ln,Ou]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Zn,[ln,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Zn,[ln,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[ln,Zn],[/quark(?:pc)?\/([-\w\.]+)/i],[Zn,[ln,"Quark"]],[/\bddg\/([\w\.]+)/i],[Zn,[ln,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Zn,[ln,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Zn,[ln,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Zn,[ln,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Zn,[ln,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Zn,[ln,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Zn,[ln,"Smart Lenovo"+vh]],[/(avast|avg)\/([\w\.]+)/i],[[ln,/(.+)/,"$1 Secure"+vh],Zn],[/\bfocus\/([\w\.]+)/i],[Zn,[ln,xa+" Focus"]],[/\bopt\/([\w\.]+)/i],[Zn,[ln,Ou+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Zn,[ln,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Zn,[ln,"Dolphin"]],[/coast\/([\w\.]+)/i],[Zn,[ln,Ou+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Zn,[ln,"MIUI"+vh]],[/fxios\/([\w\.-]+)/i],[Zn,[ln,xu+xa]],[/\bqihoobrowser\/?([\w\.]*)/i],[Zn,[ln,"360"]],[/\b(qq)\/([\w\.]+)/i],[[ln,/(.+)/,"$1Browser"],Zn],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[ln,/(.+)/,"$1"+vh],Zn],[/samsungbrowser\/([\w\.]+)/i],[Zn,[ln,Nu+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Zn,[ln,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ln,"Sogou Mobile"],Zn],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[ln,Zn],[/(lbbrowser|rekonq)/i],[ln],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Zn,ln],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ln,yd],Zn,[En,Ru]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[ln,Zn,[En,Ru]],[/\bgsa\/([\w\.]+) .*safari\//i],[Zn,[ln,"GSA"],[En,Ru]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Zn,[ln,"TikTok"],[En,Ru]],[/\[(linkedin)app\]/i],[ln,[En,Ru]],[/(chromium)[\/ ]([-\w\.]+)/i],[ln,Zn],[/headlesschrome(?:\/([\w\.]+)| )/i],[Zn,[ln,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ln,"Chrome WebView"],Zn],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Zn,[ln,"Android"+vh]],[/chrome\/([\w\.]+) mobile/i],[Zn,[ln,xu+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ln,Zn],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[Zn,[ln,xu+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[ln,xu+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[Zn,ln],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ln,[Zn,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[ln,Zn],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[ln,xu+xa],Zn],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ln,"Netscape"],Zn],[/(wolvic|librewolf)\/([\w\.]+)/i],[ln,Zn],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Zn,[ln,xa+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[ln,[Zn,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[ln,[Zn,/[^\d\.]+./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[ss,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[ss,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[ss,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[ss,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[ss,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[ss,/ower/,"",Sc]],[/ sun4\w[;\)]/i],[[ss,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[ss,Sc]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[si,[xn,Nu],[En,Qs]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[si,[xn,Nu],[En,Zi]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[si,[xn,Re],[En,Zi]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[si,[xn,Re],[En,Qs]],[/(macintosh);/i],[si,[xn,Re]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[si,[xn,"Sharp"],[En,Zi]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[si,[xn,"Honor"],[En,Qs]],[/honor([-\w ]+)[;\)]/i],[si,[xn,"Honor"],[En,Zi]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[si,[xn,"Huawei"],[En,Qs]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[si,[xn,"Huawei"],[En,Zi]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[si,/_/g," "],[xn,vd],[En,Qs]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[si,/_/g," "],[xn,vd],[En,Zi]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[si,[xn,Du],[En,Zi]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[si,[xn,ru,{OnePlus:["304","403","203"],"*":Du}],[En,Qs]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[si,[xn,"BLU"],[En,Zi]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[si,[xn,"Vivo"],[En,Zi]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[si,[xn,"Realme"],[En,Zi]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[si,[xn,Au],[En,Zi]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[si,[xn,Au],[En,Qs]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[si,[xn,"LG"],[En,Qs]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[si,[xn,"LG"],[En,Zi]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[si,[xn,"Lenovo"],[En,Qs]],[/(nokia) (t[12][01])/i],[xn,si,[En,Qs]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[si,/_/g," "],[En,Zi],[xn,"Nokia"]],[/(pixel (c|tablet))\b/i],[si,[xn,$i],[En,Qs]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[si,[xn,$i],[En,Zi]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[si,[xn,su],[En,Zi]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[si,"Xperia Tablet"],[xn,su],[En,Qs]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[si,[xn,mh],[En,Zi]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[si,[xn,Q],[En,Qs]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[si,/(.+)/g,"Fire Phone $1"],[xn,Q],[En,Zi]],[/(playbook);[-\w\),; ]+(rim)/i],[si,xn,[En,Qs]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[si,[xn,gn],[En,Zi]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[si,[xn,"ASUS"],[En,Qs]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[si,[xn,"ASUS"],[En,Zi]],[/(nexus 9)/i],[si,[xn,"HTC"],[En,Qs]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[xn,[si,/_/g," "],[En,Zi]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[si,[xn,"TCL"],[En,Qs]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[si,[xn,"TCL"],[En,Zi]],[/(itel) ((\w+))/i],[[xn,Sc],si,[En,ru,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[si,[xn,"Acer"],[En,Qs]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[si,[xn,"Meizu"],[En,Zi]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[si,[xn,"Ulefone"],[En,Zi]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[si,[xn,"Energizer"],[En,Zi]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[si,[xn,"Cat"],[En,Zi]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[si,[xn,"Smartfren"],[En,Zi]],[/droid.+; (a(?:015|06[35]|142p?))/i],[si,[xn,"Nothing"],[En,Zi]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[si,[xn,"Archos"],[En,Qs]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[si,[xn,"Archos"],[En,Zi]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[xn,si,[En,Qs]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[xn,si,[En,Zi]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[xn,si,[En,Qs]],[/(surface duo)/i],[si,[xn,$a],[En,Qs]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[si,[xn,"Fairphone"],[En,Zi]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[si,[xn,_d],[En,Qs]],[/(sprint) (\w+)/i],[xn,si,[En,Zi]],[/(kin\.[onetw]{3})/i],[[si,/\./g," "],[xn,$a],[En,Zi]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[si,[xn,hl],[En,Qs]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[si,[xn,hl],[En,Zi]],[/smart-tv.+(samsung)/i],[xn,[En,vr]],[/hbbtv.+maple;(\d+)/i],[[si,/^/,"SmartTV"],[xn,Nu],[En,vr]],[/tcast.+(lg)e?. ([-\w]+)/i],[xn,si,[En,vr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[xn,"LG"],[En,vr]],[/(apple) ?tv/i],[xn,[si,Re+" TV"],[En,vr]],[/crkey.*devicetype\/chromecast/i],[[si,Xl+" Third Generation"],[xn,$i],[En,vr]],[/crkey.*devicetype\/([^/]*)/i],[[si,/^/,"Chromecast "],[xn,$i],[En,vr]],[/fuchsia.*crkey/i],[[si,Xl+" Nest Hub"],[xn,$i],[En,vr]],[/crkey/i],[[si,Xl],[xn,$i],[En,vr]],[/(portaltv)/i],[si,[xn,yd],[En,vr]],[/droid.+aft(\w+)( bui|\))/i],[si,[xn,Q],[En,vr]],[/(shield \w+ tv)/i],[si,[xn,_d],[En,vr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[si,[xn,"Sharp"],[En,vr]],[/(bravia[\w ]+)( bui|\))/i],[si,[xn,su],[En,vr]],[/(mi(tv|box)-?\w+) bui/i],[si,[xn,vd],[En,vr]],[/Hbbtv.*(technisat) (.*);/i],[xn,si,[En,vr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[xn,bd],[si,bd],[En,vr]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[si,[En,vr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[En,vr]],[/(ouya)/i,/(nintendo) (\w+)/i],[xn,si,[En,io]],[/droid.+; (shield)( bui|\))/i],[si,[xn,_d],[En,io]],[/(playstation \w+)/i],[si,[xn,su],[En,io]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[si,[xn,$a],[En,io]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[si,[xn,Nu],[En,Io]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[xn,si,[En,Io]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[si,[xn,Du],[En,Io]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[si,[xn,Re],[En,Io]],[/(opwwe\d{3})/i],[si,[xn,mh],[En,Io]],[/(moto 360)/i],[si,[xn,Au],[En,Io]],[/(smartwatch 3)/i],[si,[xn,su],[En,Io]],[/(g watch r)/i],[si,[xn,"LG"],[En,Io]],[/droid.+; (wt63?0{2,3})\)/i],[si,[xn,hl],[En,Io]],[/droid.+; (glass) \d/i],[si,[xn,$i],[En,"xr"]],[/(pico) (4|neo3(?: link|pro)?)/i],[xn,si,[En,"xr"]],[/(quest( \d| pro)?s?).+vr/i],[si,[xn,yd],[En,"xr"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[xn,[En,Iu]],[/(aeobc)\b/i],[si,[xn,Q],[En,Iu]],[/(homepod).+mac os/i],[si,[xn,Re],[En,Iu]],[/windows iot/i],[[En,Iu]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[si,[En,ru,{mobile:"Mobile",xr:"VR","*":Qs}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[En,Qs]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[En,Zi]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[si,[xn,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Zn,[ln,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[ln,Zn],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Zn,[ln,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ln,Zn],[/ladybird\//i],[[ln,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Zn,ln]],os:[[/microsoft (windows) (vista|xp)/i],[ln,Zn],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[ln,[Zn,ru,ky]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Zn,ru,ky],[ln,yh]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Zn,/_/g,"."],[ln,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ln,"macOS"],[Zn,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[Zn,[ln,Xl+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[Zn,[ln,Xl+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[Zn,[ln,Xl+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[Zn,[ln,Xl+" Linux"]],[/crkey\/([\d\.]+)/i],[Zn,[ln,Xl]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Zn,ln],[/(ubuntu) ([\w\.]+) like android/i],[[ln,/(.+)/,"$1 Touch"],Zn],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[ln,Zn],[/\(bb(10);/i],[Zn,[ln,gn]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[Zn,[ln,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Zn,[ln,xa+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Zn,[ln,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Zn,[ln,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[ln,"Chrome OS"],Zn],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ln,Zn],[/(sunos) ?([\w\.\d]*)/i],[[ln,"Solaris"],Zn],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ln,Zn]]},ff=(Ec.call((h={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[Me,[ln,Zn,Ar,En]],[ft,[ss]],[Ft,[En,si,xn]],[Yt,[ln,Zn]],[_n,[ln,Zn]]]),Ec.call(h.isIgnore,[[Me,[Zn,Ar]],[Yt,[Zn]],[_n,[Zn]]]),Ec.call(h.isIgnoreRgx,[[Me,/ ?browser$/i],[_n,/ ?os$/i]]),Ec.call(h.toString,[[Me,[ln,Zn]],[ft,[ss]],[Ft,[xn,si]],[Yt,[ln,Zn]],[_n,[ln,Zn]]]),h),bp=function(h,b){var r=ff.init[b],f=ff.isIgnore[b]||0,C=ff.isIgnoreRgx[b]||0,x=ff.toString[b]||0;function le(){Ec.call(this,r)}return le.prototype.getItem=function(){return h},le.prototype.withClientHints=function(){return Cc?Cc.getHighEntropyValues(An).then(function(xe){return h.setCH(new Do(xe,!1)).parseCH().get()}):h.parseCH().get()},le.prototype.withFeatureCheck=function(){return h.detectFeature().get()},b!=On&&(le.prototype.is=function(xe){var tt=!1;for(var Ct in this)if(this.hasOwnProperty(Ct)&&!vp(f,Ct)&&Sc(C?Tc(C,this[Ct]):this[Ct])==Sc(C?Tc(C,xe):xe)){if(tt=!0,xe!=Se)break}else if(xe==Se&&tt){tt=!tt;break}return tt},le.prototype.toString=function(){var xe="";for(var tt in x)typeof this[x[tt]]!==Se&&(xe+=(xe?" ":"")+this[x[tt]]);return xe||Se}),Cc||(le.prototype.then=function(xe){var tt=this,Ct=function(){for(var Cn in tt)tt.hasOwnProperty(Cn)&&(this[Cn]=tt[Cn])};Ct.prototype={is:le.prototype.is,toString:le.prototype.toString};var Lt=new Ct;return xe(Lt),Lt}),new le};function Do(h,b){if(h=h||{},Ec.call(this,An),b)Ec.call(this,[[md,yp(h[wl])],[Ao,yp(h[Ds])],[Zi,/\?1/.test(h[ir])],[si,Ko(h[yc])],[ja,Ko(h[ph])],[gd,Ko(h[me])],[ss,Ko(h[tu])],[Ro,yp(h[uf])],[zl,Ko(h[fh])]]);else for(var r in h)this.hasOwnProperty(r)&&typeof h[r]!==Se&&(this[r]=h[r])}function wc(h,b,r,f){return this.get=function(C){return C?this.data.hasOwnProperty(C)?this.data[C]:void 0:this.data},this.set=function(C,x){return this.data[C]=x,this},this.setCH=function(C){return this.uaCH=C,this},this.detectFeature=function(){if(Ho&&Ho.userAgent==this.ua)switch(this.itemType){case Me:Ho.brave&&typeof Ho.brave.isBrave==sn&&this.set(ln,"Brave");break;case Ft:!this.get(En)&&Cc&&Cc[Zi]&&this.set(En,Zi),"Macintosh"==this.get(si)&&Ho&&typeof Ho.standalone!==Se&&Ho.maxTouchPoints&&Ho.maxTouchPoints>2&&this.set(si,"iPad").set(En,Qs);break;case _n:!this.get(ln)&&Cc&&Cc[ja]&&this.set(ln,Cc[ja]);break;case On:var C=this.data,x=function(le){return C[le].getItem().detectFeature().get()};this.set(Me,x(Me)).set(ft,x(ft)).set(Ft,x(Ft)).set(Yt,x(Yt)).set(_n,x(_n))}return this},this.parseUA=function(){return this.itemType!=On&&hf.call(this.data,this.ua,this.rgxMap),this.itemType==Me&&this.set(Ar,zs(this.get(Zn))),this},this.parseCH=function(){var C=this.uaCH,x=this.rgxMap;switch(this.itemType){case Me:case Yt:var xe,le=C[Ao]||C[md];if(le)for(var tt in le){var Ct=le[tt].brand||le[tt],Lt=le[tt].version;this.itemType==Me&&!/not.a.brand/i.test(Ct)&&(!xe||/chrom/i.test(xe)&&Ct!=_h)&&(Ct=ru(Ct,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(ln,Ct).set(Zn,Lt).set(Ar,zs(Lt)),xe=Ct),this.itemType==Yt&&Ct==_h&&this.set(Zn,Lt)}break;case ft:var Cn=C[ss];Cn&&(Cn&&"64"==C[zl]&&(Cn+="64"),hf.call(this.data,Cn+";",x));break;case Ft:if(C[Zi]&&this.set(En,Zi),C[si]&&(this.set(si,C[si]),!this.get(En)||!this.get(xn))){var jn={};hf.call(jn,"droid 9; "+C[si]+")",x),!this.get(En)&&jn.type&&this.set(En,jn.type),!this.get(xn)&&jn.vendor&&this.set(xn,jn.vendor)}if(C[Ro]){var Hn;if("string"!=typeof C[Ro])for(var gi=0;!Hn&&gi<C[Ro].length;)Hn=ru(C[Ro][gi++],Py);else Hn=ru(C[Ro],Py);this.set(En,Hn)}break;case _n:var mi=C[ja];if(mi){var Xi=C[gd];mi==yh&&(Xi=parseInt(zs(Xi),10)>=13?"11":"10"),this.set(ln,mi).set(Zn,Xi)}this.get(ln)==yh&&"Xbox"==C[si]&&this.set(ln,"Xbox").set(Zn,void 0);break;case On:var ys=this.data,cs=function(Ws){return ys[Ws].getItem().setCH(C).parseCH().get()};this.set(Me,cs(Me)).set(ft,cs(ft)).set(Ft,cs(Ft)).set(Yt,cs(Yt)).set(_n,cs(_n))}return this},Ec.call(this,[["itemType",h],["ua",b],["uaCH",f],["rgxMap",r],["data",bp(this,h)]]),this}function Ic(h,b,r){if(typeof h===$?(Bn(h,!0)?(typeof b===$&&(r=b),b=h):(r=h,b=void 0),h=void 0):typeof h===ye&&!Bn(b,!0)&&(r=b,b=void 0),r&&typeof r.append===sn){var f={};r.forEach(function(tt,Ct){f[Ct]=tt}),r=f}if(!(this instanceof Ic))return new Ic(h,b,r).getResult();var C=typeof h===ye?h:r&&r[kn]?r[kn]:Ho&&Ho.userAgent?Ho.userAgent:"",x=new Do(r,!0),le=b?function(h,b){var r={},f=b;if(!Bn(b))for(var C in f={},b)for(var x in b[C])f[x]=b[C][x].concat(f[x]?f[x]:[]);for(var le in h)r[le]=f[le]&&f[le].length%2==0?f[le].concat(h[le]):h[le];return r}(og,b):og,xe=function(tt){return tt==On?function(){return new wc(tt,C,le,x).set("ua",C).set(Me,this.getBrowser()).set(ft,this.getCPU()).set(Ft,this.getDevice()).set(Yt,this.getEngine()).set(_n,this.getOS()).get()}:function(){return new wc(tt,C,le[tt],x).parseUA().get()}};return Ec.call(this,[["getBrowser",xe(Me)],["getCPU",xe(ft)],["getDevice",xe(Ft)],["getEngine",xe(Yt)],["getOS",xe(_n)],["getResult",xe(On)],["getUA",function(){return C}],["setUA",function(tt){return Cs(tt)&&(C=tt.length>500?bd(tt,500):tt),this}]]).setUA(C),this}Ic.VERSION="2.0.3",Ic.BROWSER=_p([ln,Zn,Ar,En]),Ic.CPU=_p([ss]),Ic.DEVICE=_p([si,xn,En,io,Zi,vr,Qs,Io,Iu]),Ic.ENGINE=Ic.OS=_p([ln,Zn]);let tl=(()=>{class h{constructor(){let r=new Ic(window.navigator.userAgent),f=r.getBrowser(),C=r.getOS();this.browserName=f.name,this.browserVersion=f.major,this.browserVersionToInt=parseInt(f.major),this.operatingSystem=C.name,this.operatingSystemVersion=C.version}validBrowser(){switch(this.browserName){case Dr.InternetExplorer:return this.verifyInternetExplorer();case Dr.Edge:return this.verifyEdge();case Dr.Firefox:case Dr.MobileFirefox:return this.verifyFirefox();case Dr.Chrome:case Dr.MobileChrome:return this.verifyChrome();case Dr.Safari:case Dr.MobileSafari:return this.verifySafari();case Dr.Opera:case Dr.OperaMobile:return this.verifyOpera();case Dr.SamsungInternet:return this.verifySamsungInternet();case Dr.DuckDuckGo:return this.verifyDuckDuckGo()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==No.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==No.Android||this.operatingSystem==No.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==No.Android||this.operatingSystem==No.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const r=parseFloat(this.operatingSystemVersion);return this.browserName==Dr.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&r>=10.14}verifyOpera(){return this.browserName==Dr.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}verifyDuckDuckGo(){if(this.operatingSystem==No.AppleMac){const r=parseFloat(this.operatingSystemVersion);return this.browserVersionToInt>14||this.browserVersionToInt>=12&&r>=10.14}return this.operatingSystem==No.ApplePhone?this.browserVersionToInt>=12:this.operatingSystem==No.Android?this.browserVersionToInt>51:this.operatingSystem==No.Windows&&this.browserVersionToInt>16}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})(),Dr=(()=>{class h{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.MobileFirefox="Mobile Firefox"}static{this.Chrome="Chrome"}static{this.MobileChrome="Mobile Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}static{this.DuckDuckGo="DuckDuckGo"}}return h})(),No=(()=>{class h{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}static{this.AppleMac="macOS"}}return h})();var Il=l(2972),pf=l(1985),so=l(6977),Ac=l(983),Rl=l(7673),fo=l(1413),hr=l(3726),Al=l(1584),yr=l(8750),Ep=l(2326),Sd=l(4360);function Jl(...h){return 1===(h=(0,Ep.K)(h)).length?(0,yr.Tg)(h[0]):new pf.c(function Dc(h){return b=>{let r=[];for(let f=0;r&&!b.closed&&f<h.length;f++)r.push((0,yr.Tg)(h[f]).subscribe((0,Sd._)(b,C=>{if(r){for(let x=0;x<r.length;x++)x!==f&&r[x].unsubscribe();r=null}b.next(C)})))}}(h))}l(7786);var Pu=l(9326);function nl(...h){const b=(0,Pu.ms)(h),r=(0,Ep.K)(h);return r.length?new pf.c(f=>{let C=r.map(()=>[]),x=r.map(()=>!1);f.add(()=>{C=x=null});for(let le=0;!f.closed&&le<r.length;le++)(0,yr.Tg)(r[le]).subscribe((0,Sd._)(f,xe=>{if(C[le].push(xe),C.every(tt=>tt.length)){const tt=C.map(Ct=>Ct.shift());f.next(b?b(...tt):tt),C.some((Ct,Lt)=>!Ct.length&&x[Lt])&&f.complete()}},()=>{x[le]=!0,!C[le].length&&f.complete()}));return()=>{C=x=null}}):Ac.w}var Dl=l(8793),Ql=l(8141),Ga=l(6354),Ed=l(3993),Ch=l(1655),Td=l(5558),gf=l(9172);l(3294);var Sh={left:"right",right:"left",bottom:"top",top:"bottom"};function wd(h){return h.replace(/left|right|bottom|top/g,function(b){return Sh[b]})}function po(h){return h.split("-")[0]}var dg={start:"end",end:"start"};function au(h){return h.replace(/start|end/g,function(b){return dg[b]})}var Wo="top",ao="bottom",oo="right",Ta="left",Nl="auto",il=[Wo,ao,oo,Ta],Ml="start",Id="end",Ol="viewport",fl="popper",Vu=il.reduce(function(h,b){return h.concat([b+"-"+Ml,b+"-"+Id])},[]),xl=[].concat(il,[Nl]).reduce(function(h,b){return h.concat([b,b+"-"+Ml,b+"-"+Id])},[]),vf=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function mo(h){if(null==h)return window;if("[object Window]"!==h.toString()){var b=h.ownerDocument;return b&&b.defaultView||window}return h}function kl(h){return h instanceof mo(h).Element||h instanceof Element}function sl(h){return h instanceof mo(h).HTMLElement||h instanceof HTMLElement}function yf(h){return!(typeof ShadowRoot>"u")&&(h instanceof mo(h).ShadowRoot||h instanceof ShadowRoot)}function go(h){return((kl(h)?h.ownerDocument:h.document)||window.document).documentElement}var Mo=Math.max,bf=Math.min,Mc=Math.round;function pl(){var h=navigator.userAgentData;return null!=h&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function ql(){return!/^((?!chrome|android).)*safari/i.test(pl())}function ml(h,b,r){void 0===b&&(b=!1),void 0===r&&(r=!1);var f=h.getBoundingClientRect(),C=1,x=1;b&&sl(h)&&(C=h.offsetWidth>0&&Mc(f.width)/h.offsetWidth||1,x=h.offsetHeight>0&&Mc(f.height)/h.offsetHeight||1);var xe=(kl(h)?mo(h):window).visualViewport,tt=!ql()&&r,Ct=(f.left+(tt&&xe?xe.offsetLeft:0))/C,Lt=(f.top+(tt&&xe?xe.offsetTop:0))/x,Cn=f.width/C,jn=f.height/x;return{width:Cn,height:jn,top:Lt,right:Ct+Cn,bottom:Lt+jn,left:Ct,x:Ct,y:Lt}}function Cf(h){var b=mo(h);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function ec(h){return ml(go(h)).left+Cf(h).scrollLeft}function br(h){return mo(h).getComputedStyle(h)}function Ka(h){return h?(h.nodeName||"").toLowerCase():null}function Oc(h){return"html"===Ka(h)?h:h.assignedSlot||h.parentNode||(yf(h)?h.host:null)||go(h)}function Dd(h){var b=br(h);return/auto|scroll|overlay|hidden/.test(b.overflow+b.overflowY+b.overflowX)}function Nd(h){return["html","body","#document"].indexOf(Ka(h))>=0?h.ownerDocument.body:sl(h)&&Dd(h)?h:Nd(Oc(h))}function Oo(h,b){var r;void 0===b&&(b=[]);var f=Nd(h),C=f===(null==(r=h.ownerDocument)?void 0:r.body),x=mo(f),le=C?[x].concat(x.visualViewport||[],Dd(f)?f:[]):f,xe=b.concat(le);return C?xe:xe.concat(Oo(Oc(le)))}function Th(h){return["table","td","th"].indexOf(Ka(h))>=0}function ju(h){return sl(h)&&"fixed"!==br(h).position?h.offsetParent:null}function xc(h){for(var b=mo(h),r=ju(h);r&&Th(r)&&"static"===br(r).position;)r=ju(r);return r&&("html"===Ka(r)||"body"===Ka(r)&&"static"===br(r).position)?b:r||function Tp(h){var b=/firefox/i.test(pl());if(/Trident/i.test(pl())&&sl(h)&&"fixed"===br(h).position)return null;var C=Oc(h);for(yf(C)&&(C=C.host);sl(C)&&["html","body"].indexOf(Ka(C))<0;){var x=br(C);if("none"!==x.transform||"none"!==x.perspective||"paint"===x.contain||-1!==["transform","perspective"].indexOf(x.willChange)||b&&"filter"===x.willChange||b&&x.filter&&"none"!==x.filter)return C;C=C.parentNode}return null}(h)||b}function $u(h,b){var r=b.getRootNode&&b.getRootNode();if(h.contains(b))return!0;if(r&&yf(r)){var f=b;do{if(f&&h.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Gu(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function kc(h,b,r){return b===Ol?Gu(function ou(h,b){var r=mo(h),f=go(h),C=r.visualViewport,x=f.clientWidth,le=f.clientHeight,xe=0,tt=0;if(C){x=C.width,le=C.height;var Ct=ql();(Ct||!Ct&&"fixed"===b)&&(xe=C.offsetLeft,tt=C.offsetTop)}return{width:x,height:le,x:xe+ec(h),y:tt}}(h,r)):kl(b)?function u_(h,b){var r=ml(h,!1,"fixed"===b);return r.top=r.top+h.clientTop,r.left=r.left+h.clientLeft,r.bottom=r.top+h.clientHeight,r.right=r.left+h.clientWidth,r.width=h.clientWidth,r.height=h.clientHeight,r.x=r.left,r.y=r.top,r}(b,r):Gu(function Uu(h){var b,r=go(h),f=Cf(h),C=null==(b=h.ownerDocument)?void 0:b.body,x=Mo(r.scrollWidth,r.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),le=Mo(r.scrollHeight,r.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),xe=-f.scrollLeft+ec(h),tt=-f.scrollTop;return"rtl"===br(C||r).direction&&(xe+=Mo(r.clientWidth,C?C.clientWidth:0)-x),{width:x,height:le,x:xe,y:tt}}(go(h)))}function lo(h){return h.split("-")[1]}function tc(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function pg(h){var tt,b=h.reference,r=h.element,f=h.placement,C=f?po(f):null,x=f?lo(f):null,le=b.x+b.width/2-r.width/2,xe=b.y+b.height/2-r.height/2;switch(C){case Wo:tt={x:le,y:b.y-r.height};break;case ao:tt={x:le,y:b.y+b.height};break;case oo:tt={x:b.x+b.width,y:xe};break;case Ta:tt={x:b.x-r.width,y:xe};break;default:tt={x:b.x,y:b.y}}var Ct=C?tc(C):null;if(null!=Ct){var Lt="y"===Ct?"height":"width";switch(x){case Ml:tt[Ct]=tt[Ct]-(b[Lt]/2-r[Lt]/2);break;case Id:tt[Ct]=tt[Ct]+(b[Lt]/2-r[Lt]/2)}}return tt}function Ku(h){return Object.assign({},{top:0,right:0,bottom:0,left:0},h)}function Wu(h,b){return b.reduce(function(r,f){return r[f]=h,r},{})}function ha(h,b){void 0===b&&(b={});var f=b.placement,C=void 0===f?h.placement:f,x=b.strategy,le=void 0===x?h.strategy:x,xe=b.boundary,tt=void 0===xe?"clippingParents":xe,Ct=b.rootBoundary,Lt=void 0===Ct?Ol:Ct,Cn=b.elementContext,jn=void 0===Cn?fl:Cn,Hn=b.altBoundary,gi=void 0!==Hn&&Hn,mi=b.padding,Xi=void 0===mi?0:mi,ys=Ku("number"!=typeof Xi?Xi:Wu(Xi,il)),Ws=h.rects.popper,ps=h.elements[gi?jn===fl?"reference":fl:jn],nr=function Md(h,b,r,f){var C="clippingParents"===b?function Hu(h){var b=Oo(Oc(h)),f=["absolute","fixed"].indexOf(br(h).position)>=0&&sl(h)?xc(h):h;return kl(f)?b.filter(function(C){return kl(C)&&$u(C,f)&&"body"!==Ka(C)}):[]}(h):[].concat(b),x=[].concat(C,[r]),xe=x.reduce(function(tt,Ct){var Lt=kc(h,Ct,f);return tt.top=Mo(Lt.top,tt.top),tt.right=bf(Lt.right,tt.right),tt.bottom=bf(Lt.bottom,tt.bottom),tt.left=Mo(Lt.left,tt.left),tt},kc(h,x[0],f));return xe.width=xe.right-xe.left,xe.height=xe.bottom-xe.top,xe.x=xe.left,xe.y=xe.top,xe}(kl(ps)?ps:ps.contextElement||go(h.elements.popper),tt,Lt,le),Xs=ml(h.elements.reference),qs=pg({reference:Xs,element:Ws,strategy:"absolute",placement:C}),er=Gu(Object.assign({},Ws,qs)),oa=jn===fl?er:Xs,la={top:nr.top-oa.top+ys.top,bottom:oa.bottom-nr.bottom+ys.bottom,left:nr.left-oa.left+ys.left,right:oa.right-nr.right+ys.right},Xa=h.modifiersData.offset;if(jn===fl&&Xa){var Ja=Xa[C];Object.keys(la).forEach(function(Qa){var mc=[oo,ao].indexOf(Qa)>=0?1:-1,Qc=[Wo,ao].indexOf(Qa)>=0?"y":"x";la[Qa]+=Ja[Qc]*mc})}return la}const Od={name:"flip",enabled:!0,phase:"main",fn:function Sf(h){var b=h.state,r=h.options,f=h.name;if(!b.modifiersData[f]._skip){for(var C=r.mainAxis,x=void 0===C||C,le=r.altAxis,xe=void 0===le||le,tt=r.fallbackPlacements,Ct=r.padding,Lt=r.boundary,Cn=r.rootBoundary,jn=r.altBoundary,Hn=r.flipVariations,gi=void 0===Hn||Hn,mi=r.allowedAutoPlacements,Xi=b.options.placement,ys=po(Xi),Ws=tt||(ys!==Xi&&gi?function wp(h){if(po(h)===Nl)return[];var b=wd(h);return[au(h),b,au(b)]}(Xi):[wd(Xi)]),ps=[Xi].concat(Ws).reduce(function(sr,ul){return sr.concat(po(ul)===Nl?function Fy(h,b){void 0===b&&(b={});var C=b.boundary,x=b.rootBoundary,le=b.padding,xe=b.flipVariations,tt=b.allowedAutoPlacements,Ct=void 0===tt?xl:tt,Lt=lo(b.placement),Cn=Lt?xe?Vu:Vu.filter(function(gi){return lo(gi)===Lt}):il,jn=Cn.filter(function(gi){return Ct.indexOf(gi)>=0});0===jn.length&&(jn=Cn);var Hn=jn.reduce(function(gi,mi){return gi[mi]=ha(h,{placement:mi,boundary:C,rootBoundary:x,padding:le})[po(mi)],gi},{});return Object.keys(Hn).sort(function(gi,mi){return Hn[gi]-Hn[mi]})}(b,{placement:ul,boundary:Lt,rootBoundary:Cn,padding:Ct,flipVariations:gi,allowedAutoPlacements:mi}):ul)},[]),nr=b.rects.reference,Xs=b.rects.popper,qs=new Map,er=!0,oa=ps[0],la=0;la<ps.length;la++){var Xa=ps[la],Ja=po(Xa),Qa=lo(Xa)===Ml,mc=[Wo,ao].indexOf(Ja)>=0,Qc=mc?"width":"height",Gi=ha(b,{placement:Xa,boundary:Lt,rootBoundary:Cn,altBoundary:jn,padding:Ct}),as=mc?Qa?oo:Ta:Qa?ao:Wo;nr[Qc]>Xs[Qc]&&(as=wd(as));var Es=wd(as),Gs=[];if(x&&Gs.push(Gi[Ja]<=0),xe&&Gs.push(Gi[as]<=0,Gi[Es]<=0),Gs.every(function(sr){return sr})){oa=Xa,er=!1;break}qs.set(Xa,Gs)}if(er)for(var Cl=function(ul){var $r=ps.find(function(Xr){var Co=qs.get(Xr);if(Co)return Co.slice(0,ul).every(function(Jr){return Jr})});if($r)return oa=$r,"break"},Pa=gi?3:1;Pa>0&&"break"!==Cl(Pa);Pa--);b.placement!==oa&&(b.modifiersData[f]._skip=!0,b.placement=oa,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nc(h,b,r){return Mo(h,bf(b,r))}function xo(h){var b=ml(h),r=h.offsetWidth,f=h.offsetHeight;return Math.abs(b.width-r)<=1&&(r=b.width),Math.abs(b.height-f)<=1&&(f=b.height),{x:h.offsetLeft,y:h.offsetTop,width:r,height:f}}const Ef={name:"preventOverflow",enabled:!0,phase:"main",fn:function Pc(h){var b=h.state,r=h.options,f=h.name,C=r.mainAxis,x=void 0===C||C,le=r.altAxis,xe=void 0!==le&&le,jn=r.tether,Hn=void 0===jn||jn,gi=r.tetherOffset,mi=void 0===gi?0:gi,Xi=ha(b,{boundary:r.boundary,rootBoundary:r.rootBoundary,padding:r.padding,altBoundary:r.altBoundary}),ys=po(b.placement),cs=lo(b.placement),Ws=!cs,ps=tc(ys),nr=function rl(h){return"x"===h?"y":"x"}(ps),Xs=b.modifiersData.popperOffsets,qs=b.rects.reference,er=b.rects.popper,oa="function"==typeof mi?mi(Object.assign({},b.rects,{placement:b.placement})):mi,la="number"==typeof oa?{mainAxis:oa,altAxis:oa}:Object.assign({mainAxis:0,altAxis:0},oa),Xa=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,Ja={x:0,y:0};if(Xs){if(x){var Qa,mc="y"===ps?Wo:Ta,Qc="y"===ps?ao:oo,Gi="y"===ps?"height":"width",as=Xs[ps],Es=as+Xi[mc],Gs=as-Xi[Qc],Ca=Hn?-er[Gi]/2:0,Cl=cs===Ml?qs[Gi]:er[Gi],Pa=cs===Ml?-er[Gi]:-qs[Gi],Kl=b.elements.arrow,sr=Hn&&Kl?xo(Kl):{width:0,height:0},ul=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$r=ul[mc],Xr=ul[Qc],Co=nc(0,qs[Gi],sr[Gi]),Jr=Ws?qs[Gi]/2-Ca-Co-$r-la.mainAxis:Cl-Co-$r-la.mainAxis,hp=Ws?-qs[Gi]/2+Ca+Co+Xr+la.mainAxis:Pa+Co+Xr+la.mainAxis,Zc=b.elements.arrow&&xc(b.elements.arrow),fy=Zc?"y"===ps?Zc.clientTop||0:Zc.clientLeft||0:0,py=null!=(Qa=Xa?.[ps])?Qa:0,uE=as+hp-py,sC=nc(Hn?bf(Es,as+Jr-py-fy):Es,as,Hn?Mo(Gs,uE):Gs);Xs[ps]=sC,Ja[ps]=sC-as}if(xe){var eg,af=Xs[nr],lf="y"===nr?"height":"width",my=af+Xi["x"===ps?Wo:Ta],rC=af-Xi["x"===ps?ao:oo],gy=-1!==[Wo,Ta].indexOf(ys),fE=null!=(eg=Xa?.[nr])?eg:0,aC=gy?my:af-qs[lf]-er[lf]-fE+la.altAxis,K1=gy?af+qs[lf]+er[lf]-fE-la.altAxis:rC,oC=Hn&&gy?function wh(h,b,r){var f=nc(h,b,r);return f>r?r:f}(aC,af,K1):nc(Hn?aC:my,af,Hn?K1:rC);Xs[nr]=oC,Ja[nr]=oC-af}b.modifiersData[f]=Ja}},requiresIfExists:["offset"]},gg={name:"arrow",enabled:!0,phase:"main",fn:function Fc(h){var b,r=h.state,f=h.name,C=h.options,x=r.elements.arrow,le=r.modifiersData.popperOffsets,xe=po(r.placement),tt=tc(xe),Lt=[Ta,oo].indexOf(xe)>=0?"height":"width";if(x&&le){var Cn=function(b,r){return Ku("number"!=typeof(b="function"==typeof b?b(Object.assign({},r.rects,{placement:r.placement})):b)?b:Wu(b,il))}(C.padding,r),jn=xo(x),Hn="y"===tt?Wo:Ta,gi="y"===tt?ao:oo,mi=r.rects.reference[Lt]+r.rects.reference[tt]-le[tt]-r.rects.popper[Lt],Xi=le[tt]-r.rects.reference[tt],ys=xc(x),cs=ys?"y"===tt?ys.clientHeight||0:ys.clientWidth||0:0,Xs=cs/2-jn[Lt]/2+(mi/2-Xi/2),qs=nc(Cn[Hn],Xs,cs-jn[Lt]-Cn[gi]);r.modifiersData[f]=((b={})[tt]=qs,b.centerOffset=qs-Xs,b)}},effect:function lu(h){var b=h.state,f=h.options.element,C=void 0===f?"[data-popper-arrow]":f;null!=C&&("string"==typeof C&&!(C=b.elements.popper.querySelector(C))||$u(b.elements.popper,C)&&(b.elements.arrow=C))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cu(h,b,r){void 0===r&&(r=!1);var f=sl(b),C=sl(b)&&function Bc(h){var b=h.getBoundingClientRect(),r=Mc(b.width)/h.offsetWidth||1,f=Mc(b.height)/h.offsetHeight||1;return 1!==r||1!==f}(b),x=go(b),le=ml(h,C,r),xe={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(f||!f&&!r)&&(("body"!==Ka(b)||Dd(x))&&(xe=function al(h){return h!==mo(h)&&sl(h)?function Ih(h){return{scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}}(h):Cf(h)}(b)),sl(b)?((tt=ml(b,!0)).x+=b.clientLeft,tt.y+=b.clientTop):x&&(tt.x=ec(x))),{x:le.left+xe.scrollLeft-tt.x,y:le.top+xe.scrollTop-tt.y,width:le.width,height:le.height}}function Rh(h){var b=new Map,r=new Set,f=[];function C(x){r.add(x.name),[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(xe){if(!r.has(xe)){var tt=b.get(xe);tt&&C(tt)}}),f.push(x)}return h.forEach(function(x){b.set(x.name,x)}),h.forEach(function(x){r.has(x.name)||C(x)}),f}function kd(h){var b;return function(){return b||(b=new Promise(function(r){Promise.resolve().then(function(){b=void 0,r(h())})})),b}}var Yu={placement:"bottom",modifiers:[],strategy:"absolute"};function cr(){for(var h=arguments.length,b=new Array(h),r=0;r<h;r++)b[r]=arguments[r];return!b.some(function(f){return!(f&&"function"==typeof f.getBoundingClientRect)})}function d_(h){void 0===h&&(h={});var r=h.defaultModifiers,f=void 0===r?[]:r,C=h.defaultOptions,x=void 0===C?Yu:C;return function(xe,tt,Ct){void 0===Ct&&(Ct=x);var Lt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yu,x),modifiersData:{},elements:{reference:xe,popper:tt},attributes:{},styles:{}},Cn=[],jn=!1,Hn={state:Lt,setOptions:function(ys){var cs="function"==typeof ys?ys(Lt.options):ys;mi(),Lt.options=Object.assign({},x,Lt.options,cs),Lt.scrollParents={reference:kl(xe)?Oo(xe):xe.contextElement?Oo(xe.contextElement):[],popper:Oo(tt)};var Ws=function By(h){var b=Rh(h);return vf.reduce(function(r,f){return r.concat(b.filter(function(C){return C.phase===f}))},[])}(function Vc(h){var b=h.reduce(function(r,f){var C=r[f.name];return r[f.name]=C?Object.assign({},C,f,{options:Object.assign({},C.options,f.options),data:Object.assign({},C.data,f.data)}):f,r},{});return Object.keys(b).map(function(r){return b[r]})}([].concat(f,Lt.options.modifiers)));return Lt.orderedModifiers=Ws.filter(function(ps){return ps.enabled}),function gi(){Lt.orderedModifiers.forEach(function(Xi){var cs=Xi.options,ps=Xi.effect;if("function"==typeof ps){var nr=ps({state:Lt,name:Xi.name,instance:Hn,options:void 0===cs?{}:cs});Cn.push(nr||function(){})}})}(),Hn.update()},forceUpdate:function(){if(!jn){var ys=Lt.elements,cs=ys.reference,Ws=ys.popper;if(cr(cs,Ws)){Lt.rects={reference:cu(cs,xc(Ws),"fixed"===Lt.options.strategy),popper:xo(Ws)},Lt.reset=!1,Lt.placement=Lt.options.placement,Lt.orderedModifiers.forEach(function(la){return Lt.modifiersData[la.name]=Object.assign({},la.data)});for(var ps=0;ps<Lt.orderedModifiers.length;ps++)if(!0!==Lt.reset){var nr=Lt.orderedModifiers[ps],Xs=nr.fn,qs=nr.options;"function"==typeof Xs&&(Lt=Xs({state:Lt,options:void 0===qs?{}:qs,name:nr.name,instance:Hn})||Lt)}else Lt.reset=!1,ps=-1}}},update:kd(function(){return new Promise(function(Xi){Hn.forceUpdate(),Xi(Lt)})}),destroy:function(){mi(),jn=!0}};if(!cr(xe,tt))return Hn;function mi(){Cn.forEach(function(Xi){return Xi()}),Cn=[]}return Hn.setOptions(Ct).then(function(Xi){!jn&&Ct.onFirstUpdate&&Ct.onFirstUpdate(Xi)}),Hn}}var Tf={passive:!0};const ic={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function uu(h){var b=h.state,r=h.instance,f=h.options,C=f.scroll,x=void 0===C||C,le=f.resize,xe=void 0===le||le,tt=mo(b.elements.popper),Ct=[].concat(b.scrollParents.reference,b.scrollParents.popper);return x&&Ct.forEach(function(Lt){Lt.addEventListener("scroll",r.update,Tf)}),xe&&tt.addEventListener("resize",r.update,Tf),function(){x&&Ct.forEach(function(Lt){Lt.removeEventListener("scroll",r.update,Tf)}),xe&&tt.removeEventListener("resize",r.update,Tf)}},data:{}},Uc={name:"popperOffsets",enabled:!0,phase:"read",fn:function Lc(h){var b=h.state;b.modifiersData[h.name]=pg({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}};var Rp={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zu(h){var b,r=h.popper,f=h.popperRect,C=h.placement,x=h.variation,le=h.offsets,xe=h.position,tt=h.gpuAcceleration,Ct=h.adaptive,Lt=h.roundOffsets,Cn=h.isFixed,jn=le.x,Hn=void 0===jn?0:jn,gi=le.y,mi=void 0===gi?0:gi,Xi="function"==typeof Lt?Lt({x:Hn,y:mi}):{x:Hn,y:mi};Hn=Xi.x,mi=Xi.y;var ys=le.hasOwnProperty("x"),cs=le.hasOwnProperty("y"),Ws=Ta,ps=Wo,nr=window;if(Ct){var Xs=xc(r),qs="clientHeight",er="clientWidth";Xs===mo(r)&&"static"!==br(Xs=go(r)).position&&"absolute"===xe&&(qs="scrollHeight",er="scrollWidth"),(C===Wo||(C===Ta||C===oo)&&x===Id)&&(ps=ao,mi-=(Cn&&Xs===nr&&nr.visualViewport?nr.visualViewport.height:Xs[qs])-f.height,mi*=tt?1:-1),C!==Ta&&(C!==Wo&&C!==ao||x!==Id)||(Ws=oo,Hn-=(Cn&&Xs===nr&&nr.visualViewport?nr.visualViewport.width:Xs[er])-f.width,Hn*=tt?1:-1)}var Qa,Xa=Object.assign({position:xe},Ct&&Rp),Ja=!0===Lt?function Ap(h,b){var f=h.y,C=b.devicePixelRatio||1;return{x:Mc(h.x*C)/C||0,y:Mc(f*C)/C||0}}({x:Hn,y:mi},mo(r)):{x:Hn,y:mi};return Hn=Ja.x,mi=Ja.y,Object.assign({},Xa,tt?((Qa={})[ps]=cs?"0":"",Qa[Ws]=ys?"0":"",Qa.transform=(nr.devicePixelRatio||1)<=1?"translate("+Hn+"px, "+mi+"px)":"translate3d("+Hn+"px, "+mi+"px, 0)",Qa):((b={})[ps]=cs?mi+"px":"",b[Ws]=ys?Hn+"px":"",b.transform="",b))}const Pl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Pd(h){var b=h.state,r=h.options,f=r.gpuAcceleration,C=void 0===f||f,x=r.adaptive,le=void 0===x||x,xe=r.roundOffsets,tt=void 0===xe||xe,Ct={placement:po(b.placement),variation:lo(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:C,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,zu(Object.assign({},Ct,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:le,roundOffsets:tt})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,zu(Object.assign({},Ct,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:tt})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}};var wf=[ic,Uc,Pl,{name:"applyStyles",enabled:!0,phase:"write",fn:function Wa(h){var b=h.state;Object.keys(b.elements).forEach(function(r){var f=b.styles[r]||{},C=b.attributes[r]||{},x=b.elements[r];!sl(x)||!Ka(x)||(Object.assign(x.style,f),Object.keys(C).forEach(function(le){var xe=C[le];!1===xe?x.removeAttribute(le):x.setAttribute(le,!0===xe?"":xe)}))})},effect:function h_(h){var b=h.state,r={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,r.popper),b.styles=r,b.elements.arrow&&Object.assign(b.elements.arrow.style,r.arrow),function(){Object.keys(b.elements).forEach(function(f){var C=b.elements[f],x=b.attributes[f]||{},xe=Object.keys(b.styles.hasOwnProperty(f)?b.styles[f]:r[f]).reduce(function(tt,Ct){return tt[Ct]="",tt},{});!sl(C)||!Ka(C)||(Object.assign(C.style,xe),Object.keys(x).forEach(function(tt){C.removeAttribute(tt)}))})}},requires:["computeStyles"]}],If=d_({defaultModifiers:wf});const f_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function yg(h){var b=h.state,f=h.name,C=h.options.offset,x=void 0===C?[0,0]:C,le=xl.reduce(function(Lt,Cn){return Lt[Cn]=function vg(h,b,r){var f=po(h),C=[Ta,Wo].indexOf(f)>=0?-1:1,x="function"==typeof r?r(Object.assign({},b,{placement:h})):r,le=x[0],xe=x[1];return le=le||0,xe=(xe||0)*C,[Ta,oo].indexOf(f)>=0?{x:xe,y:le}:{x:le,y:xe}}(Cn,b.rects,x),Lt},{}),xe=le[b.placement],Ct=xe.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=xe.x,b.modifiersData.popperOffsets.y+=Ct),b.modifiersData[f]=le}},Xu=["*"],Eg=["dialog"],Wp={animation:!0,transitionTimerDelayMs:5};let hu=(()=>{class h{constructor(){this.animation=Wp.animation}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function $d(h){return"string"==typeof h}function Bl(h){return null!=h}function Ph(h){return(h||document.body).getBoundingClientRect()}function xg(h=document){const b=h?.activeElement;return b?b.shadowRoot?xg(b.shadowRoot):b:null}const Uf=()=>{},{transitionTimerDelayMs:jf}=Wp,$c=new Map,_o=(h,b,r,f)=>{let C=f.context||{};const x=$c.get(b);if(x)switch(f.runningTransition){case"continue":return Ac.w;case"stop":h.run(()=>x.transition$.complete()),C=Object.assign(x.context,C),$c.delete(b)}const le=r(b,f.animation,C)||Uf;if(!f.animation||"none"===window.getComputedStyle(b).transitionProperty)return h.run(()=>le()),(0,Rl.of)(void 0).pipe(function Fh(h){return b=>new pf.c(r=>b.subscribe({next:le=>h.run(()=>r.next(le)),error:le=>h.run(()=>r.error(le)),complete:()=>h.run(()=>r.complete())}))}(h));const xe=new fo.B,tt=new fo.B,Ct=xe.pipe(function Fu(...h){return b=>(0,Dl.x)(b,(0,Rl.of)(...h))}(!0));$c.set(b,{transition$:xe,complete:()=>{tt.next(),tt.complete()},context:C});const Lt=function R_(h){const{transitionDelay:b,transitionDuration:r}=window.getComputedStyle(h);return 1e3*(parseFloat(b)+parseFloat(r))}(b);return h.runOutsideAngular(()=>{const Cn=(0,hr.R)(b,"transitionend").pipe((0,so.Q)(Ct),(0,Er.p)(({target:Hn})=>Hn===b));Jl((0,Al.O)(Lt+jf).pipe((0,so.Q)(Ct)),Cn,tt).pipe((0,so.Q)(Ct)).subscribe(()=>{$c.delete(b),h.run(()=>{le(),xe.next(),xe.complete()})})}),xe.asObservable()};let Vl=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Gd=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Xp=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),M_=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})();const nm=(h,b)=>!!b&&b.some(r=>r.contains(h)),$g=(h,b)=>!b||null!=function Yp(h,b){return!b||typeof h.closest>"u"?null:h.closest(b)}(h,b),k_=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Hg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function P_(h){const b=Array.from(h.querySelectorAll(Hg)).filter(r=>-1!==r.tabIndex);return[b[0],b[b.length-1]]}let jh=(()=>{class h{constructor(){this._element=(0,e.WQX)(p.q).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const Kg=/\s+/,Wg=/  +/gi,s0={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},UC=/^left/,jC=/^right/,zf=/^start/,B_=/^end/;function im({placement:h,baseClass:b},r){let f=Array.isArray(h)?h:h.split(Kg),x=f.findIndex(Ct=>"auto"===Ct);x>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Ct){null==f.find(Lt=>-1!==Lt.search("^"+Ct))&&f.splice(x++,1,Ct)});const le=f.map(Ct=>function r0(h,b){const[r,f]=s0[h];return b&&f||r}(Ct,r.isRTL()));return{placement:le.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!b,phase:"write",fn({state:Ct}){const Lt=new RegExp(b+"(-[a-z]+)*","gi"),Cn=Ct.elements.popper,jn=Ct.placement;let Hn=Cn.className;Hn=Hn.replace(Lt,""),Hn+=` ${function lc(h,b){let[r,f]=b.split("-");const C=r.replace(UC,"start").replace(jC,"end");let x=[C];if(f){let le=f;("left"===r||"right"===r)&&(le=le.replace(zf,"top").replace(B_,"bottom")),x.push(`${C}-${le}`)}return h&&(x=x.map(le=>`${h}-${le}`)),x.join(" ")}(b,jn)}`,Hn=Hn.trim().replace(Wg," "),Cn.className=Hn}},Od,Ef,gg,{enabled:!0,name:"flip",options:{fallbackPlacements:le}}]}}function $h(h){return h}new Date(1882,10,12),new Date(2174,10,25);let t1=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),w0=(()=>{class h{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=r=>r,this.container=null}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),eh=(()=>{class h{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(r){this._disabled=""===r||!0===r}get disabled(){return this._disabled}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(f,C){2&f&&(e.Mr5("tabIndex",C.disabled?-1:C.tabindex),e.AVh("disabled",C.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"}})}}return h})(),Qf=(()=>{class h{constructor(){this.item=(0,e.WQX)(eh)}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(f,C){2&f&&e.Mr5("disabled",C.item.disabled)}})}}return h})(),mm=(()=>{class h{constructor(){this.dropdown=(0,e.WQX)(gm),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(f,C,x){if(1&f&&e.wni(x,eh,4),2&f){let le;e.mGM(le=e.lsd())&&(C.menuItems=le)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(f,C){1&f&&e.bIt("keydown.ArrowUp",function(le){return C.dropdown.onKeyDown(le)})("keydown.ArrowDown",function(le){return C.dropdown.onKeyDown(le)})("keydown.Home",function(le){return C.dropdown.onKeyDown(le)})("keydown.End",function(le){return C.dropdown.onKeyDown(le)})("keydown.Enter",function(le){return C.dropdown.onKeyDown(le)})("keydown.Space",function(le){return C.dropdown.onKeyDown(le)})("keydown.Tab",function(le){return C.dropdown.onKeyDown(le)})("keydown.Shift.Tab",function(le){return C.dropdown.onKeyDown(le)}),2&f&&e.AVh("show",C.dropdown.isOpen())}})}}return h})(),Zf=(()=>{class h{constructor(){this.dropdown=(0,e.WQX)(gm),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(f,C){2&f&&(e.BMQ("aria-expanded",C.dropdown.isOpen()),e.AVh("show",C.dropdown.isOpen()))}})}}return h})(),n1=(()=>{class h extends Zf{static{this.\u0275fac=(()=>{let r;return function(C){return(r||(r=e.xGo(h)))(C||h)}})()}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(f,C){1&f&&e.bIt("click",function(){return C.dropdown.toggle()})("keydown.ArrowUp",function(le){return C.dropdown.onKeyDown(le)})("keydown.ArrowDown",function(le){return C.dropdown.onKeyDown(le)})("keydown.Home",function(le){return C.dropdown.onKeyDown(le)})("keydown.End",function(le){return C.dropdown.onKeyDown(le)})("keydown.Tab",function(le){return C.dropdown.onKeyDown(le)})("keydown.Shift.Tab",function(le){return C.dropdown.onKeyDown(le)}),2&f&&(e.BMQ("aria-expanded",C.dropdown.isOpen()),e.AVh("show",C.dropdown.isOpen()))},features:[e.Jv_([{provide:Zf,useExisting:(0,e.Rfq)(()=>h)}]),e.Vt3]})}}return h})(),gm=(()=>{class h{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(w0),this._document=(0,e.WQX)(p.q),this._injector=(0,e.WQX)(e.zZn),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new fo.B,this._bodyContainer=null,this._positioning=function a0(){const h=(0,e.WQX)(jh);let b=null;return{createPopper(r){if(!b){let C=(r.updatePopperOptions||$h)(im(r,h));b=If(r.hostElement,r.targetElement,C)}},update(){b&&b.update()},setOptions(r){if(b){let C=(r.updatePopperOptions||$h)(im(r,h));b.setOptions(C)}},destroy(){b&&(b.destroy(),b=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){(0,e.mal)({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(r){if(r.container&&this._open&&this._applyContainer(this.container),r.placement&&!r.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),r.dropdownClass){const{currentValue:f,previousValue:C}=r.dropdownClass;this._applyCustomDropdownClass(f,C)}r.autoClose&&this._open&&(this.autoClose=r.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:r=>this.popperOptions(function gu(h){return b=>(b.modifiers.push(f_,{name:"offset",options:{offset:()=>h}}),b)}([0,2])(r))}),this._applyPlacementClasses(),this._afterRenderRef=(0,e.Tzd)({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Gg(h,b,r,f,C,x,le,xe){r&&h.runOutsideAngular((h=>k_?()=>setTimeout(()=>h(),100):h)(()=>{const Ct=(0,hr.R)(b,"keydown").pipe((0,so.Q)(C),(0,Er.p)(jn=>"Escape"===jn.key),(0,Ql.M)(jn=>jn.preventDefault())),Lt=(0,hr.R)(b,"mousedown").pipe((0,Ga.T)(jn=>{const Hn=jn.target;return 2!==jn.button&&!nm(Hn,le)&&("inside"===r?nm(Hn,x)&&$g(Hn,xe):"outside"===r?!nm(Hn,x):$g(Hn,xe)||!nm(Hn,x))}),(0,so.Q)(C)),Cn=(0,hr.R)(b,"mouseup").pipe((0,Ed.E)(Lt),(0,Er.p)(([jn,Hn])=>Hn),(0,Ch.c)(0),(0,so.Q)(C));Jl([Ct.pipe((0,Ga.T)(jn=>0)),Cn.pipe((0,Ga.T)(jn=>1))]).subscribe(jn=>h.run(()=>f(jn)))}))}(this._ngZone,this._document,this.autoClose,r=>{this.close(),0===r&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(r){const{key:f}=r,C=this._getMenuElements();let x=-1,le=null;const xe=this._isEventFromToggle(r);if(!xe&&C.length&&C.forEach((tt,Ct)=>{tt.contains(r.target)&&(le=tt),tt===xg(this._document)&&(x=Ct)})," "!==f&&"Enter"!==f){if("Tab"!==f){if(xe||le){if(this.open(),C.length){switch(f){case"ArrowDown":x=Math.min(x+1,C.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===x){x=C.length-1;break}x=Math.max(x-1,0);break;case"Home":x=0;break;case"End":x=C.length-1}C[x].focus()}r.preventDefault()}}else if(r.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===r.target)return void("body"!==this.container||r.shiftKey?r.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const tt=this._menu.nativeElement.querySelectorAll(Hg);r.shiftKey&&r.target===tt[0]?(this._anchor.nativeElement.focus(),r.preventDefault()):!r.shiftKey&&r.target===tt[tt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,hr.R)(r.target,"focusout").pipe((0,Br.s)(1)).subscribe(({relatedTarget:tt})=>{this._nativeElement.contains(tt)||this.close()})}}else le&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,hr.R)(le,"click").pipe((0,Br.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(r){return this._anchor.nativeElement.contains(r.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:r})=>!r).map(({nativeElement:r})=>r):[]}_positionMenu(){const r=this._menu;this.isOpen()&&r&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(r){return Array.isArray(r)?r[0]:r.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(r=null){if(this._resetContainer(),"body"===r){const f=this._menu.nativeElement,C=this._bodyContainer=this._bodyContainer||this._document.createElement("div");C.style.position="absolute",f.style.position="static",C.style.zIndex="1055",C.appendChild(f),this._document.body.appendChild(C)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(r,f){const C="body"===this.container?this._bodyContainer:this._nativeElement;C&&(f&&C.classList.remove(f),r&&C.classList.add(r))}_applyPlacementClasses(r){if(this._menu){r||(r=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const f=-1!==r.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(f),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(f))}}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdown",""]],contentQueries:function(f,C,x){if(1&f&&(e.wni(x,mm,5),e.wni(x,Zf,5)),2&f){let le;e.mGM(le=e.lsd())&&(C._menu=le.first),e.mGM(le=e.lsd())&&(C._anchor=le.first)}},hostVars:2,hostBindings:function(f,C){2&f&&e.AVh("show",C.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[e.OA$]})}}return h})(),_m=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),oS=(()=>{class h{constructor(){this._ngbConfig=(0,e.WQX)(hu),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(r){this._animation=r}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();class dc{constructor(b,r,f){this.nodes=b,this.viewRef=r,this.componentRef=f}}let R0=(()=>{class h{constructor(){this._document=(0,e.WQX)(p.q)}hide(){const r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),f=this._document.body,C=f.style,{overflow:x,paddingRight:le}=C;if(r>0){const xe=parseFloat(window.getComputedStyle(f).paddingRight);C.paddingRight=`${xe+r}px`}return C.overflow="hidden",()=>{r>0&&(C.paddingRight=le),C.overflow=x}}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),A0=(()=>{class h{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi),this._injector=(0,e.WQX)(e.zZn)}ngOnInit(){(0,e.mal)({mixedReadWrite:()=>_o(this._zone,this._nativeElement,(r,f)=>{f&&Ph(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return _o(this._zone,this._nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(f,C){2&f&&(e.HbH("modal-backdrop"+(C.backdropClass?" "+C.backdropClass:"")),e.AVh("show",!C.animation)("fade",C.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(f,C){},encapsulation:2})}}return h})();class i1{update(b){}close(b){}dismiss(b){}}const D0=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],N0=["animation","backdropClass"];class M0{_applyWindowOptions(b,r){D0.forEach(f=>{Bl(r[f])&&(b[f]=r[f])})}_applyBackdropOptions(b,r){N0.forEach(f=>{Bl(r[f])&&(b[f]=r[f])})}update(b){this._applyWindowOptions(this._windowCmptRef.instance,b),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,b)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,so.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,so.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(b,r,f,C){this._windowCmptRef=b,this._contentRef=r,this._backdropCmptRef=f,this._beforeDismiss=C,this._closed=new fo.B,this._dismissed=new fo.B,this._hidden=new fo.B,b.instance.dismissEvent.subscribe(x=>{this.dismiss(x)}),this.result=new Promise((x,le)=>{this._resolve=x,this._reject=le}),this.result.then(null,()=>{})}close(b){this._windowCmptRef&&(this._closed.next(b),this._resolve(b),this._removeModalElements())}_dismiss(b){this._dismissed.next(b),this._reject(b),this._removeModalElements()}dismiss(b){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();!function Og(h){return h&&h.then}(r)?!1!==r&&this._dismiss(b):r.then(f=>{!1!==f&&this._dismiss(b)},()=>{})}else this._dismiss(b)}_removeModalElements(){const b=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Rl.of)(void 0);b.subscribe(()=>{const{nativeElement:f}=this._windowCmptRef.location;f.parentNode.removeChild(f),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:f}=this._backdropCmptRef.location;f.parentNode.removeChild(f),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),nl(b,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var s1=function(h){return h[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",h}(s1||{});let O0=(()=>{class h{constructor(){this._document=(0,e.WQX)(p.q),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._injector=(0,e.WQX)(e.zZn),this._closed$=new fo.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new e.bkB,this.shown=new fo.B,this.hidden=new fo.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":$d(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,(0,e.mal)({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,f={animation:this.animation,runningTransition:"stop"},le=nl(_o(this._zone,r,()=>r.classList.remove("show"),f),_o(this._zone,this._dialogEl.nativeElement,()=>{},f));return le.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),le}_show(){const r={animation:this.animation,runningTransition:"continue"};nl(_o(this._zone,this._elRef.nativeElement,(x,le)=>{le&&Ph(x),x.classList.add("show")},r),_o(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{(0,hr.R)(r,"keydown").pipe((0,so.Q)(this._closed$),(0,Er.p)(C=>"Escape"===C.key)).subscribe(C=>{this.keyboard?requestAnimationFrame(()=>{C.defaultPrevented||this._zone.run(()=>this.dismiss(s1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let f=!1;(0,hr.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,so.Q)(this._closed$),(0,Ql.M)(()=>f=!1),(0,Td.n)(()=>(0,hr.R)(r,"mouseup").pipe((0,so.Q)(this._closed$),(0,Br.s)(1))),(0,Er.p)(({target:C})=>r===C)).subscribe(()=>{f=!0}),(0,hr.R)(r,"click").pipe((0,so.Q)(this._closed$)).subscribe(({target:C})=>{r===C&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!f&&this._zone.run(()=>this.dismiss(s1.BACKDROP_CLICK))),f=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const f=r.querySelector("[ngbAutofocus]"),C=P_(r)[0];(f||C||r).focus()}}_restoreFocus(){const r=this._document.body,f=this._elWithFocus;let C;C=f&&f.focus&&r.contains(f)?f:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>C.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&_o(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(f,C){if(1&f&&e.GBs(Eg,7),2&f){let x;e.mGM(x=e.lsd())&&(C._dialogEl=x.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(f,C){2&f&&(e.BMQ("aria-modal",!0)("aria-labelledby",C.ariaLabelledBy)("aria-describedby",C.ariaDescribedBy)("role",C.role),e.HbH("modal d-block"+(C.windowClass?" "+C.windowClass:"")),e.AVh("fade",C.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Xu,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(f,C){1&f&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&f&&e.HbH("modal-dialog"+(C.size?" modal-"+C.size:"")+(C.centered?" modal-dialog-centered":"")+C.fullscreenClass+(C.scrollable?" modal-dialog-scrollable":"")+(C.modalDialogClass?" "+C.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return h})(),x0=(()=>{class h{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(p.q),this._scrollBar=(0,e.WQX)(R0),this._activeWindowCmptHasChanged=new fo.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const r=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((h,b,r,f=!1)=>{h.runOutsideAngular(()=>{const C=(0,hr.R)(b,"focusin").pipe((0,so.Q)(r),(0,Ga.T)(x=>x.target));(0,hr.R)(b,"keydown").pipe((0,so.Q)(r),(0,Er.p)(x=>"Tab"===x.key),(0,Ed.E)(C)).subscribe(([x,le])=>{const[xe,tt]=P_(b);(le===xe||le===b)&&x.shiftKey&&(tt.focus(),x.preventDefault()),le===tt&&!x.shiftKey&&(xe.focus(),x.preventDefault())}),f&&(0,hr.R)(b,"click").pipe((0,so.Q)(r),(0,Ed.E)(C),(0,Ga.T)(x=>x[1])).subscribe(x=>x.focus())})})(r,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,f,C){const x=C.container instanceof HTMLElement?C.container:Bl(C.container)?this._document.querySelector(C.container):this._document.body;if(!x)throw new Error(`The specified modal container "${C.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const le=new i1,xe=(r=C.injector||r).get(e.uvJ,null)||this._environmentInjector,tt=this._getContentRef(r,xe,f,le,C);let Ct=!1!==C.backdrop?this._attachBackdrop(x):void 0,Lt=this._attachWindowComponent(x,tt.nodes),Cn=new M0(Lt,tt,Ct,C.beforeDismiss);return this._registerModalRef(Cn),this._registerWindowCmpt(Lt),Cn.hidden.pipe((0,Br.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),le.close=jn=>{Cn.close(jn)},le.dismiss=jn=>{Cn.dismiss(jn)},le.update=jn=>{Cn.update(jn)},Cn.update(C),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),Ct&&Ct.instance&&Ct.changeDetectorRef.detectChanges(),Lt.changeDetectorRef.detectChanges(),Cn}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(f=>f.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r){let f=(0,e.a0P)(A0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(f.hostView),r.appendChild(f.location.nativeElement),f}_attachWindowComponent(r,f){let C=(0,e.a0P)(O0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:f});return this._applicationRef.attachView(C.hostView),r.appendChild(C.location.nativeElement),C}_getContentRef(r,f,C,x,le){return C?C instanceof e.C4Q?this._createFromTemplateRef(C,x):$d(C)?this._createFromString(C):this._createFromComponent(r,f,C,x,le):new dc([])}_createFromTemplateRef(r,f){const x=r.createEmbeddedView({$implicit:f,close(le){f.close(le)},dismiss(le){f.dismiss(le)}});return this._applicationRef.attachView(x),new dc([x.rootNodes],x)}_createFromString(r){const f=this._document.createTextNode(`${r}`);return new dc([[f]])}_createFromComponent(r,f,C,x,le){const xe=e.zZn.create({providers:[{provide:i1,useValue:x}],parent:r}),tt=(0,e.a0P)(C,{environmentInjector:f,elementInjector:xe}),Ct=tt.location.nativeElement;return le.scrollable&&Ct.classList.add("component-host-scrollable"),this._applicationRef.attachView(tt.hostView),new dc([[Ct]],tt.hostView,tt)}_setAriaHidden(r){const f=r.parentElement;f&&r!==this._document.body&&(Array.from(f.children).forEach(C=>{C!==r&&"SCRIPT"!==C.nodeName&&(this._ariaHiddenValues.set(C,C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))}),this._setAriaHidden(f))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,f)=>{r?f.setAttribute("aria-hidden",r):f.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const f=()=>{const C=this._modalRefs.indexOf(r);C>-1&&(this._modalRefs.splice(C,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(f,f)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const f=this._windowCmpts.indexOf(r);f>-1&&(this._windowCmpts.splice(f,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),r1=(()=>{class h{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(x0),this._config=(0,e.WQX)(oS)}open(r,f={}){const C={...this._config,animation:this._config.animation,...f};return this._modalStack.open(this._injector,r,C)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),k0=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({providers:[r1]})}}return h})(),o1=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Q_=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Em=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),u1=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),d1=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),rd=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),nh=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),g1=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),yu=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let uv=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Rm=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})();const ib=[Vl,Gd,Xp,M_,t1,_m,k0,o1,Rm,Q_,Em,u1,d1,rd,nh,g1,yu,uv];let fv=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[ib,Vl,Gd,Xp,M_,t1,_m,k0,o1,Rm,Q_,Em,u1,d1,rd,nh,g1,yu,uv]})}}return h})();var Am=l(3899);const pv=h=>[h],ih=h=>({showUpgrade:h});function sh(h,b){1&h&&e.eu8(0)}function y1(h,b){if(1&h&&(e.j41(0,"button",5),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,sh,1,0,"ng-container",6),e.k0s()),2&h){const r=e.XpG(2),f=e.sdS(2);e.HbH(r.btnClasses),e.Y8G("routerLinkActive",r.activeClass)("routerLink",e.eq3(9,pv,e.bMT(1,7,r.route))),e.R7$(2),e.SpI(" ",r.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",f)("ngTemplateOutletContext",e.eq3(11,ih,r.showUpgrade))}}function b1(h,b){1&h&&e.eu8(0)}function sb(h,b){if(1&h&&(e.j41(0,"button",7),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,b1,1,0,"ng-container",6),e.k0s()),2&h){const r=e.XpG(2),f=e.sdS(2);e.HbH(r.btnClasses),e.Y8G("routerLinkActive",r.activeClass)("routerLink",e.eq3(9,pv,e.bMT(1,7,r.route))),e.R7$(2),e.SpI(" ",r.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",f)("ngTemplateOutletContext",e.eq3(11,ih,r.showUpgrade))}}function Dm(h,b){if(1&h&&(e.j41(0,"li",2),e.DNE(1,y1,4,13,"button",3)(2,sb,4,13,"button",4),e.k0s()),2&h){const r=e.XpG();e.HbH(r.classes),e.Y8G("id",r.id),e.R7$(),e.vxM(r.sub?1:2)}}function ad(h,b){1&h&&(e.j41(0,"div",8)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",10),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Wh(h,b){1&h&&e.DNE(0,ad,5,3,"div",8),2&h&&e.vxM(b.showUpgrade?0:-1)}let Nm=(()=>{class h{constructor(){this.showUpgrade=!1}get btnClasses(){const r="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${r} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${r} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},standalone:!1,decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],[3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(f,C){1&f&&e.DNE(0,Dm,3,4,"li",1)(1,Wh,1,1,"ng-template",null,0,e.C5r),2&f&&e.vxM(C.display?0:-1)},dependencies:[A.T3,Ce.Wk,Ce.wQ,eh,Qf,Hi.D9,se.tl],encapsulation:2})}}return h})();const mv=["sameSiteBrowserNotification"],gv=["defaultUserResolveButton"],_v=[[["","navigation",""]]],od=["[navigation]"],Yh=(h,b)=>({text:h,check:b}),Mm=(h,b)=>({"tw-opacity-75":h,"tw-pill-info":b}),Om=h=>[h],C1=(h,b)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":h,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":b});function S1(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(r);const C=e.XpG(2);return e.Njj(C.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&h&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function vv(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(r);const C=e.XpG(2);return e.Njj(C.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&h&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function yv(h,b){if(1&h&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&h){const r=e.XpG(2);e.R7$(6),e.SpI(" ",r.licenseIsInStarterModeMessage," ")}}function bv(h,b){if(1&h&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&h){const r=e.XpG(2);e.R7$(6),e.SpI(" ",r.licenseIsInGracePeriodMessage," ")}}function Cv(h,b){if(1&h&&(e.j41(0,"div",15),e.DNE(1,S1,13,6,"div",16)(2,vv,13,6,"div",17)(3,yv,7,1,"div",18)(4,bv,7,1,"div",19),e.k0s()),2&h){const r=e.XpG();e.R7$(),e.Y8G("ngIf",r.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",r.defaultUserExists),e.R7$(),e.Y8G("ngIf",r.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",r.licenseIsInGracePeriod)}}function E1(h,b){if(1&h&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&h){const r=e.XpG(2);e.Y8G("ngClass",e.l_i(2,Mm,r.securityService.isNonProd(),!r.securityService.isNonProd())),e.R7$(),e.SpI(" ",r.securityService.licenseType," ")}}function Sv(h,b){if(1&h){const r=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,E1,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&h){const r=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=r.securityService.organisation),e.R7$(4),e.JRh(r.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function xm(h,b){1&h&&e.nrm(0,"span",53)}function rh(h,b){1&h&&e.nrm(0,"span",54)}function Ev(h,b){1&h&&e.nrm(0,"div",61)}function T1(h,b){if(1&h&&(e.nrm(0,"app-nav-item",62),e.nI1(1,"translate")),2&h){const r=e.XpG(3);e.Y8G("id","app-nav-item-auditing")("title",e.bMT(1,6,"Nav.Auditing"))("activeClass","tw-nav-active")("route","/auditing")("display",r.securityService.auditerView)("showUpgrade",r.licenseIsInStarterMode)}}function w1(h,b){if(1&h){const r=e.RV6();e.j41(0,"nav",55),e.DNE(1,Ev,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.DNE(12,T1,2,8,"app-nav-item",58),e.nrm(13,"app-nav-item",57),e.nI1(14,"translate"),e.j41(15,"li",59)(16,"button",60),e.bIt("click",function(){e.eBV(r);const C=e.XpG(2);return e.Njj(C.logoff())}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&h){const r=e.XpG(2);e.R7$(),e.Y8G("ngIf",!r.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,29,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,31,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",r.securityService.userManagerView||r.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,33,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",r.securityService.userManagerView||r.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,35,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",r.securityService.userManagerView||r.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("ngIf",r.enableAuditing),e.R7$(),e.Y8G("id","app-nav-item-settings")("title",e.bMT(14,37,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings/accesspolicy")("display",r.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(18,39,"Logout")," ")}}function km(h,b){if(1&h){const r=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,xm,1,0,"span",50)(18,rh,1,0,"span",51),e.k0s()(),e.DNE(19,w1,19,41,"nav",52),e.k0s()()()}if(2&h){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,Om,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",r.openMenu),e.BMQ("aria-expanded",1==r.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!r.openMenu),e.R7$(),e.Y8G("ngIf",r.openMenu),e.R7$(),e.Y8G("ngIf",r.openMenu&&r.appComponentViewConfig.showNav&&!r.expectingStarterModeConsent)}}function rb(h,b){1&h&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Tv(h,b){if(1&h&&(e.j41(0,"li",64)(1,"button",65),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,rb,5,3,"div",66),e.k0s()()),2&h){const r=e.XpG(),f=r.title,C=r.classes,x=r.activeClass,le=r.sub,xe=r.route,tt=r.starterUpgrade,Ct=r.id,Lt=e.XpG();e.HbH(C),e.Y8G("id",Ct),e.R7$(),e.Y8G("ngClass",e.l_i(10,C1,le,!le))("routerLinkActive",x)("routerLink",e.eq3(13,Om,e.bMT(2,8,xe))),e.R7$(2),e.SpI(" ",f," "),e.R7$(),e.Y8G("ngIf",tt&&Lt.licenseIsInStarterMode)}}function ab(h,b){1&h&&e.DNE(0,Tv,5,15,"li",63),2&h&&e.Y8G("ngIf",b.display)}function ob(h,b){1&h&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function zh(h,b){if(1&h&&(e.j41(0,"li",64)(1,"button",69),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,ob,5,3,"div",66),e.k0s()()),2&h){const r=e.XpG(),f=r.title,C=r.classes,x=r.activeClass,le=r.sub,xe=r.route,tt=r.starterUpgrade,Ct=r.id,Lt=e.XpG();e.HbH(C),e.Y8G("id",Ct),e.R7$(),e.Y8G("ngClass",e.l_i(10,C1,le,!le))("routerLinkActive",x)("routerLink",e.eq3(13,Om,e.bMT(2,8,xe))),e.R7$(2),e.SpI(" ",f," "),e.R7$(),e.Y8G("ngIf",tt&&Lt.licenseIsInStarterMode)}}function Pm(h,b){1&h&&e.DNE(0,zh,5,15,"li",63),2&h&&e.Y8G("ngIf",b.display)}function wv(h,b){1&h&&(e.j41(0,"div",70)(1,"div",71)(2,"div")(3,"h1",72),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&h&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function Iv(h,b){1&h&&e.nrm(0,"router-outlet")}function lb(h,b){1&h&&e.eu8(0)}function Rv(h,b){if(1&h&&(e.j41(0,"div",74)(1,"div",75),e.nrm(2,"span",76),e.j41(3,"span",77)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&h){const r=e.XpG(),f=r.text;e.Y8G("@fadeInOut",r.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",f," ")}}function Av(h,b){1&h&&e.DNE(0,Rv,8,5,"div",73),2&h&&e.Y8G("ngIf",b.check)}function Dv(h,b){if(1&h){const r=e.RV6();e.j41(0,"footer",78)(1,"button",79),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.jumpToTop())}),e.nrm(2,"span",80),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",81)(7,"div",82)(8,"p",83)(9,"span",84),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",85),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",86)(16,"li",87)(17,"a",88),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",89),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",90),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&h){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",r.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",r.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let Nv=(()=>{class h{constructor(r,f,C,x,le,xe,tt,Ct,Lt,Cn,jn,Hn,gi){this.securityService=r,this.translate=f,this.localizeRouter=C,this.toastr=x,this.router=le,this.healthCheckService=xe,this.authService=tt,this.userService=Ct,this.modalService=Lt,this.browserSameSiteService=Cn,this.appComponentViewService=jn,this.licenseService=Hn,this.configService=gi,this.adminuiProvider=ni.c.authServer.toString(),this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.enableAuditing=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[$o.N.Save],this.subscriptions=[],us.wB.defaultLocale="utc",us.wB.defaultZone="utc";const mi=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",mi),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const f={link:tr.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",f),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}this.configService.getConfig().pipe((0,qi.$)()).subscribe({next:f=>{this.enableAuditing=f.enableAuditing}})}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(r=>r.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,Er.p)(r=>r instanceof at.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Ys}),this.router.events.subscribe({next:r=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:r=>{this.appComponentViewConfig=r}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,Br.s)(1)).subscribe({next:r=>this.uiHealthCheckSuccess(r),error:r=>this.uiHealthCheckFailed(r)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,Br.s)(1)).subscribe({next:r=>this.idsHealthCheckSuccess(),error:r=>this.idsHealthCheckFailed(r)})}uiHealthCheckSuccess(r){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof r&&!(0,mr.gP)(r)&&this.toastr.warning(r,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,Yr.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(f=>{f.authentication.isAuthenticated&&f.authentication.username!=el.M.DefaultAdministratorUsername&&f.permissions.includes(Mi.a[Mi.a.All])&&this.userService.defaultUserExists().subscribe(C=>{this.defaultUserExists=C})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(f=>{if(this.licenseIsInStarterMode=f.isStarterLicense(),this.expectingStarterModeConsent=f.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=f.isInGracePeriod,this.licenseIsInGracePeriod){const C=(0,mr.KU)(f.gracePeriodExpiry,"ccc LLL dd yyyy, T");let x=this.translate.instant("Common.LicenseIsInGracePeriod");x=x.replace("{0}",C),this.licenseIsInGracePeriodMessage=x}})}uiHealthCheckFailed(r){this.healthCheckService.uiHealthCheckComplete.next(!0);const f=this.getHealthCheckError(r);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:f?` (${f})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(r){this.healthCheckService.idsHealthCheckComplete.next(!0);const f=this.getHealthCheckError(r);this.toastr.error(this.translate.instant("ServerDependent.LandingPage.IdentityServerError",{link:tr.$9.checkHealthIdentityServerDocs,error:f?` (${f})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:r=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:r=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(r,f=!1){return this.router.isActive(r,f)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const r=window.matchMedia("(min-width: 1024px)");r.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!r.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(r){if(!r)return"";const f=r.error;if(f){if("string"==typeof f)return f;if(f.errors&&f.errors.length>0)return f.errors[0]}return r.message?r.message:r.statusText?r.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(It.i),e.rXU(Hi.c$),e.rXU(se.QG),e.rXU(Ge.tw),e.rXU(at.Ix),e.rXU(pe.M),e.rXU(we.u),e.rXU(Je.D),e.rXU(Mt.B),e.rXU(tl),e.rXU(Il.X),e.rXU(bn.X),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-shared-base"]],viewQuery:function(f,C){if(1&f&&(e.GBs(mv,5),e.GBs(gv,5)),2&f){let x;e.mGM(x=e.lsd())&&(C.sameSiteBrowserNotification=x.first),e.mGM(x=e.lsd())&&(C.defaultUserResolveButton=x.first)}},standalone:!1,ngContentSelectors:od,decls:20,vars:19,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[3,"id","title","classes","activeClass","route","display","showUpgrade",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"id","title","classes","activeClass","route","display","showUpgrade"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],["id","loadingMessage",1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(f,C){if(1&f){const x=e.RV6();e.NAR(_v),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Cv,5,4,"div",6)(4,Sv,14,8,"nav",7)(5,km,20,20,"header",8)(6,ab,1,1,"ng-template",null,0,e.C5r)(8,Pm,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(x),e.Njj(C.removeDefaultUser())})("onCancel",function(){return e.eBV(x),e.Njj(C.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,wv,9,6,"div",11)(15,Iv,1,0,"router-outlet",12),e.k0s(),e.DNE(16,lb,1,0,"ng-container",13)(17,Av,1,1,"ng-template",null,2,e.C5r)(19,Dv,26,14,"footer",14)}if(2&f){const x=e.sdS(18);e.Y8G("href",C.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",C.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",C.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",C.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",C.resolveModalActions)("title","Remove Default Administrator")("modalId",C.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",C.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!C.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(16,Yh,C.adminuiProvider,!C.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",C.appComponentViewConfig.showFooter)}},dependencies:[A.YU,A.bT,A.T3,eh,Qf,Am.G,at.n3,Ce.Wk,Ce.wQ,Nm,Hi.D9,se.tl],encapsulation:2,data:{animation:[(0,mn.l1)(),(0,mn.Ws)()]}})}}return h})();const Mv=["resourcesMenu"];function I1(h,b){if(1&h&&(e.j41(0,"li",4)(1,"button",5)(2,"span",6),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",7),e.k0s(),e.j41(6,"div",8),e.nI1(7,"translate"),e.j41(8,"ul",9),e.nrm(9,"app-nav-item",10),e.nI1(10,"translate"),e.nrm(11,"app-nav-item",10),e.nI1(12,"translate"),e.k0s()()()),2&h){const r=e.XpG();e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",r.isActiveResourceRoute()),e.R7$(2),e.JRh(e.bMT(4,19,"Nav.Resources")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,21,"Nav.Resources")),e.R7$(3),e.Y8G("id","app-nav-item-identityresources")("title",e.bMT(10,23,"Nav.IdentityResources"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/identityresources")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-protectedresources")("title",e.bMT(12,25,"Nav.ProtectedResources"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/protectedresources")("display",!0)}}let R1=(()=>{class h{constructor(r,f,C,x){this.securityService=r,this.router=f,this.licenseService=C,this.configService=x,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(r=>r.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.configService.getConfig().subscribe({next:r=>{this.dynamicAuthEnabled=r.featureFlagOptions.dynamicAuthenticationFlag!=$e.U.Disabled}}),this.licenseService.getLicenseInfo().subscribe(r=>{this.licenseIsInStarterMode=r.isStarterLicense()}))}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(It.i),e.rXU(at.Ix),e.rXU(bn.X),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-root"]],viewQuery:function(f,C){if(1&f&&e.GBs(Mv,5),2&f){let x;e.mGM(x=e.lsd())&&(C.resourcesMenu=x.first)}},standalone:!1,decls:7,vars:18,consts:[["navigation",""],[3,"id","title","classes","activeClass","route","display"],["class","","ngbDropdown","",3,"autoClose",4,"ngIf"],[3,"id","title","classes","activeClass","route","display","showUpgrade"],["ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuResourcesToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"id","title","classes","activeClass","sub","route","display"]],template:function(f,C){1&f&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.nrm(2,"app-nav-item",1),e.nI1(3,"translate"),e.DNE(4,I1,13,27,"li",2),e.nrm(5,"app-nav-item",3),e.nI1(6,"translate"),e.bVm(),e.k0s()),2&f&&(e.R7$(2),e.Y8G("id","app-nav-item-clients")("title",e.bMT(3,14,"Nav.Clients"))("classes","")("activeClass","tw-nav-active")("route","/clients")("display",C.securityService.authorizationServerManagerView||C.securityService.authorizationServerManagerReadOnlyView),e.R7$(2),e.Y8G("ngIf",C.securityService.authorizationServerManagerView||C.securityService.authorizationServerManagerReadOnlyView),e.R7$(),e.Y8G("id","tabDynamicAuth")("title",e.bMT(6,16,"Nav.DynamicAuth"))("classes","")("activeClass","tw-nav-active")("route","/dynamic-auth")("display",(C.securityService.authorizationServerManagerView||C.securityService.authorizationServerManagerReadOnlyView)&&C.dynamicAuthEnabled)("showUpgrade",C.licenseIsInStarterMode))},dependencies:[Nv,A.bT,gm,n1,mm,Nm,Hi.D9],encapsulation:2,data:{animation:[(0,mn.l1)(),(0,mn.Ws)()]}})}}return h})();var Kc=l(534),jl=l(1924),$l=l(3816),ld=l(779),tp=l(8416),np=l(9437),Fm=l(8284),Wc=l(8261),pc=l(5424);let ip=(()=>{class h{constructor(r,f){this.identityResourceService=r,this.errorService=f}resolve(r,f){const C=r.paramMap.get("id");return this.identityResourceService.getResource(C).pipe((0,Ga.T)(x=>(x&&this.identityResourceService.getCachedIdentityResource().next(x),x)),(0,np.W)((x,le)=>(404===x.status?this.errorService.resourceNotFound(Fm.v.identityResource):this.errorService.handleError(x),Ac.w)))}static{this.\u0275fac=function(f){return new(f||h)(e.KVO(Wc.A),e.KVO(pc.I))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var cl=l(5893);let Bm=(()=>{class h{constructor(r,f){this.protectedResourceService=r,this.errorService=f}resolve(r,f){const C=r.paramMap.get("id");return this.protectedResourceService.getResource(C).pipe((0,Ga.T)(x=>(x&&this.protectedResourceService.getCachedProtectedResource().next(x),x)),(0,np.W)((x,le)=>(404===x.status?this.errorService.resourceNotFound(Fm.v.protectedResource):this.errorService.handleError(x),Ac.w)))}static{this.\u0275fac=function(f){return new(f||h)(e.KVO(cl.x),e.KVO(pc.I))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var ia=l(2892),Vm=l(1397),Lm=l(6494),ba=l(345),Yc=l(3680),cd=l(7156),Um=l(7294),jm=l(2510),yo=l(7384),Xh=l(1068),zc=l(526),Gl=l(4112),ud=l(8698);const Ov=["IdentityResourcePicker"],xv=["tabs"],sp=["addIdentityResourceModal"],$m=()=>({animated:!1,backdrop:"static"});function kv(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function cb(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.AssignClaims")))}function _S(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const r=e.XpG();e.Y8G("disabled",r.identityResourceForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function ub(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const r=e.XpG();e.Y8G("disabled",0==r.assignedClaims.length),e.R7$(),e.JRh(e.bMT(2,2,"Common.Save"))}}let Pv=(()=>{class h{constructor(r,f,C,x,le,xe){this.claimTypesService=r,this.errorService=f,this.identityResourceService=C,this.translate=x,this.fb=le,this.toastr=xe,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.bkB}keydown(r){"Enter"===r.key&&this.identityResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.availableClaims=r,this.allAvailableClaims=r},error:r=>{this.errorService.handleError(r)}}),this.identityResourceForm=this.fb.group({name:["",mt.k0.required],displayName:["",mt.k0.required],description:["",mt.k0.maxLength(1e3)]})}ngAfterViewInit(){this.resourcesPicker.assignedStream.subscribe(r=>{this.availableClaims=(0,mr.Yt)(this.availableClaims.slice(),r);const f=this.assignedClaims.slice();this.assignedClaims=f.concat(r)}),this.resourcesPicker.unAssignedStream.subscribe(r=>{const f=this.availableClaims;this.assignedClaims=(0,mr.Yt)(this.assignedClaims.slice(),r),this.availableClaims=f.concat(r)})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const r=(0,Xh.kH)(this.assignedClaims,function(C){return C.name}),f=Object.assign(this.identityResourceForm.value,{allowedClaims:r});this.identityResourceService.addResource(f).subscribe(C=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.resetWizard(),this.hide(),this.onSubmit.emit()},C=>{let x;C.error.errors.length>0&&(x=C.error.errors[0]),this.toastr.error(x,this.translate.instant("Common.Error"))})}resetWizard(){this.identityResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvailableClaims}hide(){this.addIdentityResourceModal.hide()}show(){this.addIdentityResourceModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(zc.X),e.rXU(pc.I),e.rXU(Wc.A),e.rXU(Hi.c$),e.rXU(mt.ze),e.rXU(Ge.tw))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-add-identityresource"]],viewQuery:function(f,C){if(1&f&&(e.GBs(Ov,7),e.GBs(xv,7),e.GBs(sp,7)),2&f){let x;e.mGM(x=e.lsd())&&(C.resourcesPicker=x.first),e.mGM(x=e.lsd())&&(C.tabComponent=x.first),e.mGM(x=e.lsd())&&(C.addIdentityResourceModal=x.first)}},hostBindings:function(f,C){1&f&&e.bIt("keydown",function(le){return C.keydown(le)},!1,e.EBC)},outputs:{onSubmit:"onSubmit"},standalone:!1,decls:47,vars:36,consts:[["addIdentityResourceModal","bs-modal"],["progressBar",""],["tabs",""],["IdentityResourcePicker",""],["bsModal","","id","addIdentityModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"disabled","click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",9),e.bIt("click",function(){return e.eBV(x),e.Njj(C.hide())}),e.nrm(9,"span",10),e.j41(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",12)(14,"div",13,1)(16,"span",11),e.EFF(17),e.k0s()()(),e.j41(18,"div",14)(19,"div",15),e.DNE(20,kv,3,3,"p",16)(21,cb,3,3,"p",16),e.k0s(),e.j41(22,"tabset",17,2)(24,"tab")(25,"form",18)(26,"app-form-row",19),e.nrm(27,"input",20),e.k0s(),e.j41(28,"app-form-row",19),e.nrm(29,"input",21),e.k0s(),e.j41(30,"app-form-row",22)(31,"textarea",23),e.bIt("focus",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)})("blur",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)}),e.k0s()()()(),e.j41(32,"tab"),e.nrm(33,"app-common-picker",24,3),e.k0s()()(),e.nrm(35,"div",25),e.j41(36,"div",26)(37,"div",27)(38,"div",28),e.DNE(39,_S,3,4,"button",29)(40,ub,3,4,"button",30),e.j41(41,"button",31),e.bIt("click",function(){return e.eBV(x),e.Njj(C.previousTab())}),e.EFF(42),e.nI1(43,"translate"),e.k0s()(),e.j41(44,"button",32),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()}2&f&&(e.Y8G("config",e.lJ4(35,$m)),e.R7$(6),e.JRh(e.bMT(7,27,"IdentityResources.Create")),e.R7$(5),e.JRh(e.bMT(12,29,"Common.Close")),e.R7$(3),e.xc7("width",C.progressPercent+"%"),e.R7$(3),e.JRh(C.progressPercent+"%"),e.R7$(3),e.Y8G("ngIf",C.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",C.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",C.identityResourceForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.R7$(3),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",C.tabIndex<C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",C.tabIndex==C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==C.tabIndex),e.R7$(),e.JRh(e.bMT(43,31,"Common.Back")),e.R7$(3),e.JRh(e.bMT(46,33,"Common.Cancel")))},dependencies:[A.bT,mt.qT,mt.me,mt.BC,mt.cb,mt.tU,mt.j4,mt.JD,$l.V6,$l.fw,Gl.f,ld.hZ,ud.Y,Hi.D9],encapsulation:2})}}return h})();function db(h,b){if(1&h){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(r),e.XpG();const C=e.sdS(3);return e.Njj(C.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&h&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Resources.AddResource")," "))}function Fv(h,b){1&h&&e.nrm(0,"app-simple-loader")}function hb(h,b){1&h&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"IdentityResources.NoIdentityResources")))}function Bv(h,b){1&h&&(e.j41(0,"span",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Vv(h,b){1&h&&(e.nrm(0,"span",28),e.j41(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.View")))}function fb(h,b){1&h&&(e.nrm(0,"span",29),e.j41(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Edit")))}function Cu(h,b){if(1&h){const r=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",22),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(5),e.k0s(),e.j41(6,"td",23),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(7),e.k0s(),e.j41(8,"td",24),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(9,Bv,3,3,"span",25),e.k0s(),e.j41(10,"td",24),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(11,"button",26),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(12,Vv,4,3)(13,fb,4,3),e.k0s()()()}if(2&h){const r=b.$implicit,f=e.XpG(2);e.AVh("inactive",!r.enabled||(null==r?null:r.nonEditable)),e.R7$(2),e.AVh("tw-text-blue-500",!r.nonEditable),e.R7$(),e.JRh(r.displayName),e.R7$(2),e.SpI(" ",r.name," "),e.R7$(2),e.SpI(" ",r.description," "),e.R7$(2),e.Y8G("ngIf",r.nonEditable),e.R7$(3),e.vxM(f.resourceIsReadOnly(r)?12:13)}}function Jh(h,b){if(1&h&&(e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",14),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",15),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",16)(13,"span",17),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",16)(17,"span",17),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",18),e.DNE(21,Cu,14,9,"tr",19),e.k0s()()),2&h){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.ID")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.resources)}}function Gm(h,b){if(1&h&&e.nrm(0,"app-pager",30),2&h){const r=e.XpG();e.Y8G("totalResults",null==r.resources?null:r.resources.length)}}let rp=(()=>{class h extends Lm.u{constructor(r,f,C,x,le,xe,tt,Ct,Lt){super(Ct,f,!0,Lt,tt,xe),this.identityResourceService=r,this.translate=f,this.errorService=C,this.localize=x,this.titleService=le,this.term="",this.resources=[],this.isLoading=!0,this.mapSearchTerm=this.mapSearchTerm.bind(this)}mapSearchTerm(r){return this.term=r,{searchTerm:this.term}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.IdentityResources")+` - ${tr.$9.SITE_TITLE}`),this.searchSource.pipe((0,gf.Z)({searchTerm:this.term}),(0,Vm.Z)(f=>this.identityResourceService.getIdentityResources(f.searchTerm))).subscribe({next:f=>{this.sortResources(f),this.isLoading=!1},error:f=>{this.errorService.handleError(f),this.isLoading=!1}})}sortResources(r){r.sort((f,C)=>Number(C.nonEditable)-Number(f.nonEditable)),this.resources=r}refreshList(){this.ngOnInit()}resourceIsReadOnly(r){return!this.hasEditPermission||r.nonEditable}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(Wc.A),e.rXU(Hi.c$),e.rXU(pc.I),e.rXU(se.QG),e.rXU(ba.hE),e.rXU(at.Ix),e.rXU(It.i),e.rXU(Ge.tw),e.rXU(at.nX))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,features:[e.Vt3],decls:12,vars:12,consts:[["addIdentityResourcesModal",""],[3,"title"],[3,"onSubmit"],["id","identityResourceList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["hidePager","true",3,"totalResults"]],template:function(f,C){if(1&f){const x=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-identityresource",2,0),e.bIt("onSubmit",function(){return e.eBV(x),e.Njj(C.refreshList())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.mxI("searchTermChange",function(xe){return e.eBV(x),e.DH7(C.searchTerm,xe)||(C.searchTerm=xe),e.Njj(xe)}),e.bIt("onSearch",function(xe){return e.eBV(x),e.Njj(C.search(xe))}),e.k0s(),e.DNE(7,db,5,3,"app-action-bar",5)(8,Fv,1,0,"app-simple-loader",5)(9,hb,4,3,"div",6)(10,Jh,22,16,"table",7)(11,Gm,1,1,"app-pager",8),e.k0s()}2&f&&(e.Y8G("title",e.bMT(1,8,"Nav.IdentityResources")),e.R7$(5),e.R50("searchTerm",C.searchTerm),e.Y8G("placeholder",e.bMT(6,10,"Resources.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!C.isLoading&&C.hasEditPermission),e.R7$(),e.Y8G("ngIf",C.isLoading),e.R7$(),e.Y8G("ngIf",(!C.resources||C.resources.length<=0)&&!C.isLoading),e.R7$(),e.Y8G("ngIf",C.resources&&C.resources.length>0&&!C.isLoading),e.R7$(),e.Y8G("ngIf",C.resources&&C.resources.length>0&&!C.isLoading))},dependencies:[A.Sq,A.bT,Yc.z,cd.B,Um.n,jm.S,yo.d,Pv,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var Xc=l(5586);const Qh=(h,b)=>({title:h,link:b}),A1=h=>[h],D1=()=>["active"];let ap=(()=>{class h{constructor(r,f,C,x,le,xe,tt,Ct){this.fb=r,this.route=f,this.router=C,this.titleService=x,this.identityResourceService=le,this.translate=xe,this.claimTypesService=tt,this.scopesClaimService=Ct}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tr.$9.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.scopesClaimService.setClaimTypes(r)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(r){this.router.navigate([r],{relativeTo:this.route})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(mt.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(ba.hE),e.rXU(Wc.A),e.rXU(Hi.c$),e.rXU(zc.X),e.rXU(Xc.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:37,vars:43,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editIdentityResource",1,"tw-container","mx-auto"]],template:function(f,C){1&f&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(le){return C.mobRoute(le.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.k0s()()()(),e.j41(21,"ul",9),e.nI1(22,"translate"),e.j41(23,"li",10)(24,"button",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"li",10)(28,"button",12),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"li",10)(32,"button",13),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.bVm(),e.k0s(),e.j41(35,"div",14),e.nrm(36,"router-outlet"),e.k0s()),2&f&&(e.Y8G("title",null==C.identityResource?null:C.identityResource.name)("crumbs",e.eq3(38,A1,e.l_i(35,Qh,e.bMT(1,15,"IdentityResources.Title"),e.bMT(2,17,"/identityresources"))))("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,19,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,21,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,23,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,25,"Nav.Claims")),e.R7$(3),e.JRh("Nav.Properties | translate"),e.R7$(),e.BMQ("aria-label",e.bMT(22,27,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(40,D1)),e.R7$(),e.JRh(e.bMT(26,29,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(41,D1)),e.R7$(),e.JRh(e.bMT(30,31,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(42,D1)),e.R7$(),e.JRh(e.bMT(34,33,"Nav.Properties")))},dependencies:[at.n3,Ce.Wk,Ce.wQ,mt.xH,mt.y7,Yc.z,Hi.D9,se.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var Hm=l(8412);const N1=["ClaimPicker"],ah=["tabs"],Km=["addProtectedModal"],pb=()=>({animated:!1,backdrop:"static"});function mb(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function Lv(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"ProtectedResources.AssignClaims")))}function Uv(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const r=e.XpG();e.Y8G("disabled",r.protectedResourceForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function gb(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}let _b=(()=>{class h{constructor(r,f,C,x,le,xe,tt){this.claimTypesService=r,this.errorService=f,this.protectedResourceService=C,this.translate=x,this.fb=le,this.toastr=xe,this.titleService=tt,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.resourceSecrets=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.bkB}keydown(r){"Enter"===r.key&&this.protectedResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.availableClaims=r,this.allAvailableClaims=r},error:r=>{this.errorService.handleError(r)}}),this.protectedResourceForm=this.fb.group({name:["",[mt.k0.required,mt.k0.pattern(/^\S*$/)]],displayName:["",mt.k0.required],description:["",mt.k0.maxLength(1e3)]})}ngAfterViewInit(){this.handleClaims()}handleClaims(){this.claimPicker.assignedStream.subscribe(r=>{this.availableClaims=(0,mr.Yt)(this.availableClaims.slice(),r);const f=this.assignedClaims.slice();this.assignedClaims=f.concat(r)}),this.claimPicker.unAssignedStream.subscribe(r=>{const f=this.availableClaims;this.assignedClaims=(0,mr.Yt)(this.assignedClaims.slice(),r),this.availableClaims=f.concat(r)})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const r=(0,Xh.kH)(this.assignedClaims,function(C){return C.name}),f=Object.assign(this.protectedResourceForm.value,{allowedClaims:r},{resourceSecrets:this.resourceSecrets});this.protectedResourceService.addResource(f).subscribe(C=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.onSubmit.emit(),this.resetWizard(),this.hide()},C=>{this.errorService.handleError(C)})}resetWizard(){this.protectedResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.resourceSecrets=[],this.availableClaims=this.allAvailableClaims}hide(){this.addProtectedModal.hide()}show(){this.addProtectedModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(zc.X),e.rXU(pc.I),e.rXU(cl.x),e.rXU(Hi.c$),e.rXU(mt.ze),e.rXU(Ge.tw),e.rXU(ba.hE))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-add-protectedresource"]],viewQuery:function(f,C){if(1&f&&(e.GBs(N1,7),e.GBs(ah,7),e.GBs(Km,7)),2&f){let x;e.mGM(x=e.lsd())&&(C.claimPicker=x.first),e.mGM(x=e.lsd())&&(C.tabComponent=x.first),e.mGM(x=e.lsd())&&(C.addProtectedModal=x.first)}},hostBindings:function(f,C){1&f&&e.bIt("keydown",function(le){return C.keydown(le)},!1,e.EBC)},outputs:{onSubmit:"onSubmit"},standalone:!1,decls:45,vars:34,consts:[["addProtectedModal","bs-modal"],["progressBar",""],["tabs",""],["ClaimPicker",""],["bsModal","","id","addProtectedModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",9),e.bIt("click",function(){return e.eBV(x),e.Njj(C.hide())}),e.nrm(9,"span",10),e.j41(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",12),e.nrm(14,"div",13,1),e.k0s(),e.j41(16,"div",14)(17,"div",15),e.DNE(18,mb,3,3,"p",16)(19,Lv,3,3,"p",16),e.k0s(),e.j41(20,"tabset",17,2)(22,"tab")(23,"form",18)(24,"app-form-row",19),e.nrm(25,"input",20),e.k0s(),e.j41(26,"app-form-row",19),e.nrm(27,"input",21),e.k0s(),e.j41(28,"app-form-row",19)(29,"textarea",22),e.bIt("focus",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)})("blur",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)}),e.k0s()()()(),e.j41(30,"tab"),e.nrm(31,"app-common-picker",23,3),e.k0s()()(),e.nrm(33,"div",24),e.j41(34,"div",25)(35,"div",26)(36,"div",27),e.DNE(37,Uv,3,4,"button",28)(38,gb,3,3,"button",29),e.j41(39,"button",30),e.bIt("click",function(){return e.eBV(x),e.Njj(C.previousTab())}),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"button",31),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.EFF(43),e.nI1(44,"translate"),e.k0s()()()()()()}2&f&&(e.Y8G("config",e.lJ4(33,pb)),e.R7$(6),e.JRh(e.bMT(7,25,"ProtectedResources.Create")),e.R7$(5),e.JRh(e.bMT(12,27,"Common.Close")),e.R7$(3),e.xc7("width",C.progressPercent+"%"),e.R7$(4),e.Y8G("ngIf",C.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",C.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",C.protectedResourceForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(3),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",C.tabIndex<C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",C.tabIndex==C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==C.tabIndex),e.R7$(),e.JRh(e.bMT(41,29,"Common.Back")),e.R7$(3),e.JRh(e.bMT(44,31,"Common.Cancel")))},dependencies:[A.bT,mt.qT,mt.me,mt.BC,mt.cb,mt.tU,mt.j4,mt.JD,$l.V6,$l.fw,Gl.f,ld.hZ,ud.Y,Hi.D9],encapsulation:2})}}return h})();function vb(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",13)(1,"label",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",15),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG(2);return e.DH7(x.pageSize,C)||(x.pageSize=C),e.Njj(C)}),e.bIt("change",function(){e.eBV(r);const C=e.XpG(2);return e.Njj(C.setPageLength(+C.pageSize))}),e.j41(5,"option",16),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",17),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&h){const r=e.XpG(2);e.R7$(2),e.Lme("",r.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",r.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function Zh(h,b){if(1&h){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.DNE(2,vb,14,14,"div",10),e.bVm(),e.qex(3,11),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(r),e.XpG();const C=e.sdS(3);return e.Njj(C.show())}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&h){const r=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==r.pagedResult?null:r.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Resources.AddResource")," ")}}function yb(h,b){1&h&&e.nrm(0,"app-simple-loader")}function jv(h,b){1&h&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"ProtectedResources.NoneFound")))}function $v(h,b){1&h&&(e.j41(0,"span",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function op(h,b){1&h&&(e.nrm(0,"span",36),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.View")))}function M1(h,b){1&h&&(e.nrm(0,"span",37),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Edit")))}function O1(h,b){if(1&h){const r=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",30),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(5),e.k0s(),e.j41(6,"td",31),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(7),e.k0s(),e.j41(8,"td",32),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(9,$v,3,3,"span",33),e.k0s(),e.j41(10,"td",32),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(11,"button",34),e.bIt("click",function(){const C=e.eBV(r).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(12,op,4,3)(13,M1,4,3),e.k0s()()()}if(2&h){const r=b.$implicit,f=e.XpG(2);e.AVh("inactive",!r.enabled||(null==r?null:r.nonEditable)),e.R7$(2),e.AVh("tw-text-blue-500",!r.nonEditable),e.R7$(),e.JRh(r.displayName),e.R7$(2),e.SpI(" ",r.name," "),e.R7$(2),e.SpI(" ",r.description," "),e.R7$(2),e.Y8G("ngIf",r.nonEditable),e.R7$(3),e.vxM(f.resourceIsReadOnly(r)?12:13)}}function x1(h,b){if(1&h&&(e.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",24)(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",24)(17,"span",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",26),e.DNE(21,O1,14,9,"tr",27),e.k0s()()),2&h){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.ID")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.pagedResult.results)}}function oh(h,b){if(1&h){const r=e.RV6();e.j41(0,"app-pager",38),e.bIt("onGoToPage",function(C){e.eBV(r);const x=e.XpG();return e.Njj(x.goToPage(C))}),e.k0s()}if(2&h){const r=e.XpG();e.Y8G("totalResults",null==r.pagedResult?null:r.pagedResult.totalCount)("currentPage",r.page)("lastPage",null==r.pagedResult?null:r.pagedResult.pageCount)}}let k1=(()=>{class h extends Lm.u{constructor(r,f,C,x,le,xe,tt,Ct,Lt){super(tt,le,!0,Lt,Ct,xe),this.protectedResourcesService=r,this.errorService=f,this.localize=C,this.titleService=x,this.translate=le,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new fo.B,this.pageSizeStream=new fo.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(r){return this.term=r,this.page=1,{searchTerm:r,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ProtectedResources")+` - ${tr.$9.SITE_TITLE}`);const r=this.pageStream.pipe((0,Ga.T)(x=>(this.page=x,{searchTerm:this.term,page:x,pageSize:this.pageSize}))),f=this.pageSizeStream.pipe((0,Ga.T)(x=>(this.pageSize=x,{searchTerm:this.term,page:this.page,pageSize:x})));r.pipe((0,Hm.X)(f),(0,Hm.X)(this.searchSource),(0,Hm.X)(this.enterKeySource),(0,gf.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Vm.Z)(x=>(this.isLoading=!0,this.protectedResourcesService.getResourcesPaginated(x.searchTerm,x.page,x.pageSize).pipe((0,Ch.c)(200))))).subscribe({next:x=>{this.pagedResult=x,this.isLoading=!1},error:x=>{this.errorService.handleError(x),this.isLoading=!1}})}goToPage(r){this.pageStream.next(r)}setPageLength(r){this.page=1,this.pageSizeStream.next(r)}refreshList(){this.ngOnInit()}resourceIsReadOnly(r){return!this.hasEditPermission||r.nonEditable}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(cl.x),e.rXU(pc.I),e.rXU(se.QG),e.rXU(ba.hE),e.rXU(Hi.c$),e.rXU(at.Ix),e.rXU(Ge.tw),e.rXU(It.i),e.rXU(at.nX))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,features:[e.Vt3],decls:12,vars:12,consts:[["listProtectedResourcesModal",""],[3,"title"],[3,"onSubmit"],["id","protectedResourcesList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(f,C){if(1&f){const x=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-protectedresource",2,0),e.bIt("onSubmit",function(){return e.eBV(x),e.Njj(C.refreshList())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.mxI("searchTermChange",function(xe){return e.eBV(x),e.DH7(C.searchTerm,xe)||(C.searchTerm=xe),e.Njj(xe)}),e.bIt("onSearch",function(xe){return e.eBV(x),e.Njj(C.search(xe))}),e.k0s(),e.DNE(7,Zh,7,4,"app-action-bar",5)(8,yb,1,0,"app-simple-loader",5)(9,jv,4,3,"div",6)(10,x1,22,16,"table",7)(11,oh,1,3,"app-pager",8),e.k0s()}2&f&&(e.Y8G("title",e.bMT(1,8,"ProtectedResources.TitlePlural")),e.R7$(5),e.R50("searchTerm",C.searchTerm),e.Y8G("placeholder",e.bMT(6,10,"Resources.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!C.isLoading&&C.hasEditPermission),e.R7$(),e.Y8G("ngIf",C.isLoading),e.R7$(),e.Y8G("ngIf",(!C.pagedResult||C.pagedResult.results.length<=0)&&!C.isLoading),e.R7$(),e.Y8G("ngIf",C.pagedResult&&C.pagedResult.results.length>0&&!C.isLoading),e.R7$(),e.Y8G("ngIf",(null==C.pagedResult?null:C.pagedResult.results.length)>0&&!C.isLoading))},dependencies:[A.Sq,A.bT,mt.xH,mt.y7,mt.wz,mt.BC,mt.vS,Yc.z,cd.B,Um.n,jm.S,yo.d,_b,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();const Wm=(h,b)=>({title:h,link:b}),lp=h=>[h],qh=()=>["active"];function Gv(h,b){1&h&&(e.j41(0,"div",19),e.nrm(1,"router-outlet"),e.k0s())}function P1(){return Object.assign(new jl.P0,{closeOthers:!0})}let bb=(()=>{class h{constructor(r,f,C,x,le,xe,tt,Ct){this.fb=r,this.route=f,this.router=C,this.titleService=x,this.protectedResourceService=le,this.claimTypesService=xe,this.translate=tt,this.scopesClaimService=Ct}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r;const f=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+tr.$9.SITE_TITLE;this.titleService.setTitle(f)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.scopesClaimService.setClaimTypes(r)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(r){this.router.navigate([r],{relativeTo:this.route})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(mt.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(ba.hE),e.rXU(cl.x),e.rXU(zc.X),e.rXU(Hi.c$),e.rXU(Xc.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-edit-protectedresource"]],standalone:!1,features:[e.Jv_([{provide:jl.P0,useFactory:P1}])],decls:51,vars:62,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],["id","editProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(f,C){1&f&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(le){return C.mobRoute(le.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"option",9),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"option",10),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.j41(28,"ul",11),e.nI1(29,"translate"),e.j41(30,"li",12)(31,"button",13),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"li",12)(35,"button",14),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.j41(38,"li",12)(39,"button",15),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"li",12)(43,"button",16),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"li",12)(47,"button",17),e.EFF(48),e.nI1(49,"translate"),e.k0s()()(),e.bVm(),e.k0s(),e.DNE(50,Gv,2,0,"div",18)),2&f&&(e.Y8G("title",null==C.protectedResource?null:C.protectedResource.name)("crumbs",e.eq3(55,lp,e.l_i(52,Wm,e.bMT(1,22,"ProtectedResources.Title"),e.bMT(2,24,"/protectedresources"))))("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,26,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,28,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,30,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,32,"Nav.Scopes")),e.R7$(3),e.JRh(e.bMT(21,34,"Nav.Claims")),e.R7$(3),e.JRh(e.bMT(24,36,"Nav.Secrets")),e.R7$(3),e.JRh(e.bMT(27,38,"Nav.Properties")),e.R7$(2),e.BMQ("aria-label",e.bMT(29,40,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(57,qh)),e.R7$(),e.JRh(e.bMT(33,42,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(58,qh)),e.R7$(),e.JRh(e.bMT(37,44,"Nav.Scopes")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(59,qh)),e.R7$(),e.JRh(e.bMT(41,46,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(60,qh)),e.R7$(),e.JRh(e.bMT(45,48,"Nav.Secrets")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(61,qh)),e.R7$(),e.JRh(e.bMT(49,50,"Nav.Properties")),e.R7$(2),e.Y8G("ngIf",C.protectedResource))},dependencies:[A.bT,at.n3,Ce.Wk,Ce.wQ,mt.xH,mt.y7,Yc.z,Hi.D9,se.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var F1=l(467),Hv=l(9350);function ef(h,b){const r="object"==typeof b;return new Promise((f,C)=>{let le,x=!1;h.subscribe({next:xe=>{le=xe,x=!0},error:C,complete:()=>{x?f(le):r?f(b.defaultValue):C(new Hv.G)}})})}var dd=l(6303),Ym=l(6411),cp=l(7499),Kv=l(6728),tf=l(6406),lh=l(9550),zm=l(8762),B1=l(7778),Xm=l(4692);const Jm=h=>[h];let U=(()=>{class h extends Ym.A{get ReadOnlyFieldType(){return dd.t}constructor(r,f,C,x,le,xe,tt,Ct,Lt){super(Lt),this.fb=r,this.route=f,this.router=C,this.titleService=x,this.identityResourceService=le,this.toastr=xe,this.translate=tt,this.localize=Ct}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.buildForm(),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tr.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}get unsavedChanges(){return!this.identityResourceForm.pristine}onDeactivate(){}buildForm(){this.identityResourceForm=this.fb.group({id:[this.identityResource.id],name:[this.identityResource.name,mt.k0.required],displayName:[this.identityResource.displayName,mt.k0.required],description:[this.identityResource.description,[mt.k0.required,mt.k0.maxLength(1e3)]],showInDiscoveryDocument:[this.identityResource.showInDiscoveryDocument],emphasize:[this.identityResource.emphasize],required:[this.identityResource.required],enabled:[this.identityResource.enabled]})}submit(){var r=this;return(0,F1.A)(function*(){const f=Object.assign(r.identityResourceForm.value,{allowedClaims:r.identityResource.allowedClaims});try{yield ef(r.identityResourceService.deleteIdentityResource(r.identityResource.id)),r.identityResourceForm.markAsPristine(),r.identityResource=f,r.identityResourceService.getCachedIdentityResource().next(f),r.toastr.success(r.translate.instant("IdentityResources.UpdatedResource"),r.translate.instant("Notifications.Success"))}catch{r.toastr.error(r.translate.instant("Resources.UpdateResource"),r.translate.instant("Notifications.Failed"))}})()}delete(){var r=this;return(0,F1.A)(function*(){try{yield ef(r.identityResourceService.deleteIdentityResource(r.identityResource.id)),r.toastr.success(r.translate.instant("Resources.RemovedResource"),r.translate.instant("Notifications.Success"));const C=r.localize.translateRoute("/identityresources");r.router.navigate([C])}catch{r.toastr.error(r.translate.instant("Resources.RemovedResource"),r.translate.instant("Notifications.Failed"))}})()}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(mt.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(ba.hE),e.rXU(Wc.A),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(se.QG),e.rXU(cp.o))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-identityresource-details"]],standalone:!1,features:[e.Vt3],decls:31,vars:41,consts:[["deleteIdentityResource",""],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["id","displayNameInput","name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","Required","formControlName","required","type","checkbox",1,"tw-form-switch__input"],["id","showInDiscoveryDocument","formControlName","showInDiscoveryDocument","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","emphasize","formControlName","emphasize","type","checkbox",1,"tw-form-switch__input"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"form",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-readonly",6),e.nI1(6,"readOnlyValue"),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"input",7),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"textarea",8),e.k0s(),e.j41(11,"app-form-row",5)(12,"app-form-toggle",9),e.nrm(13,"input",10),e.k0s()(),e.j41(14,"app-form-row",5)(15,"app-form-toggle",9),e.nrm(16,"input",11),e.k0s()(),e.j41(17,"app-form-row",12)(18,"app-form-toggle",9),e.nrm(19,"input",13),e.k0s()()(),e.j41(20,"app-button-bar")(21,"button",14),e.bIt("click",function(){return e.eBV(x),e.Njj(C.submit())}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.qex(24,15),e.j41(25,"button",16),e.bIt("click",function(){e.eBV(x);const xe=e.sdS(29);return e.Njj(xe.show())}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(28,"app-delete-confirmation-modal",17,0),e.bIt("delete",function(){return e.eBV(x),e.Njj(C.delete())}),e.k0s(),e.nrm(30,"app-can-deactivate")}2&f&&(e.Y8G("formGroup",C.identityResourceForm),e.R7$(),e.Y8G("id","Status")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Status")("isTraffic",!0),e.R7$(2),e.Y8G("id","ResourceID")("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.R7$(),e.Y8G("fieldType",C.ReadOnlyFieldType.Single)("values",e.eq3(39,Jm,e.bMT(6,33,C.identityResource.id))),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(2),e.Y8G("id","Required")("label","Common.Required")("help","IdentityResources.ConsentResource"),e.R7$(),e.Y8G("id","Required"),e.R7$(2),e.Y8G("id","showInDiscoveryDocument")("label","IdentityResources.ShowInDiscoveryDocument")("help","IdentityResources.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("id","showInDiscoveryDocument"),e.R7$(2),e.Y8G("id","emphasize")("label","Common.Emphasize")("help","IdentityResources.ConsentScreen")("isLast",!0),e.R7$(),e.Y8G("id","emphasize"),e.R7$(3),e.Y8G("disabled",C.identityResourceForm.pristine),e.R7$(),e.SpI(" ",e.bMT(23,35,"Common.Save")," "),e.R7$(4),e.SpI(" ",e.bMT(27,37,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("resourceName",null==C.identityResource?null:C.identityResource.displayName))},dependencies:[mt.qT,mt.me,mt.Zm,mt.BC,mt.cb,mt.YS,mt.j4,mt.JD,Kv.E,tf.z,ud.Y,lh.m,zm.O,B1.w,Hi.D9,Xm.u],encapsulation:2})}}return h})();var G=l(140);class d{}const T=["ClaimsPicker"];let j=(()=>{class h{constructor(r,f,C,x,le){this.titleService=r,this.identityResourceService=f,this.scopeClaimService=C,this.toastr=x,this.translate=le,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().pipe((0,G.v)(this.scopeClaimService.cachedClaimTypes$),(0,Ga.T)(([r,f])=>({resource:r,claimTypes:f})),(0,qi.$)()).subscribe({next:r=>{this.identityResource=r.resource,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tr.$9.SITE_TITLE}`),this.originalClaims=r.claimTypes.slice(),this.identityResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(r.claimTypes):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(r.claimTypes)}})}convertOriginalClaimTypesToPickerClaimTypes(r){let f=[];return r.map(C=>{const x=new d;x.name=C.displayName?C.displayName:C.name,f.push(x)}),f}convertPickerClaimsToClaim(r){let f=[];return r.map(C=>{f.push(this.originalClaims.find(x=>x.displayName===C.name||x.name===C.name))}),f}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.toSendClaims=this.assignedClaims.concat(r),this.submit().then(f=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,mr.Yt)(this.availableClaims.slice(),r)})}),this.claimsPicker.unAssignedStream.subscribe(r=>{this.toSendClaims=(0,mr.Yt)(this.assignedClaims,r),this.submit().then(f=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(r)})})}submit(){const r=(0,Xh.kH)(this.convertPickerClaimsToClaim(this.toSendClaims),function(C){return C.name}),f=Object.assign(this.identityResource,{allowedClaims:r});return this.identityResourceService.updateResource(f).toPromise().then(C=>{this.identityResource=f,this.identityResourceService.getCachedIdentityResource().next(f),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(r){let f=[],C=r.filter(x=>(f.push(x),this.identityResource.allowedClaims.some(le=>le===x.name)));f=(0,mr.Yt)(f,C),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(f),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(C)}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(ba.hE),e.rXU(Wc.A),e.rXU(Xc.N),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-identity-resource-claims"]],viewQuery:function(f,C){if(1&f&&e.GBs(T,7),2&f){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first)}},standalone:!1,decls:6,vars:5,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput"]],template:function(f,C){1&f&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&f&&(e.R7$(2),e.JRh(e.bMT(3,3,"IdentityResources.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims))},dependencies:[Gl.f,Hi.D9],encapsulation:2})}}return h})();var _e=l(7830);const Oe=h=>[h];let ze=(()=>{class h extends Ym.A{get ReadOnlyFieldType(){return dd.t}constructor(r,f,C,x,le,xe,tt){super(tt),this.protectedResourceService=r,this.fb=f,this.toastr=C,this.translate=x,this.router=le,this.localize=xe}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.buildForm()})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}get unsavedChanges(){return!this.protectedResourceForm.pristine}onDeactivate(){}buildForm(){const r={id:[this.protectedResource.id],name:[this.protectedResource.name,mt.k0.required],displayName:[this.protectedResource.displayName,mt.k0.required],description:[this.protectedResource.description,[mt.k0.maxLength(1e3)]],enabled:[this.protectedResource.enabled],allowedAccessTokenSigningAlgorithms:[this.protectedResource.allowedAccessTokenSigningAlgorithms]};r.requireResourceIndicator=[this.protectedResource.requireResourceIndicator],this.protectedResourceForm=this.fb.group(r)}submit(){const r={...this.protectedResourceForm.value,allowedClaims:this.protectedResource.allowedClaims,secrets:this.protectedResource.secrets,scopes:this.protectedResource.scopes,properties:this.protectedResource.properties};this.protectedResourceService.updateResource(r).subscribe({next:f=>{this.protectedResourceForm.markAsPristine(),this.protectedResource=r,this.protectedResourceService.getCachedProtectedResource().next(r),this.toastr.success(this.translate.instant("Resources.UpdatedSuccess"),this.translate.instant("Notifications.Success"))},error:f=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}delete(){var r=this;return(0,F1.A)(function*(){try{yield ef(r.protectedResourceService.deleteProtectedResource(r.protectedResource.id));const C=r.localize.translateRoute("/protectedresources");r.router.navigate([C]),r.toastr.success(r.translate.instant("Resources.RemovedResource"),r.translate.instant("Notifications.Success"))}catch{r.toastr.error("Removed Resource","Failed!")}})()}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(cl.x),e.rXU(mt.ze),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(at.Ix),e.rXU(se.QG),e.rXU(cp.o))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-details"]],standalone:!1,features:[e.Vt3],decls:27,vars:37,consts:[["deleteProtectedResource",""],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","requireResourceIndicatorInput","type","checkbox","name","requireResourceIndicator","formControlName","requireResourceIndicator",1,"tw-form-switch__input"],[3,"id","label","isLast"],[3,"form","algorithmControlName"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"form",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-readonly",6),e.nI1(6,"readOnlyValue"),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"input",7),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"textarea",8),e.k0s(),e.j41(11,"app-form-row",5)(12,"app-form-toggle",9),e.nrm(13,"input",10),e.k0s()(),e.j41(14,"app-form-row",11),e.nrm(15,"app-signing-algorithm-picker",12),e.k0s()(),e.j41(16,"app-button-bar")(17,"button",13),e.bIt("click",function(){return e.eBV(x),e.Njj(C.submit())}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.qex(20,14),e.j41(21,"button",15),e.bIt("click",function(){e.eBV(x);const xe=e.sdS(25);return e.Njj(xe.show())}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(24,"app-delete-confirmation-modal",16,0),e.bIt("delete",function(){return e.eBV(x),e.Njj(C.delete())}),e.k0s(),e.nrm(26,"app-can-deactivate")}2&f&&(e.Y8G("formGroup",C.protectedResourceForm),e.R7$(),e.Y8G("id","Status")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Status")("isTraffic",!0),e.R7$(2),e.Y8G("id","ResourceID")("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.R7$(),e.Y8G("fieldType",C.ReadOnlyFieldType.Single)("values",e.eq3(35,Oe,e.bMT(6,29,C.protectedResource.id))),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","Resources.ResourceName"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.ResourceDescription"),e.R7$(2),e.Y8G("id","requireResourceIndicatorInput")("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.R7$(),e.Y8G("id","requireResourceIndicatorInput"),e.R7$(2),e.Y8G("id","allowedAccessTokenSigningAlgorithms")("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.R7$(),e.Y8G("form",C.protectedResourceForm)("algorithmControlName","allowedAccessTokenSigningAlgorithms"),e.R7$(2),e.Y8G("disabled",!(C.protectedResourceForm.dirty&&C.protectedResourceForm.valid)),e.R7$(),e.SpI(" ",e.bMT(19,31,"Common.Save")," "),e.R7$(4),e.SpI(" ",e.bMT(23,33,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("resourceName",null==C.protectedResource?null:C.protectedResource.displayName))},dependencies:[mt.qT,mt.me,mt.Zm,mt.BC,mt.cb,mt.j4,mt.JD,Kv.E,tf.z,ud.Y,lh.m,_e.Q,zm.O,B1.w,Hi.D9,Xm.u],encapsulation:2})}}return h})();var nt=l(8359),bt=l(632),$t=l(6520);const Zt=["ClaimPicker"],Rn=["tabs"];let dn=(()=>{class h{set scope(r){this._scope=r||new bt.H}get scope(){return this._scope}constructor(r,f,C,x,le){this.fb=r,this.claimsService=f,this.translate=C,this.dialogService=x,this.scopesClaimService=le,this._scope=new bt.H,this.isEdit=!0,this.submit=new e.bkB,this.delete=new e.bkB,this.availableClaims=[],this.assignedClaims=[],this.properties=[]}ngOnInit(){this.buildForm(),this.scopesClaimService.cachedClaimTypes$.subscribe(r=>{const f=r.slice();this.scope.userClaims.length>0?this.sortClaims(f):this.availableClaims=f}),this.properties=this.scope.properties}buildForm(){this.scopeForm=this.fb.group({id:[this.scope.id],name:[this.scope.name,mt.k0.required],displayName:[this.scope.displayName,mt.k0.required],description:[this.scope.description,[mt.k0.required,mt.k0.maxLength(1e3)]],showInDiscoveryDocument:[this.scope.showInDiscoveryDocument],emphasize:[this.scope.emphasize],required:[this.scope.required],enabled:[this.scope.enabled]})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.assignClaims(r)}),this.claimsPicker.unAssignedStream.subscribe(r=>{this.unassignClaims(r)})}unassignClaims(r){const f=r.map(xe=>xe.name),C=this.assignedClaims.map(xe=>xe.name),x=(0,Xh.R9)(C,f),le=Object.assign(this.scopeForm.value,{userClaims:x});this.submit.emit(le)}assignClaims(r){const f=[...this.assignedClaims,...r].map(x=>x.name),C={...this.scopeForm.value,userClaims:f};this.submit.emit(C)}submitForm(){const r=this.assignedClaims.map(C=>C.name),f=Object.assign(this.scopeForm.value,{userClaims:r},{properties:this.properties});this.submit.emit(f)}deleteScope(){this.delete.emit(this.scope)}sortClaims(r){const f=[];this.scope.userClaims.forEach(C=>{r.forEach((x,le)=>{x.name===C&&(r.splice(le,1),f.push(x))})}),this.availableClaims=r,this.assignedClaims=f}onPropertiesChanged(r){this.properties=r}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(mt.ze),e.rXU(zc.X),e.rXU(Hi.c$),e.rXU(cp.o),e.rXU(Xc.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-api-scope"]],viewQuery:function(f,C){if(1&f&&(e.GBs(Zt,7),e.GBs(Rn,7)),2&f){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first),e.mGM(x=e.lsd())&&(C.tabsComponent=x.first)}},inputs:{scope:"scope",isEdit:"isEdit"},outputs:{submit:"submit",delete:"delete"},standalone:!1,decls:37,vars:55,consts:[["tabs",""],["ClaimPicker",""],[3,"heading"],[1,"tw-pt-5",3,"formGroup"],[3,"id","label","help"],["type","text","readonly","",1,"tw-form-control",3,"id","value"],["name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control",3,"id"],["name","descriptionInput","type","text","formControlName","description","required","",1,"tw-form-control",3,"id"],[3,"id"],["type","checkbox","formControlName","required",1,"tw-form-switch__input",3,"id"],["type","checkbox","formControlName","showInDiscoveryDocument",1,"tw-form-switch__input",3,"id"],[3,"id","label","help","isLast"],["type","checkbox","formControlName","emphasize",1,"tw-form-switch__input",3,"id"],[1,"tw-flex","tw-items-center","tw-border-t","tw-border-grey-300","tw-mt-20","tw-pt-5"],[1,"tw-btn-success",3,"click"],["data-toggle","modal","id","deleteBtn",1,"tw-btn-danger","tw-ml-auto",3,"click"],[1,"cms","tw-pt-5"],[3,"assignedInput","availableInput","availableSearch"],["id","propertiesEditor",3,"propertiesChanged","modalId","properties"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"tabset",null,0)(2,"tab",2),e.nI1(3,"translate"),e.j41(4,"div")(5,"form",3)(6,"app-form-row",4),e.nrm(7,"input",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"input",6),e.k0s(),e.j41(10,"app-form-row",4),e.nrm(11,"textarea",7),e.k0s(),e.j41(12,"app-form-row",4)(13,"app-form-toggle",8),e.nrm(14,"input",9),e.k0s()(),e.j41(15,"app-form-row",4)(16,"app-form-toggle",8),e.nrm(17,"input",10),e.k0s()(),e.j41(18,"app-form-row",11)(19,"app-form-toggle",8),e.nrm(20,"input",12),e.k0s()()(),e.j41(21,"div",13)(22,"button",14),e.bIt("click",function(){return e.eBV(x),e.Njj(C.submitForm())}),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"button",15),e.bIt("click",function(){return e.eBV(x),e.Njj(C.deleteScope())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.j41(28,"tab",2)(29,"div",16)(30,"p"),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.nrm(33,"app-common-picker",17,1),e.k0s(),e.j41(35,"tab",2)(36,"app-properties-editor",18),e.bIt("propertiesChanged",function(xe){return e.eBV(x),e.Njj(C.onPropertiesChanged(xe))}),e.k0s()()()}2&f&&(e.R7$(2),e.Y8G("heading",e.bMT(3,47,"Nav.Details")),e.R7$(3),e.Y8G("formGroup",C.scopeForm),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Id")("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Id"),e.Y8G("value",C.scope.name),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Name")("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Name"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Description")("label","Common.Description")("help","Resources.Scope.Description"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Description"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Required")("label","Common.Required")("help","Resources.Scope.Consent"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Required"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Required"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Discovery")("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Discovery"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Discovery"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Emphasise")("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Emphasise"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Emphasise"),e.R7$(3),e.JRh(e.bMT(24,49,"Common.Save")),e.R7$(3),e.JRh(e.bMT(27,51,"Common.Remove.Title")),e.R7$(2),e.Y8G("heading","Claims"),e.R7$(3),e.JRh(e.bMT(32,53,"Resources.Scope.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(2),e.Y8G("heading","Properties"),e.R7$(),e.Y8G("modalId",C.scope.id)("properties",C.scope.properties))},dependencies:[Gl.f,mt.qT,mt.me,mt.Zm,mt.BC,mt.cb,mt.YS,mt.j4,mt.JD,$l.V6,$l.fw,ud.Y,lh.m,$t.C,Hi.D9],encapsulation:2,changeDetection:0})}}return h})();const di=["ClaimPicker"],ki=["tabs"];function wi(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function ui(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.AssignClaims")))}function gs(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const r=e.XpG();e.Y8G("disabled",r.scopeForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function fi(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.addScope())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}let Pi=(()=>{class h{constructor(r,f,C,x,le,xe,tt){this.fb=r,this.claimsService=f,this.protectedResourceService=C,this.toastr=x,this.translate=le,this.scopesClaimService=xe,this.errorService=tt,this.submitConfirmed=new e.bkB,this.cancelOut=new e.bkB,this.scope=new bt.H,this.allAvaliableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1}keydown(r){"Enter"===r.key&&this.scopeForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.scopeForm=this.fb.group({name:[this.scope.name,[mt.k0.required,mt.k0.pattern(/^\S*$/)]],displayName:[this.scope.displayName,mt.k0.required],description:[this.scope.description,[mt.k0.required,mt.k0.maxLength(1e3)]],showInDiscoveryDocument:[!0],emphasize:[!1],required:[!1]}),this.claimsSubscription=this.scopesClaimService.cachedClaimTypes$.subscribe(r=>{const f=r.slice();this.scope.userClaims.length>0?this.sortClaims(f):(this.availableClaims=f,this.allAvaliableClaims=f)})}ngOnDestroy(){this.claimsSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.availableClaims=(0,mr.Yt)(this.availableClaims.slice(),r);const f=this.assignedClaims.slice();this.assignedClaims=f.concat(r)}),this.claimsPicker.unAssignedStream.subscribe(r=>{const f=this.availableClaims;this.assignedClaims=(0,mr.Yt)(this.assignedClaims.slice(),r),this.availableClaims=f.concat(r)})}sortClaims(r){const f=[];this.scope.userClaims.forEach(C=>{r.forEach((x,le)=>{x.name===C&&(r.splice(le,1),f.push(x))})}),this.availableClaims=r,this.assignedClaims=f}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.cancelOut.emit(!0)}addScope(){const r=(0,Xh.kH)(this.assignedClaims,C=>C.name),f=Object.assign(this.scopeForm.value,{userClaims:r});this.protectedResourceService.addResourceScope(this.resource.id,f).subscribe(C=>{this.submitConfirmed.emit(),this.resetWizard(),this.toastr.success(this.translate.instant("Resources.Scope.ScopeAdded"),this.translate.instant("Notifications.Success"))},C=>{this.errorService.handleError(C)})}resetWizard(){this.scopeForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvaliableClaims,this.scopeForm.controls.showInDiscoveryDocument.setValue(!0),this.scopeForm.controls.emphasize.setValue(!1),this.scopeForm.controls.required.setValue(!1)}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(mt.ze),e.rXU(zc.X),e.rXU(cl.x),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(Xc.N),e.rXU(pc.I))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-add-protectedresource-scope"]],viewQuery:function(f,C){if(1&f&&(e.GBs(di,7),e.GBs(ki,7)),2&f){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first),e.mGM(x=e.lsd())&&(C.tabComponent=x.first)}},hostBindings:function(f,C){1&f&&e.bIt("keydown",function(le){return C.keydown(le)},!1,e.EBC)},inputs:{resource:"resource"},outputs:{submitConfirmed:"submitConfirmed",cancelOut:"cancelOut"},standalone:!1,decls:43,vars:34,consts:[["progressBar",""],["tabs",""],["ClaimPicker",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["data-dismiss","modal","class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["data-dismiss","modal","id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h5",6),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"button",7),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.nrm(7,"span",8),e.j41(8,"span",9),e.EFF(9),e.nI1(10,"translate"),e.k0s()()(),e.j41(11,"div",10),e.nrm(12,"div",11,0),e.k0s(),e.j41(14,"div",12)(15,"div",13),e.DNE(16,wi,3,3,"p",14)(17,ui,3,3,"p",14),e.k0s(),e.j41(18,"tabset",15,1)(20,"tab")(21,"form",16)(22,"app-form-row",17),e.nrm(23,"input",18),e.k0s(),e.j41(24,"app-form-row",17),e.nrm(25,"input",19),e.k0s(),e.j41(26,"app-form-row",20)(27,"textarea",21),e.bIt("focus",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)})("blur",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)}),e.k0s()()()(),e.j41(28,"tab"),e.nrm(29,"app-common-picker",22,2),e.k0s()()(),e.nrm(31,"div",23),e.j41(32,"div",24)(33,"div",25)(34,"div",26),e.DNE(35,gs,3,4,"button",27)(36,fi,3,3,"button",28),e.j41(37,"button",29),e.bIt("click",function(){return e.eBV(x),e.Njj(C.previousTab())}),e.EFF(38),e.nI1(39,"translate"),e.k0s()(),e.j41(40,"button",30),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.EFF(41),e.nI1(42,"translate"),e.k0s()()()()()}2&f&&(e.R7$(4),e.Lme("",e.bMT(5,26,"Resources.Scope.NewScope")," ",C.resource.name,""),e.R7$(5),e.JRh(e.bMT(10,28,"Common.Close")),e.R7$(3),e.xc7("width",C.progressPercent+"%"),e.R7$(4),e.Y8G("ngIf",C.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",C.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",C.scopeForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.Scope.Description")("isLast",!0),e.R7$(3),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",C.tabIndex<C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",C.tabIndex==C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==C.tabIndex),e.R7$(),e.JRh(e.bMT(39,30,"Common.Back")),e.R7$(3),e.JRh(e.bMT(42,32,"Common.Cancel")))},dependencies:[A.bT,mt.qT,mt.me,mt.BC,mt.cb,mt.tU,mt.j4,mt.JD,$l.V6,$l.fw,Gl.f,ud.Y,Hi.D9],encapsulation:2})}}return h})();const Oi=["createScope"],is=["addScope"],Rs=["deleteScopeModal"],Ss=["scopePicker"],Ms=()=>({animated:!1,backdrop:"static"});function sa(h,b){if(1&h){const r=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.addSharedScopeShow())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"ProtectedResources.AddSharedScope")))}function bo(h,b){if(1&h&&e.nrm(0,"app-common-picker",37,3),2&h){const r=e.XpG();e.Y8G("assignedInput",r.pickerScopes.assignedScopes)("availableInput",r.pickerScopes.availableScopes)("availableSearch",!0)}}function ur(h,b){1&h&&(e.j41(0,"div",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.DisplayName")," "))}function va(h,b){if(1&h){const r=e.RV6();e.j41(0,"accordion-group",null,4)(2,"button",39)(3,"b",40),e.EFF(4),e.k0s(),e.j41(5,"div",41),e.nrm(6,"span",42),e.k0s()(),e.j41(7,"div")(8,"app-api-scope",43),e.bIt("delete",function(C){e.eBV(r);const x=e.XpG();return e.Njj(x.deleteScopeConfirm(C))})("submit",function(C){e.eBV(r);const x=e.XpG();return e.Njj(x.submitScopeClaims(C))}),e.k0s()()()}if(2&h){const r=b.$implicit;e.R7$(4),e.JRh(r.displayName),e.R7$(4),e.Y8G("scope",r)}}function Su(h,b){if(1&h&&e.nrm(0,"app-pager",44),2&h){const r=e.XpG();e.Y8G("totalResults",null==r.protectedResource.scopes?null:r.protectedResource.scopes.length)}}function Bo(h,b){1&h&&(e.nrm(0,"p",45),e.nI1(1,"translate")),2&h&&e.Y8G("innerHTML",e.bMT(1,1,"Common.Delete.FinalScopeOnResourceWarning"),e.npT)}class nf{constructor(b,r){this.availableScopes=[],this.assignedScopes=[],this.availableScopes=b,this.assignedScopes=r}}let Eu=(()=>{class h{set content(r){this.pickerScopes&&(this.sharedScopePicker=r,this.pageSubscriptions.add(this.sharedScopePicker.assignedStream.subscribe(f=>{this.pickerScopes.assignedScopes.push(...f),f.forEach(C=>{let x=this.pickerScopes.availableScopes.findIndex(le=>le.name==C.name);this.pickerScopes.availableScopes.splice(x,1)})})),this.pageSubscriptions.add(this.sharedScopePicker.unAssignedStream.subscribe(f=>{this.pickerScopes.availableScopes.push(...f),f.forEach(C=>{let x=this.pickerScopes.assignedScopes.findIndex(le=>le.name==C.name);this.pickerScopes.assignedScopes.splice(x,1)})})))}constructor(r,f,C,x,le){this.protectedResourceService=r,this.fb=f,this.toastr=C,this.translate=x,this.configService=le,this.pageSubscriptions=new nt.yU}ngOnInit(){this.configService.getConfig().pipe((0,qi.$)()).subscribe(r=>{this.sharedScopesEnabled=r.featureFlagOptions.enableSharedScopes}),this.pageSubscriptions.add(this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.refreshScopes(r)}))}ngOnDestroy(){this.pageSubscriptions?.unsubscribe()}refreshResource(){this.createScopeModal.isShown&&this.createScopeModal.hide(),this.existingScopeModal.isShown&&this.existingScopeModal.hide(),this.protectedResourceService.getResource(this.protectedResource.id).subscribe(r=>{this.protectedResource=r,this.protectedResourceService.getCachedProtectedResource().next(r),this.refreshScopes(r)})}refreshScopes(r){this.protectedResourceService.getAllScopes().subscribe(f=>{const C=r.scopes;this.pickerScopes=new nf(f.filter(x=>-1===C.findIndex(le=>le.name==x.name)),[])})}submitScopeClaims(r){this.protectedResourceService.updateResourceScope(this.protectedResource.id,r,r.name).subscribe(f=>{this.refreshResource(),this.toastr.success(this.translate.instant("Resources.Scope.Updated"),this.translate.instant("Notifications.Saving Success Title"))},f=>{this.toastr.error(this.translate.instant("Resources.Scope.Failed"),this.translate.instant("Common.Error"))})}deleteScopeConfirm(r){this.scopeToDelete=r,this.deleteScopeConfirmModal.show()}deleteScope(r){return this.protectedResourceService.deleteScope(this.protectedResource.id,r).toPromise().then(f=>{this.refreshResource(),this.deleteScopeConfirmModal.hide(),this.toastr.success(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Success"))},f=>{this.toastr.error(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Failed"))})}commitScopeChanges(){return this.protectedResource.scopes.push(...this.pickerScopes.assignedScopes),this.protectedResourceService.updateResource(this.protectedResource).subscribe({next:()=>{this.refreshResource(),this.existingScopeModal.hide(),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))},error:()=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}createScopeShow(){this.createScopeModal.show()}addSharedScopeShow(){this.existingScopeModal.show()}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(cl.x),e.rXU(mt.ze),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-scopes"]],viewQuery:function(f,C){if(1&f&&(e.GBs(Oi,7),e.GBs(is,7),e.GBs(Rs,7),e.GBs(Ss,5)),2&f){let x;e.mGM(x=e.lsd())&&(C.createScopeModal=x.first),e.mGM(x=e.lsd())&&(C.existingScopeModal=x.first),e.mGM(x=e.lsd())&&(C.deleteScopeConfirmModal=x.first),e.mGM(x=e.lsd())&&(C.content=x.first)}},standalone:!1,features:[e.Jv_([{provide:jl.P0,useFactory:P1}])],decls:75,vars:51,consts:[["createScope","bs-modal"],["addScope","bs-modal"],["deleteScopeModal","bs-modal"],["scopePicker",""],["group",""],["right",""],[1,"tw-btn-success",3,"click"],["id","assignSharedScopesBtn","class","tw-btn ml-2",3,"click",4,"ngIf"],["bsModal","","id","createScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"cancelOut","submitConfirmed","resource"],["bsModal","","id","addScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"assignedInput","availableInput","availableSearch",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex"],[1,"tw-mr-auto"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","deleteScope","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],[1,"tw-flex","tw-item-center"],[1,"tw-btn-danger",3,"click"],["id","assignSharedScopesBtn",1,"tw-btn","ml-2",3,"click"],[3,"assignedInput","availableInput","availableSearch"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","tw-transition-all","tw-ease-in-out"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"delete","submit","scope"],["hidePager","true",3,"totalResults"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(f,C){if(1&f){const x=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,5),e.j41(2,"button",6),e.bIt("click",function(){return e.eBV(x),e.Njj(C.createScopeShow())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,sa,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"div",8,0)(8,"app-add-protectedresource-scope",9),e.bIt("cancelOut",function(){return e.eBV(x),e.Njj(C.createScopeModal.hide())})("submitConfirmed",function(){return e.eBV(x),e.Njj(C.refreshResource())}),e.k0s()(),e.j41(9,"div",10,1)(11,"div",11)(12,"div",12)(13,"div",13)(14,"h5",14),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",15),e.bIt("click",function(){e.eBV(x);const xe=e.sdS(10);return e.Njj(xe.hide())}),e.nrm(18,"span",16),e.j41(19,"span",17),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"div",18),e.DNE(23,bo,2,3,"app-common-picker",19),e.k0s(),e.nrm(24,"div",20),e.j41(25,"div",21)(26,"div",22)(27,"div",23)(28,"button",6),e.bIt("click",function(){return e.eBV(x),e.Njj(C.commitScopeChanges())}),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"button",24),e.bIt("click",function(){e.eBV(x);const xe=e.sdS(10);return e.Njj(xe.hide())}),e.EFF(32),e.nI1(33,"translate"),e.k0s()()()()()(),e.j41(34,"div",25),e.DNE(35,ur,3,3,"div",26),e.j41(36,"accordion"),e.DNE(37,va,9,2,"accordion-group",27),e.k0s(),e.DNE(38,Su,1,1,"app-pager",28),e.k0s(),e.j41(39,"div",29,2)(41,"div",30)(42,"div",12)(43,"div",13)(44,"h5",14),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"button",15),e.bIt("click",function(){e.eBV(x);const xe=e.sdS(40);return e.Njj(xe.hide())}),e.nrm(48,"span",16),e.j41(49,"span",17),e.EFF(50),e.nI1(51,"translate"),e.k0s()()(),e.j41(52,"div",31)(53,"p",32),e.EFF(54),e.nI1(55,"translate"),e.j41(56,"strong"),e.EFF(57),e.k0s(),e.EFF(58),e.nI1(59,"translate"),e.j41(60,"strong"),e.EFF(61),e.k0s(),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.DNE(64,Bo,2,3,"p",33),e.k0s(),e.nrm(65,"div",20),e.j41(66,"div",21)(67,"div",34)(68,"div",23)(69,"button",35),e.bIt("click",function(){return e.eBV(x),e.Njj(C.deleteScope(C.scopeToDelete.name))}),e.EFF(70),e.nI1(71,"translate"),e.k0s()(),e.j41(72,"button",24),e.bIt("click",function(){e.eBV(x);const xe=e.sdS(40);return e.Njj(xe.hide())}),e.EFF(73),e.nI1(74,"translate"),e.k0s()()()()()()}2&f&&(e.R7$(3),e.JRh(e.bMT(4,24,"ProtectedResources.AddScope")),e.R7$(2),e.Y8G("ngIf",C.sharedScopesEnabled),e.R7$(),e.Y8G("config",e.lJ4(48,Ms)),e.R7$(2),e.Y8G("resource",C.protectedResource),e.R7$(),e.Y8G("config",e.lJ4(49,Ms)),e.R7$(6),e.SpI(" ",e.bMT(16,26,"ProtectedResources.AddSharedScope")," "),e.R7$(5),e.JRh(e.bMT(21,28,"Common.Close")),e.R7$(3),e.Y8G("ngIf",C.pickerScopes),e.R7$(6),e.JRh(e.bMT(30,30,"Common.Save")),e.R7$(3),e.JRh(e.bMT(33,32,"Common.Cancel")),e.R7$(3),e.Y8G("ngIf",C.protectedResource.scopes.length>0),e.R7$(2),e.Y8G("ngForOf",C.protectedResource.scopes),e.R7$(),e.Y8G("ngIf",(null==C.protectedResource.scopes?null:C.protectedResource.scopes.length)>0),e.R7$(),e.Y8G("config",e.lJ4(50,Ms)),e.R7$(6),e.SpI(" ",e.bMT(46,34,"Common.Delete.Confirm")," "),e.R7$(5),e.JRh(e.bMT(51,36,"Common.Close")),e.R7$(4),e.SpI("",e.bMT(55,38,"Common.Delete.AreYouSureSimple2")," "),e.R7$(3),e.JRh(null==C.scopeToDelete?null:C.scopeToDelete.displayName),e.R7$(),e.SpI(" ",e.bMT(59,40,"Resources.Scope.ScopeFor")," "),e.R7$(3),e.JRh(C.protectedResource.displayName),e.R7$(),e.SpI(" ",e.bMT(63,42,"ProtectedResources.ProtectedResource"),""),e.R7$(2),e.Y8G("ngIf",null==C.scopeToDelete?null:C.scopeToDelete.isFinalInstanceOnResource),e.R7$(6),e.JRh(e.bMT(71,44,"Common.Delete.Title")),e.R7$(3),e.JRh(e.bMT(74,46,"Common.Delete.No")))},dependencies:[A.Sq,A.bT,Gl.f,jl.Mj,jl.kt,ld.hZ,dn,cd.B,Um.n,Pi,Hi.D9],encapsulation:2})}}return h})();const yl=["ClaimsPicker"];let za=(()=>{class h{constructor(r,f,C,x){this.protectedResourceService=r,this.scopeClaimService=f,this.toastr=C,this.translate=x,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().pipe((0,G.v)(this.scopeClaimService.cachedClaimTypes$),(0,Ga.T)(([r,f])=>({resource:r,claimTypes:f})),(0,qi.$)()).subscribe({next:r=>{this.protectedResource=r.resource,this.originalClaims=r.claimTypes.slice();const f=r.claimTypes.slice();this.protectedResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(f):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(f)}})}convertOriginalClaimTypesToPickerClaimTypes(r){let f=[];return r.map(C=>{let x=new d;x.name=C.displayName?C.displayName:C.name,f.push(x)}),f}convertPickerClaimsToClaim(r){let f=[];return r.map(C=>{f.push(this.originalClaims.find(x=>x.displayName===C.name||x.name===C.name))}),f}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.toSendClaims=this.assignedClaims.concat(r),this.submit().then(f=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,mr.Yt)(this.availableClaims.slice(),r)})}),this.claimsPicker.unAssignedStream.subscribe(r=>{this.toSendClaims=(0,mr.Yt)(this.assignedClaims,r),this.submit().then(f=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(r)})})}submit(){const r=(0,Xh.kH)(this.convertPickerClaimsToClaim(this.toSendClaims),function(C){return C.name}),f=Object.assign(this.protectedResource,{allowedClaims:r});return this.protectedResourceService.updateResource(f).toPromise().then(C=>{this.protectedResource=f,this.protectedResourceService.getCachedProtectedResource().next(f),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(r){let f=[],C=r.filter(x=>(f.push(x),this.protectedResource.allowedClaims.some(le=>le===x.name)));f=(0,mr.Yt)(f,C),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(f),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(C)}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(cl.x),e.rXU(Xc.N),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-claims"]],viewQuery:function(f,C){if(1&f&&e.GBs(yl,7),2&f){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first)}},standalone:!1,decls:6,vars:6,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput","availableSearch"]],template:function(f,C){1&f&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&f&&(e.R7$(2),e.JRh(e.bMT(3,4,"ProtectedResources.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0))},dependencies:[Gl.f,Hi.D9],encapsulation:2})}}return h})();var ra=l(9764);const _s=["SecretPicker"];let Us=(()=>{class h{constructor(r){this.protectedResourceService=r,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.secretPicker.secretsAddStream.subscribe(r=>{r.id?this.editSecret(r):this.submitSecret(r)}),this.secretPicker.secretsRemoveStream.subscribe(r=>{this.removeSecret(r)})}submitSecret(r){this.protectedResourceService.addResourceSecret(this.protectedResource.id,r).subscribe(f=>{this.refreshResource()})}editSecret(r){this.protectedResourceService.updateResourceSecret(this.protectedResource.id,r).subscribe(f=>{this.refreshResource()})}removeSecret(r){this.protectedResourceService.removeResourceSecret(this.protectedResource.id,r.id).subscribe(f=>{this.refreshResource()})}refreshResource(){this.protectedResourceService.getResource(this.protectedResource.id).subscribe(r=>{this.protectedResource=r,this.resourceSecrets=this.protectedResource.secrets,this.protectedResourceService.getCachedProtectedResource().next(r)})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(cl.x))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-secrets"]],viewQuery:function(f,C){if(1&f&&e.GBs(_s,7),2&f){let x;e.mGM(x=e.lsd())&&(C.secretPicker=x.first)}},standalone:!1,decls:2,vars:2,consts:[["SecretPicker",""],[3,"clientSecrets","nonModelCertPicker"]],template:function(f,C){1&f&&e.nrm(0,"app-secret-picker",1,0),2&f&&e.Y8G("clientSecrets",C.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[ra.s],encapsulation:2})}}return h})(),ds=(()=>{class h{constructor(r,f,C,x){this.titleService=r,this.identityResourceService=f,this.toastr=C,this.translate=x,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tr.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(r){this.properties=r;const f=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(f).pipe((0,Br.s)(1)).subscribe(C=>{this.identityResource=f,this.identityResourceService.getCachedIdentityResource().next(f),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(ba.hE),e.rXU(Wc.A),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-identity-resource-properties"]],standalone:!1,decls:1,vars:2,consts:[[3,"propertiesChanged","modalId","properties"]],template:function(f,C){1&f&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(le){return C.onPropertiesChanged(le)}),e.k0s()),2&f&&e.Y8G("modalId",C.identityResource.id)("properties",C.properties)},dependencies:[$t.C],encapsulation:2})}}return h})(),Zs=(()=>{class h{constructor(r,f,C,x){this.titleService=r,this.protectedResourceService=f,this.toastr=C,this.translate=x,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tr.$9.SITE_TITLE}`),this.modalId=this.protectedResource.id})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}onPropertiesChanged(r){this.properties=r;const f=Object.assign(this.protectedResource,{properties:this.properties});this.protectedResourceService.updateResource(f).pipe((0,Br.s)(1)).subscribe(C=>{this.protectedResource=f,this.protectedResourceService.getCachedProtectedResource().next(f),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(ba.hE),e.rXU(cl.x),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protected-resource-properties"]],standalone:!1,decls:1,vars:2,consts:[[3,"propertiesChanged","modalId","properties"]],template:function(f,C){1&f&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(le){return C.onPropertiesChanged(le)}),e.k0s()),2&f&&e.Y8G("modalId",C.modalId)("properties",C.properties)},dependencies:[$t.C],encapsulation:2})}}return h})();const Tr=(h,b)=>({title:h,link:b}),Ia=h=>[h],bl=()=>["active"];function aa(h,b){1&h&&(e.j41(0,"span",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let ar=(()=>{class h{constructor(r,f,C,x,le,xe,tt,Ct){this.fb=r,this.route=f,this.router=C,this.titleService=x,this.identityResourceService=le,this.translate=xe,this.claimTypesService=tt,this.scopesClaimService=Ct}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tr.$9.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.scopesClaimService.setClaimTypes(r)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(r){this.router.navigate([r],{relativeTo:this.route})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(mt.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(ba.hE),e.rXU(Wc.A),e.rXU(Hi.c$),e.rXU(zc.X),e.rXU(Xc.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:39,vars:46,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewIdentityResource",1,"tw-container","mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(f,C){1&f&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(le){return C.mobRoute(le.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.k0s()()()(),e.j41(21,"ul",9),e.nI1(22,"translate"),e.j41(23,"li",10)(24,"button",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"li",10)(28,"button",12),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"li",10)(32,"button",13),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.bVm(),e.qex(35,14),e.DNE(36,aa,3,3,"span",15),e.bVm(),e.k0s(),e.j41(37,"div",16),e.nrm(38,"router-outlet"),e.k0s()),2&f&&(e.Y8G("title",null==C.identityResource?null:C.identityResource.name)("crumbs",e.eq3(41,Ia,e.l_i(38,Tr,e.bMT(1,18,"IdentityResources.Title"),e.bMT(2,20,"/identityresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",C.identityResource.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,24,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,26,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,28,"Nav.Claims")),e.R7$(3),e.JRh("Nav.Properties | translate"),e.R7$(),e.BMQ("aria-label",e.bMT(22,30,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(43,bl)),e.R7$(),e.JRh(e.bMT(26,32,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(44,bl)),e.R7$(),e.JRh(e.bMT(30,34,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(45,bl)),e.R7$(),e.JRh(e.bMT(34,36,"Nav.Properties")),e.R7$(3),e.Y8G("ngIf",!C.identityResource.enabled))},dependencies:[A.bT,at.n3,Ce.Wk,Ce.wQ,Yc.z,Hi.D9,se.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var vs=l(5615),Jc=l(7553);class Tu extends se.xq{constructor(b,r,f,C,x="assets/locales.json"){super(b,r,f),this.http=C,this.path=x}load(b){return new Promise(r=>{this.http.get(`${this.path}`).subscribe(f=>{this.locales=f.locales,this.prefix=f.prefix||"",this.escapePrefix=f.escapePrefix||"",this.init(b).then(r)})})}}var Hl=l(6923),$s=l(4446),Wv=l(6648),wu=l(9865),V1=l(6888);class Yv{constructor(){this.rss=new Qm,this.rss.channel=new vS,this.rss.channel.item=new Array}}class Qm{}class vS{}class yS{}var MT=l(1108);const bS=(h,b)=>({"tw-bg-white":h,"tw-bg-grey-100":b});function ch(h,b){1&h&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function Zm(h,b){if(1&h&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&h){const r=b.$implicit,f=e.XpG(2);e.R7$(),e.Y8G("href",f.domSanitizer.bypassSecurityTrustUrl(r.link),e.B4B),e.R7$(2),e.JRh(r.title),e.R7$(2),e.JRh(r.pubDate),e.R7$(2),e.JRh(r.description)}}function zv(h,b){if(1&h&&(e.j41(0,"ul"),e.DNE(1,Zm,8,4,"li",7),e.k0s()),2&h){const r=e.XpG();e.R7$(),e.Y8G("ngForOf",null==r.dto?null:r.dto.rss.channel.item)}}let sf=(()=>{class h{constructor(r,f,C){this.http=r,this.domSanitizer=f,this.translate=C,this.rssURL=`https://www.${wu.e.AdminUIProviderDomain}.com/rss`,this.versionNumber="",this.altTheme=!1,this.errorEntry=new yS}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new Jt.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(r=>{this.dto=(new MT).xml2js(r),Object.setPrototypeOf(this.dto,Yv.prototype),this.dto.rss.channel.item.forEach(f=>{f.pubDate=this.formatDate(f.pubDate)}),this.isLoading=!1},r=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Yv,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(r){return r?us.c9.fromHTTP(r).toFormat("DD"):""}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(Jt.Qq),e.rXU(ba.up),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},standalone:!1,decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(f,C){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,ch,2,0,"div",4)(8,zv,2,1,"ul",5),e.k0s()()),2&f&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,bS,!C.altTheme,C.altTheme)),e.R7$(),e.Y8G("ngIf",C.isLoading),e.R7$(),e.Y8G("ngIf",!C.isLoading))},dependencies:[A.YU,A.Sq,A.bT,yo.d,Hi.D9],encapsulation:2})}}return h})();function Xv(h,b){1&h&&e.nrm(0,"span",27)}let up=(()=>{class h{get LinkConstants(){return wu.e}constructor(r,f,C,x,le,xe,tt){this.authService=r,this.securityService=f,this.titleService=C,this.healthCheckService=x,this.localizeRouter=le,this.router=xe,this.loginTrackingService=tt,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${tr.$9.SITE_TITLE}`),this.versionNumber=Ys;const Ct=new Date;this.appCopyright=2017!==Ct.getFullYear()?"2017 - "+Ct.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const r=this.healthCheckService.idsHealthCheckComplete.pipe((0,qi.$)()),f=this.healthCheckService.uiHealthCheckComplete.pipe((0,qi.$)());(0,Yr.p)([r,f]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const r=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,Wv.H)(this.router.navigate([r]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(we.u),e.rXU(It.i),e.rXU(ba.hE),e.rXU(pe.M),e.rXU(se.QG),e.rXU(at.Ix),e.rXU(V1.W))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-landing-page"]],standalone:!1,decls:49,vars:30,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(f,C){1&f&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return C.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Xv,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&f&&(e.R7$(6),e.SpI("v",C.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,16,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,18,"ServerDependent.LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,20,"LandingPage.IntroParagraph2")," "),e.R7$(2),e.Y8G("href",C.LinkConstants.SalesLink,e.B4B),e.R7$(),e.SpI(" sales@",C.LinkConstants.AdminUIProviderDomain,".com "),e.R7$(2),e.Y8G("disabled",!C.loginAllowed||C.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,22,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",C.startLogin),e.R7$(3),e.FS9("href",C.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,24,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",C.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,26,"Common.Documentation")," "),e.R7$(5),e.FS9("href",C.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,28,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",C.appCopyright,""))},dependencies:[A.bT,sf,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})(),Cb=(()=>{class h{constructor(r,f,C){this.authService=r,this.securityService=f,this.appComponentViewService=C}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(r=>{this.authService.user=r.username,this.authService.isAuthenticated=r.isAuthenticated,r.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(r)})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(we.u),e.rXU(It.i),e.rXU(Il.X))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-auth"]],standalone:!1,decls:0,vars:0,template:function(f,C){},encapsulation:2})}}return h})(),Jv=(()=>{class h{constructor(r){this.translate=r}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(f,C){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&f&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[Hi.D9],encapsulation:2})}}return h})(),CS=(()=>{class h{constructor(r){this.translate=r}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(f,C){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&f&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[Hi.D9],encapsulation:2})}}return h})(),SS=(()=>{class h{constructor(r,f){this.route=r,this.translate=f}ngOnInit(){const r=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=r in Fm.v?r:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(at.nX),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(f,C){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&f&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[Hi.D9],encapsulation:2})}}return h})();function ES(h,b){1&h&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function TS(h,b){1&h&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let wS=(()=>{class h{constructor(r){this.isEnforcerCompilationError=!1,this.getNavigationState(r)}getNavigationState(r){const f=r.getCurrentNavigation();if(null!=f&&null!=f.extras.state){const C=f.extras.state;C.enforcer&&(this.isEnforcerCompilationError=C.enforcer)}}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(at.Ix))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(f,C){if(1&f&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,ES,3,3,"p",5)(8,TS,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&f){const x=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",C.isEnforcerCompilationError)("ngIfElse",x)}},dependencies:[A.bT,Hi.D9],encapsulation:2})}}return h})();var Sb=l(4589);const Eb=(h,b)=>({title:h,link:b,icon:"fad fa-file fa-swap-opacity"}),Tb=(h,b)=>({title:h,link:b,icon:"fad fa-file-code fa-swap-opacity"}),wb=(h,b)=>({title:h,link:b,icon:"fad fa-envelope fa-swap-opacity"}),Ib=(h,b)=>({"tw-pill":h,"tw-pill-info":b});function IS(h,b){if(1&h&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&h){const r=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",r.securityService.organisation," ")}}function RS(h,b){if(1&h&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,IS,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&h){const r=e.XpG();e.R7$(5),e.Y8G("ngIf",r.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Ib,r.isNonProd(),!r.isNonProd())),e.R7$(),e.SpI(" ",r.securityService.licenseType," ")}}function AS(h,b){1&h&&e.eu8(0)}function DS(h,b){1&h&&e.eu8(0)}function NS(h,b){1&h&&e.eu8(0)}function OT(h,b){if(1&h&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&h){const r=b.title,f=b.link,C=b.icon;e.R7$(),e.Y8G("href",f,e.B4B),e.R7$(),e.ZvI("",C," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(r)}}let Rb=(()=>{class h{get LinkConstants(){return wu.e}constructor(r,f){this.titleService=r,this.securityService=f,this.titleService.setTitle(`Home - ${tr.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===Sb.G.Demo}isNonProd(){return this.securityService.licenseType!==Sb.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(ba.hE),e.rXU(It.i))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-index"]],standalone:!1,decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(f,C){if(1&f&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,RS,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,AS,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,DS,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,NS,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,OT,5,5,"ng-template",null,0,e.C5r)),2&f){const x=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!C.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(16,Eb,e.bMT(9,10,"Common.Documentation"),C.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(19,Tb,e.bMT(11,12,"LandingPage.APIDocs"),C.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(22,wb,e.bMT(13,14,"Nav.Support"),C.LinkConstants.SupportLink))}},dependencies:[A.YU,A.bT,A.T3,sf,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var Ab=l(316),Db=l(6536);const MS=["requiredClaimsForm"];function OS(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&h&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"ServerDependent.InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function xT(h,b){1&h&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function xS(h,b){1&h&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function kS(h,b){if(1&h){const r=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s()}if(2&h){const r=e.XpG(),f=r.$implicit;e.Mz_("id","claim-",r.index,""),e.R50("ngModel",f.value)}}function PS(h,b){if(1&h){const r=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s()}if(2&h){const r=e.XpG(),f=r.$implicit;e.Mz_("id","claim-",r.index,""),e.R50("ngModel",f.value)}}function qm(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&h){const r=e.XpG(),f=r.$implicit,C=r.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",f.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function FS(h,b){if(1&h){const r=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG(2).$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s(),e.bVm()}if(2&h){const r=e.XpG(2),f=r.$implicit,C=r.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",f.value)}}function BS(h,b){if(1&h){const r=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG(2).$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s(),e.bVm()}if(2&h){const r=e.XpG(2),f=r.$implicit,C=r.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",f.value),e.Y8G("displayType","date")}}function L1(h,b){if(1&h&&(e.j41(0,"div",56),e.DNE(1,FS,2,3,"ng-container",57)(2,BS,2,4,"ng-container",57),e.k0s()),2&h){const r=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=r.name),e.R7$(),e.Y8G("ngIf","birthdate"==r.name)}}function VS(h,b){if(1&h&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&h){const r=b.$implicit;e.Y8G("value",r),e.R7$(),e.JRh(r)}}function LS(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(C){e.eBV(r);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.DNE(2,VS,2,2,"option",61),e.k0s()()}if(2&h){const r=e.XpG(),f=r.$implicit,C=r.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",f.value),e.R7$(),e.Y8G("ngForOf",f.allowedValues)}}function Nb(h,b){if(1&h&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&h){const r=e.XpG().$implicit;e.R7$(),e.SpI(" ",r.failureMessage," ")}}function Mb(h,b){if(1&h&&(e.j41(0,"app-form-row",44),e.DNE(1,kS,1,3,"input",45)(2,PS,1,3,"input",46)(3,qm,8,9,"div",47)(4,L1,3,2,"div",48)(5,LS,3,4,"div",47)(6,Nb,2,1,"span",49),e.k0s()),2&h){const r=b.$implicit,f=b.index,C=e.XpG(3);e.Y8G("id","claim-"+f)("label",r.name)("help","DateTime"==r.format?"Common.Dates.UTCWarning":"")("isLast",f===C.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==r.format),e.R7$(),e.Y8G("ngIf","Int"==r.format),e.R7$(),e.Y8G("ngIf","Boolean"==r.format),e.R7$(),e.Y8G("ngIf","DateTime"==r.format),e.R7$(),e.Y8G("ngIf","Enum"==r.format),e.R7$(),e.Y8G("ngIf",null!=r.failureMessage)}}function Qv(h,b){if(1&h&&(e.j41(0,"div",42),e.DNE(1,Mb,7,10,"app-form-row",43),e.k0s()),2&h){const r=e.XpG(2);e.R7$(),e.Y8G("ngForOf",r.displayClaims)}}function Ob(h,b){1&h&&e.nrm(0,"span",64)}function US(h,b){if(1&h){const r=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,xT,2,0,"span",28)(27,xS,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,Qv,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(r);const C=e.XpG();return e.Njj(C.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,Ob,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&h){const r=e.sdS(29),f=e.XpG();e.R7$(2),e.JRh(e.bMT(3,28,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,30,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,32,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",f.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(),e.BMQ("Required",f.requireEmail),e.R7$(),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",f.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",f.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",f.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!f.addUserForm.valid||!r.form.valid||f.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,34,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",f.inFlight),e.R7$(3),e.FS9("href",f.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,36,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,38,"Common.Documentation")," "),e.R7$(5),e.Y8G("href",f.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(53,40,"Nav.Support")," ")}}let xb=(()=>{class h{constructor(r,f,C,x,le,xe,tt,Ct,Lt){this.authService=r,this.titleService=f,this.toastr=C,this.fb=x,this.userService=le,this.errorService=xe,this.claimTypesService=tt,this.configService=Ct,this.appComponentViewService=Lt,this.versionNumber="",this.createdAdmin=!1,this.requireEmail=!0,this.displayClaims=[],this.checkPasswords=jn=>jn.get("password").value===jn.get("confirmPassword").value?null:{notSame:!0},this.LinkConstants=wu.e,this.titleService.setTitle(`${tr.$9.SITE_TITLE}`),this.versionNumber=Ys;const Cn=new Date;this.appCopyright=2017!==Cn.getFullYear()?"2017 - "+Cn.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.configService.getConfig(!0).pipe((0,qi.$)()).subscribe(r=>{this.requireEmail=r.requireEmailInUsers,this.createForms()}),this.claimTypesService.getClaimTypes(null,null).subscribe(r=>{this.claimTypes=r;for(const C of this.claimTypes)C.required&&this.displayClaims.push({claimTypeId:C.id,format:C.valueType,name:C.name,value:null,failureMessage:C.ruleValidationFailureDescription,allowedValues:C.allowedValues})},r=>{this.errorService.handleError(r)})}addUser(){let r;r=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(r,{claims:[]});for(const f of this.displayClaims){if(null===f.value)continue;let C=f.value;"DateTime"===f.format&&(C=f.value),"Int"===f.format&&(C=C.toString()),r.claims.push({claimTypeId:f.claimTypeId,value:C,type:f.name})}this.inFlight=!0,this.userService.addInitialAdministrator(r).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},f=>{this.inFlight=!1,this.errorService.handleError(f)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[mt.k0.required,(0,mr.Zt)()]],email:["",this.requireEmail?Ab.D:[]],firstName:["",mt.k0.required],lastName:["",mt.k0.required],password:["",mt.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(we.u),e.rXU(ba.hE),e.rXU(Ge.tw),e.rXU(mt.ze),e.rXU(Je.D),e.rXU(pc.I),e.rXU(zc.X),e.rXU(Ri.w),e.rXU(Il.X))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-initial-admin-creation"]],viewQuery:function(f,C){if(1&f&&e.GBs(MS,5),2&f){let x;e.mGM(x=e.lsd())&&(C.requiredClaimsForm=x.first)}},standalone:!1,decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(f,C){1&f&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,OS,16,12,"div",8)(9,US,54,42,"div",9),e.k0s()()),2&f&&(e.R7$(6),e.SpI("v",C.versionNumber,""),e.R7$(2),e.Y8G("ngIf",C.createdAdmin),e.R7$(),e.Y8G("ngIf",!C.createdAdmin&&C.addUserForm))},dependencies:[A.Sq,A.bT,mt.qT,mt.xH,mt.y7,mt.me,mt.Q0,mt.wz,mt.BC,mt.cb,mt.YS,mt.vS,mt.cV,mt.j4,mt.JD,ud.Y,Db.Z,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var Zv=l(5517),qv=l(1796),kb=l(2771),Pb=l(2734),ey=l(9564);let jS=(()=>{class h extends Pb.x{constructor(r,f){super(),this.http=r,this.headersService=f,this.userSubject=new kb.m(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(r,f,C,x,le,xe,tt){const Ct=this.buildParams(r,C,f,x,le,xe,tt);return this.http.get(this.actionUrl,{headers:this.headers,params:Ct})}getResourceAudits(r,f,C,x,le,xe,tt,Ct,Lt){throw new Error("AuditingService doesn't support getResourceAudits method")}static{this.\u0275fac=function(f){return new(f||h)(e.KVO(Jt.Qq),e.KVO(ey.m))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var ty=l(9861);let ny=(()=>{class h{constructor(r,f){r.setTitle(f.instant("Nav.Auditing")+` - ${tr.$9.SITE_TITLE}`)}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(ba.hE),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-all-audits"]],standalone:!1,features:[e.Jv_([{provide:Pb.x,useClass:jS}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(f,C){1&f&&(e.nrm(0,"app-title-bar",0),e.nI1(1,"translate"),e.j41(2,"div",1),e.nrm(3,"app-audits-list"),e.k0s()),2&f&&e.Y8G("title",e.bMT(1,1,"Nav.Auditing"))},dependencies:[ty.k,Yc.z,Hi.D9],encapsulation:2})}}return h})();const Fb=[{path:"",component:up},{path:"initial-admin-creation",component:xb,canActivate:[ia.h],data:{permissions:[Mi.a[Mi.a.All]]}},{path:"home",component:Rb,canActivate:[ia.h,$s._]},{path:"users",loadChildren:()=>Promise.resolve().then(l.bind(l,6829)).then(h=>h.UsersModule),canActivate:[ia.h,$s._]},{path:"roles",loadChildren:()=>Promise.resolve().then(l.bind(l,76)).then(h=>h.RolesModule),canActivate:[ia.h,$s._]},{path:"claim-types",loadChildren:()=>Promise.resolve().then(l.bind(l,2334)).then(h=>h.ClaimTypesModule),canActivate:[ia.h,$s._]},{path:"auditing",component:ny,canActivate:[ia.h,qv.S,$s._,Hl.q],data:{permissions:[Mi.a[Mi.a.Auditer],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]]}},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(l.bind(l,9624)).then(h=>h.StarterModeModule),canActivate:[ia.h,Zv.H]},{path:"unauthorized",component:wS},{path:"forbidden",component:Jv},{path:"auth",component:Cb,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:SS,canActivate:[ia.h,$s._]},{path:"**",component:CS,canActivate:[ia.h,$s._]}];let iy=(()=>{class h{constructor(r,f,C){this.router=r,this.config=f,this.localizeRouter=C}canActivate(r,f){return this.config.getConfig().pipe((0,qi.$)(),(0,Ga.T)(C=>{if("accesspolicy"!=r.firstChild.routeConfig.path||!C.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const x=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([x])}}))}static{this.\u0275fac=function(f){return new(f||h)(e.KVO(at.Ix),e.KVO(Ri.w),e.KVO(se.QG))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const sy=[[["","extraOptions",""]],[["","extraTabs",""]]],$S=["[extraOptions]","[extraTabs]"],Bb=()=>["active"];function GS(h,b){1&h&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function HS(h,b){1&h&&(e.j41(0,"li",14)(1,"button",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&h&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,Bb)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}let Vb=(()=>{class h{constructor(r,f,C){this.titleService=r,this.translate=f,this.configService=C,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,qi.$)()).subscribe(r=>{this.hideAccessPolicy=r.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${tr.$9.SITE_TITLE}`)}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(ba.hE),e.rXU(Hi.c$),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-settings"]],standalone:!1,ngContentSelectors:$S,decls:26,vars:23,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["value","Access Policy"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"]],template:function(f,C){1&f&&(e.NAR(sy),e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,GS,3,3,"option",7),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.SdG(16),e.k0s()()(),e.j41(17,"ul",9),e.nI1(18,"translate"),e.DNE(19,HS,4,5,"li",10),e.j41(20,"li",11)(21,"button",12),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.SdG(24,1),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&f&&(e.Y8G("title",e.bMT(1,10,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,12,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,14,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!C.hideAccessPolicy),e.R7$(2),e.JRh(e.bMT(15,16,"Nav.Webhooks")),e.R7$(3),e.BMQ("aria-label",e.bMT(18,18,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!C.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(22,Bb)),e.R7$(),e.JRh(e.bMT(23,20,"Nav.Webhooks")))},dependencies:[at.n3,Ce.Wk,Ce.wQ,A.bT,mt.xH,mt.y7,Yc.z,Hi.D9],encapsulation:2})}}return h})();const ry=()=>["active"];let ay=(()=>{class h{constructor(r){this.configService=r}ngOnInit(){this.configService.getConfig().pipe((0,qi.$)()).subscribe(r=>{})}static{this.\u0275fac=function(f){return new(f||h)(e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-settings-duende"]],standalone:!1,decls:8,vars:8,consts:[["extraOptions","","value","Keys"],["extraTabs","","id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(f,C){1&f&&(e.j41(0,"app-settings")(1,"option",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li",1)(5,"button",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()),2&f&&(e.R7$(2),e.JRh(e.bMT(3,3,"Nav.Keys")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(7,ry)),e.R7$(),e.JRh(e.bMT(7,5,"Nav.Keys")))},dependencies:[mt.xH,mt.y7,Ce.Wk,Ce.wQ,Vb,Hi.D9],encapsulation:2})}}return h})();class Lb{constructor(b,r=[{prefix:"./resources/",suffix:".json"}]){this.http=b,this.resources=r}getTranslation(b){return(0,Yr.p)(this.resources.map(r=>this.http.get(`${r.prefix}${b}${r.suffix}`))).pipe((0,Ga.T)(r=>r.reduce((f,C)=>Object.assign(f,C))))}}const oy=[...Fb,{path:"identityresources",component:rp,canActivate:[ia.h,$s._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]],editPermissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"identityresources/:id",component:ap,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,canDeactivate:[tp.M]},{path:"claims",component:j},{path:"properties",component:ds}],resolve:{resource:ip},canActivate:[ia.h,$s._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"identityresources/view/:id",component:ar,loadChildren:()=>l.e(822).then(l.bind(l,7822)).then(h=>h.ViewIdentityResourcesModule),resolve:{resource:ip},canActivate:[ia.h,$s._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]]}},{path:"protectedresources",component:k1,canActivate:[ia.h,$s._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]],editPermissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"protectedresources/:id",component:bb,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ze,canDeactivate:[tp.M]},{path:"scopes",component:Eu},{path:"claims",component:za},{path:"secrets",component:Us},{path:"properties",component:Zs}],resolve:{resource:Bm},canActivate:[ia.h,$s._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"protectedresources/view/:id",component:vs.J,loadChildren:()=>l.e(708).then(l.bind(l,8708)).then(h=>h.ViewProtectedResourceModule),resolve:{resource:Bm},canActivate:[ia.h,$s._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]]}},{path:"clients",loadChildren:()=>Promise.resolve().then(l.bind(l,1082)).then(h=>h.ClientModule),canActivate:[ia.h,$s._]},{path:"dynamic-auth",loadChildren:()=>Promise.resolve().then(l.bind(l,5034)).then(h=>h.DynamicAuthModule),canActivate:[ia.h,$s._,Jc.F,Hl.q]},{path:"settings",component:ay,loadChildren:()=>Promise.resolve().then(l.bind(l,6357)).then(h=>h.SettingsDuendeModule),canActivate:[ia.h,$s._,iy],canDeactivate:[tp.M],data:{permissions:[Mi.a[Mi.a.All]]}}];function Ub(h,b,r,f){return new Tu(h,b,r,f,"resources/locales.json?cb="+Ys)}function KS(h){return new Lb(h,[{prefix:"./resources/",suffix:".json"},{prefix:"./resources-duende/",suffix:".json"}])}let jb=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[Ce.iI.forRoot(oy,{scrollPositionRestoration:"enabled"}),Ce.iI]})}}return h})();var U1=l(1683),j1=l(3519),$1=l(8455),ly=l(2571),$b=l(4179),G1=l(8521),cy=l(367),Gb=l(5731),WS=l(4193),kT=l(3665),Hb=l(7175),PT=l(1993),Kb=l(8389),FT=l(9945),BT=l(6843),VT=l(7677),Wb=l(4367);let Yb=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({providers:[ip,Bm,Xc.N],imports:[A.MD,Ce.iI,Hi.h,mt.YN,U1.Y,mt.X1,$l.jr,Kc.Ss,$b.z,ly.A,$1.p,jl.h6,ld.Q_,G1.P,se.XE,cy.m,Gb.i,WS.c,kT.t,Hb.c,PT.E,Kb.w,FT.f,BT.l,VT.N,Wb.N]})}}return h})();var zb=l(1082),YS=l(4811),zS=l(8580),XS=l(8939),JS=l(7773),QS=l(6807),ZS=l(967),qS=l(9686),eE=l(8251);let LT=(()=>{class h{intercept(r,f){if(r.url.startsWith("https://"))return f.handle(r);const C=(0,mr.$_)(),x=r.clone({url:`${C}${r.url}`});return f.handle(x)}static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var Xb=l(5022),uh=l(6599),dp=l(5060),tE=l(8810);let nE=(()=>{class h{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return h})(),Jb=(()=>{class h{constructor(r,f,C,x){this.router=r,this.localizeRouterService=f,this.appComponentViewService=C,this.securityService=x}intercept(r,f){return f.handle(r).pipe((0,np.W)(C=>{if(C.status===nE.ExpiredTokenRedirect)return this.securityService.startLogin(),dp.t;if(C.status===nE.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const x=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([x],{state:{enforcer:!0}}),dp.t}return(0,tE.$)(()=>C)}))}static{this.\u0275fac=function(f){return new(f||h)(e.KVO(at.Ix),e.KVO(se.QG),e.KVO(Il.X),e.KVO(It.i))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var Qb=l(3488),UT=l(5034),iE=l(7648),Zb=l(7767),qb=l(9624),H1=l(9962),uy=l(4814),sE=l(2334),eC=l(76),tC=l(6829);let rE=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[A.MD,Ce.iI,U1.Y,Hi.h,se.XE,_m]})}}return h})();var aE=l(9475);let rf=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[Hi.h,aE.F,Ce.iI,cy.m,uh.Y]})}}return h})(),nC=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({providers:[Qb.F,JS.n,Je.D,It.i,ia.h,qv.S,$s._,Hl.q,H1.m,uy.y,j1.P,ey.m,zc.X,tr.Vk,YS.M,zS.v,XS.R,se.QG,pe.M,tl,Hi.c$,bn.X,Ri.w,QS.B,pc.I,qS.D,Xb.x,Zb.g,(0,Jt.$R)((0,Jt.Sx)())],imports:[A.MD,mt.YN,mt.X1,lr,U1.Y,tC.UsersModule,eC.RolesModule,qb.StarterModeModule,$1.p,G1.P,ld.Q_.forRoot(),$l.jr.forRoot(),Kc.Ss.forRoot(),jl.h6.forRoot(),sE.ClaimTypesModule,Ge._B.forRoot(),ZS.M,fv,Hb.c,eE.h,Wb.N,Kb.w,uh.Y,Hi.h,Ce.iI,se.XE,rE,_m,rf]})}}return h})();var oE=l(6357),lE=l(3485);let dy=(()=>{class h extends lE.L{constructor(r){super(),this.protectedResourceService=r}getScopes(){return this.protectedResourceService.getProtectedResources().pipe((0,Ga.T)(r=>{const f=[];return r.forEach(C=>{f.push(...C.scopes)}),f.map(C=>C.name).sort()}))}static{this.\u0275fac=function(f){return new(f||h)(e.KVO(cl.x))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})(),hy=(()=>{class h{static{this.\u0275fac=function(f){return new(f||h)}}static{this.\u0275mod=e.$C({type:h,bootstrap:[R1]})}static{this.\u0275inj=e.G2t({providers:[Qb.F,JS.n,Je.D,It.i,ia.h,$s._,Hl.q,H1.m,uy.y,j1.P,ey.m,zc.X,tr.Vk,YS.M,zS.v,XS.R,iE.q,Wc.A,cl.x,se.QG,pe.M,tl,Hi.c$,bn.X,Ri.w,QS.B,pc.I,qS.D,Xb.x,Zb.g,{provide:lE.L,useClass:dy},{provide:Jt.a7,useClass:LT,multi:!0},{provide:Jt.a7,useClass:Jb,multi:!0},(0,Jt.$R)((0,Jt.Sx)())],imports:[jb,nC,A.MD,mt.YN,mt.X1,lr,U1.Y,zb.ClientModule,UT.DynamicAuthModule,qb.StarterModeModule,Yb,$1.p,G1.P,Hi.h.forRoot({loader:{provide:Hi.Wr,useFactory:KS,deps:[Jt.Qq]}}),se.XE.forRoot(oy,{parser:{provide:se.xq,useFactory:Ub,deps:[Hi.c$,t.aZ,se.wY,Jt.Qq]}}),ld.Q_.forRoot(),$l.jr.forRoot(),Kc.Ss.forRoot(),jl.h6.forRoot(),Ge._B.forRoot(),ZS.M,fv,Hb.c,eE.h,Wb.N,Kb.w,uh.Y,rE,_m,oE.SettingsDuendeModule,se.XE]})}}return h})();var cE=l(1410);ni.c.authServer=cE.y.Duende,ni.c.production&&(0,e.SmG)(),qt().bootstrapModule(hy)},8071:(ot,ve,l)=>{"use strict";function t(a){return"function"==typeof a}l.d(ve,{T:()=>t})},8114:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>S});var t=l(1360),a=l(8434),p=l(9216),A=l(8018);const e=["confirmModal"],w=[[["","body",""]]],m=["[body]"];function D(g,k){1&g&&t.nrm(0,"span",9)}let S=(()=>{class g{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.disableSpinner=!1,this.confirm=new t.bkB,this.close=new t.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-confirmation-modal"]],viewQuery:function(u,E){if(1&u&&t.GBs(e,7),2&u){let B;t.mGM(B=t.lsd())&&(E.confirmModal=B.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight",disableSpinner:"disableSpinner"},outputs:{confirm:"confirm",close:"close"},standalone:!1,ngContentSelectors:m,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(u,E){if(1&u){const B=t.RV6();t.NAR(w),t.j41(0,"app-simple-modal",1,0),t.bIt("close",function(){return t.eBV(B),t.Njj(E.close.emit())}),t.qex(2,2),t.SdG(3),t.bVm(),t.qex(4,3),t.j41(5,"div",4)(6,"div",5)(7,"button",6),t.bIt("click",function(){return t.eBV(B),t.Njj(E.ok())}),t.EFF(8),t.nI1(9,"translate"),t.DNE(10,D,1,0,"span",7),t.k0s()(),t.j41(11,"button",8),t.bIt("click",function(){return t.eBV(B),t.Njj(E.closeModal())}),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.bVm(),t.k0s()}2&u&&(t.Y8G("modalId",E.modalId)("title",E.title)("type",E.type),t.R7$(7),t.ZvI("tw-btn",E.buttonType?"-"+E.buttonType:"",""),t.Y8G("id",E.modalId+"-confirmBtn")("disabled",E.inFlight),t.R7$(),t.SpI(" ",t.bMT(9,12,E.okText)," "),t.R7$(2),t.Y8G("ngIf",E.inFlight&&!E.disableSpinner),t.R7$(),t.Y8G("id",E.modalId+"-cancelBtn"),t.R7$(),t.JRh(t.bMT(13,14,E.cancelText)))},dependencies:[a.bT,p.R,A.D9],encapsulation:2})}}return g})()},8141:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>e});var t=l(8071),a=l(9974),p=l(4360),A=l(3669);function e(w,m,D){const S=(0,t.T)(w)||m||D?{next:w,error:m,complete:D}:w;return S?(0,a.N)((g,k)=>{var Y;null===(Y=S.subscribe)||void 0===Y||Y.call(S);let u=!0;g.subscribe((0,p._)(k,E=>{var B;null===(B=S.next)||void 0===B||B.call(S,E),k.next(E)},()=>{var E;u=!1,null===(E=S.complete)||void 0===E||E.call(S),k.complete()},E=>{var B;u=!1,null===(B=S.error)||void 0===B||B.call(S,E),k.error(E)},()=>{var E,B;u&&(null===(E=S.unsubscribe)||void 0===E||E.call(S)),null===(B=S.finalize)||void 0===B||B.call(S)}))}):A.D}},8251:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>m});var t=l(8018),a=l(8434),p=l(534),A=l(1683),e=l(9812),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({providers:[e.I],imports:[a.MD,t.h,p.Ss,A.Y]})}}return D})()},8261:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>w});var t=l(3165),a=l(2771),p=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.headersService=g,this.identityResourceSubject=new a.m(1),this.actionUrl="IdentityResources",this.headers=g.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(S){let g=new t.Nl;return(0,p.gP)(S)||(g=g.append("name",S)),this.http.get(this.actionUrl,{headers:this.headers,params:g})}addResource(S){const g=`${this.actionUrl}/`,k=JSON.stringify(S);return this.http.post(g,k,{headers:this.headers})}getResource(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}updateResource(S){return this.http.put(`${this.actionUrl}/${S.id}`,S,{headers:this.headers})}deleteIdentityResource(S){return this.http.delete(`${this.actionUrl}/${S}`,{headers:this.headers})}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},8284:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>t});var t=function(a){return a[a.user=0]="user",a[a.role=1]="role",a[a.claimType=2]="claimType",a[a.client=3]="client",a[a.identityResource=4]="identityResource",a[a.protectedResource=5]="protectedResource",a[a.serviceProvider=6]="serviceProvider",a[a.relyingParty=7]="relyingParty",a[a.dynamicAuth=8]="dynamicAuth",a[a.scope=9]="scope",a[a.api=10]="api",a}(t||{})},8291:(ot,ve,l)=>{var t=l(6589);l(7097),l(812);var a=t.asn1,p=ot.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=p;var A={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p.contentInfoValidator=A;var e={name:"EncryptedContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p.envelopedDataValidator={name:"EnvelopedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(e)},p.encryptedDataValidator={name:"EncryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"}].concat(e)},p.signedDataValidator={name:"SignedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},A,{name:"SignedData.Certificates",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},p.recipientInfoValidator={name:"RecipientInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},8321:(ot,ve,l)=>{var t=l(6589);l(812),l(1675),l(3364),ot.exports=t.kem=t.kem||{};var a=t.jsbn.BigInteger;function p(A,e,w,m){A.generate=function(D,S){for(var g=new t.util.ByteBuffer,k=Math.ceil(S/m)+w,Y=new t.util.ByteBuffer,u=w;u<k;++u){Y.putInt32(u),e.start(),e.update(D+Y.getBytes());var E=e.digest();g.putBytes(E.getBytes(m))}return g.truncate(g.length()-S),g.getBytes()}}t.kem.rsa={},t.kem.rsa.create=function(A,e){var w=(e=e||{}).prng||t.random;return{encrypt:function(D,S){var k,g=Math.ceil(D.n.bitLength()/8);do{k=new a(t.util.bytesToHex(w.getBytesSync(g)),16).mod(D.n)}while(k.compareTo(a.ONE)<=0);var Y=g-(k=t.util.hexToBytes(k.toString(16))).length;return Y>0&&(k=t.util.fillString("\0",Y)+k),{encapsulation:D.encrypt(k,"NONE"),key:A.generate(k,S)}},decrypt:function(D,S,g){var k=D.decrypt(S,"NONE");return A.generate(k,g)}}},t.kem.kdf1=function(A,e){p(this,A,0,e||A.digestLength)},t.kem.kdf2=function(A,e){p(this,A,1,e||A.digestLength)}},8359:(ot,ve,l)=>{"use strict";l.d(ve,{Kn:()=>w,yU:()=>e,Uv:()=>m});var t=l(8071);const p=(0,l(1853).L)(S=>function(k){S(this),this.message=k?`${k.length} errors occurred during unsubscription:\n${k.map((Y,u)=>`${u+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=k});var A=l(7908);class e{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const E of k)E.remove(this);else k.remove(this);const{initialTeardown:Y}=this;if((0,t.T)(Y))try{Y()}catch(E){g=E instanceof p?E.errors:[E]}const{_finalizers:u}=this;if(u){this._finalizers=null;for(const E of u)try{D(E)}catch(B){g=g??[],B instanceof p?g=[...g,...B.errors]:g.push(B)}}if(g)throw new p(g)}}add(g){var k;if(g&&g!==this)if(this.closed)D(g);else{if(g instanceof e){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(g)}}_hasParent(g){const{_parentage:k}=this;return k===g||Array.isArray(k)&&k.includes(g)}_addParent(g){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(g),k):k?[k,g]:g}_removeParent(g){const{_parentage:k}=this;k===g?this._parentage=null:Array.isArray(k)&&(0,A.o)(k,g)}remove(g){const{_finalizers:k}=this;k&&(0,A.o)(k,g),g instanceof e&&g._removeParent(this)}}e.EMPTY=(()=>{const S=new e;return S.closed=!0,S})();const w=e.EMPTY;function m(S){return S instanceof e||S&&"closed"in S&&(0,t.T)(S.remove)&&(0,t.T)(S.add)&&(0,t.T)(S.unsubscribe)}function D(S){(0,t.T)(S)?S():S.unsubscribe()}},8389:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>k});var t=l(8434),a=l(8018),p=l(8400),A=l(9417),e=l(6599),w=l(4367),m=l(7677),D=l(1683),S=l(3843),g=l(1360);let k=(()=>{class Y{static{this.\u0275fac=function(B){return new(B||Y)}}static{this.\u0275mod=g.$C({type:Y})}static{this.\u0275inj=g.G2t({imports:[A.YN,A.X1,p.qP,t.MD,a.h,e.Y,w.N,m.N,D.Y,S.G]})}}return Y})()},8400:(ot,ve,l)=>{"use strict";l.d(ve,{Xi:()=>st,qP:()=>Qe});var t=l(1360),a=l(2806),p=l(2865),A=l(8359),e=l(4402),w=l(983),m=l(6648),D=l(5218),S=l(8434),g=l(9417),k=l(6932),Y=l(152),u=l(8141),E=l(5558),B=l(1397),V=l(5964),F=l(6649),M=l(9974);const y=(ne,K)=>(ne.push(K),ne);const Z=["ulElement"],v=["liElements"],L=(ne,K,de,ge)=>({matches:ne,itemTemplate:K,query:de,$implicit:ge}),J=(ne,K,de,ge)=>({item:ne,index:K,match:de,query:ge});function te(ne,K){}function N(ne,K){if(1&ne&&t.nrm(0,"span",4),2&ne){const de=K.match,ge=K.query,o=t.XpG();t.Y8G("innerHtml",o.highlight(de,ge),t.npT)}}function fe(ne,K){if(1&ne&&(t.j41(0,"h6",8),t.EFF(1),t.k0s()),2&ne){const de=t.XpG().$implicit;t.R7$(),t.JRh(de)}}function oe(ne,K){}function R(ne,K){if(1&ne){const de=t.RV6();t.j41(0,"button",9,2),t.bIt("click",function(o){t.eBV(de);const dt=t.XpG().$implicit,gt=t.XpG(2);return t.Njj(gt.selectMatch(dt,o))})("mouseenter",function(){t.eBV(de);const o=t.XpG().$implicit,dt=t.XpG(2);return t.Njj(dt.selectActive(o))}),t.DNE(2,oe,0,0,"ng-template",3),t.k0s()}if(2&ne){const de=t.XpG(),ge=de.$implicit,o=de.index,dt=t.XpG(2),gt=t.sdS(2);t.AVh("active",dt.isActive(ge)),t.Y8G("id",dt.popupId+"-"+o)("@typeaheadAnimation",dt.animationState),t.R7$(2),t.Y8G("ngTemplateOutlet",dt.itemTemplate||gt)("ngTemplateOutletContext",t.ziG(6,J,ge.item,o,ge,dt.query))}}function Pe(ne,K){if(1&ne&&t.DNE(0,fe,2,1,"h6",6)(1,R,3,11,"ng-template",7),2&ne){const de=K.$implicit;t.Y8G("ngIf",de.isHeader()),t.R7$(),t.Y8G("ngIf",!de.isHeader())}}function Te(ne,K){if(1&ne&&t.DNE(0,Pe,2,2,"ng-template",5),2&ne){const de=t.XpG();t.Y8G("ngForOf",de.matches)}}const We={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class lt{constructor(K,de=K,ge=!1){this.item=K,this.value=de,this.header=ge}isHeader(){return this.header}toString(){return this.value}}function vt(ne){return ne?ne.replace(/[^A-Za-z0-9[\] ]/g,function(K){return We[K]||K}):""}function Ye(ne,K=" ",de="",ge){let o=[];if(ge){const gt=ne.split(new RegExp(`([${ge}]+)`,"g")),qt=gt[gt.length-1];qt>""&&(K&&de?o=Ke(qt,K,de):o.push(qt))}else o=Ke(ne,K,de);return o}function Ke(ne,K,de){const ge=[],dt=ne.split(new RegExp(`(?:[${de}])([^${de}]+)(?:[${de}])|([^${K}]+)`,"g")),gt=dt.length;let qt;const Tn=new RegExp(`[${de}]+`,"g");for(let Wn=0;Wn<gt;Wn+=1)qt=dt[Wn],qt&&qt.length&&qt!==K&&ge.push(qt.replace(Tn,""));return ge}function it(ne,K){if(!K||"object"!=typeof ne)return ne.toString();if(K.endsWith("()"))return ne[K.slice(0,K.length-2)]().toString();const ge=K.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const o of ge)o in ne&&(ne=ne[o]);return ne?ne.toString():""}const Ve="220ms cubic-bezier(0, 0, 0.2, 1)",Be=(0,D.hZ)("typeaheadAnimation",[(0,D.wk)("animated-down",(0,D.iF)({height:"*",overflow:"hidden"})),(0,D.kY)("* => animated-down",[(0,D.iF)({height:0,overflow:"hidden"}),(0,D.i0)(Ve)]),(0,D.wk)("animated-up",(0,D.iF)({height:"*",overflow:"hidden"})),(0,D.kY)("* => animated-up",[(0,D.iF)({height:"*",overflow:"hidden"}),(0,D.i0)(Ve)]),(0,D.kY)("* => unanimated",(0,D.i0)("0s"))]);let Xe=0,Ue=(()=>{class ne{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(de,ge,o,dt){this.positionService=de,this.renderer=ge,this.element=o,this.changeDetectorRef=dt,this.activeChangeEvent=new t.bkB,this.isFocused=!1,this.positionServiceSubscription=new A.yU,this.height=0,this.popupId="ngb-typeahead-"+Xe++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(de){this._active=de,this.activeChanged()}get matches(){return this._matches}set matches(de){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=de,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const ge=this._matches.find(o=>o.value===this._active?.value);if(ge)return void this.selectActive(ge);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(de){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&de&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const de=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${de}`)}prevActiveMatch(){if(!this._active)return;const de=this.matches.indexOf(this._active);this.setActive(this.matches[de-1<0?this.matches.length-1:de-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(de)}nextActiveMatch(){const de=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[de+1>this.matches.length-1?0:de+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(de)}selectActive(de){this.isFocused=!0,this.setActive(de)}highlight(de,ge){let gt,qt,o=de.value,dt=(this.parent&&this.parent.typeaheadLatinize?vt(o):o).toLowerCase();if("object"==typeof ge){const Tn=ge.length;for(let Wn=0;Wn<Tn;Wn+=1)gt=dt.indexOf(ge[Wn]),qt=ge[Wn].length,gt>=0&&qt>0&&(o=`${o.substring(0,gt)}<strong>${o.substring(gt,gt+qt)}</strong>${o.substring(gt+qt)}`,dt=`${dt.substring(0,gt)}????????${"??".repeat(qt)}??????????${dt.substring(gt+qt)}`)}else ge&&(gt=dt.indexOf(ge),qt=ge.length,gt>=0&&qt>0&&(o=`${o.substring(0,gt)}<strong>${o.substring(gt,gt+qt)}</strong>${o.substring(gt+qt)}`));return o}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(de){return this.active===de}selectMatch(de,ge){return ge&&(ge.stopPropagation(),ge.preventDefault()),this.parent?.changeModel(de),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(de),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const de=a.Aq.getStyles(this.ulElement.nativeElement),ge=a.Aq.getStyles(this.liElements.first.nativeElement),o=parseFloat((de["padding-bottom"]?de["padding-bottom"]:"").replace("px","")),dt=parseFloat((de["padding-top"]?de["padding-top"]:"0").replace("px","")),gt=parseFloat((ge.height?ge.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*gt+dt+o}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(de){if(0!==de){if(this.liElements&&this.ulElement){const ge=this.liElements.toArray()[de-1];ge&&!this.isScrolledIntoView(ge.nativeElement)&&(this.ulElement.nativeElement.scrollTop=ge.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(de){if(de+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const ge=this.liElements.toArray()[de+1];ge&&!this.isScrolledIntoView(ge.nativeElement)&&(this.ulElement.nativeElement.scrollTop=ge.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(ge.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(de){let ge;this._active=de,null==this._active||this._active.isHeader()||(ge=de),this.parent?.typeaheadOnPreview.emit(ge)}isScrolledIntoView(de){if(!this.ulElement)return!1;const ge=this.ulElement.nativeElement.scrollTop,o=ge+Number(this.ulElement.nativeElement.offsetHeight),dt=de.offsetTop;return dt+de.offsetHeight<=o&&dt>=ge}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(ge){return new(ge||ne)(t.rXU(p.DF),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:ne,selectors:[["typeahead-container"]],viewQuery:function(ge,o){if(1&ge&&(t.GBs(Z,5),t.GBs(v,5)),2&ge){let dt;t.mGM(dt=t.lsd())&&(o.ulElement=dt.first),t.mGM(dt=t.lsd())&&(o.liElements=dt)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(ge,o){1&ge&&t.bIt("mouseleave",function(){return o.focusLost()})("blur",function(){return o.focusLost()}),2&ge&&(t.BMQ("role","listbox"),t.xc7("height",o.needScrollbar?o.guiHeight:"auto")("visibility","inherit"),t.AVh("dropup",o.dropup))},outputs:{activeChangeEvent:"activeChange"},features:[t.Jv_([p.DF])],decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(ge,o){if(1&ge&&t.DNE(0,te,0,0,"ng-template",3)(1,N,1,1,"ng-template",null,0,t.C5r)(3,Te,1,1,"ng-template",null,1,t.C5r),2&ge){const dt=t.sdS(2),gt=t.sdS(4);t.Y8G("ngTemplateOutlet",o.optionsListTemplate||gt)("ngTemplateOutletContext",t.ziG(2,L,o.matches,o.itemTemplate||dt,o.query,o.typeaheadTemplateMethods))}},dependencies:[S.T3,S.Sq,S.bT],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[Be]}})}}return ne})(),ct=(()=>{class ne{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(ge){return new(ge||ne)}}static{this.\u0275prov=t.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})(),st=(()=>{class ne{constructor(de,ge,o,dt,gt,qt,Tn){this.changeDetection=o,this.element=dt,this.ngControl=gt,this.renderer=qt,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new t.bkB,this.typeaheadNoResults=new t.bkB,this.typeaheadOnSelect=new t.bkB,this.typeaheadOnPreview=new t.bkB,this.typeaheadOnBlur=new t.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new t.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=de.createLoader(dt,Tn,qt).provide({provide:ct,useValue:ge}),Object.assign(this,{typeaheadHideResultsOnBlur:ge.hideResultsOnBlur,cancelRequestOnFocusLost:ge.cancelRequestOnFocusLost,typeaheadSelectFirstItem:ge.selectFirstItem,typeaheadIsFirstItemActive:ge.isFirstItemActive,typeaheadMinLength:ge.minLength,adaptivePosition:ge.adaptivePosition,isAnimated:ge.isAnimated,selectItemOnBlur:ge.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,e.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,e.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(de){const ge=void 0!==de.target.value?de.target.value:void 0!==de.target.textContent?de.target.textContent:de.target.innerText;null!=ge&&ge.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(de.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(de){if(this._container){if(27===de.keyCode||"Escape"===de.key)return void this.hide();if(38===de.keyCode||"ArrowUp"===de.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===de.keyCode||"ArrowDown"===de.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===de.keyCode||"Enter"===de.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new lt(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(de){if(this._container&&((9===de.keyCode||"Tab"===de.key)&&this.onBlur(),9===de.keyCode||"Tab"===de.key||13===de.keyCode||"Enter"===de.key)){if(de.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(de){if(!de)return;let ge;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const o=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=o.slice(0,o.length-1).concat(de.value).join(""),ge=this._allEnteredValue}else ge=de.value;this.ngControl.viewToModelUpdate(ge),this.ngControl.control?.setValue(ge),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(Ue).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",ge=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(ge.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(ge.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const de=(this.typeaheadLatinize?vt(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(de),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(ge=>{this.activeDescendant=ge,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const de of this._subscriptions)de.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,Y.B)(this.typeaheadWaitMs),(0,u.M)(de=>this._allEnteredValue=de),(0,E.n)(()=>this.typeahead?this.typeahead:w.w)).subscribe(de=>{this.finalizeAsyncCall(de)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,Y.B)(this.typeaheadWaitMs),(0,B.Z)(de=>{this._allEnteredValue=de;const ge=this.normalizeQuery(de);return this.typeahead?((0,e.A)(this.typeahead)?this.typeahead:(0,m.H)(this.typeahead)).pipe((0,V.p)(dt=>!!dt&&this.testMatch(this.normalizeOption(dt),ge)),function z(){return(0,M.N)((ne,K)=>{(function W(ne,K){return(0,M.N)((0,F.S)(ne,K,arguments.length>=2,!1,!0))})(y,[])(ne).subscribe(K)})}()):w.w})).subscribe(de=>{this.finalizeAsyncCall(de)}))}normalizeOption(de){const ge=it(de,this.typeaheadOptionField);return(this.typeaheadLatinize?vt(ge):ge).toLowerCase()}tokenizeQuery(de){let ge=de;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(ge=Ye(ge,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):ge=this.typeaheadSingleWords?Ye(ge,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Ye(ge,void 0,void 0,this.typeaheadMultipleSearchDelimiters),ge}normalizeQuery(de){let ge=(this.typeaheadLatinize?vt(de):de).toString().toLowerCase();return ge=this.tokenizeQuery(ge),ge}testMatch(de,ge){let o;if("object"==typeof ge){o=ge.length;for(let dt=0;dt<o;dt+=1)if(ge[dt].length>0&&de.indexOf(ge[dt])<0)return!1;return!0}return de.indexOf(ge)>=0}finalizeAsyncCall(de){if(this.prepareMatches(de||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const o=((this.typeaheadLatinize?vt(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(o),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(de){const ge=de.slice(0,this.typeaheadOptionsLimit),o=this.typeaheadOrderBy?this.orderMatches(ge):ge;if(this.typeaheadGroupField){let dt=[];o.map(qt=>it(qt,this.typeaheadGroupField)).filter((qt,Tn,Wn)=>Wn.indexOf(qt)===Tn).forEach(qt=>{dt.push(new lt(qt,qt,!0)),dt=dt.concat(o.filter(Tn=>it(Tn,this.typeaheadGroupField)===qt).map(Tn=>new lt(Tn,it(Tn,this.typeaheadOptionField))))}),this._matches=dt}else this._matches=o.map(dt=>new lt(dt,it(dt,this.typeaheadOptionField)))}orderMatches(de){if(!de.length)return de;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),de;const{field:ge,direction:o}=this.typeaheadOrderBy||{};return!o||"asc"!==o&&"desc"!==o?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),de):"string"==typeof de[0]?"asc"===o?de.sort():de.sort().reverse():ge&&"string"==typeof ge?de.sort((dt,gt)=>{const qt=it(dt,ge),Tn=it(gt,ge);return qt<Tn?"asc"===o?-1:1:qt>Tn?"asc"===o?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),de)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(de,ge){for(let o=0;o<de.length;o++)if(de.charAt(o).indexOf(ge)>-1)return!0;return!1}static{this.\u0275fac=function(ge){return new(ge||ne)(t.rXU(k.Li),t.rXU(ct),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(g.vO),t.rXU(t.sFG),t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:ne,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(ge,o){1&ge&&t.bIt("input",function(gt){return o.onInput(gt)})("keyup",function(gt){return o.onChange(gt)})("click",function(){return o.onFocus()})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()})("keydown",function(gt){return o.onKeydown(gt)}),2&ge&&t.BMQ("aria-activedescendant",o.activeDescendant)("aria-owns",o.isOpen?o._container.popupId:null)("aria-expanded",o.isOpen)("aria-autocomplete",o.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"],features:[t.Jv_([k.Li,p.DF])]})}}return ne})(),Qe=(()=>{class ne{static forRoot(){return{ngModule:ne,providers:[]}}static{this.\u0275fac=function(ge){return new(ge||ne)}}static{this.\u0275mod=t.$C({type:ne})}static{this.\u0275inj=t.G2t({imports:[S.MD]})}}return ne})()},8412:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>a});var t=l(1716);function a(...p){return(0,t.h)(...p)}},8416:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>a});var t=l(1360);let a=(()=>{class p{canDeactivate(e){return!e.canDeactivate||e.canDeactivate()}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac})}}return p})()},8434:(ot,ve,l)=>{"use strict";l.d(ve,{MD:()=>Bt,P9:()=>Pn,Pc:()=>Fe,QX:()=>jt,Sq:()=>cn,T3:()=>Vn,YU:()=>wt,Yq:()=>Ve,bT:()=>Ii,fw:()=>p,lG:()=>Ji});var t=l(1360),a=l(1482);let p=(()=>{class ce extends a.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(ae,be){super(),this._platformLocation=ae,null!=be&&(this._baseHref=be)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ae){this._removeListenerFns.push(this._platformLocation.onPopState(ae),this._platformLocation.onHashChange(ae))}getBaseHref(){return this._baseHref}path(ae=!1){const be=this._platformLocation.hash??"#";return be.length>0?be.substring(1):be}prepareExternalUrl(ae){const be=(0,a.om)(this._baseHref,ae);return be.length>0?"#"+be:be}pushState(ae,be,ke,At){const hn=this.prepareExternalUrl(ke+(0,a.Q)(At))||this._platformLocation.pathname;this._platformLocation.pushState(ae,be,hn)}replaceState(ae,be,ke,At){const hn=this.prepareExternalUrl(ke+(0,a.Q)(At))||this._platformLocation.pathname;this._platformLocation.replaceState(ae,be,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ae=0){this._platformLocation.historyGo?.(ae)}static \u0275fac=function(be){return new(be||ce)(t.KVO(a.Vw),t.KVO(a.kB,8))};static \u0275prov=t.jDH({token:ce,factory:ce.\u0275fac})}return ce})();var e=function(ce){return ce[ce.Decimal=0]="Decimal",ce[ce.Percent=1]="Percent",ce[ce.Currency=2]="Currency",ce[ce.Scientific=3]="Scientific",ce}(e||{}),m=function(ce){return ce[ce.Format=0]="Format",ce[ce.Standalone=1]="Standalone",ce}(m||{}),D=function(ce){return ce[ce.Narrow=0]="Narrow",ce[ce.Abbreviated=1]="Abbreviated",ce[ce.Wide=2]="Wide",ce[ce.Short=3]="Short",ce}(D||{}),S=function(ce){return ce[ce.Short=0]="Short",ce[ce.Medium=1]="Medium",ce[ce.Long=2]="Long",ce[ce.Full=3]="Full",ce}(S||{});const g={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W(ce,Ie){return We((0,t.H5H)(ce)[t.KH2.DateFormat],Ie)}function y(ce,Ie){return We((0,t.H5H)(ce)[t.KH2.TimeFormat],Ie)}function z(ce,Ie){return We((0,t.H5H)(ce)[t.KH2.DateTimeFormat],Ie)}function Z(ce,Ie){const ae=(0,t.H5H)(ce),be=ae[t.KH2.NumberSymbols][Ie];if(typeof be>"u"){if(Ie===g.CurrencyDecimal)return ae[t.KH2.NumberSymbols][g.Decimal];if(Ie===g.CurrencyGroup)return ae[t.KH2.NumberSymbols][g.Group]}return be}function oe(ce){if(!ce[t.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ce[t.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function We(ce,Ie){for(let ae=Ie;ae>-1;ae--)if(typeof ce[ae]<"u")return ce[ae];throw new Error("Locale data API: locale data undefined")}function rt(ce){const[Ie,ae]=ce.split(":");return{hours:+Ie,minutes:+ae}}const Ye=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ke={},it=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ve(ce,Ie,ae,be){let ke=function he(ce){if(P(ce))return ce;if("number"==typeof ce&&!isNaN(ce))return new Date(ce);if("string"==typeof ce){if(ce=ce.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ce)){const[ke,At=1,hn=1]=ce.split("-").map(Fn=>+Fn);return Be(ke,At-1,hn)}const ae=parseFloat(ce);if(!isNaN(ce-ae))return new Date(ae);let be;if(be=ce.match(Ye))return function ue(ce){const Ie=new Date(0);let ae=0,be=0;const ke=ce[8]?Ie.setUTCFullYear:Ie.setFullYear,At=ce[8]?Ie.setUTCHours:Ie.setHours;ce[9]&&(ae=Number(ce[9]+ce[10]),be=Number(ce[9]+ce[11])),ke.call(Ie,Number(ce[1]),Number(ce[2])-1,Number(ce[3]));const hn=Number(ce[4]||0)-ae,Fn=Number(ce[5]||0)-be,Wi=Number(ce[6]||0),Di=Math.floor(1e3*parseFloat("0."+(ce[7]||0)));return At.call(Ie,hn,Fn,Wi,Di),Ie}(be)}const Ie=new Date(ce);if(!P(Ie))throw new Error(`Unable to convert "${ce}" into a date`);return Ie}(ce);Ie=Xe(ae,Ie)||Ie;let Fn,hn=[];for(;Ie;){if(Fn=it.exec(Ie),!Fn){hn.push(Ie);break}{hn=hn.concat(Fn.slice(1));const Vi=hn.pop();if(!Vi)break;Ie=Vi}}let Wi=ke.getTimezoneOffset();be&&(Wi=ni(be,Wi),ke=function Jt(ce,Ie){const ke=ce.getTimezoneOffset();return function mt(ce,Ie){return(ce=new Date(ce.getTime())).setMinutes(ce.getMinutes()+Ie),ce}(ce,-1*(ni(Ie,ke)-ke))}(ke,be));let Di="";return hn.forEach(Vi=>{const li=function Ln(ce){if(en[ce])return en[ce];let Ie;switch(ce){case"G":case"GG":case"GGG":Ie=K(3,D.Abbreviated);break;case"GGGG":Ie=K(3,D.Wide);break;case"GGGGG":Ie=K(3,D.Narrow);break;case"y":Ie=Qe(0,1,0,!1,!0);break;case"yy":Ie=Qe(0,2,0,!0,!0);break;case"yyy":Ie=Qe(0,3,0,!1,!0);break;case"yyyy":Ie=Qe(0,4,0,!1,!0);break;case"Y":Ie=Wn(1);break;case"YY":Ie=Wn(2,!0);break;case"YYY":Ie=Wn(3);break;case"YYYY":Ie=Wn(4);break;case"M":case"L":Ie=Qe(1,1,1);break;case"MM":case"LL":Ie=Qe(1,2,1);break;case"MMM":Ie=K(2,D.Abbreviated);break;case"MMMM":Ie=K(2,D.Wide);break;case"MMMMM":Ie=K(2,D.Narrow);break;case"LLL":Ie=K(2,D.Abbreviated,m.Standalone);break;case"LLLL":Ie=K(2,D.Wide,m.Standalone);break;case"LLLLL":Ie=K(2,D.Narrow,m.Standalone);break;case"w":Ie=Tn(1);break;case"ww":Ie=Tn(2);break;case"W":Ie=Tn(1,!0);break;case"d":Ie=Qe(2,1);break;case"dd":Ie=Qe(2,2);break;case"c":case"cc":Ie=Qe(7,1);break;case"ccc":Ie=K(1,D.Abbreviated,m.Standalone);break;case"cccc":Ie=K(1,D.Wide,m.Standalone);break;case"ccccc":Ie=K(1,D.Narrow,m.Standalone);break;case"cccccc":Ie=K(1,D.Short,m.Standalone);break;case"E":case"EE":case"EEE":Ie=K(1,D.Abbreviated);break;case"EEEE":Ie=K(1,D.Wide);break;case"EEEEE":Ie=K(1,D.Narrow);break;case"EEEEEE":Ie=K(1,D.Short);break;case"a":case"aa":case"aaa":Ie=K(0,D.Abbreviated);break;case"aaaa":Ie=K(0,D.Wide);break;case"aaaaa":Ie=K(0,D.Narrow);break;case"b":case"bb":case"bbb":Ie=K(0,D.Abbreviated,m.Standalone,!0);break;case"bbbb":Ie=K(0,D.Wide,m.Standalone,!0);break;case"bbbbb":Ie=K(0,D.Narrow,m.Standalone,!0);break;case"B":case"BB":case"BBB":Ie=K(0,D.Abbreviated,m.Format,!0);break;case"BBBB":Ie=K(0,D.Wide,m.Format,!0);break;case"BBBBB":Ie=K(0,D.Narrow,m.Format,!0);break;case"h":Ie=Qe(3,1,-12);break;case"hh":Ie=Qe(3,2,-12);break;case"H":Ie=Qe(3,1);break;case"HH":Ie=Qe(3,2);break;case"m":Ie=Qe(4,1);break;case"mm":Ie=Qe(4,2);break;case"s":Ie=Qe(5,1);break;case"ss":Ie=Qe(5,2);break;case"S":Ie=Qe(6,1);break;case"SS":Ie=Qe(6,2);break;case"SSS":Ie=Qe(6,3);break;case"Z":case"ZZ":case"ZZZ":Ie=ge(0);break;case"ZZZZZ":Ie=ge(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ie=ge(1);break;case"OOOO":case"ZZZZ":case"zzzz":Ie=ge(2);break;default:return null}return en[ce]=Ie,Ie}(Vi);Di+=li?li(ke,ae,Wi):"''"===Vi?"'":Vi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Di}function Be(ce,Ie,ae){const be=new Date(0);return be.setFullYear(ce,Ie,ae),be.setHours(0,0,0),be}function Xe(ce,Ie){const ae=function Y(ce){return(0,t.H5H)(ce)[t.KH2.LocaleId]}(ce);if(Ke[ae]??={},Ke[ae][Ie])return Ke[ae][Ie];let be="";switch(Ie){case"shortDate":be=W(ce,S.Short);break;case"mediumDate":be=W(ce,S.Medium);break;case"longDate":be=W(ce,S.Long);break;case"fullDate":be=W(ce,S.Full);break;case"shortTime":be=y(ce,S.Short);break;case"mediumTime":be=y(ce,S.Medium);break;case"longTime":be=y(ce,S.Long);break;case"fullTime":be=y(ce,S.Full);break;case"short":const ke=Xe(ce,"shortTime"),At=Xe(ce,"shortDate");be=Ue(z(ce,S.Short),[ke,At]);break;case"medium":const hn=Xe(ce,"mediumTime"),Fn=Xe(ce,"mediumDate");be=Ue(z(ce,S.Medium),[hn,Fn]);break;case"long":const Wi=Xe(ce,"longTime"),Di=Xe(ce,"longDate");be=Ue(z(ce,S.Long),[Wi,Di]);break;case"full":const Vi=Xe(ce,"fullTime"),li=Xe(ce,"fullDate");be=Ue(z(ce,S.Full),[Vi,li])}return be&&(Ke[ae][Ie]=be),be}function Ue(ce,Ie){return Ie&&(ce=ce.replace(/\{([^}]+)}/g,function(ae,be){return null!=Ie&&be in Ie?Ie[be]:ae})),ce}function ct(ce,Ie,ae="-",be,ke){let At="";(ce<0||ke&&ce<=0)&&(ke?ce=1-ce:(ce=-ce,At=ae));let hn=String(ce);for(;hn.length<Ie;)hn="0"+hn;return be&&(hn=hn.slice(hn.length-Ie)),At+hn}function Qe(ce,Ie,ae=0,be=!1,ke=!1){return function(At,hn){let Fn=function ne(ce,Ie){switch(ce){case 0:return Ie.getFullYear();case 1:return Ie.getMonth();case 2:return Ie.getDate();case 3:return Ie.getHours();case 4:return Ie.getMinutes();case 5:return Ie.getSeconds();case 6:return Ie.getMilliseconds();case 7:return Ie.getDay();default:throw new Error(`Unknown DateType value "${ce}".`)}}(ce,At);if((ae>0||Fn>-ae)&&(Fn+=ae),3===ce)0===Fn&&-12===ae&&(Fn=12);else if(6===ce)return function st(ce,Ie){return ct(ce,3).substring(0,Ie)}(Fn,Ie);const Wi=Z(hn,g.MinusSign);return ct(Fn,Ie,Wi,be,ke)}}function K(ce,Ie,ae=m.Format,be=!1){return function(ke,At){return function de(ce,Ie,ae,be,ke,At){switch(ae){case 2:return function B(ce,Ie,ae){const be=(0,t.H5H)(ce),At=We([be[t.KH2.MonthsFormat],be[t.KH2.MonthsStandalone]],Ie);return We(At,ae)}(Ie,ke,be)[ce.getMonth()];case 1:return function E(ce,Ie,ae){const be=(0,t.H5H)(ce),At=We([be[t.KH2.DaysFormat],be[t.KH2.DaysStandalone]],Ie);return We(At,ae)}(Ie,ke,be)[ce.getDay()];case 0:const hn=ce.getHours(),Fn=ce.getMinutes();if(At){const Di=function R(ce){const Ie=(0,t.H5H)(ce);return oe(Ie),(Ie[t.KH2.ExtraData][2]||[]).map(be=>"string"==typeof be?rt(be):[rt(be[0]),rt(be[1])])}(Ie),Vi=function Pe(ce,Ie,ae){const be=(0,t.H5H)(ce);oe(be);const At=We([be[t.KH2.ExtraData][0],be[t.KH2.ExtraData][1]],Ie)||[];return We(At,ae)||[]}(Ie,ke,be),li=Di.findIndex(Li=>{if(Array.isArray(Li)){const[Yi,xs]=Li,Bs=hn>=Yi.hours&&Fn>=Yi.minutes,Mr=hn<xs.hours||hn===xs.hours&&Fn<xs.minutes;if(Yi.hours<xs.hours){if(Bs&&Mr)return!0}else if(Bs||Mr)return!0}else if(Li.hours===hn&&Li.minutes===Fn)return!0;return!1});if(-1!==li)return Vi[li]}return function u(ce,Ie,ae){const be=(0,t.H5H)(ce),At=We([be[t.KH2.DayPeriodsFormat],be[t.KH2.DayPeriodsStandalone]],Ie);return We(At,ae)}(Ie,ke,be)[hn<12?0:1];case 3:return function V(ce,Ie){return We((0,t.H5H)(ce)[t.KH2.Eras],Ie)}(Ie,be)[ce.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ae}`)}}(ke,At,ce,Ie,ae,be)}}function ge(ce){return function(Ie,ae,be){const ke=-1*be,At=Z(ae,g.MinusSign),hn=ke>0?Math.floor(ke/60):Math.ceil(ke/60);switch(ce){case 0:return(ke>=0?"+":"")+ct(hn,2,At)+ct(Math.abs(ke%60),2,At);case 1:return"GMT"+(ke>=0?"+":"")+ct(hn,1,At);case 2:return"GMT"+(ke>=0?"+":"")+ct(hn,2,At)+":"+ct(Math.abs(ke%60),2,At);case 3:return 0===be?"Z":(ke>=0?"+":"")+ct(hn,2,At)+":"+ct(Math.abs(ke%60),2,At);default:throw new Error(`Unknown zone width "${ce}"`)}}}const o=0,dt=4;function qt(ce){const Ie=ce.getDay(),ae=0===Ie?-3:dt-Ie;return Be(ce.getFullYear(),ce.getMonth(),ce.getDate()+ae)}function Tn(ce,Ie=!1){return function(ae,be){let ke;if(Ie){const At=new Date(ae.getFullYear(),ae.getMonth(),1).getDay()-1,hn=ae.getDate();ke=1+Math.floor((hn+At)/7)}else{const At=qt(ae),hn=function gt(ce){const Ie=Be(ce,o,1).getDay();return Be(ce,0,1+(Ie<=dt?dt:dt+7)-Ie)}(At.getFullYear()),Fn=At.getTime()-hn.getTime();ke=1+Math.round(Fn/6048e5)}return ct(ke,ce,Z(be,g.MinusSign))}}function Wn(ce,Ie=!1){return function(ae,be){return ct(qt(ae).getFullYear(),ce,Z(be,g.MinusSign),Ie)}}const en={};function ni(ce,Ie){ce=ce.replace(/:/g,"");const ae=Date.parse("Jan 01, 1970 00:00:00 "+ce)/6e4;return isNaN(ae)?Ie:ae}function P(ce){return ce instanceof Date&&!isNaN(ce.valueOf())}const q=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fi(ce){const Ie=parseInt(ce);if(isNaN(Ie))throw new Error("Invalid integer literal when parsing "+ce);return Ie}const ms=/\s+/,xi=[];let wt=(()=>{class ce{_ngEl;_renderer;initialClasses=xi;rawClass;stateMap=new Map;constructor(ae,be){this._ngEl=ae,this._renderer=be}set klass(ae){this.initialClasses=null!=ae?ae.trim().split(ms):xi}set ngClass(ae){this.rawClass="string"==typeof ae?ae.trim().split(ms):ae}ngDoCheck(){for(const be of this.initialClasses)this._updateState(be,!0);const ae=this.rawClass;if(Array.isArray(ae)||ae instanceof Set)for(const be of ae)this._updateState(be,!0);else if(null!=ae)for(const be of Object.keys(ae))this._updateState(be,!!ae[be]);this._applyStateDiff()}_updateState(ae,be){const ke=this.stateMap.get(ae);void 0!==ke?(ke.enabled!==be&&(ke.changed=!0,ke.enabled=be),ke.touched=!0):this.stateMap.set(ae,{enabled:be,changed:!0,touched:!0})}_applyStateDiff(){for(const ae of this.stateMap){const be=ae[0],ke=ae[1];ke.changed?(this._toggleClass(be,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(be,!1),this.stateMap.delete(be)),ke.touched=!1}}_toggleClass(ae,be){(ae=ae.trim()).length>0&&ae.split(ms).forEach(ke=>{be?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}static \u0275fac=function(be){return new(be||ce)(t.rXU(t.aKT),t.rXU(t.sFG))};static \u0275dir=t.FsC({type:ce,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return ce})();class Kt{$implicit;ngForOf;index;count;constructor(Ie,ae,be,ke){this.$implicit=Ie,this.ngForOf=ae,this.index=be,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cn=(()=>{class ce{_viewContainer;_template;_differs;set ngForOf(ae){this._ngForOf=ae,this._ngForOfDirty=!0}set ngForTrackBy(ae){this._trackByFn=ae}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(ae,be,ke){this._viewContainer=ae,this._template=be,this._differs=ke}set ngForTemplate(ae){ae&&(this._template=ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ae=this._ngForOf;!this._differ&&ae&&(this._differ=this._differs.find(ae).create(this.ngForTrackBy))}if(this._differ){const ae=this._differ.diff(this._ngForOf);ae&&this._applyChanges(ae)}}_applyChanges(ae){const be=this._viewContainer;ae.forEachOperation((ke,At,hn)=>{if(null==ke.previousIndex)be.createEmbeddedView(this._template,new Kt(ke.item,this._ngForOf,-1,-1),null===hn?void 0:hn);else if(null==hn)be.remove(null===At?void 0:At);else if(null!==At){const Fn=be.get(At);be.move(Fn,hn),ii(Fn,ke)}});for(let ke=0,At=be.length;ke<At;ke++){const Fn=be.get(ke).context;Fn.index=ke,Fn.count=At,Fn.ngForOf=this._ngForOf}ae.forEachIdentityChange(ke=>{ii(be.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(ae,be){return!0}static \u0275fac=function(be){return new(be||ce)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))};static \u0275dir=t.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return ce})();function ii(ce,Ie){ce.context.$implicit=Ie.item}let Ii=(()=>{class ce{_viewContainer;_context=new Ti;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(ae,be){this._viewContainer=ae,this._thenTemplateRef=be}set ngIf(ae){this._context.$implicit=this._context.ngIf=ae,this._updateView()}set ngIfThen(ae){Dn(ae),this._thenTemplateRef=ae,this._thenViewRef=null,this._updateView()}set ngIfElse(ae){Dn(ae),this._elseTemplateRef=ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(ae,be){return!0}static \u0275fac=function(be){return new(be||ce)(t.rXU(t.c1b),t.rXU(t.C4Q))};static \u0275dir=t.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return ce})();class Ti{$implicit=null;ngIf=null}function Dn(ce,Ie){if(ce&&!ce.createEmbeddedView)throw new t.wOt(2020,!1)}let Vn=(()=>{class ce{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(ae){this._viewContainerRef=ae}ngOnChanges(ae){if(this._shouldRecreateView(ae)){const be=this._viewContainerRef;if(this._viewRef&&be.remove(be.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ke=this._createContextForwardProxy();this._viewRef=be.createEmbeddedView(this.ngTemplateOutlet,ke,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ae){return!!ae.ngTemplateOutlet||!!ae.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ae,be,ke)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,be,ke),get:(ae,be,ke)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,be,ke)}})}static \u0275fac=function(be){return new(be||ce)(t.rXU(t.c1b))};static \u0275dir=t.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[t.OA$]})}return ce})();function Xn(ce,Ie){return new t.wOt(2100,!1)}let Fe=(()=>{class ce{transform(ae){if(null==ae)return null;if("string"!=typeof ae)throw Xn();return ae.toUpperCase()}static \u0275fac=function(be){return new(be||ce)};static \u0275pipe=t.EJ8({name:"uppercase",type:ce,pure:!0})}return ce})(),Ji=(()=>{class ce{differs;constructor(ae){this.differs=ae}differ;keyValues=[];compareFn=Os;transform(ae,be=Os){if(!ae||!(ae instanceof Map)&&"object"!=typeof ae)return null;this.differ??=this.differs.find(ae).create();const ke=this.differ.diff(ae),At=be!==this.compareFn;return ke&&(this.keyValues=[],ke.forEachItem(hn=>{this.keyValues.push(function Ki(ce,Ie){return{key:ce,value:Ie}}(hn.key,hn.currentValue))})),(ke||At)&&(be&&this.keyValues.sort(be),this.compareFn=be),this.keyValues}static \u0275fac=function(be){return new(be||ce)(t.rXU(t.MKu,16))};static \u0275pipe=t.EJ8({name:"keyvalue",type:ce,pure:!1})}return ce})();function Os(ce,Ie){const ae=ce.key,be=Ie.key;if(ae===be)return 0;if(null==ae)return 1;if(null==be)return-1;if("string"==typeof ae&&"string"==typeof be)return ae<be?-1:1;if("number"==typeof ae&&"number"==typeof be)return ae-be;if("boolean"==typeof ae&&"boolean"==typeof be)return ae<be?-1:1;const ke=String(ae),At=String(be);return ke==At?0:ke<At?-1:1}let jt=(()=>{class ce{_locale;constructor(ae){this._locale=ae}transform(ae,be,ke){if(!function vn(ce){return!(null==ce||""===ce||ce!=ce)}(ae))return null;ke||=this._locale;try{return function Qt(ce,Ie,ae){return function ei(ce,Ie,ae,be,ke,At,hn=!1){let Fn="",Wi=!1;if(isFinite(ce)){let Di=function rs(ce){let be,ke,At,hn,Fn,Ie=Math.abs(ce)+"",ae=0;for((ke=Ie.indexOf("."))>-1&&(Ie=Ie.replace(".","")),(At=Ie.search(/e/i))>0?(ke<0&&(ke=At),ke+=+Ie.slice(At+1),Ie=Ie.substring(0,At)):ke<0&&(ke=Ie.length),At=0;"0"===Ie.charAt(At);At++);if(At===(Fn=Ie.length))be=[0],ke=1;else{for(Fn--;"0"===Ie.charAt(Fn);)Fn--;for(ke-=At,be=[],hn=0;At<=Fn;At++,hn++)be[hn]=Number(Ie.charAt(At))}return ke>22&&(be=be.splice(0,21),ae=ke-1,ke=1),{digits:be,exponent:ae,integerLen:ke}}(ce);hn&&(Di=function In(ce){if(0===ce.digits[0])return ce;const Ie=ce.digits.length-ce.integerLen;return ce.exponent?ce.exponent+=2:(0===Ie?ce.digits.push(0,0):1===Ie&&ce.digits.push(0),ce.integerLen+=2),ce}(Di));let Vi=Ie.minInt,li=Ie.minFrac,Li=Ie.maxFrac;if(At){const Dt=At.match(q);if(null===Dt)throw new Error(`${At} is not a valid digit info`);const un=Dt[1],Vt=Dt[3],pn=Dt[5];null!=un&&(Vi=Fi(un)),null!=Vt&&(li=Fi(Vt)),null!=pn?Li=Fi(pn):null!=Vt&&li>Li&&(Li=li)}!function _i(ce,Ie,ae){if(Ie>ae)throw new Error(`The minimum number of digits after fraction (${Ie}) is higher than the maximum (${ae}).`);let be=ce.digits,ke=be.length-ce.integerLen;const At=Math.min(Math.max(Ie,ke),ae);let hn=At+ce.integerLen,Fn=be[hn];if(hn>0){be.splice(Math.max(ce.integerLen,hn));for(let li=hn;li<be.length;li++)be[li]=0}else{ke=Math.max(0,ke),ce.integerLen=1,be.length=Math.max(1,hn=At+1),be[0]=0;for(let li=1;li<hn;li++)be[li]=0}if(Fn>=5)if(hn-1<0){for(let li=0;li>hn;li--)be.unshift(0),ce.integerLen++;be.unshift(1),ce.integerLen++}else be[hn-1]++;for(;ke<Math.max(0,At);ke++)be.push(0);let Wi=0!==At;const Di=Ie+ce.integerLen,Vi=be.reduceRight(function(li,Li,Yi,xs){return xs[Yi]=(Li+=li)<10?Li:Li-10,Wi&&(0===xs[Yi]&&Yi>=Di?xs.pop():Wi=!1),Li>=10?1:0},0);Vi&&(be.unshift(Vi),ce.integerLen++)}(Di,li,Li);let Yi=Di.digits,xs=Di.integerLen;const Bs=Di.exponent;let Mr=[];for(Wi=Yi.every(Dt=>!Dt);xs<Vi;xs++)Yi.unshift(0);for(;xs<0;xs++)Yi.unshift(0);xs>0?Mr=Yi.splice(xs,Yi.length):(Mr=Yi,Yi=[0]);const Qr=[];for(Yi.length>=Ie.lgSize&&Qr.unshift(Yi.splice(-Ie.lgSize,Yi.length).join(""));Yi.length>Ie.gSize;)Qr.unshift(Yi.splice(-Ie.gSize,Yi.length).join(""));Yi.length&&Qr.unshift(Yi.join("")),Fn=Qr.join(Z(ae,be)),Mr.length&&(Fn+=Z(ae,ke)+Mr.join("")),Bs&&(Fn+=Z(ae,g.Exponential)+"+"+Bs)}else Fn=Z(ae,g.Infinity);return Fn=ce<0&&!Wi?Ie.negPre+Fn+Ie.negSuf:Ie.posPre+Fn+Ie.posSuf,Fn}(ce,function Sn(ce,Ie="-"){const ae={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},be=ce.split(";"),ke=be[0],At=be[1],hn=-1!==ke.indexOf(".")?ke.split("."):[ke.substring(0,ke.lastIndexOf("0")+1),ke.substring(ke.lastIndexOf("0")+1)],Fn=hn[0],Wi=hn[1]||"";ae.posPre=Fn.substring(0,Fn.indexOf("#"));for(let Vi=0;Vi<Wi.length;Vi++){const li=Wi.charAt(Vi);"0"===li?ae.minFrac=ae.maxFrac=Vi+1:"#"===li?ae.maxFrac=Vi+1:ae.posSuf+=li}const Di=Fn.split(",");if(ae.gSize=Di[1]?Di[1].length:0,ae.lgSize=Di[2]||Di[1]?(Di[2]||Di[1]).length:0,At){const Vi=ke.length-ae.posPre.length-ae.posSuf.length,li=At.indexOf("#");ae.negPre=At.substring(0,li).replace(/'/g,""),ae.negSuf=At.slice(li+Vi).replace(/'/g,"")}else ae.negPre=Ie+ae.posPre,ae.negSuf=ae.posSuf;return ae}(function v(ce,Ie){return(0,t.H5H)(ce)[t.KH2.NumberFormats][Ie]}(Ie,e.Decimal),Z(Ie,g.MinusSign)),Ie,g.Group,g.Decimal,ae)}(function Wt(ce){if("string"==typeof ce&&!isNaN(Number(ce)-parseFloat(ce)))return Number(ce);if("number"!=typeof ce)throw new Error(`${ce} is not a number`);return ce}(ae),ke,be)}catch(At){throw Xn()}}static \u0275fac=function(be){return new(be||ce)(t.rXU(t.xe9,16))};static \u0275pipe=t.EJ8({name:"number",type:ce,pure:!0})}return ce})();let Pn=(()=>{class ce{transform(ae,be,ke){if(null==ae)return null;if("string"!=typeof ae&&!Array.isArray(ae))throw Xn();return ae.slice(be,ke)}static \u0275fac=function(be){return new(be||ce)};static \u0275pipe=t.EJ8({name:"slice",type:ce,pure:!1})}return ce})(),Bt=(()=>{class ce{static \u0275fac=function(be){return new(be||ce)};static \u0275mod=t.$C({type:ce});static \u0275inj=t.G2t({})}return ce})()},8455:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>m});var t=l(779),a=l(8416),p=l(7499),A=l(8018),e=l(8434),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({providers:[a.M,p.o],imports:[e.MD,t.Q_,A.h]})}}return D})()},8496:(ot,ve,l)=>{"use strict";function t(a,p){return a.reduce((A,e,w)=>(A[e]=p[w],A),{})}l.d(ve,{e:()=>t})},8521:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>g});var t=l(9417),a=l(534),p=l(3816),A=l(8018),e=l(8434),w=l(2571),m=l(8389),D=l(6843),S=l(1360);let g=(()=>{class k{static{this.\u0275fac=function(E){return new(E||k)}}static{this.\u0275mod=S.$C({type:k})}static{this.\u0275inj=S.G2t({imports:[e.MD,w.A,t.X1,p.jr,A.h,a.Ss,m.w,D.l]})}}return k})()},8556:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>w});var t=l(1594),a=l(1360),p=l(9156),A=l(9069),e=l(5424);let w=(()=>{class m{constructor(S,g,k){this.serviceProviderService=S,this.cache=g,this.errorService=k}uploadFile(S,g){return this.serviceProviderService.addSigningCertificateViaFile(S,g)}uploadViaMetaData(S,g){return this.serviceProviderService.addSigningCertificateViaMetadata(S,g)}updateCertCache(S){this.serviceProviderService.getServiceProvider(S).subscribe(g=>{this.cache.unsavedCache$.pipe((0,t.$)()).subscribe(k=>{k.signingCertificates=g.signingCertificates,this.cache.unsavedCache.next(k)})},g=>{this.errorService.handleError(g)})}static{this.\u0275fac=function(g){return new(g||m)(a.KVO(p.s),a.KVO(A.d),a.KVO(e.I))}}static{this.\u0275prov=a.jDH({token:m,factory:m.\u0275fac})}}return m})()},8575:(ot,ve,l)=>{"use strict";l.d(ve,{J:()=>t});class t{constructor(p,A){this.setupTitle=p,this.summaryTitle=A}}},8577:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>w,w:()=>m});var t=l(1360),a=l(1589),p=l(2390),A=l(923),e=l(9812);class w{get datePipe(){return this._datePipe}constructor(S=A.N.standardDate,g="Common.NoDateSet"){this._datePipe=new a.El,this.noDateLabel=g??"Common.NoDateSet",this._datePipe=(()=>{switch(S){case A.N.standardDate:return new a.El;case A.N.standardDateTime:return new a.r7;case A.N.prettyDateTime:return new a.sp;default:return new a.El}})()}}let m=(()=>{class D{constructor(g){this.dataTableService=g,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new t.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(g=>{null!=this.sort&&this.setSort(g)})}get dateColumn(){return"boolean"==typeof this.date?new w:this.date}format(g){return void 0!==this.formatter?this.formatter(g):g}get sortClass(){if(null==this.sort)return"";switch(this.sort){case p.u.None:return"fad fa-sort";case p.u.Ascending:return"fas fa-caret-up";case p.u.Descending:return"fas fa-caret-down"}}setSort(g){this.sort=g==this.prop?this.sort==p.u.Descending?p.u.Ascending:p.u.Descending:p.u.None}static{this.\u0275fac=function(k){return new(k||D)(t.rXU(e.I))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},standalone:!1,decls:0,vars:0,template:function(k,Y){},encapsulation:2})}}return D})()},8580:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>S});var t=l(983),a=l(6354),p=l(9437),A=l(8284),e=l(1360),w=l(3519),m=l(2947),D=l(5424);let S=(()=>{class g{constructor(Y,u,E){this.roleService=Y,this.router=u,this.errorService=E}resolve(Y,u){const E=Y.paramMap.get("id");return this.roleService.getRole(E).pipe((0,a.T)(B=>(B&&this.roleService.getCachedRole().next(B),B)),(0,p.W)((B,V)=>(404===B.status?this.errorService.resourceNotFound(A.v.role):this.errorService.handleError(B),(0,t.I)())))}static{this.\u0275fac=function(u){return new(u||g)(e.KVO(w.P),e.KVO(m.Ix),e.KVO(D.I))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},8588:(ot,ve,l)=>{var t=l(6589);l(1675),l(812),(ot.exports=t.pss=t.pss||{}).create=function(p){3===arguments.length&&(p={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var D,A=p.md,e=p.mgf,w=A.digestLength,m=p.salt||null;if("string"==typeof m&&(m=t.util.createBuffer(m)),"saltLength"in p)D=p.saltLength;else{if(null===m)throw new Error("Salt length not specified or specific salt not given.");D=m.length()}if(null!==m&&m.length()!==D)throw new Error("Given salt length does not match length of given salt.");var S=p.prng||t.random;return{encode:function(k,Y){var u,F,E=Y-1,B=Math.ceil(E/8),V=k.digest().getBytes();if(B<w+D+2)throw new Error("Message is too long to encrypt.");F=null===m?S.getBytesSync(D):m.bytes();var M=new t.util.ByteBuffer;M.fillWithByte(0,8),M.putBytes(V),M.putBytes(F),A.start(),A.update(M.getBytes());var W=A.digest().getBytes(),y=new t.util.ByteBuffer;y.fillWithByte(0,B-D-w-2),y.putByte(1),y.putBytes(F);var z=y.getBytes(),Z=B-w-1,v=e.generate(W,Z),L="";for(u=0;u<Z;u++)L+=String.fromCharCode(z.charCodeAt(u)^v.charCodeAt(u));var J=65280>>8*B-E&255;return(L=String.fromCharCode(L.charCodeAt(0)&~J)+L.substr(1))+W+"\xbc"},verify:function(k,Y,u){var E,B=u-1,V=Math.ceil(B/8);if(Y=Y.substr(-V),V<w+D+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==Y.charCodeAt(V-1))throw new Error("Encoded message does not end in 0xBC.");var F=V-w-1,M=Y.substr(0,F),W=Y.substr(F,w),y=65280>>8*V-B&255;if(M.charCodeAt(0)&y)throw new Error("Bits beyond keysize not zero as expected.");var z=e.generate(W,F),Z="";for(E=0;E<F;E++)Z+=String.fromCharCode(M.charCodeAt(E)^z.charCodeAt(E));Z=String.fromCharCode(Z.charCodeAt(0)&~y)+Z.substr(1);var v=V-w-D-2;for(E=0;E<v;E++)if(0!==Z.charCodeAt(E))throw new Error("Leftmost octets not zero as expected");if(1!==Z.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=Z.substr(-D),J=new t.util.ByteBuffer;return J.fillWithByte(0,8),J.putBytes(k),J.putBytes(L),A.start(),A.update(J.getBytes()),W===A.digest().getBytes()}}}},8645:(ot,ve,l)=>{var t=l(6589);l(57),l(7097),l(3674),l(1817),l(9368),l(8291),l(1675),l(812),l(9436);var a=t.asn1,p=ot.exports=t.pkcs7=t.pkcs7||{};function A(V){var F={},M=[];if(!a.validate(V,p.asn1.recipientInfoValidator,F,M)){var W=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw W.errors=M,W}return{version:F.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(F.issuer),serialNumber:t.util.createBuffer(F.serial).toHex(),encryptedContent:{algorithm:a.derToOid(F.encAlgorithm),parameter:F.encParameter?F.encParameter.value:void 0,content:F.encKey}}}function e(V){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(V.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:V.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.util.hexToBytes(V.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.encryptedContent.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.encryptedContent.content)])}function m(V){for(var F=[],M=0;M<V.length;++M)F.push(e(V[M]));return F}function S(V){var F=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(V.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:V.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.util.hexToBytes(V.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.digestAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])]);if(V.authenticatedAttributesAsn1&&F.value.push(V.authenticatedAttributesAsn1),F.value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.signatureAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),F.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.signature)),V.unauthenticatedAttributes.length>0){for(var M=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[]),W=0;W<V.unauthenticatedAttributes.length;++W)M.values.push(Y(V.unauthenticatedAttributes[W]));F.value.push(M)}return F}function Y(V){var F;if(V.type===t.pki.oids.contentType)F=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.value).getBytes());else if(V.type===t.pki.oids.messageDigest)F=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.value.bytes());else if(V.type===t.pki.oids.signingTime){var M=new Date("1950-01-01T00:00:00Z"),W=new Date("2050-01-01T00:00:00Z"),y=V.value;if("string"==typeof y){var z=Date.parse(y);y=isNaN(z)?13===y.length?a.utcTimeToDate(y):a.generalizedTimeToDate(y):new Date(z)}F=y>=M&&y<W?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(y)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(y))}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[F])])}function u(V){return[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.pki.oids.data).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.algorithm).getBytes()),V.parameter?a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.parameter.getBytes()):void 0]),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.content.getBytes())])]}function E(V,F,M){var W={};if(!a.validate(F,M,W,[])){var z=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw z.errors=z,z}if(a.derToOid(W.contentType)!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(W.encryptedContent){var v="";if(t.util.isArray(W.encryptedContent))for(var L=0;L<W.encryptedContent.length;++L){if(W.encryptedContent[L].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");v+=W.encryptedContent[L].value}else v=W.encryptedContent;V.encryptedContent={algorithm:a.derToOid(W.encAlgorithm),parameter:t.util.createBuffer(W.encParameter.value),content:t.util.createBuffer(v)}}if(W.content){if(v="",t.util.isArray(W.content))for(L=0;L<W.content.length;++L){if(W.content[L].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");v+=W.content[L].value}else v=W.content;V.content=t.util.createBuffer(v)}return V.version=W.version.charCodeAt(0),V.rawCapture=W,W}function B(V){if(void 0===V.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===V.content){var F;switch(V.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:F=t.aes.createDecryptionCipher(V.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:F=t.des.createDecryptionCipher(V.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+V.encryptedContent.algorithm)}if(F.start(V.encryptedContent.parameter),F.update(V.encryptedContent.content),!F.finish())throw new Error("Symmetric decryption failed.");V.content=F.output}}p.messageFromPem=function(V){var F=t.pem.decode(V)[0];if("PKCS7"!==F.type){var M=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw M.headerType=F.type,M}if(F.procType&&"ENCRYPTED"===F.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var W=a.fromDer(F.body);return p.messageFromAsn1(W)},p.messageToPem=function(V,F){var M={type:"PKCS7",body:a.toDer(V.toAsn1()).getBytes()};return t.pem.encode(M,{maxline:F})},p.messageFromAsn1=function(V){var F={},M=[];if(!a.validate(V,p.asn1.contentInfoValidator,F,M)){var W=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw W.errors=M,W}var z,y=a.derToOid(F.contentType);switch(y){case t.pki.oids.envelopedData:z=p.createEnvelopedData();break;case t.pki.oids.encryptedData:z=p.createEncryptedData();break;case t.pki.oids.signedData:z=p.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+y+" is not (yet) supported.")}return z.fromAsn1(F.content.value[0]),z},p.createSignedData=function(){var V=null;return V={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(W){if(E(V,W,p.asn1.signedDataValidator),V.certificates=[],V.crls=[],V.digestAlgorithmIdentifiers=[],V.contentInfo=null,V.signerInfos=[],V.rawCapture.certificates)for(var y=V.rawCapture.certificates.value,z=0;z<y.length;++z)V.certificates.push(t.pki.certificateFromAsn1(y[z]))},toAsn1:function(){V.contentInfo||V.sign();for(var W=[],y=0;y<V.certificates.length;++y)W.push(t.pki.certificateToAsn1(V.certificates[y]));var z=[],Z=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(V.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,V.digestAlgorithmIdentifiers),V.contentInfo])]);return W.length>0&&Z.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,W)),z.length>0&&Z.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,z)),Z.value[0].value.push(a.create(a.Class.UNIVERSAL,a.Type.SET,!0,V.signerInfos)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.type).getBytes()),Z])},addSigner:function(W){var y=W.issuer,z=W.serialNumber;if(W.certificate){var Z=W.certificate;"string"==typeof Z&&(Z=t.pki.certificateFromPem(Z)),y=Z.issuer.attributes,z=Z.serialNumber}var v=W.key;if(!v)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof v&&(v=t.pki.privateKeyFromPem(v));var L=W.digestAlgorithm||t.pki.oids.sha1;switch(L){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var J=W.authenticatedAttributes||[];if(J.length>0){for(var te=!1,N=!1,fe=0;fe<J.length;++fe){var oe=J[fe];if(te||oe.type!==t.pki.oids.contentType){if(N||oe.type!==t.pki.oids.messageDigest);else if(N=!0,te)break}else if(te=!0,N)break}if(!te||!N)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}V.signers.push({key:v,version:1,issuer:y,serialNumber:z,digestAlgorithm:L,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:J,unauthenticatedAttributes:[]})},sign:function(W){var y;if(W=W||{},"object"==typeof V.content&&null!==V.contentInfo||(V.contentInfo=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.pki.oids.data).getBytes())]),!("content"in V))||(V.content instanceof t.util.ByteBuffer?y=V.content.bytes():"string"==typeof V.content&&(y=t.util.encodeUtf8(V.content)),W.detached?V.detachedContent=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,y):V.contentInfo.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,y)]))),0!==V.signers.length){var z=function F(){for(var W={},y=0;y<V.signers.length;++y){var z=V.signers[y];(Z=z.digestAlgorithm)in W||(W[Z]=t.md[t.pki.oids[Z]].create()),z.md=0===z.authenticatedAttributes.length?W[Z]:t.md[t.pki.oids[Z]].create()}for(var Z in V.digestAlgorithmIdentifiers=[],W)V.digestAlgorithmIdentifiers.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(Z).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return W}();!function M(W){var y;if(V.detachedContent?y=V.detachedContent:y=(y=V.contentInfo.value[1]).value[0],!y)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var z=a.derToOid(V.contentInfo.value[0].value),Z=a.toDer(y);for(var v in Z.getByte(),a.getBerValueLength(Z),Z=Z.getBytes(),W)W[v].start().update(Z);for(var L=new Date,J=0;J<V.signers.length;++J){var te=V.signers[J];if(0===te.authenticatedAttributes.length){if(z!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{te.authenticatedAttributesAsn1=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var N=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[]),fe=0;fe<te.authenticatedAttributes.length;++fe){var oe=te.authenticatedAttributes[fe];oe.type===t.pki.oids.messageDigest?oe.value=W[te.digestAlgorithm].digest():oe.type===t.pki.oids.signingTime&&(oe.value||(oe.value=L)),N.value.push(Y(oe)),te.authenticatedAttributesAsn1.value.push(Y(oe))}Z=a.toDer(N).getBytes(),te.md.start().update(Z)}te.signature=te.key.sign(te.md,"RSASSA-PKCS1-V1_5")}V.signerInfos=function k(V){for(var F=[],M=0;M<V.length;++M)F.push(S(V[M]));return F}(V.signers)}(z)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(W){"string"==typeof W&&(W=t.pki.certificateFromPem(W)),V.certificates.push(W)},addCertificateRevokationList:function(W){throw new Error("PKCS#7 CRL support not yet implemented.")}}},p.createEncryptedData=function(){var V=null;return V={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(F){E(V,F,p.asn1.encryptedDataValidator)},decrypt:function(F){void 0!==F&&(V.encryptedContent.key=F),B(V)}}},p.createEnvelopedData=function(){var V=null;return V={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(F){var M=E(V,F,p.asn1.envelopedDataValidator);V.recipients=function w(V){for(var F=[],M=0;M<V.length;++M)F.push(A(V[M]));return F}(M.recipientInfos.value)},toAsn1:function(){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(V.type).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(V.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,m(V.recipients)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,u(V.encryptedContent))])])])},findRecipient:function(F){for(var M=F.issuer.attributes,W=0;W<V.recipients.length;++W){var y=V.recipients[W],z=y.issuer;if(y.serialNumber===F.serialNumber&&z.length===M.length){for(var Z=!0,v=0;v<M.length;++v)if(z[v].type!==M[v].type||z[v].value!==M[v].value){Z=!1;break}if(Z)return y}}return null},decrypt:function(F,M){if(void 0===V.encryptedContent.key&&void 0!==F&&void 0!==M)switch(F.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var W=M.decrypt(F.encryptedContent.content);V.encryptedContent.key=t.util.createBuffer(W);break;default:throw new Error("Unsupported asymmetric cipher, OID "+F.encryptedContent.algorithm)}B(V)},addRecipient:function(F){V.recipients.push({version:0,issuer:F.issuer.attributes,serialNumber:F.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:F.publicKey}})},encrypt:function(F,M){if(void 0===V.encryptedContent.content){var W,y,z;switch(F=F||V.encryptedContent.key,M=M||V.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:W=16,y=16,z=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:W=24,y=16,z=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:W=32,y=16,z=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:W=24,y=8,z=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+M)}if(void 0===F)F=t.util.createBuffer(t.random.getBytes(W));else if(F.length()!=W)throw new Error("Symmetric key has wrong length; got "+F.length()+" bytes, expected "+W+".");V.encryptedContent.algorithm=M,V.encryptedContent.key=F,V.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(y));var Z=z(F);if(Z.start(V.encryptedContent.parameter.copy()),Z.update(V.content),!Z.finish())throw new Error("Symmetric encryption failed.");V.encryptedContent.content=Z.output}for(var v=0;v<V.recipients.length;++v){var L=V.recipients[v];if(void 0===L.encryptedContent.content){if(L.encryptedContent.algorithm!==t.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm);L.encryptedContent.content=L.encryptedContent.key.encrypt(V.encryptedContent.key.data)}}}}}},8698:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>g});var t=l(1360),a=l(8434),p=l(8018);const A=["*"],e=k=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":k});function w(k,Y){if(1&k&&(t.nrm(0,"span",7),t.nI1(1,"translate")),2&k){const u=t.XpG(2);t.Y8G("innerHtml",t.bMT(1,1,u.helpText),t.npT)}}function m(k,Y){if(1&k&&(t.j41(0,"label",4)(1,"span",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,w,2,3,"span",6),t.k0s()),2&k){const u=t.XpG();t.Y8G("for",u.idFor),t.R7$(2),t.JRh(t.bMT(3,3,u.labelText)),t.R7$(2),t.Y8G("ngIf",u.showHelpText)}}function D(k,Y){if(1&k&&(t.nrm(0,"span",7),t.nI1(1,"translate")),2&k){const u=t.XpG(2);t.Y8G("innerHtml",t.bMT(1,1,u.helpText),t.npT)}}function S(k,Y){if(1&k&&(t.j41(0,"p",8)(1,"span",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,D,2,3,"span",6),t.k0s()),2&k){const u=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,u.labelText)),t.R7$(2),t.Y8G("ngIf",u.showHelpText)}}let g=(()=>{class k{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(E){return new(E||k)}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["app-form-row"]],inputs:{idFor:[0,"id","idFor"],labelText:[0,"label","labelText"],helpText:[0,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},standalone:!1,ngContentSelectors:A,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(E,B){1&E&&(t.NAR(),t.j41(0,"div",0),t.DNE(1,m,5,5,"label",1)(2,S,5,4,"p",2),t.j41(3,"div",3),t.SdG(4),t.k0s()()),2&E&&(t.Y8G("ngClass",t.eq3(3,e,B.isLast)),t.R7$(),t.Y8G("ngIf",B.idFor&&B.hasLabel),t.R7$(),t.Y8G("ngIf",!B.idFor&&B.hasLabel))},dependencies:[a.YU,a.bT,p.D9],encapsulation:2})}}return k})()},8750:(ot,ve,l)=>{"use strict";l.d(ve,{Tg:()=>u});var t=l(1635),a=l(7441),p=l(9858),A=l(1985),e=l(5055),w=l(7953),m=l(591),D=l(5397),S=l(5196),g=l(8071),k=l(5334),Y=l(3494);function u(z){if(z instanceof A.c)return z;if(null!=z){if((0,e.l)(z))return function E(z){return new A.c(Z=>{const v=z[Y.s]();if((0,g.T)(v.subscribe))return v.subscribe(Z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(z);if((0,a.X)(z))return function B(z){return new A.c(Z=>{for(let v=0;v<z.length&&!Z.closed;v++)Z.next(z[v]);Z.complete()})}(z);if((0,p.y)(z))return function V(z){return new A.c(Z=>{z.then(v=>{Z.closed||(Z.next(v),Z.complete())},v=>Z.error(v)).then(null,k.m)})}(z);if((0,w.T)(z))return M(z);if((0,D.x)(z))return function F(z){return new A.c(Z=>{for(const v of z)if(Z.next(v),Z.closed)return;Z.complete()})}(z);if((0,S.U)(z))return function W(z){return M((0,S.C)(z))}(z)}throw(0,m.L)(z)}function M(z){return new A.c(Z=>{(function y(z,Z){var v,L,J,te;return(0,t.sH)(this,void 0,void 0,function*(){try{for(v=(0,t.xN)(z);!(L=yield v.next()).done;)if(Z.next(L.value),Z.closed)return}catch(N){J={error:N}}finally{try{L&&!L.done&&(te=v.return)&&(yield te.call(v))}finally{if(J)throw J.error}}Z.complete()})})(z,Z).catch(v=>Z.error(v))})}},8762:(ot,ve,l)=>{"use strict";l.d(ve,{O:()=>te});var t=l(6303),a=l(1088),p=l(1360),A=l(8434),e=l(8018);function w(N,fe){if(1&N&&(p.j41(0,"div")(1,"p",4),p.EFF(2),p.k0s()()),2&N){const oe=p.XpG(3);p.R7$(2),p.JRh(oe.displayValue)}}function m(N,fe){if(1&N&&(p.j41(0,"div"),p.DNE(1,w,3,1,"div",2),p.k0s()),2&N){const oe=p.XpG(2),R=p.sdS(2);p.R7$(),p.Y8G("ngIf",oe.displayValue)("ngIfElse",R)}}function D(N,fe){if(1&N&&(p.j41(0,"div",10),p.EFF(1),p.j41(2,"small",11),p.EFF(3),p.k0s()()),2&N){const oe=p.XpG(),R=oe.$implicit;p.Y8G("id","multiMainText"+oe.i),p.R7$(),p.SpI(" ",R.MainText," "),p.R7$(2),p.JRh(R.HelpText)}}function S(N,fe){if(1&N&&(p.j41(0,"li",8),p.DNE(1,D,4,3,"div",9),p.k0s()),2&N){const oe=fe.$implicit;p.XpG(3);const R=p.sdS(2);p.R7$(),p.Y8G("ngIf",oe.MainText)("ngIfElse",R)}}function g(N,fe){if(1&N&&(p.j41(0,"div")(1,"div",5)(2,"ul",6),p.DNE(3,S,2,2,"li",7),p.k0s()()()),2&N){const oe=p.XpG(2);p.R7$(3),p.Y8G("ngForOf",oe.filteredValues)}}function k(N,fe){1&N&&p.nrm(0,"div")}function Y(N,fe){if(1&N&&(p.j41(0,"p",22),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.years," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.years,"Year"))," ")}}function u(N,fe){if(1&N&&(p.j41(0,"p",23),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.months," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.months,"Month"))," ")}}function E(N,fe){if(1&N&&(p.j41(0,"p",24),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.weeks," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.weeks,"Week"))," ")}}function B(N,fe){if(1&N&&(p.j41(0,"p",25),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.days," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.days,"Day"))," ")}}function V(N,fe){if(1&N&&(p.j41(0,"p",26),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.hours," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.hours,"Hour"))," ")}}function F(N,fe){if(1&N&&(p.j41(0,"p",27),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.minutes," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.minutes,"Minute"))," ")}}function M(N,fe){if(1&N&&(p.j41(0,"span",28),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&N){const oe=p.XpG(5);p.R7$(),p.Lme(" ",oe.timeSpan.seconds," ",p.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.seconds,"Second"))," ")}}function W(N,fe){if(1&N&&(p.j41(0,"div")(1,"div",13),p.DNE(2,Y,3,4,"p",14)(3,u,3,4,"p",15)(4,E,3,4,"p",16)(5,B,3,4,"p",17)(6,V,3,4,"p",18)(7,F,3,4,"p",19)(8,M,3,4,"span",20),p.k0s(),p.j41(9,"small",21),p.EFF(10),p.k0s()()),2&N){const oe=p.XpG(4);p.R7$(2),p.Y8G("ngIf",oe.timeSpan.years>0),p.R7$(),p.Y8G("ngIf",oe.timeSpan.months>0),p.R7$(),p.Y8G("ngIf",oe.timeSpan.weeks>0),p.R7$(),p.Y8G("ngIf",oe.timeSpan.days>0),p.R7$(),p.Y8G("ngIf",oe.timeSpan.hours>0),p.R7$(),p.Y8G("ngIf",oe.timeSpan.minutes>0),p.R7$(),p.Y8G("ngIf",oe.timeSpan.seconds>0),p.R7$(2),p.JRh(oe.values[0].MainText)}}function y(N,fe){1&N&&(p.j41(0,"div")(1,"p",29),p.EFF(2),p.nI1(3,"translate"),p.k0s()()),2&N&&(p.R7$(2),p.Lme("",0," ",p.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function z(N,fe){1&N&&(p.j41(0,"div")(1,"p",30),p.EFF(2),p.nI1(3,"translate"),p.k0s()()),2&N&&(p.R7$(2),p.JRh(p.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function Z(N,fe){if(1&N&&p.DNE(0,W,11,8,"div",3)(1,y,4,4,"div",3)(2,z,4,3,"div",3),2&N){const oe=p.XpG(3);p.Y8G("ngIf","Unlimited"!=oe.values[0].MainText&&0!==oe.values[0].MainText&&"0"!==oe.values[0].MainText),p.R7$(),p.Y8G("ngIf",0===oe.values[0].MainText||"0"===oe.values[0].MainText),p.R7$(),p.Y8G("ngIf","Unlimited"==oe.values[0].MainText)}}function v(N,fe){if(1&N&&(p.j41(0,"div"),p.DNE(1,k,1,0,"div",12)(2,Z,3,3,"ng-template",null,1,p.C5r),p.k0s()),2&N){const oe=p.sdS(3),R=p.XpG(2),Pe=p.sdS(2);p.R7$(),p.Y8G("ngIf",null==R.values[0].MainText)("ngIfThen",Pe)("ngIfElse",oe)}}function L(N,fe){if(1&N&&(p.j41(0,"div"),p.DNE(1,m,2,2,"div",3)(2,g,4,1,"div",3)(3,v,4,3,"div",3),p.k0s()),2&N){const oe=p.XpG();p.R7$(),p.Y8G("ngIf",oe.fieldType==oe.ReadOnlyFieldType.Single||oe.fieldType==oe.ReadOnlyFieldType.CommaSeparated),p.R7$(),p.Y8G("ngIf",oe.fieldType==oe.ReadOnlyFieldType.Multi),p.R7$(),p.Y8G("ngIf",oe.fieldType==oe.ReadOnlyFieldType.LifetimePicker)}}function J(N,fe){if(1&N&&(p.j41(0,"div")(1,"p",31),p.EFF(2),p.nI1(3,"translate"),p.k0s()()),2&N){const oe=p.XpG();p.R7$(2),p.SpI(" ",p.bMT(3,1,oe.noValueString)," ")}}let te=(()=>{class N{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(oe){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==t.t.Single||this.fieldType==t.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(oe=>null!=oe),this.filteredValues.length<1)||(this.fieldType===t.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===t.t.CommaSeparated?this.displayValue=this.filteredValues.map(oe=>oe.MainText).join(", ").trimEnd():this.fieldType===t.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new a.Q(+this.values[0].MainText)))}displayTimeSpanUnit(oe,R){return"Clients.Tokens.Durations."+R+(oe>1?"s":"")}get ReadOnlyFieldType(){return t.t}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275cmp=p.VBU({type:N,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},standalone:!1,features:[p.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(R,Pe){if(1&R&&p.DNE(0,L,4,3,"div",2)(1,J,4,3,"ng-template",null,0,p.C5r),2&R){const Te=p.sdS(2);p.Y8G("ngIf",(null==Pe.filteredValues?null:Pe.filteredValues.length)>0)("ngIfElse",Te)}},dependencies:[A.Sq,A.bT,e.D9],encapsulation:2})}}return N})()},8788:(ot,ve,l)=>{var t=l(6589);l(812),l(1675),l(8825);var a=ot.exports=t.pkcs1=t.pkcs1||{};function p(A,e,w){w||(w=t.md.sha1.create());for(var m="",D=Math.ceil(e/w.digestLength),S=0;S<D;++S){var g=String.fromCharCode(S>>24&255,S>>16&255,S>>8&255,255&S);w.start(),w.update(A+g),m+=w.digest().getBytes()}return m.substring(0,e)}a.encode_rsa_oaep=function(A,e,w){var m,D,S,g;"string"==typeof w?(m=w,D=arguments[3]||void 0,S=arguments[4]||void 0):w&&(m=w.label||void 0,D=w.seed||void 0,S=w.md||void 0,w.mgf1&&w.mgf1.md&&(g=w.mgf1.md)),S?S.start():S=t.md.sha1.create(),g||(g=S);var k=Math.ceil(A.n.bitLength()/8),Y=k-2*S.digestLength-2;if(e.length>Y)throw(u=new Error("RSAES-OAEP input message length is too long.")).length=e.length,u.maxLength=Y,u;m||(m=""),S.update(m,"raw");for(var E=S.digest(),B="",V=Y-e.length,F=0;F<V;F++)B+="\0";var M=E.getBytes()+B+"\x01"+e;if(D){if(D.length!==S.digestLength){var u;throw(u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=D.length,u.digestLength=S.digestLength,u}}else D=t.random.getBytes(S.digestLength);var W=p(D,k-S.digestLength-1,g),y=t.util.xorBytes(M,W,M.length),z=p(y,S.digestLength,g);return"\0"+t.util.xorBytes(D,z,D.length)+y},a.decode_rsa_oaep=function(A,e,w){var m,D,S;"string"==typeof w?(m=w,D=arguments[3]||void 0):w&&(m=w.label||void 0,D=w.md||void 0,w.mgf1&&w.mgf1.md&&(S=w.mgf1.md));var g=Math.ceil(A.n.bitLength()/8);if(e.length!==g)throw(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,y.expectedLength=g,y;if(void 0===D?D=t.md.sha1.create():D.start(),S||(S=D),g<2*D.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");m||(m=""),D.update(m,"raw");for(var k=D.digest().getBytes(),Y=e.charAt(0),u=e.substring(1,D.digestLength+1),E=e.substring(1+D.digestLength),B=p(E,D.digestLength,S),F=p(t.util.xorBytes(u,B,u.length),g-D.digestLength-1,S),M=t.util.xorBytes(E,F,E.length),W=M.substring(0,D.digestLength),y="\0"!==Y,z=0;z<D.digestLength;++z)y|=k.charAt(z)!==W.charAt(z);for(var Z=1,v=D.digestLength,L=D.digestLength;L<M.length;L++){var J=M.charCodeAt(L);y|=J&(Z?65534:0),v+=Z&=1&J^1}if(y||1!==M.charCodeAt(v))throw new Error("Invalid RSAES-OAEP padding.");return M.substring(v+1)}},8793:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>e});var t=l(6365),p=l(9326),A=l(6648);function e(...w){return function a(){return(0,t.U)(1)}()((0,A.H)(w,(0,p.lI)(w)))}},8810:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>p});var t=l(1985),a=l(8071);function p(A,e){const w=(0,a.T)(A)?A:()=>A,m=D=>D.error(w());return new t.c(e?D=>e.schedule(m,0,D):m)}},8825:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var a=ot.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=a,a.create=function(){A||function e(){p="\x80",p+=t.util.fillString("\0",64),A=!0}();var m=null,D=t.util.createBuffer(),S=new Array(80),g={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){g.messageLength=0,g.fullMessageLength=g.messageLength64=[];for(var k=g.messageLengthSize/4,Y=0;Y<k;++Y)g.fullMessageLength.push(0);return D=t.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},g}};return g.start(),g.update=function(k,Y){"utf8"===Y&&(k=t.util.encodeUtf8(k));var u=k.length;g.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var E=g.fullMessageLength.length-1;E>=0;--E)g.fullMessageLength[E]+=u[1],u[1]=u[0]+(g.fullMessageLength[E]/4294967296>>>0),g.fullMessageLength[E]=g.fullMessageLength[E]>>>0,u[0]=u[1]/4294967296>>>0;return D.putBytes(k),w(m,S,D),(D.read>2048||0===D.length())&&D.compact(),g},g.digest=function(){var k=t.util.createBuffer();k.putBytes(D.bytes()),k.putBytes(p.substr(0,g.blockLength-(g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize&g.blockLength-1)));for(var E,V=8*g.fullMessageLength[0],F=0;F<g.fullMessageLength.length-1;++F)k.putInt32((V+=(E=8*g.fullMessageLength[F+1])/4294967296>>>0)>>>0),V=E>>>0;k.putInt32(V);var M={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3,h4:m.h4};w(M,S,k);var W=t.util.createBuffer();return W.putInt32(M.h0),W.putInt32(M.h1),W.putInt32(M.h2),W.putInt32(M.h3),W.putInt32(M.h4),W},g};var p=null,A=!1;function w(m,D,S){for(var g,k,Y,u,E,B,F,M=S.length();M>=64;){for(k=m.h0,Y=m.h1,u=m.h2,E=m.h3,B=m.h4,F=0;F<16;++F)g=S.getInt32(),D[F]=g,g=(k<<5|k>>>27)+(E^Y&(u^E))+B+1518500249+g,B=E,E=u,u=(Y<<30|Y>>>2)>>>0,Y=k,k=g;for(;F<20;++F)D[F]=g=(g=D[F-3]^D[F-8]^D[F-14]^D[F-16])<<1|g>>>31,g=(k<<5|k>>>27)+(E^Y&(u^E))+B+1518500249+g,B=E,E=u,u=(Y<<30|Y>>>2)>>>0,Y=k,k=g;for(;F<32;++F)D[F]=g=(g=D[F-3]^D[F-8]^D[F-14]^D[F-16])<<1|g>>>31,g=(k<<5|k>>>27)+(Y^u^E)+B+1859775393+g,B=E,E=u,u=(Y<<30|Y>>>2)>>>0,Y=k,k=g;for(;F<40;++F)D[F]=g=(g=D[F-6]^D[F-16]^D[F-28]^D[F-32])<<2|g>>>30,g=(k<<5|k>>>27)+(Y^u^E)+B+1859775393+g,B=E,E=u,u=(Y<<30|Y>>>2)>>>0,Y=k,k=g;for(;F<60;++F)D[F]=g=(g=D[F-6]^D[F-16]^D[F-28]^D[F-32])<<2|g>>>30,g=(k<<5|k>>>27)+(Y&u|E&(Y^u))+B+2400959708+g,B=E,E=u,u=(Y<<30|Y>>>2)>>>0,Y=k,k=g;for(;F<80;++F)D[F]=g=(g=D[F-6]^D[F-16]^D[F-28]^D[F-32])<<2|g>>>30,g=(k<<5|k>>>27)+(Y^u^E)+B+3395469782+g,B=E,E=u,u=(Y<<30|Y>>>2)>>>0,Y=k,k=g;m.h0=m.h0+k|0,m.h1=m.h1+Y|0,m.h2=m.h2+u|0,m.h3=m.h3+E|0,m.h4=m.h4+B|0,M-=64}}},8892:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>p});var t=l(1360),a=l(9686);let p=(()=>{class A{constructor(w){this.fileDownloader=w,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(w){const m=this.actionUrl+"/specified",D=new Map;D.set("clientIds",w.join(",")),this.fileDownloader.buildFormWithCustomInputs(m,D).submitForm()}static{this.\u0275fac=function(m){return new(m||A)(t.KVO(a.D))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac})}}return A})()},8906:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>m});var t=l(8434),a=l(8389),p=l(9417),A=l(8018),e=l(3843),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,p.YN,p.X1,a.w,A.h,e.G]})}}return D})()},8939:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>D});var t=l(983),a=l(6354),p=l(9437),A=l(8284),e=l(1360),w=l(526),m=l(5424);let D=(()=>{class S{constructor(k,Y){this.claimTypeService=k,this.errorService=Y}resolve(k,Y){return this.claimTypeService.getClaimType(k.params.id).pipe((0,a.T)(E=>(E&&this.claimTypeService.getCachedClaimType().next(E),E)),(0,p.W)((E,B)=>(404===E.status?this.errorService.resourceNotFound(A.v.claimType):this.errorService.handleError(E),(0,t.I)())))}static{this.\u0275fac=function(Y){return new(Y||S)(e.KVO(w.X),e.KVO(m.I))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},9030:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>p});var t=l(1985),a=l(8750);function p(A){return new t.c(e=>{(0,a.Tg)(A()).subscribe(e)})}},9069:(ot,ve,l)=>{"use strict";l.d(ve,{d:()=>p});var t=l(4412),a=l(1360);let p=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},9113:(ot,ve,l)=>{"use strict";l.d(ve,{Hh:()=>w,SD:()=>e,qJ:()=>A});var t=l(1360),a=l(3165),p=l(9564);let A=(()=>{class D{constructor(g,k){this.http=g,this.headersService=k,this.actionUrl="clients/import"}validateImportFile(g){const u=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,g,{headers:u})}completeImport(g,k){const Y=this.appendImportConfiguration(g,k),E=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,Y,{headers:E})}appendImportConfiguration(g,k){const Y=JSON.parse(g);return Y.importConfiguration={clients:k.clients,protectedResources:k.protectedResources},JSON.stringify(Y)}static{this.\u0275fac=function(k){return new(k||D)(t.KVO(a.Qq),t.KVO(p.m))}}static{this.\u0275prov=t.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class e{}class w{constructor(){this.certificates=new m}}class m{}},9115:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>F});var t=l(8434),a=l(779),p=l(8018),A=l(9417),e=l(1683),w=l(8389),m=l(6599),D=l(2334),S=l(7677),g=l(8455),k=l(1993),Y=l(4367),u=l(9947),E=l(4193),B=l(5731),V=l(1360);let F=(()=>{class M{static{this.\u0275fac=function(z){return new(z||M)}}static{this.\u0275mod=V.$C({type:M})}static{this.\u0275inj=V.G2t({imports:[t.MD,A.YN,A.X1,a.Q_,p.h,e.Y,w.w,m.Y,D.ClaimTypesModule,S.N,g.p,k.E,Y.N,u.a,E.c,B.i]})}}return M})()},9156:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>m});var t=l(2771),a=l(5312),p=l(1410),A=l(1360),e=l(3165),w=l(9564);let m=(()=>{class D{constructor(g,k){this.http=g,this.headersService=k,this.ServiceProviderSubject=new t.m(1),this.actionUrl=a.c.authServer==p.y.OpenIddict?"application/clients":"clients",this.headers=k.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(g){return this.http.get(`${this.actionUrl}/${g}/saml`,{headers:this.headers})}updateServiceProvider(g,k){const Y=`${this.actionUrl}/${g}/saml`,u={allowIdpInitiatedSso:k.allowIdpInitiatedSso,assertionConsumerServices:k.assertionConsumerServices,artifactResolutionServices:k.artifactResolutionServices,claimMappings:k.claimMappings,encryptAssertions:k.encryptAssertions,requireSamlMessageDestination:k.requireSamlMessageDestination,signAssertions:k.signAssertions,singleLogoutServices:k.singleLogoutServices,requireAuthenticationRequestsSigned:k.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:k.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:k.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:k.requireSignedArtifactResponses,nameIdentifierFormat:k.nameIdentifierFormat},E=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(Y,u,{headers:E})}setEncryptionCertificateViaFile(g,k){const Y=`${this.actionUrl}/${g}/saml/certificates/encryption`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(Y,u,{headers:E})}setEncryptionCertificateViaMetadata(g,k){const Y=`${this.actionUrl}/${g}/saml/certificates/encryption`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(Y,u,{headers:E})}deleteEncryptionCertificate(g){return this.http.delete(`${this.actionUrl}/${g}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(g,k){const Y=`${this.actionUrl}/${g}/saml/certificates/signing`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(Y,u,{headers:E})}addSigningCertificateViaMetadata(g,k){const Y=`${this.actionUrl}/${g}/saml/certificates/signing`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(Y,u,{headers:E})}deleteSigningCertificate(g,k){return this.http.delete(`${this.actionUrl}/${g}/saml/certificates/signing/${k}`,{headers:this.headers})}static{this.\u0275fac=function(k){return new(k||D)(A.KVO(e.Qq),A.KVO(w.m))}}static{this.\u0275prov=A.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},9172:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>A});var t=l(8793),a=l(9326),p=l(9974);function A(...e){const w=(0,a.lI)(e);return(0,p.N)((m,D)=>{(w?(0,t.x)(e,m,w):(0,t.x)(e,m)).subscribe(D)})}},9196:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>k});var t=l(3165),a=l(7673),p=l(1413),A=l(978);function w(Y){return{...Y,dynamicAuthenticationFlag:A.U[Y.dynamicAuthenticationFlag]}}class S{constructor(){this.enableAuditing=!0,this.customGrantTypes=[],this.requireEmailInUsers=!0}}var g=l(1360);let k=(()=>{class Y{constructor(E){this.http=E,this.headers=new t.Lr,this.actionUrl="UIConfiguration"}getConfig(E=!1){const B=new S;if(B.resetPasswordConfigured=!1,B.resetMfaConfigured=!1,B.policyPersistence=!1,B.webhookPersistence=!1,B.featureFlagOptions=new A.D,B.supportedLanguages=[],this.uiOptions&&!E)return(0,a.of)(this.uiOptions);const V=new p.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:F=>{this.uiOptions=function D(Y){return{...Y,featureFlagOptions:w(Y.featureFlagOptions)}}(F),V.next(this.uiOptions)},error:F=>V.next(B)}),V.asObservable()}static{this.\u0275fac=function(B){return new(B||Y)(g.KVO(t.Qq))}}static{this.\u0275prov=g.jDH({token:Y,factory:Y.\u0275fac})}}return Y})()},9216:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>D});var t=l(1360),a=l(779),p=l(8018);const A=["simpleModal"],e=[[["","body",""]],[["","footer",""]]],w=["[body]","[footer]"],m=()=>({backdrop:"static",animated:!1});let D=(()=>{class S{constructor(){this.type=null,this.inFlight=!1,this.close=new t.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(Y){return new(Y||S)}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["app-simple-modal"]],viewQuery:function(Y,u){if(1&Y&&t.GBs(A,7),2&Y){let E;t.mGM(E=t.lsd())&&(u.simpleModal=E.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},standalone:!1,ngContentSelectors:w,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(Y,u){if(1&Y){const E=t.RV6();t.NAR(e),t.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(E),t.Njj(u.closeModal())}),t.nrm(9,"span",6),t.j41(10,"span",7),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",8),t.SdG(14),t.k0s(),t.j41(15,"div",9),t.SdG(16,1),t.k0s()()()()}if(2&Y){let E;t.Y8G("id",null!==(E=u.modalId)&&void 0!==E?E:"simpleModel")("config",t.lJ4(12,m)),t.R7$(2),t.ZvI("modal-dialog",u.modalType,""),t.R7$(4),t.JRh(t.bMT(7,8,u.title)),t.R7$(2),t.Y8G("id",u.modalId+"-closeBtn"),t.R7$(3),t.JRh(t.bMT(12,10,"Common.Close"))}},dependencies:[a.hZ,p.D9],encapsulation:2})}}return S})()},9228:(ot,ve,l)=>{ot.exports=l(5437),l(4846),l(8825),l(2507),l(1290)},9262:(ot,ve,l)=>{"use strict";l.d(ve,{Wk:()=>Qn,wQ:()=>vi,iI:()=>Vi});var t=l(1482),a=l(1360),p=l(9361);let w=(()=>{class Dt{static \u0275prov=(0,a.jDH)({token:Dt,providedIn:"root",factory:()=>new m((0,a.WQX)(p.q),window)})}return Dt})();class m{document;window;offset=()=>[0,0];constructor(un,Vt){this.document=un,this.window=Vt}setOffset(un){this.offset=Array.isArray(un)?()=>un:un}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(un){this.window.scrollTo(un[0],un[1])}scrollToAnchor(un){const Vt=function D(Dt,un){const Vt=Dt.getElementById(un)||Dt.getElementsByName(un)[0];if(Vt)return Vt;if("function"==typeof Dt.createTreeWalker&&Dt.body&&"function"==typeof Dt.body.attachShadow){const pn=Dt.createTreeWalker(Dt.body,NodeFilter.SHOW_ELEMENT);let Jn=pn.currentNode;for(;Jn;){const yi=Jn.shadowRoot;if(yi){const pi=yi.getElementById(un)||yi.querySelector(`[name="${un}"]`);if(pi)return pi}Jn=pn.nextNode()}}return null}(this.document,un);Vt&&(this.scrollToElement(Vt),Vt.focus())}setHistoryScrollRestoration(un){this.window.history.scrollRestoration=un}scrollToElement(un){const Vt=un.getBoundingClientRect(),pn=Vt.left+this.window.pageXOffset,Jn=Vt.top+this.window.pageYOffset,yi=this.offset();this.window.scrollTo(pn-yi[0],Jn-yi[1])}}var Vn=l(8434),on=l(2947),Xn=l(1413),qn=l(7673),Gt=l(6648),oi=l(6365),zt=l(5964),Un=l(274),fn=l(1397);let Qn=(()=>{class Dt{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xn.B;constructor(Vt,pn,Jn,yi,pi,js){this.router=Vt,this.route=pn,this.tabIndexAttribute=Jn,this.renderer=yi,this.el=pi,this.locationStrategy=js;const Ts=pi.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ts||"area"===Ts,this.isAnchorElement?this.subscription=Vt.events.subscribe(Hr=>{Hr instanceof on.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Vt){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Vt)}ngOnChanges(Vt){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Vt){null==Vt?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,on.wO)(Vt)||Array.isArray(Vt)?Vt:[Vt],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Vt,pn,Jn,yi,pi){const js=this.urlTree;return!!(null===js||this.isAnchorElement&&(0!==Vt||pn||Jn||yi||pi||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(js,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Vt=this.urlTree;this.href=null!==Vt&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Vt)):null;const pn=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",pn)}applyAttributeValue(Vt,pn){const Jn=this.renderer,yi=this.el.nativeElement;null!==pn?Jn.setAttribute(yi,Vt,pn):Jn.removeAttribute(yi,Vt)}get urlTree(){return null===this.routerLinkInput?null:(0,on.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(pn){return new(pn||Dt)(a.rXU(on.Ix),a.rXU(on.nX),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(t.hb))};static \u0275dir=a.FsC({type:Dt,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(pn,Jn){1&pn&&a.bIt("click",function(pi){return Jn.onClick(pi.button,pi.ctrlKey,pi.shiftKey,pi.altKey,pi.metaKey)}),2&pn&&a.BMQ("target",Jn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",a.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",a.L39],replaceUrl:[2,"replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},features:[a.OA$]})}return Dt})(),vi=(()=>{class Dt{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new a.bkB;constructor(Vt,pn,Jn,yi,pi){this.router=Vt,this.element=pn,this.renderer=Jn,this.cdr=yi,this.link=pi,this.routerEventsSubscription=Vt.events.subscribe(js=>{js instanceof on.wF&&this.update()})}ngAfterContentInit(){(0,qn.of)(this.links.changes,(0,qn.of)(null)).pipe((0,oi.U)()).subscribe(Vt=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Vt=[...this.links.toArray(),this.link].filter(pn=>!!pn).map(pn=>pn.onChanges);this.linkInputChangesSubscription=(0,Gt.H)(Vt).pipe((0,oi.U)()).subscribe(pn=>{this._isActive!==this.isLinkActive(this.router)(pn)&&this.update()})}set routerLinkActive(Vt){const pn=Array.isArray(Vt)?Vt:Vt.split(" ");this.classes=pn.filter(Jn=>!!Jn)}ngOnChanges(Vt){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Vt=this.hasActiveLinks();this.classes.forEach(pn=>{Vt?this.renderer.addClass(this.element.nativeElement,pn):this.renderer.removeClass(this.element.nativeElement,pn)}),Vt&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Vt&&(this._isActive=Vt,this.cdr.markForCheck(),this.isActiveChange.emit(Vt))})}isLinkActive(Vt){const pn=function Fe(Dt){return!!Dt.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Jn=>{const yi=Jn.urlTree;return!!yi&&Vt.isActive(yi,pn)}}hasActiveLinks(){const Vt=this.isLinkActive(this.router);return this.link&&Vt(this.link)||this.links.some(Vt)}static \u0275fac=function(pn){return new(pn||Dt)(a.rXU(on.Ix),a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(a.gRc),a.rXU(Qn,8))};static \u0275dir=a.FsC({type:Dt,selectors:[["","routerLinkActive",""]],contentQueries:function(pn,Jn,yi){if(1&pn&&a.wni(yi,Qn,5),2&pn){let pi;a.mGM(pi=a.lsd())&&(Jn.links=pi)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[a.OA$]})}return Dt})();class Ze{}let Xt=(()=>{class Dt{router;injector;preloadingStrategy;loader;subscription;constructor(Vt,pn,Jn,yi){this.router=Vt,this.injector=pn,this.preloadingStrategy=Jn,this.loader=yi}setUpPreloading(){this.subscription=this.router.events.pipe((0,zt.p)(Vt=>Vt instanceof on.wF),(0,Un.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Vt,pn){const Jn=[];for(const yi of pn){yi.providers&&!yi._injector&&(yi._injector=(0,a.Ol2)(yi.providers,Vt,`Route: ${yi.path}`));const pi=yi._injector??Vt,js=yi._loadedInjector??pi;(yi.loadChildren&&!yi._loadedRoutes&&void 0===yi.canLoad||yi.loadComponent&&!yi._loadedComponent)&&Jn.push(this.preloadConfig(pi,yi)),(yi.children||yi._loadedRoutes)&&Jn.push(this.processRoutes(js,yi.children??yi._loadedRoutes))}return(0,Gt.H)(Jn).pipe((0,oi.U)())}preloadConfig(Vt,pn){return this.preloadingStrategy.preload(pn,()=>{let Jn;Jn=pn.loadChildren&&void 0===pn.canLoad?this.loader.loadChildren(Vt,pn):(0,qn.of)(null);const yi=Jn.pipe((0,fn.Z)(pi=>null===pi?(0,qn.of)(void 0):(pn._loadedRoutes=pi.routes,pn._loadedInjector=pi.injector,this.processRoutes(pi.injector??Vt,pi.routes))));if(pn.loadComponent&&!pn._loadedComponent){const pi=this.loader.loadComponent(pn);return(0,Gt.H)([yi,pi]).pipe((0,oi.U)())}return yi})}static \u0275fac=function(pn){return new(pn||Dt)(a.KVO(on.Ix),a.KVO(a.uvJ),a.KVO(Ze),a.KVO(on.D$))};static \u0275prov=a.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const Mn=new a.nKC("");let hi=(()=>{class Dt{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Vt,pn,Jn,yi,pi={}){this.urlSerializer=Vt,this.transitions=pn,this.viewportScroller=Jn,this.zone=yi,this.options=pi,pi.scrollPositionRestoration||="disabled",pi.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Vt=>{Vt instanceof on.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Vt.navigationTrigger,this.restoredId=Vt.restoredState?Vt.restoredState.navigationId:0):Vt instanceof on.wF?(this.lastId=Vt.id,this.scheduleScrollEvent(Vt,this.urlSerializer.parse(Vt.urlAfterRedirects).fragment)):Vt instanceof on.lW&&Vt.code===on.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Vt,this.urlSerializer.parse(Vt.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Vt=>{Vt instanceof on.OY&&(Vt.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Vt.position):Vt.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Vt.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Vt,pn){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new on.OY(Vt,"popstate"===this.lastSource?this.store[this.restoredId]:null,pn))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(pn){a.QTQ()};static \u0275prov=a.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();function Ki(Dt,un){return{\u0275kind:Dt,\u0275providers:un}}function Et(){const Dt=(0,a.WQX)(a.zZn);return un=>{const Vt=Dt.get(a.o8S);if(un!==Vt.components[0])return;const pn=Dt.get(on.Ix),Jn=Dt.get(vn);1===Dt.get(Wt)&&pn.initialNavigation(),Dt.get(ce,null,a.$GK.Optional)?.setUpPreloading(),Dt.get(Mn,null,a.$GK.Optional)?.init(),pn.resetRootComponentType(Vt.componentTypes[0]),Jn.closed||(Jn.next(),Jn.complete(),Jn.unsubscribe())}}const vn=new a.nKC("",{factory:()=>new Xn.B}),Wt=new a.nKC("",{providedIn:"root",factory:()=>1}),ce=new a.nKC("");function Ie(Dt){return Ki(0,[{provide:ce,useExisting:Xt},{provide:Ze,useExisting:Dt}])}function hn(Dt){return(0,a.ngT)("NgRouterViewTransitions"),Ki(9,[{provide:on.Pu,useValue:on.Lg},{provide:on.bK,useValue:{skipNextTransition:!!Dt?.skipInitialTransition,...Dt}}])}const Di=[t.aZ,{provide:on.Sd,useClass:on.nU},on.Ix,on.Zp,{provide:on.nX,useFactory:function Nn(Dt){return Dt.routerState.root},deps:[on.Ix]},on.D$,[]];let Vi=(()=>{class Dt{constructor(){}static forRoot(Vt,pn){return{ngModule:Dt,providers:[Di,[],{provide:on.bw,multi:!0,useValue:Vt},[],pn?.errorHandler?{provide:on.XR,useValue:pn.errorHandler}:[],{provide:on.J_,useValue:pn||{}},pn?.useHash?{provide:t.hb,useClass:Vn.fw}:{provide:t.hb,useClass:t.Sm},{provide:Mn,useFactory:()=>{const Dt=(0,a.WQX)(w),un=(0,a.WQX)(a.SKi),Vt=(0,a.WQX)(on.J_),pn=(0,a.WQX)(on.J2),Jn=(0,a.WQX)(on.Sd);return Vt.scrollOffset&&Dt.setOffset(Vt.scrollOffset),new hi(Jn,pn,Dt,un,Vt)}},pn?.preloadingStrategy?Ie(pn.preloadingStrategy).\u0275providers:[],pn?.initialNavigation?Bs(pn):[],pn?.bindToComponentInputs?Ki(8,[on.tD,{provide:on.c1,useExisting:on.tD}]).\u0275providers:[],pn?.enableViewTransitions?hn().\u0275providers:[],[{provide:Mr,useFactory:Et},{provide:a.iLQ,multi:!0,useExisting:Mr}]]}}static forChild(Vt){return{ngModule:Dt,providers:[{provide:on.bw,multi:!0,useValue:Vt}]}}static \u0275fac=function(pn){return new(pn||Dt)};static \u0275mod=a.$C({type:Dt});static \u0275inj=a.G2t({})}return Dt})();function Bs(Dt){return["disabled"===Dt.initialNavigation?Ki(3,[(0,a.phd)(()=>{(0,a.WQX)(on.Ix).setUpLocationChangeListener()}),{provide:Wt,useValue:2}]).\u0275providers:[],"enabledBlocking"===Dt.initialNavigation?Ki(2,[{provide:Wt,useValue:0},(0,a.phd)(()=>{const un=(0,a.WQX)(a.zZn);return un.get(t.hj,Promise.resolve()).then(()=>new Promise(pn=>{const Jn=un.get(on.Ix),yi=un.get(vn);(0,on.gk)(Jn,()=>{pn(!0)}),un.get(on.J2).afterPreactivation=()=>(pn(!0),yi.closed?(0,qn.of)(void 0):yi),Jn.initialNavigation()}))})]).\u0275providers:[]]}const Mr=new a.nKC("")},9270:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>t});const t={setTimeout(a,p,...A){const{delegate:e}=t;return e?.setTimeout?e.setTimeout(a,p,...A):setTimeout(a,p,...A)},clearTimeout(a){const{delegate:p}=t;return(p?.clearTimeout||clearTimeout)(a)},delegate:void 0}},9326:(ot,ve,l)=>{"use strict";l.d(ve,{R0:()=>w,lI:()=>e,ms:()=>A});var t=l(8071),a=l(9470);function p(m){return m[m.length-1]}function A(m){return(0,t.T)(p(m))?m.pop():void 0}function e(m){return(0,a.m)(p(m))?m.pop():void 0}function w(m,D){return"number"==typeof p(m)?m.pop():D}},9350:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>a});const a=(0,l(1853).L)(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>a});const a=new(l(1360).nKC)("")},9368:(ot,ve,l)=>{var t=l(6589);l(812);var a=ot.exports=t.pem=t.pem||{};function p(e){for(var w=e.name+": ",m=[],D=function(u,E){return" "+E},S=0;S<e.values.length;++S)m.push(e.values[S].replace(/^(\S+\r\n)/,D));w+=m.join(",")+"\r\n";var g=0,k=-1;for(S=0;S<w.length;++S,++g)if(g>65&&-1!==k){var Y=w[k];","===Y?(++k,w=w.substr(0,k)+"\r\n "+w.substr(k)):w=w.substr(0,k)+"\r\n"+Y+w.substr(k+1),g=S-k-1,k=-1,++S}else(" "===w[S]||"\t"===w[S]||","===w[S])&&(k=S);return w}function A(e){return e.replace(/^\s+/,"")}a.encode=function(e,w){w=w||{};var D,m="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(m+=p(D={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(m+=p(D={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(D={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&D.values.push(e.dekInfo.parameters),m+=p(D)),e.headers)for(var S=0;S<e.headers.length;++S)m+=p(e.headers[S]);return e.procType&&(m+="\r\n"),(m+=t.util.encode64(e.body,w.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},a.decode=function(e){for(var g,w=[],m=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,D=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,S=/\r?\n/;g=m.exec(e);){var k=g[1];"NEW CERTIFICATE REQUEST"===k&&(k="CERTIFICATE REQUEST");var Y={type:k,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(g[3])};if(w.push(Y),g[2]){for(var u=g[2].split(S),E=0;g&&E<u.length;){for(var B=u[E].replace(/\s+$/,""),V=E+1;V<u.length;++V){var F=u[V];if(!/\s/.test(F[0]))break;B+=F,E=V}if(g=B.match(D)){for(var M={name:g[1],values:[]},W=g[2].split(","),y=0;y<W.length;++y)M.values.push(A(W[y]));if(Y.procType)if(Y.contentDomain||"Content-Domain"!==M.name)if(Y.dekInfo||"DEK-Info"!==M.name)Y.headers.push(M);else{if(0===M.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');Y.dekInfo={algorithm:W[0],parameters:W[1]||null}}else Y.contentDomain=W[0]||"";else{if("Proc-Type"!==M.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==M.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');Y.procType={version:W[0],type:W[1]}}}++E}if("ENCRYPTED"===Y.procType&&!Y.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===w.length)throw new Error("Invalid PEM formatted message.");return w}},9377:(ot,ve,l)=>{"use strict";function t(m,D){D=encodeURIComponent(D);for(const S of m.split(";")){const g=S.indexOf("="),[k,Y]=-1==g?[S,""]:[S.slice(0,g),S.slice(g+1)];if(k.trim()===D)return decodeURIComponent(Y)}return null}l.d(ve,{N0:()=>w,UE:()=>A,Vy:()=>e,Zn:()=>a,bS:()=>t});const a="browser",p="server";function A(m){return m===a}function e(m){return m===p}class w{}},9417:(ot,ve,l)=>{"use strict";l.d(ve,{$R:()=>pn,BC:()=>gt,Fm:()=>Li,JD:()=>Ts,Q0:()=>Wi,VZ:()=>fr,X1:()=>Qo,YN:()=>eo,YS:()=>ea,Zm:()=>k,cV:()=>Ki,cb:()=>qt,cz:()=>M,hs:()=>Ai,j4:()=>un,k0:()=>z,kq:()=>S,l_:()=>Qr,me:()=>B,ok:()=>Wr,qT:()=>hn,tU:()=>Sa,vO:()=>de,vS:()=>ke,wz:()=>wr,xH:()=>Zr,xh:()=>Na,y7:()=>Cr,ze:()=>Jo});var t=l(1360),a=l(1482),p=l(6648),A=l(7468),e=l(1413),w=l(6354);let m=(()=>{class H{_renderer;_elementRef;onChange=ee=>{};onTouched=()=>{};constructor(ee,Ee){this._renderer=ee,this._elementRef=Ee}setProperty(ee,Ee){this._renderer.setProperty(this._elementRef.nativeElement,ee,Ee)}registerOnTouched(ee){this.onTouched=ee}registerOnChange(ee){this.onChange=ee}setDisabledState(ee){this.setProperty("disabled",ee)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(t.sFG),t.rXU(t.aKT))};static \u0275dir=t.FsC({type:H})}return H})(),D=(()=>{class H extends m{static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,features:[t.Vt3]})}return H})();const S=new t.nKC(""),g={provide:S,useExisting:(0,t.Rfq)(()=>k),multi:!0};let k=(()=>{class H extends D{writeValue(ee){this.setProperty("checked",ee)}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("change",function(yn){return qe.onChange(yn.target.checked)})("blur",function(){return qe.onTouched()})},standalone:!1,features:[t.Jv_([g]),t.Vt3]})}return H})();const Y={provide:S,useExisting:(0,t.Rfq)(()=>B),multi:!0},E=new t.nKC("");let B=(()=>{class H extends m{_compositionMode;_composing=!1;constructor(ee,Ee,qe){super(ee,Ee),this._compositionMode=qe,null==this._compositionMode&&(this._compositionMode=!function u(){const H=(0,a.rb)()?(0,a.rb)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(ee){this.setProperty("value",ee??"")}_handleInput(ee){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ee)}_compositionStart(){this._composing=!0}_compositionEnd(ee){this._composing=!1,this._compositionMode&&this.onChange(ee)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(E,8))};static \u0275dir=t.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("input",function(yn){return qe._handleInput(yn.target.value)})("blur",function(){return qe.onTouched()})("compositionstart",function(){return qe._compositionStart()})("compositionend",function(yn){return qe._compositionEnd(yn.target.value)})},standalone:!1,features:[t.Jv_([Y]),t.Vt3]})}return H})();function V(H){return null==H||0===F(H)}function F(H){return null==H?null:Array.isArray(H)||"string"==typeof H?H.length:H instanceof Set?H.size:null}const M=new t.nKC(""),W=new t.nKC(""),y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class z{static min(ie){return Z(ie)}static max(ie){return function v(H){return ie=>{if(null==ie.value||null==H)return null;const ee=parseFloat(ie.value);return!isNaN(ee)&&ee>H?{max:{max:H,actual:ie.value}}:null}}(ie)}static required(ie){return L(ie)}static requiredTrue(ie){return function J(H){return!0===H.value?null:{required:!0}}(ie)}static email(ie){return function te(H){return V(H.value)||y.test(H.value)?null:{email:!0}}(ie)}static minLength(ie){return N(ie)}static maxLength(ie){return fe(ie)}static pattern(ie){return function oe(H){if(!H)return R;let ie,ee;return"string"==typeof H?(ee="","^"!==H.charAt(0)&&(ee+="^"),ee+=H,"$"!==H.charAt(H.length-1)&&(ee+="$"),ie=new RegExp(ee)):(ee=H.toString(),ie=H),Ee=>{if(V(Ee.value))return null;const qe=Ee.value;return ie.test(qe)?null:{pattern:{requiredPattern:ee,actualValue:qe}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return je(ie)}static composeAsync(ie){return Ke(ie)}}function Z(H){return ie=>{if(null==ie.value||null==H)return null;const ee=parseFloat(ie.value);return!isNaN(ee)&&ee<H?{min:{min:H,actual:ie.value}}:null}}function L(H){return V(H.value)?{required:!0}:null}function N(H){return ie=>{const ee=ie.value?.length??F(ie.value);return null===ee||0===ee?null:ee<H?{minlength:{requiredLength:H,actualLength:ee}}:null}}function fe(H){return ie=>{const ee=ie.value?.length??F(ie.value);return null!==ee&&ee>H?{maxlength:{requiredLength:H,actualLength:ee}}:null}}function R(H){return null}function Pe(H){return null!=H}function Te(H){return(0,t.jNT)(H)?(0,p.H)(H):H}function We(H){let ie={};return H.forEach(ee=>{ie=null!=ee?{...ie,...ee}:ie}),0===Object.keys(ie).length?null:ie}function rt(H,ie){return ie.map(ee=>ee(H))}function vt(H){return H.map(ie=>function lt(H){return!H.validate}(ie)?ie:ee=>ie.validate(ee))}function je(H){if(!H)return null;const ie=H.filter(Pe);return 0==ie.length?null:function(ee){return We(rt(ee,ie))}}function Ye(H){return null!=H?je(vt(H)):null}function Ke(H){if(!H)return null;const ie=H.filter(Pe);return 0==ie.length?null:function(ee){const Ee=rt(ee,ie).map(Te);return(0,A.p)(Ee).pipe((0,w.T)(We))}}function it(H){return null!=H?Ke(vt(H)):null}function Ve(H,ie){return null===H?[ie]:Array.isArray(H)?[...H,ie]:[H,ie]}function Be(H){return H._rawValidators}function Xe(H){return H._rawAsyncValidators}function Ue(H){return H?Array.isArray(H)?H:[H]:[]}function ct(H,ie){return Array.isArray(H)?H.includes(ie):H===ie}function st(H,ie){const ee=Ue(ie);return Ue(H).forEach(qe=>{ct(ee,qe)||ee.push(qe)}),ee}function Qe(H,ie){return Ue(ie).filter(ee=>!ct(H,ee))}class ne{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,ee){return!!this.control&&this.control.hasError(ie,ee)}getError(ie,ee){return this.control?this.control.getError(ie,ee):null}}class K extends ne{name;get formDirective(){return null}get path(){return null}}class de extends ne{_parent=null;name=null;valueAccessor=null}class ge{_cd;constructor(ie){this._cd=ie}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let gt=(()=>{class H extends ge{constructor(ee){super(ee)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(de,2))};static \u0275dir=t.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ee,qe){2&Ee&&t.AVh("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)},standalone:!1,features:[t.Vt3]})}return H})(),qt=(()=>{class H extends ge{constructor(ee){super(ee)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(K,10))};static \u0275dir=t.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ee,qe){2&Ee&&t.AVh("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)("ng-submitted",qe.isSubmitted)},standalone:!1,features:[t.Vt3]})}return H})();const Kn="VALID",ei="INVALID",Ot="PENDING",Gn="DISABLED";class Qt{}class Sn extends Qt{value;source;constructor(ie,ee){super(),this.value=ie,this.source=ee}}class In extends Qt{pristine;source;constructor(ie,ee){super(),this.pristine=ie,this.source=ee}}class rs extends Qt{touched;source;constructor(ie,ee){super(),this.touched=ie,this.source=ee}}class _i extends Qt{status;source;constructor(ie,ee){super(),this.status=ie,this.source=ee}}class Fi extends Qt{source;constructor(ie){super(),this.source=ie}}class Ni extends Qt{source;constructor(ie){super(),this.source=ie}}function os(H){return(wt(H)?H.validators:H)||null}function ms(H,ie){return(wt(ie)?ie.asyncValidators:H)||null}function wt(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function Tt(H,ie,ee){const Ee=H.controls;if(!(ie?Object.keys(Ee):Ee).length)throw new t.wOt(1e3,"");if(!Ee[ee])throw new t.wOt(1001,"")}function xt(H,ie,ee){H._forEachChild((Ee,qe)=>{if(void 0===ee[qe])throw new t.wOt(1002,"")})}class Kt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(ie,ee){this._assignValidators(ie),this._assignAsyncValidators(ee)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get status(){return(0,t.O8t)(this.statusReactive)}set status(ie){(0,t.O8t)(()=>this.statusReactive.set(ie))}_status=(0,t.EWP)(()=>this.statusReactive());statusReactive=(0,t.vPA)(void 0);get valid(){return this.status===Kn}get invalid(){return this.status===ei}get pending(){return this.status==Ot}get disabled(){return this.status===Gn}get enabled(){return this.status!==Gn}errors;get pristine(){return(0,t.O8t)(this.pristineReactive)}set pristine(ie){(0,t.O8t)(()=>this.pristineReactive.set(ie))}_pristine=(0,t.EWP)(()=>this.pristineReactive());pristineReactive=(0,t.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,t.O8t)(this.touchedReactive)}set touched(ie){(0,t.O8t)(()=>this.touchedReactive.set(ie))}_touched=(0,t.EWP)(()=>this.touchedReactive());touchedReactive=(0,t.vPA)(!1);get untouched(){return!this.touched}_events=new e.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(st(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(st(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Qe(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Qe(ie,this._rawAsyncValidators))}hasValidator(ie){return ct(this._rawValidators,ie)}hasAsyncValidator(ie){return ct(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){const ee=!1===this.touched;this.touched=!0;const Ee=ie.sourceControl??this;this._parent&&!ie.onlySelf&&this._parent.markAsTouched({...ie,sourceControl:Ee}),ee&&!1!==ie.emitEvent&&this._events.next(new rs(!0,Ee))}markAllAsTouched(ie={}){this.markAsTouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:this}),this._forEachChild(ee=>ee.markAllAsTouched(ie))}markAsUntouched(ie={}){const ee=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ee=ie.sourceControl??this;this._forEachChild(qe=>{qe.markAsUntouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:Ee})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,Ee),ee&&!1!==ie.emitEvent&&this._events.next(new rs(!1,Ee))}markAsDirty(ie={}){const ee=!0===this.pristine;this.pristine=!1;const Ee=ie.sourceControl??this;this._parent&&!ie.onlySelf&&this._parent.markAsDirty({...ie,sourceControl:Ee}),ee&&!1!==ie.emitEvent&&this._events.next(new In(!1,Ee))}markAsPristine(ie={}){const ee=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ee=ie.sourceControl??this;this._forEachChild(qe=>{qe.markAsPristine({onlySelf:!0,emitEvent:ie.emitEvent})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,Ee),ee&&!1!==ie.emitEvent&&this._events.next(new In(!0,Ee))}markAsPending(ie={}){this.status=Ot;const ee=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new _i(this.status,ee)),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.markAsPending({...ie,sourceControl:ee})}disable(ie={}){const ee=this._parentMarkedDirty(ie.onlySelf);this.status=Gn,this.errors=null,this._forEachChild(qe=>{qe.disable({...ie,onlySelf:!0})}),this._updateValue();const Ee=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new Sn(this.value,Ee)),this._events.next(new _i(this.status,Ee)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:ee},this),this._onDisabledChange.forEach(qe=>qe(!0))}enable(ie={}){const ee=this._parentMarkedDirty(ie.onlySelf);this.status=Kn,this._forEachChild(Ee=>{Ee.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:ee},this),this._onDisabledChange.forEach(Ee=>Ee(!1))}_updateAncestors(ie,ee){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine({},ee),this._parent._updateTouched({},ee))}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ee=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kn||this.status===Ot)&&this._runAsyncValidator(Ee,ie.emitEvent)}const ee=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new Sn(this.value,ee)),this._events.next(new _i(this.status,ee)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity({...ie,sourceControl:ee})}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(ee=>ee._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gn:Kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie,ee){if(this.asyncValidator){this.status=Ot,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ee};const Ee=Te(this.asyncValidator(this));this._asyncValidationSubscription=Ee.subscribe(qe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(qe,{emitEvent:ee,shouldHaveEmitted:ie})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const ie=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ie}return!1}setErrors(ie,ee={}){this.errors=ie,this._updateControlsErrors(!1!==ee.emitEvent,this,ee.shouldHaveEmitted)}get(ie){let ee=ie;return null==ee||(Array.isArray(ee)||(ee=ee.split(".")),0===ee.length)?null:ee.reduce((Ee,qe)=>Ee&&Ee._find(qe),this)}getError(ie,ee){const Ee=ee?this.get(ee):this;return Ee&&Ee.errors?Ee.errors[ie]:null}hasError(ie,ee){return!!this.getError(ie,ee)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie,ee,Ee){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),(ie||Ee)&&this._events.next(new _i(this.status,ee)),this._parent&&this._parent._updateControlsErrors(ie,ee,Ee)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?Gn:this.errors?ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ot)?Ot:this._anyControlsHaveStatus(ei)?ei:Kn}_anyControlsHaveStatus(ie){return this._anyControls(ee=>ee.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie,ee){const Ee=!this._anyControlsDirty(),qe=this.pristine!==Ee;this.pristine=Ee,this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,ee),qe&&this._events.next(new In(this.pristine,ee))}_updateTouched(ie={},ee){this.touched=this._anyControlsTouched(),this._events.next(new rs(this.touched,ee)),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,ee)}_onDisabledChange=[];_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){wt(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function zn(H){return Array.isArray(H)?Ye(H):H||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function xi(H){return Array.isArray(H)?it(H):H||null}(this._rawAsyncValidators)}}class cn extends Kt{constructor(ie,ee,Ee){super(os(ee),ms(Ee,ee)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(ie,ee){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=ee,ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange),ee)}addControl(ie,ee,Ee={}){this.registerControl(ie,ee),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}removeControl(ie,ee={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}setControl(ie,ee,Ee={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],ee&&this.registerControl(ie,ee),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,ee={}){xt(this,0,ie),Object.keys(ie).forEach(Ee=>{Tt(this,!0,Ee),this.controls[Ee].setValue(ie[Ee],{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee)}patchValue(ie,ee={}){null!=ie&&(Object.keys(ie).forEach(Ee=>{const qe=this.controls[Ee];qe&&qe.patchValue(ie[Ee],{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee))}reset(ie={},ee={}){this._forEachChild((Ee,qe)=>{Ee.reset(ie?ie[qe]:null,{onlySelf:!0,emitEvent:ee.emitEvent})}),this._updatePristine(ee,this),this._updateTouched(ee,this),this.updateValueAndValidity(ee)}getRawValue(){return this._reduceChildren({},(ie,ee,Ee)=>(ie[Ee]=ee.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(ee,Ee)=>!!Ee._syncPendingControls()||ee);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(ee=>{const Ee=this.controls[ee];Ee&&ie(Ee,ee)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[ee,Ee]of Object.entries(this.controls))if(this.contains(ee)&&ie(Ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ee,Ee,qe)=>((Ee.enabled||this.disabled)&&(ee[qe]=Ee.value),ee))}_reduceChildren(ie,ee){let Ee=ie;return this._forEachChild((qe,Pt)=>{Ee=ee(Ee,qe,Pt)}),Ee}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class Ti extends cn{}const Bi=new t.nKC("",{providedIn:"root",factory:()=>Ui}),Ui="always";function zi(H,ie){return[...ie.path,H]}function ls(H,ie,ee=Ui){tn(H,ie),ie.valueAccessor.writeValue(H.value),(H.disabled||"always"===ee)&&ie.valueAccessor.setDisabledState?.(H.disabled),function on(H,ie){ie.valueAccessor.registerOnChange(ee=>{H._pendingValue=ee,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&qn(H,ie)})}(H,ie),function Gt(H,ie){const ee=(Ee,qe)=>{ie.valueAccessor.writeValue(Ee),qe&&ie.viewToModelUpdate(Ee)};H.registerOnChange(ee),ie._registerOnDestroy(()=>{H._unregisterOnChange(ee)})}(H,ie),function Xn(H,ie){ie.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&qn(H,ie),"submit"!==H.updateOn&&H.markAsTouched()})}(H,ie),function yt(H,ie){if(ie.valueAccessor.setDisabledState){const ee=Ee=>{ie.valueAccessor.setDisabledState(Ee)};H.registerOnDisabledChange(ee),ie._registerOnDestroy(()=>{H._unregisterOnDisabledChange(ee)})}}(H,ie)}function ut(H,ie,ee=!0){const Ee=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(Ee),ie.valueAccessor.registerOnTouched(Ee)),Vn(H,ie),H&&(ie._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function Rt(H,ie){H.forEach(ee=>{ee.registerOnValidatorChange&&ee.registerOnValidatorChange(ie)})}function tn(H,ie){const ee=Be(H);null!==ie.validator?H.setValidators(Ve(ee,ie.validator)):"function"==typeof ee&&H.setValidators([ee]);const Ee=Xe(H);null!==ie.asyncValidator?H.setAsyncValidators(Ve(Ee,ie.asyncValidator)):"function"==typeof Ee&&H.setAsyncValidators([Ee]);const qe=()=>H.updateValueAndValidity();Rt(ie._rawValidators,qe),Rt(ie._rawAsyncValidators,qe)}function Vn(H,ie){let ee=!1;if(null!==H){if(null!==ie.validator){const qe=Be(H);if(Array.isArray(qe)&&qe.length>0){const Pt=qe.filter(yn=>yn!==ie.validator);Pt.length!==qe.length&&(ee=!0,H.setValidators(Pt))}}if(null!==ie.asyncValidator){const qe=Xe(H);if(Array.isArray(qe)&&qe.length>0){const Pt=qe.filter(yn=>yn!==ie.asyncValidator);Pt.length!==qe.length&&(ee=!0,H.setAsyncValidators(Pt))}}}const Ee=()=>{};return Rt(ie._rawValidators,Ee),Rt(ie._rawAsyncValidators,Ee),ee}function qn(H,ie){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function oi(H,ie){tn(H,ie)}function Ze(H,ie){if(!H.hasOwnProperty("model"))return!1;const ee=H.model;return!!ee.isFirstChange()||!Object.is(ie,ee.currentValue)}function Ut(H,ie){H._syncPendingControls(),ie.forEach(ee=>{const Ee=ee.control;"submit"===Ee.updateOn&&Ee._pendingChange&&(ee.viewToModelUpdate(Ee._pendingValue),Ee._pendingChange=!1)})}function Xt(H,ie){if(!ie)return null;let ee,Ee,qe;return Array.isArray(ie),ie.forEach(Pt=>{Pt.constructor===B?ee=Pt:function ht(H){return Object.getPrototypeOf(H.constructor)===D}(Pt)?Ee=Pt:qe=Pt}),qe||Ee||ee||null}const ri={provide:K,useExisting:(0,t.Rfq)(()=>Ki)},Nn=Promise.resolve();let Ki=(()=>{class H extends K{callSetDisabledState;get submitted(){return(0,t.O8t)(this.submittedReactive)}_submitted=(0,t.EWP)(()=>this.submittedReactive());submittedReactive=(0,t.vPA)(!1);_directives=new Set;form;ngSubmit=new t.bkB;options;constructor(ee,Ee,qe){super(),this.callSetDisabledState=qe,this.form=new cn({},Ye(ee),it(Ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ee){Nn.then(()=>{const Ee=this._findContainer(ee.path);ee.control=Ee.registerControl(ee.name,ee.control),ls(ee.control,ee,this.callSetDisabledState),ee.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ee)})}getControl(ee){return this.form.get(ee.path)}removeControl(ee){Nn.then(()=>{const Ee=this._findContainer(ee.path);Ee&&Ee.removeControl(ee.name),this._directives.delete(ee)})}addFormGroup(ee){Nn.then(()=>{const Ee=this._findContainer(ee.path),qe=new cn({});oi(qe,ee),Ee.registerControl(ee.name,qe),qe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ee){Nn.then(()=>{const Ee=this._findContainer(ee.path);Ee&&Ee.removeControl(ee.name)})}getFormGroup(ee){return this.form.get(ee.path)}updateModel(ee,Ee){Nn.then(()=>{this.form.get(ee.path).setValue(Ee)})}setValue(ee){this.control.setValue(ee)}onSubmit(ee){return this.submittedReactive.set(!0),Ut(this.form,this._directives),this.ngSubmit.emit(ee),this.form._events.next(new Fi(this.control)),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this.submittedReactive.set(!1),this.form._events.next(new Ni(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ee){return ee.pop(),ee.length?this.form.get(ee):this.form}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(M,10),t.rXU(W,10),t.rXU(Bi,8))};static \u0275dir=t.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("submit",function(yn){return qe.onSubmit(yn)})("reset",function(){return qe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[t.Jv_([ri]),t.Vt3]})}return H})();function Ji(H,ie){const ee=H.indexOf(ie);ee>-1&&H.splice(ee,1)}function Os(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const jt=class extends Kt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(ie=null,ee,Ee){super(os(ee),ms(Ee,ee)),this._applyFormState(ie),this._setUpdateStrategy(ee),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wt(ee)&&(ee.nonNullable||ee.initialValueIsDefault)&&(this.defaultValue=Os(ie)?ie.value:ie)}setValue(ie,ee={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==ee.emitModelToViewChange&&this._onChange.forEach(Ee=>Ee(this.value,!1!==ee.emitViewToModelChange)),this.updateValueAndValidity(ee)}patchValue(ie,ee={}){this.setValue(ie,ee)}reset(ie=this.defaultValue,ee={}){this._applyFormState(ie),this.markAsPristine(ee),this.markAsUntouched(ee),this.setValue(this.value,ee),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){Ji(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){Ji(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){Os(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}},Ai=jt;let vn=(()=>{class H extends K{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,standalone:!1,features:[t.Vt3]})}return H})();const ae={provide:de,useExisting:(0,t.Rfq)(()=>ke)},be=Promise.resolve();let ke=(()=>{class H extends de{_changeDetectorRef;callSetDisabledState;control=new jt;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new t.bkB;constructor(ee,Ee,qe,Pt,yn,ai){super(),this._changeDetectorRef=yn,this.callSetDisabledState=ai,this._parent=ee,this._setValidators(Ee),this._setAsyncValidators(qe),this.valueAccessor=Xt(0,Pt)}ngOnChanges(ee){if(this._checkForErrors(),!this._registered||"name"in ee){if(this._registered&&(this._checkName(),this.formDirective)){const Ee=ee.name.previousValue;this.formDirective.removeControl({name:Ee,path:this._getPath(Ee)})}this._setUpControl()}"isDisabled"in ee&&this._updateDisabled(ee),Ze(ee,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ls(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ee){be.then(()=>{this.control.setValue(ee,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ee){const Ee=ee.isDisabled.currentValue,qe=0!==Ee&&(0,t.L39)(Ee);be.then(()=>{qe&&!this.control.disabled?this.control.disable():!qe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ee){return this._parent?zi(ee,this._parent):[ee]}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(K,9),t.rXU(M,10),t.rXU(W,10),t.rXU(S,10),t.rXU(t.gRc,8),t.rXU(Bi,8))};static \u0275dir=t.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[t.Jv_([ae]),t.Vt3,t.OA$]})}return H})(),hn=(()=>{class H{static \u0275fac=function(Ee){return new(Ee||H)};static \u0275dir=t.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return H})();const Fn={provide:S,useExisting:(0,t.Rfq)(()=>Wi),multi:!0};let Wi=(()=>{class H extends D{writeValue(ee){this.setProperty("value",ee??"")}registerOnChange(ee){this.onChange=Ee=>{ee(""==Ee?null:parseFloat(Ee))}}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("input",function(yn){return qe.onChange(yn.target.value)})("blur",function(){return qe.onTouched()})},standalone:!1,features:[t.Jv_([Fn]),t.Vt3]})}return H})();const Di={provide:S,useExisting:(0,t.Rfq)(()=>Li),multi:!0};let li=(()=>{class H{_accessors=[];add(ee,Ee){this._accessors.push([ee,Ee])}remove(ee){for(let Ee=this._accessors.length-1;Ee>=0;--Ee)if(this._accessors[Ee][1]===ee)return void this._accessors.splice(Ee,1)}select(ee){this._accessors.forEach(Ee=>{this._isSameGroup(Ee,ee)&&Ee[1]!==ee&&Ee[1].fireUncheck(ee.value)})}_isSameGroup(ee,Ee){return!!ee[0].control&&ee[0]._parent===Ee._control._parent&&ee[1].name===Ee.name}static \u0275fac=function(Ee){return new(Ee||H)};static \u0275prov=t.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),Li=(()=>{class H extends D{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,t.WQX)(Bi,{optional:!0})??Ui;constructor(ee,Ee,qe,Pt){super(ee,Ee),this._registry=qe,this._injector=Pt}ngOnInit(){this._control=this._injector.get(de),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ee){this._state=ee===this.value,this.setProperty("checked",this._state)}registerOnChange(ee){this._fn=ee,this.onChange=()=>{ee(this.value),this._registry.select(this)}}setDisabledState(ee){(this.setDisabledStateFired||ee||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",ee),this.setDisabledStateFired=!0}fireUncheck(ee){this.writeValue(ee)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(li),t.rXU(t.zZn))};static \u0275dir=t.FsC({type:H,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("change",function(){return qe.onChange()})("blur",function(){return qe.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[t.Jv_([Di]),t.Vt3]})}return H})();const Bs=new t.nKC(""),Mr={provide:de,useExisting:(0,t.Rfq)(()=>Qr)};let Qr=(()=>{class H extends de{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(ee){}model;update=new t.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(ee,Ee,qe,Pt,yn){super(),this._ngModelWarningConfig=Pt,this.callSetDisabledState=yn,this._setValidators(ee),this._setAsyncValidators(Ee),this.valueAccessor=Xt(0,qe)}ngOnChanges(ee){if(this._isControlChanged(ee)){const Ee=ee.form.previousValue;Ee&&ut(Ee,this,!1),ls(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ze(ee,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ut(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_isControlChanged(ee){return ee.hasOwnProperty("form")}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(M,10),t.rXU(W,10),t.rXU(S,10),t.rXU(Bs,8),t.rXU(Bi,8))};static \u0275dir=t.FsC({type:H,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[t.Jv_([Mr]),t.Vt3,t.OA$]})}return H})();const Dt={provide:K,useExisting:(0,t.Rfq)(()=>un)};let un=(()=>{class H extends K{callSetDisabledState;get submitted(){return(0,t.O8t)(this._submittedReactive)}set submitted(ee){this._submittedReactive.set(ee)}_submitted=(0,t.EWP)(()=>this._submittedReactive());_submittedReactive=(0,t.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new t.bkB;constructor(ee,Ee,qe){super(),this.callSetDisabledState=qe,this._setValidators(ee),this._setAsyncValidators(Ee)}ngOnChanges(ee){ee.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ee){const Ee=this.form.get(ee.path);return ls(Ee,ee,this.callSetDisabledState),Ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(ee),Ee}getControl(ee){return this.form.get(ee.path)}removeControl(ee){ut(ee.control||null,ee,!1),function Mn(H,ie){const ee=H.indexOf(ie);ee>-1&&H.splice(ee,1)}(this.directives,ee)}addFormGroup(ee){this._setUpFormContainer(ee)}removeFormGroup(ee){this._cleanUpFormContainer(ee)}getFormGroup(ee){return this.form.get(ee.path)}addFormArray(ee){this._setUpFormContainer(ee)}removeFormArray(ee){this._cleanUpFormContainer(ee)}getFormArray(ee){return this.form.get(ee.path)}updateModel(ee,Ee){this.form.get(ee.path).setValue(Ee)}onSubmit(ee){return this._submittedReactive.set(!0),Ut(this.form,this.directives),this.ngSubmit.emit(ee),this.form._events.next(new Fi(this.control)),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this._submittedReactive.set(!1),this.form._events.next(new Ni(this.form))}_updateDomValue(){this.directives.forEach(ee=>{const Ee=ee.control,qe=this.form.get(ee.path);Ee!==qe&&(ut(Ee||null,ee),(H=>H instanceof jt)(qe)&&(ls(qe,ee,this.callSetDisabledState),ee.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ee){const Ee=this.form.get(ee.path);oi(Ee,ee),Ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ee){if(this.form){const Ee=this.form.get(ee.path);Ee&&function zt(H,ie){return Vn(H,ie)}(Ee,ee)&&Ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tn(this.form,this),this._oldForm&&Vn(this._oldForm,this)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(M,10),t.rXU(W,10),t.rXU(Bi,8))};static \u0275dir=t.FsC({type:H,selectors:[["","formGroup",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("submit",function(yn){return qe.onSubmit(yn)})("reset",function(){return qe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[t.Jv_([Dt]),t.Vt3,t.OA$]})}return H})();const Vt={provide:K,useExisting:(0,t.Rfq)(()=>pn)};let pn=(()=>{class H extends vn{name=null;constructor(ee,Ee,qe){super(),this._parent=ee,this._setValidators(Ee),this._setAsyncValidators(qe)}_checkParentType(){pi(this._parent)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(K,13),t.rXU(M,10),t.rXU(W,10))};static \u0275dir=t.FsC({type:H,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[t.Jv_([Vt]),t.Vt3]})}return H})();const Jn={provide:K,useExisting:(0,t.Rfq)(()=>yi)};let yi=(()=>{class H extends K{_parent;name=null;constructor(ee,Ee,qe){super(),this._parent=ee,this._setValidators(Ee),this._setAsyncValidators(qe)}ngOnInit(){pi(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zi(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(K,13),t.rXU(M,10),t.rXU(W,10))};static \u0275dir=t.FsC({type:H,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[t.Jv_([Jn]),t.Vt3]})}return H})();function pi(H){return!(H instanceof pn||H instanceof un||H instanceof yi)}const js={provide:de,useExisting:(0,t.Rfq)(()=>Ts)};let Ts=(()=>{class H extends de{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(ee){}model;update=new t.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(ee,Ee,qe,Pt,yn){super(),this._ngModelWarningConfig=yn,this._parent=ee,this._setValidators(Ee),this._setAsyncValidators(qe),this.valueAccessor=Xt(0,Pt)}ngOnChanges(ee){this._added||this._setUpControl(),Ze(ee,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}get path(){return zi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(K,13),t.rXU(M,10),t.rXU(W,10),t.rXU(S,10),t.rXU(Bs,8))};static \u0275dir=t.FsC({type:H,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[t.Jv_([js]),t.Vt3,t.OA$]})}return H})();const ks={provide:S,useExisting:(0,t.Rfq)(()=>wr),multi:!0};function ca(H,ie){return null==H?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${H}: ${ie}`.slice(0,50))}let wr=(()=>{class H extends D{value;_optionMap=new Map;_idCounter=0;set compareWith(ee){this._compareWith=ee}_compareWith=Object.is;writeValue(ee){this.value=ee;const qe=ca(this._getOptionId(ee),ee);this.setProperty("value",qe)}registerOnChange(ee){this.onChange=Ee=>{this.value=this._getOptionValue(Ee),ee(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ee){for(const Ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ee),ee))return Ee;return null}_getOptionValue(ee){const Ee=function Ci(H){return H.split(":")[0]}(ee);return this._optionMap.has(Ee)?this._optionMap.get(Ee):ee}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("change",function(yn){return qe.onChange(yn.target.value)})("blur",function(){return qe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[t.Jv_([ks]),t.Vt3]})}return H})(),Zr=(()=>{class H{_element;_renderer;_select;id;constructor(ee,Ee,qe){this._element=ee,this._renderer=Ee,this._select=qe,this._select&&(this.id=this._select._registerOption())}set ngValue(ee){null!=this._select&&(this._select._optionMap.set(this.id,ee),this._setElementValue(ca(this.id,ee)),this._select.writeValue(this._select.value))}set value(ee){this._setElementValue(ee),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ee){this._renderer.setProperty(this._element.nativeElement,"value",ee)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(wr,9))};static \u0275dir=t.FsC({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return H})();const Aa={provide:S,useExisting:(0,t.Rfq)(()=>pa),multi:!0};function ua(H,ie){return null==H?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${H}: ${ie}`.slice(0,50))}let pa=(()=>{class H extends D{value;_optionMap=new Map;_idCounter=0;set compareWith(ee){this._compareWith=ee}_compareWith=Object.is;writeValue(ee){let Ee;if(this.value=ee,Array.isArray(ee)){const qe=ee.map(Pt=>this._getOptionId(Pt));Ee=(Pt,yn)=>{Pt._setSelected(qe.indexOf(yn.toString())>-1)}}else Ee=(qe,Pt)=>{qe._setSelected(!1)};this._optionMap.forEach(Ee)}registerOnChange(ee){this.onChange=Ee=>{const qe=[],Pt=Ee.selectedOptions;if(void 0!==Pt){const yn=Pt;for(let ai=0;ai<yn.length;ai++){const ji=this._getOptionValue(yn[ai].value);qe.push(ji)}}else{const yn=Ee.options;for(let ai=0;ai<yn.length;ai++){const ts=yn[ai];if(ts.selected){const ji=this._getOptionValue(ts.value);qe.push(ji)}}}this.value=qe,ee(qe)}}_registerOption(ee){const Ee=(this._idCounter++).toString();return this._optionMap.set(Ee,ee),Ee}_getOptionId(ee){for(const Ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ee)._value,ee))return Ee;return null}_getOptionValue(ee){const Ee=function uo(H){return H.split(":")[0]}(ee);return this._optionMap.has(Ee)?this._optionMap.get(Ee)._value:ee}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ee,qe){1&Ee&&t.bIt("change",function(yn){return qe.onChange(yn.target)})("blur",function(){return qe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[t.Jv_([Aa]),t.Vt3]})}return H})(),Cr=(()=>{class H{_element;_renderer;_select;id;_value;constructor(ee,Ee,qe){this._element=ee,this._renderer=Ee,this._select=qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ee){null!=this._select&&(this._value=ee,this._setElementValue(ua(this.id,ee)),this._select.writeValue(this._select.value))}set value(ee){this._select?(this._value=ee,this._setElementValue(ua(this.id,ee)),this._select.writeValue(this._select.value)):this._setElementValue(ee)}_setElementValue(ee){this._renderer.setProperty(this._element.nativeElement,"value",ee)}_setSelected(ee){this._renderer.setProperty(this._element.nativeElement,"selected",ee)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(Ee){return new(Ee||H)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(pa,9))};static \u0275dir=t.FsC({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return H})();function Or(H){return"number"==typeof H?H:parseInt(H,10)}let xr=(()=>{class H{_validator=R;_onChange;_enabled;ngOnChanges(ee){if(this.inputName in ee){const Ee=this.normalizeInput(ee[this.inputName].currentValue);this._enabled=this.enabled(Ee),this._validator=this._enabled?this.createValidator(Ee):R,this._onChange&&this._onChange()}}validate(ee){return this._validator(ee)}registerOnValidatorChange(ee){this._onChange=ee}enabled(ee){return null!=ee}static \u0275fac=function(Ee){return new(Ee||H)};static \u0275dir=t.FsC({type:H,features:[t.OA$]})}return H})();const Fa={provide:M,useExisting:(0,t.Rfq)(()=>fr),multi:!0};let fr=(()=>{class H extends xr{min;inputName="min";normalizeInput=ee=>function Kr(H){return"number"==typeof H?H:parseFloat(H)}(ee);createValidator=ee=>Z(ee);static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,qe){2&Ee&&t.BMQ("min",qe._enabled?qe.min:null)},inputs:{min:"min"},standalone:!1,features:[t.Jv_([Fa]),t.Vt3]})}return H})();const kr={provide:M,useExisting:(0,t.Rfq)(()=>ea),multi:!0};let ea=(()=>{class H extends xr{required;inputName="required";normalizeInput=t.L39;createValidator=ee=>L;enabled(ee){return ee}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ee,qe){2&Ee&&t.BMQ("required",qe._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[t.Jv_([kr]),t.Vt3]})}return H})();const pr={provide:M,useExisting:(0,t.Rfq)(()=>Na),multi:!0};let Na=(()=>{class H extends xr{minlength;inputName="minlength";normalizeInput=ee=>Or(ee);createValidator=ee=>N(ee);static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ee,qe){2&Ee&&t.BMQ("minlength",qe._enabled?qe.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[t.Jv_([pr]),t.Vt3]})}return H})();const qa={provide:M,useExisting:(0,t.Rfq)(()=>Sa),multi:!0};let Sa=(()=>{class H extends xr{maxlength;inputName="maxlength";normalizeInput=ee=>Or(ee);createValidator=ee=>fe(ee);static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275dir=t.FsC({type:H,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ee,qe){2&Ee&&t.BMQ("maxlength",qe._enabled?qe.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[t.Jv_([qa]),t.Vt3]})}return H})(),ya=(()=>{class H{static \u0275fac=function(Ee){return new(Ee||H)};static \u0275mod=t.$C({type:H});static \u0275inj=t.G2t({})}return H})();class rr extends Kt{constructor(ie,ee,Ee){super(os(ee),ms(Ee,ee)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,ee={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}insert(ie,ee,Ee={}){this.controls.splice(ie,0,ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:Ee.emitEvent})}removeAt(ie,ee={}){let Ee=this._adjustIndex(ie);Ee<0&&(Ee=0),this.controls[Ee]&&this.controls[Ee]._registerOnCollectionChange(()=>{}),this.controls.splice(Ee,1),this.updateValueAndValidity({emitEvent:ee.emitEvent})}setControl(ie,ee,Ee={}){let qe=this._adjustIndex(ie);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),ee&&(this.controls.splice(qe,0,ee),this._registerControl(ee)),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,ee={}){xt(this,0,ie),ie.forEach((Ee,qe)=>{Tt(this,!1,qe),this.at(qe).setValue(Ee,{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee)}patchValue(ie,ee={}){null!=ie&&(ie.forEach((Ee,qe)=>{this.at(qe)&&this.at(qe).patchValue(Ee,{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee))}reset(ie=[],ee={}){this._forEachChild((Ee,qe)=>{Ee.reset(ie[qe],{onlySelf:!0,emitEvent:ee.emitEvent})}),this._updatePristine(ee,this),this._updateTouched(ee,this),this.updateValueAndValidity(ee)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(ee=>ee._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((ee,Ee)=>!!Ee._syncPendingControls()||ee,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((ee,Ee)=>{ie(ee,Ee)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(ee=>ee.enabled&&ie(ee))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}function Ps(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let Wr=(()=>{class H{useNonNullable=!1;get nonNullable(){const ee=new H;return ee.useNonNullable=!0,ee}group(ee,Ee=null){const qe=this._reduceControls(ee);let Pt={};return Ps(Ee)?Pt=Ee:null!==Ee&&(Pt.validators=Ee.validator,Pt.asyncValidators=Ee.asyncValidator),new cn(qe,Pt)}record(ee,Ee=null){const qe=this._reduceControls(ee);return new Ti(qe,Ee)}control(ee,Ee,qe){let Pt={};return this.useNonNullable?(Ps(Ee)?Pt=Ee:(Pt.validators=Ee,Pt.asyncValidators=qe),new jt(ee,{...Pt,nonNullable:!0})):new jt(ee,Ee,qe)}array(ee,Ee,qe){const Pt=ee.map(yn=>this._createControl(yn));return new rr(Pt,Ee,qe)}_reduceControls(ee){const Ee={};return Object.keys(ee).forEach(qe=>{Ee[qe]=this._createControl(ee[qe])}),Ee}_createControl(ee){return ee instanceof jt||ee instanceof Kt?ee:Array.isArray(ee)?this.control(ee[0],ee.length>1?ee[1]:null,ee.length>2?ee[2]:null):this.control(ee)}static \u0275fac=function(Ee){return new(Ee||H)};static \u0275prov=t.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),Jo=(()=>{class H extends Wr{group(ee,Ee=null){return super.group(ee,Ee)}control(ee,Ee,qe){return super.control(ee,Ee,qe)}array(ee,Ee,qe){return super.array(ee,Ee,qe)}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(H)))(qe||H)}})();static \u0275prov=t.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),eo=(()=>{class H{static withConfig(ee){return{ngModule:H,providers:[{provide:Bi,useValue:ee.callSetDisabledState??Ui}]}}static \u0275fac=function(Ee){return new(Ee||H)};static \u0275mod=t.$C({type:H});static \u0275inj=t.G2t({imports:[ya]})}return H})(),Qo=(()=>{class H{static withConfig(ee){return{ngModule:H,providers:[{provide:Bs,useValue:ee.warnOnNgModelWithFormControl??"always"},{provide:Bi,useValue:ee.callSetDisabledState??Ui}]}}static \u0275fac=function(Ee){return new(Ee||H)};static \u0275mod=t.$C({type:H});static \u0275inj=t.G2t({imports:[ya]})}return H})()},9436:(ot,ve,l)=>{var t=l(6589);l(57),l(7097),l(3674),l(5437),l(8040),l(1817),l(9368),l(8588),l(2880),l(812);var a=t.asn1,p=ot.exports=t.pki=t.pki||{},A=p.oids,e={};e.CN=A.commonName,e.commonName="CN",e.C=A.countryName,e.countryName="C",e.L=A.localityName,e.localityName="L",e.ST=A.stateOrProvinceName,e.stateOrProvinceName="ST",e.O=A.organizationName,e.organizationName="O",e.OU=A.organizationalUnitName,e.organizationalUnitName="OU",e.E=A.emailAddress,e.emailAddress="E";var w=t.pki.rsa.publicKeyValidator,m={name:"Certificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},w,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},D={name:"rsapss",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},g={name:"CertificationRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},w,{name:"CertificationRequestInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function k(L,J){"string"==typeof J&&(J={shortName:J});for(var N,te=null,fe=0;null===te&&fe<L.attributes.length;++fe)N=L.attributes[fe],(J.type&&J.type===N.type||J.name&&J.name===N.name||J.shortName&&J.shortName===N.shortName)&&(te=N);return te}p.RDNAttributesAsArray=function(L,J){for(var N,fe,oe,te=[],R=0;R<L.value.length;++R){N=L.value[R];for(var Pe=0;Pe<N.value.length;++Pe)(oe={}).type=a.derToOid((fe=N.value[Pe]).value[0].value),oe.value=fe.value[1].value,oe.valueTagClass=fe.value[1].type,oe.type in A&&(oe.name=A[oe.type],oe.name in e&&(oe.shortName=e[oe.name])),J&&(J.update(oe.type),J.update(oe.value)),te.push(oe)}return te},p.CRIAttributesAsArray=function(L){for(var J=[],te=0;te<L.length;++te)for(var N=L[te],fe=a.derToOid(N.value[0].value),oe=N.value[1].value,R=0;R<oe.length;++R){var Pe={};if(Pe.type=fe,Pe.value=oe[R].value,Pe.valueTagClass=oe[R].type,Pe.type in A&&(Pe.name=A[Pe.type],Pe.name in e&&(Pe.shortName=e[Pe.name])),Pe.type===A.extensionRequest){Pe.extensions=[];for(var Te=0;Te<Pe.value.length;++Te)Pe.extensions.push(p.certificateExtensionFromAsn1(Pe.value[Te]))}J.push(Pe)}return J};var Y=function(L,J,te){var N={};if(L!==A["RSASSA-PSS"])return N;te&&(N={hash:{algorithmOid:A.sha1},mgf:{algorithmOid:A.mgf1,hash:{algorithmOid:A.sha1}},saltLength:20});var fe={},oe=[];if(!a.validate(J,D,fe,oe)){var R=new Error("Cannot read RSASSA-PSS parameter block.");throw R.errors=oe,R}return void 0!==fe.hashOid&&(N.hash=N.hash||{},N.hash.algorithmOid=a.derToOid(fe.hashOid)),void 0!==fe.maskGenOid&&(N.mgf=N.mgf||{},N.mgf.algorithmOid=a.derToOid(fe.maskGenOid),N.mgf.hash=N.mgf.hash||{},N.mgf.hash.algorithmOid=a.derToOid(fe.maskGenHashOid)),void 0!==fe.saltLength&&(N.saltLength=fe.saltLength.charCodeAt(0)),N},u=function(L){switch(A[L.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();default:var J=new Error("Could not compute "+L.type+" digest. Unknown signature OID.");throw J.signatureOid=L.signatureOid,J}},E=function(L){var te,J=L.certificate;switch(J.signatureOid){case A.sha1WithRSAEncryption:case A.sha1WithRSASignature:break;case A["RSASSA-PSS"]:var N,fe,oe;if(void 0===(N=A[J.signatureParameters.mgf.hash.algorithmOid])||void 0===t.md[N])throw(oe=new Error("Unsupported MGF hash function.")).oid=J.signatureParameters.mgf.hash.algorithmOid,oe.name=N,oe;if(void 0===(fe=A[J.signatureParameters.mgf.algorithmOid])||void 0===t.mgf[fe])throw(oe=new Error("Unsupported MGF function.")).oid=J.signatureParameters.mgf.algorithmOid,oe.name=fe,oe;if(fe=t.mgf[fe].create(t.md[N].create()),void 0===(N=A[J.signatureParameters.hash.algorithmOid])||void 0===t.md[N])throw(oe=new Error("Unsupported RSASSA-PSS hash function.")).oid=J.signatureParameters.hash.algorithmOid,oe.name=N,oe;te=t.pss.create(t.md[N].create(),fe,J.signatureParameters.saltLength)}return J.publicKey.verify(L.md.digest().getBytes(),L.signature,te)};function B(L){for(var te,N,J=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),fe=L.attributes,oe=0;oe<fe.length;++oe){var R=(te=fe[oe]).value,Pe=a.Type.PRINTABLESTRING;"valueTagClass"in te&&(Pe=te.valueTagClass)===a.Type.UTF8&&(R=t.util.encodeUtf8(R)),N=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(te.type).getBytes()),a.create(a.Class.UNIVERSAL,Pe,!1,R)])]),J.value.push(N)}return J}function F(L){for(var J,te=0;te<L.length;++te){if(typeof(J=L[te]).name>"u"&&(J.type&&J.type in p.oids?J.name=p.oids[J.type]:J.shortName&&J.shortName in e&&(J.name=p.oids[e[J.shortName]])),typeof J.type>"u"){if(!J.name||!(J.name in p.oids))throw(N=new Error("Attribute type not specified.")).attribute=J,N;J.type=p.oids[J.name]}if(typeof J.shortName>"u"&&J.name&&J.name in e&&(J.shortName=e[J.name]),J.type===A.extensionRequest&&(J.valueConstructed=!0,J.valueTagClass=a.Type.SEQUENCE,!J.value&&J.extensions)){J.value=[];for(var fe=0;fe<J.extensions.length;++fe)J.value.push(p.certificateExtensionToAsn1(M(J.extensions[fe])))}var N;if(typeof J.value>"u")throw(N=new Error("Attribute value not specified.")).attribute=J,N}}function M(L,J){if(J=J||{},typeof L.name>"u"&&L.id&&L.id in p.oids&&(L.name=p.oids[L.id]),typeof L.id>"u"){if(!L.name||!(L.name in p.oids))throw(te=new Error("Extension ID not specified.")).extension=L,te;L.id=p.oids[L.name]}if(typeof L.value<"u")return L;if("keyUsage"===L.name){var N=0,fe=0,oe=0;L.digitalSignature&&(fe|=128,N=7),L.nonRepudiation&&(fe|=64,N=6),L.keyEncipherment&&(fe|=32,N=5),L.dataEncipherment&&(fe|=16,N=4),L.keyAgreement&&(fe|=8,N=3),L.keyCertSign&&(fe|=4,N=2),L.cRLSign&&(fe|=2,N=1),L.encipherOnly&&(fe|=1,N=0),L.decipherOnly&&(oe|=128,N=7);var R=String.fromCharCode(N);0!==oe?R+=String.fromCharCode(fe)+String.fromCharCode(oe):0!==fe&&(R+=String.fromCharCode(fe)),L.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,R)}else if("basicConstraints"===L.name)L.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),L.cA&&L.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in L&&L.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(L.pathLenConstraint).getBytes()));else if("extKeyUsage"===L.name){L.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var Pe=L.value.value;for(var Te in L)!0===L[Te]&&(Te in A?Pe.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(A[Te]).getBytes())):-1!==Te.indexOf(".")&&Pe.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(Te).getBytes())))}else if("nsCertType"===L.name)N=0,fe=0,L.client&&(fe|=128,N=7),L.server&&(fe|=64,N=6),L.email&&(fe|=32,N=5),L.objsign&&(fe|=16,N=4),L.reserved&&(fe|=8,N=3),L.sslCA&&(fe|=4,N=2),L.emailCA&&(fe|=2,N=1),L.objCA&&(fe|=1,N=0),R=String.fromCharCode(N),0!==fe&&(R+=String.fromCharCode(fe)),L.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,R);else if("subjectAltName"===L.name||"issuerAltName"===L.name){L.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var rt=0;rt<L.altNames.length;++rt){if(R=(We=L.altNames[rt]).value,7===We.type&&We.ip){if(null===(R=t.util.bytesFromIP(We.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===We.type&&(R=a.oidToDer(We.oid?a.oidToDer(We.oid):R));L.value.value.push(a.create(a.Class.CONTEXT_SPECIFIC,We.type,!1,R))}}else if("nsComment"===L.name&&J.cert){if(!/^[\x00-\x7F]*$/.test(L.comment)||L.comment.length<1||L.comment.length>128)throw new Error('Invalid "nsComment" content.');L.value=a.create(a.Class.UNIVERSAL,a.Type.IA5STRING,!1,L.comment)}else if("subjectKeyIdentifier"===L.name&&J.cert){var lt=J.cert.generateSubjectKeyIdentifier();L.subjectKeyIdentifier=lt.toHex(),L.value=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,lt.getBytes())}else if("authorityKeyIdentifier"===L.name&&J.cert){if(L.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),Pe=L.value.value,L.keyIdentifier){var vt=!0===L.keyIdentifier?J.cert.generateSubjectKeyIdentifier().getBytes():L.keyIdentifier;Pe.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!1,vt))}if(L.authorityCertIssuer){var je=[a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[B(!0===L.authorityCertIssuer?J.cert.issuer:L.authorityCertIssuer)])];Pe.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,je))}if(L.serialNumber){var Ye=t.util.hexToBytes(!0===L.serialNumber?J.cert.serialNumber:L.serialNumber);Pe.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!1,Ye))}}else if("cRLDistributionPoints"===L.name){L.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),Pe=L.value.value;var We,Ke=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),it=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(rt=0;rt<L.altNames.length;++rt){if(R=(We=L.altNames[rt]).value,7===We.type&&We.ip){if(null===(R=t.util.bytesFromIP(We.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===We.type&&(R=a.oidToDer(We.oid?a.oidToDer(We.oid):R));it.value.push(a.create(a.Class.CONTEXT_SPECIFIC,We.type,!1,R))}Ke.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[it])),Pe.push(Ke)}var te;if(typeof L.value>"u")throw(te=new Error("Extension value not specified.")).extension=L,te;return L}function W(L,J){if(L===A["RSASSA-PSS"]){var te=[];return void 0!==J.hash.algorithmOid&&te.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(J.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])),void 0!==J.mgf.algorithmOid&&te.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(J.mgf.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(J.mgf.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])])),void 0!==J.saltLength&&te.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(J.saltLength).getBytes())])),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,te)}return a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}function y(L){var J=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===L.attributes.length)return J;for(var te=L.attributes,N=0;N<te.length;++N){var fe=te[N],oe=fe.value,R=a.Type.UTF8;"valueTagClass"in fe&&(R=fe.valueTagClass),R===a.Type.UTF8&&(oe=t.util.encodeUtf8(oe));var Pe=!1;"valueConstructed"in fe&&(Pe=fe.valueConstructed);var Te=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(fe.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,R,Pe,oe)])]);J.value.push(Te)}return J}p.certificateFromPem=function(L,J,te){var N=t.pem.decode(L)[0];if("CERTIFICATE"!==N.type&&"X509 CERTIFICATE"!==N.type&&"TRUSTED CERTIFICATE"!==N.type){var fe=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw fe.headerType=N.type,fe}if(N.procType&&"ENCRYPTED"===N.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var oe=a.fromDer(N.body,te);return p.certificateFromAsn1(oe,J)},p.certificateToPem=function(L,J){var te={type:"CERTIFICATE",body:a.toDer(p.certificateToAsn1(L)).getBytes()};return t.pem.encode(te,{maxline:J})},p.publicKeyFromPem=function(L){var J=t.pem.decode(L)[0];if("PUBLIC KEY"!==J.type&&"RSA PUBLIC KEY"!==J.type){var te=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw te.headerType=J.type,te}if(J.procType&&"ENCRYPTED"===J.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var N=a.fromDer(J.body);return p.publicKeyFromAsn1(N)},p.publicKeyToPem=function(L,J){var te={type:"PUBLIC KEY",body:a.toDer(p.publicKeyToAsn1(L)).getBytes()};return t.pem.encode(te,{maxline:J})},p.publicKeyToRSAPublicKeyPem=function(L,J){var te={type:"RSA PUBLIC KEY",body:a.toDer(p.publicKeyToRSAPublicKey(L)).getBytes()};return t.pem.encode(te,{maxline:J})},p.getPublicKeyFingerprint=function(L,J){var fe,te=(J=J||{}).md||t.md.sha1.create();switch(J.type||"RSAPublicKey"){case"RSAPublicKey":fe=a.toDer(p.publicKeyToRSAPublicKey(L)).getBytes();break;case"SubjectPublicKeyInfo":fe=a.toDer(p.publicKeyToAsn1(L)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+J.type+'".')}te.start(),te.update(fe);var oe=te.digest();if("hex"===J.encoding){var R=oe.toHex();return J.delimiter?R.match(/.{2}/g).join(J.delimiter):R}if("binary"===J.encoding)return oe.getBytes();if(J.encoding)throw new Error('Unknown encoding "'+J.encoding+'".');return oe},p.certificationRequestFromPem=function(L,J,te){var N=t.pem.decode(L)[0];if("CERTIFICATE REQUEST"!==N.type){var fe=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw fe.headerType=N.type,fe}if(N.procType&&"ENCRYPTED"===N.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var oe=a.fromDer(N.body,te);return p.certificationRequestFromAsn1(oe,J)},p.certificationRequestToPem=function(L,J){var te={type:"CERTIFICATE REQUEST",body:a.toDer(p.certificationRequestToAsn1(L)).getBytes()};return t.pem.encode(te,{maxline:J})},p.createCertificate=function(){var L={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.validity={},L.validity.notBefore=new Date,L.validity.notAfter=new Date,L.issuer={},L.issuer.getField=function(J){return k(L.issuer,J)},L.issuer.addField=function(J){F([J]),L.issuer.attributes.push(J)},L.issuer.attributes=[],L.issuer.hash=null,L.subject={},L.subject.getField=function(J){return k(L.subject,J)},L.subject.addField=function(J){F([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.extensions=[],L.publicKey=null,L.md=null,L.setSubject=function(J,te){F(J),L.subject.attributes=J,delete L.subject.uniqueId,te&&(L.subject.uniqueId=te),L.subject.hash=null},L.setIssuer=function(J,te){F(J),L.issuer.attributes=J,delete L.issuer.uniqueId,te&&(L.issuer.uniqueId=te),L.issuer.hash=null},L.setExtensions=function(J){for(var te=0;te<J.length;++te)M(J[te],{cert:L});L.extensions=J},L.getExtension=function(J){"string"==typeof J&&(J={name:J});for(var N,te=null,fe=0;null===te&&fe<L.extensions.length;++fe)N=L.extensions[fe],(J.id&&N.id===J.id||J.name&&N.name===J.name)&&(te=N);return te},L.sign=function(J,te){L.md=te||t.md.sha1.create();var N=A[L.md.algorithm+"WithRSAEncryption"];if(!N){var fe=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw fe.algorithm=L.md.algorithm,fe}L.signatureOid=L.siginfo.algorithmOid=N,L.tbsCertificate=p.getTBSCertificate(L);var oe=a.toDer(L.tbsCertificate);L.md.update(oe.getBytes()),L.signature=J.sign(L.md)},L.verify=function(J){var te=!1;if(!L.issued(J)){var N=J.issuer,fe=L.subject,oe=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw oe.expectedIssuer=fe.attributes,oe.actualIssuer=N.attributes,oe}var R=J.md;if(null===R){R=u({signatureOid:J.signatureOid,type:"certificate"});var Pe=J.tbsCertificate||p.getTBSCertificate(J),Te=a.toDer(Pe);R.update(Te.getBytes())}return null!==R&&(te=E({certificate:L,md:R,signature:J.signature})),te},L.isIssuer=function(J){var te=!1,N=L.issuer,fe=J.subject;if(N.hash&&fe.hash)te=N.hash===fe.hash;else if(N.attributes.length===fe.attributes.length){te=!0;for(var oe,R,Pe=0;te&&Pe<N.attributes.length;++Pe)((oe=N.attributes[Pe]).type!==(R=fe.attributes[Pe]).type||oe.value!==R.value)&&(te=!1)}return te},L.issued=function(J){return J.isIssuer(L)},L.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(L.publicKey,{type:"RSAPublicKey"})},L.verifySubjectKeyIdentifier=function(){for(var J=A.subjectKeyIdentifier,te=0;te<L.extensions.length;++te){var N=L.extensions[te];if(N.id===J){var fe=L.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(N.subjectKeyIdentifier)===fe}}return!1},L},p.certificateFromAsn1=function(L,J){var te={},N=[];if(!a.validate(L,m,te,N)){var fe=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw fe.errors=N,fe}if(a.derToOid(te.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var R=p.createCertificate();R.version=te.certVersion?te.certVersion.charCodeAt(0):0;var Pe=t.util.createBuffer(te.certSerialNumber);R.serialNumber=Pe.toHex(),R.signatureOid=t.asn1.derToOid(te.certSignatureOid),R.signatureParameters=Y(R.signatureOid,te.certSignatureParams,!0),R.siginfo.algorithmOid=t.asn1.derToOid(te.certinfoSignatureOid),R.siginfo.parameters=Y(R.siginfo.algorithmOid,te.certinfoSignatureParams,!1),R.signature=te.certSignature;var Te=[];if(void 0!==te.certValidity1UTCTime&&Te.push(a.utcTimeToDate(te.certValidity1UTCTime)),void 0!==te.certValidity2GeneralizedTime&&Te.push(a.generalizedTimeToDate(te.certValidity2GeneralizedTime)),void 0!==te.certValidity3UTCTime&&Te.push(a.utcTimeToDate(te.certValidity3UTCTime)),void 0!==te.certValidity4GeneralizedTime&&Te.push(a.generalizedTimeToDate(te.certValidity4GeneralizedTime)),Te.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Te.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(R.validity.notBefore=Te[0],R.validity.notAfter=Te[1],R.tbsCertificate=te.tbsCertificate,J){R.md=u({signatureOid:R.signatureOid,type:"certificate"});var We=a.toDer(R.tbsCertificate);R.md.update(We.getBytes())}var rt=t.md.sha1.create(),lt=a.toDer(te.certIssuer);rt.update(lt.getBytes()),R.issuer.getField=function(Ye){return k(R.issuer,Ye)},R.issuer.addField=function(Ye){F([Ye]),R.issuer.attributes.push(Ye)},R.issuer.attributes=p.RDNAttributesAsArray(te.certIssuer),te.certIssuerUniqueId&&(R.issuer.uniqueId=te.certIssuerUniqueId),R.issuer.hash=rt.digest().toHex();var vt=t.md.sha1.create(),je=a.toDer(te.certSubject);return vt.update(je.getBytes()),R.subject.getField=function(Ye){return k(R.subject,Ye)},R.subject.addField=function(Ye){F([Ye]),R.subject.attributes.push(Ye)},R.subject.attributes=p.RDNAttributesAsArray(te.certSubject),te.certSubjectUniqueId&&(R.subject.uniqueId=te.certSubjectUniqueId),R.subject.hash=vt.digest().toHex(),R.extensions=te.certExtensions?p.certificateExtensionsFromAsn1(te.certExtensions):[],R.publicKey=p.publicKeyFromAsn1(te.subjectPublicKeyInfo),R},p.certificateExtensionsFromAsn1=function(L){for(var J=[],te=0;te<L.value.length;++te)for(var N=L.value[te],fe=0;fe<N.value.length;++fe)J.push(p.certificateExtensionFromAsn1(N.value[fe]));return J},p.certificateExtensionFromAsn1=function(L){var J={};if(J.id=a.derToOid(L.value[0].value),J.critical=!1,L.value[1].type===a.Type.BOOLEAN?(J.critical=0!==L.value[1].value.charCodeAt(0),J.value=L.value[2].value):J.value=L.value[1].value,J.id in A)if(J.name=A[J.id],"keyUsage"===J.name){var N=0,fe=0;(te=a.fromDer(J.value)).value.length>1&&(N=te.value.charCodeAt(1),fe=te.value.length>2?te.value.charCodeAt(2):0),J.digitalSignature=!(128&~N),J.nonRepudiation=!(64&~N),J.keyEncipherment=!(32&~N),J.dataEncipherment=!(16&~N),J.keyAgreement=!(8&~N),J.keyCertSign=!(4&~N),J.cRLSign=!(2&~N),J.encipherOnly=!(1&~N),J.decipherOnly=!(128&~fe)}else if("basicConstraints"===J.name){var te=a.fromDer(J.value);J.cA=te.value.length>0&&te.value[0].type===a.Type.BOOLEAN&&0!==te.value[0].value.charCodeAt(0);var oe=null;te.value.length>0&&te.value[0].type===a.Type.INTEGER?oe=te.value[0].value:te.value.length>1&&(oe=te.value[1].value),null!==oe&&(J.pathLenConstraint=a.derToInteger(oe))}else if("extKeyUsage"===J.name){te=a.fromDer(J.value);for(var R=0;R<te.value.length;++R){var Pe=a.derToOid(te.value[R].value);Pe in A?J[A[Pe]]=!0:J[Pe]=!0}}else if("nsCertType"===J.name)N=0,(te=a.fromDer(J.value)).value.length>1&&(N=te.value.charCodeAt(1)),J.client=!(128&~N),J.server=!(64&~N),J.email=!(32&~N),J.objsign=!(16&~N),J.reserved=!(8&~N),J.sslCA=!(4&~N),J.emailCA=!(2&~N),J.objCA=!(1&~N);else if("subjectAltName"===J.name||"issuerAltName"===J.name){J.altNames=[],te=a.fromDer(J.value);for(var Te,We=0;We<te.value.length;++We){var rt={type:(Te=te.value[We]).type,value:Te.value};switch(J.altNames.push(rt),Te.type){case 1:case 2:case 6:break;case 7:rt.ip=t.util.bytesToIP(Te.value);break;case 8:rt.oid=a.derToOid(Te.value)}}}else"subjectKeyIdentifier"===J.name&&(te=a.fromDer(J.value),J.subjectKeyIdentifier=t.util.bytesToHex(te.value));return J},p.certificationRequestFromAsn1=function(L,J){var te={},N=[];if(!a.validate(L,g,te,N)){var fe=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw fe.errors=N,fe}if(a.derToOid(te.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var R=p.createCertificationRequest();if(R.version=te.csrVersion?te.csrVersion.charCodeAt(0):0,R.signatureOid=t.asn1.derToOid(te.csrSignatureOid),R.signatureParameters=Y(R.signatureOid,te.csrSignatureParams,!0),R.siginfo.algorithmOid=t.asn1.derToOid(te.csrSignatureOid),R.siginfo.parameters=Y(R.siginfo.algorithmOid,te.csrSignatureParams,!1),R.signature=te.csrSignature,R.certificationRequestInfo=te.certificationRequestInfo,J){R.md=u({signatureOid:R.signatureOid,type:"certification request"});var Pe=a.toDer(R.certificationRequestInfo);R.md.update(Pe.getBytes())}var Te=t.md.sha1.create();return R.subject.getField=function(We){return k(R.subject,We)},R.subject.addField=function(We){F([We]),R.subject.attributes.push(We)},R.subject.attributes=p.RDNAttributesAsArray(te.certificationRequestInfoSubject,Te),R.subject.hash=Te.digest().toHex(),R.publicKey=p.publicKeyFromAsn1(te.subjectPublicKeyInfo),R.getAttribute=function(We){return k(R,We)},R.addAttribute=function(We){F([We]),R.attributes.push(We)},R.attributes=p.CRIAttributesAsArray(te.certificationRequestInfoAttributes||[]),R},p.createCertificationRequest=function(){var L={version:0,signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.subject={},L.subject.getField=function(J){return k(L.subject,J)},L.subject.addField=function(J){F([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.publicKey=null,L.attributes=[],L.getAttribute=function(J){return k(L,J)},L.addAttribute=function(J){F([J]),L.attributes.push(J)},L.md=null,L.setSubject=function(J){F(J),L.subject.attributes=J,L.subject.hash=null},L.setAttributes=function(J){F(J),L.attributes=J},L.sign=function(J,te){L.md=te||t.md.sha1.create();var N=A[L.md.algorithm+"WithRSAEncryption"];if(!N){var fe=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw fe.algorithm=L.md.algorithm,fe}L.signatureOid=L.siginfo.algorithmOid=N,L.certificationRequestInfo=p.getCertificationRequestInfo(L);var oe=a.toDer(L.certificationRequestInfo);L.md.update(oe.getBytes()),L.signature=J.sign(L.md)},L.verify=function(){var J=!1,te=L.md;if(null===te){te=u({signatureOid:L.signatureOid,type:"certification request"});var N=L.certificationRequestInfo||p.getCertificationRequestInfo(L),fe=a.toDer(N);te.update(fe.getBytes())}return null!==te&&(J=E({certificate:L,md:te,signature:L.signature})),J},L};var z=new Date("1950-01-01T00:00:00Z"),Z=new Date("2050-01-01T00:00:00Z");function v(L){return L>=z&&L<Z?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(L)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(L))}p.getTBSCertificate=function(L){var J=v(L.validity.notBefore),te=v(L.validity.notAfter),N=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(L.version).getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.util.hexToBytes(L.serialNumber)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(L.siginfo.algorithmOid).getBytes()),W(L.siginfo.algorithmOid,L.siginfo.parameters)]),B(L.issuer),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[J,te]),B(L.subject),p.publicKeyToAsn1(L.publicKey)]);return L.issuer.uniqueId&&N.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+L.issuer.uniqueId)])),L.subject.uniqueId&&N.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+L.subject.uniqueId)])),L.extensions.length>0&&N.value.push(p.certificateExtensionsToAsn1(L.extensions)),N},p.getCertificationRequestInfo=function(L){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(L.version).getBytes()),B(L.subject),p.publicKeyToAsn1(L.publicKey),y(L)])},p.distinguishedNameToAsn1=function(L){return B(L)},p.certificateToAsn1=function(L){var J=L.tbsCertificate||p.getTBSCertificate(L);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[J,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(L.signatureOid).getBytes()),W(L.signatureOid,L.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+L.signature)])},p.certificateExtensionsToAsn1=function(L){var J=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[]),te=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);J.value.push(te);for(var N=0;N<L.length;++N)te.value.push(p.certificateExtensionToAsn1(L[N]));return J},p.certificateExtensionToAsn1=function(L){var J=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);J.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(L.id).getBytes())),L.critical&&J.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,"\xff"));var te=L.value;return"string"!=typeof L.value&&(te=a.toDer(te).getBytes()),J.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,te)),J},p.certificationRequestToAsn1=function(L){var J=L.certificationRequestInfo||p.getCertificationRequestInfo(L);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[J,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(L.signatureOid).getBytes()),W(L.signatureOid,L.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+L.signature)])},p.createCaStore=function(L){var J={certs:{}};function te(R){return N(R),J.certs[R.hash]||null}function N(R){if(!R.hash){var Pe=t.md.sha1.create();R.attributes=p.RDNAttributesAsArray(B(R),Pe),R.hash=Pe.digest().toHex()}}if(J.getIssuer=function(R){return te(R.issuer)},J.addCertificate=function(R){if("string"==typeof R&&(R=t.pki.certificateFromPem(R)),N(R.subject),!J.hasCertificate(R))if(R.subject.hash in J.certs){var Pe=J.certs[R.subject.hash];t.util.isArray(Pe)||(Pe=[Pe]),Pe.push(R),J.certs[R.subject.hash]=Pe}else J.certs[R.subject.hash]=R},J.hasCertificate=function(R){"string"==typeof R&&(R=t.pki.certificateFromPem(R));var Pe=te(R.subject);if(!Pe)return!1;t.util.isArray(Pe)||(Pe=[Pe]);for(var Te=a.toDer(p.certificateToAsn1(R)).getBytes(),We=0;We<Pe.length;++We)if(Te===a.toDer(p.certificateToAsn1(Pe[We])).getBytes())return!0;return!1},J.listAllCertificates=function(){var R=[];for(var Pe in J.certs)if(J.certs.hasOwnProperty(Pe)){var Te=J.certs[Pe];if(t.util.isArray(Te))for(var We=0;We<Te.length;++We)R.push(Te[We]);else R.push(Te)}return R},J.removeCertificate=function(R){var Pe;if("string"==typeof R&&(R=t.pki.certificateFromPem(R)),N(R.subject),!J.hasCertificate(R))return null;var Te=te(R.subject);if(!t.util.isArray(Te))return Pe=J.certs[R.subject.hash],delete J.certs[R.subject.hash],Pe;for(var We=a.toDer(p.certificateToAsn1(R)).getBytes(),rt=0;rt<Te.length;++rt)We===a.toDer(p.certificateToAsn1(Te[rt])).getBytes()&&(Pe=Te[rt],Te.splice(rt,1));return 0===Te.length&&delete J.certs[R.subject.hash],Pe},L)for(var fe=0;fe<L.length;++fe)J.addCertificate(L[fe]);return J},p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},p.verifyCertificateChain=function(L,J,te){"function"==typeof te&&(te={verify:te}),te=te||{};var N=(J=J.slice(0)).slice(0),fe=te.validityCheckDate;typeof fe>"u"&&(fe=new Date);var oe=!0,R=null,Pe=0;do{var Te=J.shift(),We=null,rt=!1;if(fe&&(fe<Te.validity.notBefore||fe>Te.validity.notAfter)&&(R={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:Te.validity.notBefore,notAfter:Te.validity.notAfter,now:fe}),null===R){if(null===(We=J[0]||L.getIssuer(Te))&&Te.isIssuer(Te)&&(rt=!0,We=Te),We){var lt=We;t.util.isArray(lt)||(lt=[lt]);for(var vt=!1;!vt&&lt.length>0;){We=lt.shift();try{vt=We.verify(Te)}catch{}}vt||(R={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}null===R&&(!We||rt)&&!L.hasCertificate(Te)&&(R={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}if(null===R&&We&&!Te.isIssuer(We)&&(R={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate}),null===R)for(var je={keyUsage:!0,basicConstraints:!0},Ye=0;null===R&&Ye<Te.extensions.length;++Ye){var Ke=Te.extensions[Ye];Ke.critical&&!(Ke.name in je)&&(R={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}if(null===R&&(!oe||0===J.length&&(!We||rt))){var it=Te.getExtension("basicConstraints"),Ve=Te.getExtension("keyUsage");null!==Ve&&(!Ve.keyCertSign||null===it)&&(R={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:p.certificateError.bad_certificate}),null===R&&null!==it&&!it.cA&&(R={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),null===R&&null!==Ve&&"pathLenConstraint"in it&&Pe-1>it.pathLenConstraint&&(R={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate})}var Xe=null===R||R.error,Ue=te.verify?te.verify(Xe,Pe,N):Xe;if(!0!==Ue)throw!0===Xe&&(R={message:"The application rejected the certificate.",error:p.certificateError.bad_certificate}),(Ue||0===Ue)&&("object"!=typeof Ue||t.util.isArray(Ue)?"string"==typeof Ue&&(R.error=Ue):(Ue.message&&(R.message=Ue.message),Ue.error&&(R.error=Ue.error))),R;R=null,oe=!1,++Pe}while(J.length>0);return!0}},9437:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>A});var t=l(8750),a=l(4360),p=l(9974);function A(e){return(0,p.N)((w,m)=>{let g,D=null,S=!1;D=w.subscribe((0,a._)(m,void 0,void 0,k=>{g=(0,t.Tg)(e(k,A(e)(w))),D?(D.unsubscribe(),D=null,g.subscribe(m)):S=!0})),S&&(D.unsubscribe(),D=null,g.subscribe(m))})}},9470:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>a});var t=l(8071);function a(p){return p&&(0,t.T)(p.schedule)}},9475:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>E});var t=l(8434),a=l(5139),p=l(9417),A=l(534),e=l(1924),w=l(8018),m=l(5731),D=l(4193),S=l(7175),g=l(6599),k=l(1683),Y=l(1575),u=l(1360);let E=(()=>{class B{static{this.\u0275fac=function(M){return new(M||B)}}static{this.\u0275mod=u.$C({type:B})}static{this.\u0275inj=u.G2t({providers:[Y.v],imports:[t.MD,p.YN,p.X1,a.XE,w.h,e.h6,A.Ss,m.i,D.c,S.c,g.Y,k.Y]})}}return B})()},9550:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>w});var t=l(1360),a=l(8434);const p=["*"],A=(m,D)=>({"tw-form-switch__slider--traffic":m,"tw-form-switch__slider--alt":D}),e=(m,D)=>({"tw-form-switch__state--traffic":m,"tw-form-switch__state--alt":D});let w=(()=>{class m{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["app-form-toggle"]],inputs:{idFor:[0,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},standalone:!1,ngContentSelectors:p,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(g,k){1&g&&(t.NAR(),t.j41(0,"label",0),t.SdG(1),t.j41(2,"span",1),t.nrm(3,"span",2),t.k0s()()),2&g&&(t.Y8G("for",k.idFor),t.R7$(2),t.Y8G("ngClass",t.l_i(3,A,k.isTraffic,k.isAlt)),t.R7$(),t.Y8G("ngClass",t.l_i(6,e,k.isTraffic,k.isAlt)))},dependencies:[a.YU],encapsulation:2})}}return m})()},9564:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>p});var t=l(3165),a=l(1360);let p=(()=>{class A{setHeaders(w,m){return(new t.Lr).set("Content-Type",w||"application/json").set("Accept",m||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac})}}return A})()},9568:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>D});var t=l(2771),a=l(8750),p=l(1413),A=l(7707),e=l(9974);function m(S,g,...k){if(!0===g)return void S();if(!1===g)return;const Y=new A.Ms({next:()=>{Y.unsubscribe(),S()}});return(0,a.Tg)(g(...k)).subscribe(Y)}function D(S,g,k){let Y,u=!1;return S&&"object"==typeof S?({bufferSize:Y=1/0,windowTime:g=1/0,refCount:u=!1,scheduler:k}=S):Y=S??1/0,function w(S={}){const{connector:g=()=>new p.B,resetOnError:k=!0,resetOnComplete:Y=!0,resetOnRefCountZero:u=!0}=S;return E=>{let B,V,F,M=0,W=!1,y=!1;const z=()=>{V?.unsubscribe(),V=void 0},Z=()=>{z(),B=F=void 0,W=y=!1},v=()=>{const L=B;Z(),L?.unsubscribe()};return(0,e.N)((L,J)=>{M++,!y&&!W&&z();const te=F=F??g();J.add(()=>{M--,0===M&&!y&&!W&&(V=m(v,u))}),te.subscribe(J),!B&&M>0&&(B=new A.Ms({next:N=>te.next(N),error:N=>{y=!0,z(),V=m(Z,k,N),te.error(N)},complete:()=>{W=!0,z(),V=m(Z,Y),te.complete()}}),(0,a.Tg)(L).subscribe(B))})(E)}}({connector:()=>new t.m(Y,g,k),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},9622:(ot,ve,l)=>{var t=l(6589);l(7097),l(1817),l(1347),l(9368),l(1097),l(4724),l(8588),l(2880),l(812),l(9436);var a=t.asn1,p=ot.exports=t.pki=t.pki||{};p.pemToDer=function(A){var e=t.pem.decode(A)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(e.body)},p.privateKeyFromPem=function(A){var e=t.pem.decode(A)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var w=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw w.headerType=e.type,w}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var m=a.fromDer(e.body);return p.privateKeyFromAsn1(m)},p.privateKeyToPem=function(A,e){var w={type:"RSA PRIVATE KEY",body:a.toDer(p.privateKeyToAsn1(A)).getBytes()};return t.pem.encode(w,{maxline:e})},p.privateKeyInfoToPem=function(A,e){var w={type:"PRIVATE KEY",body:a.toDer(A).getBytes()};return t.pem.encode(w,{maxline:e})}},9624:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{StarterModeModule:()=>Be});var t=l(9262),a=l(8018),p=l(779),A=l(5139),e=l(6976),w=l(9865),m=l(5312),D=l(1410),S=l(1360),g=l(2947),k=l(3680),Y=l(6406);function u(Xe,Ue){1&Xe&&(S.j41(0,"li"),S.EFF(1),S.nI1(2,"translate"),S.k0s(),S.j41(3,"li"),S.EFF(4),S.nI1(5,"translate"),S.k0s(),S.j41(6,"li"),S.EFF(7),S.nI1(8,"translate"),S.k0s()),2&Xe&&(S.R7$(),S.JRh(S.bMT(2,3,"StarterMode.Teaser.Features.Audits")),S.R7$(3),S.JRh(S.bMT(5,5,"StarterMode.Teaser.Features.Import")),S.R7$(3),S.JRh(S.bMT(8,7,"StarterMode.Teaser.Features.DynamicAuth")))}let E=(()=>{class Xe{constructor(ct,st,Qe){this.route=ct,this.translate=st,this.router=Qe,this.LinkConstants=w.e,this.environment=m.c,this.IdentityPlatform=D.y,this.featureMap=new Map([[e.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[e.p.Auditing,this.translate.instant("Auditing.Title")],[e.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[e.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(ct=>{this.generateDescription()})}generateDescription(){const ct=+this.route.snapshot.queryParamMap.get("feature");if(ct in e.p&&ct!=e.p.None){const Qe=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(ct),this.preFeatureDescription=Qe[0],this.postFeatureDescription=Qe[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(st){return new(st||Xe)(S.rXU(g.nX),S.rXU(a.c$),S.rXU(g.Ix))}}static{this.\u0275cmp=S.VBU({type:Xe,selectors:[["ng-component"]],standalone:!1,decls:32,vars:27,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"href"],["id","ExtendDemo",1,"tw-btn","tw-mr-3","tw-mb-3",3,"href"]],template:function(st,Qe){1&st&&(S.nrm(0,"app-title-bar",0),S.nI1(1,"translate"),S.j41(2,"div",1)(3,"div",2)(4,"p",3),S.EFF(5),S.j41(6,"strong"),S.EFF(7),S.k0s(),S.EFF(8),S.k0s(),S.j41(9,"ul",4)(10,"li"),S.EFF(11),S.nI1(12,"translate"),S.k0s(),S.j41(13,"li"),S.EFF(14),S.nI1(15,"translate"),S.k0s(),S.j41(16,"li"),S.EFF(17),S.nI1(18,"translate"),S.k0s(),S.j41(19,"li"),S.EFF(20),S.nI1(21,"translate"),S.k0s(),S.DNE(22,u,9,9),S.k0s()()(),S.j41(23,"app-button-bar")(24,"a",5)(25,"span"),S.EFF(26),S.nI1(27,"translate"),S.k0s()(),S.j41(28,"a",6)(29,"span"),S.EFF(30),S.nI1(31,"translate"),S.k0s()()()),2&st&&(S.Y8G("title",S.bMT(1,13,"StarterMode.Teaser.Title")),S.R7$(5),S.SpI("",Qe.preFeatureDescription," "),S.R7$(2),S.JRh(Qe.featureDescription),S.R7$(),S.SpI(" ",Qe.postFeatureDescription,""),S.R7$(3),S.JRh(S.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),S.R7$(3),S.JRh(S.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),S.R7$(3),S.JRh(S.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),S.R7$(3),S.JRh(S.bMT(21,21,"StarterMode.Teaser.Features.Access")),S.R7$(2),S.vxM(Qe.environment.authServer==Qe.IdentityPlatform.Duende?22:-1),S.R7$(2),S.Y8G("href","https://www."+Qe.LinkConstants.AdminUIProviderDomain+".com/products/adminui/order-now?index=2&name=Enterprise",S.B4B),S.R7$(2),S.JRh(S.bMT(27,23,"StarterMode.UpgradeAdminUI")),S.R7$(2),S.Y8G("href",Qe.LinkConstants.ExtendLicense,S.B4B),S.R7$(2),S.JRh(S.bMT(31,25,"StarterMode.ExtendDemo")))},dependencies:[k.z,Y.z,a.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var B=l(1594),V=l(3178),F=l(7773),M=l(3165),W=l(9564);let y=(()=>{class Xe{constructor(ct,st){this.http=ct,this.headersService=st,this.headers=new M.Lr,this.actionUrl="StarterMode",this.headers=st.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(st){return new(st||Xe)(S.KVO(M.Qq),S.KVO(W.m))}}static{this.\u0275prov=S.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})();var z=l(5794),Z=l(1339),v=l(9196),L=l(8434),J=l(8114);function te(Xe,Ue){1&Xe&&(S.j41(0,"div",15)(1,"p",16)(2,"span"),S.EFF(3),S.nI1(4,"translate"),S.k0s()()()),2&Xe&&(S.R7$(3),S.JRh(S.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}function N(Xe,Ue){1&Xe&&(S.j41(0,"li"),S.EFF(1),S.nI1(2,"translate"),S.k0s(),S.j41(3,"li"),S.EFF(4),S.nI1(5,"translate"),S.k0s(),S.j41(6,"li"),S.EFF(7),S.nI1(8,"translate"),S.k0s()),2&Xe&&(S.R7$(),S.JRh(S.bMT(2,3,"StarterMode.Consent.Features.Import")),S.R7$(3),S.JRh(S.bMT(5,5,"StarterMode.Consent.Features.Audits")),S.R7$(3),S.JRh(S.bMT(8,7,"StarterMode.Consent.Features.DynamicAuth")))}let fe=(()=>{class Xe{constructor(ct,st,Qe,ne,K,de){this.translate=ct,this.permissionService=st,this.starterModeConsentService=Qe,this.toastr=ne,this.authService=K,this.configService=de,this.LinkConstants=w.e,this.environment=m.c,this.IdentityPlatform=D.y}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,B.$)()).subscribe({next:ct=>this.isAdmin=ct.permissions.includes(V.a.All)}),this.configService.getConfig().pipe((0,B.$)()).subscribe({next:ct=>this.starterModePersistance=ct.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,B.$)()).subscribe({next:()=>{this.authService.logoff()},error:ct=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(st){return new(st||Xe)(S.rXU(a.c$),S.rXU(F.n),S.rXU(y),S.rXU(z.tw),S.rXU(Z.u),S.rXU(v.w))}}static{this.\u0275cmp=S.VBU({type:Xe,selectors:[["ng-component"]],standalone:!1,decls:49,vars:50,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"href"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn-secondary","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo",1,"tw-btn-link","tw-mr-3","tw-mb-3",3,"href"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(st,Qe){if(1&st){const ne=S.RV6();S.nrm(0,"app-title-bar",2),S.nI1(1,"translate"),S.j41(2,"div",3),S.DNE(3,te,5,3,"div",4),S.j41(4,"div",5)(5,"p"),S.EFF(6),S.nI1(7,"translate"),S.k0s(),S.j41(8,"ul",6)(9,"li"),S.EFF(10),S.nI1(11,"translate"),S.k0s(),S.j41(12,"li"),S.EFF(13),S.nI1(14,"translate"),S.k0s(),S.j41(15,"li"),S.EFF(16),S.nI1(17,"translate"),S.k0s(),S.j41(18,"li"),S.EFF(19),S.nI1(20,"translate"),S.k0s(),S.DNE(21,N,9,9),S.k0s()()(),S.j41(22,"app-button-bar")(23,"a",7)(24,"span"),S.EFF(25),S.nI1(26,"translate"),S.k0s()(),S.j41(27,"button",8),S.bIt("click",function(){S.eBV(ne);const de=S.sdS(36),ge=S.sdS(44);return S.Njj(Qe.starterModePersistance?de.show():ge.show())}),S.j41(28,"span"),S.EFF(29),S.nI1(30,"translate"),S.k0s()(),S.j41(31,"a",9)(32,"span"),S.EFF(33),S.nI1(34,"translate"),S.k0s()()(),S.j41(35,"app-confirmation-modal",10,0),S.bIt("confirm",function(){return S.eBV(ne),S.Njj(Qe.giveConsentToStarterMode())}),S.qex(37,11),S.j41(38,"p",12),S.EFF(39),S.nI1(40,"translate"),S.k0s(),S.nrm(41,"p",13),S.nI1(42,"translate"),S.bVm(),S.k0s(),S.j41(43,"app-confirmation-modal",14,1),S.bIt("confirm",function(){return S.eBV(ne),S.Njj(Qe.openStartModeNoPersistranceDocs())}),S.qex(45,11),S.j41(46,"p",12),S.EFF(47),S.nI1(48,"translate"),S.k0s(),S.bVm(),S.k0s()}2&st&&(S.Y8G("title",S.bMT(1,26,"StarterMode.Consent.Title")),S.R7$(3),S.Y8G("ngIf",!Qe.isAdmin),S.R7$(3),S.JRh(S.bMT(7,28,"StarterMode.Consent.Description")),S.R7$(4),S.JRh(S.bMT(11,30,"StarterMode.Consent.Features.Authentication")),S.R7$(3),S.JRh(S.bMT(14,32,"StarterMode.Consent.Features.Users")),S.R7$(3),S.JRh(S.bMT(17,34,"StarterMode.Consent.Features.Clients")),S.R7$(3),S.JRh(S.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),S.R7$(2),S.vxM(Qe.environment.authServer==Qe.IdentityPlatform.Duende?21:-1),S.R7$(2),S.Y8G("href","https://www."+Qe.LinkConstants.AdminUIProviderDomain+".com/products/adminui/order-now?index=2&name=Enterprise",S.B4B),S.R7$(2),S.JRh(S.bMT(26,38,"StarterMode.UpgradeAdminUI")),S.R7$(2),S.Y8G("disabled",!Qe.isAdmin),S.R7$(2),S.JRh(S.bMT(30,40,"StarterMode.ConfirmStarterMode")),S.R7$(2),S.Y8G("href",Qe.LinkConstants.ExtendLicense,S.B4B),S.R7$(2),S.JRh(S.bMT(34,42,"StarterMode.ExtendDemo")),S.R7$(2),S.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),S.R7$(4),S.JRh(S.bMT(40,44,"StarterMode.ConfirmationModal.Description")),S.R7$(2),S.Y8G("innerHTML",S.bMT(42,46,"StarterMode.ConfirmationModal.Warning"),S.npT),S.R7$(2),S.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),S.R7$(4),S.JRh(S.bMT(48,48,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[L.bT,k.z,Y.z,J.B,a.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var oe=l(5517),R=l(2892),Pe=l(6354),Te=l(3853);let We=(()=>{class Xe{constructor(ct,st,Qe){this.licenseService=ct,this.router=st,this.localizeRouter=Qe}canActivate(ct,st){return this.licenseService.getLicenseInfo().pipe((0,B.$)(),(0,Pe.T)(Qe=>{if(Qe.isExpectingStarterConsent())return!0;{const ne=this.localizeRouter.translateRoute("/home");this.router.navigate([ne])}}))}static{this.\u0275fac=function(st){return new(st||Xe)(S.KVO(Te.X),S.KVO(g.Ix),S.KVO(A.QG))}}static{this.\u0275prov=S.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})();var rt=l(4446);const lt=[{path:"starter-mode/teaser",component:E,canActivate:[R.h,rt._,oe.H]},{path:"starter-mode/consent",component:fe,canActivate:[R.h,We]}];let vt=(()=>{class Xe{static{this.\u0275fac=function(st){return new(st||Xe)}}static{this.\u0275mod=S.$C({type:Xe})}static{this.\u0275inj=S.G2t({providers:[oe.H],imports:[t.iI.forChild(lt),A.XE.forChild(lt),t.iI]})}}return Xe})();var je=l(9962),Ye=l(4814),Ke=l(367),it=l(1993),Ve=l(4367);let Be=(()=>{class Xe{static{this.\u0275fac=function(st){return new(st||Xe)}}static{this.\u0275mod=S.$C({type:Xe})}static{this.\u0275inj=S.G2t({providers:[y,We,oe.H,je.m,Ye.y],imports:[t.iI,vt,a.h,Ke.m,p.Q_,it.E,Ve.N]})}}return Xe})()},9686:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>A});class t{constructor(w){this.form=w}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var a=l(1360),p=l(7883);let A=(()=>{class e{constructor(m){this.securityService=m}buildForm(m){const D=this.buildStandardForm(m);return new t(D)}buildStandardForm(m){const D=document.createElement("form");return D.setAttribute("method","post"),D.setAttribute("action",m),D}appendInput(m,D,S){const g=document.createElement("input");g.setAttribute("type","text"),g.setAttribute("name",m),g.setAttribute("value",D),S.appendChild(g)}buildFormWithCustomInputs(m,D){const S=this.buildStandardForm(m);return D.forEach((g,k)=>{this.appendInput(k,g,S)}),new t(S)}static{this.\u0275fac=function(D){return new(D||e)(a.KVO(p.i))}}static{this.\u0275prov=a.jDH({token:e,factory:e.\u0275fac})}}return e})()},9687:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>p});var t=l(6129);class a{constructor(e,w=a.now){this.schedulerActionCtor=e,this.now=w}schedule(e,w=0,m){return new this.schedulerActionCtor(this,e).schedule(m,w)}}a.now=t.U.now;class p extends a{constructor(e,w=a.now){super(e,w),this.actions=[],this._active=!1}flush(e){const{actions:w}=this;if(this._active)return void w.push(e);let m;this._active=!0;do{if(m=e.execute(e.state,e.delay))break}while(e=w.shift());if(this._active=!1,m){for(;e=w.shift();)e.unsubscribe();throw m}}}},9764:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>rt});var t=l(467),a=l(1360),p=l(9417),A=l(9838),e=l(1413),w=l(7263),m=l(9767),D=l(4252),S=l(1258),g=l(4549),k=l(4754),Y=l(9812),u=l(8434),E=l(5404),B=l(8698),V=l(9550),F=l(8577),M=l(3899),W=l(6536),y=l(8018);const z=["certificateReader"],Z=["addCertificateBtn"],v=["showModalButton"],L=["secretPicker"],J=["certificateReaderNonModal"],te=["addCertificateBtnNonModal"];function N(lt,vt){if(1&lt&&(a.j41(0,"option",43),a.EFF(1),a.k0s()),2&lt){const je=vt.$implicit;a.Y8G("value",je.value),a.R7$(),a.JRh(je.value)}}function fe(lt,vt){1&lt&&(a.j41(0,"p",44),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&lt&&(a.R7$(),a.JRh(a.bMT(2,1,"Secret Picker.LastWarning")))}function oe(lt,vt){if(1&lt&&a.nrm(0,"app-date-time",45),2&lt){const je=a.XpG(2);a.Y8G("min",je.minDate)}}function R(lt,vt){if(1&lt){const je=a.RV6();a.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),a.DNE(6,N,2,2,"option",21),a.nI1(7,"keyvalue"),a.k0s()()(),a.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),a.nrm(11,"input",24),a.j41(12,"button",25),a.bIt("click",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.generateRandom())}),a.nrm(13,"span",26),a.j41(14,"span",27),a.EFF(15),a.nI1(16,"translate"),a.k0s()()(),a.nrm(17,"input",28),a.j41(18,"div",29)(19,"button",30,1),a.bIt("click",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.openCertificateReaderModel())}),a.j41(21,"span"),a.EFF(22),a.nI1(23,"translate"),a.k0s()()(),a.DNE(24,fe,3,3,"p",31),a.k0s()(),a.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),a.bIt("change",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.toggleExpirationDateInput())}),a.k0s()()()(),a.DNE(31,oe,1,1,"app-date-time",37),a.k0s()(),a.j41(32,"app-form-row",38),a.nrm(33,"textarea",39),a.k0s()()(),a.j41(34,"div",40)(35,"button",41),a.bIt("click",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.addSecret())}),a.EFF(36),a.nI1(37,"translate"),a.k0s(),a.j41(38,"button",42),a.bIt("click",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.resetForm())}),a.EFF(39),a.nI1(40,"translate"),a.k0s()()()}if(2&lt){const je=a.XpG();a.Y8G("formGroup",je.secretForm),a.R7$(3),a.Y8G("id","SecretType")("label","Common.Type"),a.R7$(3),a.Y8G("ngForOf",a.bMT(7,23,je.secretTypes)),a.R7$(2),a.Y8G("id","SecretValue")("label","Common.Value"),a.R7$(2),a.Y8G("hidden","Shared Secret"!==je.secretForm.controls.type.value),a.R7$(5),a.JRh(a.bMT(16,25,"Common.GenerateRandom")),a.R7$(2),a.Y8G("hidden","Shared Secret"===je.secretForm.controls.type.value),a.R7$(2),a.Y8G("hidden","Shared Secret"===je.secretForm.controls.type.value),a.R7$(3),a.JRh(a.bMT(23,27,"Common.ReadCertificate")),a.R7$(2),a.Y8G("ngIf",je.displayWarnings),a.R7$(),a.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),a.R7$(4),a.Y8G("id","expirationDateEnabled"),a.R7$(2),a.Y8G("ngIf",je.expirationDateEnabled),a.R7$(),a.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),a.R7$(3),a.Y8G("disabled",!je.secretForm.valid),a.R7$(),a.JRh(a.bMT(37,29,"Common.Add")),a.R7$(3),a.JRh(a.bMT(40,31,"Common.Clear"))}}function Pe(lt,vt){1&lt&&a.nrm(0,"app-data-table-column",46),2&lt&&a.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Te(lt,vt){if(1&lt){const je=a.RV6();a.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),a.nI1(5,"translate"),a.nI1(6,"translate"),a.nI1(7,"translate"),a.nI1(8,"translate"),a.bIt("dataExists",function(Ke){a.eBV(je);const it=a.XpG();return a.Njj(it.certificateDataLoaded(Ke))}),a.k0s()(),a.j41(9,"div",40)(10,"button",50,4),a.bIt("click",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.hideCertReaderNonModal(!0))}),a.EFF(12),a.nI1(13,"translate"),a.k0s(),a.j41(14,"button",42),a.bIt("click",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.hideCertReaderNonModal(!1))}),a.EFF(15),a.nI1(16,"translate"),a.k0s()()()}2&lt&&(a.R7$(3),a.Y8G("uploadCert",a.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",a.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",a.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",a.bMT(8,12,"Secret Picker.MetaDataHelp")),a.R7$(9),a.JRh(a.bMT(13,14,"Common.Use")),a.R7$(3),a.JRh(a.bMT(16,16,"Common.Cancel")))}function We(lt,vt){if(1&lt){const je=a.RV6();a.j41(0,"app-custom-modal",51),a.bIt("onSave",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){a.eBV(je);const Ke=a.XpG();return a.Njj(Ke.closeCertificateReaderModel())}),a.j41(1,"app-cert-reader",52,3),a.nI1(3,"translate"),a.nI1(4,"translate"),a.nI1(5,"translate"),a.nI1(6,"translate"),a.bIt("dataExists",function(Ke){a.eBV(je);const it=a.XpG();return a.Njj(it.certificateDataLoaded(Ke))}),a.k0s()()}if(2&lt){const je=a.XpG();a.Y8G("modalId",je.certModalId)("title","Secret Picker.ReadCertificate")("actions",je.modalActions),a.R7$(),a.Y8G("uploadCert",a.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",a.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",a.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",a.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let rt=(()=>{class lt{set clientSecrets(je){this._clientSecrets=je||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(je){this._isReadOnly=je||!1}get isReadOnly(){return this._isReadOnly}constructor(je,Ye,Ke){this.fb=je,this.modalService=Ye,this.dataTableService=Ke,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new A.S9,this.minDate=g.c9.now(),this.secretsAddStream=new e.B,this.secretsRemoveStream=new e.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[D.AA.Delete],this.modalActions=[S.N.Delete,S.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new a.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(je){"Enter"===je.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const je=g.c9.now().toISO();this.secretForm=this.fb.group({description:["",p.k0.maxLength(1e3)],value:["",p.k0.required],expiration:[{value:je,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ye=>{this.deleteSecret(Ye)})}selectedDate(je){this.secretForm.controls.expiration.setValue(je)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,w.Nl)())}dateSelected(je){this.secretForm.controls.expiration.setValue(je)}addSecret(){const je=this.secretForm.value;je.expiration=this.expirationDateEnabled?g.c9.fromISO(je.expiration).toString():null,this.secretsAddStream.next(je),this.secretForm.reset(),this.resetForm()}updateExpiration(){const je=this.secretForm.controls.expiration;this.expirationDateEnabled?(je.addValidators(p.k0.required),je.enable()):(je.removeValidators(p.k0.required),je.disable()),je.reset()}deleteSecret(je){this.secretsRemoveStream.next(this.clientSecrets[je])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var je=this;return(0,t.A)(function*(){je.modalService.hideById(je.certModalId),je.filepickerDisplayed.emit(!1),yield je.ReadCertificateModel()})()}ReadCertificateModel(){var je=this;return(0,t.A)(function*(){const Ye=yield je.certReaderComponent.getCertificateModel();let Ke="";switch(je.secretForm.controls.type.value){case"X509 Certificate Base64":Ke=Ye.base64Cert;break;case"X509 Name":Ke=Ye.subject;break;case"X509 Thumbprint":Ke=Ye.thumbprint}je.secretForm.controls.value.setValue(Ke)})()}certificateDataLoaded(je){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!je),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!je)}hideCertReaderNonModal(je){var Ye=this;return(0,t.A)(function*(){Ye.certificateReaderNonModal.nativeElement.hidden=!0,Ye.secretPicker.nativeElement.hidden=!1,je&&(yield Ye.ReadCertificateModel()),Ye.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Ye){return new(Ye||lt)(a.rXU(p.ze),a.rXU(k.B),a.rXU(Y.I))}}static{this.\u0275cmp=a.VBU({type:lt,selectors:[["app-secret-picker"]],viewQuery:function(Ye,Ke){if(1&Ye&&(a.GBs(z,5),a.GBs(Z,5),a.GBs(v,5),a.GBs(L,5),a.GBs(J,5),a.GBs(te,5)),2&Ye){let it;a.mGM(it=a.lsd())&&(Ke.certReaderComponent=it.first),a.mGM(it=a.lsd())&&(Ke.addCertificateButton=it.first),a.mGM(it=a.lsd())&&(Ke.showModalButton=it.first),a.mGM(it=a.lsd())&&(Ke.secretPicker=it.first),a.mGM(it=a.lsd())&&(Ke.certificateReaderNonModal=it.first),a.mGM(it=a.lsd())&&(Ke.addCertificateBtnNonModal=it.first)}},hostBindings:function(Ye,Ke){1&Ye&&a.bIt("keydown",function(Ve){return Ke.keydown(Ve)},!1,a.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},standalone:!1,decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Ye,Ke){1&Ye&&(a.j41(0,"div",5,0),a.DNE(2,R,41,33,"form",6),a.j41(3,"app-data-table",7),a.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),a.DNE(7,Pe,1,5,"app-data-table-column",11),a.nrm(8,"app-data-table-column",12),a.k0s()(),a.DNE(9,Te,17,18,"div",13)(10,We,7,15,"app-custom-modal",14)),2&Ye&&(a.R7$(2),a.Y8G("ngIf",!Ke.isReadOnly),a.R7$(),a.Y8G("isReadOnly",Ke.isReadOnly)("rows",Ke.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Ke.dataTableActions),a.R7$(),a.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),a.R7$(),a.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),a.R7$(),a.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),a.R7$(),a.Y8G("ngIf",Ke.showCreatedColumn),a.R7$(),a.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),a.R7$(),a.Y8G("ngIf",Ke.nonModelCertPicker),a.R7$(),a.Y8G("ngIf",!1===Ke.nonModelCertPicker))},dependencies:[u.Sq,u.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.j4,p.JD,E.V,B.Y,V.m,D.up,F.w,M.G,W.Z,u.lG,y.D9],encapsulation:2,data:{animation:[(0,m.Ws)()]}})}}return lt})()},9767:(ot,ve,l)=>{"use strict";l.d(ve,{Ws:()=>a,l1:()=>p});var t=l(5218);function a(){return(0,t.hZ)("fadeInOut",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)("250ms",(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)("250ms",(0,t.iF)({opacity:0}))])])}function p(){return(0,t.hZ)("initLoad",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)("250ms",(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)("250ms",(0,t.iF)({opacity:0}))])])}},9786:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>p,l:()=>A});var t=l(1026);let a=null;function p(e){if(t.$.useDeprecatedSynchronousErrorHandling){const w=!a;if(w&&(a={errorThrown:!1,error:null}),e(),w){const{errorThrown:m,error:D}=a;if(a=null,m)throw D}}else e()}function A(e){t.$.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=e)}},9807:(ot,ve,l)=>{var t=l(6589);l(7097),l(4579),l(4846),l(9368),l(9622),l(1675),l(8825),l(812);var a=function(ne,K,de,ge){var o=t.util.createBuffer(),dt=ne.length>>1,gt=dt+(1&ne.length),qt=ne.substr(0,gt),Tn=ne.substr(dt,gt),Wn=t.util.createBuffer(),en=t.hmac.create();de=K+de;var Ln=Math.ceil(ge/16),ni=Math.ceil(ge/20);en.start("MD5",qt);var mt=t.util.createBuffer();Wn.putBytes(de);for(var Jt=0;Jt<Ln;++Jt)en.start(null,null),en.update(Wn.getBytes()),Wn.putBuffer(en.digest()),en.start(null,null),en.update(Wn.bytes()+de),mt.putBuffer(en.digest());en.start("SHA1",Tn);var he=t.util.createBuffer();for(Wn.clear(),Wn.putBytes(de),Jt=0;Jt<ni;++Jt)en.start(null,null),en.update(Wn.getBytes()),Wn.putBuffer(en.digest()),en.start(null,null),en.update(Wn.bytes()+de),he.putBuffer(en.digest());return o.putBytes(t.util.xorBytes(mt.getBytes(),he.getBytes(),ge)),o},e=function(ne,K,de){var ge=!1;try{var o=ne.deflate(K.fragment.getBytes());K.fragment=t.util.createBuffer(o),K.length=o.length,ge=!0}catch{}return ge},w=function(ne,K,de){var ge=!1;try{var o=ne.inflate(K.fragment.getBytes());K.fragment=t.util.createBuffer(o),K.length=o.length,ge=!0}catch{}return ge},m=function(ne,K){var de=0;switch(K){case 1:de=ne.getByte();break;case 2:de=ne.getInt16();break;case 3:de=ne.getInt24();break;case 4:de=ne.getInt32()}return t.util.createBuffer(ne.getBytes(de))},D=function(ne,K,de){ne.putInt(de.length(),K<<3),ne.putBuffer(de)},S={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};S.SupportedVersions=[S.Versions.TLS_1_1,S.Versions.TLS_1_0],S.Version=S.SupportedVersions[0],S.MaxFragment=15360,S.ConnectionEnd={server:0,client:1},S.PRFAlgorithm={tls_prf_sha256:0},S.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},S.CipherType={stream:0,block:1,aead:2},S.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},S.CompressionMethod={none:0,deflate:1},S.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},S.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},S.Alert={},S.Alert.Level={warning:1,fatal:2},S.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},S.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},S.CipherSuites={},S.getCipherSuite=function(ne){var K=null;for(var de in S.CipherSuites){var ge=S.CipherSuites[de];if(ge.id[0]===ne.charCodeAt(0)&&ge.id[1]===ne.charCodeAt(1)){K=ge;break}}return K},S.handleUnexpected=function(ne,K){!ne.open&&ne.entity===S.ConnectionEnd.client||ne.error(ne,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})},S.handleHelloRequest=function(ne,K,de){!ne.handshaking&&ne.handshakes>0&&(S.queue(ne,S.createAlert(ne,{level:S.Alert.Level.warning,description:S.Alert.Description.no_renegotiation})),S.flush(ne)),ne.process()},S.parseHelloMessage=function(ne,K,de){var ge=null,o=ne.entity===S.ConnectionEnd.client;if(de<38)ne.error(ne,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});else{var dt=K.fragment,gt=dt.length();if(ge={version:{major:dt.getByte(),minor:dt.getByte()},random:t.util.createBuffer(dt.getBytes(32)),session_id:m(dt,1),extensions:[]},o?(ge.cipher_suite=dt.getBytes(2),ge.compression_method=dt.getByte()):(ge.cipher_suites=m(dt,2),ge.compression_methods=m(dt,1)),(gt=de-(gt-dt.length()))>0){for(var qt=m(dt,2);qt.length()>0;)ge.extensions.push({type:[qt.getByte(),qt.getByte()],data:m(qt,2)});if(!o)for(var Tn=0;Tn<ge.extensions.length;++Tn){var Wn=ge.extensions[Tn];if(0===Wn.type[0]&&0===Wn.type[1])for(var en=m(Wn.data,2);en.length()>0&&0===en.getByte();)ne.session.extensions.server_name.serverNameList.push(m(en,2).getBytes())}}if(ne.session.version&&(ge.version.major!==ne.session.version.major||ge.version.minor!==ne.session.version.minor))return ne.error(ne,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});if(o)ne.session.cipherSuite=S.getCipherSuite(ge.cipher_suite);else for(var ni=t.util.createBuffer(ge.cipher_suites.bytes());ni.length()>0&&(ne.session.cipherSuite=S.getCipherSuite(ni.getBytes(2)),null===ne.session.cipherSuite););if(null===ne.session.cipherSuite)return ne.error(ne,{message:"No cipher suites in common.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(ge.cipher_suite)});ne.session.compressionMethod=o?ge.compression_method:S.CompressionMethod.none}return ge},S.createSecurityParameters=function(ne,K){var de=ne.entity===S.ConnectionEnd.client,ge=K.random.bytes(),o=de?ne.session.sp.client_random:ge,dt=de?ge:S.createRandom().getBytes();ne.session.sp={entity:ne.entity,prf_algorithm:S.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:ne.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:dt}},S.handleServerHello=function(ne,K,de){var ge=S.parseHelloMessage(ne,K,de);if(!ne.fail){if(!(ge.version.minor<=ne.version.minor))return ne.error(ne,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});ne.version.minor=ge.version.minor,ne.session.version=ne.version;var o=ge.session_id.bytes();o.length>0&&o===ne.session.id?(ne.expect=B,ne.session.resuming=!0,ne.session.sp.server_random=ge.random.bytes()):(ne.expect=k,ne.session.resuming=!1,S.createSecurityParameters(ne,ge)),ne.session.id=o,ne.process()}},S.handleClientHello=function(ne,K,de){var ge=S.parseHelloMessage(ne,K,de);if(!ne.fail){var o=ge.session_id.bytes(),dt=null;if(ne.sessionCache&&(null===(dt=ne.sessionCache.getSession(o))?o="":(dt.version.major!==ge.version.major||dt.version.minor>ge.version.minor)&&(dt=null,o="")),0===o.length&&(o=t.random.getBytes(32)),ne.session.id=o,ne.session.clientHelloVersion=ge.version,ne.session.sp={},dt)ne.version=ne.session.version=dt.version,ne.session.sp=dt.sp;else{for(var gt,qt=1;qt<S.SupportedVersions.length&&!((gt=S.SupportedVersions[qt]).minor<=ge.version.minor);++qt);ne.version={major:gt.major,minor:gt.minor},ne.session.version=ne.version}null!==dt?(ne.expect=v,ne.session.resuming=!0,ne.session.sp.client_random=ge.random.bytes()):(ne.expect=!1!==ne.verifyClient?y:z,ne.session.resuming=!1,S.createSecurityParameters(ne,ge)),ne.open=!0,S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createServerHello(ne)})),ne.session.resuming?(S.queue(ne,S.createRecord(ne,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),ne.state.pending=S.createConnectionState(ne),ne.state.current.write=ne.state.pending.write,S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createFinished(ne)}))):(S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createCertificate(ne)})),ne.fail||(S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createServerKeyExchange(ne)})),!1!==ne.verifyClient&&S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createCertificateRequest(ne)})),S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createServerHelloDone(ne)})))),S.flush(ne),ne.process()}},S.handleCertificate=function(ne,K,de){if(de<3)return ne.error(ne,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var dt,gt,o={certificate_list:m(K.fragment,3)},qt=[];try{for(;o.certificate_list.length()>0;)dt=m(o.certificate_list,3),gt=t.asn1.fromDer(dt),dt=t.pki.certificateFromAsn1(gt,!0),qt.push(dt)}catch(Wn){return ne.error(ne,{message:"Could not parse certificate list.",cause:Wn,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var Tn=ne.entity===S.ConnectionEnd.client;!Tn&&!0!==ne.verifyClient||0!==qt.length?0===qt.length?ne.expect=Tn?Y:z:(Tn?ne.session.serverCertificate=qt[0]:ne.session.clientCertificate=qt[0],S.verifyCertificateChain(ne,qt)&&(ne.expect=Tn?Y:z)):ne.error(ne,{message:Tn?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}}),ne.process()},S.handleServerKeyExchange=function(ne,K,de){if(de>0)return ne.error(ne,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});ne.expect=u,ne.process()},S.handleClientKeyExchange=function(ne,K,de){if(de<48)return ne.error(ne,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});var o={enc_pre_master_secret:m(K.fragment,2).getBytes()},dt=null;if(ne.getPrivateKey)try{dt=ne.getPrivateKey(ne,ne.session.serverCertificate),dt=t.pki.privateKeyFromPem(dt)}catch(Tn){ne.error(ne,{message:"Could not get private key.",cause:Tn,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}if(null===dt)return ne.error(ne,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}});try{var gt=ne.session.sp;gt.pre_master_secret=dt.decrypt(o.enc_pre_master_secret);var qt=ne.session.clientHelloVersion;if(qt.major!==gt.pre_master_secret.charCodeAt(0)||qt.minor!==gt.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{gt.pre_master_secret=t.random.getBytes(48)}ne.expect=v,null!==ne.session.clientCertificate&&(ne.expect=Z),ne.process()},S.handleCertificateRequest=function(ne,K,de){if(de<3)return ne.error(ne,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var ge=K.fragment,o={certificate_types:m(ge,1),certificate_authorities:m(ge,2)};ne.session.certificateRequest=o,ne.expect=E,ne.process()},S.handleCertificateVerify=function(ne,K,de){if(de<2)return ne.error(ne,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var ge=K.fragment;ge.read-=4;var o=ge.bytes();ge.read+=4;var dt={signature:m(ge,2).getBytes()},gt=t.util.createBuffer();gt.putBuffer(ne.session.md5.digest()),gt.putBuffer(ne.session.sha1.digest()),gt=gt.getBytes();try{if(!ne.session.clientCertificate.publicKey.verify(gt,dt.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");ne.session.md5.update(o),ne.session.sha1.update(o)}catch{return ne.error(ne,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure}})}ne.expect=v,ne.process()},S.handleServerHelloDone=function(ne,K,de){if(de>0)return ne.error(ne,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.record_overflow}});if(null===ne.serverCertificate){var ge={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.insufficient_security}},dt=ne.verify(ne,ge.alert.description,0,[]);if(!0!==dt)return(dt||0===dt)&&("object"!=typeof dt||t.util.isArray(dt)?"number"==typeof dt&&(ge.alert.description=dt):(dt.message&&(ge.message=dt.message),dt.alert&&(ge.alert.description=dt.alert))),ne.error(ne,ge)}null!==ne.session.certificateRequest&&(K=S.createRecord(ne,{type:S.ContentType.handshake,data:S.createCertificate(ne)}),S.queue(ne,K)),K=S.createRecord(ne,{type:S.ContentType.handshake,data:S.createClientKeyExchange(ne)}),S.queue(ne,K),ne.expect=M;var gt=function(qt,Tn){null!==qt.session.certificateRequest&&null!==qt.session.clientCertificate&&S.queue(qt,S.createRecord(qt,{type:S.ContentType.handshake,data:S.createCertificateVerify(qt,Tn)})),S.queue(qt,S.createRecord(qt,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),qt.state.pending=S.createConnectionState(qt),qt.state.current.write=qt.state.pending.write,S.queue(qt,S.createRecord(qt,{type:S.ContentType.handshake,data:S.createFinished(qt)})),qt.expect=B,S.flush(qt),qt.process()};if(null===ne.session.certificateRequest||null===ne.session.clientCertificate)return gt(ne,null);S.getClientSignature(ne,gt)},S.handleChangeCipherSpec=function(ne,K){if(1!==K.fragment.getByte())return ne.error(ne,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var de=ne.entity===S.ConnectionEnd.client;(ne.session.resuming&&de||!ne.session.resuming&&!de)&&(ne.state.pending=S.createConnectionState(ne)),ne.state.current.read=ne.state.pending.read,(!ne.session.resuming&&de||ne.session.resuming&&!de)&&(ne.state.pending=null),ne.expect=de?V:L,ne.process()},S.handleFinished=function(ne,K,de){var ge=K.fragment;ge.read-=4;var o=ge.bytes();ge.read+=4;var dt=K.fragment.getBytes();(ge=t.util.createBuffer()).putBuffer(ne.session.md5.digest()),ge.putBuffer(ne.session.sha1.digest());var gt=ne.entity===S.ConnectionEnd.client;if((ge=a(ne.session.sp.master_secret,gt?"server finished":"client finished",ge.getBytes(),12)).getBytes()!==dt)return ne.error(ne,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decrypt_error}});ne.session.md5.update(o),ne.session.sha1.update(o),(ne.session.resuming&&gt||!ne.session.resuming&&!gt)&&(S.queue(ne,S.createRecord(ne,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),ne.state.current.write=ne.state.pending.write,ne.state.pending=null,S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createFinished(ne)}))),ne.expect=gt?F:J,ne.handshaking=!1,++ne.handshakes,ne.peerCertificate=gt?ne.session.serverCertificate:ne.session.clientCertificate,S.flush(ne),ne.isConnected=!0,ne.connected(ne),ne.process()},S.handleAlert=function(ne,K){var o,de=K.fragment,ge={level:de.getByte(),description:de.getByte()};switch(ge.description){case S.Alert.Description.close_notify:o="Connection closed.";break;case S.Alert.Description.unexpected_message:o="Unexpected message.";break;case S.Alert.Description.bad_record_mac:o="Bad record MAC.";break;case S.Alert.Description.decryption_failed:o="Decryption failed.";break;case S.Alert.Description.record_overflow:o="Record overflow.";break;case S.Alert.Description.decompression_failure:o="Decompression failed.";break;case S.Alert.Description.handshake_failure:o="Handshake failure.";break;case S.Alert.Description.bad_certificate:o="Bad certificate.";break;case S.Alert.Description.unsupported_certificate:o="Unsupported certificate.";break;case S.Alert.Description.certificate_revoked:o="Certificate revoked.";break;case S.Alert.Description.certificate_expired:o="Certificate expired.";break;case S.Alert.Description.certificate_unknown:o="Certificate unknown.";break;case S.Alert.Description.illegal_parameter:o="Illegal parameter.";break;case S.Alert.Description.unknown_ca:o="Unknown certificate authority.";break;case S.Alert.Description.access_denied:o="Access denied.";break;case S.Alert.Description.decode_error:o="Decode error.";break;case S.Alert.Description.decrypt_error:o="Decrypt error.";break;case S.Alert.Description.export_restriction:o="Export restriction.";break;case S.Alert.Description.protocol_version:o="Unsupported protocol version.";break;case S.Alert.Description.insufficient_security:o="Insufficient security.";break;case S.Alert.Description.internal_error:o="Internal error.";break;case S.Alert.Description.user_canceled:o="User canceled.";break;case S.Alert.Description.no_renegotiation:o="Renegotiation not supported.";break;default:o="Unknown error."}if(ge.description===S.Alert.Description.close_notify)return ne.close();ne.error(ne,{message:o,send:!1,origin:ne.entity===S.ConnectionEnd.client?"server":"client",alert:ge}),ne.process()},S.handleHandshake=function(ne,K){var de=K.fragment,ge=de.getByte(),o=de.getInt24();if(o>de.length())return ne.fragmented=K,K.fragment=t.util.createBuffer(),de.read-=4,ne.process();ne.fragmented=null,de.read-=4;var dt=de.bytes(o+4);de.read+=4,ge in Ve[ne.entity][ne.expect]?(ne.entity===S.ConnectionEnd.server&&!ne.open&&!ne.fail&&(ne.handshaking=!0,ne.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),ge!==S.HandshakeType.hello_request&&ge!==S.HandshakeType.certificate_verify&&ge!==S.HandshakeType.finished&&(ne.session.md5.update(dt),ne.session.sha1.update(dt)),Ve[ne.entity][ne.expect][ge](ne,K,o)):S.handleUnexpected(ne,K)},S.handleApplicationData=function(ne,K){ne.data.putBuffer(K.fragment),ne.dataReady(ne),ne.process()},S.handleHeartbeat=function(ne,K){var de=K.fragment,ge=de.getByte(),o=de.getInt16(),dt=de.getBytes(o);if(ge===S.HeartbeatMessageType.heartbeat_request){if(ne.handshaking||o>dt.length)return ne.process();S.queue(ne,S.createRecord(ne,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_response,dt)})),S.flush(ne)}else if(ge===S.HeartbeatMessageType.heartbeat_response){if(dt!==ne.expectedHeartbeatPayload)return ne.process();ne.heartbeatReceived&&ne.heartbeatReceived(ne,t.util.createBuffer(dt))}ne.process()};var k=1,Y=2,u=3,E=4,B=5,V=6,F=7,M=8,y=1,z=2,Z=3,v=4,L=5,J=6,N=S.handleUnexpected,fe=S.handleChangeCipherSpec,oe=S.handleAlert,R=S.handleHandshake,Pe=S.handleApplicationData,Te=S.handleHeartbeat,We=[];We[S.ConnectionEnd.client]=[[N,oe,R,N,Te],[N,oe,R,N,Te],[N,oe,R,N,Te],[N,oe,R,N,Te],[N,oe,R,N,Te],[fe,oe,N,N,Te],[N,oe,R,N,Te],[N,oe,R,Pe,Te],[N,oe,R,N,Te]],We[S.ConnectionEnd.server]=[[N,oe,R,N,Te],[N,oe,R,N,Te],[N,oe,R,N,Te],[N,oe,R,N,Te],[fe,oe,N,N,Te],[N,oe,R,N,Te],[N,oe,R,Pe,Te],[N,oe,R,N,Te]];var rt=S.handleHelloRequest,vt=S.handleCertificate,je=S.handleServerKeyExchange,Ye=S.handleCertificateRequest,Ke=S.handleServerHelloDone,it=S.handleFinished,Ve=[];Ve[S.ConnectionEnd.client]=[[N,N,S.handleServerHello,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,vt,je,Ye,Ke,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,je,Ye,Ke,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,Ye,Ke,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,Ke,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,it],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N]],Ve[S.ConnectionEnd.server]=[[N,S.handleClientHello,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,vt,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,S.handleClientKeyExchange,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,S.handleCertificateVerify,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,it],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N]],S.generateKeys=function(ne,K){var de=a,ge=K.client_random+K.server_random;ne.session.resuming||(K.master_secret=de(K.pre_master_secret,"master secret",ge,48).bytes(),K.pre_master_secret=null);var o=2*K.mac_key_length+2*K.enc_key_length,dt=ne.version.major===S.Versions.TLS_1_0.major&&ne.version.minor===S.Versions.TLS_1_0.minor;dt&&(o+=2*K.fixed_iv_length);var gt=de(K.master_secret,"key expansion",ge=K.server_random+K.client_random,o),qt={client_write_MAC_key:gt.getBytes(K.mac_key_length),server_write_MAC_key:gt.getBytes(K.mac_key_length),client_write_key:gt.getBytes(K.enc_key_length),server_write_key:gt.getBytes(K.enc_key_length)};return dt&&(qt.client_write_IV=gt.getBytes(K.fixed_iv_length),qt.server_write_IV=gt.getBytes(K.fixed_iv_length)),qt},S.createConnectionState=function(ne){var K=ne.entity===S.ConnectionEnd.client,de=function(){var dt={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(gt){return!0},compressionState:null,compressFunction:function(gt){return!0},updateSequenceNumber:function(){4294967295===dt.sequenceNumber[1]?(dt.sequenceNumber[1]=0,++dt.sequenceNumber[0]):++dt.sequenceNumber[1]}};return dt},ge={read:de(),write:de()};if(ge.read.update=function(dt,gt){return ge.read.cipherFunction(gt,ge.read)?ge.read.compressFunction(dt,gt,ge.read)||dt.error(dt,{message:"Could not decompress record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decompression_failure}}):dt.error(dt,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_record_mac}}),!dt.fail},ge.write.update=function(dt,gt){return ge.write.compressFunction(dt,gt,ge.write)?ge.write.cipherFunction(gt,ge.write)||dt.error(dt,{message:"Could not encrypt record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):dt.error(dt,{message:"Could not compress record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}),!dt.fail},ne.session){var o=ne.session.sp;switch(ne.session.cipherSuite.initSecurityParameters(o),o.keys=S.generateKeys(ne,o),ge.read.macKey=K?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,ge.write.macKey=K?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,ne.session.cipherSuite.initConnectionState(ge,ne,o),o.compression_algorithm){case S.CompressionMethod.none:break;case S.CompressionMethod.deflate:ge.read.compressFunction=w,ge.write.compressFunction=e;break;default:throw new Error("Unsupported compression algorithm.")}}return ge},S.createRandom=function(){var ne=new Date,K=+ne+6e4*ne.getTimezoneOffset(),de=t.util.createBuffer();return de.putInt32(K),de.putBytes(t.random.getBytes(28)),de},S.createRecord=function(ne,K){return K.data?{type:K.type,version:{major:ne.version.major,minor:ne.version.minor},length:K.data.length(),fragment:K.data}:null},S.createAlert=function(ne,K){var de=t.util.createBuffer();return de.putByte(K.level),de.putByte(K.description),S.createRecord(ne,{type:S.ContentType.alert,data:de})},S.createClientHello=function(ne){ne.session.clientHelloVersion={major:ne.version.major,minor:ne.version.minor};for(var K=t.util.createBuffer(),de=0;de<ne.cipherSuites.length;++de){var ge=ne.cipherSuites[de];K.putByte(ge.id[0]),K.putByte(ge.id[1])}var o=K.length(),dt=t.util.createBuffer();dt.putByte(S.CompressionMethod.none);var gt=dt.length(),qt=t.util.createBuffer();if(ne.virtualHost){var Tn=t.util.createBuffer();Tn.putByte(0),Tn.putByte(0);var Wn=t.util.createBuffer();Wn.putByte(0),D(Wn,2,t.util.createBuffer(ne.virtualHost));var en=t.util.createBuffer();D(en,2,Wn),D(Tn,2,en),qt.putBuffer(Tn)}var Ln=qt.length();Ln>0&&(Ln+=2);var ni=ne.session.id,mt=ni.length+1+2+4+28+2+o+1+gt+Ln,Jt=t.util.createBuffer();return Jt.putByte(S.HandshakeType.client_hello),Jt.putInt24(mt),Jt.putByte(ne.version.major),Jt.putByte(ne.version.minor),Jt.putBytes(ne.session.sp.client_random),D(Jt,1,t.util.createBuffer(ni)),D(Jt,2,K),D(Jt,1,dt),Ln>0&&D(Jt,2,qt),Jt},S.createServerHello=function(ne){var K=ne.session.id,de=K.length+1+2+4+28+2+1,ge=t.util.createBuffer();return ge.putByte(S.HandshakeType.server_hello),ge.putInt24(de),ge.putByte(ne.version.major),ge.putByte(ne.version.minor),ge.putBytes(ne.session.sp.server_random),D(ge,1,t.util.createBuffer(K)),ge.putByte(ne.session.cipherSuite.id[0]),ge.putByte(ne.session.cipherSuite.id[1]),ge.putByte(ne.session.compressionMethod),ge},S.createCertificate=function(ne){var K=ne.entity===S.ConnectionEnd.client,de=null;ne.getCertificate&&(de=ne.getCertificate(ne,K?ne.session.certificateRequest:ne.session.extensions.server_name.serverNameList));var o=t.util.createBuffer();if(null!==de)try{t.util.isArray(de)||(de=[de]);for(var dt=null,gt=0;gt<de.length;++gt){var qt=t.pem.decode(de[gt])[0];if("CERTIFICATE"!==qt.type&&"X509 CERTIFICATE"!==qt.type&&"TRUSTED CERTIFICATE"!==qt.type){var Tn=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Tn.headerType=qt.type,Tn}if(qt.procType&&"ENCRYPTED"===qt.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Wn=t.util.createBuffer(qt.body);null===dt&&(dt=t.asn1.fromDer(Wn.bytes(),!1));var en=t.util.createBuffer();D(en,3,Wn),o.putBuffer(en)}de=t.pki.certificateFromAsn1(dt),K?ne.session.clientCertificate=de:ne.session.serverCertificate=de}catch(mt){return ne.error(ne,{message:"Could not send certificate list.",cause:mt,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var Ln=3+o.length(),ni=t.util.createBuffer();return ni.putByte(S.HandshakeType.certificate),ni.putInt24(Ln),D(ni,3,o),ni},S.createClientKeyExchange=function(ne){var K=t.util.createBuffer();K.putByte(ne.session.clientHelloVersion.major),K.putByte(ne.session.clientHelloVersion.minor),K.putBytes(t.random.getBytes(46));var de=ne.session.sp;de.pre_master_secret=K.getBytes();var o=(K=ne.session.serverCertificate.publicKey.encrypt(de.pre_master_secret)).length+2,dt=t.util.createBuffer();return dt.putByte(S.HandshakeType.client_key_exchange),dt.putInt24(o),dt.putInt16(K.length),dt.putBytes(K),dt},S.createServerKeyExchange=function(ne){return t.util.createBuffer()},S.getClientSignature=function(ne,K){var de=t.util.createBuffer();de.putBuffer(ne.session.md5.digest()),de.putBuffer(ne.session.sha1.digest()),de=de.getBytes(),ne.getSignature=ne.getSignature||function(ge,o,dt){var gt=null;if(ge.getPrivateKey)try{gt=ge.getPrivateKey(ge,ge.session.clientCertificate),gt=t.pki.privateKeyFromPem(gt)}catch(qt){ge.error(ge,{message:"Could not get private key.",cause:qt,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}null===gt?ge.error(ge,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):o=gt.sign(o,null),dt(ge,o)},ne.getSignature(ne,de,K)},S.createCertificateVerify=function(ne,K){var de=K.length+2,ge=t.util.createBuffer();return ge.putByte(S.HandshakeType.certificate_verify),ge.putInt24(de),ge.putInt16(K.length),ge.putBytes(K),ge},S.createCertificateRequest=function(ne){var K=t.util.createBuffer();K.putByte(1);var de=t.util.createBuffer();for(var ge in ne.caStore.certs){var dt=t.pki.distinguishedNameToAsn1(ne.caStore.certs[ge].subject),gt=t.asn1.toDer(dt);de.putInt16(gt.length()),de.putBuffer(gt)}var qt=1+K.length()+2+de.length(),Tn=t.util.createBuffer();return Tn.putByte(S.HandshakeType.certificate_request),Tn.putInt24(qt),D(Tn,1,K),D(Tn,2,de),Tn},S.createServerHelloDone=function(ne){var K=t.util.createBuffer();return K.putByte(S.HandshakeType.server_hello_done),K.putInt24(0),K},S.createChangeCipherSpec=function(){var ne=t.util.createBuffer();return ne.putByte(1),ne},S.createFinished=function(ne){var K=t.util.createBuffer();K.putBuffer(ne.session.md5.digest()),K.putBuffer(ne.session.sha1.digest()),K=a(ne.session.sp.master_secret,ne.entity===S.ConnectionEnd.client?"client finished":"server finished",K.getBytes(),12);var qt=t.util.createBuffer();return qt.putByte(S.HandshakeType.finished),qt.putInt24(K.length()),qt.putBuffer(K),qt},S.createHeartbeat=function(ne,K,de){typeof de>"u"&&(de=K.length);var ge=t.util.createBuffer();ge.putByte(ne),ge.putInt16(de),ge.putBytes(K);var o=ge.length(),dt=Math.max(16,o-de-3);return ge.putBytes(t.random.getBytes(dt)),ge},S.queue=function(ne,K){if(K&&(0!==K.fragment.length()||K.type!==S.ContentType.handshake&&K.type!==S.ContentType.alert&&K.type!==S.ContentType.change_cipher_spec)){if(K.type===S.ContentType.handshake){var de=K.fragment.bytes();ne.session.md5.update(de),ne.session.sha1.update(de),de=null}var ge;if(K.fragment.length()<=S.MaxFragment)ge=[K];else{ge=[];for(var o=K.fragment.bytes();o.length>S.MaxFragment;)ge.push(S.createRecord(ne,{type:K.type,data:t.util.createBuffer(o.slice(0,S.MaxFragment))})),o=o.slice(S.MaxFragment);o.length>0&&ge.push(S.createRecord(ne,{type:K.type,data:t.util.createBuffer(o)}))}for(var dt=0;dt<ge.length&&!ne.fail;++dt){var gt=ge[dt];ne.state.current.write.update(ne,gt)&&ne.records.push(gt)}}},S.flush=function(ne){for(var K=0;K<ne.records.length;++K){var de=ne.records[K];ne.tlsData.putByte(de.type),ne.tlsData.putByte(de.version.major),ne.tlsData.putByte(de.version.minor),ne.tlsData.putInt16(de.fragment.length()),ne.tlsData.putBuffer(ne.records[K].fragment)}return ne.records=[],ne.tlsDataReady(ne)};var ct=function(ne){switch(ne){case!0:return!0;case t.pki.certificateError.bad_certificate:return S.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return S.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return S.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return S.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return S.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return S.Alert.Description.unknown_ca;default:return S.Alert.Description.bad_certificate}};for(var Qe in S.verifyCertificateChain=function(ne,K){try{var de={};for(var ge in ne.verifyOptions)de[ge]=ne.verifyOptions[ge];de.verify=function(dt,gt,qt){ct(dt);var Wn=ne.verify(ne,dt,gt,qt);if(!0!==Wn){if("object"==typeof Wn&&!t.util.isArray(Wn)){var en=new Error("The application rejected the certificate.");throw en.send=!0,en.alert={level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate},Wn.message&&(en.message=Wn.message),Wn.alert&&(en.alert.description=Wn.alert),en}Wn!==dt&&(Wn=function(ne){switch(ne){case!0:return!0;case S.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case S.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case S.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case S.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case S.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case S.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}}(Wn))}return Wn},t.pki.verifyCertificateChain(ne.caStore,K,de)}catch(dt){var o=dt;("object"!=typeof o||t.util.isArray(o))&&(o={send:!0,alert:{level:S.Alert.Level.fatal,description:ct(dt)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:S.Alert.Level.fatal,description:ct(o.error)}),ne.error(ne,o)}return!ne.fail},S.createSessionCache=function(ne,K){var de=null;if(ne&&ne.getSession&&ne.setSession&&ne.order)de=ne;else{for(var ge in(de={}).cache=ne||{},de.capacity=Math.max(K||100,1),de.order=[],ne)de.order.length<=K?de.order.push(ge):delete ne[ge];de.getSession=function(o){var dt=null,gt=null;if(o?gt=t.util.bytesToHex(o):de.order.length>0&&(gt=de.order[0]),null!==gt&&gt in de.cache)for(var qt in dt=de.cache[gt],delete de.cache[gt],de.order)if(de.order[qt]===gt){de.order.splice(qt,1);break}return dt},de.setSession=function(o,dt){if(de.order.length===de.capacity){var gt=de.order.shift();delete de.cache[gt]}gt=t.util.bytesToHex(o),de.order.push(gt),de.cache[gt]=dt}}return de},S.createConnection=function(ne){var K;K=ne.caStore?t.util.isArray(ne.caStore)?t.pki.createCaStore(ne.caStore):ne.caStore:t.pki.createCaStore();var de=ne.cipherSuites||null;if(null===de)for(var ge in de=[],S.CipherSuites)de.push(S.CipherSuites[ge]);var o=ne.server?S.ConnectionEnd.server:S.ConnectionEnd.client,dt=ne.sessionCache?S.createSessionCache(ne.sessionCache):null,gt={version:{major:S.Version.major,minor:S.Version.minor},entity:o,sessionId:ne.sessionId,caStore:K,sessionCache:dt,cipherSuites:de,connected:ne.connected,virtualHost:ne.virtualHost||null,verifyClient:ne.verifyClient||!1,verify:ne.verify||function(en,Ln,ni,mt){return Ln},verifyOptions:ne.verifyOptions||{},getCertificate:ne.getCertificate||null,getPrivateKey:ne.getPrivateKey||null,getSignature:ne.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:ne.tlsDataReady,dataReady:ne.dataReady,heartbeatReceived:ne.heartbeatReceived,closed:ne.closed,error:function(en,Ln){Ln.origin=Ln.origin||(en.entity===S.ConnectionEnd.client?"client":"server"),Ln.send&&(S.queue(en,S.createAlert(en,Ln.alert)),S.flush(en));var ni=!1!==Ln.fatal;ni&&(en.fail=!0),ne.error(en,Ln),ni&&en.close(!1)},deflate:ne.deflate||null,inflate:ne.inflate||null,reset:function(en){gt.version={major:S.Version.major,minor:S.Version.minor},gt.record=null,gt.session=null,gt.peerCertificate=null,gt.state={pending:null,current:null},gt.expect=0,gt.fragmented=null,gt.records=[],gt.open=!1,gt.handshakes=0,gt.handshaking=!1,gt.isConnected=!1,gt.fail=!(en||typeof en>"u"),gt.input.clear(),gt.tlsData.clear(),gt.data.clear(),gt.state.current=S.createConnectionState(gt)}};return gt.reset(),gt.handshake=function(en){if(gt.entity!==S.ConnectionEnd.client)gt.error(gt,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(gt.handshaking)gt.error(gt,{message:"Handshake already in progress.",fatal:!1});else{gt.fail&&!gt.open&&0===gt.handshakes&&(gt.fail=!1),gt.handshaking=!0;var Ln=null;(en=en||"").length>0&&(gt.sessionCache&&(Ln=gt.sessionCache.getSession(en)),null===Ln&&(en="")),0===en.length&&gt.sessionCache&&null!==(Ln=gt.sessionCache.getSession())&&(en=Ln.id),gt.session={id:en,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Ln&&(gt.version=Ln.version,gt.session.sp=Ln.sp),gt.session.sp.client_random=S.createRandom().getBytes(),gt.open=!0,S.queue(gt,S.createRecord(gt,{type:S.ContentType.handshake,data:S.createClientHello(gt)})),S.flush(gt)}},gt.process=function(en){var Ln=0;return en&&gt.input.putBytes(en),gt.fail||(null!==gt.record&&gt.record.ready&&gt.record.fragment.isEmpty()&&(gt.record=null),null===gt.record&&(Ln=function(en){var Ln=0,ni=en.input,mt=ni.length();if(mt<5)Ln=5-mt;else{en.record={type:ni.getByte(),version:{major:ni.getByte(),minor:ni.getByte()},length:ni.getInt16(),fragment:t.util.createBuffer(),ready:!1};var Jt=en.record.version.major===en.version.major;Jt&&en.session&&en.session.version&&(Jt=en.record.version.minor===en.version.minor),Jt||en.error(en,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}})}return Ln}(gt)),!gt.fail&&null!==gt.record&&!gt.record.ready&&(Ln=function(en){var Ln=0,ni=en.input,mt=ni.length();return mt<en.record.length?Ln=en.record.length-mt:(en.record.fragment.putBytes(ni.getBytes(en.record.length)),ni.compact(),en.state.current.read.update(en,en.record)&&(null!==en.fragmented&&(en.fragmented.type===en.record.type?(en.fragmented.fragment.putBuffer(en.record.fragment),en.record=en.fragmented):en.error(en,{message:"Invalid fragmented record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})),en.record.ready=!0)),Ln}(gt)),!gt.fail&&null!==gt.record&&gt.record.ready&&function(en,Ln){var ni=Ln.type-S.ContentType.change_cipher_spec,mt=We[en.entity][en.expect];ni in mt?mt[ni](en,Ln):S.handleUnexpected(en,Ln)}(gt,gt.record)),Ln},gt.prepare=function(en){return S.queue(gt,S.createRecord(gt,{type:S.ContentType.application_data,data:t.util.createBuffer(en)})),S.flush(gt)},gt.prepareHeartbeatRequest=function(en,Ln){return en instanceof t.util.ByteBuffer&&(en=en.bytes()),typeof Ln>"u"&&(Ln=en.length),gt.expectedHeartbeatPayload=en,S.queue(gt,S.createRecord(gt,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_request,en,Ln)})),S.flush(gt)},gt.close=function(en){if(!gt.fail&&gt.sessionCache&&gt.session){var Ln={id:gt.session.id,version:gt.session.version,sp:gt.session.sp};Ln.sp.keys=null,gt.sessionCache.setSession(Ln.id,Ln)}gt.open&&(gt.open=!1,gt.input.clear(),(gt.isConnected||gt.handshaking)&&(gt.isConnected=gt.handshaking=!1,S.queue(gt,S.createAlert(gt,{level:S.Alert.Level.warning,description:S.Alert.Description.close_notify})),S.flush(gt)),gt.closed(gt)),gt.reset(en)},gt},ot.exports=t.tls=t.tls||{},S)"function"!=typeof S[Qe]&&(t.tls[Qe]=S[Qe]);t.tls.prf_tls1=a,t.tls.hmac_sha1=function(ne,K,de){var ge=t.hmac.create();ge.start("SHA1",ne);var o=t.util.createBuffer();return o.putInt32(K[0]),o.putInt32(K[1]),o.putByte(de.type),o.putByte(de.version.major),o.putByte(de.version.minor),o.putInt16(de.length),o.putBytes(de.fragment.bytes()),ge.update(o.getBytes()),ge.digest().getBytes()},t.tls.createSessionCache=S.createSessionCache,t.tls.createConnection=S.createConnection},9812:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>p});var t=l(1413),a=l(1360);let p=(()=>{class A{constructor(){this.sortColumnEvent=new t.B,this.sortCompletedEvent=new t.B,this.deleteRowEvent=new t.B}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=a.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},9838:(ot,ve,l)=>{"use strict";l.d(ve,{$9:()=>A,S9:()=>p,Vk:()=>a});var t=l(1360);let a=(()=>{class e{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();class p{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let A=(()=>{class e{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return e})()},9858:(ot,ve,l)=>{"use strict";l.d(ve,{y:()=>a});var t=l(8071);function a(p){return(0,t.T)(p?.then)}},9861:(ot,ve,l)=>{"use strict";l.d(ve,{k:()=>ni});var t=l(9417),a=l(9172),p=l(1397),A=l(4549),e=l(1413),w=l(7263);class m{constructor(Jt,he,ue,P){this.auditAction=Jt||"",this.subject=he||"",this.resourceName=ue||"",this.source=P||""}}class D{constructor(Jt){this.auditAction=Jt.auditSearch.auditAction,this.subject=Jt.auditSearch.subject,this.resourceName=Jt.auditSearch.resourceName,this.source=Jt.auditSearch.source,this.fromDate=Jt.fromDate.toString(),this.toDate=Jt.toDate.toString(),this.page=Jt.page,this.pageSize=Jt.pageSize,this.sortCriteria=Jt.sortCriteria,this.success=Jt.success,this.bySubject=Jt.bySubject}}class S{constructor(Jt,he,ue,P,q,De,Ae,et){this.auditSearch=Jt,this.fromDate=he,this.toDate=ue,this.page=P,this.pageSize=q,this.sortCriteria=De,this.success=Ae,this.bySubject=et}}var g=l(1360),k=l(2734),Y=l(5139),u=l(2947),E=l(7883),B=l(9686),V=l(1575),F=l(8434),M=l(534),W=l(7156),y=l(7294),z=l(7384),Z=l(6536),v=l(8018),L=l(1589);function J(mt,Jt){1&mt&&(g.j41(0,"span",65),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.FromDateWarning")," "))}function te(mt,Jt){1&mt&&(g.j41(0,"span",66),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function N(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"div",10)(1,"p",53),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"ul",19)(5,"li")(6,"button",67),g.bIt("click",function(){g.eBV(he);const P=g.XpG();return g.Njj(P.setActorOrResource(!0))}),g.EFF(7),g.nI1(8,"translate"),g.k0s()(),g.j41(9,"li")(10,"button",68),g.bIt("click",function(){g.eBV(he);const P=g.XpG();return g.Njj(P.setActorOrResource(!1))}),g.EFF(11),g.nI1(12,"translate"),g.k0s()()()()}if(2&mt){const he=g.XpG();g.R7$(2),g.JRh(g.bMT(3,7,"Auditing.ByFilter")),g.R7$(4),g.AVh("tw-btn-link",!he.getBySubjectFilterState),g.R7$(),g.SpI(" ",g.bMT(8,9,"Auditing.BySubject")," "),g.R7$(3),g.AVh("tw-btn-link",he.getBySubjectFilterState),g.R7$(),g.SpI(" ",g.bMT(12,11,"Auditing.ByResource")," ")}}function fe(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"li",72)(1,"button",73),g.bIt("click",function(){g.eBV(he);const P=g.XpG(2);return g.Njj(P.removeFilter("source"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&mt){const he=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Source"),":"),g.R7$(3),g.JRh(he.filterForm.get("auditSearch").get("source").value)}}function oe(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"li",72)(1,"button",76),g.bIt("click",function(){g.eBV(he);const P=g.XpG(2);return g.Njj(P.removeFilter("subject"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&mt){const he=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Subject"),":"),g.R7$(3),g.JRh(he.filterForm.get("auditSearch").get("subject").value)}}function R(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"li",72)(1,"button",76),g.bIt("click",function(){g.eBV(he);const P=g.XpG(2);return g.Njj(P.removeFilter("auditAction"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&mt){const he=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Action"),":"),g.R7$(3),g.JRh(he.filterForm.get("auditSearch").get("auditAction").value)}}function Pe(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"li",72)(1,"button",76),g.bIt("click",function(){g.eBV(he);const P=g.XpG(2);return g.Njj(P.removeFilter("resourceName"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&mt){const he=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Resource"),":"),g.R7$(3),g.JRh(he.filterForm.get("auditSearch").get("resourceName").value)}}function Te(mt,Jt){if(1&mt&&(g.j41(0,"div",69)(1,"p",51),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"ul",70),g.DNE(5,fe,8,4,"li",71)(6,oe,8,4,"li",71)(7,R,8,4,"li",71)(8,Pe,8,4,"li",71),g.k0s()()),2&mt){const he=g.XpG();g.R7$(2),g.JRh(g.bMT(3,5,"Auditing.ActiveFilters")),g.R7$(3),g.Y8G("ngIf",he.filterForm.get("auditSearch").get("source").value),g.R7$(),g.Y8G("ngIf",he.filterForm.get("auditSearch").get("subject").value),g.R7$(),g.Y8G("ngIf",he.filterForm.get("auditSearch").get("auditAction").value),g.R7$(),g.Y8G("ngIf",he.filterForm.get("auditSearch").get("resourceName").value)}}function We(mt,Jt){1&mt&&(g.j41(0,"span"),g.nrm(1,"span",77),g.EFF(2),g.nI1(3,"translate"),g.k0s()),2&mt&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Auditing.ShowFilters")," "))}function rt(mt,Jt){1&mt&&(g.j41(0,"span"),g.nrm(1,"span",78),g.EFF(2),g.nI1(3,"translate"),g.k0s()),2&mt&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Auditing.HideFilters")," "))}function lt(mt,Jt){1&mt&&(g.j41(0,"option",79),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Subject"),""))}function vt(mt,Jt){1&mt&&(g.j41(0,"option",80),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Resource"),""))}function je(mt,Jt){1&mt&&(g.j41(0,"p",81),g.nrm(1,"span",82),g.EFF(2),g.nI1(3,"translate"),g.k0s()),2&mt&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Auditing.UpdateWarning")," "))}function Ye(mt,Jt){1&mt&&(g.j41(0,"span",87)(1,"span",51),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&mt&&(g.R7$(2),g.JRh(g.bMT(3,1,"Common.Loading")))}function Ke(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"app-action-bar"),g.qex(1,83),g.DNE(2,Ye,4,3,"span",84),g.j41(3,"button",85),g.nI1(4,"translate"),g.bIt("click",function(){g.eBV(he);const P=g.XpG();return g.Njj(P.getCSV())}),g.j41(5,"span"),g.nrm(6,"span",86),g.k0s(),g.j41(7,"span",51),g.EFF(8),g.nI1(9,"translate"),g.k0s()(),g.bVm(),g.k0s()}if(2&mt){const he=g.XpG();g.R7$(2),g.Y8G("ngIf",he.loadingCSV),g.R7$(),g.Y8G("tooltip",g.bMT(4,4,"Auditing.DownloadResults"))("disabled",(null==he.pagedResult?null:he.pagedResult.results.length)<1&&!he.isLoading||he.loadingCSV),g.R7$(5),g.JRh(g.bMT(9,6,"Auditing.DownloadResults"))}}function it(mt,Jt){1&mt&&g.nrm(0,"app-simple-loader")}function Ve(mt,Jt){1&mt&&(g.j41(0,"div",88)(1,"div"),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&mt&&(g.R7$(2),g.JRh(g.bMT(3,1,"Auditing.NoAuditsFound")))}function Be(mt,Jt){1&mt&&(g.j41(0,"th",101),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Subject")," "))}function Xe(mt,Jt){1&mt&&(g.j41(0,"th",102),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Resource")," "))}function Ue(mt,Jt){if(1&mt&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&mt){const he=g.XpG(2).$implicit;g.R7$(),g.JRh(he.subject.name)}}function ct(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"span")(1,"a",115),g.bIt("click",function(){g.eBV(he);const P=g.XpG(2).$implicit,q=g.XpG(2);return g.Njj(!!q.resourceNavigate(P.subject))}),g.EFF(2),g.k0s()()}if(2&mt){const he=g.XpG(2).$implicit,ue=g.XpG(2);g.R7$(),g.FS9("href",ue.buildLink(he.subject),g.B4B),g.R7$(),g.SpI(" ",he.subject.name," ")}}function st(mt,Jt){if(1&mt&&(g.j41(0,"td",114),g.DNE(1,Ue,2,1,"span",35)(2,ct,3,2,"span",35),g.k0s()),2&mt){const he=g.XpG().$implicit,ue=g.XpG(2);g.R7$(),g.Y8G("ngIf",""==ue.buildLink(he.subject)),g.R7$(),g.Y8G("ngIf",""!=ue.buildLink(he.subject))}}function Qe(mt,Jt){if(1&mt&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&mt){const he=g.XpG(2).$implicit;g.R7$(),g.SpI(" ",he.resource.name," ")}}function ne(mt,Jt){if(1&mt&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&mt){const he=g.XpG(3).$implicit;g.R7$(),g.JRh(he.resource.identifier)}}function K(mt,Jt){if(1&mt&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&mt){const he=g.XpG(3).$implicit;g.R7$(),g.JRh(he.resource.name)}}function de(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"span")(1,"a",115),g.bIt("click",function(){g.eBV(he);const P=g.XpG(2).$implicit,q=g.XpG(2);return g.Njj(!!q.resourceNavigate(P.resource))}),g.DNE(2,ne,2,1,"span",35)(3,K,2,1,"span",35),g.k0s()()}if(2&mt){const he=g.XpG(2).$implicit,ue=g.XpG(2);g.R7$(),g.FS9("href",ue.buildLink(he.resource),g.B4B),g.R7$(),g.Y8G("ngIf",""==he.name),g.R7$(),g.Y8G("ngIf",""!=he.name)}}function ge(mt,Jt){if(1&mt&&(g.j41(0,"td",116),g.DNE(1,Qe,2,1,"span",35)(2,de,4,3,"span",35),g.k0s()),2&mt){const he=g.XpG().$implicit,ue=g.XpG(2);g.R7$(),g.Y8G("ngIf","*"==he.resource.name||""==ue.buildLink(he.resource)),g.R7$(),g.Y8G("ngIf","*"!=he.resource.name&&""!=ue.buildLink(he.resource))}}function o(mt,Jt){1&mt&&(g.j41(0,"span",117)(1,"span",51),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&mt&&(g.R7$(2),g.JRh(g.bMT(3,1,"Common.Yes")))}function dt(mt,Jt){1&mt&&(g.j41(0,"span",118)(1,"span",51),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&mt&&(g.R7$(2),g.JRh(g.bMT(3,1,"Common.No")))}function gt(mt,Jt){1&mt&&g.nrm(0,"span",125)}function qt(mt,Jt){1&mt&&g.nrm(0,"span",126)}function Tn(mt,Jt){if(1&mt&&(g.j41(0,"tr",119),g.nrm(1,"td"),g.j41(2,"td",120)(3,"div",121)(4,"span",122),g.DNE(5,gt,1,0,"span",123)(6,qt,1,0,"span",124),g.k0s(),g.j41(7,"span"),g.EFF(8),g.k0s()()()()),2&mt){const he=g.XpG().$implicit;g.R7$(5),g.Y8G("ngIf",he.succeeded),g.R7$(),g.Y8G("ngIf",!he.succeeded),g.R7$(2),g.JRh(he.description)}}function Wn(mt,Jt){if(1&mt){const he=g.RV6();g.qex(0,null,4),g.j41(2,"tr")(3,"td",103)(4,"button",104),g.bIt("click",function(){g.eBV(he);const P=g.sdS(1);return g.Njj(P.isOpen=!P.isOpen)}),g.nrm(5,"span",105),g.j41(6,"span",51),g.EFF(7),g.nI1(8,"translate"),g.k0s()()(),g.j41(9,"td"),g.EFF(10),g.nI1(11,"standardDateTime"),g.nrm(12,"div"),g.k0s(),g.j41(13,"td",106),g.EFF(14),g.k0s(),g.DNE(15,st,3,2,"td",107)(16,ge,3,2,"td",108),g.j41(17,"td",109),g.EFF(18),g.k0s(),g.j41(19,"td",110),g.DNE(20,o,4,3,"span",111)(21,dt,4,3,"span",112),g.k0s()(),g.DNE(22,Tn,9,3,"tr",113),g.bVm()}if(2&mt){const he=Jt.$implicit,ue=g.sdS(1),P=g.XpG(2);g.R7$(5),g.AVh("fa-caret-right",!ue.isOpen),g.R7$(2),g.SpI(" ",g.bMT(8,11,"Auditing.ToggleDetails")," "),g.R7$(3),g.SpI(" ",g.bMT(11,13,he.when)," "),g.R7$(4),g.SpI(" ",he.source," "),g.R7$(),g.Y8G("ngIf",!P.resourceBySubject),g.R7$(),g.Y8G("ngIf",!P.resourceByResource),g.R7$(2),g.SpI(" ",he.action," "),g.R7$(2),g.Y8G("ngIf",he.succeeded),g.R7$(),g.Y8G("ngIf",!he.succeeded),g.R7$(),g.Y8G("ngIf",ue.isOpen)}}function en(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"table",89)(1,"thead")(2,"tr")(3,"th",90)(4,"span",51),g.EFF(5),g.nI1(6,"translate"),g.k0s()(),g.j41(7,"th",91),g.bIt("click",function(){g.eBV(he);const P=g.XpG();return g.Njj(P.sortResults())}),g.j41(8,"span",92),g.EFF(9),g.nI1(10,"translate"),g.k0s(),g.nrm(11,"span",93),g.k0s(),g.j41(12,"th",94),g.EFF(13),g.nI1(14,"translate"),g.k0s(),g.DNE(15,Be,3,3,"th",95)(16,Xe,3,3,"th",96),g.j41(17,"th",97),g.EFF(18),g.nI1(19,"translate"),g.k0s(),g.j41(20,"th",98),g.EFF(21),g.nI1(22,"translate"),g.k0s()()(),g.j41(23,"tbody",99),g.DNE(24,Wn,23,15,"ng-container",100),g.k0s()()}if(2&mt){const he=g.XpG();g.R7$(5),g.JRh(g.bMT(6,10,"Common.Actions")),g.R7$(4),g.JRh(g.bMT(10,12,"Auditing.When")),g.R7$(2),g.AVh("fa-caret-up","when"==he.filterSort),g.R7$(2),g.JRh(g.bMT(14,14,"Auditing.Source")),g.R7$(2),g.Y8G("ngIf",!he.resourceBySubject),g.R7$(),g.Y8G("ngIf",!he.resourceByResource),g.R7$(2),g.JRh(g.bMT(19,16,"Auditing.Action")),g.R7$(3),g.SpI(" ",g.bMT(22,18,"Notifications.Success")," "),g.R7$(3),g.Y8G("ngForOf",he.pagedResult.results)}}function Ln(mt,Jt){if(1&mt){const he=g.RV6();g.j41(0,"app-pager",127),g.bIt("onGoToPage",function(P){g.eBV(he);const q=g.XpG();return g.Njj(q.goToPage(P))}),g.k0s()}if(2&mt){const he=g.XpG();g.Y8G("totalResults",null==he.pagedResult?null:he.pagedResult.totalCount)("currentPage",he.filterForm.get("page").value)("lastPage",null==he.pagedResult?null:he.pagedResult.pageCount)}}let ni=(()=>{class mt{get getBySubjectFilterState(){return JSON.parse(this.filterForm.value.bySubject)}get resourceOnly(){return!(0,w.gP)(this.resourceName)}get resourceBySubject(){return this.resourceOnly&&this.getBySubjectFilterState}get resourceByResource(){return this.resourceOnly&&!this.getBySubjectFilterState}constructor(he,ue,P,q,De,Ae,et,_t){this.auditingService=he,this.localizeRouter=ue,this.router=P,this.fb=q,this.activatedRoute=De,this.securityService=Ae,this.fileDownloader=et,this.timeService=_t,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new e.B}userManagerReadOnly(){return(0,w.zG)(this.securityService.userPermissions)}authorizationServerManagerReadOnly(){return(0,w.tb)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,a.Z)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success,bySubject:this.filterForm.value.bySubject}),(0,p.Z)(ue=>(this.isLoading=!0,this.resourceOnly?this.auditingService.getResourceAudits(this.resourceName,ue.bySubject,ue.auditSearch,ue.toDate.toString(),ue.fromDate.toString(),ue.page,ue.pageSize,ue.sortCriteria,ue.success):this.auditingService.getAudits(ue.auditSearch,ue.toDate.toString(),ue.fromDate.toString(),ue.page,ue.pageSize,ue.sortCriteria,ue.success)))).subscribe(ue=>{this.isLoading=!1,this.pagedResult=ue;const P=new D(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:P}),this.aplliedBySubjectFilter=JSON.parse(this.filterForm.value.bySubject)})}applyForm(he){he&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(he){this.filterForm.patchValue({page:he}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(he){this.router.config.find(P=>void 0!==P.children)}auditSearch(he,ue){this.filterForm.patchValue({auditSearch:{[he]:ue.value}})}selectFilterType(he,ue){const P=this.filterForm.get("auditSearch").get(he).value;ue.value=P}removeFilter(he){this.filterForm.patchValue({auditSearch:{[he]:""}})}checkQuickDate(he){switch(he){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(he){return this.stripSecondsFromDateTime(A.c9.fromISO(he))}stripSecondsFromDateTime(he){return he.set({second:0,millisecond:0}).toString()}setActorOrResource(he){this.filterForm.patchValue({bySubject:he})}setShowing(he,ue){this.successfulFilter=he,this.unsuccessfulFilter=ue,this.filter()}showActiveFilters(){const he=this.filterForm.get("auditSearch");return!!(he.get("source").value||he.get("subject").value||he.get("auditAction").value||he.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let he=`${this.auditingService.actionUrl}`;const ue=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(he+=`/${this.resourceName}/auditedEvents`),he+=`?sort=${ue.sortCriteria}`,(0,w.gP)(ue.auditAction)||(he+=`&auditAction=${ue.auditAction}`),(0,w.gP)(ue.subject)||(he+=`&subject=${ue.subject}`),(0,w.gP)(ue.resourceName)||(he+=`&resource=${ue.resourceName}`),(0,w.gP)(ue.source)||(he+=`&source=${ue.source}`),null!=ue.success&&(he+=`&success=${ue.success}`),null!=ue.toDate&&(he+=`&to=${ue.toDate}`),null!=ue.fromDate&&(he+=`&from=${ue.fromDate}`),(0,w.hX)(ue.bySubject)||(he+=`&bySubject=${ue.bySubject}`),he}sortResults(){const he=this.activatedRoute.snapshot.queryParams,ue=new m(he.auditAction,he.subject,he.resourceName,he.source),P=void 0===he.fromDate?this.timeService.now().startOf("day"):A.c9.fromISO(he.fromDate),q=void 0===he.toDate?this.timeService.now().startOf("day"):A.c9.fromISO(he.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const De=new S(ue,P,q,he.page,he.pageSize,this.filterSort,he.success,he.bySubject);this.auditStream.next(De),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(he){const ue=void 0===he.fromDate?this.timeService.now().startOf("day"):A.c9.fromISO(he.fromDate),P=void 0===he.toDate?this.timeService.now().endOf("day"):A.c9.fromISO(he.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ue,[t.k0.required,w.TO]],toDate:[P],auditSearch:this.fb.group({auditAction:[he.auditAction||""],resourceName:[he.resourceName||""],subject:[he.subject||""],source:[he.source||""]}),page:[he.page||1],pageSize:[he.pageSize>1e3?1e3:he.pageSize||25],sortCriteria:[he.sortCriteria||this.sortDesc],success:[he.success||null],bySubject:[he.bySubject??!0]},{validators:w.$N}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(he,ue){this.router.navigate([he,ue])}resourceNavigate(he){const ue=this.buildTranslatedRoute(he);"*"!==he.name&&this.Navigate(ue,he.identifier)}buildLink(he){let ue=this.buildTranslatedRoute(he);return ue+=`/${he.identifier}`,ue}buildTranslatedRoute(he){switch(he.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.authorizationServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.authorizationServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.authorizationServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}static{this.\u0275fac=function(ue){return new(ue||mt)(g.rXU(k.x),g.rXU(Y.QG),g.rXU(u.Ix),g.rXU(t.ok),g.rXU(u.nX),g.rXU(E.i),g.rXU(B.D),g.rXU(V.v))}}static{this.\u0275cmp=g.VBU({type:mt,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},standalone:!1,decls:131,vars:105,consts:[["pageLength",""],["filterType",""],["filterValue",""],["sortCriteria",""],["group",""],["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-ml-0"],["class","tw-form-group tw-mb-0",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-0"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["value","source"],["value","subject",4,"ngIf"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["id","bySubjectFilter",1,"tw-btn",3,"click"],["id","byResourceFilter",1,"tw-btn",3,"click"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","subject"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"click","tooltip","disabled"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],["class","tw-hidden xs:tw-table-cell lg:tw-w-1/4",4,"ngIf"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","xl:tw-table-cell"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate xs:tw-table-cell subject",4,"ngIf"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell","subject"],[3,"click","href"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ue,P){if(1&ue){const q=g.RV6();g.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),g.EFF(7),g.nI1(8,"translate"),g.k0s(),g.j41(9,"div"),g.nrm(10,"app-date-time",12),g.DNE(11,J,3,3,"span",13),g.k0s()()(),g.j41(12,"div",9)(13,"div",10)(14,"label",14),g.EFF(15),g.nI1(16,"translate"),g.k0s(),g.j41(17,"div"),g.nrm(18,"app-date-time",15),g.DNE(19,te,3,3,"span",16),g.k0s()()(),g.j41(20,"div",17)(21,"div",10)(22,"label",18),g.EFF(23,"\xa0"),g.k0s(),g.j41(24,"ul",19)(25,"li")(26,"button",20),g.nI1(27,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateToday())}),g.EFF(28),g.nI1(29,"translate"),g.k0s()(),g.j41(30,"li")(31,"button",21),g.nI1(32,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateLast24Hours())}),g.EFF(33),g.nI1(34,"translate"),g.k0s()(),g.j41(35,"li")(36,"button",22),g.nI1(37,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateYesterday())}),g.EFF(38),g.nI1(39,"translate"),g.k0s()(),g.j41(40,"li")(41,"button",23),g.nI1(42,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateLastWeek())}),g.EFF(43),g.nI1(44,"translate"),g.k0s()()()()()(),g.j41(45,"div",8)(46,"div",24),g.DNE(47,N,13,13,"div",25),g.k0s(),g.j41(48,"div",26)(49,"div",10)(50,"label",27),g.EFF(51),g.nI1(52,"translate"),g.k0s(),g.j41(53,"div",28)(54,"select",29,0)(56,"option",30),g.EFF(57,"25 "),g.k0s(),g.j41(58,"option",30),g.EFF(59,"50"),g.k0s(),g.j41(60,"option",30),g.EFF(61,"100"),g.k0s()()()()()(),g.j41(62,"form",31),g.DNE(63,Te,9,7,"div",32),g.j41(64,"div",33)(65,"button",34),g.bIt("click",function(){return g.eBV(q),g.Njj(P.showAddFilter=!P.showAddFilter)}),g.DNE(66,We,4,3,"span",35)(67,rt,4,3,"span",35),g.k0s(),g.j41(68,"div",36)(69,"div",37)(70,"div",38)(71,"div",10)(72,"label",39),g.EFF(73),g.nI1(74,"translate"),g.k0s(),g.j41(75,"div",40)(76,"div",41)(77,"div",28)(78,"select",42,1),g.bIt("change",function(){g.eBV(q);const Ae=g.sdS(79),et=g.sdS(90);return g.Njj(P.selectFilterType(Ae.value,et))}),g.j41(80,"option",43),g.EFF(81),g.nI1(82,"translate"),g.k0s(),g.DNE(83,lt,3,3,"option",44),g.j41(84,"option",45),g.EFF(85),g.nI1(86,"translate"),g.k0s(),g.DNE(87,vt,3,3,"option",46),g.k0s()()(),g.j41(88,"div",47),g.nrm(89,"input",48,2),g.nI1(91,"translate"),g.nI1(92,"translate"),g.j41(93,"button",49),g.bIt("click",function(){g.eBV(q);const Ae=g.sdS(79),et=g.sdS(90);return g.Njj(P.auditSearch(Ae.value,et))}),g.nrm(94,"span",50),g.j41(95,"span",51),g.EFF(96),g.nI1(97,"translate"),g.k0s()()()()()(),g.j41(98,"div",52)(99,"div",10)(100,"p",53),g.EFF(101),g.nI1(102,"translate"),g.k0s(),g.j41(103,"ul",19)(104,"li")(105,"button",54),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setShowing(!1,!1))}),g.EFF(106),g.nI1(107,"translate"),g.k0s()(),g.j41(108,"li")(109,"button",55),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setShowing(!0,!1))}),g.EFF(110),g.nI1(111,"translate"),g.k0s()(),g.j41(112,"li")(113,"button",56),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setShowing(!1,!0))}),g.EFF(114),g.nI1(115,"translate"),g.k0s()()()()()()()(),g.j41(116,"div",57),g.nrm(117,"input",58,3),g.j41(119,"button",59),g.bIt("click",function(){return g.eBV(q),g.Njj(P.applyForm(!0))}),g.EFF(120),g.nI1(121,"translate"),g.k0s(),g.j41(122,"button",60),g.bIt("click",function(){return g.eBV(q),g.Njj(P.resetForm())}),g.EFF(123),g.nI1(124,"translate"),g.k0s(),g.DNE(125,je,4,3,"p",61),g.k0s()()()(),g.DNE(126,Ke,10,8,"app-action-bar",35)(127,it,1,0,"app-simple-loader",35)(128,Ve,4,3,"div",62)(129,en,25,20,"table",63)(130,Ln,1,3,"app-pager",64),g.k0s()}if(2&ue){let q;g.R7$(),g.Y8G("formGroup",P.filterForm),g.R7$(6),g.JRh(g.bMT(8,59,"Auditing.FromDate")),g.R7$(3),g.Y8G("displayType","datetime"),g.R7$(),g.Y8G("ngIf",P.filterForm.get("fromDate").hasError("dateInFuture")),g.R7$(4),g.JRh(g.bMT(16,61,"Auditing.ToDate")),g.R7$(3),g.Y8G("displayType","datetime"),g.R7$(),g.Y8G("ngIf",P.filterForm.hasError("fromDateIsAfterToDate")),g.R7$(7),g.AVh("tw-btn-link",!P.checkQuickDate("today")),g.BMQ("aria-label",g.bMT(27,63,"Auditing.SetDateToday")),g.R7$(2),g.SpI(" ",g.bMT(29,65,"Auditing.Today")," "),g.R7$(3),g.AVh("tw-btn-link",!P.checkQuickDate("24hours")),g.BMQ("aria-label",g.bMT(32,67,"Auditing.SetDateLast24Hours")),g.R7$(2),g.SpI(" ",g.bMT(34,69,"Auditing.24Hours")," "),g.R7$(3),g.AVh("tw-btn-link",!P.checkQuickDate("yesterday")),g.BMQ("aria-label",g.bMT(37,71,"Auditing.SetDateYesterday")),g.R7$(2),g.SpI(" ",g.bMT(39,73,"Auditing.Yesterday")," "),g.R7$(3),g.AVh("tw-btn-link",!P.checkQuickDate("week")),g.BMQ("aria-label",g.bMT(42,75,"Auditing.SetDateLastWeek")),g.R7$(2),g.SpI(" ",g.bMT(44,77,"Auditing.Week")," "),g.R7$(4),g.Y8G("ngIf",P.resourceOnly),g.R7$(4),g.JRh(g.bMT(52,79,"Auditing.ResultsPerPage")),g.R7$(5),g.Y8G("value",25),g.R7$(2),g.Y8G("value",50),g.R7$(2),g.Y8G("value",100),g.R7$(3),g.Y8G("ngIf",P.showActiveFilters()),g.R7$(3),g.Y8G("ngIf",!P.showAddFilter),g.R7$(),g.Y8G("ngIf",P.showAddFilter),g.R7$(),g.Y8G("hidden",!P.showAddFilter),g.R7$(5),g.JRh(g.bMT(74,81,"Auditing.AddFilter")),g.R7$(8),g.JRh(g.bMT(82,83,"Auditing.Source")),g.R7$(2),g.Y8G("ngIf",!P.resourceBySubject),g.R7$(2),g.SpI("",g.bMT(86,85,"Auditing.Action")," "),g.R7$(2),g.Y8G("ngIf",!P.resourceByResource),g.R7$(2),g.BMQ("placeholder",g.bMT(91,87,"Auditing.FilterTermPlaceholder"))("aria-label",g.bMT(92,89,"Auditing.AddFilterTerm")),g.R7$(7),g.JRh(g.bMT(97,91,"Common.Add")),g.R7$(5),g.JRh(g.bMT(102,93,"Auditing.Showing")),g.R7$(4),g.AVh("tw-btn-link",!(!P.successfulFilter&&!P.unsuccessfulFilter)),g.R7$(),g.SpI(" ",g.bMT(107,95,"Permission.All")," "),g.R7$(3),g.AVh("tw-btn-link",!(P.successfulFilter&&!P.unsuccessfulFilter)),g.R7$(),g.SpI(" ",g.bMT(111,97,"Notifications.Success")," "),g.R7$(3),g.AVh("tw-btn-link",!(P.unsuccessfulFilter&&!P.successfulFilter)),g.R7$(),g.SpI(" ",g.bMT(115,99,"Notifications.Failure")," "),g.R7$(5),g.Y8G("disabled",(null==P.filterForm?null:P.filterForm.errors)||(null==(q=P.filterForm.get("fromDate"))?null:q.hasError("dateInFuture"))),g.R7$(),g.SpI(" ",g.bMT(121,101,"Auditing.ExecuteAndDisplay")," "),g.R7$(3),g.SpI(" ",g.bMT(124,103,"Auditing.Reset")," "),g.R7$(2),g.Y8G("ngIf",P.filterHasChanged),g.R7$(),g.Y8G("ngIf",!P.isLoading),g.R7$(),g.Y8G("ngIf",P.isLoading),g.R7$(),g.Y8G("ngIf",(null==P.pagedResult?null:P.pagedResult.results.length)<1&&!P.isLoading),g.R7$(),g.Y8G("ngIf",(null==P.pagedResult?null:P.pagedResult.results.length)>0&&!P.isLoading),g.R7$(),g.Y8G("ngIf",(null==P.pagedResult?null:P.pagedResult.results.length)>0&&!P.isLoading)}},dependencies:[F.Sq,F.bT,t.qT,t.xH,t.y7,t.wz,t.BC,t.cb,t.cV,t.j4,t.JD,t.$R,M.dg,W.B,y.n,z.d,Z.Z,v.D9,L.r7],encapsulation:2})}}return mt})()},9865:(ot,ve,l)=>{"use strict";l.d(ve,{e:()=>p});var t=l(5312),a=l(1410);let p=(()=>{class A{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static get AdminUIProviderDomain(){return t.c.authServer==a.y.OpenIddict?"openiddictcomponents":"identityserver"}static get SupportLink(){return`mailto:support@${this.AdminUIProviderDomain}.com?subject=AdminUI`}static get ExtendLicense(){return`mailto:support@${this.AdminUIProviderDomain}.com?subject=Extend my AdminUI demo license`}static get SalesLink(){return`mailto:sales@${this.AdminUIProviderDomain}.com?subject=AdminUI`}}return A})()},9898:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>p});var t=l(9974),a=l(4360);function p(){return(0,t.N)((A,e)=>{let w=null;A._refCount++;const m=(0,a._)(e,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(w=null);const D=A._connection,S=w;w=null,D&&(!S||D===S)&&D.unsubscribe(),e.unsubscribe()});A.subscribe(m),m.closed||(w=A.connect())})}},9901:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>p});var t=l(9974),a=l(4360);function p(A){return(0,t.N)((e,w)=>{let m=!1;e.subscribe((0,a._)(w,D=>{m=!0,w.next(D)},()=>{m||w.next(A),w.complete()}))})}},9945:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>m});var t=l(8434),a=l(9417),p=l(1683),A=l(8389),e=l(8018),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,a.YN,a.X1,A.w,p.Y,e.h]})}}return D})()},9947:(ot,ve,l)=>{"use strict";l.d(ve,{a:()=>Z});var t=l(9417),a=l(8434),p=l(8018),A=l(8400),e=l(1683),w=l(4179),m=l(2571),D=l(5826),S=l(7175),g=l(5847),k=l(779),Y=l(534),u=l(6193),E=l(75),B=l(8389),V=l(2653),F=l(7677),M=l(5667),W=l(3843),y=l(8906),z=l(1360);let Z=(()=>{class v{static{this.\u0275fac=function(te){return new(te||v)}}static{this.\u0275mod=z.$C({type:v})}static{this.\u0275inj=z.G2t({providers:[V.f,D.o,g.a,u.V],imports:[a.MD,t.YN,t.X1,A.qP,p.h,Y.Ss,e.Y,k.Q_,w.z,m.A,S.c,E.U,B.w,F.N,M.g,W.G,y.G]})}}return v})()},9957:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>t});var t=function(a){return a[a.NotHandled=0]="NotHandled",a[a.Toast=1]="Toast",a[a.Navigate=2]="Navigate",a}(t||{})},9962:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>S});var t=l(1594),a=l(6354),p=l(7380),A=l(1360),e=l(3853),w=l(5794),m=l(8018),D=l(2947);let S=(()=>{class g extends p.Q{constructor(Y,u,E,B){super(B),this.licenseService=Y,this.toastr=u,this.tranlate=E}canActivate(Y,u){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,a.T)(E=>{if(!E.overClientLimit)return!0;{const B=this.tranlate.instant("Nav.Clients"),V=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:B}),F=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:B});this.toastr.warning(F,V,{timeOut:1e4}),super.redirectToView(Y,u)}}))}static{this.\u0275fac=function(u){return new(u||g)(A.KVO(e.X),A.KVO(w.tw),A.KVO(m.c$),A.KVO(D.Ix))}}static{this.\u0275prov=A.jDH({token:g,factory:g.\u0275fac})}}return g})()},9973:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>B});var t=l(8434),a=l(9417),p=l(1683),A=l(8018),e=l(5731),w=l(7175),m=l(6599),D=l(9262),S=l(4367),g=l(8251),k=l(5663),Y=l(5302),u=l(4288),E=l(1360);let B=(()=>{class V{static{this.\u0275fac=function(W){return new(W||V)}}static{this.\u0275mod=E.$C({type:V})}static{this.\u0275inj=E.G2t({providers:[k.Q,Y.PC,u.f],imports:[t.MD,A.h,D.iI,e.i,p.Y,w.c,a.X1,m.Y,g.h,S.N]})}}return V})()},9974:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>p,S:()=>a});var t=l(8071);function a(A){return(0,t.T)(A?.lift)}function p(A){return e=>{if(a(e))return e.lift(function(w){try{return A(w,this)}catch(m){this.error(m)}});throw new TypeError("Unable to lift unknown Observable type")}}},9988:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>t});var t=function(a){return a.Home="Home",a.SinglePageApplication="SinglePageApplication",a.WebApplication="WebApplication",a.NativeApplication="NativeApplication",a.RobotApplication="RobotApplication",a.CIBARobotApplication="CIBARobotApplication",a.DeviceApplication="DeviceApplication",a.SamlApplication="SamlApplication",a.WsFedApplication="WsFedApplication",a.LegacySinglePageApplication="LegacySinglePageApplication",a.PKCEWebApplication="PKCEWebApplication",a.PKCENativeApplication="PKCENativeApplication",a.ImportWizard="ImportWizard",a.AddDynamicAuth="AddDynamicAuth",a.AddOidcDynamicAuth="AddOidcDynamicAuth",a.AddSamlDynamicAuth="AddSamlDynamicAuth",a.AddOpenIddictScope="AddOpenIddictScope",a.AddApi="AddApi",a.MergeUser="MergeUser",a}(t||{})}},ot=>{ot(ot.s=8044)}]);