(self.webpackChunkadmin_ui_duende=self.webpackChunkadmin_ui_duende||[]).push([[792],{17:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>w});var t=l(1985),o=l(8359),f=l(9898),A=l(4360),e=l(9974);class w extends t.c{constructor(D,S){super(),this.source=D,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,e.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new o.yU;const S=this.getSubject();D.add(this.source.subscribe((0,A._)(S,void 0,()=>{this._teardown(),S.complete()},g=>{this._teardown(),S.error(g)},()=>this._teardown()))),D.closed&&(this._connection=null,D=o.yU.EMPTY)}return D}refCount(){return(0,f.B)()(this)}}},57:(ot,ve,l)=>{var t=l(6589);function o(E,B){t.cipher.registerAlgorithm(E,function(){return new t.aes.Algorithm(E,B)})}l(5855),l(6199),l(812),ot.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!1,mode:F});return M.start(B),M},t.aes.createEncryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!1,mode:B})},t.aes.startDecrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!0,mode:F});return M.start(B),M},t.aes.createDecryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!0,mode:B})},t.aes.Algorithm=function(E,B){f||g();var V=this;V.name=E,V.mode=new B({blockSize:16,cipher:{encrypt:function(F,M){return z(V._w,F,M,!1)},decrypt:function(F,M){return z(V._w,F,M,!0)}}}),V._init=!1},t.aes.Algorithm.prototype.initialize=function(E){if(!this._init){var V,B=E.key;if("string"!=typeof B||16!==B.length&&24!==B.length&&32!==B.length){if(t.util.isArray(B)&&(16===B.length||24===B.length||32===B.length)){V=B,B=t.util.createBuffer();for(var F=0;F<V.length;++F)B.putByte(V[F])}}else B=t.util.createBuffer(B);if(!t.util.isArray(B)){V=B,B=[];var M=V.length();if(16===M||24===M||32===M)for(M>>>=2,F=0;F<M;++F)B.push(V.getInt32())}if(!t.util.isArray(B)||4!==B.length&&6!==B.length&&8!==B.length)throw new Error("Invalid key parameter.");var y=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=k(B,E.decrypt&&!y),this._init=!0}},t.aes._expandKey=function(E,B){return f||g(),k(E,B)},t.aes._updateBlock=z,o("AES-ECB",t.cipher.modes.ecb),o("AES-CBC",t.cipher.modes.cbc),o("AES-CFB",t.cipher.modes.cfb),o("AES-OFB",t.cipher.modes.ofb),o("AES-CTR",t.cipher.modes.ctr),o("AES-GCM",t.cipher.modes.gcm);var e,w,m,D,S,f=!1,A=4;function g(){f=!0,m=[0,1,2,4,8,16,32,64,128,27,54];for(var E=new Array(256),B=0;B<128;++B)E[B]=B<<1,E[B+128]=B+128<<1^283;for(e=new Array(256),w=new Array(256),D=new Array(4),S=new Array(4),B=0;B<4;++B)D[B]=new Array(256),S[B]=new Array(256);var M,W,y,X,Z,v,L,V=0,F=0;for(B=0;B<256;++B){e[V]=X=(X=F^F<<1^F<<2^F<<3^F<<4)>>8^255&X^99,w[X]=V,v=(Z=E[X])<<24^X<<16^X<<8^X^Z,L=((M=E[V])^(W=E[M])^(y=E[W]))<<24^(V^y)<<16^(V^W^y)<<8^V^M^y;for(var Q=0;Q<4;++Q)D[Q][V]=v,S[Q][X]=L,v=v<<24|v>>>8,L=L<<24|L>>>8;0===V?V=F=1:(V=M^E[E[E[M^y]]],F^=E[E[F]])}}function k(E,B){for(var F,V=E.slice(0),M=1,W=V.length,X=A*(W+6+1),Z=W;Z<X;++Z)F=V[Z-1],Z%W==0?(F=e[F>>>16&255]<<24^e[F>>>8&255]<<16^e[255&F]<<8^e[F>>>24]^m[M]<<24,M++):W>6&&Z%W==4&&(F=e[F>>>24]<<24^e[F>>>16&255]<<16^e[F>>>8&255]<<8^e[255&F]),V[Z]=V[Z-W]^F;if(B){for(var v,L=S[0],Q=S[1],te=S[2],N=S[3],fe=V.slice(0),oe=(Z=0,(X=V.length)-A);Z<X;Z+=A,oe-=A)if(0===Z||Z===X-A)fe[Z]=V[oe],fe[Z+1]=V[oe+3],fe[Z+2]=V[oe+2],fe[Z+3]=V[oe+1];else for(var R=0;R<A;++R)fe[Z+(3&-R)]=L[e[(v=V[oe+R])>>>24]]^Q[e[v>>>16&255]]^te[e[v>>>8&255]]^N[e[255&v]];V=fe}return V}function z(E,B,V,F){var W,y,X,Z,v,L,Q,te,N,fe,oe,R,M=E.length/4-1;F?(W=S[0],y=S[1],X=S[2],Z=S[3],v=w):(W=D[0],y=D[1],X=D[2],Z=D[3],v=e),L=B[0]^E[0],Q=B[F?3:1]^E[1],te=B[2]^E[2],N=B[F?1:3]^E[3];for(var Fe=3,we=1;we<M;++we)fe=W[L>>>24]^y[Q>>>16&255]^X[te>>>8&255]^Z[255&N]^E[++Fe],oe=W[Q>>>24]^y[te>>>16&255]^X[N>>>8&255]^Z[255&L]^E[++Fe],R=W[te>>>24]^y[N>>>16&255]^X[L>>>8&255]^Z[255&Q]^E[++Fe],N=W[N>>>24]^y[L>>>16&255]^X[Q>>>8&255]^Z[255&te]^E[++Fe],L=fe,Q=oe,te=R;V[0]=v[L>>>24]<<24^v[Q>>>16&255]<<16^v[te>>>8&255]<<8^v[255&N]^E[++Fe],V[F?3:1]=v[Q>>>24]<<24^v[te>>>16&255]<<16^v[N>>>8&255]<<8^v[255&L]^E[++Fe],V[2]=v[te>>>24]<<24^v[N>>>16&255]<<16^v[L>>>8&255]<<8^v[255&Q]^E[++Fe],V[F?1:3]=v[N>>>24]<<24^v[L>>>16&255]<<16^v[Q>>>8&255]<<8^v[255&te]^E[++Fe]}function u(E){var F,V="AES-"+((E=E||{}).mode||"CBC").toUpperCase(),M=(F=E.decrypt?t.cipher.createDecipher(V,E.key):t.cipher.createCipher(V,E.key)).start;return F.start=function(W,y){var X=null;y instanceof t.util.ByteBuffer&&(X=y,y={}),(y=y||{}).output=X,y.iv=W,M.call(F,y)},F}},75:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>m});var t=l(1683),o=l(8434),f=l(8018),A=l(9417),e=l(8389),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.Y,o.MD,f.h,A.YN,e.w]})}}return D})()},76:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{RolesModule:()=>Qi});var t=l(8434),o=l(9262),f=l(9417),A=l(779),e=l(1683),w=l(8018),m=l(8455),D=l(8580),S=l(5139),g=l(367),k=l(5731),z=l(4193),u=l(3665),E=l(7175),B=l(275),V=l(1993),F=l(8389),M=l(7677),W=l(4367),y=l(1360),X=l(2947),Z=l(5424),v=l(7883),L=l(9196),Q=l(3680),te=l(6719),N=l(251);const fe=(Bt,ue)=>({title:Bt,link:ue}),oe=Bt=>[Bt];function R(Bt,ue){1&Bt&&(y.j41(0,"span",9),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Policy")," "))}function Fe(Bt,ue){1&Bt&&(y.j41(0,"span",10),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Reserved")," "))}function we(Bt,ue){if(1&Bt&&(y.qex(0,6),y.DNE(1,R,3,3,"span",7)(2,Fe,3,3,"span",8),y.bVm()),2&Bt){const Ae=y.XpG();y.R7$(),y.Y8G("ngIf",Ae.isPolicyRole()),y.R7$(),y.Y8G("ngIf",Ae.role.reserved)}}function We(Bt,ue){1&Bt&&y.nrm(0,"app-custom-tab",3),2&Bt&&y.Y8G("tabTitle","Nav.Additional Details")("tabValue","additionaldetails")}let rt=(()=>{class Bt{constructor(Ae,ae,Ce,Pe,At){this.activatedRoute=Ae,this.errorService=ae,this.router=Ce,this.securityService=Pe,this.configService=At,this.enabledRoleClaims=!1}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(Ae=>{this.role=Ae.role},Ae=>{this.errorService.handleError(Ae)}),this.configService.getConfig().subscribe(Ae=>{this.enabledRoleClaims=Ae.featureFlagOptions.enableRoleClaims})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const Ae=this.securityService.policyClaims;for(let ae=0;ae<Ae.length;ae++)if("role"===Ae[ae].type&&Ae[ae].value===this.role.name)return!0;return!1}mobRoute(Ae){this.router.navigate([Ae],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(X.nX),y.rXU(Z.I),y.rXU(X.Ix),y.rXU(v.i),y.rXU(L.w))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["ng-component"]],standalone:!1,decls:11,vars:18,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(ae,Ce){1&ae&&(y.j41(0,"app-title-bar",0),y.nI1(1,"translate"),y.nI1(2,"localize"),y.DNE(3,we,3,2,"ng-container",1),y.qex(4,2),y.j41(5,"app-custom-tabs"),y.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),y.DNE(8,We,1,2,"app-custom-tab",4),y.k0s(),y.bVm(),y.k0s(),y.j41(9,"div",5),y.nrm(10,"router-outlet"),y.k0s()),2&ae&&(y.Y8G("title",Ce.role.name)("crumbs",y.eq3(16,oe,y.l_i(13,fe,y.bMT(1,9,"Nav.Roles"),y.bMT(2,11,"/roles"))))("hasTabs",!0),y.R7$(3),y.Y8G("ngIf",Ce.isPolicyRole()||Ce.role.reserved),y.R7$(3),y.Y8G("tabTitle","Nav.Details")("tabValue","details"),y.R7$(),y.Y8G("tabTitle","Nav.Users")("tabValue","users"),y.R7$(),y.Y8G("ngIf",Ce.enabledRoleClaims))},dependencies:[X.n3,t.bT,Q.z,te.G,N.v,w.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var lt=l(9838),vt=l(9957),Ue=l(6303),Ye=l(6411),He=l(3519),it=l(345),Le=l(5794),Ve=l(7499),Xe=l(6728),je=l(6406),ct=l(8698),st=l(8762),Qe=l(7778),ne=l(4692);const Y=Bt=>[Bt];function he(Bt,ue){1&Bt&&y.nrm(0,"input",12)}function ge(Bt,ue){if(1&Bt&&(y.nrm(0,"app-readonly",13),y.nI1(1,"readOnlyValue")),2&Bt){const Ae=y.XpG();y.Y8G("fieldType",Ae.ReadOnlyFieldType.Single)("values",y.eq3(4,Y,y.bMT(1,2,Ae.role.name)))}}function s(Bt,ue){1&Bt&&y.nrm(0,"textarea",14)}function dt(Bt,ue){if(1&Bt&&(y.nrm(0,"app-readonly",13),y.nI1(1,"readOnlyValue")),2&Bt){const Ae=y.XpG();y.Y8G("fieldType",Ae.ReadOnlyFieldType.Single)("values",y.eq3(4,Y,y.bMT(1,2,Ae.role.description)))}}let _t=(()=>{class Bt extends Ye.A{get ReadOnlyFieldType(){return Ue.t}constructor(Ae,ae,Ce,Pe,At,pn,Bn,Wi,Di,Li,li){super(li),this.rolesService=Ae,this.route=ae,this.securityService=Ce,this.router=Pe,this.fb=At,this.titleService=pn,this.toastr=Bn,this.translate=Wi,this.localize=Di,this.errorService=Li}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(Ae=>{this.role=Ae,this.buildForms(),this.initialData=JSON.stringify(Ae);const ae=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+lt.$9.SITE_TITLE;this.titleService.setTitle(ae)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}get unsavedChanges(){return!this.editRoleForm.pristine}onDeactivate(){}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const Ae=this.translate.instant("Notifications.Saving Success Title"),ae=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,Ae)},Ae=>{if(401===Ae.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const ae={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message"),forceToast:!0};(this.errorService.handleError(Ae,ae)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(ae.toastBody,ae.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(Ae=>{const ae=this.localize.translateRoute("/roles");this.router.navigate([ae]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},Ae=>{if(401===Ae.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const ae={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message"),forceToast:!0};(this.errorService.handleError(Ae,ae)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(ae.toastBody,ae.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const Ae=this.securityService.policyClaims;for(let ae=0;ae<Ae.length;ae++)if("role"===Ae[ae].type&&Ae[ae].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(He.P),y.rXU(X.nX),y.rXU(v.i),y.rXU(X.Ix),y.rXU(f.ze),y.rXU(it.hE),y.rXU(Le.tw),y.rXU(w.c$),y.rXU(S.QG),y.rXU(Z.I),y.rXU(Ve.o))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-details"]],standalone:!1,features:[y.Vt3],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(ae,Ce){if(1&ae){const Pe=y.RV6();y.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),y.DNE(3,he,1,0,"input",4)(4,ge,2,6,"app-readonly",5),y.k0s(),y.j41(5,"app-form-row",6),y.DNE(6,s,1,0,"textarea",7)(7,dt,2,6,"app-readonly",5),y.k0s()()(),y.j41(8,"app-button-bar")(9,"button",8),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.updateRole())}),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.qex(12,9),y.j41(13,"button",10),y.bIt("click",function(){y.eBV(Pe);const pn=y.sdS(17);return y.Njj(pn.show())}),y.EFF(14),y.nI1(15,"translate"),y.k0s(),y.bVm(),y.k0s(),y.j41(16,"app-delete-confirmation-modal",11,0),y.bIt("delete",function(){return y.eBV(Pe),y.Njj(Ce.deleteRole())}),y.k0s(),y.nrm(18,"app-can-deactivate")}2&ae&&(y.R7$(),y.Y8G("formGroup",Ce.editRoleForm),y.R7$(),y.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),y.R7$(),y.Y8G("ngIf",!Ce.isControlDisabled()),y.R7$(),y.Y8G("ngIf",Ce.isControlDisabled()),y.R7$(),y.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),y.R7$(),y.Y8G("ngIf",!Ce.isControlDisabled()),y.R7$(),y.Y8G("ngIf",Ce.isControlDisabled()),y.R7$(2),y.Y8G("disabled",!Ce.editRoleForm.dirty&&Ce.editRoleForm.valid||Ce.allowedToEditRole()||Ce.role.reserved),y.R7$(),y.SpI(" ",y.bMT(11,17,"Common.Save")," "),y.R7$(3),y.Y8G("disabled",Ce.isControlDisabled()),y.R7$(),y.SpI(" ",y.bMT(15,19,"Common.Delete.Title")," "),y.R7$(2),y.Y8G("modalId","deleteRoleModal")("resourceName",Ce.role.name))},dependencies:[t.bT,f.qT,f.me,f.BC,f.cb,f.j4,f.JD,Xe.E,je.z,ct.Y,st.O,Qe.w,ne.u,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var en=l(1413),Cn=l(1594),Wn=l(6354),tn=l(1716),Ln=l(9172),ni=l(1397),ft=l(1655),Qt=l(5435),pe=l(5602),de=l(7156),P=l(7294),q=l(7384),Ne=l(8114),De=function(Bt){return Bt.Remove="Remove",Bt.Add="Add",Bt}(De||{}),et=l(1068);const gt=["roleManagerUsers"],Kt=()=>({animated:!1,backdrop:"static"}),sn=(Bt,ue,Ae,ae)=>({id:"usersAddingSummary",title:Bt,data:ue,label:Ae,empty:ae}),Rn=(Bt,ue,Ae,ae)=>({id:"usersRemovingSummary",title:Bt,data:ue,label:Ae,empty:ae});function Kn(Bt,ue){1&Bt&&(y.nrm(0,"app-simple-loader",19),y.nI1(1,"translate")),2&Bt&&y.Y8G("text",y.bMT(1,1,"Roles.SavingPleaseWait"))}function ei(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"li",38)(1,"label",39)(2,"input",40),y.bIt("change",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(3);return y.Njj(Pe.toggleIfInRole(Ce))}),y.k0s(),y.j41(3,"div",41)(4,"span",42),y.EFF(5),y.k0s(),y.j41(6,"span",43),y.EFF(7),y.k0s()()()()}if(2&Bt){const Ae=ue.$implicit,ae=y.XpG(3);y.R7$(2),y.Y8G("checked",ae.checkChecked(Ae)),y.R7$(3),y.JRh(Ae.userName),y.R7$(2),y.JRh(Ae.email)}}function Ot(Bt,ue){if(1&Bt&&(y.j41(0,"div",35)(1,"ul",36),y.DNE(2,ei,8,3,"li",37),y.k0s()()),2&Bt){const Ae=y.XpG(2);y.R7$(2),y.Y8G("ngForOf",Ae.users)}}function Gn(Bt,ue){1&Bt&&(y.j41(0,"p",44),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.NotSelected")," "))}function Zt(Bt,ue){1&Bt&&(y.j41(0,"p",44),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.NoResults")," "))}function Tn(Bt,ue){1&Bt&&y.nrm(0,"app-simple-loader")}function In(Bt,ue){1&Bt&&y.eu8(0)}function rs(Bt,ue){1&Bt&&y.eu8(0)}function _i(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"div")(1,"div",20),y.nrm(2,"p",21),y.k0s(),y.j41(3,"div",22)(4,"h2",23),y.EFF(5),y.nI1(6,"translate"),y.k0s(),y.j41(7,"div",24)(8,"label",25)(9,"span",9),y.EFF(10),y.nI1(11,"translate"),y.k0s()(),y.j41(12,"input",26),y.mxI("ngModelChange",function(Ce){y.eBV(Ae);const Pe=y.XpG();return y.DH7(Pe.searchTerm,Ce)||(Pe.searchTerm=Ce),y.Njj(Ce)}),y.bIt("keyup",function(Ce){y.eBV(Ae);const Pe=y.XpG();return y.Njj(Pe.search(Ce))}),y.k0s()()(),y.j41(13,"div",27)(14,"div",28),y.DNE(15,Ot,3,1,"div",29)(16,Gn,3,3,"p",30)(17,Zt,3,3,"p",30)(18,Tn,1,0,"app-simple-loader",12),y.k0s(),y.j41(19,"div",31)(20,"div",32),y.DNE(21,In,1,0,"ng-container",33),y.nI1(22,"translate"),y.nI1(23,"translate"),y.nI1(24,"translate"),y.k0s(),y.j41(25,"div",34),y.DNE(26,rs,1,0,"ng-container",33),y.nI1(27,"translate"),y.nI1(28,"translate"),y.nI1(29,"translate"),y.k0s()()()()}if(2&Bt){const Ae=y.XpG(),ae=y.sdS(17);y.R7$(2),y.Y8G("innerHtml",Ae.summaryText,y.npT),y.R7$(3),y.JRh(y.bMT(6,12,"Roles.SearchAllUsers")),y.R7$(5),y.JRh(y.bMT(11,14,"Roles.SearchUsers")),y.R7$(2),y.R50("ngModel",Ae.searchTerm),y.R7$(3),y.Y8G("ngIf",!Ae.isLoading&&Ae.hasSearched&&Ae.users.length>0),y.R7$(),y.Y8G("ngIf",!Ae.isLoading&&!Ae.hasSearched&&Ae.users.length<1),y.R7$(),y.Y8G("ngIf",!Ae.isLoading&&Ae.hasSearched&&Ae.users.length<1),y.R7$(),y.Y8G("ngIf",Ae.isLoading),y.R7$(3),y.Y8G("ngTemplateOutlet",ae)("ngTemplateOutletContext",y.ziG(28,sn,y.bMT(22,16,"Roles.Adding"),Ae.usersAdding,y.bMT(23,18,"Roles.CancelAdding"),y.bMT(24,20,"Roles.NoUsersAdding"))),y.R7$(5),y.Y8G("ngTemplateOutlet",ae)("ngTemplateOutletContext",y.ziG(33,Rn,y.bMT(27,22,"Roles.Removing"),Ae.usersRemoving,y.bMT(28,24,"Roles.CancelRemoving"),y.bMT(29,26,"Roles.NoUsersRemoving")))}}function Bi(Bt,ue){if(1&Bt&&(y.j41(0,"p",44),y.EFF(1),y.k0s()),2&Bt){const Ae=y.XpG().empty;y.R7$(),y.JRh(Ae)}}function Ni(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"li",52)(1,"button",53),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(3);return y.Njj(Pe.toggleIfInRole(Ce))}),y.j41(2,"div",54),y.nrm(3,"span",55),y.j41(4,"span",56),y.EFF(5),y.k0s()()()()}if(2&Bt){const Ae=ue.$implicit,ae=y.XpG(2).label;y.R7$(),y.BMQ("aria-label",ae+" "+Ae.userName),y.R7$(4),y.JRh(Ae.userName)}}function os(Bt,ue){if(1&Bt&&(y.j41(0,"div",49)(1,"ul",50),y.DNE(2,Ni,6,2,"li",51),y.k0s()()),2&Bt){const Ae=y.XpG(),ae=Ae.id,Ce=Ae.data;y.R7$(),y.FS9("id",ae),y.R7$(),y.Y8G("ngForOf",Ce)}}function zn(Bt,ue){if(1&Bt&&(y.j41(0,"h2",45),y.EFF(1),y.j41(2,"span",46),y.EFF(3),y.k0s()(),y.j41(4,"div",47),y.DNE(5,Bi,2,1,"p",30)(6,os,3,2,"div",48),y.k0s()),2&Bt){const Ae=ue.title,ae=ue.data;y.R7$(),y.SpI(" ",Ae," "),y.R7$(2),y.SpI("(",ae.length,")"),y.R7$(2),y.Y8G("ngIf",ae.length<1),y.R7$(),y.Y8G("ngIf",ae.length>0)}}let fs=(()=>{class Bt extends Qt.if{constructor(Ae,ae,Ce,Pe,At){super(Pe,At,!1),this.userService=Ae,this.rolesService=ae,this.translateService=Ce,this.onSubmitted=new y.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,tn.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(At=>{this.users=At.results;const pn=[...this.users.filter(Bn=>Bn.isInRole),...this.usersInRole];this.usersInRole=et.Am(pn,!1,Bn=>Bn.subject),this.isLoading=!1,this.hasSearched=!0},At=>{this.isLoading=!1})})}mapSearchTerm(Ae){return{searchTerm:Ae}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(Ae){if(Ae.isInRole){const ae=et.SL(this.usersRemoving,Ce=>Ce.subject===Ae.subject);ae>-1?(this.usersRemoving.splice(ae,1),this.usersInRole.push(Ae)):(this.usersRemoving.push(Ae),this.usersInRole.splice(this.usersInRole.indexOf(Ae),1))}else{const ae=et.SL(this.usersAdding,Ce=>Ce.subject===Ae.subject);ae>-1?(this.usersAdding.splice(ae,1),this.usersInRole.splice(this.usersInRole.indexOf(Ae),1)):(this.usersAdding.push(Ae),this.usersInRole.push(Ae))}}checkChecked(Ae){let ae;return Ae.isInRole?(ae=et.I6(this.usersRemoving,Ce=>Ce.subject===Ae.subject),void 0===ae):(ae=et.I6(this.usersAdding,Ce=>Ce.subject===Ae.subject),void 0!==ae)}addOrRemoveUsers(){const Ae=[];this.isSaving=!0,Ae.push(...this.usersAdding.map(ae=>({username:ae.userName,subject:ae.subject,addOrRemove:De.Add}))),Ae.push(...this.usersRemoving.map(ae=>({username:ae.userName,subject:ae.subject,addOrRemove:De.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,Ae).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},ae=>{this.isSaving=!1,401===ae.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(pe.D),y.rXU(He.P),y.rXU(w.c$),y.rXU(Le.tw),y.rXU(w.c$))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-manageusers"]],viewQuery:function(ae,Ce){if(1&ae&&y.GBs(gt,7),2&ae){let Pe;y.mGM(Pe=y.lsd())&&(Ce.roleManagerUsers=Pe.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},standalone:!1,features:[y.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(ae,Ce){if(1&ae){const Pe=y.RV6();y.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),y.EFF(6),y.nI1(7,"translate"),y.k0s(),y.j41(8,"button",7),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.hide())}),y.nrm(9,"span",8),y.j41(10,"span",9),y.EFF(11),y.nI1(12,"translate"),y.k0s()()(),y.j41(13,"div",10),y.DNE(14,Kn,2,3,"app-simple-loader",11)(15,_i,30,38,"div",12)(16,zn,7,4,"ng-template",null,1,y.C5r),y.k0s(),y.nrm(18,"div",13),y.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.addOrRemoveUsers())}),y.EFF(23),y.nI1(24,"translate"),y.k0s()(),y.j41(25,"button",18),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.hide())}),y.EFF(26),y.nI1(27,"translate"),y.k0s()()()()()()}2&ae&&(y.Y8G("config",y.lJ4(18,Kt)),y.R7$(6),y.JRh(y.bMT(7,10,"Roles.RoleUserManagement")),y.R7$(2),y.Y8G("disabled",Ce.isSaving),y.R7$(3),y.JRh(y.bMT(12,12,"Common.Close")),y.R7$(3),y.Y8G("ngIf",Ce.isSaving),y.R7$(),y.Y8G("ngIf",!Ce.isSaving),y.R7$(7),y.Y8G("disabled",Ce.isSaving||Ce.usersAdding.length<1&&Ce.usersRemoving.length<1),y.R7$(),y.SpI(" ",y.bMT(24,14,"Common.Save")," "),y.R7$(2),y.Y8G("disabled",Ce.isSaving),y.R7$(),y.JRh(y.bMT(27,16,"Common.Close")))},dependencies:[t.Sq,t.bT,t.T3,f.me,f.BC,f.YS,f.xh,f.tU,f.vS,A.hZ,q.d,w.D9],encapsulation:2})}}return Bt})();function xi(Bt,ue){if(1&Bt){const Ae=y.RV6();y.qex(0,20),y.j41(1,"div",21)(2,"label",22),y.EFF(3),y.nI1(4,"translate"),y.k0s(),y.j41(5,"select",23),y.mxI("ngModelChange",function(Ce){y.eBV(Ae);const Pe=y.XpG(2);return y.DH7(Pe.pageSize,Ce)||(Pe.pageSize=Ce),y.Njj(Ce)}),y.bIt("change",function(){y.eBV(Ae);const Ce=y.XpG(2);return y.Njj(Ce.setPageLength(+Ce.pageSize))}),y.j41(6,"option",24),y.EFF(7),y.nI1(8,"translate"),y.k0s(),y.j41(9,"option",25),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"option",26),y.EFF(13),y.nI1(14,"translate"),y.k0s()()(),y.bVm()}if(2&Bt){const Ae=y.XpG(2);y.R7$(3),y.Lme("",Ae.pageSize," ",y.bMT(4,6,"Nav.PerPage"),""),y.R7$(2),y.R50("ngModel",Ae.pageSize),y.R7$(2),y.SpI("25 ",y.bMT(8,8,"Nav.PerPage"),""),y.R7$(3),y.SpI("50 ",y.bMT(11,10,"Nav.PerPage"),""),y.R7$(3),y.SpI("100 ",y.bMT(14,12,"Nav.PerPage"),"")}}function wt(Bt,ue){1&Bt&&(y.j41(0,"span"),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.ManageUsers")," "))}function Tt(Bt,ue){1&Bt&&(y.j41(0,"span"),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Roles.AddUsers")," "))}function xt(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"app-action-bar"),y.DNE(1,xi,15,14,"ng-container",17),y.qex(2,18),y.j41(3,"button",19),y.bIt("click",function(){y.eBV(Ae),y.XpG();const Ce=y.sdS(11);return y.Njj(Ce.show())}),y.DNE(4,wt,3,3,"span",9)(5,Tt,3,3,"span",9),y.k0s(),y.bVm(),y.k0s()}if(2&Bt){const Ae=y.XpG();y.R7$(),y.Y8G("ngIf",(null==Ae.pagedResult?null:Ae.pagedResult.results.length)>0),y.R7$(3),y.Y8G("ngIf",Ae.users&&Ae.users.length>0),y.R7$(),y.Y8G("ngIf",Ae.users&&Ae.users.length<1)}}function Wt(Bt,ue){1&Bt&&y.nrm(0,"app-simple-loader")}function un(Bt,ue){1&Bt&&(y.j41(0,"div",27)(1,"div"),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Users.NoUsersFound")))}function ii(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"tr")(1,"td",34),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.goToUser(Ce))}),y.j41(2,"b",35),y.EFF(3),y.k0s()(),y.j41(4,"td",36),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.goToUser(Ce))}),y.EFF(5),y.k0s(),y.j41(6,"td",36),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.goToUser(Ce))}),y.EFF(7),y.k0s(),y.j41(8,"td",37),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.removeUser(Ce))}),y.j41(9,"button",38),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2),At=y.sdS(17);return Pe.removeUser(Ce),y.Njj(At.show())}),y.nrm(10,"span",39),y.j41(11,"span",7),y.EFF(12),y.nI1(13,"translate"),y.k0s()()()()}if(2&Bt){const Ae=ue.$implicit;y.R7$(3),y.JRh(Ae.username),y.R7$(2),y.SpI(" ",Ae.firstName," "),y.R7$(2),y.SpI(" ",Ae.lastName," "),y.R7$(5),y.JRh(y.bMT(13,4,"Common.Remove.Title"))}}function Ei(Bt,ue){if(1&Bt&&(y.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),y.EFF(4),y.nI1(5,"translate"),y.k0s(),y.j41(6,"th",30),y.EFF(7),y.nI1(8,"translate"),y.k0s(),y.j41(9,"th",30),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"th",31)(13,"span",7),y.EFF(14),y.nI1(15,"translate"),y.k0s()()()(),y.j41(16,"tbody",32),y.DNE(17,ii,14,6,"tr",33),y.k0s()()),2&Bt){const Ae=y.XpG();y.R7$(4),y.JRh(y.bMT(5,5,"Users.Username")),y.R7$(3),y.JRh(y.bMT(8,7,"Users.FirstName")),y.R7$(3),y.JRh(y.bMT(11,9,"Users.LastName")),y.R7$(4),y.JRh(y.bMT(15,11,"Common.Actions")),y.R7$(3),y.Y8G("ngForOf",Ae.users)}}function Ii(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"app-pager",40),y.bIt("onGoToPage",function(Ce){y.eBV(Ae);const Pe=y.XpG();return y.Njj(Pe.goToPage(Ce))}),y.k0s()}if(2&Bt){const Ae=y.XpG();y.Y8G("totalResults",null==Ae.pagedResult?null:Ae.pagedResult.totalCount)("currentPage",Ae.page)("lastPage",null==Ae.pagedResult?null:Ae.pagedResult.pageCount)}}let Ti=(()=>{class Bt extends Qt.if{constructor(Ae,ae,Ce,Pe,At,pn,Bn){super(At,ae,!0),this.rolesService=Ae,this.localize=Ce,this.router=Pe,this.errorService=pn,this.userService=Bn,this.pageStream=new en.B,this.pageSizeStream=new en.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=ae.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Cn.$)()).subscribe(Ae=>{this.role=Ae,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const ae=this.pageStream.pipe((0,Wn.T)(At=>(this.page=At,{searchTerm:this.searchTerm,page:At,pageSize:this.pageSize}))),Ce=this.pageSizeStream.pipe((0,Wn.T)(At=>(this.pageSize=At,{searchTerm:this.searchTerm,page:this.page,pageSize:At})));ae.pipe((0,tn.h)(Ce),(0,tn.h)(this.searchSource),(0,tn.h)(this.enterKeySource),(0,Ln.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ni.Z)(At=>(this.isLoading=!0,this.rolesService.getUsersInRole(Ae.id,At.page,At.pageSize,At.searchTerm).pipe((0,ft.c)(200))))).subscribe(At=>{this.pagedResult=At,this.users=At.results,this.isLoading=!1},At=>{this.errorService.handleError(At),this.isLoading=!1})})}mapSearchTerm(Ae){return this.searchTerm=Ae,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(Ae){this.pageStream.next(1)}goToPage(Ae){this.pageStream.next(Ae)}setPageLength(Ae){this.page=1,this.pageSizeStream.next(Ae)}goToUser(Ae){const ae=[this.localize.translateRoute("/users"),Ae.subject,"roles"];this.router.navigate(ae)}removeUser(Ae){this.removeSummary=this.removeSummaryTranslation.replace("{0}",Ae.username),this.userToRemove=Ae}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(Ae=>{let ae=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;ae<1&&(ae=1),this.goToPage(ae),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},Ae=>{this.isLoading=!1,401===Ae.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(He.P),y.rXU(w.c$),y.rXU(S.QG),y.rXU(X.Ix),y.rXU(Le.tw),y.rXU(Z.I),y.rXU(pe.D))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-users"]],standalone:!1,features:[y.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ae,Ce){if(1&ae){const Pe=y.RV6();y.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),y.nrm(4,"span",6),y.j41(5,"span",7),y.EFF(6),y.nI1(7,"translate"),y.k0s()(),y.j41(8,"input",8),y.mxI("ngModelChange",function(pn){return y.eBV(Pe),y.DH7(Ce.searchTerm,pn)||(Ce.searchTerm=pn),y.Njj(pn)}),y.bIt("keyup",function(pn){return y.eBV(Pe),y.Njj(Ce.search(pn))}),y.k0s()()(),y.DNE(9,xt,6,3,"app-action-bar",9),y.j41(10,"app-role-manageusers",10,0),y.bIt("onSubmitted",function(pn){return y.eBV(Pe),y.Njj(Ce.onSubmit(pn))}),y.k0s(),y.DNE(12,Wt,1,0,"app-simple-loader",9)(13,un,4,3,"div",11)(14,Ei,18,13,"table",12)(15,Ii,1,3,"app-pager",13),y.k0s(),y.j41(16,"app-confirmation-modal",14,1),y.bIt("confirm",function(){return y.eBV(Pe),y.Njj(Ce.delete())}),y.qex(18,15),y.nrm(19,"p",16),y.bVm(),y.k0s()}2&ae&&(y.R7$(6),y.JRh(y.bMT(7,15,"Common.Search")),y.R7$(2),y.R50("ngModel",Ce.searchTerm),y.R7$(),y.Y8G("ngIf",!Ce.isLoading),y.R7$(),y.Y8G("role",Ce.role),y.R7$(2),y.Y8G("ngIf",Ce.isLoading),y.R7$(),y.Y8G("ngIf",Ce.users&&0==Ce.users.length&&!Ce.isLoading),y.R7$(),y.Y8G("ngIf",Ce.users&&Ce.users.length>0&&!Ce.isLoading),y.R7$(),y.Y8G("ngIf",(null==Ce.pagedResult?null:Ce.pagedResult.results.length)>0&&!Ce.isLoading),y.R7$(),y.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),y.R7$(3),y.Y8G("innerHtml",Ce.removeSummary,y.npT))},dependencies:[t.Sq,t.bT,f.xH,f.y7,f.me,f.wz,f.BC,f.YS,f.xh,f.tU,f.vS,de.B,P.n,q.d,Ne.B,fs,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var Dn=l(8412),Vi=l(7263),ji=l(6494),zi=l(2510);class ls{constructor(){this.selected=!1}}const ut=["addRoleModal"],Rt=()=>({animated:!1,backdrop:"static"});let yt=(()=>{class Bt{constructor(Ae,ae,Ce,Pe,At,pn){this.rolesService=Ae,this.errorService=ae,this.translate=Ce,this.router=Pe,this.fb=At,this.toastr=pn,this.added=new y.bkB}keydown(Ae){"Enter"===Ae.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",f.k0.required],description:["",f.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let Ae=new ls;Ae=this.addRoleForm.value,Ae.name=Ae.name.trim(),this.rolesService.addRole(Ae).subscribe({next:ae=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+Ae.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},error:ae=>{this.errorService.handleError(ae)}})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(He.P),y.rXU(Z.I),y.rXU(w.c$),y.rXU(X.Ix),y.rXU(f.ze),y.rXU(Le.tw))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-add-role"]],viewQuery:function(ae,Ce){if(1&ae&&y.GBs(ut,7),2&ae){let Pe;y.mGM(Pe=y.lsd())&&(Ce.addRoleModal=Pe.first)}},hostBindings:function(ae,Ce){1&ae&&y.bIt("keydown",function(At){return Ce.keydown(At)},!1,y.EBC)},outputs:{added:"added"},standalone:!1,decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn-secondary",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(ae,Ce){if(1&ae){const Pe=y.RV6();y.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),y.EFF(6),y.nI1(7,"translate"),y.k0s(),y.j41(8,"button",6),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.hide())}),y.nrm(9,"span",7),y.j41(10,"span",8),y.EFF(11),y.nI1(12,"translate"),y.k0s()()(),y.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),y.nrm(16,"input",12),y.k0s(),y.j41(17,"app-form-row",13),y.nrm(18,"textarea",14),y.k0s()()(),y.nrm(19,"div",15),y.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),y.bIt("click",function(){return y.eBV(Pe),Ce.addRole(),y.Njj(Ce.hide())}),y.EFF(24),y.nI1(25,"translate"),y.k0s(),y.j41(26,"span",20)(27,"button",21),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.addAnotherRole())}),y.EFF(28),y.nI1(29,"translate"),y.k0s()()(),y.j41(30,"button",22),y.bIt("click",function(){return y.eBV(Pe),y.Njj(Ce.hide())}),y.EFF(31),y.nI1(32,"translate"),y.k0s()()()()()()}2&ae&&(y.Y8G("config",y.lJ4(25,Rt)),y.R7$(6),y.JRh(y.bMT(7,15,"Roles.NewRole")),y.R7$(5),y.JRh(y.bMT(12,17,"Common.Close")),y.R7$(3),y.Y8G("formGroup",Ce.addRoleForm),y.R7$(),y.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),y.R7$(2),y.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),y.R7$(6),y.Y8G("disabled",!Ce.addRoleForm.valid),y.R7$(),y.JRh(y.bMT(25,19,"Common.Save")),y.R7$(3),y.Y8G("disabled",!Ce.addRoleForm.valid),y.R7$(),y.JRh(y.bMT(29,21,"Common.SaveAndAdd")),y.R7$(3),y.JRh(y.bMT(32,23,"Common.Cancel")))},dependencies:[f.qT,f.me,f.BC,f.cb,f.j4,f.JD,A.hZ,ct.Y,w.D9],encapsulation:2})}}return Bt})();function nn(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"app-action-bar"),y.qex(1,9),y.j41(2,"button",10),y.bIt("click",function(){y.eBV(Ae),y.XpG();const Ce=y.sdS(3);return y.Njj(Ce.show())}),y.EFF(3),y.nI1(4,"translate"),y.k0s(),y.bVm(),y.k0s()}2&Bt&&(y.R7$(3),y.SpI(" ",y.bMT(4,1,"Roles.AddRole")," "))}function Vn(Bt,ue){1&Bt&&y.nrm(0,"app-simple-loader")}function ln(Bt,ue){1&Bt&&(y.j41(0,"div",11)(1,"div"),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Roles.NoRolesFound")))}function Xn(Bt,ue){1&Bt&&y.nrm(0,"span",15)}function qn(Bt,ue){1&Bt&&y.nrm(0,"span",16)}function Ht(Bt,ue){1&Bt&&(y.j41(0,"span",33),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Policy")," "))}function oi(Bt,ue){1&Bt&&(y.j41(0,"span",34),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Reserved")," "))}function Xt(Bt,ue){1&Bt&&(y.nrm(0,"span",35),y.j41(1,"span",19),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Common.Edit")))}function Un(Bt,ue){1&Bt&&(y.nrm(0,"span",36),y.j41(1,"span",19),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&Bt&&(y.R7$(2),y.JRh(y.bMT(3,1,"Common.View")))}function fn(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"tr",23)(1,"td",24),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.navigate(Ce,Ce.id))}),y.j41(2,"b",25),y.EFF(3),y.k0s()(),y.j41(4,"td",26),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.navigate(Ce,Ce.id))}),y.EFF(5),y.k0s(),y.j41(6,"td",27),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.navigate(Ce,Ce.id))}),y.DNE(7,Ht,3,3,"span",28),y.k0s(),y.j41(8,"td",29),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.navigate(Ce,Ce.id))}),y.DNE(9,oi,3,3,"span",30),y.k0s(),y.j41(10,"td",31),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.navigate(Ce,Ce.id))}),y.j41(11,"button",32),y.bIt("click",function(){const Ce=y.eBV(Ae).$implicit,Pe=y.XpG(2);return y.Njj(Pe.navigate(Ce,Ce.id))}),y.DNE(12,Xt,4,3)(13,Un,4,3),y.k0s()()()}if(2&Bt){const Ae=ue.$implicit,ae=y.XpG(2);y.R7$(3),y.JRh(Ae.name),y.R7$(2),y.SpI(" ",Ae.description," "),y.R7$(2),y.Y8G("ngIf",ae.isPolicyRole(Ae)),y.R7$(2),y.Y8G("ngIf",Ae.reserved),y.R7$(3),y.vxM(ae.hasEditPermission?12:13)}}function Qn(Bt,ue){if(1&Bt){const Ae=y.RV6();y.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),y.bIt("click",function(){y.eBV(Ae);const Ce=y.XpG();return y.Njj(Ce.sort())}),y.j41(4,"span",14),y.EFF(5),y.nI1(6,"translate"),y.k0s(),y.DNE(7,Xn,1,0,"span",15)(8,qn,1,0,"span",16),y.k0s(),y.j41(9,"th",17),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"th",18)(13,"span",19),y.EFF(14),y.nI1(15,"translate"),y.k0s()(),y.j41(16,"th",20)(17,"span",19),y.EFF(18),y.nI1(19,"translate"),y.k0s()(),y.j41(20,"th",21)(21,"span",19),y.EFF(22),y.nI1(23,"translate"),y.k0s()()()(),y.j41(24,"tbody"),y.DNE(25,fn,14,5,"tr",22),y.k0s()()}if(2&Bt){const Ae=y.XpG();y.R7$(5),y.JRh(y.bMT(6,7,"Common.Name")),y.R7$(2),y.vxM(Ae.sortIconAscending?7:8),y.R7$(3),y.SpI(" ",y.bMT(11,9,"Common.Description")," "),y.R7$(4),y.JRh(y.bMT(15,11,"Common.Policy")),y.R7$(4),y.JRh(y.bMT(19,13,"Common.Reserved")),y.R7$(4),y.JRh(y.bMT(23,15,"Common.Actions")),y.R7$(3),y.Y8G("ngForOf",Ae.roles)}}function vi(Bt,ue){if(1&Bt&&y.nrm(0,"app-pager",37),2&Bt){const Ae=y.XpG();y.Y8G("totalResults",null==Ae.roles?null:Ae.roles.length)}}let Be=(()=>{class Bt extends ji.u{constructor(Ae,ae,Ce,Pe,At,pn,Bn,Wi,Di){super(Wi,pn,!0,Di,At,Bn),this.rolesService=Ae,this.titleService=ae,this.localize=Ce,this.errorService=Pe,this.roleListLength=0,this.term="",this.sortCriteria="name",this.sortIconAscending=!0,this.sortStream=new en.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}mapSearchTerm(Ae){return this.term=Ae,{searchTerm:this.term,sort:this.sortCriteria}}ngOnInit(){const Ae=this.translate.instant("Nav.Roles")+" - "+lt.$9.SITE_TITLE;this.titleService.setTitle(Ae),this.isLoading=!0;const ae=this.sortStream.pipe((0,Wn.T)(Pe=>({searchTerm:this.term,sort:Pe})));this.searchSource.pipe((0,Dn.X)(ae),(0,Ln.Z)({searchTerm:this.term,sort:this.sortCriteria}),(0,ni.Z)(Pe=>this.rolesService.getRoles(Pe.searchTerm,Pe.sort))).subscribe({next:Pe=>{this.roles=Pe,this.isLoading=!1},error:Pe=>{this.errorService.handleError(Pe),this.isLoading=!1}})}update(){this.sortStream.next(this.sortCriteria)}sort(){const Ae=!this.sortCriteria.startsWith("-");this.sortCriteria=Ae?"-name":"name",this.sortStream.next(this.sortCriteria),this.sortIconAscending=!Ae}allowedToEditRole(Ae){return!this.securityService.allView&&this.isPolicyRole(Ae)}isPolicyRole(Ae){const ae=this.securityService.policyClaims;for(let Ce=0;Ce<ae.length;Ce++)if("role"===ae[Ce].type&&ae[Ce].value===Ae.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Vi.zG)(this.securityService.userPermissions)}resourceIsReadOnly(Ae){return!this.hasEditPermission}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(He.P),y.rXU(it.hE),y.rXU(S.QG),y.rXU(Z.I),y.rXU(v.i),y.rXU(w.c$),y.rXU(X.Ix),y.rXU(Le.tw),y.rXU(X.nX))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["ng-component"]],standalone:!1,features:[y.Vt3],decls:12,vars:12,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill-warning"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["hidePager","true",3,"totalResults"]],template:function(ae,Ce){if(1&ae){const Pe=y.RV6();y.nrm(0,"app-title-bar",1),y.nI1(1,"translate"),y.j41(2,"app-add-role",2,0),y.bIt("added",function(){return y.eBV(Pe),y.Njj(Ce.update())}),y.k0s(),y.j41(4,"div",3)(5,"app-search",4),y.nI1(6,"translate"),y.mxI("searchTermChange",function(pn){return y.eBV(Pe),y.DH7(Ce.searchTerm,pn)||(Ce.searchTerm=pn),y.Njj(pn)}),y.bIt("onSearch",function(pn){return y.eBV(Pe),y.Njj(Ce.search(pn))}),y.k0s(),y.DNE(7,nn,5,3,"app-action-bar",5)(8,Vn,1,0,"app-simple-loader",5)(9,ln,4,3,"div",6)(10,Qn,26,17,"table",7)(11,vi,1,1,"app-pager",8),y.k0s()}2&ae&&(y.Y8G("title",y.bMT(1,8,"Nav.Roles")),y.R7$(5),y.R50("searchTerm",Ce.searchTerm),y.Y8G("placeholder",y.bMT(6,10,"Roles.SearchPlaceholder")),y.R7$(2),y.Y8G("ngIf",!Ce.isLoading&&Ce.hasEditPermission),y.R7$(),y.Y8G("ngIf",Ce.isLoading),y.R7$(),y.Y8G("ngIf",(!Ce.roles||Ce.roles.length<=0)&&!Ce.isLoading),y.R7$(),y.Y8G("ngIf",Ce.roles&&Ce.roles.length>0&&!Ce.isLoading),y.R7$(),y.Y8G("ngIf",Ce.roles&&Ce.roles.length>0&&!Ce.isLoading))},dependencies:[t.Sq,t.bT,Q.z,de.B,P.n,zi.S,q.d,yt,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();const Ze=(Bt,ue)=>({title:Bt,link:ue}),ht=Bt=>[Bt];function jt(Bt,ue){1&Bt&&(y.j41(0,"span",9),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Policy")," "))}function Jt(Bt,ue){1&Bt&&(y.j41(0,"span",10),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&Bt&&(y.R7$(),y.SpI(" ",y.bMT(2,1,"Common.Reserved")," "))}function Mn(Bt,ue){if(1&Bt&&(y.qex(0,6),y.DNE(1,jt,3,3,"span",7)(2,Jt,3,3,"span",8),y.bVm()),2&Bt){const Ae=y.XpG();y.R7$(),y.Y8G("ngIf",Ae.isPolicyRole()),y.R7$(),y.Y8G("ngIf",Ae.role.reserved)}}function hi(Bt,ue){1&Bt&&y.nrm(0,"app-custom-tab",3),2&Bt&&y.Y8G("tabTitle","Nav.Additional Details")("tabValue","additionaldetails")}let ri=(()=>{class Bt{constructor(Ae,ae,Ce,Pe,At){this.activatedRoute=Ae,this.errorService=ae,this.router=Ce,this.securityService=Pe,this.configService=At,this.enabledRoleClaims=!1}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(Ae=>{this.role=Ae.role},Ae=>{this.errorService.handleError(Ae)}),this.configService.getConfig().subscribe(Ae=>{this.enabledRoleClaims=Ae.featureFlagOptions.enableRoleClaims})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const Ae=this.securityService.policyClaims;for(let ae=0;ae<Ae.length;ae++)if("role"===Ae[ae].type&&Ae[ae].value===this.role.name)return!0;return!1}mobRoute(Ae){this.router.navigate([Ae],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(X.nX),y.rXU(Z.I),y.rXU(X.Ix),y.rXU(v.i),y.rXU(L.w))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["ng-component"]],standalone:!1,decls:11,vars:19,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(ae,Ce){1&ae&&(y.j41(0,"app-title-bar",0),y.nI1(1,"translate"),y.nI1(2,"localize"),y.DNE(3,Mn,3,2,"ng-container",1),y.qex(4,2),y.j41(5,"app-custom-tabs"),y.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),y.DNE(8,hi,1,2,"app-custom-tab",4),y.k0s(),y.bVm(),y.k0s(),y.j41(9,"div",5),y.nrm(10,"router-outlet"),y.k0s()),2&ae&&(y.Y8G("title",Ce.role.name)("crumbs",y.eq3(17,ht,y.l_i(14,Ze,y.bMT(1,10,"Nav.Roles"),y.bMT(2,12,"/roles"))))("hasTabs",!0)("isReadOnly",!0),y.R7$(3),y.Y8G("ngIf",Ce.isPolicyRole()||Ce.role.reserved),y.R7$(3),y.Y8G("tabTitle","Nav.Details")("tabValue","details"),y.R7$(),y.Y8G("tabTitle","Nav.Users")("tabValue","users"),y.R7$(),y.Y8G("ngIf",Ce.enabledRoleClaims))},dependencies:[t.bT,X.n3,Q.z,te.G,N.v,w.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var Nn=l(3178),Ki=l(4446),Ji=l(2892),Ms=l(8416),$t=l(380);let Ai=(()=>{class Bt{constructor(Ae,ae,Ce,Pe){this.roleService=Ae,this.translate=ae,this.errorService=Ce,this.toastr=Pe}ngOnInit(){this.roleService.getCachedRole().subscribe(Ae=>{this.role=Ae,this.roleId=Ae.id.toString()})}addClaim(Ae){this.roleService.addRoleClaim(this.roleId,Ae).subscribe({next:()=>{this.role.claims=[...this.role.claims,Ae],this.roleService.setCachedRole(this.role),this.claimsManager.claimAdded(Ae);const ae=this.translate.instant("Notifications.Saving Success Title"),Ce=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,Ce)},error:ae=>{if(401===ae.status)this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarning"),this.translate.instant("Notifications.Unauthorized"));else{const Ce={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message"),forceToast:!0};(this.errorService.handleError(ae,Ce)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(Ce.toastBody,Ce.toastTitle)}}})}updateClaim(Ae){this.roleService.updateRoleClaim(this.roleId,Ae).subscribe({next:()=>{this.role.claims=this.claimsManager.getAllClaims(),this.roleService.setCachedRole(this.role);const ae=this.translate.instant("Notifications.Saving Success Title"),Ce=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,Ce)},error:ae=>{if(401===ae.status)this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarningEdit"),this.translate.instant("Notifications.Unauthorized"));else{const Ce={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(ae,Ce)&vt.I.Toast)!==vt.I.Toast&&this.toastr.error(Ce.toastBody,Ce.toastTitle)}}})}deleteClaim(Ae){this.roleService.deleteRoleClaim(this.roleId,Ae).subscribe({next:()=>{this.role.claims=this.role.claims.filter(Pe=>Pe.type!=Ae.type||Pe.value!=Ae.value),this.roleService.setCachedRole(this.role),this.claimsManager.claimDeleted(Ae);const ae=this.translate.instant("Notifications.Saving Success Title"),Ce=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(ae,Ce)},error:ae=>{401===ae.status?this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarningDelete"),this.translate.instant("Notifications.Unauthorized")):this.errorService.handleError(ae,{forceToast:!0})}})}static{this.\u0275fac=function(ae){return new(ae||Bt)(y.rXU(He.P),y.rXU(w.c$),y.rXU(Z.I),y.rXU(Le.tw))}}static{this.\u0275cmp=y.VBU({type:Bt,selectors:[["app-role-additional-details"]],viewQuery:function(ae,Ce){if(1&ae&&y.GBs($t.U,5),2&ae){let Pe;y.mGM(Pe=y.lsd())&&(Ce.claimsManager=Pe.first)}},standalone:!1,decls:5,vars:5,consts:[[1,"tw-container","tw-mx-auto","cms"],[3,"addClaimOutPut","deleteClaimOutPut","updateClaimOutPut","initialClaims","readOnly"]],template:function(ae,Ce){1&ae&&(y.j41(0,"div",0)(1,"p"),y.EFF(2),y.nI1(3,"translate"),y.k0s()(),y.j41(4,"app-claims-manager",1),y.bIt("addClaimOutPut",function(At){return Ce.addClaim(At)})("deleteClaimOutPut",function(At){return Ce.deleteClaim(At)})("updateClaimOutPut",function(At){return Ce.updateClaim(At)}),y.k0s()),2&ae&&(y.R7$(2),y.JRh(y.bMT(3,3,"Roles.AdditionalDetailsBody")),y.R7$(2),y.Y8G("initialClaims",Ce.role.claims)("readOnly",Ce.role.reserved))},dependencies:[$t.U,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Bt})();var Et=l(5866);const yn=[{path:"roles",component:Be,canActivate:[Ji.h,Ki._],data:{permissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.UserManagerReadOnly],Nn.a[Nn.a.AllReadOnly],Nn.a[Nn.a.All]],editPermissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.All]]}},{path:"roles/:id",component:rt,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:_t,canDeactivate:[Ms.M]},{path:"users",component:Ti,canDeactivate:[Ms.M]},{path:"additionaldetails",component:Ai,canDeactivate:[Ms.M],canActivate:[Et.K]}],resolve:{role:D.v},canDeactivate:[Ms.M],canActivate:[Ji.h,Ki._],data:{permissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.All]]}},{path:"roles/view/:id",component:ri,loadChildren:()=>l.e(954).then(l.bind(l,2954)).then(Bt=>Bt.ViewRolesModule),resolve:{role:D.v},canActivate:[Ji.h,Ki._],data:{permissions:[Nn.a[Nn.a.UserManager],Nn.a[Nn.a.UserManagerReadOnly],Nn.a[Nn.a.AllReadOnly],Nn.a[Nn.a.All]]}}];let Yt=(()=>{class Bt{static{this.\u0275fac=function(ae){return new(ae||Bt)}}static{this.\u0275mod=y.$C({type:Bt})}static{this.\u0275inj=y.G2t({imports:[o.iI.forChild(yn),S.XE.forChild(yn),o.iI]})}}return Bt})();var Fn=l(9115);let Qi=(()=>{class Bt{static{this.\u0275fac=function(ae){return new(ae||Bt)}}static{this.\u0275mod=y.$C({type:Bt})}static{this.\u0275inj=y.G2t({providers:[D.v,Et.K],imports:[Yt,t.MD,f.YN,f.X1,A.Q_,e.Y,o.iI,w.h,m.p,S.XE,g.m,k.i,z.c,u.t,E.c,B.W,V.E,F.w,M.N,W.N,Fn.P]})}}return Bt})()},78:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>t});var t=function(o){return o.ReUse="ReUse",o.OneTimeOnly="OneTimeOnly",o}(t||{})},140:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>D});var t=l(4572),o=l(9974),f=l(2326),A=l(6450),e=l(1203),w=l(9326);function m(...S){const g=(0,w.ms)(S);return g?(0,e.F)(m(...S),(0,A.I)(g)):(0,o.N)((k,z)=>{(0,t.P)([k,...(0,f.K)(S)])(z)})}function D(...S){return m(...S)}},152:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>A});var t=l(3236),o=l(9974),f=l(4360);function A(e,w=t.E){return(0,o.N)((m,D)=>{let S=null,g=null,k=null;const z=()=>{if(S){S.unsubscribe(),S=null;const E=g;g=null,D.next(E)}};function u(){const E=k+e,B=w.now();if(B<E)return S=this.schedule(void 0,E-B),void D.add(S);z()}m.subscribe((0,f._)(D,E=>{g=E,k=w.now(),S||(S=w.schedule(u,e),D.add(S))},()=>{z(),D.complete()},void 0,()=>{g=S=null}))})}},251:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>k});var t=l(6719),o=l(1360),f=l(2947),A=l(8434),e=l(8018);const w=(z,u)=>({tabs:z,"pill-tabs":u}),m=(z,u)=>({tabs__item:z,"pill-tabs__item":u}),D=(z,u)=>({tabs__link:z,"pill-tabs__link":u});function S(z,u){1&z&&(o.j41(0,"span",5)(1,"span",6),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.nrm(4,"span",7),o.k0s()),2&z&&(o.R7$(2),o.JRh(o.bMT(3,1,"StarterMode.RequiresUpgrade")))}function g(z,u){if(1&z){const E=o.RV6();o.j41(0,"li",2)(1,"button",3),o.bIt("click",function(){const V=o.eBV(E).$implicit,F=o.XpG();return o.Njj(F.changeTab(V))}),o.EFF(2),o.nI1(3,"translate"),o.DNE(4,S,5,3,"span",4),o.k0s()()}if(2&z){const E=u.$implicit,B=u.index,V=o.XpG();o.Y8G("ngClass",o.l_i(11,m,!V.pillMode,V.pillMode)),o.R7$(),o.AVh("active",E.active),o.Y8G("id","customTab"+B)("ngClass",o.l_i(14,D,!V.pillMode,V.pillMode)),o.BMQ("data-value",E.value)("aria-selected",E.active),o.R7$(),o.SpI(" ",o.bMT(3,9,E.title)," "),o.R7$(2),o.Y8G("ngIf",E.restrictedStarter)}}let k=(()=>{class z{constructor(E,B){this.router=E,this.activatedRoute=B,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const E=this.tabs.filter(B=>B.active);E&&!E.length&&this.changeTab(this.tabs.first)}changeTab(E){!this.tabs||!this.tabs.length||E.active||(this.setActiveTab(E),this.router.navigate([E.value],{relativeTo:this.activatedRoute}))}setActiveTab(E){this.tabs.toArray().forEach(B=>B.active=!1),E.active=!0}static{this.\u0275fac=function(B){return new(B||z)(o.rXU(f.Ix),o.rXU(f.nX))}}static{this.\u0275cmp=o.VBU({type:z,selectors:[["app-custom-tabs"]],contentQueries:function(B,V,F){if(1&B&&o.wni(F,t.G,4),2&B){let M;o.mGM(M=o.lsd())&&(V.tabs=M)}},inputs:{pillMode:"pillMode"},standalone:!1,decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(B,V){1&B&&(o.j41(0,"ul",0),o.nI1(1,"translate"),o.DNE(2,g,5,17,"li",1),o.k0s()),2&B&&(o.Y8G("ngClass",o.l_i(5,w,!V.pillMode,V.pillMode)),o.BMQ("aria-label",o.bMT(1,3,"Nav.SubMenu")),o.R7$(2),o.Y8G("ngForOf",V.tabs))},dependencies:[A.YU,A.Sq,A.bT,e.D9],encapsulation:2})}}return z})()},274:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>f});var t=l(1397),o=l(8071);function f(A,e){return(0,o.T)(e)?(0,t.Z)(A,e,1):(0,t.Z)(A,1)}},275:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>e});var t=l(8434),o=l(8018),f=l(9262),A=l(1360);let e=(()=>{class w{static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275mod=A.$C({type:w})}static{this.\u0275inj=A.G2t({imports:[t.MD,o.h,f.iI]})}}return w})()},308:(ot,ve,l)=>{"use strict";l.d(ve,{EX:()=>f});var D,t=l(9988),f=(l(3068),function(D){return D[D.OIDC=0]="OIDC",D[D.SAML=1]="SAML",D}(f||{}));(D=f||(f={})).fromWizardType=function S(g){switch(g){case t.$.AddOidcDynamicAuth:return D.OIDC;case t.$.AddSamlDynamicAuth:return D.SAML}}},310:()=>{},316:(ot,ve,l)=>{"use strict";function t(o){const f=o.value;if(null==f)return{validEmail:!1};if(f.indexOf(" ")>-1)return{validEmail:!1};let A=!1;for(let e=0;e<f.length;e++)if("@"===o.value[e]){if(A||0===e||e===f.length-1)return{validEmail:!1};A=!0}return A?null:{validEmail:!1}}l.d(ve,{D:()=>t})},345:(ot,ve,l)=>{"use strict";l.d(ve,{hE:()=>e,up:()=>y});var t=l(9361),o=l(1360);let e=(()=>{class we{_doc;constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}static \u0275fac=function(lt){return new(lt||we)(o.KVO(t.q))};static \u0275prov=o.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),y=(()=>{class we{static \u0275fac=function(lt){return new(lt||we)};static \u0275prov=o.jDH({token:we,factory:function(lt){let vt=null;return vt=lt?new(lt||we):o.KVO(X),vt},providedIn:"root"})}return we})(),X=(()=>{class we extends y{_doc;constructor(rt){super(),this._doc=rt}sanitize(rt,lt){if(null==lt)return null;switch(rt){case o.WPN.NONE:return lt;case o.WPN.HTML:return(0,o.ZF7)(lt,"HTML")?(0,o.rcV)(lt):(0,o.h9k)(this._doc,String(lt)).toString();case o.WPN.STYLE:return(0,o.ZF7)(lt,"Style")?(0,o.rcV)(lt):lt;case o.WPN.SCRIPT:if((0,o.ZF7)(lt,"Script"))return(0,o.rcV)(lt);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(lt,"URL")?(0,o.rcV)(lt):(0,o.$MX)(String(lt));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(lt,"ResourceURL"))return(0,o.rcV)(lt);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(rt){return(0,o.Kcf)(rt)}bypassSecurityTrustStyle(rt){return(0,o.cWb)(rt)}bypassSecurityTrustScript(rt){return(0,o.UyX)(rt)}bypassSecurityTrustUrl(rt){return(0,o.osQ)(rt)}bypassSecurityTrustResourceUrl(rt){return(0,o.e5t)(rt)}static \u0275fac=function(lt){return new(lt||we)(o.KVO(t.q))};static \u0275prov=o.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},367:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>m});var t=l(8434),o=l(9262),f=l(1683),A=l(5139),e=l(8018),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,o.iI,f.Y,e.h,A.XE]})}}return D})()},380:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>Qt});var t=l(1360),o=l(9417),f=l(6411),A=l(526),e=l(6807),w=l(7499),m=l(8434),D=l(779),S=l(8698),g=l(9550),k=l(3860),z=l(7811),u=l(6536),E=l(6728),B=l(7294),V=l(7156),F=l(8018),M=l(1589);const W=["editClaimsForm"],y=["addClaimModal"],X=["deleteClaimModal"],Z=()=>({animated:!1,backdrop:"static"}),v=pe=>({"disabled inactive":pe});function L(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"app-action-bar"),t.qex(1,36),t.j41(2,"button",37),t.bIt("click",function(){t.eBV(P),t.XpG();const Ne=t.sdS(3);return t.Njj(Ne.show())}),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm(),t.k0s()}2&pe&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"Users.Details.AddClaim")," "))}function Q(pe,de){if(1&pe&&(t.j41(0,"option",39)(1,"span"),t.EFF(2),t.k0s()()),2&pe){let P;const q=t.XpG(),Ne=q.$implicit;t.Y8G("value",q.index),t.R7$(2),t.SpI(" ",null!==(P=Ne.displayName)&&void 0!==P?P:Ne.name," ")}}function te(pe,de){if(1&pe&&(t.qex(0),t.DNE(1,Q,3,2,"option",38),t.bVm()),2&pe){const P=de.$implicit,q=t.XpG();t.R7$(),t.Y8G("ngIf",q.canDisplayClaimType(P))}}function N(pe,de){if(1&pe&&t.nrm(0,"input",46),2&pe){const P=t.XpG(2);t.Y8G("appClaimRegex",P.selectedClaim.rule)}}function fe(pe,de){1&pe&&t.nrm(0,"input",47)}function oe(pe,de){1&pe&&(t.j41(0,"app-form-toggle",48),t.nrm(1,"input",49),t.k0s()),2&pe&&t.Y8G("id","claimsFormInput")("isTraffic",!0)("isAlt",!1)}function R(pe,de){1&pe&&(t.qex(0),t.nrm(1,"app-date-time",51),t.bVm())}function Fe(pe,de){1&pe&&(t.qex(0),t.nrm(1,"app-date-time",52),t.bVm()),2&pe&&(t.R7$(),t.Y8G("displayType","date"))}function we(pe,de){if(1&pe&&(t.j41(0,"div",50),t.DNE(1,R,2,0,"ng-container",4)(2,Fe,2,1,"ng-container",4),t.k0s()),2&pe){const P=t.XpG(2);t.R7$(),t.Y8G("ngIf","birthdate"!=P.selectedClaim.name),t.R7$(),t.Y8G("ngIf","birthdate"==P.selectedClaim.name)}}function We(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"div",53)(1,"app-enum-claim-type-input",54),t.bIt("valueChanged",function(Ne){t.eBV(P);const De=t.XpG(2);return t.Njj(De.claimsForm.controls.value.setValue(Ne))}),t.k0s()()}if(2&pe){const P=t.XpG(2);t.Y8G("id","value-for-"+P.selectedClaim.id),t.R7$(),t.Y8G("id","claimsFormInput")("typeId",P.selectedClaim.id)("hostingModal","addClaimModal")("value",P.claimsForm.value.value)}}function rt(pe,de){if(1&pe&&(t.j41(0,"p",55),t.EFF(1),t.k0s()),2&pe){let P;const q=t.XpG(2);t.R7$(),t.SpI(" ",null!==(P=q.selectedClaim.ruleValidationFailureDescription)&&void 0!==P?P:""," ")}}function lt(pe,de){if(1&pe&&(t.j41(0,"app-form-row",14),t.DNE(1,N,1,1,"input",40)(2,fe,1,0,"input",41)(3,oe,2,3,"app-form-toggle",42)(4,we,3,2,"div",43)(5,We,2,5,"div",44)(6,rt,2,1,"p",45),t.k0s()),2&pe){const P=t.XpG();t.Y8G("id","claimsFormInput")("label","Common.Value")("isLast",!0),t.R7$(),t.Y8G("ngIf","String"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","Int"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","Boolean"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","DateTime"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf","Enum"==P.selectedClaim.valueType),t.R7$(),t.Y8G("ngIf",P.claimsForm.invalid&&P.claimsForm.dirty)}}function vt(pe,de){1&pe&&(t.j41(0,"div",56)(1,"div"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&pe&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function Ue(pe,de){if(1&pe&&(t.j41(0,"b"),t.EFF(1),t.k0s()),2&pe){const P=t.XpG().$implicit;t.R7$(),t.JRh(P.displayName)}}function Ye(pe,de){if(1&pe&&(t.j41(0,"b"),t.EFF(1),t.k0s()),2&pe){const P=t.XpG().$implicit;t.R7$(),t.JRh(P.type)}}function He(pe,de){if(1&pe&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&pe){const P=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",P.value," ")}}function it(pe,de){if(1&pe&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"standardDate"),t.k0s()),2&pe){const P=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,P.value),"")}}function Le(pe,de){if(1&pe&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"standardDateTime"),t.k0s()),2&pe){const P=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,P.value),"")}}function Ve(pe,de){if(1&pe&&(t.j41(0,"span"),t.DNE(1,it,3,3,"span",4)(2,Le,3,3,"span",4),t.k0s()),2&pe){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","birthdate"==P.type),t.R7$(),t.Y8G("ngIf","birthdate"!=P.type)}}function Xe(pe,de){1&pe&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&pe&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.True")))}function je(pe,de){1&pe&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&pe&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.False")))}function ct(pe,de){if(1&pe&&(t.j41(0,"span"),t.DNE(1,Xe,3,3,"div",4)(2,je,3,3,"div",4),t.k0s()),2&pe){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","true"==P.value),t.R7$(),t.Y8G("ngIf","false"==P.value)}}function st(pe,de){1&pe&&(t.j41(0,"span",66),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&pe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Policy")," "))}function Qe(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"div",22)(1,"button",67),t.bIt("click",function(){t.eBV(P);const Ne=t.XpG(2).$implicit,De=t.XpG(2);return t.Njj(De.editClaim(Ne))}),t.nrm(2,"span",68),t.j41(3,"span",12),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",69),t.bIt("click",function(){t.eBV(P);const Ne=t.XpG(2).$implicit,De=t.XpG(2);return t.Njj(De.delete(Ne))}),t.nrm(7,"span",11),t.j41(8,"span",12),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}2&pe&&(t.R7$(4),t.JRh(t.bMT(5,2,"Common.Edit")),t.R7$(5),t.JRh(t.bMT(10,4,"Common.Delete.Title")))}function ne(pe,de){if(1&pe&&(t.qex(0),t.j41(1,"td")(2,"div",63),t.DNE(3,He,2,1,"span",4)(4,Ve,3,2,"span",4)(5,ct,3,2,"span",4),t.k0s()(),t.j41(6,"td"),t.DNE(7,st,3,3,"span",64),t.k0s(),t.j41(8,"td"),t.DNE(9,Qe,11,6,"div",65),t.k0s(),t.bVm()),2&pe){const P=t.XpG().$implicit,q=t.XpG(2);t.R7$(3),t.Y8G("ngIf","DateTime"!=P.format&&"Boolean"!=P.format),t.R7$(),t.Y8G("ngIf","DateTime"==P.format),t.R7$(),t.Y8G("ngIf","Boolean"==P.format),t.R7$(2),t.Y8G("ngIf",q.isPolicyClaim(P)),t.R7$(2),t.Y8G("ngIf",!q.readOnly&&!q.notAllowedToEditClaim(P))}}function Y(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"input",76),t.mxI("ngModelChange",function(Ne){t.eBV(P);const De=t.XpG(2).$implicit;return t.DH7(De.value,Ne)||(De.value=Ne),t.Njj(Ne)}),t.k0s()}if(2&pe){const P=t.XpG(2).$implicit;t.R50("ngModel",P.value),t.Y8G("appClaimRegex",P.regex)}}function he(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"input",77),t.mxI("ngModelChange",function(Ne){t.eBV(P);const De=t.XpG(2).$implicit;return t.DH7(De.value,Ne)||(De.value=Ne),t.Njj(Ne)}),t.k0s()}if(2&pe){const P=t.XpG(2).$implicit;t.R50("ngModel",P.value)}}function ge(pe,de){if(1&pe){const P=t.RV6();t.qex(0),t.j41(1,"app-date-time",79),t.mxI("ngModelChange",function(Ne){t.eBV(P);const De=t.XpG(3).$implicit;return t.DH7(De.value,Ne)||(De.value=Ne),t.Njj(Ne)}),t.k0s(),t.bVm()}if(2&pe){const P=t.XpG(3).$implicit;t.R7$(),t.R50("ngModel",P.value)}}function s(pe,de){if(1&pe){const P=t.RV6();t.qex(0),t.j41(1,"app-date-time",80),t.mxI("ngModelChange",function(Ne){t.eBV(P);const De=t.XpG(3).$implicit;return t.DH7(De.value,Ne)||(De.value=Ne),t.Njj(Ne)}),t.k0s(),t.bVm()}if(2&pe){const P=t.XpG(3).$implicit;t.R7$(),t.R50("ngModel",P.value),t.Y8G("displayType","date")}}function dt(pe,de){if(1&pe&&(t.j41(0,"div"),t.DNE(1,ge,2,1,"ng-container",4)(2,s,2,2,"ng-container",4),t.j41(3,"span",78),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&pe){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","birthdate"!=P.type),t.R7$(),t.Y8G("ngIf","birthdate"==P.type),t.R7$(2),t.SpI(" ",t.bMT(5,3,"Common.Dates.UTCWarning")," ")}}function _t(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"app-form-toggle",48)(1,"input",81),t.bIt("ngModelChange",function(Ne){t.eBV(P);const De=t.XpG(2).$implicit;return t.Njj(De.value=Ne?"true":"false")}),t.k0s()()}if(2&pe){const P=t.XpG(2).$implicit;t.Y8G("id","claim-"+P.type)("isTraffic",!0)("isAlt",!1),t.R7$(),t.Y8G("id","claim-"+P.type)("ngModel","true"==P.value)}}function en(pe,de){if(1&pe){const P=t.RV6();t.j41(0,"span")(1,"app-enum-claim-type-input",82),t.bIt("valueChanged",function(Ne){t.eBV(P);const De=t.XpG(2).$implicit;return t.Njj(De.value=Ne)}),t.k0s()()}if(2&pe){const P=t.XpG(2).$implicit;t.R7$(),t.Y8G("id","claimsFormInput")("typeId",P.typeId)("value",P.value)}}function Cn(pe,de){if(1&pe&&(t.j41(0,"span",55),t.EFF(1),t.k0s()),2&pe){let P;const q=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",null!==(P=null==q?null:q.failureMessage)&&void 0!==P?P:""," ")}}function Wn(pe,de){1&pe&&(t.j41(0,"span",66),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&pe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Policy")," "))}function tn(pe,de){if(1&pe){const P=t.RV6();t.qex(0),t.j41(1,"td")(2,"form",null,2),t.DNE(4,Y,1,2,"input",70)(5,he,1,1,"input",71)(6,dt,6,5,"div",4)(7,_t,2,5,"app-form-toggle",42)(8,en,2,3,"span",4)(9,Cn,2,1,"span",45),t.k0s()(),t.j41(10,"td"),t.DNE(11,Wn,3,3,"span",64),t.k0s(),t.j41(12,"td")(13,"div",72)(14,"button",73),t.bIt("click",function(){t.eBV(P);const Ne=t.XpG().$implicit,De=t.XpG(2);return t.Njj(De.updateClaim(Ne))}),t.nrm(15,"span",74),t.j41(16,"span",12),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"button",75),t.bIt("click",function(){t.eBV(P);const Ne=t.XpG().$implicit,De=t.XpG(2);return t.Njj(De.cancelEdit(Ne))}),t.nrm(20,"span",11),t.j41(21,"span",12),t.EFF(22),t.nI1(23,"translate"),t.k0s()()()(),t.bVm()}if(2&pe){let P,q;const Ne=t.sdS(3),De=t.XpG(),et=De.$implicit,gt=De.index,Kt=t.XpG(2);t.R7$(4),t.Y8G("ngIf","String"==et.format),t.R7$(),t.Y8G("ngIf","Int"==et.format),t.R7$(),t.Y8G("ngIf","DateTime"==et.format),t.R7$(),t.Y8G("ngIf","Boolean"==et.format),t.R7$(),t.Y8G("ngIf","Enum"==et.format),t.R7$(),t.Y8G("ngIf",null!==(P=null==(P=Ne.form.get("claimValue"))?null:P.invalid)&&void 0!==P&&P),t.R7$(2),t.Y8G("ngIf",Kt.isPolicyClaim(et)),t.R7$(3),t.Y8G("disabled",Kt.notAllowedToEditClaim(et)||Kt.checkDisabled("Claim"+gt)||null!==(q=null==(q=Ne.form.get("claimValue"))?null:q.invalid)&&void 0!==q&&q),t.R7$(3),t.JRh(t.bMT(18,10,"Common.Save")),t.R7$(5),t.JRh(t.bMT(23,12,"Common.Cancel"))}}function Ln(pe,de){if(1&pe&&(t.j41(0,"tr",62)(1,"td"),t.DNE(2,Ue,2,1,"b",4)(3,Ye,2,1,"b",4),t.k0s(),t.DNE(4,ne,10,5,"ng-container",4)(5,tn,24,14,"ng-container",4),t.k0s()),2&pe){const P=de.$implicit,q=t.XpG(2);t.Y8G("ngClass",t.eq3(5,v,q.notAllowedToEditClaim(P))),t.R7$(2),t.Y8G("ngIf",P.displayName),t.R7$(),t.Y8G("ngIf",!P.displayName),t.R7$(),t.Y8G("ngIf",!P.editing),t.R7$(),t.Y8G("ngIf",P.editing)}}function ni(pe,de){if(1&pe&&(t.j41(0,"table",57)(1,"thead")(2,"tr")(3,"th",58),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"th"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th",59)(10,"span",12),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"th",59)(14,"span",12),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()(),t.j41(17,"tbody",60),t.DNE(18,Ln,6,7,"tr",61),t.k0s()()),2&pe){const P=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,5,"Common.Name")," "),t.R7$(3),t.SpI(" ",t.bMT(8,7,"Common.Value")," "),t.R7$(4),t.SpI("",t.bMT(12,9,"Common.Policy")," "),t.R7$(4),t.JRh(t.bMT(16,11,"Common.Actions")),t.R7$(3),t.Y8G("ngForOf",P.displayClaims)}}function ft(pe,de){if(1&pe&&t.nrm(0,"app-pager",83),2&pe){const P=t.XpG();t.Y8G("totalResults",null==P.displayClaims?null:P.displayClaims.length)}}let Qt=(()=>{class pe extends f.A{constructor(P,q,Ne,De,et){super(et),this.fb=P,this.claimTypesService=q,this.apClaimsService=Ne,this.cdref=De,this.initialClaims=[],this.excludeRequiredClaims=!1,this.excludeRoleClaims=!1,this.excludeSubClaims=!1,this.readOnly=!1,this.addClaimOutPut=new t.bkB,this.deleteClaimOutPut=new t.bkB,this.updateClaimOutPut=new t.bkB,this.editing=!1,this.displayClaims=[],this.nonDisplayClaims=[],this.parser=new DOMParser}ngOnInit(){this.claimTypesService.getClaimTypes(null,null,!0).subscribe(P=>{this.claimTypes=P,this.initaliseDisplayClaims()}),this.claimsForm=this.fb.group({type:["",[o.k0.required]],value:["",[o.k0.required]]})}get unsavedChanges(){return this.editing&&this.editClaimsForm.dirty}onDeactivate(){}deleteClaim(P){this.closeDeleteModal(),this.deleteClaimOutPut.emit(P)}delete(P){this.toDelete=P,this.deleteClaimModal.show()}closeDeleteModal(){this.toDelete=null,this.deleteClaimModal.hide()}closeAddModal(){this.claimsForm.controls.value.setValue(null),this.claimsForm.markAsPristine(),this.addClaimModal.hide()}cancelEdit(P){P.value=P.oldValue,P.editing=!1,this.editing=!1}changeFormat(P){var q=this.claimTypes[P];this.claimsForm.controls.value.setValue(null),this.claimsForm.markAsPristine(),"Boolean"===q?.valueType&&this.claimsForm.controls.value.setValue(!1),this.selectedClaim=q,this.cdref.detectChanges()}editClaim(P){P.oldValue=P.value,P.editing=!0,this.editing=!0}addClaim(){if("sub"!==this.selectedClaim.name){var P={type:this.selectedClaim.name,typeId:this.selectedClaim.id,displayName:this.selectedClaim.displayName,value:"Int"===this.selectedClaim.valueType||"Boolean"===this.selectedClaim.valueType?this.claimsForm.value.value.toString():this.claimsForm.value.value,format:this.selectedClaim.valueType,regex:"",failureMessage:"",editing:!1};this.addClaimOutPut.emit(P),this.selectedClaim=void 0,this.claimsForm.setValue({type:"",value:""}),this.closeAddModal()}}checkDisabled(P){return!(!this.editClaimsForm||!this.editClaimsForm.controls[P])&&this.editClaimsForm.controls[P].invalid}updateClaim(P){"Int"===P.format&&(P.value=P.value.toString()),this.updateClaimOutPut.emit({oldClaimType:P.type,oldClaimValue:P.oldValue,newClaimType:P.type,newClaimValue:P.value}),P.editing=!1,this.editing=!1}initaliseDisplayClaims(){this.displayClaims=[],this.nonDisplayClaims=[];for(let P of this.initialClaims){if(this.excludeRoleClaims&&"role"==P.type||this.excludeSubClaims&&"sub"==P.type)continue;const q=this.claimTypes?.findIndex(et=>et.name==P.type)??-1,Ne=-1!=q?this.claimTypes[q]:{};let De=this.initialiseClaim(P);this.excludeRequiredClaims&&Ne.required?this.nonDisplayClaims.push(De):this.displayClaims.push(De)}}initialiseClaim(P){const q=this.claimTypes?.findIndex(et=>et.name==P.type)??-1,Ne=-1!=q?this.claimTypes[q]:{};let De={...P,format:"String"};return-1!=q&&(De={format:Ne.valueType,type:P.type,typeId:Ne.id,displayName:Ne.displayName,value:P.value,editing:!1,required:Ne.required},Ne.rule&&(De.regex=Ne.rule,De.failureMessage=Ne.ruleValidationFailureDescription)),De}notAllowedToEditClaim(P){return this.apClaimsService.notAllowedToEditClaim(P)}isPolicyClaim(P){return this.apClaimsService.isPolicyClaim(P)}getAllowedValues(P){const q=this.claimTypes.find(Ne=>Ne.name===P.type);return q&&q.allowedValues||[]}canDisplayClaimType(P){return!(this.excludeRequiredClaims&&P.required||this.excludeRoleClaims&&"role"==P.name||this.excludeSubClaims&&"sub"==P.name)}getAllClaims(){return this.displayClaims.concat(this.nonDisplayClaims)}claimAdded(P){const q=this.initialiseClaim(P);this.displayClaims.push(q)}claimDeleted(P){const q=this.displayClaims.findIndex(Ne=>Ne.type==P.type&&Ne.value==P.value);this.displayClaims.splice(q,1)}static{this.\u0275fac=function(q){return new(q||pe)(t.rXU(o.ze),t.rXU(A.X),t.rXU(e.B),t.rXU(t.gRc),t.rXU(w.o))}}static{this.\u0275cmp=t.VBU({type:pe,selectors:[["app-claims-manager"]],viewQuery:function(q,Ne){if(1&q&&(t.GBs(W,5),t.GBs(y,7),t.GBs(X,7)),2&q){let De;t.mGM(De=t.lsd())&&(Ne.editClaimsForm=De.first),t.mGM(De=t.lsd())&&(Ne.addClaimModal=De.first),t.mGM(De=t.lsd())&&(Ne.deleteClaimModal=De.first)}},inputs:{initialClaims:"initialClaims",excludeRequiredClaims:"excludeRequiredClaims",excludeRoleClaims:"excludeRoleClaims",excludeSubClaims:"excludeSubClaims",readOnly:"readOnly"},outputs:{addClaimOutPut:"addClaimOutPut",deleteClaimOutPut:"deleteClaimOutPut",updateClaimOutPut:"updateClaimOutPut"},standalone:!1,features:[t.Vt3],decls:68,vars:46,consts:[["addClaimModal","bs-modal"],["deleteClaimModal","bs-modal"],["editClaimsForm","ngForm"],["id","editUserClaims",1,"tw-container","tw-mx-auto"],[4,"ngIf"],["bsModal","","id","addClaimModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content",3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label","isLast"],[1,"tw-form-select"],["formControlName","type","id","claimsFormDropdown",1,"tw-form-control",3,"change"],["disabled","","selected",""],[4,"ngFor","ngForOf"],[3,"id","label","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["bsModal","","id","deleteClaimModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-btn-danger",3,"click"],["right",""],["id","addClaimButton",1,"tw-btn-success",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["class","tw-form-control","formControlName","value","type","text","name","string","id","claimsFormInput","required","",3,"appClaimRegex",4,"ngIf"],["class","tw-form-control","formControlName","value","type","number","name","number","id","claimsFormInput","required","",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-form-text-danger",4,"ngIf"],["formControlName","value","type","text","name","string","id","claimsFormInput","required","",1,"tw-form-control",3,"appClaimRegex"],["formControlName","value","type","number","name","number","id","claimsFormInput","required","",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","claimsFormInput","formControlName","value","type","checkbox","binary","true",1,"tw-form-switch__input"],[1,"tw-w-full","sm:tw-max-w-2xl"],["id","claimsFormInput","formControlName","value","required","true"],["id","claimsFormInput","formControlName","value","required","true",3,"displayType"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-form-text-danger"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"tw-w-1/4"],[1,"tw-w-1"],["id","claimsTable"],["class","claim",3,"ngClass",4,"ngFor","ngForOf"],[1,"claim",3,"ngClass"],[1,"tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-flex tw-items-center",4,"ngIf"],[1,"tw-pill"],["value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["class","tw-form-control","type","text","name","claimValue","required","",3,"ngModel","appClaimRegex","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","claimValue","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"tw-flex"],["value","Save",1,"tw-btn-success","tw-mr-2","tw-h-10","tw-w-10",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-check"],["value","CancelEdit",1,"tw-btn-secondary","tw-h-10","tw-w-10",3,"click"],["type","text","name","claimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel","appClaimRegex"],["type","number","name","claimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[1,"tw-form-text"],["id","claimsFormInput","name","claimValue","required","true",3,"ngModelChange","ngModel"],["id","claimsFormInput","name","claimValue","required","true",3,"ngModelChange","ngModel","displayType"],["type","checkbox","name","claimValue",1,"tw-form-switch__input",3,"ngModelChange","id","ngModel"],["name","claimValue",3,"valueChanged","id","typeId","value"],["hidePager","true",3,"totalResults"]],template:function(q,Ne){if(1&q){const De=t.RV6();t.j41(0,"div",3),t.DNE(1,L,5,3,"app-action-bar",4),t.j41(2,"div",5,0)(4,"div",6)(5,"form",7)(6,"div",8)(7,"h5",9),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"button",10),t.bIt("click",function(){return t.eBV(De),t.Njj(Ne.closeAddModal())}),t.nrm(11,"span",11),t.j41(12,"span",12),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"div",13)(16,"app-form-row",14)(17,"div",15)(18,"select",16),t.bIt("change",function(gt){return t.eBV(De),t.Njj(Ne.changeFormat(gt.target.value))}),t.nrm(19,"option",17),t.DNE(20,te,2,1,"ng-container",18),t.k0s()()(),t.DNE(21,lt,7,9,"app-form-row",19),t.k0s(),t.nrm(22,"div",20),t.j41(23,"div",21)(24,"div",22)(25,"div",23)(26,"button",24),t.bIt("click",function(){return t.eBV(De),t.Njj(Ne.addClaim())}),t.EFF(27),t.nI1(28,"translate"),t.k0s()(),t.j41(29,"button",25),t.bIt("click",function(){return t.eBV(De),t.Njj(Ne.closeAddModal())}),t.EFF(30),t.nI1(31,"translate"),t.k0s()()()()()(),t.DNE(32,vt,4,3,"div",26)(33,ni,19,13,"table",27)(34,ft,1,1,"app-pager",28),t.k0s(),t.j41(35,"div",29,1)(37,"div",30)(38,"div",31)(39,"div",8)(40,"h5",9),t.EFF(41),t.nI1(42,"translate"),t.k0s(),t.j41(43,"button",10),t.bIt("click",function(){return t.eBV(De),t.Njj(Ne.closeDeleteModal())}),t.nrm(44,"span",11),t.j41(45,"span",12),t.EFF(46),t.nI1(47,"translate"),t.k0s()()(),t.j41(48,"div",32)(49,"p",33),t.EFF(50),t.nI1(51,"translate"),t.j41(52,"strong"),t.EFF(53),t.k0s(),t.EFF(54,"?"),t.k0s(),t.nrm(55,"p",34),t.nI1(56,"translate"),t.k0s(),t.nrm(57,"div",20),t.j41(58,"div",21)(59,"div",22)(60,"div",23)(61,"button",35),t.bIt("click",function(){return t.eBV(De),t.Njj(Ne.deleteClaim(Ne.toDelete))}),t.EFF(62),t.nI1(63,"translate"),t.k0s()(),t.j41(64,"button",25),t.bIt("click",function(){return t.eBV(De),t.Njj(Ne.closeDeleteModal())}),t.EFF(65),t.nI1(66,"translate"),t.k0s()()()()()(),t.nrm(67,"app-can-deactivate")}2&q&&(t.R7$(),t.Y8G("ngIf",!Ne.readOnly),t.R7$(),t.Y8G("config",t.lJ4(44,Z)),t.R7$(3),t.Y8G("formGroup",Ne.claimsForm),t.R7$(3),t.JRh(t.bMT(9,24,"Users.Details.AddClaim")),t.R7$(5),t.JRh(t.bMT(14,26,"Common.Close")),t.R7$(3),t.Y8G("id","claimsFormDropdown")("label","Common.Type")("isLast",!Ne.selectedClaim),t.R7$(4),t.Y8G("ngForOf",Ne.claimTypes),t.R7$(),t.Y8G("ngIf",Ne.selectedClaim),t.R7$(5),t.Y8G("disabled",!Ne.claimsForm.valid||!Ne.selectedClaim),t.R7$(),t.JRh(t.bMT(28,28,"Common.Add")),t.R7$(3),t.JRh(t.bMT(31,30,"Common.Cancel")),t.R7$(2),t.Y8G("ngIf",Ne.displayClaims&&Ne.displayClaims.length<=0),t.R7$(),t.Y8G("ngIf",(null==Ne.displayClaims?null:Ne.displayClaims.length)>0),t.R7$(),t.Y8G("ngIf",(null==Ne.displayClaims?null:Ne.displayClaims.length)>0),t.R7$(),t.Y8G("config",t.lJ4(45,Z)),t.R7$(6),t.JRh(t.bMT(42,32,"Common.Delete.Confirm")),t.R7$(5),t.JRh(t.bMT(47,34,"Common.Close")),t.R7$(4),t.SpI("",t.bMT(51,36,"Common.Delete.AreYouSure")," "),t.R7$(3),t.JRh(null==Ne.toDelete?null:Ne.toDelete.type),t.R7$(2),t.Y8G("innerHTML",t.bMT(56,38,"Common.Delete.Warning"),t.npT),t.R7$(7),t.JRh(t.bMT(63,40,"Common.Delete.Title")),t.R7$(3),t.JRh(t.bMT(66,42,"Common.Delete.No")))},dependencies:[m.YU,m.Sq,m.bT,o.qT,o.xH,o.y7,o.me,o.Q0,o.Zm,o.wz,o.BC,o.cb,o.YS,o.vS,o.cV,o.j4,o.JD,D.hZ,S.Y,g.m,k.$,z.j,u.Z,E.E,B.n,V.B,F.D9,M.r7,M.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return pe})()},409:(ot,ve,l)=>{var t=l(6589);l(812);var o=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(o=l(310)),(ot.exports=t.prng=t.prng||{}).create=function(A){for(var e={plugin:A,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},w=A.md,m=new Array(32),D=0;D<32;++D)m[D]=w.create();function g(){if(e.pools[0].messageLength>=32)return k();e.collect(e.seedFileSync(32-e.pools[0].messageLength<<5)),k()}function k(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var E=1,B=0;B<32;++B)e.reseeds%E==0&&(u.update(e.pools[B].digest().getBytes()),e.pools[B].start()),E<<=1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var V=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(V),e.generated=0}function z(u){var E=null,B=t.util.globalScope,V=B.crypto||B.msCrypto;V&&V.getRandomValues&&(E=function(Q){return V.getRandomValues(Q)});var F=t.util.createBuffer();if(E)for(;F.length()<u;){var M=Math.max(1,Math.min(u-F.length(),65536)/4),W=new Uint32Array(Math.floor(M));try{E(W);for(var y=0;y<W.length;++y)F.putInt32(W[y])}catch(Q){if(!(typeof QuotaExceededError<"u"&&Q instanceof QuotaExceededError))throw Q}}if(F.length()<u)for(var X,Z,v,L=Math.floor(65536*Math.random());F.length()<u;)for(Z=16807*(65535&L),Z+=(32767&(X=16807*(L>>16)))<<16,L=4294967295&(Z=(2147483647&(Z+=X>>15))+(Z>>31)),y=0;y<3;++y)v=L>>>(y<<3),v^=Math.floor(256*Math.random()),F.putByte(255&v);return F.getBytes(u)}return e.pools=m,e.pool=0,e.generate=function(u,E){if(!E)return e.generateSync(u);var B=e.plugin.cipher,V=e.plugin.increment,F=e.plugin.formatKey,M=e.plugin.formatSeed,W=t.util.createBuffer();e.key=null,function y(X){if(X)return E(X);if(W.length()>=u)return E(null,W.getBytes(u));if(e.generated>1048575&&(e.key=null),null===e.key)return t.util.nextTick(function(){!function S(u){if(e.pools[0].messageLength>=32)return k(),u();e.seedFile(32-e.pools[0].messageLength<<5,function(B,V){if(B)return u(B);e.collect(V),k(),u()})}(y)});var Z=B(e.key,e.seed);e.generated+=Z.length,W.putBytes(Z),e.key=F(B(e.key,V(e.seed))),e.seed=M(B(e.key,e.seed)),t.util.setImmediate(y)}()},e.generateSync=function(u){var E=e.plugin.cipher,B=e.plugin.increment,V=e.plugin.formatKey,F=e.plugin.formatSeed;e.key=null;for(var M=t.util.createBuffer();M.length()<u;){e.generated>1048575&&(e.key=null),null===e.key&&g();var W=E(e.key,e.seed);e.generated+=W.length,M.putBytes(W),e.key=V(E(e.key,B(e.seed))),e.seed=F(E(e.key,e.seed))}return M.getBytes(u)},o?(e.seedFile=function(u,E){o.randomBytes(u,function(B,V){if(B)return E(B);E(null,V.toString())})},e.seedFileSync=function(u){return o.randomBytes(u).toString()}):(e.seedFile=function(u,E){try{E(null,z(u))}catch(B){E(B)}},e.seedFileSync=z),e.collect=function(u){for(var E=u.length,B=0;B<E;++B)e.pools[e.pool].update(u.substr(B,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(u,E){for(var B="",V=0;V<E;V+=8)B+=String.fromCharCode(u>>V&255);e.collect(B)},e.registerWorker=function(u){u===self?e.seedFile=function(B,V){self.addEventListener("message",function F(M){var W=M.data;W.forge&&W.forge.prng&&(self.removeEventListener("message",F),V(W.forge.prng.err,W.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:B}}})}:u.addEventListener("message",function(B){var V=B.data;V.forge&&V.forge.prng&&e.seedFile(V.forge.prng.needed,function(F,M){u.postMessage({forge:{prng:{err:F,bytes:M}}})})})},e}},455:(ot,ve,l)=>{"use strict";l.d(ve,{e:()=>f});var t=l(4412),o=l(1360);let f=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},467:(ot,ve,l)=>{"use strict";function t(f,A,e,w,m,D,S){try{var g=f[D](S),k=g.value}catch(z){return void e(z)}g.done?A(k):Promise.resolve(k).then(w,m)}function o(f){return function(){var A=this,e=arguments;return new Promise(function(w,m){var D=f.apply(A,e);function S(k){t(D,w,m,S,g,"next",k)}function g(k){t(D,w,m,S,g,"throw",k)}S(void 0)})}}l.d(ve,{A:()=>o})},526:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>w});var t=l(3165),o=l(2771),f=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.claimTypeSubject=new o.m(1),this.actionUrl="ClaimTypes",this.headers=g.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}getClaimTypes(S,g,k=!1){let z=new t.Nl;return(0,f.gP)(S)||(z=z.append("name",S)),z=z.append("sort",(0,f.gP)(g)?"name":g),this.http.get(k?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:z})}addClaimType(S){const g=`${this.actionUrl}`,k=JSON.stringify(S);return this.http.post(g,k,{headers:this.headers})}updateClaimType(S){const g=`${this.actionUrl}/${S.id}`,k=JSON.stringify(S);return this.http.put(g,k,{headers:this.headers})}deleteClaimType(S){return this.http.delete(`${this.actionUrl}/${S.id}`,{headers:this.headers})}getAllowedValues(S,g,k){let z=new t.Nl;return(0,f.gP)(g)||(z=z.append("query",g)),k&&(z=z.append("resultThreshold",k)),this.http.get(`${this.actionUrl}/AllowedValues/${S}`,{headers:this.headers,params:z})}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},534:(ot,ve,l)=>{"use strict";l.d(ve,{Ss:()=>u,dg:()=>z});var t=l(1360),o=l(2806),f=l(2865),A=l(1635),e=l(6932),w=l(1584),m=l(8434);const D=["*"];let S=(()=>{class E{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275prov=t.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),g=(()=>{class E{get _bsVersions(){return(0,o.Bu)()}constructor(V){Object.assign(this,V)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=f.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(F){return new(F||E)(t.rXU(S))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(F,M){2&F&&(t.BMQ("id",M.id),t.HbH("show tooltip in tooltip-"+M.placement+" bs-tooltip-"+M.placement+" "+M.placement+" "+M.containerClass))},ngContentSelectors:D,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(F,M){1&F&&(t.NAR(),t.nrm(0,"div",0),t.j41(1,"div",1),t.SdG(2),t.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return E})(),k=0,z=(()=>{class E{get isOpen(){return this._tooltip.isShown}set isOpen(V){V?this.show():this.hide()}set htmlContent(V){(0,o.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=V}set _placement(V){(0,o.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=V}set _isOpen(V){(0,o.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=V}get _isOpen(){return(0,o.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(V){(0,o.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!V}get _enable(){return(0,o.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(V){(0,o.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=V?"body":this.container}get _appendToBody(){return(0,o.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(V){(0,o.mc)("tooltipClass deprecated")}set _tooltipContext(V){(0,o.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(V){(0,o.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=V}get _tooltipTrigger(){return(0,o.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(V){(0,o.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(V||"").toString()}constructor(V,F,M,W,y,X){this._elementRef=W,this._renderer=y,this._positionService=X,this.tooltipId=k++,this.adaptivePosition=!0,this.tooltipChange=new t.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new t.bkB,this._tooltip=F.createLoader(this._elementRef,V,this._renderer).provide({provide:S,useValue:M}),Object.assign(this,M),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(V=>{V||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const V=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(g).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},F=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,w.O)(this.delay).subscribe(()=>{V(),F()}),this.triggers&&(0,o.Zu)(this.triggers).forEach(M=>{M.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,M.close,()=>{this._delaySubscription?.unsubscribe(),F()}))})):V()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(F){return new(F||E)(t.rXU(t.c1b),t.rXU(e.Li),t.rXU(S),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(f.DF))}}static{this.\u0275dir=t.FsC({type:E,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[0,"tooltipHtml","htmlContent"],_placement:[0,"tooltipPlacement","_placement"],_isOpen:[0,"tooltipIsOpen","_isOpen"],_enable:[0,"tooltipEnable","_enable"],_appendToBody:[0,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[0,"tooltipClass","_popupClass"],_tooltipContext:[0,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[0,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[0,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"],features:[t.Jv_([e.Li,f.DF])]})}}return(0,A.Cg)([(0,o.Yr)(),(0,A.Sn)("design:type",Object)],E.prototype,"tooltip",void 0),E})(),u=(()=>{class E{static forRoot(){return{ngModule:E,providers:[]}}static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=t.$C({type:E})}static{this.\u0275inj=t.G2t({imports:[m.MD]})}}return E})()},590:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>o});var t=l(1744);let o=(()=>{class f{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(e){switch(e){case t.ot.Client:return this.client;case t.ot.IdentityResource:case t.ot.ProtectedResource:return this.resource;case t.ot.ClaimType:return this.claimType}}}return f})()},591:(ot,ve,l)=>{"use strict";function t(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(ve,{L:()=>t})},632:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>t});class t{constructor(){this.enabled=!0,this.name="",this.displayName="",this.description="",this.required=!1,this.emphasize=!1,this.userClaims=[],this.showInDiscoveryDocument=!0,this.isFinalInstanceOnResource=!0,this.shared=!1,this.properties=[]}}},651:(ot,ve,l)=>{var t=l(6589);l(3364),l(1675),l(1290),l(812);var o=l(2758),f=o.publicKeyValidator,A=o.privateKeyValidator;if(typeof e>"u")var e=t.jsbn.BigInteger;var w=t.util.ByteBuffer,m=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},ot.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var D=t.ed25519;function S(st){var Qe=st.message;if(Qe instanceof Uint8Array||Qe instanceof m)return Qe;var ne=st.encoding;if(void 0===Qe){if(!st.md)throw new TypeError('"options.message" or "options.md" not specified.');Qe=st.md.digest().getBytes(),ne="binary"}if("string"==typeof Qe&&!ne)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof Qe){if(typeof Buffer<"u")return Buffer.from(Qe,ne);Qe=new w(Qe,ne)}else if(!(Qe instanceof w))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Y=new m(Qe.length()),he=0;he<Y.length;++he)Y[he]=Qe.at(he);return Y}D.constants={},D.constants.PUBLIC_KEY_BYTE_LENGTH=32,D.constants.PRIVATE_KEY_BYTE_LENGTH=64,D.constants.SEED_BYTE_LENGTH=32,D.constants.SIGN_BYTE_LENGTH=64,D.constants.HASH_BYTE_LENGTH=64,D.generateKeyPair=function(st){var Qe=(st=st||{}).seed;if(void 0===Qe)Qe=t.random.getBytesSync(D.constants.SEED_BYTE_LENGTH);else if("string"==typeof Qe){if(Qe.length!==D.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+D.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(Qe instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');Qe=S({message:Qe,encoding:"binary"});for(var ne=new m(D.constants.PUBLIC_KEY_BYTE_LENGTH),Y=new m(D.constants.PRIVATE_KEY_BYTE_LENGTH),he=0;he<32;++he)Y[he]=Qe[he];return function W(st,Qe){var Y,ne=[Le(),Le(),Le(),Le()],he=M(Qe,32);for(he[0]&=248,he[31]&=127,he[31]|=64,vt(ne,he),te(st,ne),Y=0;Y<32;++Y)Qe[Y+32]=st[Y]}(ne,Y),{publicKey:ne,privateKey:Y}},D.privateKeyFromAsn1=function(st){var Qe={},ne=[];if(!t.asn1.validate(st,A,Qe,ne)){var he=new Error("Invalid Key.");throw he.errors=ne,he}var ge=t.asn1.derToOid(Qe.privateKeyOid),s=t.oids.EdDSA25519;if(ge!==s)throw new Error('Invalid OID "'+ge+'"; OID must be "'+s+'".');return{privateKeyBytes:S({message:t.asn1.fromDer(Qe.privateKey).value,encoding:"binary"})}},D.publicKeyFromAsn1=function(st){var Qe={},ne=[];if(!t.asn1.validate(st,f,Qe,ne)){var he=new Error("Invalid Key.");throw he.errors=ne,he}var ge=t.asn1.derToOid(Qe.publicKeyOid),s=t.oids.EdDSA25519;if(ge!==s)throw new Error('Invalid OID "'+ge+'"; OID must be "'+s+'".');var dt=Qe.ed25519PublicKey;if(dt.length!==D.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return S({message:dt,encoding:"binary"})},D.publicKeyFromPrivateKey=function(st){var Qe=S({message:(st=st||{}).privateKey,encoding:"binary"});if(Qe.length!==D.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D.constants.PRIVATE_KEY_BYTE_LENGTH);for(var ne=new m(D.constants.PUBLIC_KEY_BYTE_LENGTH),Y=0;Y<ne.length;++Y)ne[Y]=Qe[32+Y];return ne},D.sign=function(st){var Qe=S(st=st||{}),ne=S({message:st.privateKey,encoding:"binary"});if(ne.length===D.constants.SEED_BYTE_LENGTH)ne=D.generateKeyPair({seed:ne}).privateKey;else if(ne.length!==D.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D.constants.SEED_BYTE_LENGTH+" or "+D.constants.PRIVATE_KEY_BYTE_LENGTH);var he=new m(D.constants.SIGN_BYTE_LENGTH+Qe.length);!function y(st,Qe,ne,Y){var he,ge,s=new Float64Array(64),dt=[Le(),Le(),Le(),Le()],_t=M(Y,32);_t[0]&=248,_t[31]&=127,_t[31]|=64;var en=ne+64;for(he=0;he<ne;++he)st[64+he]=Qe[he];for(he=0;he<32;++he)st[32+he]=_t[32+he];var Cn=M(st.subarray(32),ne+32);for(v(Cn),vt(dt,Cn),te(st,dt),he=32;he<64;++he)st[he]=Y[he];var Wn=M(st,ne+64);for(v(Wn),he=32;he<64;++he)s[he]=0;for(he=0;he<32;++he)s[he]=Cn[he];for(he=0;he<32;++he)for(ge=0;ge<32;ge++)s[he+ge]+=Wn[he]*_t[ge];Z(st.subarray(32),s)}(he,Qe,Qe.length,ne);for(var ge=new m(D.constants.SIGN_BYTE_LENGTH),s=0;s<ge.length;++s)ge[s]=he[s];return ge},D.verify=function(st){var Qe=S(st=st||{});if(void 0===st.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var ne=S({message:st.signature,encoding:"binary"});if(ne.length!==D.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+D.constants.SIGN_BYTE_LENGTH);var Y=S({message:st.publicKey,encoding:"binary"});if(Y.length!==D.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+D.constants.PUBLIC_KEY_BYTE_LENGTH);var s,he=new m(D.constants.SIGN_BYTE_LENGTH+Qe.length),ge=new m(D.constants.SIGN_BYTE_LENGTH+Qe.length);for(s=0;s<D.constants.SIGN_BYTE_LENGTH;++s)he[s]=ne[s];for(s=0;s<Qe.length;++s)he[s+D.constants.SIGN_BYTE_LENGTH]=Qe[s];return function X(st,Qe,ne,Y){var he,s=new m(32),dt=[Le(),Le(),Le(),Le()],_t=[Le(),Le(),Le(),Le()];if(ne<64||function fe(st,Qe){var ne=Le(),Y=Le(),he=Le(),ge=Le(),s=Le(),dt=Le(),_t=Le();return Ue(st[2],k),function oe(st,Qe){var ne;for(ne=0;ne<16;++ne)st[ne]=Qe[2*ne]+(Qe[2*ne+1]<<8);st[15]&=32767}(st[1],Qe),je(he,st[1]),ct(ge,he,z),Xe(he,he,st[2]),Ve(ge,st[2],ge),je(s,ge),je(dt,s),ct(_t,dt,s),ct(ne,_t,he),ct(ne,ne,ge),function R(st,Qe){var Y,ne=Le();for(Y=0;Y<16;++Y)ne[Y]=Qe[Y];for(Y=250;Y>=0;--Y)je(ne,ne),1!==Y&&ct(ne,ne,Qe);for(Y=0;Y<16;++Y)st[Y]=ne[Y]}(ne,ne),ct(ne,ne,he),ct(ne,ne,ge),ct(ne,ne,ge),ct(st[0],ne,ge),je(Y,st[0]),ct(Y,Y,ge),Fe(Y,he)&&ct(st[0],st[0],F),je(Y,st[0]),ct(Y,Y,ge),Fe(Y,he)?-1:(rt(st[0])===Qe[31]>>7&&Xe(st[0],g,st[0]),ct(st[3],st[0],st[1]),0)}(_t,Y))return-1;for(he=0;he<ne;++he)st[he]=Qe[he];for(he=0;he<32;++he)st[he+32]=Y[he];var en=M(st,ne);if(v(en),lt(dt,_t,en),vt(_t,Qe.subarray(32)),L(dt,_t),te(s,dt),ne-=64,we(Qe,0,s,0)){for(he=0;he<ne;++he)st[he]=0;return-1}for(he=0;he<ne;++he)st[he]=Qe[he+64];return ne}(ge,he,he.length,Y)>=0};var g=Le(),k=Le([1]),z=Le([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=Le([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),E=Le([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),B=Le([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),V=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),F=Le([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function M(st,Qe){var ne=t.md.sha512.create(),Y=new w(st);ne.update(Y.getBytes(Qe),"binary");var he=ne.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(he,"binary");for(var ge=new m(D.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)ge[s]=he.charCodeAt(s);return ge}function Z(st,Qe){var ne,Y,he,ge;for(Y=63;Y>=32;--Y){for(ne=0,he=Y-32,ge=Y-12;he<ge;++he)Qe[he]+=ne-16*Qe[Y]*V[he-(Y-32)],Qe[he]-=256*(ne=Qe[he]+128>>8);Qe[he]+=ne,Qe[Y]=0}for(ne=0,he=0;he<32;++he)Qe[he]+=ne-(Qe[31]>>4)*V[he],ne=Qe[he]>>8,Qe[he]&=255;for(he=0;he<32;++he)Qe[he]-=ne*V[he];for(Y=0;Y<32;++Y)Qe[Y+1]+=Qe[Y]>>8,st[Y]=255&Qe[Y]}function v(st){for(var Qe=new Float64Array(64),ne=0;ne<64;++ne)Qe[ne]=st[ne],st[ne]=0;Z(st,Qe)}function L(st,Qe){var ne=Le(),Y=Le(),he=Le(),ge=Le(),s=Le(),dt=Le(),_t=Le(),en=Le(),Cn=Le();Xe(ne,st[1],st[0]),Xe(Cn,Qe[1],Qe[0]),ct(ne,ne,Cn),Ve(Y,st[0],st[1]),Ve(Cn,Qe[0],Qe[1]),ct(Y,Y,Cn),ct(he,st[3],Qe[3]),ct(he,he,u),ct(ge,st[2],Qe[2]),Ve(ge,ge,ge),Xe(s,Y,ne),Xe(dt,ge,he),Ve(_t,ge,he),Ve(en,Y,ne),ct(st[0],s,dt),ct(st[1],en,_t),ct(st[2],_t,dt),ct(st[3],s,en)}function Q(st,Qe,ne){for(var Y=0;Y<4;++Y)it(st[Y],Qe[Y],ne)}function te(st,Qe){var ne=Le(),Y=Le(),he=Le();(function Ye(st,Qe){var Y,ne=Le();for(Y=0;Y<16;++Y)ne[Y]=Qe[Y];for(Y=253;Y>=0;--Y)je(ne,ne),2!==Y&&4!==Y&&ct(ne,ne,Qe);for(Y=0;Y<16;++Y)st[Y]=ne[Y]})(he,Qe[2]),ct(ne,Qe[0],he),ct(Y,Qe[1],he),N(st,Y),st[31]^=rt(ne)<<7}function N(st,Qe){var ne,Y,he,ge=Le(),s=Le();for(ne=0;ne<16;++ne)s[ne]=Qe[ne];for(He(s),He(s),He(s),Y=0;Y<2;++Y){for(ge[0]=s[0]-65517,ne=1;ne<15;++ne)ge[ne]=s[ne]-65535-(ge[ne-1]>>16&1),ge[ne-1]&=65535;ge[15]=s[15]-32767-(ge[14]>>16&1),he=ge[15]>>16&1,ge[14]&=65535,it(s,ge,1-he)}for(ne=0;ne<16;ne++)st[2*ne]=255&s[ne],st[2*ne+1]=s[ne]>>8}function Fe(st,Qe){var ne=new m(32),Y=new m(32);return N(ne,st),N(Y,Qe),we(ne,0,Y,0)}function we(st,Qe,ne,Y){return function We(st,Qe,ne,Y,he){var ge,s=0;for(ge=0;ge<he;++ge)s|=st[Qe+ge]^ne[Y+ge];return(1&s-1>>>8)-1}(st,Qe,ne,Y,32)}function rt(st){var Qe=new m(32);return N(Qe,st),1&Qe[0]}function lt(st,Qe,ne){var Y,he;for(Ue(st[0],g),Ue(st[1],k),Ue(st[2],k),Ue(st[3],g),he=255;he>=0;--he)Q(st,Qe,Y=ne[he/8|0]>>(7&he)&1),L(Qe,st),L(st,st),Q(st,Qe,Y)}function vt(st,Qe){var ne=[Le(),Le(),Le(),Le()];Ue(ne[0],E),Ue(ne[1],B),Ue(ne[2],k),ct(ne[3],E,B),lt(st,ne,Qe)}function Ue(st,Qe){var ne;for(ne=0;ne<16;ne++)st[ne]=0|Qe[ne]}function He(st){var Qe,ne,Y=1;for(Qe=0;Qe<16;++Qe)ne=st[Qe]+Y+65535,Y=Math.floor(ne/65536),st[Qe]=ne-65536*Y;st[0]+=Y-1+37*(Y-1)}function it(st,Qe,ne){for(var Y,he=~(ne-1),ge=0;ge<16;++ge)st[ge]^=Y=he&(st[ge]^Qe[ge]),Qe[ge]^=Y}function Le(st){var Qe,ne=new Float64Array(16);if(st)for(Qe=0;Qe<st.length;++Qe)ne[Qe]=st[Qe];return ne}function Ve(st,Qe,ne){for(var Y=0;Y<16;++Y)st[Y]=Qe[Y]+ne[Y]}function Xe(st,Qe,ne){for(var Y=0;Y<16;++Y)st[Y]=Qe[Y]-ne[Y]}function je(st,Qe){ct(st,Qe,Qe)}function ct(st,Qe,ne){var Y,he,ge=0,s=0,dt=0,_t=0,en=0,Cn=0,Wn=0,tn=0,Ln=0,ni=0,ft=0,Qt=0,pe=0,de=0,P=0,q=0,Ne=0,De=0,et=0,gt=0,Kt=0,sn=0,Rn=0,Kn=0,ei=0,Ot=0,Gn=0,Zt=0,Tn=0,In=0,rs=0,_i=ne[0],Bi=ne[1],Ni=ne[2],os=ne[3],zn=ne[4],fs=ne[5],xi=ne[6],wt=ne[7],Tt=ne[8],xt=ne[9],Wt=ne[10],un=ne[11],ii=ne[12],Ei=ne[13],Ii=ne[14],Ti=ne[15];ge+=(Y=Qe[0])*_i,s+=Y*Bi,dt+=Y*Ni,_t+=Y*os,en+=Y*zn,Cn+=Y*fs,Wn+=Y*xi,tn+=Y*wt,Ln+=Y*Tt,ni+=Y*xt,ft+=Y*Wt,Qt+=Y*un,pe+=Y*ii,de+=Y*Ei,P+=Y*Ii,q+=Y*Ti,s+=(Y=Qe[1])*_i,dt+=Y*Bi,_t+=Y*Ni,en+=Y*os,Cn+=Y*zn,Wn+=Y*fs,tn+=Y*xi,Ln+=Y*wt,ni+=Y*Tt,ft+=Y*xt,Qt+=Y*Wt,pe+=Y*un,de+=Y*ii,P+=Y*Ei,q+=Y*Ii,Ne+=Y*Ti,dt+=(Y=Qe[2])*_i,_t+=Y*Bi,en+=Y*Ni,Cn+=Y*os,Wn+=Y*zn,tn+=Y*fs,Ln+=Y*xi,ni+=Y*wt,ft+=Y*Tt,Qt+=Y*xt,pe+=Y*Wt,de+=Y*un,P+=Y*ii,q+=Y*Ei,Ne+=Y*Ii,De+=Y*Ti,_t+=(Y=Qe[3])*_i,en+=Y*Bi,Cn+=Y*Ni,Wn+=Y*os,tn+=Y*zn,Ln+=Y*fs,ni+=Y*xi,ft+=Y*wt,Qt+=Y*Tt,pe+=Y*xt,de+=Y*Wt,P+=Y*un,q+=Y*ii,Ne+=Y*Ei,De+=Y*Ii,et+=Y*Ti,en+=(Y=Qe[4])*_i,Cn+=Y*Bi,Wn+=Y*Ni,tn+=Y*os,Ln+=Y*zn,ni+=Y*fs,ft+=Y*xi,Qt+=Y*wt,pe+=Y*Tt,de+=Y*xt,P+=Y*Wt,q+=Y*un,Ne+=Y*ii,De+=Y*Ei,et+=Y*Ii,gt+=Y*Ti,Cn+=(Y=Qe[5])*_i,Wn+=Y*Bi,tn+=Y*Ni,Ln+=Y*os,ni+=Y*zn,ft+=Y*fs,Qt+=Y*xi,pe+=Y*wt,de+=Y*Tt,P+=Y*xt,q+=Y*Wt,Ne+=Y*un,De+=Y*ii,et+=Y*Ei,gt+=Y*Ii,Kt+=Y*Ti,Wn+=(Y=Qe[6])*_i,tn+=Y*Bi,Ln+=Y*Ni,ni+=Y*os,ft+=Y*zn,Qt+=Y*fs,pe+=Y*xi,de+=Y*wt,P+=Y*Tt,q+=Y*xt,Ne+=Y*Wt,De+=Y*un,et+=Y*ii,gt+=Y*Ei,Kt+=Y*Ii,sn+=Y*Ti,tn+=(Y=Qe[7])*_i,Ln+=Y*Bi,ni+=Y*Ni,ft+=Y*os,Qt+=Y*zn,pe+=Y*fs,de+=Y*xi,P+=Y*wt,q+=Y*Tt,Ne+=Y*xt,De+=Y*Wt,et+=Y*un,gt+=Y*ii,Kt+=Y*Ei,sn+=Y*Ii,Rn+=Y*Ti,Ln+=(Y=Qe[8])*_i,ni+=Y*Bi,ft+=Y*Ni,Qt+=Y*os,pe+=Y*zn,de+=Y*fs,P+=Y*xi,q+=Y*wt,Ne+=Y*Tt,De+=Y*xt,et+=Y*Wt,gt+=Y*un,Kt+=Y*ii,sn+=Y*Ei,Rn+=Y*Ii,Kn+=Y*Ti,ni+=(Y=Qe[9])*_i,ft+=Y*Bi,Qt+=Y*Ni,pe+=Y*os,de+=Y*zn,P+=Y*fs,q+=Y*xi,Ne+=Y*wt,De+=Y*Tt,et+=Y*xt,gt+=Y*Wt,Kt+=Y*un,sn+=Y*ii,Rn+=Y*Ei,Kn+=Y*Ii,ei+=Y*Ti,ft+=(Y=Qe[10])*_i,Qt+=Y*Bi,pe+=Y*Ni,de+=Y*os,P+=Y*zn,q+=Y*fs,Ne+=Y*xi,De+=Y*wt,et+=Y*Tt,gt+=Y*xt,Kt+=Y*Wt,sn+=Y*un,Rn+=Y*ii,Kn+=Y*Ei,ei+=Y*Ii,Ot+=Y*Ti,Qt+=(Y=Qe[11])*_i,pe+=Y*Bi,de+=Y*Ni,P+=Y*os,q+=Y*zn,Ne+=Y*fs,De+=Y*xi,et+=Y*wt,gt+=Y*Tt,Kt+=Y*xt,sn+=Y*Wt,Rn+=Y*un,Kn+=Y*ii,ei+=Y*Ei,Ot+=Y*Ii,Gn+=Y*Ti,pe+=(Y=Qe[12])*_i,de+=Y*Bi,P+=Y*Ni,q+=Y*os,Ne+=Y*zn,De+=Y*fs,et+=Y*xi,gt+=Y*wt,Kt+=Y*Tt,sn+=Y*xt,Rn+=Y*Wt,Kn+=Y*un,ei+=Y*ii,Ot+=Y*Ei,Gn+=Y*Ii,Zt+=Y*Ti,de+=(Y=Qe[13])*_i,P+=Y*Bi,q+=Y*Ni,Ne+=Y*os,De+=Y*zn,et+=Y*fs,gt+=Y*xi,Kt+=Y*wt,sn+=Y*Tt,Rn+=Y*xt,Kn+=Y*Wt,ei+=Y*un,Ot+=Y*ii,Gn+=Y*Ei,Zt+=Y*Ii,Tn+=Y*Ti,P+=(Y=Qe[14])*_i,q+=Y*Bi,Ne+=Y*Ni,De+=Y*os,et+=Y*zn,gt+=Y*fs,Kt+=Y*xi,sn+=Y*wt,Rn+=Y*Tt,Kn+=Y*xt,ei+=Y*Wt,Ot+=Y*un,Gn+=Y*ii,Zt+=Y*Ei,Tn+=Y*Ii,In+=Y*Ti,q+=(Y=Qe[15])*_i,s+=38*(De+=Y*Ni),dt+=38*(et+=Y*os),_t+=38*(gt+=Y*zn),en+=38*(Kt+=Y*fs),Cn+=38*(sn+=Y*xi),Wn+=38*(Rn+=Y*wt),tn+=38*(Kn+=Y*Tt),Ln+=38*(ei+=Y*xt),ni+=38*(Ot+=Y*Wt),ft+=38*(Gn+=Y*un),Qt+=38*(Zt+=Y*ii),pe+=38*(Tn+=Y*Ei),de+=38*(In+=Y*Ii),P+=38*(rs+=Y*Ti),ge=(Y=(ge+=38*(Ne+=Y*Bi))+(he=1)+65535)-65536*(he=Math.floor(Y/65536)),s=(Y=s+he+65535)-65536*(he=Math.floor(Y/65536)),dt=(Y=dt+he+65535)-65536*(he=Math.floor(Y/65536)),_t=(Y=_t+he+65535)-65536*(he=Math.floor(Y/65536)),en=(Y=en+he+65535)-65536*(he=Math.floor(Y/65536)),Cn=(Y=Cn+he+65535)-65536*(he=Math.floor(Y/65536)),Wn=(Y=Wn+he+65535)-65536*(he=Math.floor(Y/65536)),tn=(Y=tn+he+65535)-65536*(he=Math.floor(Y/65536)),Ln=(Y=Ln+he+65535)-65536*(he=Math.floor(Y/65536)),ni=(Y=ni+he+65535)-65536*(he=Math.floor(Y/65536)),ft=(Y=ft+he+65535)-65536*(he=Math.floor(Y/65536)),Qt=(Y=Qt+he+65535)-65536*(he=Math.floor(Y/65536)),pe=(Y=pe+he+65535)-65536*(he=Math.floor(Y/65536)),de=(Y=de+he+65535)-65536*(he=Math.floor(Y/65536)),P=(Y=P+he+65535)-65536*(he=Math.floor(Y/65536)),q=(Y=q+he+65535)-65536*(he=Math.floor(Y/65536)),ge=(Y=(ge+=he-1+37*(he-1))+(he=1)+65535)-65536*(he=Math.floor(Y/65536)),s=(Y=s+he+65535)-65536*(he=Math.floor(Y/65536)),dt=(Y=dt+he+65535)-65536*(he=Math.floor(Y/65536)),_t=(Y=_t+he+65535)-65536*(he=Math.floor(Y/65536)),en=(Y=en+he+65535)-65536*(he=Math.floor(Y/65536)),Cn=(Y=Cn+he+65535)-65536*(he=Math.floor(Y/65536)),Wn=(Y=Wn+he+65535)-65536*(he=Math.floor(Y/65536)),tn=(Y=tn+he+65535)-65536*(he=Math.floor(Y/65536)),Ln=(Y=Ln+he+65535)-65536*(he=Math.floor(Y/65536)),ni=(Y=ni+he+65535)-65536*(he=Math.floor(Y/65536)),ft=(Y=ft+he+65535)-65536*(he=Math.floor(Y/65536)),Qt=(Y=Qt+he+65535)-65536*(he=Math.floor(Y/65536)),pe=(Y=pe+he+65535)-65536*(he=Math.floor(Y/65536)),de=(Y=de+he+65535)-65536*(he=Math.floor(Y/65536)),P=(Y=P+he+65535)-65536*(he=Math.floor(Y/65536)),q=(Y=q+he+65535)-65536*(he=Math.floor(Y/65536)),st[0]=ge+=he-1+37*(he-1),st[1]=s,st[2]=dt,st[3]=_t,st[4]=en,st[5]=Cn,st[6]=Wn,st[7]=tn,st[8]=Ln,st[9]=ni,st[10]=ft,st[11]=Qt,st[12]=pe,st[13]=de,st[14]=P,st[15]=q}},779:(ot,ve,l)=>{"use strict";l.d(ve,{I8:()=>Xe,hZ:()=>Qe,Q_:()=>ne});var t=l(1360),o=l(6932),f=l(2806),A=l(9377),e=l(9361),w=l(8434),m=l(6697);function D(Y){return null!=Y&&"false"!=`${Y}`}let S;try{S=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S=!1}let g=(()=>{class Y{constructor(ge){this._platformId=ge,this.isBrowser=this._platformId?(0,A.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(s){return new(s||Y)(t.KVO(t.Agw))}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})(),z=(()=>{class Y{constructor(ge){this._platform=ge}isDisabled(ge){return ge.hasAttribute("disabled")}isVisible(ge){return function E(Y){return!!(Y.offsetWidth||Y.offsetHeight||"function"==typeof Y.getClientRects&&Y.getClientRects().length)}(ge)&&"visible"===getComputedStyle(ge).visibility}isTabbable(ge){if(!this._platform.isBrowser)return!1;const s=function u(Y){try{return Y.frameElement}catch{return null}}(function L(Y){return Y.ownerDocument&&Y.ownerDocument.defaultView||window}(ge));if(s&&(-1===X(s)||!this.isVisible(s)))return!1;let dt=ge.nodeName.toLowerCase(),_t=X(ge);return ge.hasAttribute("contenteditable")?-1!==_t:!("iframe"===dt||"object"===dt||this._platform.WEBKIT&&this._platform.IOS&&!function Z(Y){let he=Y.nodeName.toLowerCase(),ge="input"===he&&Y.type;return"text"===ge||"password"===ge||"select"===he||"textarea"===he}(ge))&&("audio"===dt?!!ge.hasAttribute("controls")&&-1!==_t:"video"===dt?-1!==_t&&(null!==_t||this._platform.FIREFOX||ge.hasAttribute("controls")):ge.tabIndex>=0)}isFocusable(ge,s){return function v(Y){return!function V(Y){return function M(Y){return"input"==Y.nodeName.toLowerCase()}(Y)&&"hidden"==Y.type}(Y)&&(function B(Y){let he=Y.nodeName.toLowerCase();return"input"===he||"select"===he||"button"===he||"textarea"===he}(Y)||function F(Y){return function W(Y){return"a"==Y.nodeName.toLowerCase()}(Y)&&Y.hasAttribute("href")}(Y)||Y.hasAttribute("contenteditable")||y(Y))}(ge)&&!this.isDisabled(ge)&&(s?.ignoreVisibility||this.isVisible(ge))}static{this.\u0275fac=function(s){return new(s||Y)(t.KVO(g))}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})();function y(Y){if(!Y.hasAttribute("tabindex")||void 0===Y.tabIndex)return!1;let he=Y.getAttribute("tabindex");return"-32768"!=he&&!(!he||isNaN(parseInt(he,10)))}function X(Y){if(!y(Y))return null;const he=parseInt(Y.getAttribute("tabindex")||"",10);return isNaN(he)?-1:he}let Q=(()=>{class Y{constructor(){this._focusTrapStack=[]}register(ge){this._focusTrapStack=this._focusTrapStack.filter(dt=>dt!==ge);let s=this._focusTrapStack;s.length&&s[s.length-1]._disable(),s.push(ge),ge._enable()}deregister(ge){ge._disable();const s=this._focusTrapStack,dt=s.indexOf(ge);-1!==dt&&(s.splice(dt,1),s.length&&s[s.length-1]._enable())}static{this.\u0275fac=function(s){return new(s||Y)}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})();class te{get enabled(){return this._enabled}set enabled(he){this._enabled=he,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(he,this._startAnchor),this._toggleAnchorTabIndex(he,this._endAnchor))}constructor(he,ge,s,dt,_t=!1){this._element=he,this._checker=ge,this._ngZone=s,this._document=dt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,_t||this.attachAnchors()}destroy(){const he=this._startAnchor,ge=this._endAnchor;he&&(he.removeEventListener("focus",this.startAnchorListener),he.parentNode&&he.parentNode.removeChild(he)),ge&&(ge.removeEventListener("focus",this.endAnchorListener),ge.parentNode&&ge.parentNode.removeChild(ge)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(he=>{this._executeOnStable(()=>he(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(he=>{this._executeOnStable(()=>he(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(he=>{this._executeOnStable(()=>he(this.focusLastTabbableElement()))})}_getRegionBoundary(he){let ge=this._element.querySelectorAll(`[cdk-focus-region-${he}], [cdkFocusRegion${he}], [cdk-focus-${he}]`);for(let s=0;s<ge.length;s++)ge[s].hasAttribute(`cdk-focus-${he}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${he}', use 'cdkFocusRegion${he}' instead. The deprecated attribute will be removed in 8.0.0.`,ge[s]):ge[s].hasAttribute(`cdk-focus-region-${he}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${he}', use 'cdkFocusRegion${he}' instead. The deprecated attribute will be removed in 8.0.0.`,ge[s]);return"start"==he?ge.length?ge[0]:this._getFirstTabbableElement(this._element):ge.length?ge[ge.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const he=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(he){if(he.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",he),!this._checker.isFocusable(he)){const ge=this._getFirstTabbableElement(he);return ge?.focus(),!!ge}return he.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const he=this._getRegionBoundary("start");return he&&he.focus(),!!he}focusLastTabbableElement(){const he=this._getRegionBoundary("end");return he&&he.focus(),!!he}hasAttached(){return this._hasAttached}_getFirstTabbableElement(he){if(this._checker.isFocusable(he)&&this._checker.isTabbable(he))return he;let ge=he.children||he.childNodes;for(let s=0;s<ge.length;s++){let dt=ge[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ge[s]):null;if(dt)return dt}return null}_getLastTabbableElement(he){if(this._checker.isFocusable(he)&&this._checker.isTabbable(he))return he;let ge=he.children||he.childNodes;for(let s=ge.length-1;s>=0;s--){let dt=ge[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ge[s]):null;if(dt)return dt}return null}_createAnchor(){const he=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,he),he.classList.add("cdk-visually-hidden"),he.classList.add("cdk-focus-trap-anchor"),he.setAttribute("aria-hidden","true"),he}_toggleAnchorTabIndex(he,ge){he?ge.setAttribute("tabindex","0"):ge.removeAttribute("tabindex")}toggleAnchors(he){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(he,this._startAnchor),this._toggleAnchorTabIndex(he,this._endAnchor))}_executeOnStable(he){this._ngZone.isStable?he():this._ngZone.onStable.pipe((0,m.s)(1)).subscribe(he)}}let N=(()=>{class Y{constructor(ge,s,dt){this._checker=ge,this._ngZone=s,this._document=dt}create(ge,s=!1){return new te(ge,this._checker,this._ngZone,this._document,s)}static{this.\u0275fac=function(s){return new(s||Y)(t.KVO(z),t.KVO(t.SKi),t.KVO(e.q))}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})(),fe=(()=>{class Y{get enabled(){return this.focusTrap.enabled}set enabled(ge){this.focusTrap.enabled=D(ge)}get autoCapture(){return this._autoCapture}set autoCapture(ge){this._autoCapture=D(ge)}constructor(ge,s,dt){this._elementRef=ge,this._focusTrapFactory=s,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=dt,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(ge){const s=ge.autoCapture;s&&!s.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(s){return new(s||Y)(t.rXU(t.aKT),t.rXU(N),t.rXU(e.q))}}static{this.\u0275dir=t.FsC({type:Y,selectors:[["","focusTrap",""]],inputs:{enabled:[0,"cdkTrapFocus","enabled"],autoCapture:[0,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[t.Jv_([Q,g,z]),t.OA$]})}}return Y})(),oe=(()=>{class Y{static forRoot(){return{ngModule:Y,providers:[]}}static{this.\u0275fac=function(s){return new(s||Y)}}static{this.\u0275mod=t.$C({type:Y})}static{this.\u0275inj=t.G2t({imports:[w.MD]})}}return Y})();var R=l(2865);const Fe=["*"];let we=(()=>{class Y{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(s){return new(s||Y)}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"platform"})}}return Y})(),rt=(()=>{class Y{static{this.\u0275fac=function(s){return new(s||Y)}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"platform"})}}return Y})();const lt={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},vt=new t.nKC("override-default-config"),Ue_OPEN="modal-open";let Le=(()=>{class Y{get isAnimated(){return this._isAnimated}set isAnimated(ge){this._isAnimated=ge}get isShown(){return this._isShown}set isShown(ge){this._isShown=ge,ge?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(ge,s){this._isAnimated=!1,this._isShown=!1,this.element=ge,this.renderer=s}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),f.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(s){return new(s||Y)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(s,dt){},encapsulation:2})}}return Y})(),Ve=1,Xe=(()=>{class Y{constructor(ge,s,dt){this.clf=s,this.modalDefaultOption=dt,this.onShow=new t.bkB,this.onShown=new t.bkB,this.onHide=new t.bkB,this.onHidden=new t.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastHiddenId=null,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=ge.createRenderer(null,null),this.config=dt?Object.assign({},lt,dt):lt}show(ge,s){this._focusEl=f.Al.activeElement,this.modalsCount++,this.lastHiddenId=null,this._createLoaders();const dt=s?.id||Ve++;return this.config=this.modalDefaultOption?Object.assign({},lt,this.modalDefaultOption,s):Object.assign({},lt,s),this.config.id=dt,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(ge)}hide(ge){this.lastHiddenId!==ge&&(this.lastHiddenId=ge,(1===this.modalsCount||null==ge)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=ge?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(ge),this.removeLoaders(ge)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus())}_showBackdrop(){const ge=!0===this.config.backdrop||"static"===this.config.backdrop,s=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),ge&&s&&(this._backdropLoader.attach(Le).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(ge){const s=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const en of this.config.providers)s.provide(en);const dt=new we,_t=s.provide({provide:rt,useValue:this.config}).provide({provide:we,useValue:dt}).attach(je).to("body");return dt.hide=()=>_t.instance?.hide(),dt.setClass=en=>{_t.instance&&(_t.instance.config.class=en)},dt.onHidden=new t.bkB,dt.onHide=new t.bkB,this.copyEvent(s.onBeforeHide,dt.onHide),this.copyEvent(s.onHidden,dt.onHidden),_t.show({content:ge,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),_t.instance&&(_t.instance.level=this.getModalsCount(),dt.content=s.getInnerComponent(),dt.id=_t.instance.config?.id),dt}_hideModal(ge){if(null!=ge){const s=this.loaders.findIndex(_t=>_t.instance?.config.id===ge),dt=this.loaders[s];dt&&dt.hide(ge)}else this.loaders.forEach(s=>{s.instance&&s.hide(s.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(ge){this.lastDismissReason=ge}removeBackdrop(){this._renderer.removeClass(f.Al.body,Ue_OPEN),this._renderer.setStyle(f.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=f.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){f.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(f.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(f.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){f.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ge=this._renderer.createElement("div");this._renderer.addClass(ge,"modal-scrollbar-measure"),this._renderer.appendChild(f.Al.body,ge);const s=ge.offsetWidth-ge.clientWidth;return this._renderer.removeChild(f.Al.body,ge),s}_createLoaders(){const ge=this.clf.createLoader();this.copyEvent(ge.onBeforeShow,this.onShow),this.copyEvent(ge.onShown,this.onShown),this.copyEvent(ge.onBeforeHide,this.onHide),this.copyEvent(ge.onHidden,this.onHidden),this.loaders.push(ge)}removeLoaders(ge){if(null!=ge){const s=this.loaders.findIndex(dt=>dt.instance?.config.id===ge);s>=0&&(this.loaders.splice(s,1),this.loaders.forEach((dt,_t)=>{dt.instance&&(dt.instance.level=_t+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(ge,s){ge.subscribe(dt=>{s.emit(this.lastDismissReason||dt)})}static{this.\u0275fac=function(s){return new(s||Y)(t.KVO(t._9s),t.KVO(o.Li),t.KVO(vt,8))}}static{this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"platform"})}}return Y})(),je=(()=>{class Y{constructor(ge,s,dt){this._element=s,this._renderer=dt,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},ge)}ngOnInit(){this._focusEl=f.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),f.Al&&f.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(f.Al.body,Ue_OPEN),this._renderer.setStyle(f.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(ge){this.clickStartedInContent=ge.target!==this._element.nativeElement}onClickStop(ge){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ge.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(ge){this.isShown&&((27===ge.keyCode||"Escape"===ge.key)&&ge.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,this.bsModalService?.hide(this.config.id),f.Al&&f.Al.body&&0===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(f.Al.body,Ue_OPEN),this._renderer.setStyle(f.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(s){return new(s||Y)(t.rXU(rt),t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(s,dt){1&s&&t.bIt("mousedown",function(en){return dt.onClickStarted(en)})("click",function(en){return dt.onClickStop(en)})("popstate",function(){return dt.onPopState()},!1,t.tSv)("keydown.esc",function(en){return dt.onEsc(en)},!1,t.tSv),2&s&&t.BMQ("aria-modal",!0)("aria-labelledby",dt.config.ariaLabelledBy)("aria-describedby",dt.config.ariaDescribedby)},features:[t.Jv_([Xe])],ngContentSelectors:Fe,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(s,dt){1&s&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s()()),2&s&&t.HbH("modal-dialog"+(dt.config.class?" "+dt.config.class:""))},dependencies:[fe],encapsulation:2})}}return Y})(),Qe=(()=>{class Y{set config(ge){this._config=this.getConfig(ge)}get config(){return this._config}get isShown(){return this._isShown}constructor(ge,s,dt,_t,en){this._element=ge,this._renderer=dt,this.onShow=new t.bkB,this.onShown=new t.bkB,this.onHide=new t.bkB,this.onHidden=new t.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=_t.createLoader(ge,s,dt),this._config=en||lt}onClickStarted(ge){this.clickStartedInContent=ge.target!==this._element.nativeElement}onClickStop(ge){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ge.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(ge))}onEsc(ge){this._isShown&&((27===ge.keyCode||"Escape"===ge.key)&&ge.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),f.Al&&f.Al.body&&(f.Al.body.classList.contains(Ue_OPEN)?this.isNested=!0:(this._renderer.addClass(f.Al.body,Ue_OPEN),this._renderer.setStyle(f.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(ge){if(this._isShown){if(ge&&ge.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),f.x.clearTimeout(this.timerHideModal),f.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=f.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(ge){return Object.assign({},this._config,ge)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&f.Al&&f.Al.body&&f.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&f.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const ge=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(ge,300):ge()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(f.Al&&f.Al.body&&(this._renderer.removeClass(f.Al.body,Ue_OPEN),this._renderer.setStyle(f.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(ge){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const s=()=>{this.removeBackdrop(),ge&&ge()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=f.x.setTimeout(s,150):s()}else ge&&ge();else{if(this.removeBackdrop(),this._backdrop.attach(Le).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!ge)return;if(!this._config.animated)return void ge();setTimeout(ge,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const ge=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");ge.length&&ge[ge.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=f.Al.body.clientWidth<f.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){f.Al&&(this.originalBodyPadding=parseInt(f.x.getComputedStyle(f.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(f.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){f.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ge=this._renderer.createElement("div");this._renderer.addClass(ge,"modal-scrollbar-measure"),this._renderer.appendChild(f.Al.body,ge);const s=ge.offsetWidth-ge.clientWidth;return this._renderer.removeChild(f.Al.body,ge),s}static{this.\u0275fac=function(s){return new(s||Y)(t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.sFG),t.rXU(o.Li),t.rXU(vt,8))}}static{this.\u0275dir=t.FsC({type:Y,selectors:[["","bsModal",""]],hostBindings:function(s,dt){1&s&&t.bIt("mousedown",function(en){return dt.onClickStarted(en)})("mouseup",function(en){return dt.onClickStop(en)})("keydown.esc",function(en){return dt.onEsc(en)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return Y})(),ne=(()=>{class Y{static forRoot(){return{ngModule:Y,providers:[Xe,o.Li,R.DF]}}static forChild(){return{ngModule:Y,providers:[Xe,o.Li,R.DF]}}static{this.\u0275fac=function(s){return new(s||Y)}}static{this.\u0275mod=t.$C({type:Y})}static{this.\u0275inj=t.G2t({imports:[oe]})}}return Y})()},785:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>o});var t=l(9838);class o{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new t.S9).SharedSecret}}},803:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>A});var t=l(1360);const o=[[["","left",""]],[["","right",""]]],f=["[left]","[right]"];let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-row-bar"]],standalone:!1,ngContentSelectors:f,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(D,S){1&D&&(t.NAR(o),t.j41(0,"div",0),t.SdG(1),t.j41(2,"div",1),t.SdG(3,1),t.k0s()())},encapsulation:2})}}return e})()},812:(ot,ve,l)=>{var t=l(6589),o=l(3175),f=ot.exports=t.util=t.util||{};function A(M){if(8!==M&&16!==M&&24!==M&&32!==M)throw new Error("Only 8, 16, 24, or 32 bits supported: "+M)}function e(M){if(this.data="",this.read=0,"string"==typeof M)this.data=M;else if(f.isArrayBuffer(M)||f.isArrayBufferView(M))if(typeof Buffer<"u"&&M instanceof Buffer)this.data=M.toString("binary");else{var W=new Uint8Array(M);try{this.data=String.fromCharCode.apply(null,W)}catch{for(var y=0;y<W.length;++y)this.putByte(W[y])}}else(M instanceof e||"object"==typeof M&&"string"==typeof M.data&&"number"==typeof M.read)&&(this.data=M.data,this.read=M.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return f.nextTick=process.nextTick,void(f.setImmediate="function"==typeof setImmediate?setImmediate:f.nextTick);if("function"==typeof setImmediate)return f.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(f.nextTick=function(Q){return setImmediate(Q)});if(f.setImmediate=function(Q){setTimeout(Q,0)},typeof window<"u"&&"function"==typeof window.postMessage){let Q=function(te){if(te.source===window&&te.data===M){te.stopPropagation();var N=W.slice();W.length=0,N.forEach(function(fe){fe()})}};var M="forge.setImmediate",W=[];f.setImmediate=function(te){W.push(te),1===W.length&&window.postMessage(M,"*")},window.addEventListener("message",Q,!0)}if(typeof MutationObserver<"u"){var y=Date.now(),X=!0,Z=document.createElement("div");W=[],new MutationObserver(function(){var te=W.slice();W.length=0,te.forEach(function(N){N()})}).observe(Z,{attributes:!0});var v=f.setImmediate;f.setImmediate=function(te){Date.now()-y>15?(y=Date.now(),v(te)):(W.push(te),1===W.length&&Z.setAttribute("a",X=!X))}}f.nextTick=f.setImmediate})(),f.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,f.globalScope=f.isNodejs?global:typeof self>"u"?window:self,f.isArray=Array.isArray||function(M){return"[object Array]"===Object.prototype.toString.call(M)},f.isArrayBuffer=function(M){return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer},f.isArrayBufferView=function(M){return M&&f.isArrayBuffer(M.buffer)&&void 0!==M.byteLength},f.ByteBuffer=e,f.ByteStringBuffer=e,f.ByteStringBuffer.prototype._optimizeConstructedString=function(M){this._constructedStringLength+=M,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},f.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},f.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},f.ByteStringBuffer.prototype.putByte=function(M){return this.putBytes(String.fromCharCode(M))},f.ByteStringBuffer.prototype.fillWithByte=function(M,W){M=String.fromCharCode(M);for(var y=this.data;W>0;)1&W&&(y+=M),(W>>>=1)>0&&(M+=M);return this.data=y,this._optimizeConstructedString(W),this},f.ByteStringBuffer.prototype.putBytes=function(M){return this.data+=M,this._optimizeConstructedString(M.length),this},f.ByteStringBuffer.prototype.putString=function(M){return this.putBytes(f.encodeUtf8(M))},f.ByteStringBuffer.prototype.putInt16=function(M){return this.putBytes(String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},f.ByteStringBuffer.prototype.putInt24=function(M){return this.putBytes(String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},f.ByteStringBuffer.prototype.putInt32=function(M){return this.putBytes(String.fromCharCode(M>>24&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},f.ByteStringBuffer.prototype.putInt16Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255))},f.ByteStringBuffer.prototype.putInt24Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255)+String.fromCharCode(M>>16&255))},f.ByteStringBuffer.prototype.putInt32Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>24&255))},f.ByteStringBuffer.prototype.putInt=function(M,W){A(W);var y="";do{W-=8,y+=String.fromCharCode(M>>W&255)}while(W>0);return this.putBytes(y)},f.ByteStringBuffer.prototype.putSignedInt=function(M,W){return M<0&&(M+=2<<W-1),this.putInt(M,W)},f.ByteStringBuffer.prototype.putBuffer=function(M){return this.putBytes(M.getBytes())},f.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},f.ByteStringBuffer.prototype.getInt16=function(){var M=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,M},f.ByteStringBuffer.prototype.getInt24=function(){var M=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,M},f.ByteStringBuffer.prototype.getInt32=function(){var M=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,M},f.ByteStringBuffer.prototype.getInt16Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,M},f.ByteStringBuffer.prototype.getInt24Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,M},f.ByteStringBuffer.prototype.getInt32Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,M},f.ByteStringBuffer.prototype.getInt=function(M){A(M);var W=0;do{W=(W<<8)+this.data.charCodeAt(this.read++),M-=8}while(M>0);return W},f.ByteStringBuffer.prototype.getSignedInt=function(M){var W=this.getInt(M),y=2<<M-2;return W>=y&&(W-=y<<1),W},f.ByteStringBuffer.prototype.getBytes=function(M){var W;return M?(M=Math.min(this.length(),M),W=this.data.slice(this.read,this.read+M),this.read+=M):0===M?W="":(W=0===this.read?this.data:this.data.slice(this.read),this.clear()),W},f.ByteStringBuffer.prototype.bytes=function(M){return typeof M>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+M)},f.ByteStringBuffer.prototype.at=function(M){return this.data.charCodeAt(this.read+M)},f.ByteStringBuffer.prototype.setAt=function(M,W){return this.data=this.data.substr(0,this.read+M)+String.fromCharCode(W)+this.data.substr(this.read+M+1),this},f.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},f.ByteStringBuffer.prototype.copy=function(){var M=f.createBuffer(this.data);return M.read=this.read,M},f.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},f.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},f.ByteStringBuffer.prototype.truncate=function(M){var W=Math.max(0,this.length()-M);return this.data=this.data.substr(this.read,W),this.read=0,this},f.ByteStringBuffer.prototype.toHex=function(){for(var M="",W=this.read;W<this.data.length;++W){var y=this.data.charCodeAt(W);y<16&&(M+="0"),M+=y.toString(16)}return M},f.ByteStringBuffer.prototype.toString=function(){return f.decodeUtf8(this.bytes())},f.DataBuffer=function m(M,W){this.read=(W=W||{}).readOffset||0,this.growSize=W.growSize||1024;var y=f.isArrayBuffer(M),X=f.isArrayBufferView(M);if(y||X)return this.data=y?new DataView(M):new DataView(M.buffer,M.byteOffset,M.byteLength),void(this.write="writeOffset"in W?W.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=M&&this.putBytes(M),"writeOffset"in W&&(this.write=W.writeOffset)},f.DataBuffer.prototype.length=function(){return this.write-this.read},f.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},f.DataBuffer.prototype.accommodate=function(M,W){if(this.length()>=M)return this;W=Math.max(W||this.growSize,M);var y=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),X=new Uint8Array(this.length()+W);return X.set(y),this.data=new DataView(X.buffer),this},f.DataBuffer.prototype.putByte=function(M){return this.accommodate(1),this.data.setUint8(this.write++,M),this},f.DataBuffer.prototype.fillWithByte=function(M,W){this.accommodate(W);for(var y=0;y<W;++y)this.data.setUint8(M);return this},f.DataBuffer.prototype.putBytes=function(M,W){if(f.isArrayBufferView(M)){var X=(y=new Uint8Array(M.buffer,M.byteOffset,M.byteLength)).byteLength-y.byteOffset;return this.accommodate(X),new Uint8Array(this.data.buffer,this.write).set(y),this.write+=X,this}if(f.isArrayBuffer(M)){var y=new Uint8Array(M);return this.accommodate(y.byteLength),new Uint8Array(this.data.buffer).set(y,this.write),this.write+=y.byteLength,this}if(M instanceof f.DataBuffer||"object"==typeof M&&"number"==typeof M.read&&"number"==typeof M.write&&f.isArrayBufferView(M.data))return y=new Uint8Array(M.data.byteLength,M.read,M.length()),this.accommodate(y.byteLength),new Uint8Array(M.data.byteLength,this.write).set(y),this.write+=y.byteLength,this;if(M instanceof f.ByteStringBuffer&&(M=M.data,W="binary"),W=W||"binary","string"==typeof M){var v;if("hex"===W)return this.accommodate(Math.ceil(M.length/2)),v=new Uint8Array(this.data.buffer,this.write),this.write+=f.binary.hex.decode(M,v,this.write),this;if("base64"===W)return this.accommodate(3*Math.ceil(M.length/4)),v=new Uint8Array(this.data.buffer,this.write),this.write+=f.binary.base64.decode(M,v,this.write),this;if("utf8"===W&&(M=f.encodeUtf8(M),W="binary"),"binary"===W||"raw"===W)return this.accommodate(M.length),v=new Uint8Array(this.data.buffer,this.write),this.write+=f.binary.raw.decode(v),this;if("utf16"===W)return this.accommodate(2*M.length),v=new Uint16Array(this.data.buffer,this.write),this.write+=f.text.utf16.encode(v),this;throw new Error("Invalid encoding: "+W)}throw Error("Invalid parameter: "+M)},f.DataBuffer.prototype.putBuffer=function(M){return this.putBytes(M),M.clear(),this},f.DataBuffer.prototype.putString=function(M){return this.putBytes(M,"utf16")},f.DataBuffer.prototype.putInt16=function(M){return this.accommodate(2),this.data.setInt16(this.write,M),this.write+=2,this},f.DataBuffer.prototype.putInt24=function(M){return this.accommodate(3),this.data.setInt16(this.write,M>>8&65535),this.data.setInt8(this.write,M>>16&255),this.write+=3,this},f.DataBuffer.prototype.putInt32=function(M){return this.accommodate(4),this.data.setInt32(this.write,M),this.write+=4,this},f.DataBuffer.prototype.putInt16Le=function(M){return this.accommodate(2),this.data.setInt16(this.write,M,!0),this.write+=2,this},f.DataBuffer.prototype.putInt24Le=function(M){return this.accommodate(3),this.data.setInt8(this.write,M>>16&255),this.data.setInt16(this.write,M>>8&65535,!0),this.write+=3,this},f.DataBuffer.prototype.putInt32Le=function(M){return this.accommodate(4),this.data.setInt32(this.write,M,!0),this.write+=4,this},f.DataBuffer.prototype.putInt=function(M,W){A(W),this.accommodate(W/8);do{W-=8,this.data.setInt8(this.write++,M>>W&255)}while(W>0);return this},f.DataBuffer.prototype.putSignedInt=function(M,W){return A(W),this.accommodate(W/8),M<0&&(M+=2<<W-1),this.putInt(M,W)},f.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},f.DataBuffer.prototype.getInt16=function(){var M=this.data.getInt16(this.read);return this.read+=2,M},f.DataBuffer.prototype.getInt24=function(){var M=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,M},f.DataBuffer.prototype.getInt32=function(){var M=this.data.getInt32(this.read);return this.read+=4,M},f.DataBuffer.prototype.getInt16Le=function(){var M=this.data.getInt16(this.read,!0);return this.read+=2,M},f.DataBuffer.prototype.getInt24Le=function(){var M=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,M},f.DataBuffer.prototype.getInt32Le=function(){var M=this.data.getInt32(this.read,!0);return this.read+=4,M},f.DataBuffer.prototype.getInt=function(M){A(M);var W=0;do{W=(W<<8)+this.data.getInt8(this.read++),M-=8}while(M>0);return W},f.DataBuffer.prototype.getSignedInt=function(M){var W=this.getInt(M),y=2<<M-2;return W>=y&&(W-=y<<1),W},f.DataBuffer.prototype.getBytes=function(M){var W;return M?(M=Math.min(this.length(),M),W=this.data.slice(this.read,this.read+M),this.read+=M):0===M?W="":(W=0===this.read?this.data:this.data.slice(this.read),this.clear()),W},f.DataBuffer.prototype.bytes=function(M){return typeof M>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+M)},f.DataBuffer.prototype.at=function(M){return this.data.getUint8(this.read+M)},f.DataBuffer.prototype.setAt=function(M,W){return this.data.setUint8(M,W),this},f.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},f.DataBuffer.prototype.copy=function(){return new f.DataBuffer(this)},f.DataBuffer.prototype.compact=function(){if(this.read>0){var M=new Uint8Array(this.data.buffer,this.read),W=new Uint8Array(M.byteLength);W.set(M),this.data=new DataView(W),this.write-=this.read,this.read=0}return this},f.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},f.DataBuffer.prototype.truncate=function(M){return this.write=Math.max(0,this.length()-M),this.read=Math.min(this.read,this.write),this},f.DataBuffer.prototype.toHex=function(){for(var M="",W=this.read;W<this.data.byteLength;++W){var y=this.data.getUint8(W);y<16&&(M+="0"),M+=y.toString(16)}return M},f.DataBuffer.prototype.toString=function(M){var W=new Uint8Array(this.data,this.read,this.length());if("binary"===(M=M||"utf8")||"raw"===M)return f.binary.raw.encode(W);if("hex"===M)return f.binary.hex.encode(W);if("base64"===M)return f.binary.base64.encode(W);if("utf8"===M)return f.text.utf8.decode(W);if("utf16"===M)return f.text.utf16.decode(W);throw new Error("Invalid encoding: "+M)},f.createBuffer=function(M,W){return W=W||"raw",void 0!==M&&"utf8"===W&&(M=f.encodeUtf8(M)),new f.ByteBuffer(M)},f.fillString=function(M,W){for(var y="";W>0;)1&W&&(y+=M),(W>>>=1)>0&&(M+=M);return y},f.xorBytes=function(M,W,y){for(var X="",Z="",v="",L=0,Q=0;y>0;--y,++L)Z=M.charCodeAt(L)^W.charCodeAt(L),Q>=10&&(X+=v,v="",Q=0),v+=String.fromCharCode(Z),++Q;return X+v},f.hexToBytes=function(M){var W="",y=0;for(!0&M.length&&(y=1,W+=String.fromCharCode(parseInt(M[0],16)));y<M.length;y+=2)W+=String.fromCharCode(parseInt(M.substr(y,2),16));return W},f.bytesToHex=function(M){return f.createBuffer(M).toHex()},f.int32ToBytes=function(M){return String.fromCharCode(M>>24&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M)};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],g="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";f.encode64=function(M,W){for(var Z,v,L,y="",X="",Q=0;Q<M.length;)Z=M.charCodeAt(Q++),v=M.charCodeAt(Q++),L=M.charCodeAt(Q++),y+=D.charAt(Z>>2),y+=D.charAt((3&Z)<<4|v>>4),isNaN(v)?y+="==":(y+=D.charAt((15&v)<<2|L>>6),y+=isNaN(L)?"=":D.charAt(63&L)),W&&y.length>W&&(X+=y.substr(0,W)+"\r\n",y=y.substr(W));return X+y},f.decode64=function(M){M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var y,X,Z,v,W="",L=0;L<M.length;)y=S[M.charCodeAt(L++)-43],X=S[M.charCodeAt(L++)-43],Z=S[M.charCodeAt(L++)-43],v=S[M.charCodeAt(L++)-43],W+=String.fromCharCode(y<<2|X>>4),64!==Z&&(W+=String.fromCharCode((15&X)<<4|Z>>2),64!==v&&(W+=String.fromCharCode((3&Z)<<6|v)));return W},f.encodeUtf8=function(M){return unescape(encodeURIComponent(M))},f.decodeUtf8=function(M){return decodeURIComponent(escape(M))},f.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},f.binary.raw.encode=function(M){return String.fromCharCode.apply(null,M)},f.binary.raw.decode=function(M,W,y){var X=W;X||(X=new Uint8Array(M.length));for(var Z=y=y||0,v=0;v<M.length;++v)X[Z++]=M.charCodeAt(v);return W?Z-y:X},f.binary.hex.encode=f.bytesToHex,f.binary.hex.decode=function(M,W,y){var X=W;X||(X=new Uint8Array(Math.ceil(M.length/2)));var Z=0,v=y=y||0;for(1&M.length&&(Z=1,X[v++]=parseInt(M[0],16));Z<M.length;Z+=2)X[v++]=parseInt(M.substr(Z,2),16);return W?v-y:X},f.binary.base64.encode=function(M,W){for(var Z,v,L,y="",X="",Q=0;Q<M.byteLength;)Z=M[Q++],v=M[Q++],L=M[Q++],y+=D.charAt(Z>>2),y+=D.charAt((3&Z)<<4|v>>4),isNaN(v)?y+="==":(y+=D.charAt((15&v)<<2|L>>6),y+=isNaN(L)?"=":D.charAt(63&L)),W&&y.length>W&&(X+=y.substr(0,W)+"\r\n",y=y.substr(W));return X+y},f.binary.base64.decode=function(M,W,y){var X=W;X||(X=new Uint8Array(3*Math.ceil(M.length/4))),M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var Z,v,L,Q,te=0,N=y=y||0;te<M.length;)Z=S[M.charCodeAt(te++)-43],v=S[M.charCodeAt(te++)-43],L=S[M.charCodeAt(te++)-43],Q=S[M.charCodeAt(te++)-43],X[N++]=Z<<2|v>>4,64!==L&&(X[N++]=(15&v)<<4|L>>2,64!==Q&&(X[N++]=(3&L)<<6|Q));return W?N-y:X.subarray(0,N)},f.binary.base58.encode=function(M,W){return f.binary.baseN.encode(M,g,W)},f.binary.base58.decode=function(M,W){return f.binary.baseN.decode(M,g,W)},f.text={utf8:{},utf16:{}},f.text.utf8.encode=function(M,W,y){M=f.encodeUtf8(M);var X=W;X||(X=new Uint8Array(M.length));for(var Z=y=y||0,v=0;v<M.length;++v)X[Z++]=M.charCodeAt(v);return W?Z-y:X},f.text.utf8.decode=function(M){return f.decodeUtf8(String.fromCharCode.apply(null,M))},f.text.utf16.encode=function(M,W,y){var X=W;X||(X=new Uint8Array(2*M.length));for(var Z=new Uint16Array(X.buffer),v=y=y||0,L=y,Q=0;Q<M.length;++Q)Z[L++]=M.charCodeAt(Q),v+=2;return W?v-y:X},f.text.utf16.decode=function(M){return String.fromCharCode.apply(null,new Uint16Array(M.buffer))},f.deflate=function(M,W,y){if(W=f.decode64(M.deflate(f.encode64(W)).rval),y){var X=2;32&W.charCodeAt(1)&&(X=6),W=W.substring(X,W.length-4)}return W},f.inflate=function(M,W,y){var X=M.inflate(f.encode64(W)).rval;return null===X?null:f.decode64(X)};var k=function(M,W,y){if(!M)throw new Error("WebStorage not available.");var X;if(null===y?X=M.removeItem(W):(y=f.encode64(JSON.stringify(y)),X=M.setItem(W,y)),typeof X<"u"&&!0!==X.rval){var Z=new Error(X.error.message);throw Z.id=X.error.id,Z.name=X.error.name,Z}},z=function(M,W){if(!M)throw new Error("WebStorage not available.");var y=M.getItem(W);if(M.init)if(null===y.rval){if(y.error){var X=new Error(y.error.message);throw X.id=y.error.id,X.name=y.error.name,X}y=null}else y=y.rval;return null!==y&&(y=JSON.parse(f.decode64(y))),y},u=function(M,W,y,X){var Z=z(M,W);null===Z&&(Z={}),Z[y]=X,k(M,W,Z)},E=function(M,W,y){var X=z(M,W);return null!==X&&(X=y in X?X[y]:null),X},B=function(M,W,y){var X=z(M,W);if(null!==X&&y in X){delete X[y];var Z=!0;for(var v in X){Z=!1;break}Z&&(X=null),k(M,W,X)}},V=function(M,W){k(M,W,null)},F=function(M,W,y){var X=null;typeof y>"u"&&(y=["web","flash"]);var Z,v=!1,L=null;for(var Q in y){Z=y[Q];try{if("flash"===Z||"both"===Z){if(null===W[0])throw new Error("Flash local storage not available.");X=M.apply(this,W),v="flash"===Z}("web"===Z||"both"===Z)&&(W[0]=localStorage,X=M.apply(this,W),v=!0)}catch(te){L=te}if(v)break}if(!v)throw L;return X};f.setItem=function(M,W,y,X,Z){F(u,arguments,Z)},f.getItem=function(M,W,y,X){return F(E,arguments,X)},f.removeItem=function(M,W,y,X){F(B,arguments,X)},f.clearItems=function(M,W,y){F(V,arguments,y)},f.isEmpty=function(M){for(var W in M)if(M.hasOwnProperty(W))return!1;return!0},f.format=function(M){for(var y,X,W=/%./g,Z=0,v=[],L=0;y=W.exec(M);){(X=M.substring(L,W.lastIndex-2)).length>0&&v.push(X),L=W.lastIndex;var Q=y[0][1];switch(Q){case"s":case"o":v.push(Z<arguments.length?arguments[1+Z++]:"<?>");break;case"%":v.push("%");break;default:v.push("<%"+Q+"?>")}}return v.push(M.substring(L)),v.join("")},f.formatNumber=function(M,W,y,X){var Z=M,v=isNaN(W=Math.abs(W))?2:W,L=void 0===y?",":y,Q=void 0===X?".":X,te=Z<0?"-":"",N=parseInt(Z=Math.abs(+Z||0).toFixed(v),10)+"",fe=N.length>3?N.length%3:0;return te+(fe?N.substr(0,fe)+Q:"")+N.substr(fe).replace(/(\d{3})(?=\d)/g,"$1"+Q)+(v?L+Math.abs(Z-N).toFixed(v).slice(2):"")},f.formatSize=function(M){return M>=1073741824?f.formatNumber(M/1073741824,2,".","")+" GiB":M>=1048576?f.formatNumber(M/1048576,2,".","")+" MiB":M>=1024?f.formatNumber(M/1024,0)+" KiB":f.formatNumber(M,0)+" bytes"},f.bytesFromIP=function(M){return-1!==M.indexOf(".")?f.bytesFromIPv4(M):-1!==M.indexOf(":")?f.bytesFromIPv6(M):null},f.bytesFromIPv4=function(M){if(4!==(M=M.split(".")).length)return null;for(var W=f.createBuffer(),y=0;y<M.length;++y){var X=parseInt(M[y],10);if(isNaN(X))return null;W.putByte(X)}return W.getBytes()},f.bytesFromIPv6=function(M){for(var W=0,y=2*(8-(M=M.split(":").filter(function(L){return 0===L.length&&++W,!0})).length+W),X=f.createBuffer(),Z=0;Z<8;++Z)if(M[Z]&&0!==M[Z].length){var v=f.hexToBytes(M[Z]);v.length<2&&X.putByte(0),X.putBytes(v)}else X.fillWithByte(0,y),y=0;return X.getBytes()},f.bytesToIP=function(M){return 4===M.length?f.bytesToIPv4(M):16===M.length?f.bytesToIPv6(M):null},f.bytesToIPv4=function(M){if(4!==M.length)return null;for(var W=[],y=0;y<M.length;++y)W.push(M.charCodeAt(y));return W.join(".")},f.bytesToIPv6=function(M){if(16!==M.length)return null;for(var W=[],y=[],X=0,Z=0;Z<M.length;Z+=2){for(var v=f.bytesToHex(M[Z]+M[Z+1]);"0"===v[0]&&"0"!==v;)v=v.substr(1);if("0"===v){var L=y[y.length-1],Q=W.length;L&&Q===L.end+1?(L.end=Q,L.end-L.start>y[X].end-y[X].start&&(X=y.length-1)):y.push({start:Q,end:Q})}W.push(v)}if(y.length>0){var te=y[X];te.end-te.start>0&&(W.splice(te.start,te.end-te.start+1,""),0===te.start&&W.unshift(""),7===te.end&&W.push(""))}return W.join(":")},f.estimateCores=function(M,W){if("function"==typeof M&&(W=M,M={}),M=M||{},"cores"in f&&!M.update)return W(null,f.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return f.cores=navigator.hardwareConcurrency,W(null,f.cores);if(typeof Worker>"u")return f.cores=1,W(null,f.cores);if(typeof Blob>"u")return f.cores=2,W(null,f.cores);var y=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(L){for(var Q=Date.now(),te=Q+4;Date.now()<te;);self.postMessage({st:Q,et:te})})}.toString(),")()"],{type:"application/javascript"}));!function X(L,Q,te){if(0===Q){var N=Math.floor(L.reduce(function(fe,oe){return fe+oe},0)/L.length);return f.cores=Math.max(1,N),URL.revokeObjectURL(y),W(null,f.cores)}!function Z(L,Q){for(var te=[],N=[],fe=0;fe<L;++fe){var oe=new Worker(y);oe.addEventListener("message",function(R){if(N.push(R.data),N.length===L){for(var Fe=0;Fe<L;++Fe)te[Fe].terminate();Q(null,N)}}),te.push(oe)}for(fe=0;fe<L;++fe)te[fe].postMessage(fe)}(te,function(fe,oe){L.push(function v(L,Q){for(var te=[],N=0;N<L;++N)for(var fe=Q[N],oe=te[N]=[],R=0;R<L;++R)if(N!==R){var Fe=Q[R];(fe.st>Fe.st&&fe.st<Fe.et||Fe.st>fe.st&&Fe.st<fe.et)&&oe.push(R)}return te.reduce(function(we,We){return Math.max(we,We.length)},0)}(te,oe)),X(L,Q-1,te)})}([],5,16)}},872:(ot,ve,l)=>{var t=l(6589);l(812),ot.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var o={},f=[],A=null;t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8;for(var e=0;e<t.log.levels.length;++e){var w=t.log.levels[e];o[w]={index:e,name:w.toUpperCase()}}t.log.logMessage=function(u){for(var E=o[u.level].index,B=0;B<f.length;++B){var V=f[B];V.flags&t.log.NO_LEVEL_CHECK?V.f(u):E<=o[V.level].index&&V.f(V,u)}},t.log.prepareStandard=function(u){"standard"in u||(u.standard=o[u.level].name+" ["+u.category+"] "+u.message)},t.log.prepareFull=function(u){if(!("full"in u)){var E=[u.message];E=E.concat([]),u.full=t.util.format.apply(this,E)}},t.log.prepareStandardFull=function(u){"standardFull"in u||(t.log.prepareStandard(u),u.standardFull=u.standard)};var m=["error","warning","info","debug","verbose"];for(e=0;e<m.length;++e)!function(E){t.log[E]=function(B,V){var F=Array.prototype.slice.call(arguments).slice(2);t.log.logMessage({timestamp:new Date,level:E,category:B,message:V,arguments:F})}}(m[e]);if(t.log.makeLogger=function(u){var E={flags:0,f:u};return t.log.setLevel(E,"none"),E},t.log.setLevel=function(u,E){var B=!1;if(u&&!(u.flags&t.log.LEVEL_LOCKED))for(var V=0;V<t.log.levels.length;++V)if(E==t.log.levels[V]){u.level=E,B=!0;break}return B},t.log.lock=function(u,E){typeof E>"u"||E?u.flags|=t.log.LEVEL_LOCKED:u.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(u){f.push(u)},typeof console<"u"&&"log"in console){var D;if(console.error&&console.warn&&console.info&&console.debug){var S={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},g=function(u,E){t.log.prepareStandard(E);var B=S[E.level],V=[E.standard];V=V.concat(E.arguments.slice()),B.apply(console,V)};D=t.log.makeLogger(g)}else g=function(E,B){t.log.prepareStandardFull(B),console.log(B.standardFull)},D=t.log.makeLogger(g);t.log.setLevel(D,"debug"),t.log.addLogger(D),A=D}else console={log:function(){}};if(null!==A&&typeof window<"u"&&window.location){var k=new URL(window.location.href).searchParams;k.has("console.level")&&t.log.setLevel(A,k.get("console.level").slice(-1)[0]),k.has("console.lock")&&"true"==k.get("console.lock").slice(-1)[0]&&t.log.lock(A)}t.log.consoleLogger=A},923:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>t});var t=function(o){return o.standardDate="standardDate",o.standardDateTime="standardDateTime",o.prettyDateTime="prettyDateTime",o}(t||{})},967:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>w});var t=l(8434),o=l(5139),f=l(9417),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,f.YN,f.X1,o.XE,A.h]})}}return m})()},978:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>o,U:()=>t});var t=function(f){return f[f.Disabled=0]="Disabled",f[f.Duende=1]="Duende",f[f.Rsk=2]="Rsk",f}(t||{});class o{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0,this.enableRoleClaims=!1}}},980:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>o});var t=l(9974);function o(f){return(0,t.N)((A,e)=>{try{A.subscribe(e)}finally{e.add(f)}})}},983:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>f,w:()=>o});var t=l(1985);const o=new t.c(e=>e.complete());function f(e){return e?function A(e){return new t.c(w=>e.schedule(()=>w.complete()))}(e):o}},1026:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1068:(ot,ve,l)=>{"use strict";l.d(ve,{gR:()=>Ci,R9:()=>Bs,I6:()=>dn,SL:()=>Yi,kH:()=>Jn,zN:()=>ua,sb:()=>jr,Am:()=>jr,FF:()=>vr});var t={};l.r(t),l.d(t,{VERSION:()=>o,after:()=>Wi,all:()=>xs,allKeys:()=>Kt,any:()=>ua,assign:()=>Tt,before:()=>Di,bind:()=>Yt,bindAll:()=>Bt,chain:()=>$t,chunk:()=>Yr,clone:()=>Ei,collect:()=>Jn,compact:()=>Ia,compose:()=>Bn,constant:()=>ge,contains:()=>Ci,countBy:()=>fr,create:()=>ii,debounce:()=>Pe,default:()=>Yo,defaults:()=>xt,defer:()=>ae,delay:()=>Ae,detect:()=>dn,difference:()=>Bs,drop:()=>ka,each:()=>mn,escape:()=>vi,every:()=>xs,extend:()=>wt,extendOwn:()=>Tt,filter:()=>Es,find:()=>dn,findIndex:()=>Yi,findKey:()=>li,findLastIndex:()=>Os,findWhere:()=>Vt,first:()=>mr,flatten:()=>Br,foldl:()=>fi,foldr:()=>Us,forEach:()=>mn,functions:()=>fs,get:()=>ji,groupBy:()=>ha,has:()=>zi,head:()=>mr,identity:()=>ls,include:()=>Ci,includes:()=>Ci,indexBy:()=>Ua,indexOf:()=>Zr,initial:()=>Ur,inject:()=>fi,intersection:()=>Ca,invert:()=>zn,invoke:()=>Ir,isArguments:()=>ne,isArray:()=>ct,isArrayBuffer:()=>lt,isBoolean:()=>te,isDataView:()=>je,isDate:()=>Fe,isElement:()=>N,isEmpty:()=>pe,isEqual:()=>gt,isError:()=>We,isFinite:()=>Y,isFunction:()=>Ye,isMap:()=>In,isMatch:()=>de,isNaN:()=>he,isNull:()=>L,isNumber:()=>R,isObject:()=>v,isRegExp:()=>we,isSet:()=>_i,isString:()=>oe,isSymbol:()=>rt,isTypedArray:()=>tn,isUndefined:()=>Q,isWeakMap:()=>rs,isWeakSet:()=>Bi,iteratee:()=>Vn,keys:()=>Qt,last:()=>io,lastIndexOf:()=>Dt,map:()=>Jn,mapObject:()=>Xn,matcher:()=>ut,matches:()=>ut,max:()=>da,memoize:()=>ue,methods:()=>fs,min:()=>fo,mixin:()=>nl,negate:()=>pn,noop:()=>qn,now:()=>Un,object:()=>Ds,omit:()=>ja,once:()=>Li,pairs:()=>os,partial:()=>yn,partition:()=>Fr,pick:()=>xa,pluck:()=>qr,property:()=>Rt,propertyOf:()=>Ht,random:()=>Xt,range:()=>ks,reduce:()=>fi,reduceRight:()=>Us,reject:()=>xr,rest:()=>ka,restArguments:()=>Z,result:()=>Ki,sample:()=>kr,select:()=>Es,shuffle:()=>Wr,size:()=>Wo,some:()=>ua,sortBy:()=>Pr,sortedIndex:()=>Fs,tail:()=>ka,take:()=>mr,tap:()=>Ii,template:()=>Nn,templateSettings:()=>ht,throttle:()=>Ce,times:()=>oi,toArray:()=>Sr,toPath:()=>Ti,transpose:()=>ar,unescape:()=>Ze,union:()=>Ao,uniq:()=>jr,unique:()=>jr,uniqueId:()=>Ms,unzip:()=>ar,values:()=>Ni,where:()=>Oa,without:()=>vr,wrap:()=>At,zip:()=>hs});var o="1.13.6",f="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},A=Array.prototype,e=Object.prototype,w=typeof Symbol<"u"?Symbol.prototype:null,m=A.push,D=A.slice,S=e.toString,g=e.hasOwnProperty,k=typeof ArrayBuffer<"u",z=typeof DataView<"u",u=Array.isArray,E=Object.keys,B=Object.create,V=k&&ArrayBuffer.isView,F=isNaN,M=isFinite,W=!{toString:null}.propertyIsEnumerable("toString"),y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],X=Math.pow(2,53)-1;function Z(K,ie){return ie=null==ie?K.length-1:+ie,function(){for(var ee=Math.max(arguments.length-ie,0),Te=Array(ee),qe=0;qe<ee;qe++)Te[qe]=arguments[qe+ie];switch(ie){case 0:return K.call(this,Te);case 1:return K.call(this,arguments[0],Te);case 2:return K.call(this,arguments[0],arguments[1],Te)}var Pt=Array(ie+1);for(qe=0;qe<ie;qe++)Pt[qe]=arguments[qe];return Pt[ie]=Te,K.apply(this,Pt)}}function v(K){var ie=typeof K;return"function"===ie||"object"===ie&&!!K}function L(K){return null===K}function Q(K){return void 0===K}function te(K){return!0===K||!1===K||"[object Boolean]"===S.call(K)}function N(K){return!(!K||1!==K.nodeType)}function fe(K){var ie="[object "+K+"]";return function(ee){return S.call(ee)===ie}}const oe=fe("String"),R=fe("Number"),Fe=fe("Date"),we=fe("RegExp"),We=fe("Error"),rt=fe("Symbol"),lt=fe("ArrayBuffer");var vt=fe("Function");"object"!=typeof Int8Array&&"function"!=typeof(f.document&&f.document.childNodes)&&(vt=function(K){return"function"==typeof K||!1});const Ye=vt,He=fe("Object");var it=z&&He(new DataView(new ArrayBuffer(8))),Le=typeof Map<"u"&&He(new Map),Ve=fe("DataView");const je=it?function Xe(K){return null!=K&&Ye(K.getInt8)&&lt(K.buffer)}:Ve,ct=u||fe("Array");function st(K,ie){return null!=K&&g.call(K,ie)}var Qe=fe("Arguments");!function(){Qe(arguments)||(Qe=function(K){return st(K,"callee")})}();const ne=Qe;function Y(K){return!rt(K)&&M(K)&&!isNaN(parseFloat(K))}function he(K){return R(K)&&F(K)}function ge(K){return function(){return K}}function s(K){return function(ie){var ee=K(ie);return"number"==typeof ee&&ee>=0&&ee<=X}}function dt(K){return function(ie){return ie?.[K]}}const _t=dt("byteLength"),en=s(_t);var Cn=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const tn=k?function Wn(K){return V?V(K)&&!je(K):en(K)&&Cn.test(S.call(K))}:ge(!1),Ln=dt("length");function ft(K,ie){ie=function ni(K){for(var ie={},ee=K.length,Te=0;Te<ee;++Te)ie[K[Te]]=!0;return{contains:function(qe){return!0===ie[qe]},push:function(qe){return ie[qe]=!0,K.push(qe)}}}(ie);var ee=y.length,Te=K.constructor,qe=Ye(Te)&&Te.prototype||e,Pt="constructor";for(st(K,Pt)&&!ie.contains(Pt)&&ie.push(Pt);ee--;)(Pt=y[ee])in K&&K[Pt]!==qe[Pt]&&!ie.contains(Pt)&&ie.push(Pt)}function Qt(K){if(!v(K))return[];if(E)return E(K);var ie=[];for(var ee in K)st(K,ee)&&ie.push(ee);return W&&ft(K,ie),ie}function pe(K){if(null==K)return!0;var ie=Ln(K);return"number"==typeof ie&&(ct(K)||oe(K)||ne(K))?0===ie:0===Ln(Qt(K))}function de(K,ie){var ee=Qt(ie),Te=ee.length;if(null==K)return!Te;for(var qe=Object(K),Pt=0;Pt<Te;Pt++){var bn=ee[Pt];if(ie[bn]!==qe[bn]||!(bn in qe))return!1}return!0}function P(K){return K instanceof P?K:this instanceof P?void(this._wrapped=K):new P(K)}function q(K){return new Uint8Array(K.buffer||K,K.byteOffset||0,_t(K))}P.VERSION=o,P.prototype.valueOf=P.prototype.toJSON=P.prototype.value=function(){return this._wrapped},P.prototype.toString=function(){return String(this._wrapped)};var Ne="[object DataView]";function De(K,ie,ee,Te){if(K===ie)return 0!==K||1/K==1/ie;if(null==K||null==ie)return!1;if(K!=K)return ie!=ie;var qe=typeof K;return("function"===qe||"object"===qe||"object"==typeof ie)&&et(K,ie,ee,Te)}function et(K,ie,ee,Te){K instanceof P&&(K=K._wrapped),ie instanceof P&&(ie=ie._wrapped);var qe=S.call(K);if(qe!==S.call(ie))return!1;if(it&&"[object Object]"==qe&&je(K)){if(!je(ie))return!1;qe=Ne}switch(qe){case"[object RegExp]":case"[object String]":return""+K==""+ie;case"[object Number]":return+K!=+K?+ie!=+ie:0==+K?1/+K==1/ie:+K==+ie;case"[object Date]":case"[object Boolean]":return+K==+ie;case"[object Symbol]":return w.valueOf.call(K)===w.valueOf.call(ie);case"[object ArrayBuffer]":case Ne:return et(q(K),q(ie),ee,Te)}var Pt="[object Array]"===qe;if(!Pt&&tn(K)){if(_t(K)!==_t(ie))return!1;if(K.buffer===ie.buffer&&K.byteOffset===ie.byteOffset)return!0;Pt=!0}if(!Pt){if("object"!=typeof K||"object"!=typeof ie)return!1;var ai=K.constructor,ts=ie.constructor;if(ai!==ts&&!(Ye(ai)&&ai instanceof ai&&Ye(ts)&&ts instanceof ts)&&"constructor"in K&&"constructor"in ie)return!1}Te=Te||[];for(var $i=(ee=ee||[]).length;$i--;)if(ee[$i]===K)return Te[$i]===ie;if(ee.push(K),Te.push(ie),Pt){if(($i=K.length)!==ie.length)return!1;for(;$i--;)if(!De(K[$i],ie[$i],ee,Te))return!1}else{var $r,Zs=Qt(K);if($i=Zs.length,Qt(ie).length!==$i)return!1;for(;$i--;)if(!st(ie,$r=Zs[$i])||!De(K[$r],ie[$r],ee,Te))return!1}return ee.pop(),Te.pop(),!0}function gt(K,ie){return De(K,ie)}function Kt(K){if(!v(K))return[];var ie=[];for(var ee in K)ie.push(ee);return W&&ft(K,ie),ie}function sn(K){var ie=Ln(K);return function(ee){if(null==ee)return!1;var Te=Kt(ee);if(Ln(Te))return!1;for(var qe=0;qe<ie;qe++)if(!Ye(ee[K[qe]]))return!1;return K!==Zt||!Ye(ee[Rn])}}var Rn="forEach",ei=["clear","delete"],Ot=["get","has","set"],Gn=ei.concat(Rn,Ot),Zt=ei.concat(Ot),Tn=["add"].concat(ei,Rn,"has");const In=Le?sn(Gn):fe("Map"),rs=Le?sn(Zt):fe("WeakMap"),_i=Le?sn(Tn):fe("Set"),Bi=fe("WeakSet");function Ni(K){for(var ie=Qt(K),ee=ie.length,Te=Array(ee),qe=0;qe<ee;qe++)Te[qe]=K[ie[qe]];return Te}function os(K){for(var ie=Qt(K),ee=ie.length,Te=Array(ee),qe=0;qe<ee;qe++)Te[qe]=[ie[qe],K[ie[qe]]];return Te}function zn(K){for(var ie={},ee=Qt(K),Te=0,qe=ee.length;Te<qe;Te++)ie[K[ee[Te]]]=ee[Te];return ie}function fs(K){var ie=[];for(var ee in K)Ye(K[ee])&&ie.push(ee);return ie.sort()}function xi(K,ie){return function(ee){var Te=arguments.length;if(ie&&(ee=Object(ee)),Te<2||null==ee)return ee;for(var qe=1;qe<Te;qe++)for(var Pt=arguments[qe],bn=K(Pt),ai=bn.length,ts=0;ts<ai;ts++){var $i=bn[ts];(!ie||void 0===ee[$i])&&(ee[$i]=Pt[$i])}return ee}}const wt=xi(Kt),Tt=xi(Qt),xt=xi(Kt,!0);function un(K){if(!v(K))return{};if(B)return B(K);var ie=function(){};ie.prototype=K;var ee=new ie;return ie.prototype=null,ee}function ii(K,ie){var ee=un(K);return ie&&Tt(ee,ie),ee}function Ei(K){return v(K)?ct(K)?K.slice():wt({},K):K}function Ii(K,ie){return ie(K),K}function Ti(K){return ct(K)?K:[K]}function Dn(K){return P.toPath(K)}function Vi(K,ie){for(var ee=ie.length,Te=0;Te<ee;Te++){if(null==K)return;K=K[ie[Te]]}return ee?K:void 0}function ji(K,ie,ee){var Te=Vi(K,Dn(ie));return Q(Te)?ee:Te}function zi(K,ie){for(var ee=(ie=Dn(ie)).length,Te=0;Te<ee;Te++){var qe=ie[Te];if(!st(K,qe))return!1;K=K[qe]}return!!ee}function ls(K){return K}function ut(K){return K=Tt({},K),function(ie){return de(ie,K)}}function Rt(K){return K=Dn(K),function(ie){return Vi(ie,K)}}function yt(K,ie,ee){if(void 0===ie)return K;switch(ee??3){case 1:return function(Te){return K.call(ie,Te)};case 3:return function(Te,qe,Pt){return K.call(ie,Te,qe,Pt)};case 4:return function(Te,qe,Pt,bn){return K.call(ie,Te,qe,Pt,bn)}}return function(){return K.apply(ie,arguments)}}function nn(K,ie,ee){return null==K?ls:Ye(K)?yt(K,ie,ee):v(K)&&!ct(K)?ut(K):Rt(K)}function Vn(K,ie){return nn(K,ie,1/0)}function ln(K,ie,ee){return P.iteratee!==Vn?P.iteratee(K,ie):nn(K,ie,ee)}function Xn(K,ie,ee){ie=ln(ie,ee);for(var Te=Qt(K),qe=Te.length,Pt={},bn=0;bn<qe;bn++){var ai=Te[bn];Pt[ai]=ie(K[ai],ai,K)}return Pt}function qn(){}function Ht(K){return null==K?qn:function(ie){return ji(K,ie)}}function oi(K,ie,ee){var Te=Array(Math.max(0,K));ie=yt(ie,ee,1);for(var qe=0;qe<K;qe++)Te[qe]=ie(qe);return Te}function Xt(K,ie){return null==ie&&(ie=K,K=0),K+Math.floor(Math.random()*(ie-K+1))}P.toPath=Ti,P.iteratee=Vn;const Un=Date.now||function(){return(new Date).getTime()};function fn(K){var ie=function(Pt){return K[Pt]},ee="(?:"+Qt(K).join("|")+")",Te=RegExp(ee),qe=RegExp(ee,"g");return function(Pt){return Te.test(Pt=null==Pt?"":""+Pt)?Pt.replace(qe,ie):Pt}}const Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},vi=fn(Qn),Ze=fn(zn(Qn)),ht=P.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var jt=/(.)^/,Jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Mn=/\\|'|\r|\n|\u2028|\u2029/g;function hi(K){return"\\"+Jt[K]}var ri=/^\s*(\w|\$)+\s*$/;function Nn(K,ie,ee){!ie&&ee&&(ie=ee),ie=xt({},ie,P.templateSettings);var Te=RegExp([(ie.escape||jt).source,(ie.interpolate||jt).source,(ie.evaluate||jt).source].join("|")+"|$","g"),qe=0,Pt="__p+='";K.replace(Te,function($i,Zs,$r,ga,$a){return Pt+=K.slice(qe,$a).replace(Mn,hi),qe=$a+$i.length,Zs?Pt+="'+\n((__t=("+Zs+"))==null?'':_.escape(__t))+\n'":$r?Pt+="'+\n((__t=("+$r+"))==null?'':__t)+\n'":ga&&(Pt+="';\n"+ga+"\n__p+='"),$i}),Pt+="';\n";var ai,bn=ie.variable;if(bn){if(!ri.test(bn))throw new Error("variable is not a bare identifier: "+bn)}else Pt="with(obj||{}){\n"+Pt+"}\n",bn="obj";Pt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Pt+"return __p;\n";try{ai=new Function(bn,"_",Pt)}catch($i){throw $i.source=Pt,$i}var ts=function($i){return ai.call(this,$i,P)};return ts.source="function("+bn+"){\n"+Pt+"}",ts}function Ki(K,ie,ee){var Te=(ie=Dn(ie)).length;if(!Te)return Ye(ee)?ee.call(K):ee;for(var qe=0;qe<Te;qe++){var Pt=K?.[ie[qe]];void 0===Pt&&(Pt=ee,qe=Te),K=Ye(Pt)?Pt.call(K):Pt}return K}var Ji=0;function Ms(K){var ie=++Ji+"";return K?K+ie:ie}function $t(K){var ie=P(K);return ie._chain=!0,ie}function Ai(K,ie,ee,Te,qe){if(!(Te instanceof ie))return K.apply(ee,qe);var Pt=un(K.prototype),bn=K.apply(Pt,qe);return v(bn)?bn:Pt}var Et=Z(function(K,ie){var ee=Et.placeholder,Te=function(){for(var qe=0,Pt=ie.length,bn=Array(Pt),ai=0;ai<Pt;ai++)bn[ai]=ie[ai]===ee?arguments[qe++]:ie[ai];for(;qe<arguments.length;)bn.push(arguments[qe++]);return Ai(K,Te,this,this,bn)};return Te});Et.placeholder=P;const yn=Et,Yt=Z(function(K,ie,ee){if(!Ye(K))throw new TypeError("Bind must be called on a function");var Te=Z(function(qe){return Ai(K,Te,ie,this,ee.concat(qe))});return Te}),Fn=s(Ln);function Qi(K,ie,ee,Te){if(Te=Te||[],ie||0===ie){if(ie<=0)return Te.concat(K)}else ie=1/0;for(var qe=Te.length,Pt=0,bn=Ln(K);Pt<bn;Pt++){var ai=K[Pt];if(Fn(ai)&&(ct(ai)||ne(ai)))if(ie>1)Qi(ai,ie-1,ee,Te),qe=Te.length;else for(var ts=0,$i=ai.length;ts<$i;)Te[qe++]=ai[ts++];else ee||(Te[qe++]=ai)}return Te}const Bt=Z(function(K,ie){var ee=(ie=Qi(ie,!1,!1)).length;if(ee<1)throw new Error("bindAll must be passed function names");for(;ee--;){var Te=ie[ee];K[Te]=Yt(K[Te],K)}return K});function ue(K,ie){var ee=function(Te){var qe=ee.cache,Pt=""+(ie?ie.apply(this,arguments):Te);return st(qe,Pt)||(qe[Pt]=K.apply(this,arguments)),qe[Pt]};return ee.cache={},ee}const Ae=Z(function(K,ie,ee){return setTimeout(function(){return K.apply(null,ee)},ie)}),ae=yn(Ae,P,1);function Ce(K,ie,ee){var Te,qe,Pt,bn,ai=0;ee||(ee={});var ts=function(){ai=!1===ee.leading?0:Un(),Te=null,bn=K.apply(qe,Pt),Te||(qe=Pt=null)},$i=function(){var Zs=Un();!ai&&!1===ee.leading&&(ai=Zs);var $r=ie-(Zs-ai);return qe=this,Pt=arguments,$r<=0||$r>ie?(Te&&(clearTimeout(Te),Te=null),ai=Zs,bn=K.apply(qe,Pt),Te||(qe=Pt=null)):!Te&&!1!==ee.trailing&&(Te=setTimeout(ts,$r)),bn};return $i.cancel=function(){clearTimeout(Te),ai=0,Te=qe=Pt=null},$i}function Pe(K,ie,ee){var Te,qe,Pt,bn,ai,ts=function(){var Zs=Un()-qe;ie>Zs?Te=setTimeout(ts,ie-Zs):(Te=null,ee||(bn=K.apply(ai,Pt)),Te||(Pt=ai=null))},$i=Z(function(Zs){return ai=this,Pt=Zs,qe=Un(),Te||(Te=setTimeout(ts,ie),ee&&(bn=K.apply(ai,Pt))),bn});return $i.cancel=function(){clearTimeout(Te),Te=Pt=ai=null},$i}function At(K,ie){return yn(ie,K)}function pn(K){return function(){return!K.apply(this,arguments)}}function Bn(){var K=arguments,ie=K.length-1;return function(){for(var ee=ie,Te=K[ie].apply(this,arguments);ee--;)Te=K[ee].call(this,Te);return Te}}function Wi(K,ie){return function(){if(--K<1)return ie.apply(this,arguments)}}function Di(K,ie){var ee;return function(){return--K>0&&(ee=ie.apply(this,arguments)),K<=1&&(ie=null),ee}}const Li=yn(Di,2);function li(K,ie,ee){ie=ln(ie,ee);for(var qe,Te=Qt(K),Pt=0,bn=Te.length;Pt<bn;Pt++)if(ie(K[qe=Te[Pt]],qe,K))return qe}function Ui(K){return function(ie,ee,Te){ee=ln(ee,Te);for(var qe=Ln(ie),Pt=K>0?0:qe-1;Pt>=0&&Pt<qe;Pt+=K)if(ee(ie[Pt],Pt,ie))return Pt;return-1}}const Yi=Ui(1),Os=Ui(-1);function Fs(K,ie,ee,Te){for(var qe=(ee=ln(ee,Te,1))(ie),Pt=0,bn=Ln(K);Pt<bn;){var ai=Math.floor((Pt+bn)/2);ee(K[ai])<qe?Pt=ai+1:bn=ai}return Pt}function Or(K,ie,ee){return function(Te,qe,Pt){var bn=0,ai=Ln(Te);if("number"==typeof Pt)K>0?bn=Pt>=0?Pt:Math.max(Pt+ai,bn):ai=Pt>=0?Math.min(Pt+1,ai):Pt+ai+1;else if(ee&&Pt&&ai)return Te[Pt=ee(Te,qe)]===qe?Pt:-1;if(qe!=qe)return(Pt=ie(D.call(Te,bn,ai),he))>=0?Pt+bn:-1;for(Pt=K>0?bn:ai-1;Pt>=0&&Pt<ai;Pt+=K)if(Te[Pt]===qe)return Pt;return-1}}const Zr=Or(1,Yi,Fs),Dt=Or(-1,Os);function dn(K,ie,ee){var qe=(Fn(K)?Yi:li)(K,ie,ee);if(void 0!==qe&&-1!==qe)return K[qe]}function Vt(K,ie){return dn(K,ut(ie))}function mn(K,ie,ee){var Te,qe;if(ie=yt(ie,ee),Fn(K))for(Te=0,qe=K.length;Te<qe;Te++)ie(K[Te],Te,K);else{var Pt=Qt(K);for(Te=0,qe=Pt.length;Te<qe;Te++)ie(K[Pt[Te]],Pt[Te],K)}return K}function Jn(K,ie,ee){ie=ln(ie,ee);for(var Te=!Fn(K)&&Qt(K),qe=(Te||K).length,Pt=Array(qe),bn=0;bn<qe;bn++){var ai=Te?Te[bn]:bn;Pt[bn]=ie(K[ai],ai,K)}return Pt}function yi(K){return function(ee,Te,qe,Pt){var bn=arguments.length>=3;return function(ee,Te,qe,Pt){var bn=!Fn(ee)&&Qt(ee),ai=(bn||ee).length,ts=K>0?0:ai-1;for(Pt||(qe=ee[bn?bn[ts]:ts],ts+=K);ts>=0&&ts<ai;ts+=K){var $i=bn?bn[ts]:ts;qe=Te(qe,ee[$i],$i,ee)}return qe}(ee,yt(Te,Pt,4),qe,bn)}}const fi=yi(1),Us=yi(-1);function Es(K,ie,ee){var Te=[];return ie=ln(ie,ee),mn(K,function(qe,Pt,bn){ie(qe,Pt,bn)&&Te.push(qe)}),Te}function xr(K,ie,ee){return Es(K,pn(ln(ie)),ee)}function xs(K,ie,ee){ie=ln(ie,ee);for(var Te=!Fn(K)&&Qt(K),qe=(Te||K).length,Pt=0;Pt<qe;Pt++){var bn=Te?Te[Pt]:Pt;if(!ie(K[bn],bn,K))return!1}return!0}function ua(K,ie,ee){ie=ln(ie,ee);for(var Te=!Fn(K)&&Qt(K),qe=(Te||K).length,Pt=0;Pt<qe;Pt++){var bn=Te?Te[Pt]:Pt;if(ie(K[bn],bn,K))return!0}return!1}function Ci(K,ie,ee,Te){return Fn(K)||(K=Ni(K)),("number"!=typeof ee||Te)&&(ee=0),Zr(K,ie,ee)>=0}const Ir=Z(function(K,ie,ee){var Te,qe;return Ye(ie)?qe=ie:(ie=Dn(ie),Te=ie.slice(0,-1),ie=ie[ie.length-1]),Jn(K,function(Pt){var bn=qe;if(!bn){if(Te&&Te.length&&(Pt=Vi(Pt,Te)),null==Pt)return;bn=Pt[ie]}return null==bn?bn:bn.apply(Pt,ee)})});function qr(K,ie){return Jn(K,Rt(ie))}function Oa(K,ie){return Es(K,ut(ie))}function da(K,ie,ee){var Pt,bn,Te=-1/0,qe=-1/0;if(null==ie||"number"==typeof ie&&"object"!=typeof K[0]&&null!=K)for(var ai=0,ts=(K=Fn(K)?K:Ni(K)).length;ai<ts;ai++)null!=(Pt=K[ai])&&Pt>Te&&(Te=Pt);else ie=ln(ie,ee),mn(K,function($i,Zs,$r){((bn=ie($i,Zs,$r))>qe||bn===-1/0&&Te===-1/0)&&(Te=$i,qe=bn)});return Te}function fo(K,ie,ee){var Pt,bn,Te=1/0,qe=1/0;if(null==ie||"number"==typeof ie&&"object"!=typeof K[0]&&null!=K)for(var ai=0,ts=(K=Fn(K)?K:Ni(K)).length;ai<ts;ai++)null!=(Pt=K[ai])&&Pt<Te&&(Te=Pt);else ie=ln(ie,ee),mn(K,function($i,Zs,$r){((bn=ie($i,Zs,$r))<qe||bn===1/0&&Te===1/0)&&(Te=$i,qe=bn)});return Te}var ma=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Sr(K){return K?ct(K)?D.call(K):oe(K)?K.match(ma):Fn(K)?Jn(K,ls):Ni(K):[]}function kr(K,ie,ee){if(null==ie||ee)return Fn(K)||(K=Ni(K)),K[Xt(K.length-1)];var Te=Sr(K),qe=Ln(Te);ie=Math.max(Math.min(ie,qe),0);for(var Pt=qe-1,bn=0;bn<ie;bn++){var ai=Xt(bn,Pt),ts=Te[bn];Te[bn]=Te[ai],Te[ai]=ts}return Te.slice(0,ie)}function Wr(K){return kr(K,1/0)}function Pr(K,ie,ee){var Te=0;return ie=ln(ie,ee),qr(Jn(K,function(qe,Pt,bn){return{value:qe,index:Te++,criteria:ie(qe,Pt,bn)}}).sort(function(qe,Pt){var bn=qe.criteria,ai=Pt.criteria;if(bn!==ai){if(bn>ai||void 0===bn)return 1;if(bn<ai||void 0===ai)return-1}return qe.index-Pt.index}),"value")}function ea(K,ie){return function(ee,Te,qe){var Pt=ie?[[],[]]:{};return Te=ln(Te,qe),mn(ee,function(bn,ai){var ts=Te(bn,ai,ee);K(Pt,bn,ts)}),Pt}}const ha=ea(function(K,ie,ee){st(K,ee)?K[ee].push(ie):K[ee]=[ie]}),Ua=ea(function(K,ie,ee){K[ee]=ie}),fr=ea(function(K,ie,ee){st(K,ee)?K[ee]++:K[ee]=1}),Fr=ea(function(K,ie,ee){K[ee?0:1].push(ie)},!0);function Wo(K){return null==K?0:Fn(K)?K.length:Qt(K).length}function ta(K,ie,ee){return ie in ee}const xa=Z(function(K,ie){var ee={},Te=ie[0];if(null==K)return ee;Ye(Te)?(ie.length>1&&(Te=yt(Te,ie[1])),ie=Kt(K)):(Te=ta,ie=Qi(ie,!1,!1),K=Object(K));for(var qe=0,Pt=ie.length;qe<Pt;qe++){var bn=ie[qe],ai=K[bn];Te(ai,bn,K)&&(ee[bn]=ai)}return ee}),ja=Z(function(K,ie){var Te,ee=ie[0];return Ye(ee)?(ee=pn(ee),ie.length>1&&(Te=ie[1])):(ie=Jn(Qi(ie,!1,!1),String),ee=function(qe,Pt){return!Ci(ie,Pt)}),xa(K,ee,Te)});function Ur(K,ie,ee){return D.call(K,0,Math.max(0,K.length-(null==ie||ee?1:ie)))}function mr(K,ie,ee){return null==K||K.length<1?null==ie||ee?void 0:[]:null==ie||ee?K[0]:Ur(K,K.length-ie)}function ka(K,ie,ee){return D.call(K,null==ie||ee?1:ie)}function io(K,ie,ee){return null==K||K.length<1?null==ie||ee?void 0:[]:null==ie||ee?K[K.length-1]:ka(K,Math.max(0,K.length-ie))}function Ia(K){return Es(K,Boolean)}function Br(K,ie){return Qi(K,ie,!1)}const Bs=Z(function(K,ie){return ie=Qi(ie,!0,!0),Es(K,function(ee){return!Ci(ie,ee)})}),vr=Z(function(K,ie){return Bs(K,ie)});function jr(K,ie,ee,Te){te(ie)||(Te=ee,ee=ie,ie=!1),null!=ee&&(ee=ln(ee,Te));for(var qe=[],Pt=[],bn=0,ai=Ln(K);bn<ai;bn++){var ts=K[bn],$i=ee?ee(ts,bn,K):ts;ie&&!ee?((!bn||Pt!==$i)&&qe.push(ts),Pt=$i):ee?Ci(Pt,$i)||(Pt.push($i),qe.push(ts)):Ci(qe,ts)||qe.push(ts)}return qe}const Ao=Z(function(K){return jr(Qi(K,!0,!0))});function Ca(K){for(var ie=[],ee=arguments.length,Te=0,qe=Ln(K);Te<qe;Te++){var Pt=K[Te];if(!Ci(ie,Pt)){var bn;for(bn=1;bn<ee&&Ci(arguments[bn],Pt);bn++);bn===ee&&ie.push(Pt)}}return ie}function ar(K){for(var ie=K&&da(K,Ln).length||0,ee=Array(ie),Te=0;Te<ie;Te++)ee[Te]=qr(K,Te);return ee}const hs=Z(ar);function Ds(K,ie){for(var ee={},Te=0,qe=Ln(K);Te<qe;Te++)ie?ee[K[Te]]=ie[Te]:ee[K[Te][0]]=K[Te][1];return ee}function ks(K,ie,ee){null==ie&&(ie=K||0,K=0),ee||(ee=ie<K?-1:1);for(var Te=Math.max(Math.ceil((ie-K)/ee),0),qe=Array(Te),Pt=0;Pt<Te;Pt++,K+=ee)qe[Pt]=K;return qe}function Yr(K,ie){if(null==ie||ie<1)return[];for(var ee=[],Te=0,qe=K.length;Te<qe;)ee.push(D.call(K,Te,Te+=ie));return ee}function Er(K,ie){return K._chain?P(ie).chain():ie}function nl(K){return mn(fs(K),function(ie){var ee=P[ie]=K[ie];P.prototype[ie]=function(){var Te=[this._wrapped];return m.apply(Te,arguments),Er(this,ee.apply(P,Te))}}),P}mn(["pop","push","reverse","shift","sort","splice","unshift"],function(K){var ie=A[K];P.prototype[K]=function(){var ee=this._wrapped;return null!=ee&&(ie.apply(ee,arguments),("shift"===K||"splice"===K)&&0===ee.length&&delete ee[0]),Er(this,ee)}}),mn(["concat","join","slice"],function(K){var ie=A[K];P.prototype[K]=function(){var ee=this._wrapped;return null!=ee&&(ee=ie.apply(ee,arguments)),Er(this,ee)}});const Yo=P;var so=nl(t);so._=so},1082:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{ClientModule:()=>na});var t=l(8434),o=l(9417),f=l(9262),A=l(5139),e=l(779),w=l(534),m=l(1683),D=l(3929),S=l(983),g=l(6354),k=l(9437),z=l(8284),u=l(1360),E=l(7594),B=l(455),V=l(5424);let F=(()=>{class Ge{constructor($e,It,at){this.clientService=$e,this.clientCachingService=It,this.errorService=at}resolve($e,It){const at=$e.paramMap.get("id");return this.clientService.getClient(at).pipe((0,g.T)(Sn=>(this.clientCachingService.unsavedCache.next(Sn),Sn)),(0,k.W)(Sn=>(404===Sn.status?this.errorService.resourceNotFound(z.v.client):this.errorService.handleError(Sn),(0,S.I)())))}static{this.\u0275fac=function(It){return new(It||Ge)(u.KVO(E._),u.KVO(B.e),u.KVO(V.I))}}static{this.\u0275prov=u.jDH({token:Ge,factory:Ge.\u0275fac})}}return Ge})();var M=l(3384),W=l(4442),y=l(8892),X=l(8556),Z=l(2036),v=l(4193),L=l(9475),Q=l(1993),te=l(8251),N=l(6599),fe=l(8389),oe=l(4367),R=l(8018),Fe=l(5731),we=l(3665),We=l(7175),rt=l(367),lt=l(9947),vt=l(9838),Ue=l(7468),Ye=l(7673),He=l(1594),it=l(5175),Le=l(6701),Ve=l(3165),Xe=l(1068),je=function(Ge){return Ge.Client="Client",Ge.WsFed="WsFed",Ge.Saml="Saml",Ge}(je||{}),ct=l(7263),st=l(9957),Qe=l(6411),ne=l(1176),Y=l(9069),he=l(9156),ge=l(345),s=l(2947),dt=l(5794),_t=l(3853),en=l(7499),Cn=l(6719),Wn=l(251),tn=l(3680),Ln=l(6728),ni=l(6406),ft=l(7778);let Qt=(()=>{class Ge{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return Ge})();var pe=l(8698),de=l(9550),P=l(8114),q=l(2467);const Ne=["cloneClientModal"],De=["addClaimTypeModal"];function et(Ge,gn){if(1&Ge&&(u.j41(0,"div",14)(1,"div"),u.EFF(2),u.k0s()()),2&Ge){const $e=u.XpG();u.R7$(2),u.JRh($e.errorCode)}}function gt(Ge,gn){if(1&Ge&&(u.j41(0,"app-form-row",11)(1,"app-form-toggle",15),u.nrm(2,"input",16),u.k0s()()),2&Ge){const $e=u.XpG();u.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",$e.clientType!==$e.clientTypes.Saml),u.R7$(),u.Y8G("id","cloneSecrets")}}function Kt(Ge,gn){1&Ge&&(u.j41(0,"app-form-row",11)(1,"app-form-toggle",15),u.nrm(2,"input",17),u.k0s()()),2&Ge&&(u.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),u.R7$(),u.Y8G("id","cloneCerts"))}let sn=(()=>{class Ge{constructor($e,It,at,Sn,Ri){this.clientsService=$e,this.fb=It,this.localize=at,this.router=Sn,this.translate=Ri,this.clientTypeKey=Qt.Default,this.clientTypes=Le.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",o.k0.required],clientName:["",o.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Qt.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Qt.WsFed)}cloneClient(){const $e=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,$e).subscribe(It=>{const at=It.headers.get("location");if(at){this.clearForm();const Sn=at.lastIndexOf("/"),Ri=at.substring(Sn+1),us=[this.localize.translateRoute("/clients"),Ri];this.router.navigate(us)}},It=>{this.errorCode=this.translate.instant(400===It.status?`Errors.CloneClientError.${It.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const $e=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,ct.Nl)(),clientName:$e,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,ct.Nl)()})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(E._),u.rXU(o.ze),u.rXU(A.QG),u.rXU(s.Ix),u.rXU(R.c$))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-clone-client"]],viewQuery:function(It,at){if(1&It&&(u.GBs(Ne,7),u.GBs(De,7)),2&It){let Sn;u.mGM(Sn=u.lsd())&&(at.cloneClientModal=Sn.first),u.mGM(Sn=u.lsd())&&(at.addClaimTypeModal=Sn.first)}},inputs:{client:"client",clientType:"clientType"},standalone:!1,decls:18,vars:20,consts:[["cloneClientModal",""],[3,"close","confirm","title","okText","type","inFlight"],["body",""],[1,"tw-text-left",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(It,at){if(1&It){const Sn=u.RV6();u.j41(0,"app-confirmation-modal",1,0),u.bIt("close",function(){return u.eBV(Sn),u.Njj(at.clearForm())})("confirm",function(){return u.eBV(Sn),u.Njj(at.cloneClient())}),u.qex(2,2),u.j41(3,"div",3),u.DNE(4,et,3,1,"div",4),u.j41(5,"app-form-row",5),u.nI1(6,"keyToString"),u.j41(7,"div",6),u.nrm(8,"input",7),u.j41(9,"button",8),u.bIt("click",function(){return u.eBV(Sn),u.Njj(at.setRandomID())}),u.nrm(10,"span",9),u.j41(11,"span",10),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()(),u.j41(14,"app-form-row",11),u.nrm(15,"input",12),u.k0s(),u.DNE(16,gt,3,5,"app-form-row",13)(17,Kt,3,5,"app-form-row",13),u.k0s(),u.bVm(),u.k0s()}2&It&&(u.Y8G("title","Clients.Clone.Title")("okText","Common.Save")("type",null)("inFlight",!at.newClientForm.valid),u.R7$(3),u.Y8G("formGroup",at.newClientForm),u.R7$(),u.Y8G("ngIf",""!=at.errorCode),u.R7$(),u.Y8G("id","cloneClientId")("label",u.bMT(6,16,at.clientTypeKey))("help","Clients.IDHelp"),u.R7$(7),u.JRh(u.bMT(13,18,"Common.GenerateRandom")),u.R7$(2),u.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===at.client.clientSecrets.length&&at.clientType!==at.clientTypes.Saml),u.R7$(2),u.Y8G("ngIf",0!==at.client.clientSecrets.length),u.R7$(),u.Y8G("ngIf",at.clientType===at.clientTypes.Saml))},dependencies:[t.bT,o.me,o.Zm,o.BC,o.cb,o.j4,o.JD,pe.Y,de.m,P.B,R.D9,q.C],encapsulation:2})}}return Ge})();const Rn=(Ge,gn)=>({title:Ge,link:gn}),Kn=Ge=>[Ge];function ei(Ge,gn){1&Ge&&(u.j41(0,"option",29),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Nav.Saml")))}function Ot(Ge,gn){1&Ge&&(u.j41(0,"option",30),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.RelyingParty.Heading")))}function Gn(Ge,gn){1&Ge&&(u.j41(0,"option",31),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.URLS.Title")))}function Zt(Ge,gn){1&Ge&&(u.j41(0,"option",32),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Secrets")))}function Tn(Ge,gn){1&Ge&&(u.j41(0,"option",33),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.CIBA")))}function In(Ge,gn){1&Ge&&(u.j41(0,"span",34),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" - ",u.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function rs(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function _i(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Bi(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Ni(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function os(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",19),2&Ge&&u.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let zn=(()=>{class Ge extends Qe.A{constructor($e,It,at,Sn,Ri,us,qi,Tr,Lr,zr,gr,Js,nr,al,Xo,Mi){super(Mi),this.clientsService=$e,this.clientCachingService=It,this.relyingPartyCachingService=at,this.serviceProviderCachingService=Sn,this.samlClientService=Ri,this.wsFedClientService=us,this.clientViewService=qi,this.titleService=Tr,this.translate=Lr,this.errorService=zr,this.router=gr,this.route=Js,this.toastr=nr,this.localize=al,this.licenseService=Xo}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe($e=>{this.client=$e;const It=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+vt.$9.SITE_TITLE;this.titleService.setTitle(It),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe($e=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe($e=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,He.$)()).subscribe({next:$e=>{this.licenseInfo=$e}})}get unsavedChanges(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}onDeactivate(){this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear()}checkSubmitEnabled(){const $e=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===$e.length||$e.some(It=>!It.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient($e){this.clientsService.deleteClient($e).subscribe(It=>{const at=this.localize.translateRoute("/clients");this.router.navigate([at]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},It=>{const at={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message"),forceToast:!0};(this.errorService.handleError(It,at)&st.I.Toast)!==st.I.Toast&&this.toastr.error(at.toastBody,at.toastTitle)})}saveClient(){const $e=this.buildStreamArray();(0,Ue.p)($e).subscribe(It=>{It.some(Sn=>Sn instanceof Ve.yz)?this.handleError(It):this.handleSave(It),this.checkSubmitEnabled()},It=>{this.errorService.handleError(It)})}buildStreamArray(){const $e=[];return this.clientCachingService.componentDirtyValidMap.size>0&&$e.push(this.clientsService.updateClient(this.client).pipe((0,g.T)(()=>je.Client),(0,k.W)(It=>(0,Ye.of)(It)))),this.client.clientType===Le.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,He.$)()).subscribe(It=>{const at=JSON.parse(JSON.stringify(It));at.claimMappings=(0,ct.Li)(It.claimMappings),$e.push(this.wsFedClientService.updateRelyingParty(this.client.id,at).pipe((0,g.T)(()=>je.WsFed),(0,k.W)(Sn=>(0,Ye.of)(Sn))))}):this.client.clientType===Le.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,He.$)()).subscribe(It=>{const at=JSON.parse(JSON.stringify(It));at.claimMappings=(0,ct.Li)(It.claimMappings),$e.push(this.samlClientService.updateServiceProvider(this.client.id,at).pipe((0,g.T)(()=>je.Saml),(0,k.W)(Sn=>(0,Ye.of)(Sn))))}),$e}handleSave($e){$e.forEach(It=>{switch(It){case je.WsFed:this.relyingPartyCachingService.onSave();break;case je.Saml:this.serviceProviderCachingService.onClientSave();break;case je.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError($e){const It=$e.filter(at=>at instanceof Ve.yz);It.length===$e.length?this.errorService.handleError(It[0],{forceToast:!0}):400===It[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(Xe.R9($e,It))):this.errorService.handleError(It[0],{forceToast:!0})}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute($e){this.router.navigate([$e],{relativeTo:this.route})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(E._),u.rXU(B.e),u.rXU(ne.z),u.rXU(Y.d),u.rXU(he.s),u.rXU(Z.c),u.rXU(it.q),u.rXU(ge.hE),u.rXU(R.c$),u.rXU(V.I),u.rXU(s.Ix),u.rXU(s.nX),u.rXU(dt.tw),u.rXU(A.QG),u.rXU(_t.X),u.rXU(en.o))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-edit-client"]],standalone:!1,features:[u.Jv_([it.q]),u.Vt3],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(It,at){if(1&It){const Sn=u.RV6();u.j41(0,"app-title-bar",2),u.nI1(1,"translate"),u.nI1(2,"localize"),u.qex(3,3),u.j41(4,"div",4)(5,"label",5),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"div",6)(9,"select",7),u.bIt("change",function(us){return u.eBV(Sn),u.Njj(at.mobRoute(us.target.value))}),u.j41(10,"option",8),u.EFF(11),u.nI1(12,"translate"),u.k0s(),u.j41(13,"option",8),u.EFF(14),u.nI1(15,"translate"),u.k0s(),u.DNE(16,ei,3,3,"option",9)(17,Ot,3,3,"option",10)(18,Gn,3,3,"option",11)(19,Zt,3,3,"option",12),u.j41(20,"option",13),u.EFF(21),u.nI1(22,"translate"),u.k0s(),u.DNE(23,Tn,3,3,"option",14),u.j41(24,"option",15),u.EFF(25),u.nI1(26,"translate"),u.k0s(),u.j41(27,"option",16),u.EFF(28),u.nI1(29,"translate"),u.DNE(30,In,3,3,"span",17),u.k0s()()()(),u.j41(31,"app-custom-tabs",18),u.nrm(32,"app-custom-tab",19),u.DNE(33,rs,1,2,"app-custom-tab",20)(34,_i,1,2,"app-custom-tab",20)(35,Bi,1,2,"app-custom-tab",20)(36,Ni,1,2,"app-custom-tab",20),u.nrm(37,"app-custom-tab",19),u.DNE(38,os,1,2,"app-custom-tab",20),u.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),u.k0s(),u.bVm(),u.k0s(),u.j41(41,"div",22),u.nrm(42,"router-outlet"),u.k0s(),u.j41(43,"app-button-bar")(44,"button",23),u.bIt("click",function(){return u.eBV(Sn),u.Njj(at.saveClient())}),u.j41(45,"span"),u.EFF(46),u.nI1(47,"translate"),u.k0s()(),u.j41(48,"button",24),u.bIt("click",function(){u.eBV(Sn);const us=u.sdS(57);return u.Njj(us.show())}),u.j41(49,"span"),u.EFF(50),u.nI1(51,"translate"),u.k0s()(),u.qex(52,25),u.j41(53,"button",26),u.bIt("click",function(){u.eBV(Sn);const us=u.sdS(59);return u.Njj(us.show())}),u.EFF(54),u.nI1(55,"translate"),u.k0s(),u.bVm(),u.k0s(),u.nrm(56,"app-clone-client",27,0),u.j41(58,"app-delete-confirmation-modal",28,1),u.bIt("delete",function(){return u.eBV(Sn),u.Njj(at.deleteClient(at.client.id))}),u.k0s(),u.nrm(60,"app-can-deactivate")}if(2&It){let Sn,Ri;u.Y8G("title",at.client.clientName)("crumbs",u.eq3(63,Kn,u.l_i(60,Rn,u.bMT(1,38,"Nav.Clients"),u.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),u.R7$(6),u.JRh(u.bMT(7,42,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(12,44,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(15,46,"Nav.Details")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(2),u.JRh(u.bMT(22,48,"Nav.Resources")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(2),u.JRh(u.bMT(26,50,"Common.Advanced")),u.R7$(3),u.SpI(" ",u.bMT(29,52,"Nav.Audits")," "),u.R7$(2),u.Y8G("ngIf",null!==(Sn=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==Sn&&Sn),u.R7$(2),u.Y8G("tabTitle","Nav.Details")("tabValue","details"),u.R7$(),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(),u.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),u.R7$(),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(),u.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),u.R7$(),u.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Ri=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==Ri&&Ri),u.R7$(4),u.Y8G("disabled",at.submitDisabled),u.R7$(2),u.JRh(u.bMT(47,54,"Common.SaveAll")),u.R7$(2),u.Y8G("disabled",at.isCloneDisabled()),u.R7$(2),u.JRh(u.bMT(51,56,"Clients.Clone.Label")),u.R7$(4),u.JRh(u.bMT(55,58,"Common.Delete.Title")),u.R7$(2),u.Y8G("client",at.client)("clientType",at.client.clientType),u.R7$(2),u.Y8G("resourceName",at.client.clientName)}},dependencies:[s.n3,t.bT,o.xH,o.y7,Cn.G,Wn.v,tn.z,Ln.E,ni.z,ft.w,sn,R.D9,A.tl],encapsulation:2})}}return Ge})();var fs=l(1413),xi=l(8412),wt=l(9172),Tt=l(1397),xt=l(1655);l(78),l(6772),l(1927);class Ei{constructor(gn){this.id=gn.id,this.clientId=gn.clientId,this.clientName=gn.clientName,this.description=gn.description,this.enabled=gn.enabled,this.selected=!1,this.nonEditable=gn.nonEditable,this.clientType=gn.clientType}}var Ti=l(6026),Dn=l(6976);class Vi{static{this.RestrictedClientTypes=[Le.s.ServerSide,Le.s.ServerSidePKCE,Le.s.Native,Le.s.NativePKCE,Le.s.Device,Le.s.Saml,Le.s.WsFed,Le.s.LegacyClientSide]}}var ji=l(6494),zi=l(7883),ls=l(7156),ut=l(7294),Rt=l(7384),yt=l(9988),nn=l(1744),Vn=l(1138),ln=l(2858),Xn=l(7212);class qn extends nn.$R{set selected(gn){this.isSelectable&&(this._selected=gn)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==nn.jD.Duplicate&&this.resourceType===nn.ot.Client}constructor(gn,$e=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=Vn.r.DoNotSet,this.certificateAction=ln.AU.DoNotSet,this.identifier=gn.identifier,this.resourceType=gn.resourceType,this.resourceState=gn.resourceState,this.displayType=gn.displayType,this.displayName=gn.displayName,this.conflicts=gn.conflicts,this.dependantClients=gn.dependantClients,this.hadSecrets=gn.hadSecrets,this.hadCertificates=gn.hadCertificates,this.existingHasSecrets=gn.existingHasSecrets,this.existingHasCertificates=gn.existingHasCertificates,this.selected=$e,this.certificates=new Xn.D}}var Ht=l(9113),oi=l(5826),Xt=l(2286),Un=l(7629),fn=l(6193);function Qn(Ge,gn){if(1&Ge&&(u.j41(0,"div",7),u.nrm(1,"div",8),u.k0s()),2&Ge){const $e=u.XpG();u.R7$(),u.xc7("width",$e.progressComplete+"%"),u.BMQ("aria-valuenow",$e.progressComplete)}}function vi(Ge,gn){}let Be=(()=>{class Ge{constructor($e){this.viewContainerRef=$e}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(u.c1b))}}static{this.\u0275dir=u.FsC({type:Ge,selectors:[["","appImportStepHost",""]],standalone:!1})}}return Ge})(),Ze=(()=>{class Ge{constructor($e){this.importWizardController=$e,this.finish=new u.bkB,this.warning=new u.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe($e=>{$e?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const $e=this.importWizardController.getCurrentStep();let It;if($e.component===ln.zI){const at=this.components.get($e);this.wizardHost.viewContainerRef.detach(),It=at??this.wizardHost.viewContainerRef.createComponent($e.component)}else It=this.wizardHost.viewContainerRef.createComponent($e.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(It.hostView),It.instance.data=$e.data,It.instance.importWizardController=this.importWizardController,this.title=$e.stepTitle,this.components.set($e,It),this.updateProgressBar(),this.hideProgressBar=It.instance.isWarningModal||It.instance.hideProgressBar,this.warning.emit(It.instance.isWarningModal)}closeButton(){const $e=this.importWizardController.getCurrentStep();$e.component!==Xt.E?this.importWizardController.cancel():this.components.get($e).instance.goNext()}getStepsProgressForCurrentStep(){const $e=this.importWizardController.getCurrentStep();if($e.component===Vn.u||$e.component===ln.zI){const It=this.importWizardController.stepsCompleted.filter(Sn=>Sn.component===$e.component).length,at=It+this.importWizardController.stepsAhead.filter(Sn=>Sn.component===$e.component).length;return 1===at?"":"("+(It+1)+"/"+at+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==Un.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach($e=>{$e.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(fn.V))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-import-wizard-host"]],viewQuery:function(It,at){if(1&It&&u.GBs(Be,7),2&It){let Sn;u.mGM(Sn=u.lsd())&&(at.wizardHost=Sn.first)}},outputs:{finish:"finish",warning:"warning"},standalone:!1,decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(It,at){1&It&&(u.j41(0,"div",0)(1,"h5",1),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"button",2),u.bIt("click",function(){return at.closeButton()}),u.nrm(5,"span",3),u.j41(6,"span",4),u.EFF(7),u.nI1(8,"translate"),u.k0s()()(),u.DNE(9,Qn,2,3,"div",5),u.j41(10,"div"),u.DNE(11,vi,0,0,"ng-template",6),u.k0s()),2&It&&(u.R7$(2),u.Lme("",u.bMT(3,5,at.title)," ",at.progressStepString,""),u.R7$(2),u.Y8G("disabled",at.disableCloseButton()),u.R7$(3),u.JRh(u.bMT(8,7,"Common.Close")),u.R7$(2),u.Y8G("ngIf",!at.hideProgressBar))},dependencies:[t.bT,Be,R.D9],encapsulation:2})}}return Ge})();function ht(Ge,gn){1&Ge&&(u.nrm(0,"app-simple-loader",17),u.nI1(1,"translate")),2&Ge&&u.Y8G("text",u.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function jt(Ge,gn){if(1&Ge&&(u.j41(0,"div",23)(1,"div"),u.EFF(2),u.k0s()()),2&Ge){const $e=u.XpG(3);u.R7$(2),u.JRh($e.errorCode)}}function Jt(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"div")(1,"div",18)(2,"p"),u.EFF(3),u.nI1(4,"translate"),u.k0s()(),u.DNE(5,jt,3,1,"div",19),u.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),u.bIt("change",function(at){u.eBV($e);const Sn=u.XpG(2);return u.Njj(Sn.handleFileInput(at.target.files))}),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.R7$(3),u.JRh(u.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),u.R7$(2),u.Y8G("ngIf",""!=$e.errorCode),u.R7$(),u.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function Mn(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"div")(1,"div",3)(2,"h5",4),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"button",5),u.nI1(6,"translate"),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hide())}),u.nrm(7,"span",6),u.k0s()(),u.j41(8,"div",7),u.nrm(9,"div",8,0),u.k0s(),u.j41(11,"div",9),u.DNE(12,ht,2,3,"app-simple-loader",10)(13,Jt,11,8,"div",2),u.k0s(),u.nrm(14,"div",11),u.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.startImport())}),u.EFF(19),u.nI1(20,"translate"),u.k0s()(),u.j41(21,"button",16),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hide())}),u.EFF(22),u.nI1(23,"translate"),u.k0s()()()()}if(2&Ge){const $e=u.XpG();u.R7$(2),u.Y8G("id",$e.titleId),u.R7$(),u.JRh(u.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),u.R7$(2),u.Y8G("disabled",$e.disableButtons),u.BMQ("aria-label",u.bMT(6,12,"Common.Close")),u.R7$(7),u.Y8G("ngIf",$e.isLoading),u.R7$(),u.Y8G("ngIf",!$e.isLoading),u.R7$(5),u.Y8G("disabled",$e.disableButtons||null==$e.fileToUpload),u.R7$(),u.SpI(" ",u.bMT(20,14,"Common.Start")," "),u.R7$(2),u.Y8G("disabled",$e.disableButtons),u.R7$(),u.SpI(" ",u.bMT(23,16,"Common.Cancel")," ")}}function hi(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"div")(1,"app-import-wizard-host",24),u.bIt("warning",function(at){u.eBV($e);const Sn=u.XpG();return u.Njj(Sn.onWarning(at))})("finish",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.onFinish())}),u.k0s()()}}let ri=(()=>{class Ge{constructor($e,It,at,Sn){this.translate=$e,this.clientImportService=It,this.importWizardService=at,this.modalService=Sn,this.finish=new u.bkB,this.titleId=Ti.R.TileId,this.wizardTypes=yt.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(Ri=>{this.reset(),null!=Ri&&(this.errorCode=Ri)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning($e){this.isWarningModal=$e}hide(){this.reset(),this.modalService.hide(Ti.R.Id)}handleFileInput($e){this.fileToUpload=$e.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then($e=>{this.clientImportService.validateImportFile($e).subscribe(It=>{try{JSON.parse($e)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage($e);const at=It.importResources.map(Sn=>new qn(Sn));this.importWizardService.cache.next(at),this.isLoading=!1,this.showWizard=!0},It=>{if(400===It.status){this.reset();const at=It.error;this.errorCode=this.translate.instant(`Errors.${at.errorCode}`),"ValidateImportError.WrongVersion"===at.errorCode&&(this.errorCode=this.errorCode.replace("{0}",at.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",at.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage($e){this.storage.setItem("importFile",$e)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(R.c$),u.rXU(Ht.qJ),u.rXU(oi.o),u.rXU(e.I8))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},standalone:!1,decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(It,at){1&It&&u.DNE(0,Mn,24,18,"div",2)(1,hi,2,0,"div",2),2&It&&(u.Y8G("ngIf",!at.showWizard),u.R7$(),u.Y8G("ngIf",at.showWizard))},dependencies:[t.bT,Rt.d,pe.Y,Ze,R.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ge})();var Nn=l(7329),Ki=l(7957),Ji=l(8575);class Ms{constructor(gn){this.clientType=gn}}class $t{constructor(gn){this.clientType=gn}}let Ai=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",o.k0.required]})}getStepSummary(){const $e=new Map;return $e.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===Le.s.BrowserBased||this.data.clientType===Le.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,ct.kI)(this.callbackUrlForm.get("callbackUrl").value),$e.set("corsurl",[this.corsUrl])),$e}getStepDTO(){const $e=this.getStepSummary(),It={};return $e.forEach((at,Sn)=>{"corsurl"===Sn&&(Sn="allowedCorsOrigins"),"callbackUrl"===Sn&&(Sn="redirectUris"),It[Sn]=at}),It}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(o.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-callback-url"]],inputs:{data:"data"},standalone:!1,decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.nrm(1,"p",1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"form",2)(4,"app-form-row",3),u.nrm(5,"input",4),u.k0s()()),2&It&&(u.R7$(),u.Y8G("innerHTML",u.bMT(2,6,"Clients.CallbackURL"),u.npT),u.R7$(2),u.Y8G("formGroup",at.callbackUrlForm),u.R7$(),u.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[o.qT,o.me,o.BC,o.cb,o.j4,o.JD,pe.Y,R.D9],encapsulation:2})}}return Ge})();class Et{constructor(gn,$e=Qt.Default){this.clientType=gn,this.clientIdKey=$e}}function yn(Ge,gn){1&Ge&&(u.j41(0,"div")(1,"app-form-row",2),u.nrm(2,"input",13),u.k0s(),u.j41(3,"app-form-row",2),u.nrm(4,"input",14),u.k0s()()),2&Ge&&(u.R7$(),u.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),u.R7$(2),u.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function Yt(Ge,gn){1&Ge&&(u.j41(0,"app-form-row",10)(1,"app-form-toggle",15),u.nrm(2,"input",16),u.k0s()()),2&Ge&&(u.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),u.R7$(),u.Y8G("id","requireConsent"))}let Fn=(()=>{class Ge{constructor($e){this.fb=$e,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[o.k0.required,o.k0.maxLength(100),o.k0.pattern(/^\S*$/)]],clientName:["",[o.k0.required,o.k0.maxLength(50)]],description:["",o.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===Le.s.Native||this.data.clientType===Le.s.NativePKCE||this.data.clientType===Le.s.BrowserBased||this.data.clientType===Le.s.LegacyClientSide||this.data.clientType===Le.s.ServerSide||this.data.clientType===Le.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new o.hs("",o.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new o.hs("",o.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new o.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,ct.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const $e=new Map;for(const It in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(It)&&$e.set("clientId"===It?this.clientIdKey:It,[this.descriptionForm.value[It]]);return $e.delete("clientType"),$e}getStepDTO(){const $e=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&($e.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&($e.logoUri=null)),$e}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(o.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!1,decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(It,at){1&It&&(u.j41(0,"div",0)(1,"p"),u.EFF(2),u.nI1(3,"translate"),u.k0s()(),u.j41(4,"div",1)(5,"app-form-row",2),u.nI1(6,"keyToString"),u.j41(7,"div",3),u.nrm(8,"input",4),u.j41(9,"button",5),u.bIt("click",function(){return at.setRandomID()}),u.nrm(10,"span",6),u.j41(11,"span",7),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()(),u.j41(14,"app-form-row",2),u.nrm(15,"input",8),u.k0s(),u.DNE(16,yn,5,6,"div",9),u.j41(17,"app-form-row",10)(18,"textarea",11),u.bIt("blur",function(){return at.desFocus=!at.desFocus})("focus",function(){return at.desFocus=!at.desFocus}),u.k0s()(),u.DNE(19,Yt,3,5,"app-form-row",12),u.k0s()),2&It&&(u.R7$(2),u.JRh(u.bMT(3,15,"Clients.EnterBasicDetails")),u.R7$(2),u.Y8G("formGroup",at.descriptionForm),u.R7$(),u.Y8G("id","ClientId")("label",u.bMT(6,17,at.clientIdKey))("help","Clients.IDHelp"),u.R7$(7),u.JRh(u.bMT(13,19,"Common.GenerateRandom")),u.R7$(2),u.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),u.R7$(2),u.Y8G("ngIf",at.hasExtraFields),u.R7$(),u.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!at.hasExtraFields),u.R7$(2),u.Y8G("ngIf",at.hasExtraFields))},dependencies:[t.bT,o.me,o.Zm,o.BC,o.cb,o.j4,o.JD,pe.Y,de.m,R.D9,q.C],encapsulation:2})}}return Ge})();var Qi=l(9767),Bt=l(9764);const ue=["secretPicker"];let Ae=(()=>{class Ge{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const $e=new Map;return $e.set("secrets",this.secrets.map(It=>It.type)),$e}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe($e=>{this.secretPicker.clientSecrets.push($e)}),this.secretPicker.secretsRemoveStream.subscribe($e=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf($e),1)})}filePickerStateChanged($e){this.filePickerClosed=!$e}static{this.\u0275fac=function(It){return new(It||Ge)}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-client-secret-picker"]],viewQuery:function(It,at){if(1&It&&u.GBs(ue,7),2&It){let Sn;u.mGM(Sn=u.lsd())&&(at.secretPicker=Sn.first)}},standalone:!1,decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(It,at){if(1&It){const Sn=u.RV6();u.j41(0,"p",1),u.EFF(1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"app-secret-picker",2,0),u.bIt("filepickerDisplayed",function(us){return u.eBV(Sn),u.Njj(at.filePickerStateChanged(us))}),u.k0s()}2&It&&(u.R7$(),u.JRh(u.bMT(2,4,"Clients.NativeApp.Secrets")),u.R7$(2),u.Y8G("clientSecrets",at.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[Bt.s,R.D9],encapsulation:2,data:{animation:[(0,Qi.Ws)()]}})}}return Ge})();function ae(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.SloEndpoints")))}function Ce(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.AcsEndpoints")))}function Pe(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.ArsEndpoints")))}function At(Ge,gn){1&Ge&&(u.j41(0,"option",13),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Post")))}function pn(Ge,gn){1&Ge&&(u.j41(0,"option",14),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Redirect")))}function Bn(Ge,gn){1&Ge&&(u.j41(0,"option",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Artifact")))}function Wi(Ge,gn){1&Ge&&(u.j41(0,"option",16),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Soap")))}let Di=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){const $e=[o.k0.pattern("^https?://.*$")],It=[];"ACSEndpoint"===this.data.endpointType&&($e.push(o.k0.required),It.push(o.k0.required)),this.endpointForm=this.fb.group({location:["",$e],index:[0,[o.k0.min(0),o.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",It]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const $e=this.endpointForm.get("location"),It=this.endpointForm.get("binding");this.valueChangesSub=$e.valueChanges.subscribe(at=>{It.setValidators(at.length>0?o.k0.required:null),It.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let $e,It;switch(this.data.endpointType){case"SLOEndpoint":$e="SLOBindingType",It="SLOEndpointIndex";break;case"ACSEndpoint":$e="ACSBindingType",It="ACSEndpointIndex";break;default:$e="ARSBindingType",It="ARSEndpointIndex"}const at=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[$e]:this.endpointForm.get("binding").value,[It]:at}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(o.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-endpoints"]],standalone:!1,decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.DNE(1,ae,3,3,"p",1)(2,Ce,3,3,"p",1)(3,Pe,3,3,"p",1),u.k0s(),u.j41(4,"form",2)(5,"app-form-row",3),u.nrm(6,"input",4),u.k0s(),u.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),u.DNE(10,At,3,3,"option",7)(11,pn,3,3,"option",8)(12,Bn,3,3,"option",9)(13,Wi,3,3,"option",10),u.k0s()()(),u.j41(14,"app-form-row",11),u.nrm(15,"input",12),u.k0s()()),2&It&&(u.R7$(),u.Y8G("ngIf","SLOEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("ngIf","ACSEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("formGroup",at.endpointForm),u.R7$(),u.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==at.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==at.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),u.R7$(2),u.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),u.R7$(3),u.Y8G("ngIf","ARSEndpoint"!=at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"!=at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"!=at.data.endpointType),u.R7$(),u.Y8G("ngIf","ARSEndpoint"==at.data.endpointType),u.R7$(),u.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[t.bT,o.qT,o.xH,o.y7,o.me,o.Q0,o.wz,o.BC,o.cb,o.VZ,o.j4,o.JD,pe.Y,R.D9],encapsulation:2})}}return Ge})(),li=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",o.k0.pattern("^https?://.*$")]})}getStepSummary(){const $e="logoutUrl",It=new Map,at=this.logoutUrlForm.value[$e];return(0,ct.gP)(at)||It.set($e,[at]),It}getStepDTO(){const $e=this.logoutUrlForm.value.logoutUrl;return(0,ct.gP)($e)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[$e]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(o.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-logout-url"]],inputs:{data:"data"},standalone:!1,decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.nrm(1,"p",1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"form",2)(4,"app-form-row",3),u.nrm(5,"input",4),u.k0s()()),2&It&&(u.R7$(),u.Y8G("innerHTML",u.bMT(2,6,"Clients.PostLogoutURL"),u.npT),u.R7$(2),u.Y8G("formGroup",at.logoutUrlForm),u.R7$(),u.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[o.qT,o.me,o.BC,o.cb,o.j4,o.JD,pe.Y,R.D9],encapsulation:2})}}return Ge})(),Ui=(()=>{class Ge{constructor($e){this.fb=$e}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",o.k0.required],pollingInterval:["",o.k0.required]})}getStepSummary(){const $e=new Map;return $e.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),$e.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===Le.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,$e.set("cibaLifetime",[this.cibaLifetime.toString()]),$e.set("pollingInterval",[this.pollingInterval.toString()])),$e}getStepDTO(){const $e=this.getStepSummary(),It={};return $e.forEach((at,Sn)=>{"cibaLifetime"===Sn&&(Sn="cibaLifetime"),"pollingInterval"===Sn&&(Sn="pollingInterval"),It[Sn]=at[0]}),It}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(o.ze))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},standalone:!1,decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(It,at){1&It&&(u.j41(0,"div",0),u.nrm(1,"p",1),u.nI1(2,"translate"),u.k0s(),u.j41(3,"form",2)(4,"app-form-row",3),u.nrm(5,"input",4),u.k0s(),u.j41(6,"app-form-row",5),u.nrm(7,"input",6),u.k0s()()),2&It&&(u.R7$(),u.Y8G("innerHTML",u.bMT(2,9,"Clients.CIBAConfiguration"),u.npT),u.R7$(2),u.Y8G("formGroup",at.cibaConfigForm),u.R7$(),u.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),u.R7$(2),u.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,pe.Y,R.D9],encapsulation:2})}}return Ge})();const Yi=["commonPicker"];let Os=(()=>{class Ge{constructor($e,It){this.wizardResourceService=It,this.resourceType=$e}hosted(){}ngOnInit(){}getStepSummary(){const It=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(at=>at.name);return new Map([[this.resourceType,It]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(at=>at.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(It){u.QTQ()}}static{this.\u0275dir=u.FsC({type:Ge,viewQuery:function(It,at){if(1&It&&u.GBs(Yi,7),2&It){let Sn;u.mGM(Sn=u.lsd())&&(at.commonPicker=Sn.first)}}})}}return Ge})();var Fs=l(8261),Or=l(2653),Zr=l(4112);function Dt(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function dn(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Vt=(()=>{class Ge extends Os{constructor($e,It){super("identityResources",It),this.identityResourceService=$e,this.wizardResourceService=It,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe($e=>{const It=$e.find(at=>"openid"===at.name);It&&($e.splice($e.indexOf(It),1),this.assignedResources=[It],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=$e})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe($e=>{this.resources=(0,ct.Yt)(this.resources.slice(),$e);const It=this.assignedResources.slice();this.assignedResources=It.concat($e),this.wizardResourceService.assignedIdentityResources=this.assignedResources}),this.commonPicker.unAssignedStream.subscribe($e=>{const It=this.resources;this.assignedResources=(0,ct.Yt)(this.assignedResources.slice(),$e),this.resources=It.concat($e),this.wizardResourceService.assignedIdentityResources=this.assignedResources})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(Fs.A),u.rXU(Or.f))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["wizard-identity-resource-picker"]],standalone:!1,features:[u.Vt3],decls:5,vars:5,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput","availableSearch"]],template:function(It,at){1&It&&(u.j41(0,"div",1),u.DNE(1,Dt,3,3,"p",2)(2,dn,3,3,"p",2),u.k0s(),u.nrm(3,"app-common-picker",3,0)),2&It&&(u.R7$(),u.Y8G("ngIf","protectedResources"==at.resourceType),u.R7$(),u.Y8G("ngIf","identityResources"==at.resourceType),u.R7$(),u.Y8G("assignedInput",at.assignedResources)("availableInput",at.resources)("availableSearch",!0))},dependencies:[t.bT,Zr.f,R.D9],encapsulation:2})}}return Ge})();var mn=l(5893);function Jn(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function yi(Ge,gn){1&Ge&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.IdentityResourcesAccess")))}let fi=(()=>{class Ge extends Os{constructor($e,It){super("protectedResources",It),this.protectedResourceService=$e,this.wizardResourceService=It,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe($e=>{const It=[];$e.forEach(at=>{at.scopes.forEach(Sn=>{It.find(Ri=>Ri.name==Sn.name)||It.push(Sn)})}),this.resources=It})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe($e=>{this.resources=(0,ct.Yt)(this.resources.slice(),$e);const It=this.assignedResources.slice();this.assignedResources=It.concat($e),this.wizardResourceService.assignedProtectedResources=this.assignedResources}),this.commonPicker.unAssignedStream.subscribe($e=>{const It=this.resources;this.assignedResources=(0,ct.Yt)(this.assignedResources.slice(),$e),this.resources=It.concat($e),this.wizardResourceService.assignedProtectedResources=this.assignedResources})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(mn.x),u.rXU(Or.f))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["wizard-protected-resource-picker"]],standalone:!1,features:[u.Vt3],decls:5,vars:5,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput","availableSearch"]],template:function(It,at){1&It&&(u.j41(0,"div",1),u.DNE(1,Jn,3,3,"p",2)(2,yi,3,3,"p",2),u.k0s(),u.nrm(3,"app-common-picker",3,0)),2&It&&(u.R7$(),u.Y8G("ngIf","protectedResources"==at.resourceType),u.R7$(),u.Y8G("ngIf","identityResources"==at.resourceType),u.R7$(),u.Y8G("assignedInput",at.assignedResources)("availableInput",at.resources)("availableSearch",!0))},dependencies:[t.bT,Zr.f,R.D9],encapsulation:2})}}return Ge})();var Us=l(1410),Es=l(9196),xr=l(2552);function xs(Ge,gn){if(1&Ge&&(u.j41(0,"option",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=gn.$implicit;u.Y8G("value",$e),u.R7$(),u.JRh(u.bMT(2,2,"Clients.WizardTypes."+$e))}}function ua(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"form",12)(1,"app-form-row",13)(2,"div",14)(3,"select",15,0),u.bIt("change",function(){u.eBV($e);const at=u.sdS(4),Sn=u.XpG(2);return u.Njj(Sn.setActive(at.value))}),u.DNE(5,xs,3,4,"option",16),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.Y8G("formGroup",$e.webAppSelectForm),u.R7$(),u.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),u.R7$(4),u.Y8G("ngForOf",$e.webAppTypes)}}function Ci(Ge,gn){if(1&Ge&&(u.j41(0,"option",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=gn.$implicit;u.Y8G("value",$e),u.R7$(),u.JRh(u.bMT(2,2,"Clients.WizardTypes."+$e))}}function Ir(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"form",18)(1,"app-form-row",13)(2,"div",14)(3,"select",19,1),u.bIt("change",function(){u.eBV($e);const at=u.sdS(4),Sn=u.XpG(2);return u.Njj(Sn.setActive(at.value))}),u.DNE(5,Ci,3,4,"option",16),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.Y8G("formGroup",$e.robotAppSelectForm),u.R7$(),u.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),u.R7$(4),u.Y8G("ngForOf",$e.robotAppTypes)}}function qr(Ge,gn){if(1&Ge&&(u.j41(0,"option",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=gn.$implicit;u.Y8G("value",$e),u.R7$(),u.JRh(u.bMT(2,2,"Clients.WizardTypes."+$e))}}function Oa(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"form",20)(1,"app-form-row",13)(2,"div",14)(3,"select",21,2),u.bIt("change",function(){u.eBV($e);const at=u.sdS(4),Sn=u.XpG(2);return u.Njj(Sn.setActive(at.value))}),u.DNE(5,qr,3,4,"option",16),u.k0s()()()()}if(2&Ge){const $e=u.XpG(2);u.Y8G("formGroup",$e.nativeAppSelectForm),u.R7$(),u.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),u.R7$(4),u.Y8G("ngForOf",$e.nativeAppTypes)}}function da(Ge,gn){if(1&Ge&&u.DNE(0,ua,6,5,"form",9)(1,Ir,6,5,"form",10)(2,Oa,6,5,"form",11),2&Ge){const $e=u.XpG();u.Y8G("ngIf",!$e.isStarterMode&&($e.activeType===$e.wizardTypes.WebApplication||$e.activeType===$e.wizardTypes.PKCEWebApplication)),u.R7$(),u.Y8G("ngIf",$e.activeType===$e.wizardTypes.RobotApplication||$e.activeType===$e.wizardTypes.CIBARobotApplication),u.R7$(),u.Y8G("ngIf",!$e.isStarterMode&&($e.activeType===$e.wizardTypes.NativeApplication||$e.activeType===$e.wizardTypes.PKCENativeApplication))}}function fo(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Home.Title")))}function ma(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.SPA.Title")))}function Sr(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.WebApp.Title")))}function kr(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.PKCEWebApp.Title")))}function Wr(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.NativeApp.Title")))}function Pr(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.PKCENativeApp.Title")))}function ea(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.MachineToMachine.Title")))}function ha(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function Ua(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.DeviceFlow.Title")))}function fr(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.Saml.Title")))}function Fr(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.WsFed.Title")))}function Wo(Ge,gn){1&Ge&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.LegacySPA.Title")))}function ta(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.Home.Description"),u.npT)}function xa(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.SPA.Description"),u.npT)}function ja(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.WebApp.Description"),u.npT)}function Ur(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.PKCEWebApp.Description"),u.npT)}function mr(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.NativeApp.Description"),u.npT)}function ka(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.PKCENativeApp.Description"),u.npT)}function io(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.MachineToMachine.Description"),u.npT)}function Ia(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),u.npT)}function Br(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.DeviceFlow.Description"),u.npT)}function Bs(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.Saml.Description"),u.npT)}function vr(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.WsFed.Description"),u.npT)}function jr(Ge,gn){1&Ge&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ge&&u.Y8G("innerHTML",u.bMT(1,1,"Clients.LegacySPA.Description"),u.npT)}let Ao=(()=>{class Ge{get isDuende(){return this.data===Us.y.Duende}constructor($e,It,at){this.licenseService=$e,this.fb=It,this.configService=at,this.wizardTypes=yt.$,this.activeType=yt.$.SinglePageApplication,this.webAppTypes=[yt.$.PKCEWebApplication,yt.$.WebApplication],this.robotAppTypes=[yt.$.RobotApplication,yt.$.CIBARobotApplication],this.nativeAppTypes=[yt.$.PKCENativeApplication,yt.$.NativeApplication],this.starterModeProtectedSetups=[yt.$.WebApplication,yt.$.PKCEWebApplication,yt.$.PKCENativeApplication,yt.$.NativeApplication,yt.$.DeviceApplication,yt.$.SamlApplication,yt.$.WsFedApplication,yt.$.LegacySinglePageApplication]}hosted(){}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,He.$)()).subscribe($e=>{this.isStarterMode=$e.isStarterLicense()}),this.configService.getConfig().pipe((0,He.$)()).subscribe({next:$e=>{this.samlDisabled=!$e.samlPersistenceAvailable}})}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!this.isStarterMode||!this.starterModeProtectedType()}selectedType(){return this.activeType}onNext(){throw new Error("Method not implemented.")}buildOptionsArray(){var $e=[{id:"spaBtn",btnId:"spaTestBtn",title:"Clients.SPA.Title",summary:"Clients.SPA.Summary",icon:"fab fa-chrome",type:yt.$.SinglePageApplication,selectedTypes:[yt.$.SinglePageApplication],starterMode:!0,disabled:!1},{id:"webAppBtn",btnId:"webAppTestBtn",title:"Clients.WebApp.Title",summary:"Clients.WebApp.Summary",icon:"fas fa-globe",type:yt.$.PKCEWebApplication,selectedTypes:[yt.$.WebApplication,yt.$.PKCEWebApplication],starterMode:!1,disabled:!1},{id:"nativeBtn",btnId:"nativeTestBtn",title:"Clients.NativeApp.Title",summary:"Clients.PKCENativeApp.Summary",icon:"fas fa-mobile-alt",type:yt.$.PKCENativeApplication,selectedTypes:[yt.$.NativeApplication,yt.$.PKCENativeApplication],starterMode:!1,disabled:!1},{id:"robotBtn",btnId:"robotTestBtn",title:"Clients.MachineToMachine.Title",summary:"Clients.MachineToMachine.Summary",icon:"fas fa-microchip",type:yt.$.RobotApplication,selectedTypes:[yt.$.RobotApplication,yt.$.CIBARobotApplication],starterMode:!0,disabled:!1},{id:"deviceBtn",btnId:"deviceTestBtn",title:"Clients.DeviceFlow.Title",summary:"Clients.DeviceFlow.Summary",icon:"fas fa-wifi",type:yt.$.DeviceApplication,selectedTypes:[yt.$.DeviceApplication],starterMode:!1,disabled:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"Clients.Saml.Title",summary:"Clients.Saml.Summary",icon:"fas fa-code",type:yt.$.SamlApplication,selectedTypes:[yt.$.SamlApplication],starterMode:!1,disabled:this.samlDisabled},{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:"Clients.LegacySPA.Title",summary:"Clients.LegacySPA.Summary",icon:"fab fa-chrome",type:yt.$.LegacySinglePageApplication,selectedTypes:[yt.$.LegacySinglePageApplication],starterMode:!1,disabled:!1}];return this.isDuende&&$e.push({id:"wsfedBtn",btnId:"wsfedTestBtn",title:"Clients.WsFed.Title",summary:"Clients.WsFed.Summary",icon:"far fa-id-card",type:yt.$.WsFedApplication,selectedTypes:[yt.$.WsFedApplication],starterMode:!1,disabled:!1}),$e}setActive($e){this.activeType=$e,this.setWebAppSelection($e),this.setRobotAppSelection($e),this.setNativeAppSelection($e)}starterModeProtectedType(){return this.starterModeProtectedSetups.includes(this.activeType)}setWebAppSelection($e){($e===yt.$.WebApplication||$e===yt.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:$e}))}setRobotAppSelection($e){this.isDuende&&($e===yt.$.RobotApplication||$e===yt.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:$e}))}setNativeAppSelection($e){($e===yt.$.NativeApplication||$e===yt.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:$e}))}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(_t.X),u.rXU(o.ze),u.rXU(Es.w))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-client-type-select"]],inputs:{data:"data"},standalone:!1,decls:32,vars:9,consts:[["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"]],template:function(It,at){if(1&It&&(u.j41(0,"div",3),u.nrm(1,"p",4),u.nI1(2,"translate"),u.k0s(),u.j41(3,"app-type-selector",5),u.bIt("select",function(Ri){return at.setActive(Ri)}),u.k0s(),u.DNE(4,da,3,3),u.j41(5,"div",6)(6,"h2",7),u.nrm(7,"span",8),u.DNE(8,fo,3,3,"span")(9,ma,3,3,"span")(10,Sr,3,3,"span")(11,kr,3,3,"span")(12,Wr,3,3,"span")(13,Pr,3,3,"span")(14,ea,3,3,"span")(15,ha,3,3,"span")(16,Ua,3,3,"span")(17,fr,3,3,"span")(18,Fr,3,3,"span")(19,Wo,3,3,"span"),u.k0s(),u.DNE(20,ta,2,3,"p",4)(21,xa,2,3,"p",4)(22,ja,2,3,"p",4)(23,Ur,2,3,"p",4)(24,mr,2,3,"p",4)(25,ka,2,3,"p",4)(26,io,2,3,"p",4)(27,Ia,2,3,"p",4)(28,Br,2,3,"p",4)(29,Bs,2,3,"p",4)(30,vr,2,3,"p",4)(31,jr,2,3,"p",4),u.k0s()),2&It){let Sn,Ri;u.R7$(),u.Y8G("innerHTML",u.bMT(2,7,"Clients.Home.Description"),u.npT),u.R7$(2),u.Y8G("activeType",at.activeType)("isStarterMode",at.isStarterMode)("options",at.buildOptionsArray()),u.R7$(),u.vxM(at.isDuende?4:-1),u.R7$(4),u.vxM((Sn=at.activeType)===at.wizardTypes.Home?8:Sn===at.wizardTypes.SinglePageApplication?9:Sn===at.wizardTypes.WebApplication?10:Sn===at.wizardTypes.PKCEWebApplication?11:Sn===at.wizardTypes.NativeApplication?12:Sn===at.wizardTypes.PKCENativeApplication?13:Sn===at.wizardTypes.RobotApplication?14:Sn===at.wizardTypes.CIBARobotApplication?15:Sn===at.wizardTypes.DeviceApplication?16:Sn===at.wizardTypes.SamlApplication?17:Sn===at.wizardTypes.WsFedApplication?18:Sn===at.wizardTypes.LegacySinglePageApplication?19:-1),u.R7$(12),u.vxM((Ri=at.activeType)===at.wizardTypes.Home?20:Ri===at.wizardTypes.SinglePageApplication?21:Ri===at.wizardTypes.WebApplication?22:Ri===at.wizardTypes.PKCEWebApplication?23:Ri===at.wizardTypes.NativeApplication?24:Ri===at.wizardTypes.PKCENativeApplication?25:Ri===at.wizardTypes.RobotApplication?26:Ri===at.wizardTypes.CIBARobotApplication?27:Ri===at.wizardTypes.DeviceApplication?28:Ri===at.wizardTypes.SamlApplication?29:Ri===at.wizardTypes.WsFedApplication?30:Ri===at.wizardTypes.LegacySinglePageApplication?31:-1)}},dependencies:[t.Sq,t.bT,o.qT,o.xH,o.y7,o.wz,o.BC,o.cb,o.j4,o.JD,pe.Y,xr.N,R.D9],encapsulation:2})}}return Ge})();class Ca extends Ki.p{constructor(){super(),this.nameComponentMap.set(yt.$.Home,[new Nn.W(Ao,Us.y.Duende)]),this.nameComponentMap.set(yt.$.SinglePageApplication,[new Nn.W(Fn,new Et(Le.s.BrowserBased)),new Nn.W(Ai,new $t(Le.s.BrowserBased)),new Nn.W(li,new Ms(Le.s.BrowserBased)),new Nn.W(Vt,{}),new Nn.W(fi,{})]),this.nameComponentMap.set(yt.$.LegacySinglePageApplication,[new Nn.W(Fn,new Et(Le.s.LegacyClientSide)),new Nn.W(Ai,new $t(Le.s.LegacyClientSide)),new Nn.W(li,new Ms(Le.s.LegacyClientSide)),new Nn.W(Vt,{}),new Nn.W(fi,{})]),this.nameComponentMap.set(yt.$.SamlApplication,[new Nn.W(Fn,new Et(Le.s.Saml,Qt.Saml)),new Nn.W(Di,{endpointType:"ACSEndpoint"}),new Nn.W(Di,{endpointType:"SLOEndpoint"}),new Nn.W(Di,{endpointType:"ARSEndpoint"}),new Nn.W(Vt)]),this.nameComponentMap.set(yt.$.WsFedApplication,[new Nn.W(Fn,new Et(Le.s.WsFed,Qt.WsFed)),new Nn.W(Ai,new $t(Le.s.WsFed)),new Nn.W(Vt)]),this.nameComponentMap.set(yt.$.DeviceApplication,[new Nn.W(Fn,new Et(Le.s.Device)),new Nn.W(fi,{}),new Nn.W(Vt,{})]),this.nameComponentMap.set(yt.$.RobotApplication,[new Nn.W(Fn,new Et(Le.s.Machine)),new Nn.W(fi,{}),new Nn.W(Ae,{})]),this.nameComponentMap.set(yt.$.CIBARobotApplication,[new Nn.W(Fn,new Et(Le.s.CIBAMachine)),new Nn.W(Vt,{}),new Nn.W(fi,{}),new Nn.W(Ae,{}),new Nn.W(Ui,{})]),this.nameComponentMap.set(yt.$.NativeApplication,[new Nn.W(Fn,new Et(Le.s.Native)),new Nn.W(Ai,new $t(Le.s.Native)),new Nn.W(Ae,{}),new Nn.W(Vt,{}),new Nn.W(fi,{})]),this.nameComponentMap.set(yt.$.PKCENativeApplication,[new Nn.W(Fn,new Et(Le.s.NativePKCE)),new Nn.W(Ai,new $t(Le.s.NativePKCE)),new Nn.W(Ae,{}),new Nn.W(Vt,{}),new Nn.W(fi,{})]),this.nameComponentMap.set(yt.$.WebApplication,[new Nn.W(Fn,new Et(Le.s.ServerSide)),new Nn.W(Ai,new $t(Le.s.ServerSide)),new Nn.W(li,new Ms(Le.s.ServerSide)),new Nn.W(Ae,{}),new Nn.W(Vt,{}),new Nn.W(fi,{})]),this.nameComponentMap.set(yt.$.PKCEWebApplication,[new Nn.W(Fn,new Et(Le.s.ServerSidePKCE)),new Nn.W(Ai,new $t(Le.s.ServerSidePKCE)),new Nn.W(li,new Ms(Le.s.ServerSidePKCE)),new Nn.W(Ae,{}),new Nn.W(Vt,{}),new Nn.W(fi,{})]),this.nameTitleMap.set(yt.$.Home,new Ji.J("Clients.Home.Title","")),this.nameTitleMap.set(yt.$.SinglePageApplication,new Ji.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(yt.$.LegacySinglePageApplication,new Ji.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(yt.$.DeviceApplication,new Ji.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(yt.$.RobotApplication,new Ji.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(yt.$.CIBARobotApplication,new Ji.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(yt.$.NativeApplication,new Ji.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(yt.$.PKCENativeApplication,new Ji.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(yt.$.WebApplication,new Ji.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(yt.$.PKCEWebApplication,new Ji.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(yt.$.SamlApplication,new Ji.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(yt.$.WsFedApplication,new Ji.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(gn){return this.nameComponentMap.get(gn)}getWizardTitle(gn){return this.nameTitleMap.get(gn)}}var ar=l(3973),hs=l(1715);function Ds(Ge,gn){if(1&Ge&&(u.j41(0,"div",5),u.nrm(1,"div",17),u.k0s()),2&Ge){const $e=u.XpG();u.R7$(),u.xc7("width",$e.progressPercent+"%"),u.BMQ("aria-valuenow",$e.progressPercent)}}function ks(Ge,gn){}function Yr(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",18),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.nextTab())}),u.EFF(1),u.nI1(2,"translate"),u.k0s()}if(2&Ge){const $e=u.XpG();u.Y8G("disabled",!$e.canNext()),u.R7$(),u.JRh(u.bMT(2,2,"Common.Next"))}}function Er(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",19),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.submit())}),u.EFF(1),u.nI1(2,"translate"),u.k0s()}2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Save")))}function nl(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",20),u.bIt("click",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.previousTab())}),u.EFF(1),u.nI1(2,"translate"),u.k0s()}2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Back")))}function Yo(Ge,gn){1&Ge&&(u.j41(0,"a",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let so=(()=>{class Ge extends ar.P{constructor($e,It,at,Sn){super(It,at,Sn),this.clientsService=$e,this.wizardProvider=new Ca,this.wizardName=yt.$.Home}submit(){const $e=this.getWizardDto();this.clientsService.addClient($e).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+$e.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:It=>{this.errorService.handleError(It)}})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(E._),u.rXU(V.I),u.rXU(dt.tw),u.rXU(R.c$))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-client-wizard-host"]],standalone:!1,features:[u.Jv_([E._]),u.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn-secondary","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn-secondary",3,"click"]],template:function(It,at){if(1&It&&(u.j41(0,"div",0)(1,"h5",1),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"button",2),u.bIt("click",function(){return at.hideWizard()}),u.nrm(5,"span",3),u.j41(6,"span",4),u.EFF(7),u.nI1(8,"translate"),u.k0s()()(),u.DNE(9,Ds,2,3,"div",5),u.j41(10,"div",6),u.DNE(11,ks,0,0,"ng-template",7),u.k0s(),u.nrm(12,"div",8),u.j41(13,"div",9)(14,"div",10)(15,"div",11),u.DNE(16,Yr,3,4,"button",12)(17,Er,3,3,"button",13)(18,nl,3,3,"button",14)(19,Yo,3,3,"a",15),u.k0s(),u.j41(20,"button",16),u.bIt("click",function(){return at.cancelWizard()}),u.EFF(21),u.nI1(22,"translate"),u.k0s()()()),2&It){let Sn;u.R7$(),u.Y8G("id",at.titleId),u.R7$(),u.JRh(u.bMT(3,9,null!==(Sn=null==at.wizardTitles?null:at.wizardTitles.setupTitle)&&void 0!==Sn?Sn:"")),u.R7$(5),u.JRh(u.bMT(8,11,"Common.Close")),u.R7$(2),u.vxM(at.showProgress?9:-1),u.R7$(7),u.Y8G("ngIf",at.index<(null==at.wizardSteps?null:at.wizardSteps.length)),u.R7$(),u.Y8G("ngIf",at.index==(null==at.wizardSteps?null:at.wizardSteps.length)),u.R7$(),u.Y8G("ngIf",!at.initialStep()),u.R7$(),u.vxM(at.initialStep()&&null!=at.asAny&&at.asAny.displayUpgradeIcon?19:-1),u.R7$(2),u.JRh(u.bMT(22,13,"Common.Cancel"))}},dependencies:[t.bT,hs.t,R.D9],encapsulation:2})}}return Ge})();const il=(Ge,gn)=>({"tw-alert":Ge,"tw-alert-warning":gn}),K=Ge=>({limit:Ge,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"});function ie(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-client-wizard-host",12,0),u.bIt("finish",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.onFinish())})("hide",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hideWizard())})("wizardCancel",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.hideWizard())}),u.k0s()}if(2&Ge){const $e=u.XpG();u.Y8G("displayUpgradeIcon",$e.licenseInfo.isStarterLicense())}}function ee(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-import-wizard",13,1),u.bIt("finish",function(){u.eBV($e);const at=u.XpG();return u.Njj(at.reload())}),u.k0s()}}function Te(Ge,gn){if(1&Ge&&(u.j41(0,"div",14),u.nrm(1,"span",15),u.nI1(2,"translate"),u.k0s()),2&Ge){const $e=u.XpG();u.Y8G("ngClass",u.l_i(5,il,$e.limitReached,$e.overLimit)),u.R7$(),u.Y8G("innerHTML",u.i5U(2,2,"Common.QuotaLimit",u.eq3(8,K,$e.licenseInfo.maxClients)),u.npT)}}function qe(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"div",22)(1,"label",23),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"select",24),u.mxI("ngModelChange",function(at){u.eBV($e);const Sn=u.XpG(2);return u.DH7(Sn.pageSize,at)||(Sn.pageSize=at),u.Njj(at)}),u.bIt("change",function(){u.eBV($e);const at=u.XpG(2);return u.Njj(at.setPageLength(+at.pageSize))}),u.j41(5,"option",25),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"option",26),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"option",27),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()}if(2&Ge){const $e=u.XpG(2);u.R7$(2),u.Lme("",$e.pageSize," ",u.bMT(3,6,"Nav.PerPage"),""),u.R7$(2),u.R50("ngModel",$e.pageSize),u.R7$(2),u.SpI("25 ",u.bMT(7,8,"Nav.PerPage"),""),u.R7$(3),u.SpI("50 ",u.bMT(10,10,"Nav.PerPage"),""),u.R7$(3),u.SpI("100 ",u.bMT(13,12,"Nav.PerPage"),"")}}function Pt(Ge,gn){1&Ge&&(u.j41(0,"span",31)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.nrm(4,"span",32),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"StarterMode.RequiresUpgrade")))}function bn(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",28),u.nI1(1,"translate"),u.bIt("click",function(){u.eBV($e);const at=u.XpG(2),Sn=u.sdS(5);return u.Njj(at.showWizard(Sn,!0))}),u.j41(2,"span")(3,"span",9),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.nrm(6,"span",29),u.k0s(),u.DNE(7,Pt,5,3,"span",30),u.k0s()}if(2&Ge){const $e=u.XpG(2);u.Y8G("tooltip",u.bMT(1,3,"Clients.Import.Import")),u.R7$(4),u.JRh(u.bMT(5,5,"Clients.Import.ImportClients")),u.R7$(3),u.Y8G("ngIf",$e.licenseInfo.isStarterLicense())}}function ai(Ge,gn){if(1&Ge&&(u.j41(0,"span",37),u.EFF(1),u.k0s()),2&Ge){const $e=u.XpG(3);u.R7$(),u.JRh($e.clientSelectedCount)}}function ts(Ge,gn){1&Ge&&(u.j41(0,"span",38)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.nrm(4,"span",32),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"StarterMode.RequiresUpgrade")))}function $i(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"button",33),u.bIt("click",function(){u.eBV($e);const at=u.XpG(2);return u.Njj(at.exportClients())}),u.j41(1,"span")(2,"span",9),u.EFF(3),u.k0s(),u.nrm(4,"span",34),u.DNE(5,ai,2,1,"span",35),u.k0s(),u.DNE(6,ts,5,3,"span",36),u.k0s()}if(2&Ge){const $e=u.XpG(2);u.Y8G("tooltip",$e.currentExportTooltip),u.R7$(3),u.JRh($e.currentExportText),u.R7$(2),u.Y8G("ngIf",$e.shouldDisplayCount),u.R7$(),u.Y8G("ngIf",$e.licenseInfo.isStarterLicense())}}function Zs(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-action-bar"),u.qex(1,16),u.DNE(2,qe,14,14,"div",17),u.bVm(),u.qex(3,18),u.j41(4,"button",19),u.bIt("click",function(){u.eBV($e);const at=u.XpG(),Sn=u.sdS(3);return u.Njj(at.showWizard(Sn,at.limitReached))}),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.DNE(7,bn,8,7,"button",20)(8,$i,7,4,"button",21),u.bVm(),u.k0s()}if(2&Ge){const $e=u.XpG();u.R7$(2),u.Y8G("ngIf",(null==$e.pagedResult?null:$e.pagedResult.results.length)>0),u.R7$(2),u.Y8G("disabled",$e.limitReached),u.R7$(),u.SpI(" ",u.bMT(6,5,"Clients.Add")," "),u.R7$(2),u.Y8G("ngIf",$e.canImportExport),u.R7$(),u.Y8G("ngIf",$e.canImportExport)}}function $r(Ge,gn){1&Ge&&u.nrm(0,"app-simple-loader")}function ga(Ge,gn){1&Ge&&(u.j41(0,"div",42)(1,"div"),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Clients.None")))}function $a(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"th",49)(1,"label",50)(2,"input",51),u.bIt("change",function(){u.eBV($e);const at=u.XpG(3);return u.Njj(at.toggleAllClients())}),u.mxI("ngModelChange",function(at){u.eBV($e);const Sn=u.XpG(3);return u.DH7(Sn.allClientsSelected,at)||(Sn.allClientsSelected=at),u.Njj(at)}),u.k0s()()()}if(2&Ge){const $e=u.XpG(3);u.R7$(2),u.R50("ngModel",$e.allClientsSelected)}}function Rr(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"label",63)(1,"input",64),u.bIt("change",function(){u.eBV($e);const at=u.XpG(5);return u.Njj(at.areAllClientsSelected())}),u.mxI("ngModelChange",function(at){u.eBV($e);const Sn=u.XpG(2).$implicit;return u.DH7(Sn.selected,at)||(Sn.selected=at),u.Njj(at)}),u.k0s()()}if(2&Ge){const $e=u.XpG(2).$implicit;u.FS9("for",$e.id),u.R7$(),u.FS9("id",$e.id),u.R50("ngModel",$e.selected)}}function Ga(Ge,gn){if(1&Ge&&(u.j41(0,"td",61),u.DNE(1,Rr,2,3,"label",62),u.k0s()),2&Ge){const $e=u.XpG().$implicit,It=u.XpG(3);u.R7$(),u.Y8G("ngIf",!It.resourceIsReadOnly($e))}}function ro(Ge,gn){1&Ge&&(u.j41(0,"span",65)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Common.Disabled")))}function Mc(Ge,gn){1&Ge&&(u.j41(0,"span",66),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Common.Disabled")," "))}function ws(Ge,gn){1&Ge&&(u.j41(0,"span",67),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Common.Reserved")," "))}function Pa(Ge,gn){1&Ge&&(u.nrm(0,"span",68),u.j41(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Common.View")))}function sl(Ge,gn){1&Ge&&(u.nrm(0,"span",69),u.j41(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ge&&(u.R7$(2),u.JRh(u.bMT(3,1,"Common.Edit")))}function Ys(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"tr",52),u.DNE(1,Ga,2,1,"td",53),u.j41(2,"td",54),u.bIt("click",function(){const at=u.eBV($e).$implicit,Sn=u.XpG(3);return u.Njj(Sn.navigate(at,at.id))}),u.DNE(3,ro,4,3,"span",55),u.j41(4,"b"),u.EFF(5),u.k0s()(),u.j41(6,"td",56),u.bIt("click",function(){const at=u.eBV($e).$implicit,Sn=u.XpG(3);return u.Njj(Sn.navigate(at,at.id))}),u.EFF(7),u.k0s(),u.j41(8,"td",57),u.bIt("click",function(){const at=u.eBV($e).$implicit,Sn=u.XpG(3);return u.Njj(Sn.navigate(at,at.id))}),u.DNE(9,Mc,3,3,"span",58)(10,ws,3,3,"span",59),u.k0s(),u.j41(11,"td",57),u.bIt("click",function(){const at=u.eBV($e).$implicit,Sn=u.XpG(3);return u.Njj(Sn.navigate(at,at.id))}),u.j41(12,"button",60),u.bIt("click",function(){const at=u.eBV($e).$implicit,Sn=u.XpG(3);return u.Njj(Sn.navigate(at,at.id))}),u.DNE(13,Pa,4,3)(14,sl,4,3),u.k0s()()()}if(2&Ge){const $e=gn.$implicit,It=u.XpG(3);u.AVh("inactive",!$e.enabled||It.resourceIsReadOnly($e)),u.FS9("id",$e.clientName),u.R7$(),u.Y8G("ngIf",It.hasEditPermission),u.R7$(2),u.Y8G("ngIf",!$e.enabled),u.R7$(),u.AVh("tw-text-blue-500",!(null!=$e&&$e.nonEditable)),u.R7$(),u.SpI(" ",null==$e?null:$e.clientName," "),u.R7$(2),u.SpI(" ",null==$e?null:$e.description," "),u.R7$(2),u.Y8G("ngIf",!$e.enabled),u.R7$(),u.Y8G("ngIf",null==$e?null:$e.nonEditable),u.R7$(3),u.vxM(It.resourceIsReadOnly($e)?13:14)}}function Do(Ge,gn){if(1&Ge&&(u.j41(0,"table",43)(1,"thead")(2,"tr"),u.DNE(3,$a,3,1,"th",44),u.j41(4,"th",45),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.j41(7,"th",46),u.EFF(8),u.nI1(9,"translate"),u.k0s(),u.j41(10,"th",47)(11,"span",9),u.EFF(12),u.nI1(13,"translate"),u.k0s()(),u.j41(14,"th",47)(15,"span",9),u.EFF(16),u.nI1(17,"translate"),u.k0s()()()(),u.j41(18,"tbody"),u.DNE(19,Ys,15,12,"tr",48),u.k0s()()),2&Ge){const $e=u.XpG(2);u.R7$(3),u.Y8G("ngIf",$e.hasEditPermission),u.R7$(2),u.JRh(u.bMT(6,6,"Common.Name")),u.R7$(3),u.JRh(u.bMT(9,8,"Common.Description")),u.R7$(4),u.JRh(u.bMT(13,10,"Common.Reserved")),u.R7$(4),u.JRh(u.bMT(17,12,"Common.Actions")),u.R7$(3),u.Y8G("ngForOf",$e.allClients)}}function Nl(Ge,gn){if(1&Ge){const $e=u.RV6();u.j41(0,"app-pager",70),u.bIt("onGoToPage",function(at){u.eBV($e);const Sn=u.XpG(2);return u.Njj(Sn.goToPage(at))}),u.k0s()}if(2&Ge){const $e=u.XpG(2);u.Y8G("totalResults",null==$e.pagedResult?null:$e.pagedResult.totalCount)("currentPage",$e.page)("lastPage",null==$e.pagedResult?null:$e.pagedResult.pageCount)}}function Ml(Ge,gn){if(1&Ge&&(u.qex(0),u.DNE(1,ga,4,3,"div",39)(2,Do,20,14,"table",40)(3,Nl,1,3,"app-pager",41),u.bVm()),2&Ge){const $e=u.XpG();u.R7$(),u.Y8G("ngIf",(null==$e.allClients?null:$e.allClients.length)<1),u.R7$(),u.Y8G("ngIf",(null==$e.allClients?null:$e.allClients.length)>0),u.R7$(),u.Y8G("ngIf",(null==$e.pagedResult?null:$e.pagedResult.results.length)>0&&!$e.isLoading)}}let No=(()=>{class Ge extends ji.u{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor($e,It,at,Sn,Ri,us,qi,Tr,Lr,zr,gr,Js,nr){super(gr,Sn,!0,nr,Js,zr),this.errorService=$e,this.titleService=It,this.clientsService=at,this.translate=Sn,this.localize=Ri,this.exportService=us,this.modalService=qi,this.localizeRouter=Tr,this.licenseService=Lr,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new fs.B,this.pageSizeStream=new fs.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm($e){return this.term=$e,{searchTerm:$e,page:1,pageSize:this.pageSize}}ngOnInit(){const $e=this.translate.instant("Nav.Clients")+" - "+vt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle($e),this.canImportExport=this.securityService.allView;const It=this.pageStream.pipe((0,g.T)(Ri=>(this.page=Ri,{searchTerm:this.term,page:Ri,pageSize:this.pageSize}))),at=this.pageSizeStream.pipe((0,g.T)(Ri=>(this.pageSize=Ri,{searchTerm:this.term,page:this.page,pageSize:Ri})));It.pipe((0,xi.X)(at),(0,xi.X)(this.searchSource),(0,xi.X)(this.enterKeySource),(0,wt.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Tt.Z)(Ri=>(this.isLoading=!0,this.clientsService.getClients(Ri.searchTerm,Ri.page,Ri.pageSize).pipe((0,xt.c)(200))))).subscribe({next:Ri=>{this.pagedResult=Ri,this.allClients=this.pagedResult.results.map(us=>new Ei(us)).sort((us,qi)=>Number(qi.nonEditable)-Number(us.nonEditable)),this.isLoading=!1},error:Ri=>{this.errorService.handleError(Ri),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,He.$)()).subscribe(Ri=>{this.licenseInfo=Ri})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const $e=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([$e],{queryParams:{feature:Dn.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard($e,It=!1){It&&this.checkStarterMode()||this.modalService.show($e,{id:Ti.R.Id,ariaLabelledBy:Ti.R.TileId,ariaDescribedby:Ti.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(Ti.R.Id)}goToPage($e){this.pageStream.next($e)}setPageLength($e){this.page=1,this.pageSizeStream.next($e)}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const $e=this.allClients.filter(It=>It.selected).map(It=>It.clientId);this.exportService.exportSelectedClients($e)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every($e=>$e.selected||$e.nonEditable),this.clientSelectedCount=this.allClients.filter($e=>$e.selected&&!$e.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter($e=>!$e.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let $e=!0;this.allClients.forEach(It=>{!It.nonEditable&&!It.selected&&($e=!1)}),this.allClients.forEach(It=>{It.nonEditable||(It.selected=!$e)}),this.shouldDisplayCount=!1,this.clientSelectedCount=$e?0:this.allClients.filter(It=>!It.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!$e}get isAuthorizationServerManagerReadOnly(){return(0,ct.tb)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}resourceIsReadOnly($e){const It=Vi.RestrictedClientTypes.includes($e.clientType);return!this.hasEditPermission||$e.nonEditable||this.overLimit||It&&this.licenseInfo.isStarterLicense()}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(V.I),u.rXU(ge.hE),u.rXU(E._),u.rXU(R.c$),u.rXU(A.QG),u.rXU(y._),u.rXU(e.I8),u.rXU(A.QG),u.rXU(_t.X),u.rXU(s.Ix),u.rXU(dt.tw),u.rXU(zi.i),u.rXU(s.nX))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["ng-component"]],standalone:!1,features:[u.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(It,at){if(1&It){const Sn=u.RV6();u.nrm(0,"app-title-bar",2),u.nI1(1,"translate"),u.DNE(2,ie,2,1,"ng-template",null,0,u.C5r)(4,ee,2,0,"ng-template",null,1,u.C5r),u.j41(6,"div",3),u.DNE(7,Te,3,10,"div",4),u.j41(8,"div",5)(9,"div",6)(10,"label",7),u.nrm(11,"span",8),u.j41(12,"span",9),u.EFF(13),u.nI1(14,"translate"),u.k0s()(),u.j41(15,"input",10),u.nI1(16,"translate"),u.mxI("ngModelChange",function(us){return u.eBV(Sn),u.DH7(at.searchTerm,us)||(at.searchTerm=us),u.Njj(us)}),u.bIt("keyup",function(us){return u.eBV(Sn),u.Njj(at.search(us))}),u.k0s()()(),u.DNE(17,Zs,9,7,"app-action-bar",11)(18,$r,1,0,"app-simple-loader",11)(19,Ml,4,3,"ng-container",11),u.k0s()}2&It&&(u.Y8G("title",u.bMT(1,8,"Nav.Clients")),u.R7$(7),u.Y8G("ngIf",at.limitReached),u.R7$(6),u.JRh(u.bMT(14,10,"Common.Search")),u.R7$(2),u.FS9("placeholder",u.bMT(16,12,"Clients.SearchPlaceholder")),u.R50("ngModel",at.searchTerm),u.R7$(2),u.Y8G("ngIf",!at.isLoading&&at.hasEditPermission),u.R7$(),u.Y8G("ngIf",at.isLoading),u.R7$(),u.Y8G("ngIf",!at.isLoading))},dependencies:[t.YU,t.Sq,t.bT,o.xH,o.y7,o.me,o.Zm,o.wz,o.BC,o.vS,w.dg,tn.z,ls.B,ut.n,Rt.d,ri,so,R.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ge})();const Gr=(Ge,gn)=>({title:Ge,link:gn}),Ts=Ge=>[Ge];function _a(Ge,gn){1&Ge&&(u.j41(0,"option",23),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Nav.Saml")))}function va(Ge,gn){1&Ge&&(u.j41(0,"option",24),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.RelyingParty.Heading")))}function zo(Ge,gn){1&Ge&&(u.j41(0,"option",25),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Clients.URLS.Title")))}function Mo(Ge,gn){1&Ge&&(u.j41(0,"option",26),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Secrets")))}function Ar(Ge,gn){1&Ge&&(u.j41(0,"option",27),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.CIBA")))}function Ra(Ge,gn){1&Ge&&(u.j41(0,"span",28),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" - ",u.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function rl(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function Fa(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function ac(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Oc(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function Ha(Ge,gn){1&Ge&&u.nrm(0,"app-custom-tab",17),2&Ge&&u.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function vl(Ge,gn){1&Ge&&(u.j41(0,"span",29),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ge&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Common.Disabled")," "))}let Ol=(()=>{class Ge{constructor($e,It,at,Sn,Ri,us,qi,Tr){this.clientCachingService=$e,this.clientViewService=It,this.titleService=at,this.translate=Sn,this.errorService=Ri,this.licenseService=us,this.router=qi,this.route=Tr}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe($e=>{this.client=$e;const It=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+vt.$9.SITE_TITLE;this.titleService.setTitle(It)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:$e=>this.licenseInfo=$e})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute($e){this.router.navigate([$e],{relativeTo:this.route})}static{this.\u0275fac=function(It){return new(It||Ge)(u.rXU(B.e),u.rXU(it.q),u.rXU(ge.hE),u.rXU(R.c$),u.rXU(V.I),u.rXU(_t.X),u.rXU(s.Ix),u.rXU(s.nX))}}static{this.\u0275cmp=u.VBU({type:Ge,selectors:[["app-view-client"]],standalone:!1,features:[u.Jv_([it.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(It,at){if(1&It&&(u.j41(0,"app-title-bar",0),u.nI1(1,"translate"),u.nI1(2,"localize"),u.qex(3,1),u.j41(4,"div",2)(5,"label",3),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"div",4)(9,"select",5),u.bIt("change",function(Ri){return at.mobRoute(Ri.target.value)}),u.j41(10,"option",6),u.EFF(11),u.nI1(12,"translate"),u.k0s(),u.j41(13,"option",6),u.EFF(14),u.nI1(15,"translate"),u.k0s(),u.DNE(16,_a,3,3,"option",7)(17,va,3,3,"option",8)(18,zo,3,3,"option",9)(19,Mo,3,3,"option",10),u.j41(20,"option",11),u.EFF(21),u.nI1(22,"translate"),u.k0s(),u.DNE(23,Ar,3,3,"option",12),u.j41(24,"option",13),u.EFF(25),u.nI1(26,"translate"),u.k0s(),u.j41(27,"option",14),u.EFF(28),u.nI1(29,"translate"),u.DNE(30,Ra,3,3,"span",15),u.k0s()()()(),u.j41(31,"app-custom-tabs",16),u.nrm(32,"app-custom-tab",17),u.DNE(33,rl,1,2,"app-custom-tab",18)(34,Fa,1,2,"app-custom-tab",18)(35,ac,1,2,"app-custom-tab",18)(36,Oc,1,2,"app-custom-tab",18),u.nrm(37,"app-custom-tab",17),u.DNE(38,Ha,1,2,"app-custom-tab",18),u.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),u.k0s(),u.bVm(),u.qex(41,20),u.DNE(42,vl,3,3,"span",21),u.bVm(),u.k0s(),u.j41(43,"div",22),u.nrm(44,"router-outlet"),u.k0s()),2&It){let Sn,Ri;u.Y8G("title",at.client.clientName)("crumbs",u.eq3(52,Ts,u.l_i(49,Gr,u.bMT(1,33,"Nav.Clients"),u.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",at.client.nonEditable),u.R7$(6),u.JRh(u.bMT(7,37,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(12,39,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(15,41,"Nav.Details")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(2),u.JRh(u.bMT(22,43,"Nav.Resources")),u.R7$(2),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(2),u.JRh(u.bMT(26,45,"Common.Advanced")),u.R7$(3),u.SpI(" ",u.bMT(29,47,"Nav.Audits")," "),u.R7$(2),u.Y8G("ngIf",null!==(Sn=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==Sn&&Sn),u.R7$(2),u.Y8G("tabTitle","Nav.Details")("tabValue","details"),u.R7$(),u.Y8G("ngIf",at.clientViewService.saml.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.wsFed.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.applicationUrls.display),u.R7$(),u.Y8G("ngIf",at.clientViewService.secrets.display),u.R7$(),u.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),u.R7$(),u.Y8G("ngIf",at.clientViewService.ciba.display),u.R7$(),u.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),u.R7$(),u.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Ri=null==at.licenseInfo?null:at.licenseInfo.isStarterLicense())&&void 0!==Ri&&Ri),u.R7$(2),u.Y8G("ngIf",!at.client.enabled)}},dependencies:[s.n3,t.bT,tn.z,Cn.G,Wn.v,R.D9,A.tl],encapsulation:2})}}return Ge})();var lr=l(3178),ao=l(2892),mo=l(8416),Ps=l(4446),ci=l(9962);const ns=[{path:"clients",component:No,canActivate:[ao.h,Ps._],data:{permissions:[lr.a[lr.a.AuthorizationServerManager],lr.a[lr.a.AuthorizationServerManagerReadOnly],lr.a[lr.a.AllReadOnly],lr.a[lr.a.All]],editPermissions:[lr.a[lr.a.AuthorizationServerManager],lr.a[lr.a.All]]}},{path:"clients/:id",component:zn,loadChildren:()=>Promise.all([l.e(105),l.e(763)]).then(l.bind(l,2763)).then(Ge=>Ge.EditClientModule),canDeactivate:[mo.M],resolve:{client:F},canActivate:[ao.h,Ps._,ci.m],data:{permissions:[lr.a[lr.a.AuthorizationServerManager],lr.a[lr.a.All]]}},{path:"clients/view/:id",component:Ol,loadChildren:()=>Promise.all([l.e(105),l.e(632)]).then(l.bind(l,8632)).then(Ge=>Ge.ViewClientModule),resolve:{client:F},canActivate:[ao.h,Ps._],data:{permissions:[lr.a[lr.a.AuthorizationServerManager],lr.a[lr.a.AuthorizationServerManagerReadOnly],lr.a[lr.a.AllReadOnly],lr.a[lr.a.All]]}}];let cr=(()=>{class Ge{static{this.\u0275fac=function(It){return new(It||Ge)}}static{this.\u0275mod=u.$C({type:Ge})}static{this.\u0275inj=u.G2t({imports:[f.iI.forChild(ns),A.XE.forChild(ns),f.iI]})}}return Ge})();var hr=l(1466),Vr=l(5667);let na=(()=>{class Ge{static{this.\u0275fac=function(It){return new(It||Ge)}}static{this.\u0275mod=u.$C({type:Ge})}static{this.\u0275inj=u.G2t({providers:[F,M.R,hr.z,Z.c,ne.z,Y.d,X.S,W._,y._,D.V],imports:[cr,t.MD,f.iI,o.YN,m.Y,o.X1,w.Ss,e.Q_,R.h,A.XE,L.F,lt.a,rt.m,Fe.i,v.c,we.t,We.c,Q.E,te.h,fe.w,oe.N,N.Y,Vr.g]})}}return Ge})()},1088:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>f});var t=l(3806),o=l(4866);class f{constructor(e){this.unitMap=o.A.getUnitMap(),this.formatSeconds(e)}formatSeconds(e){return this.years=Math.floor(e/this.unitMap.get(t.u.Years)),e-=this.years*this.unitMap.get(t.u.Years),this.months=Math.floor(e/this.unitMap.get(t.u.Month)),e-=this.months*this.unitMap.get(t.u.Month),this.weeks=Math.floor(e/this.unitMap.get(t.u.Weeks)),e-=this.weeks*this.unitMap.get(t.u.Weeks),this.days=Math.floor(e/this.unitMap.get(t.u.Days)),e-=this.days*this.unitMap.get(t.u.Days),this.hours=Math.floor(e/this.unitMap.get(t.u.Hours)),e-=this.hours*this.unitMap.get(t.u.Hours),this.minutes=Math.floor(e/this.unitMap.get(t.u.Minute)),e-=this.minutes*this.unitMap.get(t.u.Minute),this.seconds=e,this}}},1097:(ot,ve,l)=>{var t=l(6589);l(4579),l(5437),l(812);var f,o=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(f=l(310)),ot.exports=t.pbkdf2=o.pbkdf2=function(A,e,w,m,D,S){if("function"==typeof D&&(S=D,D=null),t.util.isNodejs&&!t.options.usePureJavaScript&&f.pbkdf2&&(null===D||"object"!=typeof D)&&(f.pbkdf2Sync.length>4||!D||"sha1"===D))return"string"!=typeof D&&(D="sha1"),A=Buffer.from(A,"binary"),e=Buffer.from(e,"binary"),S?4===f.pbkdf2Sync.length?f.pbkdf2(A,e,w,m,function(v,L){if(v)return S(v);S(null,L.toString("binary"))}):f.pbkdf2(A,e,w,m,D,function(v,L){if(v)return S(v);S(null,L.toString("binary"))}):4===f.pbkdf2Sync.length?f.pbkdf2Sync(A,e,w,m).toString("binary"):f.pbkdf2Sync(A,e,w,m,D).toString("binary");if((typeof D>"u"||null===D)&&(D="sha1"),"string"==typeof D){if(!(D in t.md.algorithms))throw new Error("Unknown hash algorithm: "+D);D=t.md[D].create()}var g=D.digestLength;if(m>4294967295*g){var k=new Error("Derived key is too long.");if(S)return S(k);throw k}var z=Math.ceil(m/g),u=m-(z-1)*g,E=t.hmac.create();E.start(D,A);var V,F,M,B="";if(!S){for(var W=1;W<=z;++W){E.start(null,null),E.update(e),E.update(t.util.int32ToBytes(W)),V=M=E.digest().getBytes();for(var y=2;y<=w;++y)E.start(null,null),E.update(M),F=E.digest().getBytes(),V=t.util.xorBytes(V,F,g),M=F;B+=W<z?V:V.substr(0,u)}return B}function X(){if(W>z)return S(null,B);E.start(null,null),E.update(e),E.update(t.util.int32ToBytes(W)),V=M=E.digest().getBytes(),y=2,Z()}function Z(){if(y<=w)return E.start(null,null),E.update(M),F=E.digest().getBytes(),V=t.util.xorBytes(V,F,g),M=F,++y,t.util.setImmediate(Z);B+=W<z?V:V.substr(0,u),++W,X()}W=1,X()}},1108:function(ot,ve){var o;!function(){"use strict";void 0!==(o=function(f){return function(e){e=e||{},function m(){e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",e.jsAttributeFilter=e.jsAttributeFilter,e.jsAttributeConverter=e.jsAttributeConverter,e.attributeConverters=e.attributeConverters||[],e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],e.xmldomOptions=e.xmldomOptions||{},void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!0),void 0===e.ignoreRoot&&(e.ignoreRoot=!1),void 0===e.escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),void 0===e.selfClosingElements&&(e.selfClosingElements=!0),void 0===e.keepCData&&(e.keepCData=!1),void 0===e.keepText&&(e.keepText=!1),void 0===e.jsDateUTC&&(e.jsDateUTC=!1)}(),function D(){function we(We){var rt=String(We);return 1===rt.length&&(rt="0"+rt),rt}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+we(this.getUTCMonth()+1)+"-"+we(this.getUTCDate())+"T"+we(this.getUTCHours())+":"+we(this.getUTCMinutes())+":"+we(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var S_ELEMENT_NODE=1,S_TEXT_NODE=3,S_CDATA_SECTION_NODE=4,S_COMMENT_NODE=8,S_DOCUMENT_NODE=9;function g(we){var We=we.localName;return null==We&&(We=we.baseName),(null==We||""===We)&&(We=we.nodeName),We}function z(we){return"string"==typeof we?we.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):we}function E(we,We,rt){if("property"===e.arrayAccessForm&&(we[We+"_asArray"]=we[We]instanceof Array?we[We]:[we[We]]),!(we[We]instanceof Array)&&e.arrayAccessFormPaths.length>0){for(var lt=!1,vt=0;vt<e.arrayAccessFormPaths.length;vt++){var Ue=e.arrayAccessFormPaths[vt];if("string"==typeof Ue){if(Ue===rt){lt=!0;break}}else if(Ue instanceof RegExp){if(Ue.test(rt)){lt=!0;break}}else if("function"==typeof Ue&&Ue(We,rt)){lt=!0;break}}lt&&(we[We]=[we[We]])}}function B(we){var rt=we.split(/[-T:+Z]/g),lt=new Date(rt[0],rt[1]-1,rt[2]),vt=rt[5].split(".");if(lt.setHours(rt[3],rt[4],vt[0]),vt.length>1&&lt.setMilliseconds(vt[1]),rt[6]&&rt[7]){var Ue=60*rt[6]+Number(rt[7]);Ue=0+("-"==(/\d\d-\d\d:\d\d$/.test(we)?"-":"+")?-1*Ue:Ue),lt.setMinutes(lt.getMinutes()-Ue-lt.getTimezoneOffset())}else-1!==we.indexOf("Z",we.length-1)&&(lt=new Date(Date.UTC(lt.getFullYear(),lt.getMonth(),lt.getDate(),lt.getHours(),lt.getMinutes(),lt.getSeconds(),lt.getMilliseconds())));return lt}function M(we,We){for(var rt={__cnt:0},lt=we.childNodes,vt=0;vt<lt.length;vt++){var Ue=lt.item(vt),Ye=g(Ue);Ue.nodeType!==S_COMMENT_NODE&&(rt.__cnt++,null==rt[Ye]?(rt[Ye]=W(Ue,We+"."+Ye),E(rt,Ye,We+"."+Ye)):(rt[Ye]instanceof Array||(rt[Ye]=[rt[Ye]],E(rt,Ye,We+"."+Ye)),rt[Ye][rt[Ye].length]=W(Ue,We+"."+Ye)))}for(var He=0;He<we.attributes.length;He++){var it=we.attributes.item(He);rt.__cnt++;for(var Le=it.value,Ve=0;Ve<e.attributeConverters.length;Ve++){var Xe=e.attributeConverters[Ve];Xe.test.call(null,it.name,it.value)&&(Le=Xe.convert.call(null,it.name,it.value))}rt[e.attributePrefix+it.name]=Le}var je=function k(we){return we.prefix}(we);return je&&(rt.__cnt++,rt.__prefix=je),rt["#text"]&&(rt.__text=rt["#text"],rt.__text instanceof Array&&(rt.__text=rt.__text.join("\n")),e.escapeMode&&(rt.__text=function u(we){return we.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(rt.__text)),e.stripWhitespaces&&(rt.__text=rt.__text.trim()),delete rt["#text"],"property"===e.arrayAccessForm&&delete rt["#text_asArray"],rt.__text=function V(we,We,rt){if(e.datetimeAccessFormPaths.length>0)for(var lt=rt.split(".#")[0],vt=0;vt<e.datetimeAccessFormPaths.length;vt++){var Ue=e.datetimeAccessFormPaths[vt];if("string"==typeof Ue){if(Ue===lt)return B(we)}else if(Ue instanceof RegExp){if(Ue.test(lt))return B(we)}else if("function"==typeof Ue&&Ue(lt))return B(we)}return we}(rt.__text,0,We+".#text")),rt.hasOwnProperty("#cdata-section")&&(rt.__cdata=rt["#cdata-section"],delete rt["#cdata-section"],"property"===e.arrayAccessForm&&delete rt["#cdata-section_asArray"]),1===rt.__cnt&&rt.__text&&!e.keepText?rt=rt.__text:0===rt.__cnt&&"text"===e.emptyNodeForm?rt="":rt.__cnt>1&&void 0!==rt.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""===rt.__text||""===rt.__text.trim())&&delete rt.__text,delete rt.__cnt,e.keepCData||rt.hasOwnProperty("__text")||!rt.hasOwnProperty("__cdata")||1!==Object.keys(rt).length?(e.enableToStringFunc&&(rt.__text||rt.__cdata)&&(rt.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),rt):rt.__cdata?rt.__cdata:""}function W(we,We){return we.nodeType===S_DOCUMENT_NODE?function F(we){for(var We={},rt=we.childNodes,lt=0;lt<rt.length;lt++){var vt=rt.item(lt);if(vt.nodeType===S_ELEMENT_NODE){var Ue=g(vt);e.ignoreRoot?We=W(vt,Ue):We[Ue]=W(vt,Ue)}}return We}(we):we.nodeType===S_ELEMENT_NODE?M(we,We):we.nodeType===S_TEXT_NODE||we.nodeType===S_CDATA_SECTION_NODE?we.nodeValue:null}function y(we,We,rt,lt){var vt="<"+(we&&we.__prefix?we.__prefix+":":"")+We;if(rt)for(var Ue=0;Ue<rt.length;Ue++){var Ye=rt[Ue],He=we[Ye];e.escapeMode&&(He=z(He)),vt+=" "+Ye.substr(e.attributePrefix.length)+"=",vt+=e.useDoubleQuotes?'"'+He+'"':"'"+He+"'"}return vt+(lt?" />":">")}function X(we,We){return"</"+(we&&we.__prefix?we.__prefix+":":"")+We+">"}function v(we,We){return!!("property"===e.arrayAccessForm&&function Z(we,We){return-1!==we.indexOf(We,we.length-We.length)}(We.toString(),"_asArray")||0===We.toString().indexOf(e.attributePrefix)||0===We.toString().indexOf("__")||we[We]instanceof Function)}function L(we){var We=0;if(we instanceof Object)for(var rt in we)v(we,rt)||We++;return We}function Q(we){var We=[];if(we instanceof Object)for(var rt in we)-1===rt.toString().indexOf("__")&&0===rt.toString().indexOf(e.attributePrefix)&&We.push(rt);return We}function N(we){var We="";return we instanceof Object?We+=function te(we){var We="";return we.__cdata&&(We+="<![CDATA["+we.__cdata+"]]>"),(we.__text||"number"==typeof we.__text||"boolean"==typeof we.__text)&&(We+=e.escapeMode?z(we.__text):we.__text),We}(we):null!==we&&(We+=e.escapeMode?z(we):we),We}function oe(we,We,rt){var lt="";return e.jsAttributeFilter&&e.jsAttributeFilter.call(null,We,we)||(e.jsAttributeConverter&&(we=e.jsAttributeConverter.call(null,We,we)),null!=we&&""!==we||!e.selfClosingElements?"object"==typeof we?"[object Array]"===Object.prototype.toString.call(we)?lt+=function fe(we,We,rt){var lt="";if(0===we.length)lt+=y(we,We,rt,!0);else for(var vt=0;vt<we.length;vt++)lt+=oe(we[vt],We,Q(we[vt]));return lt}(we,We,rt):we instanceof Date?(lt+=y(we,We,rt,!1),lt+=e.jsDateUTC?we.toUTCString():we.toISOString(),lt+=X(we,We)):L(we)>0||"number"==typeof we.__text||"boolean"==typeof we.__text||we.__text||we.__cdata?(lt+=y(we,We,rt,!1),lt+=R(we),lt+=X(we,We)):e.selfClosingElements?lt+=y(we,We,rt,!0):(lt+=y(we,We,rt,!1),lt+=X(we,We)):(lt+=y(we,We,rt,!1),lt+=N(we),lt+=X(we,We)):lt+=y(we,We,rt,!0)),lt}function R(we){var We="";if(L(we)>0)for(var lt in we)if(!v(we,lt)){var vt=we[lt];We+=oe(vt,lt,Q(vt))}return We+N(we)}function Fe(we){if(void 0===we||"string"!=typeof we)return null;var We=null,rt=null;if(f)rt=(We=new f(e.xmldomOptions)).parseFromString(we,"text/xml");else if(window&&window.DOMParser){We=new window.DOMParser;var lt=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{lt=We.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{lt=null}try{rt=We.parseFromString(we,"text/xml"),null!==lt&&rt.getElementsByTagNameNS(lt,"parsererror").length>0&&(rt=null)}catch{rt=null}}else 0===we.indexOf("<?")&&(we=we.substr(we.indexOf("?>")+2)),(rt=new ActiveXObject("Microsoft.XMLDOM")).async="false",rt.loadXML(we);return rt}this.asArray=function(We){return null==We?[]:We instanceof Array?We:[We]},this.toXmlDateTime=function(We){return We instanceof Date?We.toISOString():"number"==typeof We?new Date(We).toISOString():null},this.asDateTime=function(We){return"string"==typeof We?B(We):We},this.xml2dom=function(We){return Fe(We)},this.dom2js=function(We){return W(We,null)},this.js2dom=function(We){return Fe(this.js2xml(We))},this.xml2js=function(We){var rt=Fe(We);return null!=rt?this.dom2js(rt):null},this.js2xml=function(We){return R(We)},this.getVersion=function(){return"3.4.4"}}}.apply(ve,[]))&&(ot.exports=o)}()},1138:(ot,ve,l)=>{"use strict";l.d(ve,{r:()=>V,u:()=>F});var t=l(1744),o=l(9417),f=l(785),A=l(7263),e=l(6799),w=l(590),m=l(1360),D=l(8018),S=l(8434),g=l(9764);const k=["secretPicker"];function z(M,W){if(1&M&&(m.j41(0,"li",11)(1,"label",28),m.nrm(2,"input",29),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&M){const y=m.XpG();m.R7$(2),m.Y8G("value",y.SecretsActions.DoNotSet),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function u(M,W){if(1&M&&(m.j41(0,"li",11)(1,"label",30),m.nrm(2,"input",31),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&M){const y=m.XpG();m.R7$(2),m.Y8G("value",y.SecretsActions.UseExistingSecret),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function E(M,W){if(1&M&&m.nrm(0,"app-secret-picker",32,1),2&M){const y=m.XpG();m.Y8G("clientSecrets",y.possibleSecrets)("nonModelCertPicker",!1)}}function B(M,W){if(1&M){const y=m.RV6();m.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),m.mxI("ngModelChange",function(Z){m.eBV(y);const v=m.XpG();return m.DH7(v.data.rememberSecretAction,Z)||(v.data.rememberSecretAction=Z),m.Njj(Z)}),m.k0s(),m.j41(5,"span",37),m.EFF(6),m.nI1(7,"translate"),m.k0s()()()()()}if(2&M){const y=m.XpG();m.R7$(4),m.R50("ngModel",y.data.rememberSecretAction),m.R7$(2),m.SpI(" ",m.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var V=function(M){return M[M.DoNotSet=0]="DoNotSet",M[M.Generate=1]="Generate",M[M.ManuallyCreate=2]="ManuallyCreate",M[M.UseExistingSecret=3]="UseExistingSecret",M}(V||{});let F=(()=>{class M extends e.P{get data(){return this._selectableImportResource}set data(y){this._selectableImportResource=y}constructor(y,X,Z){super(),this.translate=y,this.fb=X,this.changeDetector=Z,this.SecretsActions=V,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",o.k0.required]}),this.data){const y=this.data.existingHasSecrets?V.UseExistingSecret:V.DoNotSet;this.form.get("secretAction").setValue(y),this.displayResourceType=this.data.resourceType===t.ot.Client?w.n.client:w.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===V.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:V.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:V.Generate})),this.form.valueChanges.subscribe(()=>{const y=this.form.value.secretAction;this.data.secretsAction=y,y===V.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?t.ot[this.data.resourceType]:""}goNext(){const y=this.form.get("secretAction");if(y.value===V.DoNotSet)this.data.secrets=[];else if(y.value===V.UseExistingSecret)this.data.useExistingSecrets=!0;else if(y.value===V.Generate){const X=new f.z;X.value=(0,A.Nl)(),X.type="Shared Secret",X.description="",this.data.secrets=[X]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(y=>{this.possibleSecrets.push(y)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(y=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(y),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function(X){return new(X||M)(m.rXU(D.c$),m.rXU(o.ze),m.rXU(m.gRc))}}static{this.\u0275cmp=m.VBU({type:M,selectors:[["app-import-secrets"]],viewQuery:function(X,Z){if(1&X&&m.GBs(k,5),2&X){let v;m.mGM(v=m.lsd())&&(Z.secretPicker=v.first)}},standalone:!1,features:[m.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(X,Z){if(1&X){const v=m.RV6();m.j41(0,"div",2)(1,"h2",3)(2,"span",4),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span",5),m.EFF(6),m.nI1(7,"translate"),m.k0s()(),m.j41(8,"div",6)(9,"p",7),m.EFF(10),m.nI1(11,"translate"),m.k0s()(),m.j41(12,"form",8)(13,"ul",9),m.DNE(14,z,6,4,"li",10)(15,u,6,4,"ng-template",null,0,m.C5r),m.j41(17,"li",11)(18,"label",12),m.nrm(19,"input",13),m.j41(20,"span"),m.EFF(21),m.nI1(22,"translate"),m.k0s()()(),m.j41(23,"li",11)(24,"label",14),m.nrm(25,"input",15),m.j41(26,"span"),m.EFF(27),m.nI1(28,"translate"),m.k0s()()()()(),m.j41(29,"div",16)(30,"p",17)(31,"b",18),m.EFF(32),m.nI1(33,"translate"),m.k0s(),m.EFF(34),m.nI1(35,"translate"),m.k0s()(),m.DNE(36,E,2,2,"app-secret-picker",19)(37,B,8,4,"div",20),m.k0s(),m.nrm(38,"div",21),m.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),m.bIt("click",function(){return m.eBV(v),m.Njj(Z.goNext())}),m.EFF(43),m.nI1(44,"translate"),m.k0s(),m.j41(45,"button",26),m.bIt("click",function(){return m.eBV(v),m.Njj(Z.back())}),m.EFF(46),m.nI1(47,"translate"),m.k0s()(),m.j41(48,"button",27),m.bIt("click",function(){return m.eBV(v),m.Njj(Z.cancel())}),m.EFF(49),m.nI1(50,"translate"),m.k0s()()()}if(2&X){const v=m.sdS(16);m.R7$(3),m.SpI("",m.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),m.R7$(3),m.Lme("",null==Z.data?null:Z.data.displayName," (",m.bMT(7,20,"Clients.Import.Wizard.Secrets."+Z.displayResourceType),")"),m.R7$(4),m.JRh(m.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),m.R7$(2),m.Y8G("formGroup",Z.form),m.R7$(2),m.Y8G("ngIf",!(null!=Z.data&&Z.data.existingHasSecrets))("ngIfElse",v),m.R7$(5),m.Y8G("value",Z.SecretsActions.Generate),m.R7$(2),m.JRh(m.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),m.R7$(4),m.Y8G("value",Z.SecretsActions.ManuallyCreate),m.R7$(2),m.JRh(m.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),m.R7$(5),m.SpI("",m.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),m.R7$(2),m.SpI(" ",m.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),m.R7$(2),m.Y8G("ngIf",Z.showSecretPicker),m.R7$(),m.Y8G("ngIf",!Z.showSecretPicker),m.R7$(6),m.JRh(m.bMT(44,32,"Common.Next")),m.R7$(3),m.JRh(m.bMT(47,34,"Common.Back")),m.R7$(3),m.JRh(m.bMT(50,36,"Common.Cancel"))}},dependencies:[S.bT,o.qT,o.me,o.Zm,o.Fm,o.BC,o.cb,o.vS,o.j4,o.JD,g.s,D.D9],encapsulation:2})}}return M})()},1176:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>f});var t=l(4412),o=l(1360);let f=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},1203:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>o,m:()=>f});var t=l(3669);function o(...A){return f(A)}function f(A){return 0===A.length?t.D:1===A.length?A[0]:function(w){return A.reduce((m,D)=>D(m),w)}}},1258:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>t});var t=function(o){return o.Save="Save",o.SaveAndReAdd="SaveAndReAdd",o.Delete="Delete",o}(t||{})},1290:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var o=ot.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=o;var f=t.sha384=t.sha512.sha384=t.sha512.sha384||{};f.create=function(){return o.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=f,t.sha512.sha256=t.sha512.sha256||{create:function(){return o.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return o.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,o.create=function(g){if(e||function D(){A="\x80",A+=t.util.fillString("\0",128),w=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(m={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],m["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],m["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],m["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],e=!0}(),typeof g>"u"&&(g="SHA-512"),!(g in m))throw new Error("Invalid SHA-512 algorithm: "+g);for(var k=m[g],z=null,u=t.util.createBuffer(),E=new Array(80),B=0;B<80;++B)E[B]=new Array(2);var V=64;switch(g){case"SHA-384":V=48;break;case"SHA-512/256":V=32;break;case"SHA-512/224":V=28}var F={algorithm:g.replace("-","").toLowerCase(),blockLength:128,digestLength:V,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){F.messageLength=0,F.fullMessageLength=F.messageLength128=[];for(var M=F.messageLengthSize/4,W=0;W<M;++W)F.fullMessageLength.push(0);for(u=t.util.createBuffer(),z=new Array(k.length),W=0;W<k.length;++W)z[W]=k[W].slice(0);return F}};return F.start(),F.update=function(M,W){"utf8"===W&&(M=t.util.encodeUtf8(M));var y=M.length;F.messageLength+=y,y=[y/4294967296>>>0,y>>>0];for(var X=F.fullMessageLength.length-1;X>=0;--X)F.fullMessageLength[X]+=y[1],y[1]=y[0]+(F.fullMessageLength[X]/4294967296>>>0),F.fullMessageLength[X]=F.fullMessageLength[X]>>>0,y[0]=y[1]/4294967296>>>0;return u.putBytes(M),S(z,E,u),(u.read>2048||0===u.length())&&u.compact(),F},F.digest=function(){var M=t.util.createBuffer();M.putBytes(u.bytes()),M.putBytes(A.substr(0,F.blockLength-(F.fullMessageLength[F.fullMessageLength.length-1]+F.messageLengthSize&F.blockLength-1)));for(var X,v=8*F.fullMessageLength[0],L=0;L<F.fullMessageLength.length-1;++L)M.putInt32((v+=(X=8*F.fullMessageLength[L+1])/4294967296>>>0)>>>0),v=X>>>0;M.putInt32(v);var Q=new Array(z.length);for(L=0;L<z.length;++L)Q[L]=z[L].slice(0);S(Q,E,M);var N,te=t.util.createBuffer();for(N="SHA-512"===g?Q.length:"SHA-384"===g?Q.length-2:Q.length-4,L=0;L<N;++L)te.putInt32(Q[L][0]),(L!==N-1||"SHA-512/224"!==g)&&te.putInt32(Q[L][1]);return te},F};var A=null,e=!1,w=null,m=null;function S(g,k,z){for(var u,E,B,V,Q,te,N,fe,oe,R,Fe,we,We,rt,lt,vt,Ue,Ye,He,it,Le,Ve,Xe,je,ct,st,Qe,ne=z.length();ne>=128;){for(Le=0;Le<16;++Le)k[Le][0]=z.getInt32()>>>0,k[Le][1]=z.getInt32()>>>0;for(;Le<80;++Le)E=(((Ve=(je=k[Le-2])[0])<<13|(Xe=je[1])>>>19)^(Xe<<3|Ve>>>29)^(Ve<<26|Xe>>>6))>>>0,k[Le][0]=(u=((Ve>>>19|Xe<<13)^(Xe>>>29|Ve<<3)^Ve>>>6)>>>0)+(ct=k[Le-7])[0]+(B=(((Ve=(st=k[Le-15])[0])>>>1|(Xe=st[1])<<31)^(Ve>>>8|Xe<<24)^Ve>>>7)>>>0)+(Qe=k[Le-16])[0]+((Xe=E+ct[1]+(V=((Ve<<31|Xe>>>1)^(Ve<<24|Xe>>>8)^(Ve<<25|Xe>>>7))>>>0)+Qe[1])/4294967296>>>0)>>>0,k[Le][1]=Xe>>>0;for(Q=g[0][0],te=g[0][1],N=g[1][0],fe=g[1][1],oe=g[2][0],R=g[2][1],Fe=g[3][0],we=g[3][1],We=g[4][0],rt=g[4][1],lt=g[5][0],vt=g[5][1],Ue=g[6][0],Ye=g[6][1],He=g[7][0],it=g[7][1],Le=0;Le<80;++Le)u=He+(((We>>>14|rt<<18)^(We>>>18|rt<<14)^(rt>>>9|We<<23))>>>0)+((Ue^We&(lt^Ue))>>>0)+w[Le][0]+k[Le][0]+((Xe=it+(((We<<18|rt>>>14)^(We<<14|rt>>>18)^(rt<<23|We>>>9))>>>0)+((Ye^rt&(vt^Ye))>>>0)+w[Le][1]+k[Le][1])/4294967296>>>0)>>>0,E=Xe>>>0,B=(((Q>>>28|te<<4)^(te>>>2|Q<<30)^(te>>>7|Q<<25))>>>0)+((Q&N|oe&(Q^N))>>>0)+((Xe=(((Q<<4|te>>>28)^(te<<30|Q>>>2)^(te<<25|Q>>>7))>>>0)+((te&fe|R&(te^fe))>>>0))/4294967296>>>0)>>>0,V=Xe>>>0,He=Ue,it=Ye,Ue=lt,Ye=vt,lt=We,vt=rt,We=Fe+u+((Xe=we+E)/4294967296>>>0)>>>0,rt=Xe>>>0,Fe=oe,we=R,oe=N,R=fe,N=Q,fe=te,Q=u+B+((Xe=E+V)/4294967296>>>0)>>>0,te=Xe>>>0;g[0][0]=g[0][0]+Q+((Xe=g[0][1]+te)/4294967296>>>0)>>>0,g[0][1]=Xe>>>0,g[1][0]=g[1][0]+N+((Xe=g[1][1]+fe)/4294967296>>>0)>>>0,g[1][1]=Xe>>>0,g[2][0]=g[2][0]+oe+((Xe=g[2][1]+R)/4294967296>>>0)>>>0,g[2][1]=Xe>>>0,g[3][0]=g[3][0]+Fe+((Xe=g[3][1]+we)/4294967296>>>0)>>>0,g[3][1]=Xe>>>0,g[4][0]=g[4][0]+We+((Xe=g[4][1]+rt)/4294967296>>>0)>>>0,g[4][1]=Xe>>>0,g[5][0]=g[5][0]+lt+((Xe=g[5][1]+vt)/4294967296>>>0)>>>0,g[5][1]=Xe>>>0,g[6][0]=g[6][0]+Ue+((Xe=g[6][1]+Ye)/4294967296>>>0)>>>0,g[6][1]=Xe>>>0,g[7][0]=g[7][0]+He+((Xe=g[7][1]+it)/4294967296>>>0)>>>0,g[7][1]=Xe>>>0,ne-=128}}},1339:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>e});var t=l(7263),o=l(1360),f=l(3165),A=l(2972);let e=(()=>{class w{constructor(D,S){this.http=D,this.appComponentViewService=S,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const g=(0,t.$_)();this.actionUrl="auth",this.authUrl=`${g}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(S){return new(S||w)(o.KVO(f.Qq),o.KVO(A.X))}}static{this.\u0275prov=o.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},1347:(ot,ve,l)=>{var t=l(6589);if(l(57),l(7097),l(3674),l(5437),l(1817),l(1097),l(9368),l(1675),l(1881),l(2880),l(812),typeof o>"u")var o=t.jsbn.BigInteger;var f=t.asn1,A=t.pki=t.pki||{};ot.exports=A.pbe=t.pbe=t.pbe||{};var e=A.oids,w={name:"EncryptedPrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},m={name:"PBES2Algorithms",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},D={name:"pkcs-12PbeParams",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"iterations"}]};function S(u,E){return u.start().update(E).digest().getBytes()}function g(u){var E;if(u){if(!(E=A.oids[f.derToOid(u)])){var B=new Error("Unsupported PRF OID.");throw B.oid=u,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}}else E="hmacWithSHA1";return k(E)}function k(u){var E=t.md;switch(u){case"hmacWithSHA224":E=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":u=u.substr(8).toLowerCase();break;default:var B=new Error("Unsupported PRF algorithm.");throw B.algorithm=u,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}if(!E||!(u in E))throw new Error("Unknown hash algorithm: "+u);return E[u].create()}A.encryptPrivateKeyInfo=function(u,E,B){(B=B||{}).saltSize=B.saltSize||8,B.count=B.count||2048,B.algorithm=B.algorithm||"aes128",B.prfAlgorithm=B.prfAlgorithm||"sha1";var W,y,X,V=t.random.getBytesSync(B.saltSize),F=B.count,M=f.integerToDer(F);if(0===B.algorithm.indexOf("aes")||"des"===B.algorithm){var Z,v,L;switch(B.algorithm){case"aes128":W=16,Z=16,v=e["aes128-CBC"],L=t.aes.createEncryptionCipher;break;case"aes192":W=24,Z=16,v=e["aes192-CBC"],L=t.aes.createEncryptionCipher;break;case"aes256":W=32,Z=16,v=e["aes256-CBC"],L=t.aes.createEncryptionCipher;break;case"des":W=8,Z=8,v=e.desCBC,L=t.des.createEncryptionCipher;break;default:throw(Q=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=B.algorithm,Q}var te="hmacWith"+B.prfAlgorithm.toUpperCase(),N=k(te),fe=t.pkcs5.pbkdf2(E,V,F,W,N),oe=t.random.getBytesSync(Z);(R=L(fe)).start(oe),R.update(f.toDer(u)),R.finish(),X=R.output.getBytes();var Fe=function z(u,E,B,V){var F=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,u),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,E.getBytes())]);return"hmacWithSHA1"!==V&&F.value.push(f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,t.util.hexToBytes(B.toString(16))),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(A.oids[V]).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])),F}(V,M,W,te);y=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.pkcs5PBES2).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.pkcs5PBKDF2).getBytes()),Fe]),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(v).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,oe)])])])}else{var Q;if("3des"!==B.algorithm)throw(Q=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=B.algorithm,Q;W=24;var R,we=new t.util.ByteBuffer(V);fe=A.pbe.generatePkcs12Key(E,we,1,F,W),oe=A.pbe.generatePkcs12Key(E,we,2,F,W),(R=t.des.createEncryptionCipher(fe)).start(oe),R.update(f.toDer(u)),R.finish(),X=R.output.getBytes(),y=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,V),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,M.getBytes())])])}return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[y,f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,X)])},A.decryptPrivateKeyInfo=function(u,E){var B=null,V={},F=[];if(!f.validate(u,w,V,F)){var M=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw M.errors=F,M}var W=f.derToOid(V.encryptionOid),y=A.pbe.getCipher(W,V.encryptionParams,E),X=t.util.createBuffer(V.encryptedData);return y.update(X),y.finish()&&(B=f.fromDer(y.output)),B},A.encryptedPrivateKeyToPem=function(u,E){var B={type:"ENCRYPTED PRIVATE KEY",body:f.toDer(u).getBytes()};return t.pem.encode(B,{maxline:E})},A.encryptedPrivateKeyFromPem=function(u){var E=t.pem.decode(u)[0];if("ENCRYPTED PRIVATE KEY"!==E.type){var B=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw B.headerType=E.type,B}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return f.fromDer(E.body)},A.encryptRsaPrivateKey=function(u,E,B){if(!(B=B||{}).legacy){var V=A.wrapRsaPrivateKey(A.privateKeyToAsn1(u));return V=A.encryptPrivateKeyInfo(V,E,B),A.encryptedPrivateKeyToPem(V)}var F,M,W,y;switch(B.algorithm){case"aes128":F="AES-128-CBC",W=16,M=t.random.getBytesSync(16),y=t.aes.createEncryptionCipher;break;case"aes192":F="AES-192-CBC",W=24,M=t.random.getBytesSync(16),y=t.aes.createEncryptionCipher;break;case"aes256":F="AES-256-CBC",W=32,M=t.random.getBytesSync(16),y=t.aes.createEncryptionCipher;break;case"3des":F="DES-EDE3-CBC",W=24,M=t.random.getBytesSync(8),y=t.des.createEncryptionCipher;break;case"des":F="DES-CBC",W=8,M=t.random.getBytesSync(8),y=t.des.createEncryptionCipher;break;default:var X=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+B.algorithm+'".');throw X.algorithm=B.algorithm,X}var v=y(t.pbe.opensslDeriveBytes(E,M.substr(0,8),W));v.start(M),v.update(f.toDer(A.privateKeyToAsn1(u))),v.finish();var L={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:F,parameters:t.util.bytesToHex(M).toUpperCase()},body:v.output.getBytes()};return t.pem.encode(L)},A.decryptRsaPrivateKey=function(u,E){var B=null,V=t.pem.decode(u)[0];if("ENCRYPTED PRIVATE KEY"!==V.type&&"PRIVATE KEY"!==V.type&&"RSA PRIVATE KEY"!==V.type)throw(F=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=F,F;if(V.procType&&"ENCRYPTED"===V.procType.type){var M,W;switch(V.dekInfo.algorithm){case"DES-CBC":M=8,W=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":M=24,W=t.des.createDecryptionCipher;break;case"AES-128-CBC":M=16,W=t.aes.createDecryptionCipher;break;case"AES-192-CBC":M=24,W=t.aes.createDecryptionCipher;break;case"AES-256-CBC":M=32,W=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":M=5,W=function(L){return t.rc2.createDecryptionCipher(L,40)};break;case"RC2-64-CBC":M=8,W=function(L){return t.rc2.createDecryptionCipher(L,64)};break;case"RC2-128-CBC":M=16,W=function(L){return t.rc2.createDecryptionCipher(L,128)};break;default:var F;throw(F=new Error('Could not decrypt private key; unsupported encryption algorithm "'+V.dekInfo.algorithm+'".')).algorithm=V.dekInfo.algorithm,F}var y=t.util.hexToBytes(V.dekInfo.parameters),Z=W(t.pbe.opensslDeriveBytes(E,y.substr(0,8),M));if(Z.start(y),Z.update(t.util.createBuffer(V.body)),!Z.finish())return B;B=Z.output.getBytes()}else B=V.body;return null!==(B="ENCRYPTED PRIVATE KEY"===V.type?A.decryptPrivateKeyInfo(f.fromDer(B),E):f.fromDer(B))&&(B=A.privateKeyFromAsn1(B)),B},A.pbe.generatePkcs12Key=function(u,E,B,V,F,M){var W,y;if(typeof M>"u"||null===M){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');M=t.md.sha1.create()}var X=M.digestLength,Z=M.blockLength,v=new t.util.ByteBuffer,L=new t.util.ByteBuffer;if(null!=u){for(y=0;y<u.length;y++)L.putInt16(u.charCodeAt(y));L.putInt16(0)}var Q=L.length(),te=E.length(),N=new t.util.ByteBuffer;N.fillWithByte(B,Z);var fe=Z*Math.ceil(te/Z),oe=new t.util.ByteBuffer;for(y=0;y<fe;y++)oe.putByte(E.at(y%te));var R=Z*Math.ceil(Q/Z),Fe=new t.util.ByteBuffer;for(y=0;y<R;y++)Fe.putByte(L.at(y%Q));var we=oe;we.putBuffer(Fe);for(var We=Math.ceil(F/X),rt=1;rt<=We;rt++){var lt=new t.util.ByteBuffer;lt.putBytes(N.bytes()),lt.putBytes(we.bytes());for(var vt=0;vt<V;vt++)M.start(),M.update(lt.getBytes()),lt=M.digest();var Ue=new t.util.ByteBuffer;for(y=0;y<Z;y++)Ue.putByte(lt.at(y%X));var Ye=Math.ceil(te/Z)+Math.ceil(Q/Z),He=new t.util.ByteBuffer;for(W=0;W<Ye;W++){var it=new t.util.ByteBuffer(we.getBytes(Z)),Le=511;for(y=Ue.length()-1;y>=0;y--)Le>>=8,Le+=Ue.at(y)+it.at(y),it.setAt(y,255&Le);He.putBuffer(it)}we=He,v.putBuffer(lt)}return v.truncate(v.length()-F),v},A.pbe.getCipher=function(u,E,B){switch(u){case A.oids.pkcs5PBES2:return A.pbe.getCipherForPBES2(u,E,B);case A.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case A.oids["pbewithSHAAnd40BitRC2-CBC"]:return A.pbe.getCipherForPKCS12PBE(u,E,B);default:var V=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw V.oid=u,V.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],V}},A.pbe.getCipherForPBES2=function(u,E,B){var M,V={},F=[];if(!f.validate(E,m,V,F))throw(M=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=F,M;if((u=f.derToOid(V.kdfOid))!==A.oids.pkcs5PBKDF2)throw(M=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=u,M.supportedOids=["pkcs5PBKDF2"],M;if((u=f.derToOid(V.encOid))!==A.oids["aes128-CBC"]&&u!==A.oids["aes192-CBC"]&&u!==A.oids["aes256-CBC"]&&u!==A.oids["des-EDE3-CBC"]&&u!==A.oids.desCBC)throw(M=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=u,M.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],M;var X,Z,W=V.kdfSalt,y=t.util.createBuffer(V.kdfIterationCount);switch(y=y.getInt(y.length()<<3),A.oids[u]){case"aes128-CBC":X=16,Z=t.aes.createDecryptionCipher;break;case"aes192-CBC":X=24,Z=t.aes.createDecryptionCipher;break;case"aes256-CBC":X=32,Z=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":X=24,Z=t.des.createDecryptionCipher;break;case"desCBC":X=8,Z=t.des.createDecryptionCipher}var v=g(V.prfOid),L=t.pkcs5.pbkdf2(B,W,y,X,v),Q=V.encIv,te=Z(L);return te.start(Q),te},A.pbe.getCipherForPKCS12PBE=function(u,E,B){var V={},F=[];if(!f.validate(E,D,V,F))throw(M=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=F,M;var X,Z,v,W=t.util.createBuffer(V.salt),y=t.util.createBuffer(V.iterations);switch(y=y.getInt(y.length()<<3),u){case A.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:X=24,Z=8,v=t.des.startDecrypting;break;case A.oids["pbewithSHAAnd40BitRC2-CBC"]:X=5,Z=8,v=function(fe,oe){var R=t.rc2.createDecryptionCipher(fe,40);return R.start(oe,null),R};break;default:var M;throw(M=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=u,M}var L=g(V.prfOid),Q=A.pbe.generatePkcs12Key(B,W,1,y,X,L);return L.start(),v(Q,A.pbe.generatePkcs12Key(B,W,2,y,Z,L))},A.pbe.opensslDeriveBytes=function(u,E,B,V){if(typeof V>"u"||null===V){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');V=t.md.md5.create()}null===E&&(E="");for(var F=[S(V,u+E)],M=16,W=1;M<B;++W,M+=16)F.push(S(V,F[W-1]+u+E));return F.join("").substr(0,B)}},1360:(ot,ve,l)=>{"use strict";function o(n,i){return Object.is(n,i)}l.d(ve,{bc$:()=>xC,iLQ:()=>Cy,sZ2:()=>jh,hnV:()=>SE,Hbi:()=>CO,o8S:()=>cu,BIS:()=>kC,gRc:()=>qR,Ql9:()=>jM,OM3:()=>vs,Ocv:()=>zM,abz:()=>hl,Z63:()=>vr,aKT:()=>od,uvJ:()=>Rr,zcH:()=>Ja,bkB:()=>pl,$GK:()=>Ui,nKC:()=>Jt,zZn:()=>pa,_q3:()=>_T,MKu:()=>vT,xe9:()=>hT,Co$:()=>nC,Vns:()=>hp,SKi:()=>ur,Xx1:()=>kr,Agw:()=>zy,PLl:()=>Ng,sFG:()=>Pu,_9s:()=>au,czy:()=>Om,WPN:()=>hh,kdw:()=>Pr,C4Q:()=>nc,NYb:()=>_D,giA:()=>ew,RxE:()=>jR,c1b:()=>$1,gXe:()=>fd,mal:()=>Eo,Tzd:()=>Zc,Af3:()=>_a,L39:()=>GO,EWP:()=>Py,a0P:()=>ux,Ol2:()=>b,w6W:()=>oE,oH4:()=>XR,SmG:()=>aO,Rfq:()=>xi,WQX:()=>Ci,hFB:()=>g_,naY:()=>rO,QuC:()=>Yr,EmA:()=>Er,fpN:()=>bO,phd:()=>bD,HJs:()=>dx,N4e:()=>Gr,vPA:()=>Xd,O8t:()=>Id,H3F:()=>mE,H8p:()=>$i,KH2:()=>c_,Ua0:()=>yu,wOt:()=>de,WHO:()=>ZT,e01:()=>qT,Lf2:()=>Jl,lNU:()=>pe,h9k:()=>X_,$MX:()=>e1,ZF7:()=>Tc,Kcf:()=>ef,e5t:()=>dh,UyX:()=>K_,cWb:()=>hm,osQ:()=>pm,H5H:()=>GE,Zy3:()=>q,mq5:()=>Xw,JZv:()=>Tn,LfX:()=>Un,plB:()=>Fu,jNT:()=>CE,zjR:()=>tw,ngT:()=>el,TL$:()=>Wy,Tbb:()=>Ni,rcV:()=>Au,nM4:()=>qa,Vt3:()=>ys,OA$:()=>ko,Jv_:()=>rR,R7$:()=>Q0,BMQ:()=>RE,HbH:()=>Dw,ZvI:()=>Fw,STu:()=>Bw,AVh:()=>kE,vxM:()=>jw,wni:()=>OI,VBU:()=>p,FsC:()=>Ct,jDH:()=>qn,G2t:()=>oi,$C:()=>le,EJ8:()=>Lt,rXU:()=>gf,nrm:()=>LE,eu8:()=>UE,bVm:()=>gC,qex:()=>mC,k0s:()=>fC,j41:()=>pC,RV6:()=>zw,xGo:()=>Xa,Mr5:()=>jE,pXf:()=>fI,KVO:()=>xs,kS0:()=>Lo,QTQ:()=>Cb,bIt:()=>WE,lsd:()=>PI,XpG:()=>SI,nI1:()=>yR,bMT:()=>bR,i5U:()=>CR,brH:()=>SR,SdG:()=>TI,NAR:()=>EI,Y8G:()=>ME,FS9:()=>zE,Mz_:()=>CC,FCK:()=>XE,lJ4:()=>oR,eq3:()=>lR,l_i:()=>cR,sMw:()=>uR,ziG:()=>dR,s1E:()=>hR,l4e:()=>pR,mGM:()=>kI,sdS:()=>FI,Dyx:()=>Kw,Z7z:()=>Hw,fX1:()=>Gw,Vm6:()=>$w,Njj:()=>Fl,EBC:()=>B0,tSv:()=>F0,eBV:()=>Rh,npT:()=>s1,B4B:()=>ph,n$t:()=>I0,xc7:()=>xE,zvX:()=>$E,DNE:()=>gy,C5r:()=>ER,EFF:()=>WI,JRh:()=>QE,SpI:()=>SC,Lme:()=>ZE,DH7:()=>tR,mxI:()=>eT,R50:()=>qE,GBs:()=>xI}),l(467);let f=null,A=!1,e=1;const w=Symbol("SIGNAL");function m(n){const i=f;return f=n,i}const k={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function z(n){if(A)throw new Error("");if(null===f)return;f.consumerOnSignalRead(n);const i=f.nextProducerIndex++;te(f),i<f.producerNode.length&&f.producerNode[i]!==n&&Q(f)&&L(f.producerNode[i],f.producerIndexOfThis[i]),f.producerNode[i]!==n&&(f.producerNode[i]=n,f.producerIndexOfThis[i]=Q(f)?v(n,f,i):0),f.producerLastReadVersion[i]=n.version}function E(n){if((!Q(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==e)){if(!n.producerMustRecompute(n)&&!X(n))return void M(n);n.producerRecomputeValue(n),M(n)}}function B(n){if(void 0===n.liveConsumerNode)return;const i=A;A=!0;try{for(const r of n.liveConsumerNode)r.dirty||F(r)}finally{A=i}}function V(){return!1!==f?.consumerAllowSignalWrites}function F(n){n.dirty=!0,B(n),n.consumerMarkedDirty?.(n)}function M(n){n.dirty=!1,n.lastCleanEpoch=e}function W(n){return n&&(n.nextProducerIndex=0),m(n)}function y(n,i){if(m(i),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Q(n))for(let r=n.nextProducerIndex;r<n.producerNode.length;r++)L(n.producerNode[r],n.producerIndexOfThis[r]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function X(n){te(n);for(let i=0;i<n.producerNode.length;i++){const r=n.producerNode[i],c=n.producerLastReadVersion[i];if(c!==r.version||(E(r),c!==r.version))return!0}return!1}function Z(n){if(te(n),Q(n))for(let i=0;i<n.producerNode.length;i++)L(n.producerNode[i],n.producerIndexOfThis[i]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function v(n,i,r){if(N(n),0===n.liveConsumerNode.length&&fe(n))for(let c=0;c<n.producerNode.length;c++)n.producerIndexOfThis[c]=v(n.producerNode[c],n,c);return n.liveConsumerIndexOfThis.push(r),n.liveConsumerNode.push(i)-1}function L(n,i){if(N(n),1===n.liveConsumerNode.length&&fe(n))for(let c=0;c<n.producerNode.length;c++)L(n.producerNode[c],n.producerIndexOfThis[c]);const r=n.liveConsumerNode.length-1;if(n.liveConsumerNode[i]=n.liveConsumerNode[r],n.liveConsumerIndexOfThis[i]=n.liveConsumerIndexOfThis[r],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,i<n.liveConsumerNode.length){const c=n.liveConsumerIndexOfThis[i],_=n.liveConsumerNode[i];te(_),_.producerIndexOfThis[c]=i}}function Q(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function te(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function N(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function fe(n){return void 0!==n.producerNode}const R=Symbol("UNSET"),Fe=Symbol("COMPUTING"),we=Symbol("ERRORED"),We={...k,value:R,dirty:!0,error:null,equal:o,kind:"computed",producerMustRecompute:n=>n.value===R||n.value===Fe,producerRecomputeValue(n){if(n.value===Fe)throw new Error("Detected cycle in computations.");const i=n.value;n.value=Fe;const r=W(n);let c,_=!1;try{c=n.computation(),m(null),_=i!==R&&i!==we&&c!==we&&n.equal(i,c)}catch(I){c=we,n.error=I}finally{y(n,r)}_?n.value=i:(n.value=c,n.version++)}};let lt=function rt(){throw new Error};function vt(n){lt(n)}let Ye=null;function Le(n,i){V()||vt(n),n.equal(n.value,i)||(n.value=i,function ct(n){n.version++,function u(){e++}(),B(n),Ye?.()}(n))}const je={...k,equal:o,value:void 0,kind:"signal"};let s;function dt(){return s}function _t(n){const i=s;return s=n,i}const en=Symbol("NotFound");Error;var tn=l(4412),Ln=l(1413),ni=l(8359),ft=l(6354);const pe="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class de extends Error{code;constructor(i,r){super(q(i,r)),this.code=i}}function q(n,i){return`${function P(n){return`NG0${Math.abs(n)}`}(n)}${i?": "+i:""}`}const Ne=Symbol("InputSignalNode#UNSET"),De={...je,transformFn:void 0,applyValueToInputSignal(n,i){Le(n,i)}};function gt(n,i){const r=Object.create(De);function c(){if(z(r),r.value===Ne)throw new de(-950,null);return r.value}return r.value=n,r.transformFn=i?.transform,c[w]=r,c}function Kt(n){return{toString:n}.toString()}const Rn="__parameters__";function Gn(n,i,r){return Kt(()=>{const c=function Ot(n){return function(...r){if(n){const c=n(...r);for(const _ in c)this[_]=c[_]}}}(i);function _(...I){if(this instanceof _)return c.apply(this,I),this;const O=new _(...I);return J.annotation=O,J;function J(re,Me,Ke){const mt=re.hasOwnProperty(Rn)?re[Rn]:Object.defineProperty(re,Rn,{value:[]})[Rn];for(;mt.length<=Ke;)mt.push(null);return(mt[Ke]=mt[Ke]||[]).push(O),re}}return _.prototype.ngMetadataName=n,_.annotationCls=_,_})}const Tn=globalThis;function _i(n){for(let i in n)if(n[i]===_i)return i;throw Error("Could not find renamed property on target object.")}function Bi(n,i){for(const r in i)i.hasOwnProperty(r)&&!n.hasOwnProperty(r)&&(n[r]=i[r])}function Ni(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(Ni).join(", ")}]`;if(null==n)return""+n;const i=n.overriddenName||n.name;if(i)return`${i}`;const r=n.toString();if(null==r)return""+r;const c=r.indexOf("\n");return c>=0?r.slice(0,c):r}function os(n,i){return n?i?`${n} ${i}`:n:i||""}const fs=_i({__forward_ref__:_i});function xi(n){return n.__forward_ref__=xi,n.toString=function(){return Ni(this())},n}function wt(n){return Tt(n)?n():n}function Tt(n){return"function"==typeof n&&n.hasOwnProperty(fs)&&n.__forward_ref__===xi}function Ei(n,i,r){n!=i&&function Rt(n,i,r,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${r} ${c} ${i} <=Actual]`))}(r,n,i,"==")}function qn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function oi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xt(n){return fn(n,Be)||fn(n,ht)}function Un(n){return null!==Xt(n)}function fn(n,i){return n.hasOwnProperty(i)?n[i]:null}function vi(n){return n&&(n.hasOwnProperty(Ze)||n.hasOwnProperty(jt))?n[Ze]:null}const Be=_i({\u0275prov:_i}),Ze=_i({\u0275inj:_i}),ht=_i({ngInjectableDef:_i}),jt=_i({ngInjectorDef:_i});class Jt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,r){this._desc=i,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=qn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yt(n){return n&&!!n.\u0275providers}const Fn=_i({\u0275cmp:_i}),Qi=_i({\u0275dir:_i}),Bt=_i({\u0275pipe:_i}),ue=_i({\u0275mod:_i}),Ae=_i({\u0275fac:_i}),ae=_i({__NG_ELEMENT_ID__:_i}),Ce=_i({__NG_ENV_ID__:_i});function Pe(n){return"string"==typeof n?n:null==n?"":String(n)}function Wi(n,i){throw new de(-200,n)}function li(n,i){throw new de(-201,!1)}var Ui=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ui||{});let Yi;function Os(){return Yi}function Fs(n){const i=Yi;return Yi=n,i}function Or(n,i,r){const c=Xt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:r&Ui.Optional?null:void 0!==i?i:void li()}const dn={},Vt="__NG_DI_FLAG__";class mn{injector;constructor(i){this.injector=i}retrieve(i,r){return this.injector.get(i,r.optional?en:dn,r)}}const Jn="ngTempTokenPath",fi=/\n/gm,Es="__source";function xr(n,i=Ui.Default){if(void 0===dt())throw new de(-203,!1);if(null===dt())return Or(n,void 0,i);{const r=dt();let c;return c=r instanceof mn?r.injector:r,c.get(n,i&Ui.Optional?null:void 0,i)}}function xs(n,i=Ui.Default){return(Os()||xr)(wt(n),i)}function Ci(n,i=Ui.Default){return xs(n,Ir(i))}function Ir(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qr(n){const i=[];for(let r=0;r<n.length;r++){const c=wt(n[r]);if(Array.isArray(c)){if(0===c.length)throw new de(900,!1);let _,I=Ui.Default;for(let O=0;O<c.length;O++){const J=c[O],re=da(J);"number"==typeof re?-1===re?_=J.token:I|=re:_=J}i.push(xs(_,I))}else i.push(xs(c))}return i}function Oa(n,i){return n[Vt]=i,n.prototype[Vt]=i,n}function da(n){return n[Vt]}const kr=Oa(Gn("Optional"),8),Pr=Oa(Gn("SkipSelf"),4);function ha(n,i){return n.hasOwnProperty(Ae)?n[Ae]:null}function Fr(n,i){n.forEach(r=>Array.isArray(r)?Fr(r,i):i(r))}function Wo(n,i,r){i>=n.length?n.push(r):n.splice(i,0,r)}function ta(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function mr(n,i,r){let c=io(n,i);return c>=0?n[1|c]=r:(c=~c,function Ur(n,i,r,c){let _=n.length;if(_==i)n.push(r,c);else if(1===_)n.push(c,n[0]),n[0]=r;else{for(_--,n.push(n[_-1],n[_]);_>i;)n[_]=n[_-2],_--;n[i]=r,n[i+1]=c}}(n,c,i,r)),c}function ka(n,i){const r=io(n,i);if(r>=0)return n[1|r]}function io(n,i){return function Ia(n,i,r){let c=0,_=n.length>>r;for(;_!==c;){const I=c+(_-c>>1),O=n[I<<r];if(i===O)return I<<r;O>i?_=I:c=I+1}return~(_<<r)}(n,i,1)}const Br={},Bs=[],vr=new Jt(""),jr=new Jt("",-1),Ao=new Jt("");class Ca{get(i,r=dn){if(r===dn){const c=new Error(`NullInjectorError: No provider for ${Ni(i)}!`);throw c.name="NullInjectorError",c}return r}}function ar(n,i){const r=n[ue]||null;if(!r&&!0===i)throw new Error(`Type ${Ni(n)} does not have '\u0275mod' property.`);return r}function hs(n){return n[Fn]||null}function Ds(n){return n[Qi]||null}function ks(n){return n[Bt]||null}function Yr(n){const i=hs(n)||Ds(n)||ks(n);return null!==i&&i.standalone}function Er(n){return{\u0275providers:n}}function Yo(...n){return{\u0275providers:so(0,n),\u0275fromNgModule:!0}}function so(n,...i){const r=[],c=new Set;let _;const I=O=>{r.push(O)};return Fr(i,O=>{const J=O;K(J,I,[],c)&&(_||=[],_.push(J))}),void 0!==_&&il(_,I),r}function il(n,i){for(let r=0;r<n.length;r++){const{ngModule:c,providers:_}=n[r];ee(_,I=>{i(I,c)})}}function K(n,i,r,c){if(!(n=wt(n)))return!1;let _=null,I=vi(n);const O=!I&&hs(n);if(I||O){if(O&&!O.standalone)return!1;_=n}else{const re=n.ngModule;if(I=vi(re),!I)return!1;_=re}const J=c.has(_);if(O){if(J)return!1;if(c.add(_),O.dependencies){const re="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const Me of re)K(Me,i,r,c)}}else{if(!I)return!1;{if(null!=I.imports&&!J){let Me;c.add(_);try{Fr(I.imports,Ke=>{K(Ke,i,r,c)&&(Me||=[],Me.push(Ke))})}finally{}void 0!==Me&&il(Me,i)}if(!J){const Me=ha(_)||(()=>new _);i({provide:_,useFactory:Me,deps:Bs},_),i({provide:Ao,useValue:_,multi:!0},_),i({provide:vr,useValue:()=>xs(_),multi:!0},_)}const re=I.providers;if(null!=re&&!J){const Me=n;ee(re,Ke=>{i(Ke,Me)})}}}return _!==n&&void 0!==n.providers}function ee(n,i){for(let r of n)Yt(r)&&(r=r.\u0275providers),Array.isArray(r)?ee(r,i):i(r)}const Te=_i({provide:String,useValue:_i});function qe(n){return null!==n&&"object"==typeof n&&Te in n}function ai(n){return"function"==typeof n}const $i=new Jt(""),Zs={},$r={};let ga;function $a(){return void 0===ga&&(ga=new Ca),ga}class Rr{}class Ga extends Rr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,r,c,_){super(),this.parent=r,this.source=c,this.scopes=_,No(i,O=>this.processProvider(O)),this.records.set(jr,Ys(void 0,this)),_.has("environment")&&this.records.set(Rr,Ys(void 0,this));const I=this.records.get($i);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(Ao,Bs,Ui.Self))}retrieve(i,r){return this.get(i,r.optional?en:dn,r)}destroy(){sl(this),this._destroyed=!0;const i=m(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of r)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(i)}}onDestroy(i){return sl(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){sl(this);const r=_t(this),c=Fs(void 0);try{return i()}finally{_t(r),Fs(c)}}get(i,r=dn,c=Ui.Default){if(sl(this),i.hasOwnProperty(Ce))return i[Ce](this);c=Ir(c);const I=_t(this),O=Fs(void 0);try{if(!(c&Ui.SkipSelf)){let re=this.records.get(i);if(void 0===re){const Me=function Ml(n){return"function"==typeof n||"object"==typeof n&&n instanceof Jt}(i)&&Xt(i);re=Me&&this.injectableDefInScope(Me)?Ys(ro(i),Zs):null,this.records.set(i,re)}if(null!=re)return this.hydrate(i,re)}return(c&Ui.Self?$a():this.parent).get(i,r=c&Ui.Optional&&r===dn?null:r)}catch(J){if("NullInjectorError"===J.name){if((J[Jn]=J[Jn]||[]).unshift(Ni(i)),I)throw J;return function fo(n,i,r,c){const _=n[Jn];throw i[Es]&&_.unshift(i[Es]),n.message=function ma(n,i,r,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let _=Ni(i);if(Array.isArray(i))_=i.map(Ni).join(" -> ");else if("object"==typeof i){let I=[];for(let O in i)if(i.hasOwnProperty(O)){let J=i[O];I.push(O+":"+("string"==typeof J?JSON.stringify(J):Ni(J)))}_=`{${I.join(", ")}}`}return`${r}${c?"("+c+")":""}[${_}]: ${n.replace(fi,"\n  ")}`}("\n"+n.message,_,r,c),n.ngTokenPath=_,n[Jn]=null,n}(J,i,"R3InjectorError",this.source)}throw J}finally{Fs(O),_t(I)}}resolveInjectorInitializers(){const i=m(null),r=_t(this),c=Fs(void 0);try{const I=this.get(vr,Bs,Ui.Self);for(const O of I)O()}finally{_t(r),Fs(c),m(i)}}toString(){const i=[],r=this.records;for(const c of r.keys())i.push(Ni(c));return`R3Injector[${i.join(", ")}]`}processProvider(i){let r=ai(i=wt(i))?i:wt(i&&i.provide);const c=function ws(n){return qe(n)?Ys(void 0,n.useValue):Ys(Pa(n),Zs)}(i);if(!ai(i)&&!0===i.multi){let _=this.records.get(r);_||(_=Ys(void 0,Zs,!0),_.factory=()=>qr(_.multi),this.records.set(r,_)),r=i,_.multi.push(i)}this.records.set(r,c)}hydrate(i,r){const c=m(null);try{return r.value===$r?Wi(Ni(i)):r.value===Zs&&(r.value=$r,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Nl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{m(c)}}injectableDefInScope(i){if(!i.providedIn)return!1;const r=wt(i.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(i){const r=this._onDestroyHooks.indexOf(i);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ro(n){const i=Xt(n),r=null!==i?i.factory:ha(n);if(null!==r)return r;if(n instanceof Jt)throw new de(204,!1);if(n instanceof Function)return function Mc(n){if(n.length>0)throw new de(204,!1);const r=function Qn(n){return n&&(n[Be]||n[ht])||null}(n);return null!==r?()=>r.factory(n):()=>new n}(n);throw new de(204,!1)}function Pa(n,i,r){let c;if(ai(n)){const _=wt(n);return ha(_)||ro(_)}if(qe(n))c=()=>wt(n.useValue);else if(function bn(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...qr(n.deps||[]));else if(function Pt(n){return!(!n||!n.useExisting)}(n))c=()=>xs(wt(n.useExisting));else{const _=wt(n&&(n.useClass||n.provide));if(!function Do(n){return!!n.deps}(n))return ha(_)||ro(_);c=()=>new _(...qr(n.deps))}return c}function sl(n){if(n.destroyed)throw new de(205,!1)}function Ys(n,i,r=!1){return{factory:n,value:i,multi:r?[]:void 0}}function No(n,i){for(const r of n)Array.isArray(r)?No(r,i):r&&Yt(r)?No(r.\u0275providers,i):i(r)}function Gr(n,i){let r;n instanceof Ga?(sl(n),r=n):r=new mn(n);const _=_t(r),I=Fs(void 0);try{return i()}finally{_t(_),Fs(I)}}function Ts(){return void 0!==Os()||null!=dt()}function _a(n){if(!Ts())throw new de(-203,!1)}const Ps=0,ci=1,ns=2,cr=3,hr=4,Vr=5,na=6,Ge=7,gn=8,$e=9,It=10,at=11,Sn=12,Ri=13,us=14,qi=15,Tr=16,Lr=17,zr=18,gr=19,Js=20,nr=21,Xo=23,Mi=24,se=26,Se=1,Ie=7,Mt=9,St=10;function an(n){return Array.isArray(n)&&"object"==typeof n[Se]}function Pn(n){return Array.isArray(n)&&!0===n[Se]}function Yn(n){return!!(4&n.flags)}function es(n){return n.componentOffset>-1}function rn(n){return!(1&~n.flags)}function Ee(n){return!!n.template}function G(n){return!!(512&n[ns])}function pt(n){return!(256&~n[ns])}class Rd{previousValue;currentValue;firstChange;constructor(i,r,c){this.previousValue=i,this.currentValue=r,this.firstChange=c}isFirstChange(){return this.firstChange}}function xo(n,i,r,c){null!==i?i.applyValueToInputSignal(i,c):n[r]=c}const ko=(()=>{const n=()=>Po;return n.ngInherit=!0,n})();function Po(n){return n.type.prototype.ngOnChanges&&(n.setInput=du),Ad}function Ad(){const n=Rs(this),i=n?.current;if(i){const r=n.previous;if(r===Br)n.previous=i;else for(let c in i)r[c]=i[c];n.current=null,this.ngOnChanges(i)}}function du(n,i,r,c,_){const I=this.declaredInputs[c],O=Rs(n)||function hu(n,i){return n[xl]=i}(n,{previous:Br,current:null}),J=O.current||(O.current={}),re=O.previous,Me=re[I];J[I]=new Rd(Me&&Me.currentValue,r,re===Br),xo(n,i,_,r)}const xl="__ngSimpleChanges__";function Rs(n){return n[xl]||null}const sr=function(n,i=null,r){};function $s(n){for(;Array.isArray(n);)n=n[Ps];return n}function oc(n,i){return $s(i[n])}function Sa(n,i){return $s(i[n.index])}function Jo(n,i){return n.data[i]}function go(n,i){return n[i]}function Wa(n,i){const r=i[n];return an(r)?r:r[Ps]}function Nd(n){return!(128&~n[ns])}function _o(n,i){return null==i?null:n[i]}function Uu(n){n[Lr]=0}function fu(n){1024&n[ns]||(n[ns]|=1024,Nd(n)&&lc(n))}function xc(n){return!!(9216&n[ns]||n[Mi]?.dirty)}function kc(n){n[It].changeDetectionScheduler?.notify(8),64&n[ns]&&(n[ns]|=1024),xc(n)&&lc(n)}function lc(n){n[It].changeDetectionScheduler?.notify(0);let i=Qo(n);for(;null!==i&&!(8192&i[ns])&&(i[ns]|=8192,Nd(i));)i=Qo(i)}function cc(n,i){if(pt(n))throw new de(911,!1);null===n[nr]&&(n[nr]=[]),n[nr].push(i)}function Qo(n){const i=n[cr];return Pn(i)?i[cr]:i}function $u(n){return n[Ge]??=[]}function Gu(n){return n.cleanup??=[]}const As={lFrame:dg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let gu=!1;function Ku(){return As.bindingsEnabled}function kl(){return null!==As.skipHydrationRootTNode}function kn(){return As.lFrame.lView}function ms(){return As.lFrame.tView}function Rh(n){return As.lFrame.contextLView=n,n[gn]}function Fl(n){return As.lFrame.contextLView=null,n}function Gs(){let n=Bl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bl(){return As.lFrame.currentTNode}function Vl(){const n=As.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function ce(n,i){const r=As.lFrame;r.currentTNode=n,r.isParent=i}function _n(){return As.lFrame.isParent}function j(){As.lFrame.isParent=!1}function zs(){return gu}function ya(n){const i=gu;return gu=n,i}function Ba(){const n=As.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Fo(){return As.lFrame.bindingIndex++}function Nr(n){const i=As.lFrame,r=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,r}function Ll(n){As.lFrame.inI18n=n}function vp(n,i){const r=As.lFrame;r.bindingIndex=r.bindingRootIndex=n,lo(i)}function lo(n){As.lFrame.currentDirectiveIndex=n}function Bc(n){const i=As.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Tf(){return As.lFrame.currentQueryIndex}function Ah(n){As.lFrame.currentQueryIndex=n}function yp(n){const i=n[ci];return 2===i.type?i.declTNode:1===i.type?n[Vr]:null}function d_(n,i,r){if(r&Ui.SkipSelf){let _=i,I=n;for(;!(_=_.parent,null!==_||r&Ui.Host||(_=yp(I),null===_||(I=I[us],10&_.type))););if(null===_)return!1;i=_,n=I}const c=As.lFrame=kd();return c.currentTNode=i,c.lView=n,!0}function Wu(n){const i=kd(),r=n[ci];As.lFrame=i,i.currentTNode=r.firstChild,i.lView=n,i.tView=r,i.contextLView=n,i.bindingIndex=r.bindingStartIndex,i.inI18n=!1}function kd(){const n=As.lFrame,i=null===n?null:n.child;return null===i?dg(n):i}function dg(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function wf(){const n=As.lFrame;return As.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Vc=wf;function Ul(){const n=wf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pr(){return As.lFrame.selectedIndex}function jl(n){As.lFrame.selectedIndex=n}function br(){const n=As.lFrame;return Jo(n.tView,n.selectedIndex)}let Yu=!0;function cl(){return Yu}function $l(n){Yu=n}function dc(n,i){for(let r=i.directiveStart,c=i.directiveEnd;r<c;r++){const I=n.data[r].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:J,ngAfterViewInit:re,ngAfterViewChecked:Me,ngOnDestroy:Ke}=I;O&&(n.contentHooks??=[]).push(-r,O),J&&((n.contentHooks??=[]).push(r,J),(n.contentCheckHooks??=[]).push(r,J)),re&&(n.viewHooks??=[]).push(-r,re),Me&&((n.viewHooks??=[]).push(r,Me),(n.viewCheckHooks??=[]).push(r,Me)),null!=Ke&&(n.destroyHooks??=[]).push(r,Ke)}}function Ya(n,i,r){Bd(n,i,3,r)}function Fd(n,i,r,c){(3&n[ns])===r&&Bd(n,i,r,c)}function Dh(n,i){let r=n[ns];(3&r)===i&&(r&=16383,r+=1,n[ns]=r)}function Bd(n,i,r,c){const I=c??-1,O=i.length-1;let J=0;for(let re=void 0!==c?65535&n[Lr]:0;re<O;re++)if("number"==typeof i[re+1]){if(J=i[re],null!=c&&J>=c)break}else i[re]<0&&(n[Lr]+=65536),(J<I||-1==I)&&(pg(n,r,i,re),n[Lr]=(4294901760&n[Lr])+re+2),re++}function bp(n,i){sr(4,n,i);const r=m(null);try{i.call(n)}finally{m(r),sr(5,n,i)}}function pg(n,i,r,c){const _=r[c]<0,I=r[c+1],J=n[_?-r[c]:r[c]];_?n[ns]>>14<n[Lr]>>16&&(3&n[ns])===i&&(n[ns]+=16384,bp(J,I)):bp(J,I)}const hc=-1;class Nh{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,r,c){this.factory=i,this.canSeeViewProviders=r,this.injectImpl=c}}function Gl(n){return 3===n||4===n||6===n}function ul(n){return 64===n.charCodeAt(0)}function Hl(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let r=-1;for(let c=0;c<i.length;c++){const _=i[c];"number"==typeof _?r=_:0===r||Ld(n,r,_,0,-1===r||2===r?i[++c]:null)}}return n}function Ld(n,i,r,c,_){let I=0,O=n.length;if(-1===i)O=-1;else for(;I<n.length;){const J=n[I++];if("number"==typeof J){if(J===i){O=-1;break}if(J>i){O=I-1;break}}}for(;I<n.length;){const J=n[I];if("number"==typeof J)break;if(J===r)return void(null!==_&&(n[I+1]=_));I++,null!==_&&I++}-1!==O&&(n.splice(O,0,i),I=O+1),n.splice(I++,0,r),null!==_&&n.splice(I++,0,_)}function Xu(n){return n!==hc}function Kl(n){return 32767&n}function Mh(n,i){let r=function Cl(n){return n>>16}(n),c=i;for(;r>0;)c=c[us],r--;return c}let Ju=!0;function Wl(n){const i=Ju;return Ju=n,i}const mg=255,gg=5;let Uc=0;const za={};function Cp(n,i){const r=jd(n,i);if(-1!==r)return r;const c=i[ci];c.firstCreatePass&&(n.injectorIndex=i.length,Qu(c.data,n),Qu(i,null),Qu(c.blueprint,null));const _=Sp(n,i),I=n.injectorIndex;if(Xu(_)){const O=Kl(_),J=Mh(_,i),re=J[ci].data;for(let Me=0;Me<8;Me++)i[I+Me]=J[O+Me]|re[O+Me]}return i[I+8]=_,I}function Qu(n,i){n.push(0,0,0,0,0,0,0,0,i)}function jd(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Sp(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let r=0,c=null,_=i;for(;null!==_;){if(c=Gd(_),null===c)return hc;if(r++,_=_[us],-1!==c.injectorIndex)return c.injectorIndex|r<<16}return hc}function Co(n,i,r){!function h_(n,i,r){let c;"string"==typeof r?c=r.charCodeAt(0)||0:r.hasOwnProperty(ae)&&(c=r[ae]),null==c&&(c=r[ae]=Uc++);const _=c&mg;i.data[n+(_>>gg)]|=1<<_}(n,i,r)}function dl(n,i,r){if(r&Ui.Optional||void 0!==n)return n;li()}function Ep(n,i,r,c){if(r&Ui.Optional&&void 0===c&&(c=null),!(r&(Ui.Self|Ui.Host))){const _=n[$e],I=Fs(void 0);try{return _?_.get(i,c,r&Ui.Optional):Or(i,c,r&Ui.Optional)}finally{Fs(I)}}return dl(c,0,r)}function So(n,i,r,c=Ui.Default,_){if(null!==n){if(2048&i[ns]&&!(c&Ui.Self)){const O=function $d(n,i,r,c,_){let I=n,O=i;for(;null!==I&&null!==O&&2048&O[ns]&&!G(O);){const J=Vo(I,O,r,c|Ui.Self,za);if(J!==za)return J;let re=I.parent;if(!re){const Me=O[Js];if(Me){const Ke=Me.get(r,za,c);if(Ke!==za)return Ke}re=Gd(O),O=O[us]}I=re}return _}(n,i,r,c,za);if(O!==za)return O}const I=Vo(n,i,r,c,za);if(I!==za)return I}return Ep(i,r,c,_)}function Vo(n,i,r,c,_){const I=function pc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ae)?n[ae]:void 0;return"number"==typeof i?i>=0?i&mg:Zu:i}(r);if("function"==typeof I){if(!d_(i,n,c))return c&Ui.Host?dl(_,0,c):Ep(i,r,c,_);try{let O;if(O=I(c),null!=O||c&Ui.Optional)return O;li()}finally{Vc()}}else if("number"==typeof I){let O=null,J=jd(n,i),re=hc,Me=c&Ui.Host?i[qi][Vr]:null;for((-1===J||c&Ui.SkipSelf)&&(re=-1===J?Sp(n,i):i[J+8],re!==hc&&wp(c,!1)?(O=i[ci],J=Kl(re),i=Mh(re,i)):J=-1);-1!==J;){const Ke=i[ci];if(El(I,J,Ke.data)){const mt=Tp(J,i,r,O,c,Me);if(mt!==za)return mt}re=i[J+8],re!==hc&&wp(c,i[ci].data[J+8]===Me)&&El(I,J,i)?(O=Ke,J=Kl(re),i=Mh(re,i)):J=-1}}return _}function Tp(n,i,r,c,_,I){const O=i[ci],J=O.data[n+8],Ke=jc(J,O,r,null==c?es(J)&&Ju:c!=O&&!!(3&J.type),_&Ui.Host&&I===J);return null!==Ke?Sl(i,O,Ke,J):za}function jc(n,i,r,c,_){const I=n.providerIndexes,O=i.data,J=1048575&I,re=n.directiveStart,Ke=I>>20,kt=_?J+Ke:n.directiveEnd;for(let Nt=c?J:J+Ke;Nt<kt;Nt++){const on=O[Nt];if(Nt<re&&r===on||Nt>=re&&on.type===r)return Nt}if(_){const Nt=O[re];if(Nt&&Ee(Nt)&&Nt.type===r)return re}return null}function Sl(n,i,r,c){let _=n[r];const I=i.data;if(_ instanceof Nh){const O=_;O.resolving&&Wi(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pe(n)}(I[r]));const J=Wl(O.canSeeViewProviders);O.resolving=!0;const Me=O.injectImpl?Fs(O.injectImpl):null;d_(n,c,Ui.Default);try{_=n[r]=O.factory(void 0,I,n,c),i.firstCreatePass&&r>=c.directiveStart&&function zu(n,i,r){const{ngOnChanges:c,ngOnInit:_,ngDoCheck:I}=i.type.prototype;if(c){const O=Po(i);(r.preOrderHooks??=[]).push(n,O),(r.preOrderCheckHooks??=[]).push(n,O)}_&&(r.preOrderHooks??=[]).push(0-n,_),I&&((r.preOrderHooks??=[]).push(n,I),(r.preOrderCheckHooks??=[]).push(n,I))}(r,I[r],i)}finally{null!==Me&&Fs(Me),Wl(J),O.resolving=!1,Vc()}}return _}function El(n,i,r){return!!(r[i+(n>>gg)]&1<<n)}function wp(n,i){return!(n&Ui.Self||n&Ui.Host&&i)}class Cr{_tNode;_lView;constructor(i,r){this._tNode=i,this._lView=r}get(i,r,c){return So(this._tNode,this._lView,i,Ir(c),r)}}function Zu(){return new Cr(Gs(),kn())}function Xa(n){return Kt(()=>{const i=n.prototype.constructor,r=i[Ae]||$c(i),c=Object.prototype;let _=Object.getPrototypeOf(n.prototype).constructor;for(;_&&_!==c;){const I=_[Ae]||$c(_);if(I&&I!==r)return I;_=Object.getPrototypeOf(_)}return I=>new I})}function $c(n){return Tt(n)?()=>{const i=$c(wt(n));return i&&i()}:ha(n)}function Gd(n){const i=n[ci],r=i.type;return 2===r?i.declTNode:1===r?n[Vr]:null}function Lo(n){return function Yl(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const r=n.attrs;if(r){const c=r.length;let _=0;for(;_<c;){const I=r[_];if(Gl(I))break;if(0===I)_+=2;else if("number"==typeof I)for(_++;_<c&&"string"==typeof r[_];)_++;else{if(I===i)return r[_+1];_+=2}}}return null}(Gs(),n)}function id(n,i=null,r=null,c){const _=sd(n,i,r,c);return _.resolveInjectorInitializers(),_}function sd(n,i=null,r=null,c,_=new Set){const I=[r||Bs,Yo(n)];return c=c||("object"==typeof n?void 0:Ni(n)),new Ga(I,i||$a(),c||null,_)}class pa{static THROW_IF_NOT_FOUND=dn;static NULL=new Ca;static create(i,r){if(Array.isArray(i))return id({name:""},r,i,"");{const c=i.name??"";return id({name:c},i.parent,i.providers,c)}}static \u0275prov=qn({token:pa,providedIn:"any",factory:()=>xs(jr)});static __NG_ELEMENT_ID__=-1}new Jt("").__NG_ELEMENT_ID__=n=>{const i=Gs();if(null===i)throw new de(204,!1);if(2&i.type)return i.value;if(n&Ui.Optional)return null;throw new de(204,!1)};const Kd=!1;let hl=(()=>class n{static __NG_ELEMENT_ID__=xh;static __NG_ENV_ID__=r=>r})();class gc extends hl{_lView;constructor(i){super(),this._lView=i}onDestroy(i){return cc(this._lView,i),()=>function mu(n,i){if(null===n[nr])return;const r=n[nr].indexOf(i);-1!==r&&n[nr].splice(r,1)}(this._lView,i)}}function xh(){return new gc(kn())}class Uo{}const Kc=new Jt("",{providedIn:"root",factory:()=>!1}),Wd=new Jt(""),Wc=new Jt("");let yu=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tn.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}return n})();const pl=class kh extends Ln.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,Ts()&&(this.destroyRef=Ci(hl,{optional:!0})??void 0,this.pendingTasks=Ci(yu,{optional:!0})??void 0)}emit(i){const r=m(null);try{super.next(i)}finally{m(r)}}subscribe(i,r,c){let _=i,I=r||(()=>null),O=c;if(i&&"object"==typeof i){const re=i;_=re.next?.bind(re),I=re.error?.bind(re),O=re.complete?.bind(re)}this.__isAsync&&(I=this.wrapInTimeout(I),_&&(_=this.wrapInTimeout(_)),O&&(O=this.wrapInTimeout(O)));const J=super.subscribe({next:_,error:I,complete:O});return i instanceof ni.yU&&i.add(J),J}wrapInTimeout(i){return r=>{const c=this.pendingTasks?.add();setTimeout(()=>{i(r),void 0!==c&&this.pendingTasks?.remove(c)})}}};function Yc(...n){}function bu(n){let i,r;function c(){n=Yc;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==i&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{n(),c()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{n(),c()})),()=>c()}function Ph(n){return queueMicrotask(()=>n()),()=>{n=Yc}}const Yd="isAngularZone",zc=Yd+"_ID";let rd=0;class ur{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pl(!1);onMicrotaskEmpty=new pl(!1);onStable=new pl(!1);onError=new pl(!1);constructor(i){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:_=!1,scheduleInRootZone:I=Kd}=i;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const O=this;O._nesting=0,O._outer=O._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(O._inner=O._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(O._inner=O._inner.fork(Zone.longStackTraceZoneSpec)),O.shouldCoalesceEventChangeDetection=!_&&c,O.shouldCoalesceRunChangeDetection=_,O.callbackScheduled=!1,O.scheduleInRootZone=I,function Cu(n){const i=()=>{!function Ap(n){function i(){bu(()=>{n.callbackScheduled=!1,_c(n),n.isCheckStableRunning=!0,Df(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{i()}):n._outer.run(()=>{i()}),_c(n))}(n)},r=rd++;n._inner=n._inner.fork({name:"angular",properties:{[Yd]:!0,[zc]:r,[zc+r]:!0},onInvokeTask:(c,_,I,O,J,re)=>{if(function Mf(n){return zd(n,"__ignore_ng_zone__")}(re))return c.invokeTask(I,O,J,re);try{return Xc(n),c.invokeTask(I,O,J,re)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||n.shouldCoalesceRunChangeDetection)&&i(),Jc(n)}},onInvoke:(c,_,I,O,J,re,Me)=>{try{return Xc(n),c.invoke(I,O,J,re,Me)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function ad(n){return zd(n,"__scheduler_tick__")}(re)&&i(),Jc(n)}},onHasTask:(c,_,I,O)=>{c.hasTask(I,O),_===I&&("microTask"==O.change?(n._hasPendingMicrotasks=O.microTask,_c(n),Df(n)):"macroTask"==O.change&&(n.hasPendingMacrotasks=O.macroTask))},onHandleError:(c,_,I,O)=>(c.handleError(I,O),n.runOutsideAngular(()=>n.onError.emit(O)),!1)})}(O)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Yd)}static assertInAngularZone(){if(!ur.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(ur.isInAngularZone())throw new de(909,!1)}run(i,r,c){return this._inner.run(i,r,c)}runTask(i,r,c,_){const I=this._inner,O=I.scheduleEventTask("NgZoneEvent: "+_,i,f_,Yc,Yc);try{return I.runTask(O,r,c)}finally{I.cancelTask(O)}}runGuarded(i,r,c){return this._inner.runGuarded(i,r,c)}runOutsideAngular(i){return this._outer.run(i)}}const f_={};function Df(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _c(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function Xc(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Jc(n){n._nesting--,Df(n)}class Nf{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pl;onMicrotaskEmpty=new pl;onStable=new pl;onError=new pl;run(i,r,c){return i.apply(r,c)}runGuarded(i,r,c){return i.apply(r,c)}runOutsideAngular(i){return i()}runTask(i,r,c,_){return i.apply(r,c)}}function zd(n,i){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[i]}class Ja{_console=console;handleError(i){this._console.error("ERROR",i)}}const m_=new Jt("",{providedIn:"root",factory:()=>{const n=Ci(ur),i=Ci(Ja);return r=>n.runOutsideAngular(()=>i.handleError(r))}});function Cg(n,i){return gt(n,i)}const g_=(Cg.required=function Sg(n){return gt(Ne,n)},Cg);function Eg(){return Su(Gs(),kn())}function Su(n,i){return new od(Sa(n,i))}let od=(()=>class n{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=Eg})();function Mp(n){return n instanceof od?n.nativeElement:n}function Xd(n,i){const r=function He(n,i){const r=Object.create(je);r.value=n,void 0!==i&&(r.equal=i);const c=()=>(z(r),r.value);return c[w]=r,c}(n,i?.equal),c=r[w];return r.set=_=>Le(c,_),r.update=_=>function Ve(n,i){V()||vt(n),Le(n,i(n.value))}(c,_),r.asReadonly=Of.bind(r),r}function Of(){const n=this[w];if(void 0===n.readonlyFn){const i=()=>this();i[w]=n,n.readonlyFn=i}return n.readonlyFn}function po(n){return function Tg(n){return"function"==typeof n&&void 0!==n[w]}(n)&&"function"==typeof n.set}function Vy(){return this._results[Symbol.iterator]()}class Ly{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ln.B}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,r){return this._results.reduce(i,r)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,r){this.dirty=!1;const c=function fr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ua(n,i,r){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let _=n[c],I=i[c];if(r&&(_=r(_),I=r(I)),I!==_)return!1}return!0}(this._results,c,r))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Vy}function xp(n){return!(128&~n.flags)}var kf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kf||{});const Jd=new Map;let Pf=0;function Bh(n){Jd.delete(n[gr])}const Vp="__ngContext__";function $o(n,i){an(i)?(n[Vp]=i[gr],function Bf(n){Jd.set(n[gr],n)}(i)):n[Vp]=i}function $p(n){return Zd(n[Sn])}function Xr(n){return Zd(n[hr])}function Zd(n){for(;null!==n&&!Pn(n);)n=n[hr];return n}let Dg;function Wy(n){Dg=n}function Qc(){if(void 0!==Dg)return Dg;if(typeof document<"u")return document;throw new de(210,!1)}const jh=new Jt("",{providedIn:"root",factory:()=>Yy}),Yy="ng",Ng=new Jt(""),zy=new Jt("",{providedIn:"platform",factory:()=>"unknown"}),xC=new Jt(""),kC=new Jt("",{providedIn:"root",factory:()=>Qc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),N_=new Jt("",{providedIn:"root",factory:()=>!1});var Go=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Go||{});const Jl=new Jt(""),Pg=new Set;function el(n){Pg.has(n)||(Pg.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let Jf=(()=>class n{view;node;constructor(r,c){this.view=r,this.node=c}static __NG_ELEMENT_ID__=Gh})();function Gh(){return new Jf(kn(),Gs())}var Hh=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Hh||{});let x_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}return n})();const Fg=[Hh.EarlyRead,Hh.Write,Hh.MixedReadWrite,Hh.Read];let Hp=(()=>{class n{ngZone=Ci(ur);scheduler=Ci(Uo);errorHandler=Ci(Ja,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ci(Jl,{optional:!0})}execute(){const r=this.sequences.size>0;r&&sr(16),this.executing=!0;for(const c of Fg)for(const _ of this.sequences)if(!_.erroredOrDestroyed&&_.hooks[c])try{_.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,_.hooks[c])(_.pipelinedValue),_.snapshot))}catch(I){_.erroredOrDestroyed=!0,this.errorHandler?.handleError(I)}this.executing=!1;for(const c of this.sequences)c.afterRun(),c.once&&(this.sequences.delete(c),c.destroy());for(const c of this.deferredRegistrations)this.sequences.add(c);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&sr(17)}register(r){const{view:c}=r;void 0!==c?((c[25]??=[]).push(r),lc(c),c[ns]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,c){return c?c.run(Go.AFTER_NEXT_RENDER,r):r()}static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}return n})();class Kp{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,r,c,_,I,O=null){this.impl=i,this.hooks=r,this.view=c,this.once=_,this.snapshot=O,this.unregisterOnDestroy=I?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const i=this.view?.[25];i&&(this.view[25]=i.filter(r=>r!==this))}}function Zc(n,i){!i?.injector&&_a();const r=i?.injector??Ci(pa);return el("NgAfterRender"),Bg(n,r,i,!1)}function Eo(n,i){!i?.injector&&_a();const r=i?.injector??Ci(pa);return el("NgAfterNextRender"),Bg(n,r,i,!0)}function Bg(n,i,r,c){const _=i.get(x_);_.impl??=i.get(Hp);const I=i.get(Jl,null,{optional:!0}),O=r?.phase??Hh.MixedReadWrite,J=!0!==r?.manualCleanup?i.get(hl):null,re=i.get(Jf,null,{optional:!0}),Me=new Kp(_.impl,function Qy(n,i){if(n instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[i]=n,r}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,O),re?.view,c,J,I?.snapshot(null));return _.impl.register(Me),Me}let Kg=()=>null;function Wg(n,i,r=!1){return Kg(n,i,r)}function h0(n,i){const r=n.contentQueries;if(null!==r){const c=m(null);try{for(let _=0;_<r.length;_+=2){const O=r[_+1];if(-1!==O){const J=n.data[O];Ah(r[_]),J.contentQueries(2,i[O],O)}}}finally{m(c)}}}function G_(n,i,r){Ah(0);const c=m(null);try{i(n,r)}finally{m(c)}}function lm(n,i,r){if(Yn(i)){const c=m(null);try{const I=i.directiveEnd;for(let O=i.directiveStart;O<I;O++){const J=n.data[O];J.contentQueries&&J.contentQueries(1,r[O],O)}}finally{m(c)}}}var fd=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fd||{});let ml,ch;function md(n){return function ia(){if(void 0===ml&&(ml=null,Tn.trustedTypes))try{ml=Tn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ml}()?.createHTML(n)||n}function cm(){if(void 0===ch&&(ch=null,Tn.trustedTypes))try{ch=Tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ch}function Zg(n){return cm()?.createHTML(n)||n}function p0(n){return cm()?.createScriptURL(n)||n}class Ec{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pe})`}}class dm extends Ec{getTypeName(){return"HTML"}}class H_ extends Ec{getTypeName(){return"Style"}}class f0 extends Ec{getTypeName(){return"Script"}}class m0 extends Ec{getTypeName(){return"URL"}}class g0 extends Ec{getTypeName(){return"ResourceURL"}}function Au(n){return n instanceof Ec?n.changingThisBreaksApplicationSecurity:n}function Tc(n,i){const r=function uh(n){return n instanceof Ec&&n.getTypeName()||null}(n);if(null!=r&&r!==i){if("ResourceURL"===r&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${r} (see ${pe})`)}return r===i}function ef(n){return new dm(n)}function hm(n){return new H_(n)}function K_(n){return new f0(n)}function pm(n){return new m0(n)}function dh(n){return new g0(n)}function qg(n){const i=new eS(n);return function tS(){try{return!!(new window.DOMParser).parseFromString(md(""),"text/html")}catch{return!1}}()?new qC(i):i}class qC{inertDocumentHelper;constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const r=(new window.DOMParser).parseFromString(md(i),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(i):(r.firstChild?.remove(),r)}catch{return null}}}class eS{defaultDoc;inertDocument;constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const r=this.inertDocument.createElement("template");return r.innerHTML=md(i),r}}const nS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e1(n){return(n=String(n)).match(nS)?n:"unsafe:"+n}function gd(n){const i={};for(const r of n.split(","))i[r]=!0;return i}function fm(...n){const i={};for(const r of n)for(const c in r)r.hasOwnProperty(c)&&(i[c]=!0);return i}const _0=gd("area,br,col,hr,img,wbr"),v0=gd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y0=gd("rp,rt"),mm=fm(_0,fm(v0,gd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fm(y0,gd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fm(y0,v0)),t1=gd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gm=fm(t1,gd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C0=gd("script,style,template");class _m{sanitizedSomething=!1;buf=[];sanitizeChildren(i){let r=i.firstChild,c=!0,_=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?c=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,c&&r.firstChild)_.push(r),r=W_(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let I=rS(r);if(I){r=I;break}r=_.pop()}return this.buf.join("")}startElement(i){const r=Y_(i).toLowerCase();if(!mm.hasOwnProperty(r))return this.sanitizedSomething=!0,!C0.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const c=i.attributes;for(let _=0;_<c.length;_++){const I=c.item(_),O=I.name,J=O.toLowerCase();if(!gm.hasOwnProperty(J)){this.sanitizedSomething=!0;continue}let re=I.value;t1[J]&&(re=e1(re)),this.buf.push(" ",O,'="',E0(re),'"')}return this.buf.push(">"),!0}endElement(i){const r=Y_(i).toLowerCase();mm.hasOwnProperty(r)&&!_0.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(i){this.buf.push(E0(i))}}function rS(n){const i=n.nextSibling;if(i&&n!==i.previousSibling)throw z_(i);return i}function W_(n){const i=n.firstChild;if(i&&function sS(n,i){return(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,i))throw z_(i);return i}function Y_(n){const i=n.nodeName;return"string"==typeof i?i:"FORM"}function z_(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const S0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aS=/([^\#-~ |!])/g;function E0(n){return n.replace(/&/g,"&amp;").replace(S0,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(aS,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let n1;function X_(n,i){let r=null;try{n1=n1||qg(n);let c=i?String(i):"";r=n1.getInertBodyElement(c);let _=5,I=c;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,c=I,I=r.innerHTML,r=n1.getInertBodyElement(c)}while(c!==I);return md((new _m).sanitizeChildren(i1(r)||r))}finally{if(r){const c=i1(r)||r;for(;c.firstChild;)c.firstChild.remove()}}}function i1(n){return"content"in n&&function T0(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var hh=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(hh||{});function s1(n){const i=wc();return i?Zg(i.sanitize(hh.HTML,n)||""):Tc(n,"HTML")?Zg(Au(n)):X_(Qc(),Pe(n))}function ph(n){const i=wc();return i?i.sanitize(hh.URL,n)||"":Tc(n,"URL")?Au(n):e1(Pe(n))}function tf(n){const i=wc();if(i)return p0(i.sanitize(hh.RESOURCE_URL,n)||"");if(Tc(n,"ResourceURL"))return p0(Au(n));throw new de(904,!1)}function I0(n,i,r){return function ym(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?tf:ph}(i,r)(n)}function wc(){const n=kn();return n&&n[It].sanitizer}const lS=/^>|^->|<!--|-->|--!>|<!-$/g,R0=/(<|>)/g;function F0(n){return n.ownerDocument.defaultView}function B0(n){return n.ownerDocument}function Ic(n){return n instanceof Function?n():n}function ev(n,i,r){let c=n.length;for(;;){const _=n.indexOf(i,r);if(-1===_)return _;if(0===_||n.charCodeAt(_-1)<=32){const I=i.length;if(_+I===c||n.charCodeAt(_+I)<=32)return _}r=_+1}}const tv="ng-template";function $0(n,i,r,c){let _=0;if(c){for(;_<i.length&&"string"==typeof i[_];_+=2)if("class"===i[_]&&-1!==ev(i[_+1].toLowerCase(),r,0))return!0}else if(nv(n))return!1;if(_=i.indexOf(1,_),_>-1){let I;for(;++_<i.length&&"string"==typeof(I=i[_]);)if(I.toLowerCase()===r)return!0}return!1}function nv(n){return 4===n.type&&n.value!==tv}function hS(n,i,r){return i===(4!==n.type||r?n.value:tv)}function G0(n,i,r){let c=4;const _=n.attrs,I=null!==_?function Zh(n){for(let i=0;i<n.length;i++)if(Gl(n[i]))return i;return n.length}(_):0;let O=!1;for(let J=0;J<i.length;J++){const re=i[J];if("number"!=typeof re){if(!O)if(4&c){if(c=2|1&c,""!==re&&!hS(n,re,r)||""===re&&1===i.length){if(Rc(c))return!1;O=!0}}else if(8&c){if(null===_||!$0(n,_,re,r)){if(Rc(c))return!1;O=!0}}else{const Me=i[++J],Ke=H0(re,_,nv(n),r);if(-1===Ke){if(Rc(c))return!1;O=!0;continue}if(""!==Me){let mt;if(mt=Ke>I?"":_[Ke+1].toLowerCase(),2&c&&Me!==mt){if(Rc(c))return!1;O=!0}}}}else{if(!O&&!Rc(c)&&!Rc(re))return!1;if(O&&Rc(re))continue;O=!1,c=re|1&c}}return Rc(c)||O}function Rc(n){return!(1&n)}function H0(n,i,r,c){if(null===i)return-1;let _=0;if(c||!r){let I=!1;for(;_<i.length;){const O=i[_];if(O===n)return _;if(3===O||6===O)I=!0;else{if(1===O||2===O){let J=i[++_];for(;"string"==typeof J;)J=i[++_];continue}if(4===O)break;if(0===O){_+=4;continue}}_+=I?1:2}return-1}return function W0(n,i){let r=n.indexOf(4);if(r>-1)for(r++;r<n.length;){const c=n[r];if("number"==typeof c)return-1;if(c===i)return r;r++}return-1}(i,n)}function Im(n,i,r=!1){for(let c=0;c<i.length;c++)if(G0(n,i[c],r))return!0;return!1}function p1(n,i){e:for(let r=0;r<i.length;r++){const c=i[r];if(n.length===c.length){for(let _=0;_<n.length;_++)if(n[_]!==c[_])continue e;return!0}}return!1}function iv(n,i){return n?":not("+i.trim()+")":i}function Y0(n){let i=n[0],r=1,c=2,_="",I=!1;for(;r<n.length;){let O=n[r];if("string"==typeof O)if(2&c){const J=n[++r];_+="["+O+(J.length>0?'="'+J+'"':"")+"]"}else 8&c?_+="."+O:4&c&&(_+=" "+O);else""!==_&&!Rc(O)&&(i+=iv(I,_),_=""),c=O,I=I||!Rc(c);r++}return""!==_&&(i+=iv(I,_)),i}const Vs={};function sf(n,i){return n.createText(i)}function rf(n,i){return n.createComment(function a1(n){return n.replace(lS,i=>i.replace(R0,"\u200b$1\u200b"))}(i))}function qh(n,i,r){return n.createElement(i,r)}function Du(n,i,r,c,_){n.insertBefore(i,r,c,_)}function Am(n,i,r){n.appendChild(i,r)}function Dm(n,i,r,c,_){null!==c?Du(n,i,r,c,_):Am(n,i,r)}function rv(n,i,r){const{mergedAttrs:c,classes:_,styles:I}=r;null!==c&&function Aa(n,i,r){let c=0;for(;c<r.length;){const _=r[c];if("number"==typeof _){if(0!==_)break;c++;const I=r[c++],O=r[c++],J=r[c++];n.setAttribute(i,O,J,I)}else{const I=_,O=r[++c];ul(I)?n.setProperty(i,I,O):n.setAttribute(i,I,O),c++}}}(n,i,c),null!==_&&function sv(n,i,r){""===r?n.removeAttribute(i,"class"):n.setAttribute(i,"class",r)}(n,i,_),null!==I&&function X0(n,i,r){n.setAttribute(i,"style",r)}(n,i,I)}function m1(n,i,r,c,_,I,O,J,re,Me,Ke){const mt=se+c,kt=mt+_,Nt=function av(n,i){const r=[];for(let c=0;c<i;c++)r.push(c<n?null:Vs);return r}(mt,kt),on="function"==typeof Me?Me():Me;return Nt[ci]={type:n,blueprint:Nt,template:r,queries:null,viewQuery:J,declTNode:i,data:Nt.slice().fill(null,mt),bindingStartIndex:mt,expandoStartIndex:kt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:re,consts:on,incompleteFirstPass:!1,ssrId:Ke}}function fh(n,i,r,c,_,I,O,J,re,Me,Ke){const mt=i.blueprint.slice();return mt[Ps]=_,mt[ns]=1228|c,(null!==Me||n&&2048&n[ns])&&(mt[ns]|=2048),Uu(mt),mt[cr]=mt[us]=n,mt[gn]=r,mt[It]=O||n&&n[It],mt[at]=J||n&&n[at],mt[$e]=re||n&&n[$e]||null,mt[Vr]=I,mt[gr]=function Ff(){return Pf++}(),mt[na]=Ke,mt[Js]=Me,mt[qi]=2==i.type?n[qi]:mt,mt}function g1(n){let i=16;return n.signals?i=4096:n.onPush&&(i=64),i}function mh(n,i,r,c){if(0===r)return-1;const _=i.length;for(let I=0;I<r;I++)i.push(c),n.blueprint.push(c),n.data.push(null);return _}function _1(n,i){return n[Sn]?n[Ri][hr]=i:n[Sn]=i,n[Ri]=i,i}function Q0(n=1){Z0(ms(),kn(),pr()+n,!1)}function Z0(n,i,r,c){if(!c)if(3&~i[ns]){const I=n.preOrderHooks;null!==I&&Fd(i,I,0,r)}else{const I=n.preOrderCheckHooks;null!==I&&Ya(i,I,r)}jl(r)}var v1=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(v1||{});function lv(n,i,r,c){const _=m(null);try{const[I,O,J]=n.inputs[r];let re=null;!!(O&v1.SignalBased)&&(re=i[I][w]),null!==re&&void 0!==re.transformFn?c=re.transformFn(c):null!==J&&(c=J.call(i,c)),null!==n.setInput?n.setInput(i,re,c,r,I):xo(i,re,I,c)}finally{m(_)}}function y1(n,i,r,c,_){const I=pr(),O=2&c;try{jl(-1),O&&i.length>se&&Z0(n,i,se,!1),sr(O?2:0,_),r(c,_)}finally{jl(I),sr(O?3:1,_)}}function b1(n,i,r){(function fS(n,i,r){const c=r.directiveStart,_=r.directiveEnd;es(r)&&function J0(n,i,r){const c=Sa(i,n),_=function ov(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=m1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}(r),I=n[It].rendererFactory,O=_1(n,fh(n,_,null,g1(r),c,i,null,I.createRenderer(c,r),null,null,null));n[i.index]=O}(i,r,n.data[c+r.componentOffset]),n.firstCreatePass||Cp(r,i);const I=r.initialInputs;for(let O=c;O<_;O++){const J=n.data[O],re=Sl(i,n,O,r);$o(re,i),null!==I&&gS(0,O-c,re,J,0,I),Ee(J)&&(Wa(r.index,i)[gn]=Sl(i,n,O,r))}})(n,i,r),!(64&~r.flags)&&function pv(n,i,r){const c=r.directiveStart,_=r.directiveEnd,I=r.index,O=function oo(){return As.lFrame.currentDirectiveIndex}();try{jl(I);for(let J=c;J<_;J++){const re=n.data[J],Me=i[J];lo(J),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&mS(re,Me)}}finally{jl(-1),lo(O)}}(n,i,r)}function cv(n,i,r=Sa){const c=i.localNames;if(null!==c){let _=i.index+1;for(let I=0;I<c.length;I+=2){const O=c[I+1],J=-1===O?r(i,n):n[O];n[_++]=J}}}let S1,Nu=()=>null;function tl(n,i,r,c,_,I,O,J){if(J||!Nm(i,n,r,c,_)){if(3&i.type){const re=Sa(i,r);c=function hv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),_=null!=O?O(_,i.value||"",c):_,I.setProperty(re,c,_)}}else es(i)&&function pS(n,i){const r=Wa(i,n);16&r[ns]||(r[ns]|=64)}(r,i.index)}function mS(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function fv(n,i){const r=n.directiveRegistry;let c=null;if(r)for(let _=0;_<r.length;_++){const I=r[_];Im(i,I.selectors,!1)&&(c??=[],Ee(I)?c.unshift(I):c.push(I))}return c}function Mu(n,i,r,c,_,I){const O=Sa(n,i);!function C1(n,i,r,c,_,I,O){if(null==I)n.removeAttribute(i,_,r);else{const J=null==O?Pe(I):O(I,c||"",_);n.setAttribute(i,_,J,r)}}(i[at],O,I,n.value,r,c,_)}function gS(n,i,r,c,_,I){const O=I[i];if(null!==O)for(let J=0;J<O.length;J+=2)lv(c,r,O[J],O[J+1])}function nb(n,i,r){return(null===n||Ee(n))&&(r=function Lu(n){for(;Array.isArray(n);){if("object"==typeof n[Se])return n;n=n[Ps]}return null}(r[i.index])),r[at]}function Nm(n,i,r,c,_){const I=n.inputs?.[c],O=n.hostDirectiveInputs?.[c];let J=!1;if(O)for(let re=0;re<O.length;re+=2){const Me=O[re];lv(i.data[Me],r[Me],O[re+1],_),J=!0}if(I)for(const re of I)lv(i.data[re],r[re],c,_),J=!0;return J}function ib(n,i){const r=Wa(i,n),c=r[ci];!function gv(n,i){for(let r=i.length;r<n.blueprint.length;r++)i.push(n.blueprint[r])}(c,r);const _=r[Ps];null!==_&&null===r[na]&&(r[na]=Wg(_,r[$e])),sr(18),Mm(c,r,r[gn]),sr(19,r[gn])}function Mm(n,i,r){Wu(i);try{const c=n.viewQuery;null!==c&&G_(1,c,r);const _=n.template;null!==_&&y1(n,i,_,1,r),n.firstCreatePass&&(n.firstCreatePass=!1),i[zr]?.finishViewCreation(n),n.staticContentQueries&&h0(n,i),n.staticViewQueries&&G_(2,n.viewQuery,r);const I=n.components;null!==I&&function _v(n,i){for(let r=0;r<i.length;r++)ib(n,i[r])}(i,I)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[ns]&=-5,Ul()}}function gh(n,i,r,c){const _=m(null);try{const I=i.tView,re=fh(n,I,r,4096&n[ns]?4096:16,null,i,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);re[Tr]=n[i.index];const Ke=n[zr];return null!==Ke&&(re[zr]=Ke.createEmbeddedView(I)),Mm(I,re,r),re}finally{m(_)}}function _h(n,i){return!i||null===i.firstChild||xp(n)}function E1(n,i){return S1(n,i)}var Om=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Om||{});function vd(n){return!(32&~n.flags)}function ep(n,i,r,c,_){if(null!=c){let I,O=!1;Pn(c)?I=c:an(c)&&(O=!0,c=c[Ps]);const J=$s(c);0===n&&null!==r?null==_?Am(i,r,J):Du(i,r,J,_||null,!0):1===n&&null!==r?Du(i,r,J,_||null,!0):2===n?function eu(n,i,r){n.removeChild(null,i,r)}(i,J,O):3===n&&i.destroyNode(J),null!=I&&function ab(n,i,r,c,_){const I=r[Ie];I!==$s(r)&&ep(i,n,c,I,_);for(let J=St;J<r.length;J++){const re=r[J];Bm(re[ci],re,n,i,c,I)}}(i,n,I,r,_)}}function yv(n,i){i[It].changeDetectionScheduler?.notify(9),Bm(n,i,i[at],2,null,null)}function yd(n,i){const r=n[Mt],c=r.indexOf(i);r.splice(c,1)}function tp(n,i){if(pt(i))return;const r=i[at];r.destroyNode&&Bm(n,i,r,3,null,null),function bv(n){let i=n[Sn];if(!i)return km(n[ci],n);for(;i;){let r=null;if(an(i))r=i[Sn];else{const c=i[St];c&&(r=c)}if(!r){for(;i&&!i[hr]&&i!==n;)an(i)&&km(i[ci],i),i=i[cr];null===i&&(i=n),an(i)&&km(i[ci],i),r=i&&i[hr]}i=r}}(i)}function km(n,i){if(pt(i))return;const r=m(null);try{i[ns]&=-129,i[ns]|=256,i[Mi]&&Z(i[Mi]),function T1(n,i){let r;if(null!=n&&null!=(r=n.destroyHooks))for(let c=0;c<r.length;c+=2){const _=i[r[c]];if(!(_ instanceof Nh)){const I=r[c+1];if(Array.isArray(I))for(let O=0;O<I.length;O+=2){const J=_[I[O]],re=I[O+1];sr(4,J,re);try{re.call(J)}finally{sr(5,J,re)}}else{sr(4,_,I);try{I.call(_)}finally{sr(5,_,I)}}}}}(n,i),function Pm(n,i){const r=n.cleanup,c=i[Ge];if(null!==r)for(let O=0;O<r.length-1;O+=2)if("string"==typeof r[O]){const J=r[O+3];J>=0?c[J]():c[-J].unsubscribe(),O+=2}else r[O].call(c[r[O+1]]);null!==c&&(i[Ge]=null);const _=i[nr];if(null!==_){i[nr]=null;for(let O=0;O<_.length;O++)(0,_[O])()}const I=i[Xo];if(null!==I){i[Xo]=null;for(const O of I)O.destroy()}}(n,i),1===i[ci].type&&i[at].destroy();const c=i[Tr];if(null!==c&&Pn(i[cr])){c!==i[cr]&&yd(c,i);const _=i[zr];null!==_&&_.detachView(n)}Bh(i)}finally{m(r)}}function w1(n,i,r){return Cv(n,i.parent,r)}function Cv(n,i,r){let c=i;for(;null!==c&&168&c.type;)c=(i=c).parent;if(null===c)return r[Ps];if(es(c)){const{encapsulation:_}=n.data[c.directiveStart+c.componentOffset];if(_===fd.None||_===fd.Emulated)return null}return Sa(c,r)}function Sv(n,i,r){return Tv(n,i,r)}function Ev(n,i,r){return 40&n.type?Sa(n,r):null}let I1,Tv=Ev;function wv(n,i){Tv=n,I1=i}function Fm(n,i,r,c){const _=w1(n,c,i),I=i[at],J=Sv(c.parent||i[Vr],c,i);if(null!=_)if(Array.isArray(r))for(let re=0;re<r.length;re++)Dm(I,_,r[re],J,!1);else Dm(I,_,r,J,!1);void 0!==I1&&I1(I,c,i,r,_)}function vh(n,i){if(null!==i){const r=i.type;if(3&r)return Sa(i,n);if(4&r)return R1(-1,n[i.index]);if(8&r){const c=i.child;if(null!==c)return vh(n,c);{const _=n[i.index];return Pn(_)?R1(-1,_):$s(_)}}if(128&r)return vh(n,i.next);if(32&r)return E1(i,n)()||$s(n[i.index]);{const c=Iv(n,i);return null!==c?Array.isArray(c)?c[0]:vh(Qo(n[qi]),c):vh(n,i.next)}}return null}function Iv(n,i){return null!==i?n[qi][Vr].projection[i.projection]:null}function R1(n,i){const r=St+n+1;if(r<i.length){const c=i[r],_=c[ci].firstChild;if(null!==_)return vh(c,_)}return i[Ie]}function A1(n,i,r,c,_,I,O){for(;null!=r;){if(128===r.type){r=r.next;continue}const J=c[r.index],re=r.type;if(O&&0===i&&(J&&$o($s(J),c),r.flags|=2),!vd(r))if(8&re)A1(n,i,r.child,c,_,I,!1),ep(i,n,_,J,I);else if(32&re){const Me=E1(r,c);let Ke;for(;Ke=Me();)ep(i,n,_,Ke,I);ep(i,n,_,J,I)}else 16&re?Rv(n,i,c,r,_,I):ep(i,n,_,J,I);r=O?r.projectionNext:r.next}}function Bm(n,i,r,c,_,I){A1(r,c,n.firstChild,i,_,I,!1)}function Rv(n,i,r,c,_,I){const O=r[qi],re=O[Vr].projection[c.projection];if(Array.isArray(re))for(let Me=0;Me<re.length;Me++)ep(i,n,_,re[Me],I);else{let Me=re;const Ke=O[cr];xp(c)&&(Me.flags|=128),A1(n,i,Me,Ke,_,I,!0)}}function np(n,i,r,c,_=!1){for(;null!==r;){if(128===r.type){r=_?r.projectionNext:r.next;continue}const I=i[r.index];null!==I&&c.push($s(I)),Pn(I)&&Vm(I,c);const O=r.type;if(8&O)np(n,i,r.child,c);else if(32&O){const J=E1(r,i);let re;for(;re=J();)c.push(re)}else if(16&O){const J=Iv(i,r);if(Array.isArray(J))c.push(...J);else{const re=Qo(i[qi]);np(re[ci],re,J,c,!0)}}r=_?r.projectionNext:r.next}return c}function Vm(n,i){for(let r=St;r<n.length;r++){const c=n[r],_=c[ci].firstChild;null!==_&&np(c[ci],c,_,i)}n[Ie]!==n[Ps]&&i.push(n[Ie])}function Av(n){if(null!==n[25]){for(const i of n[25])i.impl.addSequence(i);n[25].length=0}}let Dv=[];const Ov={...k,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{lc(n.lView)},consumerOnSignalRead(){this.lView[Mi]=this}},kv={...k,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let i=Qo(n.lView);for(;i&&!D1(i[ci]);)i=Qo(i);i&&fu(i)},consumerOnSignalRead(){this.lView[Mi]=this}};function D1(n){return 2!==n.type}function N1(n){if(null===n[Xo])return;let i=!0;for(;i;){let r=!1;for(const c of n[Xo])c.dirty&&(r=!0,null===c.zone||Zone.current===c.zone?c.run():c.zone.run(()=>c.run()));i=r&&!!(8192&n[ns])}}function ec(n,i=!0,r=0){const _=n[It].rendererFactory;_.begin?.();try{!function tc(n,i){const r=zs();try{ya(!0),cf(n,i);let c=0;for(;xc(n);){if(100===c)throw new de(103,!1);c++,cf(n,1)}}finally{ya(r)}}(n,r)}catch(O){throw i&&function mv(n,i){const r=n[$e],c=r?r.get(Ja,null):null;c&&c.handleError(i)}(n,O),O}finally{_.end?.()}}function af(n,i,r,c){if(pt(i))return;const _=i[ns];Wu(i);let J=!0,re=null,Me=null;D1(n)?(Me=function lb(n){return n[Mi]??function Nv(n){const i=Dv.pop()??Object.create(Ov);return i.lView=n,i}(n)}(i),re=W(Me)):null===function D(){return f}()?(J=!1,Me=function xv(n){const i=n[Mi]??Object.create(kv);return i.lView=n,i}(i),re=W(Me)):i[Mi]&&(Z(i[Mi]),i[Mi]=null);try{Uu(i),function ll(n){return As.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==r&&y1(n,i,r,2,c);const Ke=!(3&~_);if(Ke){const Nt=n.preOrderCheckHooks;null!==Nt&&Ya(i,Nt,null)}else{const Nt=n.preOrderHooks;null!==Nt&&Fd(i,Nt,0,null),Dh(i,0)}if(function Lm(n){for(let i=$p(n);null!==i;i=Xr(i)){if(!(2&i[ns]))continue;const r=i[Mt];for(let c=0;c<r.length;c++)fu(r[c])}}(i),N1(i),lf(i,0),null!==n.contentQueries&&h0(n,i),Ke){const Nt=n.contentCheckHooks;null!==Nt&&Ya(i,Nt)}else{const Nt=n.contentHooks;null!==Nt&&Fd(i,Nt,1),Dh(i,1)}!function Um(n,i){const r=n.hostBindingOpCodes;if(null!==r)try{for(let c=0;c<r.length;c++){const _=r[c];if(_<0)jl(~_);else{const I=_,O=r[++c],J=r[++c];vp(O,I);const re=i[I];sr(24,re),J(2,re),sr(25,re)}}}finally{jl(-1)}}(n,i);const mt=n.components;null!==mt&&gl(i,mt,0);const kt=n.viewQuery;if(null!==kt&&G_(2,kt,c),Ke){const Nt=n.viewCheckHooks;null!==Nt&&Ya(i,Nt)}else{const Nt=n.viewHooks;null!==Nt&&Fd(i,Nt,2),Dh(i,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[22]){for(const Nt of i[22])Nt();i[22]=null}Av(i),i[ns]&=-73}catch(Ke){throw lc(i),Ke}finally{null!==Me&&(y(Me,re),J&&function Mv(n){n.lView[Mi]!==n&&(n.lView=null,Dv.push(n))}(Me)),Ul()}}function lf(n,i){for(let r=$p(n);null!==r;r=Xr(r))for(let c=St;c<r.length;c++)Ac(r[c],i)}function nu(n,i,r){sr(18);const c=Wa(i,n);Ac(c,r),sr(19,c[gn])}function Ac(n,i){Nd(n)&&cf(n,i)}function cf(n,i){const c=n[ci],_=n[ns],I=n[Mi];let O=!!(0===i&&16&_);if(O||=!!(64&_&&0===i),O||=!!(1024&_),O||=!(!I?.dirty||!X(I)),O||=!1,I&&(I.dirty=!1),n[ns]&=-9217,O)af(c,n,c.template,n[gn]);else if(8192&_){N1(n),lf(n,1);const J=c.components;null!==J&&gl(n,J,1),Av(n)}}function gl(n,i,r){for(let c=0;c<i.length;c++)nu(n,i[c],r)}function sa(n,i){const r=zs()?64:1088;for(n[It].changeDetectionScheduler?.notify(i);n;){n[ns]|=r;const c=Qo(n);if(G(n)&&!c)return n;n=c}return null}function jm(n,i,r,c){return[n,!0,0,i,null,c,null,r,null,null]}function $m(n,i){const r=St+i;if(r<n.length)return n[r]}function Ta(n,i,r,c=!0){const _=i[ci];if(function Gm(n,i,r,c){const _=St+c,I=r.length;c>0&&(r[_-1][hr]=i),c<I-St?(i[hr]=r[_],Wo(r,St+c,i)):(r.push(i),i[hr]=null),i[cr]=r;const O=i[Tr];null!==O&&r!==O&&Hm(O,i);const J=i[zr];null!==J&&J.insertView(n),kc(i),i[ns]|=128}(_,i,n,r),c){const O=R1(r,n),J=i[at],re=J.parentNode(n[Ie]);null!==re&&function vv(n,i,r,c,_,I){c[Ps]=_,c[Vr]=i,Bm(n,c,r,1,_,I)}(_,n[Vr],J,i,re,O)}const I=i[na];null!==I&&null!==I.firstChild&&(I.firstChild=null)}function iu(n,i){const r=Cd(n,i);return void 0!==r&&tp(r[ci],r),r}function Cd(n,i){if(n.length<=St)return;const r=St+i,c=n[r];if(c){const _=c[Tr];null!==_&&_!==n&&yd(_,c),i>0&&(n[r-1][hr]=c[hr]);const I=ta(n,St+i);!function xm(n,i){yv(n,i),i[Ps]=null,i[Vr]=null}(c[ci],c);const O=I[zr];null!==O&&O.detachView(I[ci]),c[cr]=null,c[hr]=null,c[ns]&=-129}return c}function Hm(n,i){const r=n[Mt],c=i[cr];(an(c)||i[qi]!==c[cr][qi])&&(n[ns]|=2),null===r?n[Mt]=[i]:r.push(i)}let wo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const i=this._lView,r=i[ci];return np(r,i,r.firstChild,[])}constructor(i,r,c=!0){this._lView=i,this._cdRefInjectingView=r,this.notifyErrorHandler=c}get context(){return this._lView[gn]}set context(i){this._lView[gn]=i}get destroyed(){return pt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[cr];if(Pn(i)){const r=i[8],c=r?r.indexOf(this):-1;c>-1&&(Cd(i,c),ta(r,c))}this._attachedToViewContainer=!1}tp(this._lView[ci],this._lView)}onDestroy(i){cc(this._lView,i)}markForCheck(){sa(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ns]&=-129}reattach(){kc(this._lView),this._lView[ns]|=128}detectChanges(){this._lView[ns]|=1024,ec(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=G(this._lView),r=this._lView[Tr];null!==r&&!i&&yd(r,this._lView),yv(this._lView[ci],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=i;const r=G(this._lView),c=this._lView[Tr];null!==c&&!r&&Hm(c,this._lView),kc(this._lView)}},nc=(()=>class n{static __NG_ELEMENT_ID__=Fv})();const Sd=nc,Pv=class extends Sd{_declarationLView;_declarationTContainer;elementRef;constructor(i,r,c){super(),this._declarationLView=i,this._declarationTContainer=r,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,r){return this.createEmbeddedViewImpl(i,r)}createEmbeddedViewImpl(i,r,c){const _=gh(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:r,dehydratedView:c});return new wo(_)}};function Fv(){return uf(Gs(),kn())}function uf(n,i){return 4&n.type?new Pv(i,n,Su(n,i)):null}function Ym(n,i,r){const c=i.insertBeforeIndex,_=Array.isArray(c)?c[0]:c;return null===_?Ev(n,0,r):$s(r[_])}function x1(n,i,r,c,_){const I=i.insertBeforeIndex;if(Array.isArray(I)){let O=c,J=null;if(3&i.type||(J=O,O=_),null!==O&&-1===i.componentOffset)for(let re=1;re<I.length;re++)Du(n,O,r[I[re]],J,!1)}}function yh(n,i,r,c,_){let I=n.data[i];if(null===I)I=zm(n,i,r,c,_),function Bo(){return As.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=r,I.value=c,I.attrs=_;const O=Vl();I.injectorIndex=null===O?-1:O.injectorIndex}return ce(I,!0),I}function zm(n,i,r,c,_){const I=Bl(),O=_n(),re=n.data[i]=function mb(n,i,r,c,_,I){let O=i?i.injectorIndex:-1,J=0;return kl()&&(J|=128),{type:r,index:c,insertBeforeIndex:null,injectorIndex:O,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:J,providerIndexes:0,value:_,attrs:I,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?I:I&&I.parent,r,i,c,_);return function fb(n,i,r,c){null===n.firstChild&&(n.firstChild=i),null!==r&&(c?null==r.child&&null!==i.parent&&(r.child=i):null===r.next&&(r.next=i,i.prev=r))}(n,re,I,O),re}function $v(n,i){if(n.push(i),n.length>1)for(let r=n.length-2;r>=0;r--){const c=n[r];Gv(c)||gb(c,i)&&null===_b(c)&&vb(c,i.index)}}function Gv(n){return!(64&n.type)}function gb(n,i){return Gv(i)||n.index>i.index}function _b(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function vb(n,i){const r=n.insertBeforeIndex;Array.isArray(r)?r[0]=i:(wv(Ym,x1),n.insertBeforeIndex=i)}function Kv(n,i,r){const c=zm(n,r,64,null,null);return $v(i,c),c}function Xm(n,i,r){n.index=0;const c=function pf(n,i){const r=i[n.currentCaseLViewIndex];return null===r?r:r<0?~r:r}(i,r);n.removes=null!==c?i.remove[c]:Bs}function ff(n){if(n.index<n.removes.length){const i=n.removes[n.index++];return i>0?n.lView[i]:(n.stack.push(n.index,n.removes),Xm(n,n.lView[ci].data[~i],n.lView),ff(n))}return 0===n.stack.length?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),ff(n))}function op(){const n={stack:[],index:-1};return function i(r,c){for(n.lView=c;n.stack.length;)n.stack.pop();return Xm(n,r.value,c),ff.bind(null,n)}}let xe=()=>{},ds=()=>null;function Na(n,i){return ds(n,i)}let Al=class{},oa=class{};class or{resolveComponentFactory(i){throw Error(`No component factory found for ${Ni(i)}.`)}}let vs=class{static NULL=new or};class au{}let Pu=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function ic(){const n=kn(),r=Wa(Gs().index,n);return(an(r)?r:n)[at]}()})(),Hs=(()=>{class n{static \u0275prov=qn({token:n,providedIn:"root",factory:()=>null})}return n})();function Fu(n){return!!ar(n)}const Qv={};class dp{injector;parentInjector;constructor(i,r){this.injector=i,this.parentInjector=r}get(i,r,c){c=Ir(c);const _=this.injector.get(i,Qv,c);return _!==Qv||r===Qv?_:this.parentInjector.get(i,r,c)}}function Zv(n,i,r){let c=r?n.styles:null,_=r?n.classes:null,I=0;if(null!==i)for(let O=0;O<i.length;O++){const J=i[O];"number"==typeof J?I=J:1==I?_=os(_,J):2==I&&(c=os(c,J+": "+i[++O]+";"))}r?n.styles=c:n.stylesWithoutHost=c,r?n.classes=_:n.classesWithoutHost=_}function gf(n,i=Ui.Default){const r=kn();return null===r?xs(n,i):So(Gs(),r,wt(n),i)}function Cb(){throw new Error("invalid")}function qv(n,i,r,c,_){const I=null===c?null:{"":-1},O=_(n,r);if(null!==O){let J,re=null,Me=null;const Ke=function SS(n){let i=null,r=!1;for(let O=0;O<n.length;O++){const J=n[O];if(0===O&&Ee(J)&&(i=J),null!==J.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let c=null,_=null,I=null;for(const O of n)null!==O.findHostDirectiveDefs&&(c??=[],_??=new Map,I??=new Map,ES(O,c,I,_)),O===i&&(c??=[],c.push(O));return null!==c?(c.push(...null===i?n:n.slice(1)),[c,_,I]):null}(O);null===Ke?J=O:[J,re,Me]=Ke,function wS(n,i,r,c,_,I,O){const J=c.length;let re=!1;for(let kt=0;kt<J;kt++){const Nt=c[kt];!re&&Ee(Nt)&&(re=!0,TS(n,r,kt)),Co(Cp(r,i),n,Nt.type)}!function NS(n,i,r){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+r,n.providerIndexes=i}(r,n.data.length,J);for(let kt=0;kt<J;kt++){const Nt=c[kt];Nt.providersResolver&&Nt.providersResolver(Nt)}let Me=!1,Ke=!1,mt=mh(n,i,J,null);J>0&&(r.directiveToIndex=new Map);for(let kt=0;kt<J;kt++){const Nt=c[kt];if(r.mergedAttrs=Hl(r.mergedAttrs,Nt.hostAttrs),IS(n,r,i,mt,Nt),DS(mt,Nt,_),null!==O&&O.has(Nt)){const[$n,bi]=O.get(Nt);r.directiveToIndex.set(Nt.type,[mt,$n+r.directiveStart,bi+r.directiveStart])}else(null===I||!I.has(Nt))&&r.directiveToIndex.set(Nt.type,mt);null!==Nt.contentQueries&&(r.flags|=4),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(r.flags|=64);const on=Nt.type.prototype;!Me&&(on.ngOnChanges||on.ngOnInit||on.ngDoCheck)&&((n.preOrderHooks??=[]).push(r.index),Me=!0),!Ke&&(on.ngOnChanges||on.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(r.index),Ke=!0),mt++}!function Sb(n,i,r){for(let c=i.directiveStart;c<i.directiveEnd;c++){const _=n.data[c];if(null!==r&&r.has(_)){const I=r.get(_);Tb(0,i,I,c),Tb(1,i,I,c),Ib(i,c,!0)}else Eb(0,i,_,c),Eb(1,i,_,c),Ib(i,c,!1)}}(n,r,I)}(n,i,r,J,I,re,Me)}null!==I&&null!==c&&function CS(n,i,r){const c=n.localNames=[];for(let _=0;_<i.length;_+=2){const I=r[i[_+1]];if(null==I)throw new de(-301,!1);c.push(i[_],I)}}(r,c,I)}function ES(n,i,r,c){const _=i.length;n.findHostDirectiveDefs(n,i,c),r.set(n,[_,i.length-1])}function TS(n,i,r){i.componentOffset=r,(n.components??=[]).push(i.index)}function Eb(n,i,r,c){const _=0===n?r.inputs:r.outputs;for(const I in _)if(_.hasOwnProperty(I)){let O;O=0===n?i.inputs??={}:i.outputs??={},O[I]??=[],O[I].push(c),wb(i,I)}}function Tb(n,i,r,c){const _=0===n?r.inputs:r.outputs;for(const I in _)if(_.hasOwnProperty(I)){const O=_[I];let J;J=0===n?i.hostDirectiveInputs??={}:i.hostDirectiveOutputs??={},J[O]??=[],J[O].push(c,I),wb(i,O)}}function wb(n,i){"class"===i?n.flags|=8:"style"===i&&(n.flags|=16)}function Ib(n,i,r){const{attrs:c,inputs:_,hostDirectiveInputs:I}=n;if(null===c||!r&&null===_||r&&null===I||nv(n))return n.initialInputs??=[],void n.initialInputs.push(null);let O=null,J=0;for(;J<c.length;){const re=c[J];if(0!==re)if(5!==re){if("number"==typeof re)break;if(!r&&_.hasOwnProperty(re)){const Me=_[re];for(const Ke of Me)if(Ke===i){O??=[],O.push(re,c[J+1]);break}}else if(r&&I.hasOwnProperty(re)){const Me=I[re];for(let Ke=0;Ke<Me.length;Ke+=2)if(Me[Ke]===i){O??=[],O.push(Me[Ke+1],c[J+1]);break}}J+=2}else J+=2;else J+=4}n.initialInputs??=[],n.initialInputs.push(O)}function IS(n,i,r,c,_){n.data[c]=_;const I=_.factory||(_.factory=ha(_.type)),O=new Nh(I,Ee(_),gf);n.blueprint[c]=O,r[c]=O,function RS(n,i,r,c,_){const I=_.hostBindings;if(I){let O=n.hostBindingOpCodes;null===O&&(O=n.hostBindingOpCodes=[]);const J=~i.index;(function AS(n){let i=n.length;for(;i>0;){const r=n[--i];if("number"==typeof r&&r<0)return r}return 0})(O)!=J&&O.push(J),O.push(r,c,I)}}(n,i,c,mh(n,r,_.hostVars,Vs),_)}function DS(n,i,r){if(r){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)r[i.exportAs[c]]=n;Ee(i)&&(r[""]=n)}}function Rb(n,i,r,c,_,I,O,J){const re=i.consts,Ke=yh(i,n,2,c,_o(re,O));return I&&qv(i,r,Ke,_o(re,J),_),Ke.mergedAttrs=Hl(Ke.mergedAttrs,Ke.attrs),null!==Ke.attrs&&Zv(Ke,Ke.attrs,!1),null!==Ke.mergedAttrs&&Zv(Ke,Ke.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,Ke),Ke}function Ab(n,i){dc(n,i),Yn(i)&&n.queries.elementEnd(i)}class Db extends vs{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const r=hs(i);return new ng(r,this.ngModule)}}class ng extends oa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function MS(n){return Object.keys(n).map(i=>{const[r,c,_]=n[i],I={propName:r,templateName:i,isSignal:!!(c&v1.SignalBased)};return _&&(I.transform=_),I})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function OS(n){return Object.keys(n).map(i=>({propName:n[i],templateName:i}))}(this.componentDef.outputs),this.cachedOutputs}constructor(i,r){super(),this.componentDef=i,this.ngModule=r,this.componentType=i.type,this.selector=function f1(n){return n.map(Y0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!r}create(i,r,c,_){sr(22);const I=m(null);try{const O=this.componentDef,J=c?["ng-version","19.2.8"]:function z0(n){const i=[],r=[];let c=1,_=2;for(;c<n.length;){let I=n[c];if("string"==typeof I)2===_?""!==I&&i.push(I,n[++c]):8===_&&r.push(I);else{if(!Rc(_))break;_=I}c++}return r.length&&i.push(1,...r),i}(this.componentDef.selectors[0]),re=m1(0,null,null,1,0,null,null,null,null,[J],null),Me=function xS(n,i,r){let c=i instanceof Rr?i:i?.injector;return c&&null!==n.getStandaloneInjector&&(c=n.getStandaloneInjector(c)||c),c?new dp(r,c):r}(O,_||this.ngModule,i),Ke=function kS(n){const i=n.get(au,null);if(null===i)throw new de(407,!1);return{rendererFactory:i,sanitizer:n.get(Hs,null),changeDetectionScheduler:n.get(Uo,null)}}(Me),mt=Ke.rendererFactory.createRenderer(null,O),kt=c?function q0(n,i,r,c){const I=c.get(N_,!1)||r===fd.ShadowDom,O=n.selectRootElement(i,I);return function eb(n){Nu(n)}(O),O}(mt,c,O.encapsulation,Me):function PS(n,i){const r=(n.selectors[0][0]||"div").toLowerCase();return qh(i,r,"svg"===r?"svg":"math"===r?"math":null)}(O,mt),Nt=fh(null,re,null,512|g1(O),null,null,Ke,mt,Me,null,Wg(kt,Me,!0));Nt[se]=kt,Wu(Nt);let on=null;try{const $n=Rb(se,re,Nt,"#host",()=>[this.componentDef],!0,0);kt&&(rv(mt,kt,$n),$o(kt,Nt)),b1(re,Nt,$n),lm(re,$n,Nt),Ab(re,$n),void 0!==r&&function BS(n,i,r){const c=n.projection=[];for(let _=0;_<i.length;_++){const I=r[_];c.push(null!=I&&I.length?Array.from(I):null)}}($n,this.ngContentSelectors,r),on=Wa($n.index,Nt),Nt[gn]=on[gn],Mm(re,Nt,null)}catch($n){throw null!==on&&Bh(on),Bh(Nt),$n}finally{sr(23),Ul()}return new FS(this.componentType,Nt)}finally{m(I)}}}class FS extends Al{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,r){super(),this._rootLView=r,this._tNode=Jo(r[ci],se),this.location=Su(this._tNode,r),this.instance=Wa(this._tNode.index,r)[gn],this.hostView=this.changeDetectorRef=new wo(r,void 0,!1),this.componentType=i}setInput(i,r){const c=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),r))return;const _=this._rootLView;Nm(c,_[ci],_,i,r),this.previousInputValues.set(i,r),sa(Wa(c.index,_),1)}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}let $1=(()=>class n{static __NG_ELEMENT_ID__=VS})();function VS(){return Ob(Gs(),kn())}const LS=$1,Nb=class extends LS{_lContainer;_hostTNode;_hostLView;constructor(i,r,c){super(),this._lContainer=i,this._hostTNode=r,this._hostLView=c}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Sp(this._hostTNode,this._hostLView);if(Xu(i)){const r=Mh(i,this._hostLView),c=Kl(i);return new Cr(r[ci].data[c+8],r)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const r=Mb(this._lContainer);return null!==r&&r[i]||null}get length(){return this._lContainer.length-St}createEmbeddedView(i,r,c){let _,I;"number"==typeof c?_=c:null!=c&&(_=c.index,I=c.injector);const O=Na(this._lContainer,i.ssrId),J=i.createEmbeddedViewImpl(r||{},I,O);return this.insertImpl(J,_,_h(this._hostTNode,O)),J}createComponent(i,r,c,_,I){const O=i&&!function Fa(n){return"function"==typeof n}(i);let J;if(O)J=r;else{const on=r||{};J=on.index,c=on.injector,_=on.projectableNodes,I=on.environmentInjector||on.ngModuleRef}const re=O?i:new ng(hs(i)),Me=c||this.parentInjector;if(!I&&null==re.ngModule){const $n=(O?Me:this.parentInjector).get(Rr,null);$n&&(I=$n)}const Ke=hs(re.componentType??{}),mt=Na(this._lContainer,Ke?.id??null),Nt=re.create(Me,_,mt?.firstChild??null,I);return this.insertImpl(Nt.hostView,J,_h(this._hostTNode,mt)),Nt}insert(i,r){return this.insertImpl(i,r,!0)}insertImpl(i,r,c){const _=i._lView;if(function Md(n){return Pn(n[cr])}(_)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const re=_[cr],Me=new Nb(re,re[Vr],re[cr]);Me.detach(Me.indexOf(i))}}const I=this._adjustIndex(r),O=this._lContainer;return Ta(O,_,I,c),i.attachToViewContainerRef(),Wo(ey(O),I,i),i}move(i,r){return this.insert(i,r)}indexOf(i){const r=Mb(this._lContainer);return null!==r?r.indexOf(i):-1}remove(i){const r=this._adjustIndex(i,-1),c=Cd(this._lContainer,r);c&&(ta(ey(this._lContainer),r),tp(c[ci],c))}detach(i){const r=this._adjustIndex(i,-1),c=Cd(this._lContainer,r);return c&&null!=ta(ey(this._lContainer),r)?new wo(c):null}_adjustIndex(i,r=0){return i??this.length+r}};function Mb(n){return n[8]}function ey(n){return n[8]||(n[8]=[])}function Ob(n,i){let r;const c=i[n.index];return Pn(c)?r=c:(r=jm(c,i,null,n),i[n.index]=r,_1(i,r)),xb(r,i,n,c),new Nb(r,n,i)}let xb=function kb(n,i,r,c){if(n[Ie])return;let _;_=8&r.type?$s(c):function US(n,i){const r=n[at],c=r.createComment(""),_=Sa(i,n),I=r.parentNode(_);return Du(r,I,c,r.nextSibling(_),!1),c}(i,r),n[Ie]=_},ty=()=>!1;class sy{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class ry{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){const r=i.queries;if(null!==r){const c=null!==i.contentQueries?i.contentQueries[0]:r.length,_=[];for(let I=0;I<c;I++){const O=r.getByIndex(I);_.push(this.queries[O.indexInDeclarationView].clone())}return new ry(_)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let r=0;r<this.queries.length;r++)null!==H1(i,r).matches&&this.queries[r].setDirty()}}class Fb{flags;read;predicate;constructor(i,r,c=null){this.flags=r,this.read=c,this.predicate="string"==typeof i?function KS(n){return n.split(",").map(i=>i.trim())}(i):i}}class ay{queries;constructor(i=[]){this.queries=i}elementStart(i,r){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,r)}elementEnd(i){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(i)}embeddedTView(i){let r=null;for(let c=0;c<this.length;c++){const _=null!==r?r.length:0,I=this.getByIndex(c).embeddedTView(i,_);I&&(I.indexInDeclarationView=c,null!==r?r.push(I):r=[I])}return null!==r?new ay(r):null}template(i,r){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,r)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class oy{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,r=-1){this.metadata=i,this._declarationNodeIndex=r}elementStart(i,r){this.isApplyingToNode(r)&&this.matchTNode(i,r)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,r){this.elementStart(i,r)}embeddedTView(i,r){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,r),new oy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==r;)c=c.parent;return r===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,r){const c=this.metadata.predicate;if(Array.isArray(c))for(let _=0;_<c.length;_++){const I=c[_];this.matchTNodeWithReadOption(i,r,$S(r,I)),this.matchTNodeWithReadOption(i,r,jc(r,i,I,!1,!1))}else c===nc?4&r.type&&this.matchTNodeWithReadOption(i,r,-1):this.matchTNodeWithReadOption(i,r,jc(r,i,c,!1,!1))}matchTNodeWithReadOption(i,r,c){if(null!==c){const _=this.metadata.read;if(null!==_)if(_===od||_===$1||_===nc&&4&r.type)this.addMatch(r.index,-2);else{const I=jc(r,i,_,!1,!1);null!==I&&this.addMatch(r.index,I)}else this.addMatch(r.index,c)}}addMatch(i,r){null===this.matches?this.matches=[i,r]:this.matches.push(i,r)}}function $S(n,i){const r=n.localNames;if(null!==r)for(let c=0;c<r.length;c+=2)if(r[c]===i)return r[c+1];return null}function GS(n,i,r,c){return-1===r?function Bb(n,i){return 11&n.type?Su(n,i):4&n.type?uf(n,i):null}(i,n):-2===r?function HS(n,i,r){return r===od?Su(i,n):r===nc?uf(i,n):r===$1?Ob(i,n):void 0}(n,i,c):Sl(n,n[ci],r,i)}function Vb(n,i,r,c){const _=i[zr].queries[c];if(null===_.matches){const I=n.data,O=r.matches,J=[];for(let re=0;null!==O&&re<O.length;re+=2){const Me=O[re];J.push(Me<0?null:GS(i,I[Me],O[re+1],r.metadata.read))}_.matches=J}return _.matches}function ly(n,i,r,c){const _=n.queries.getByIndex(r),I=_.matches;if(null!==I){const O=Vb(n,i,_,r);for(let J=0;J<I.length;J+=2){const re=I[J];if(re>0)c.push(O[J/2]);else{const Me=I[J+1],Ke=i[-re];for(let mt=St;mt<Ke.length;mt++){const kt=Ke[mt];kt[Tr]===kt[cr]&&ly(kt[ci],kt,Me,c)}if(null!==Ke[Mt]){const mt=Ke[Mt];for(let kt=0;kt<mt.length;kt++){const Nt=mt[kt];ly(Nt[ci],Nt,Me,c)}}}}}return c}function Lb(n,i,r){const c=new Ly(!(4&~r));return function bl(n,i,r,c){const _=$u(i);_.push(r),n.firstCreatePass&&Gu(n).push(c,_.length-1)}(n,i,c,c.destroy),(i[zr]??=new ry).queries.push(new sy(c))-1}function jb(n,i,r){null===n.queries&&(n.queries=new ay),n.queries.track(new oy(i,r))}function H1(n,i){return n.queries.getByIndex(i)}function K1(n,i){const r=n[ci],c=H1(r,i);return c.crossesNgTemplate?ly(r,n,i,[]):Vb(r,n,c,i)}let hp=class{},nC=class{};function oE(n,i){return new fy(n,i??null,[])}class fy extends hp{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Db(this);constructor(i,r,c,_=!0){super(),this.ngModuleType=i,this._parent=r;const I=ar(i);this._bootstrapComponents=Ic(I.bootstrap),this._r3Injector=sd(i,r,[{provide:hp,useValue:this},{provide:vs,useValue:this.componentFactoryResolver},...c],Ni(i),new Set(["environment"])),_&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class my extends nC{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new fy(this.moduleType,i,[])}}class h extends hp{injector;componentFactoryResolver=new Db(this);instance=null;constructor(i){super();const r=new Ga([...i.providers,{provide:hp,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],i.parent||$a(),i.debugName,new Set(["environment"]));this.injector=r,i.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function b(n,i,r=null){return new h({providers:n,parent:i,debugName:r,runEnvironmentInitializers:!0}).injector}let a=(()=>{class n{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const c=so(0,r.type),_=c.length>0?b([c],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,_)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=qn({token:n,providedIn:"environment",factory:()=>new n(xs(Rr))})}return n})();function p(n){return Kt(()=>{const i=En(n),r={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:i.standalone?_=>_.get(a).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fd.Emulated,styles:n.styles||Bs,_:null,schemas:n.schemas||null,tView:null,id:""};i.standalone&&el("NgStandalone"),jn(r);const c=n.dependencies;return r.directiveDefs=Hn(c,!1),r.pipeDefs=Hn(c,!0),r.id=function mi(n){let i=0;const c=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const I of c.join("|"))i=Math.imul(31,i)+I.charCodeAt(0)|0;return i+=2147483648,"c"+i}(r),r})}function C(n){return hs(n)||Ds(n)}function x(n){return null!==n}function le(n){return Kt(()=>({type:n.type,bootstrap:n.bootstrap||Bs,declarations:n.declarations||Bs,imports:n.imports||Bs,exports:n.exports||Bs,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ke(n,i){if(null==n)return Br;const r={};for(const c in n)if(n.hasOwnProperty(c)){const _=n[c];let I,O,J,re;Array.isArray(_)?(J=_[0],I=_[1],O=_[2]??I,re=_[3]||null):(I=_,O=_,J=v1.None,re=null),r[I]=[c,J,re],i[I]=O}return r}function tt(n){if(null==n)return Br;const i={};for(const r in n)n.hasOwnProperty(r)&&(i[n[r]]=r);return i}function Ct(n){return Kt(()=>{const i=En(n);return jn(i),i})}function Lt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function En(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputConfig:n.inputs||Br,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||Bs,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ke(n.inputs,i),outputs:tt(n.outputs),debugInfo:null}}function jn(n){n.features?.forEach(i=>i(n))}function Hn(n,i){if(!n)return null;const r=i?ks:C;return()=>("function"==typeof n?n():n).map(c=>r(c)).filter(x)}function ys(n){let i=function Xi(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),r=!0;const c=[n];for(;i;){let _;if(Ee(n))_=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new de(903,!1);_=i.\u0275dir}if(_){if(r){c.push(_);const O=n;O.inputs=ps(n.inputs),O.declaredInputs=ps(n.declaredInputs),O.outputs=ps(n.outputs);const J=_.hostBindings;J&&er(n,J);const re=_.viewQuery,Me=_.contentQueries;if(re&&ir(n,re),Me&&Qs(n,Me),cs(n,_),Bi(n.outputs,_.outputs),Ee(_)&&_.data.animation){const Ke=n.data;Ke.animation=(Ke.animation||[]).concat(_.data.animation)}}const I=_.features;if(I)for(let O=0;O<I.length;O++){const J=I[O];J&&J.ngInherit&&J(n),J===ys&&(r=!1)}}i=Object.getPrototypeOf(i)}!function Xs(n){let i=0,r=null;for(let c=n.length-1;c>=0;c--){const _=n[c];_.hostVars=i+=_.hostVars,_.hostAttrs=Hl(_.hostAttrs,r=Hl(r,_.hostAttrs))}}(c)}function cs(n,i){for(const r in i.inputs){if(!i.inputs.hasOwnProperty(r)||n.inputs.hasOwnProperty(r))continue;const c=i.inputs[r];void 0!==c&&(n.inputs[r]=c,n.declaredInputs[r]=i.declaredInputs[r])}}function ps(n){return n===Br?{}:n===Bs?[]:n}function ir(n,i){const r=n.viewQuery;n.viewQuery=r?(c,_)=>{i(c,_),r(c,_)}:i}function Qs(n,i){const r=n.contentQueries;n.contentQueries=r?(c,_,I)=>{i(c,_,I),r(c,_,I)}:i}function er(n,i){const r=n.hostBindings;n.hostBindings=r?(c,_)=>{i(c,_),r(c,_)}:i}function qa(n){const i=r=>{const c=Array.isArray(n);null===r.hostDirectives?(r.findHostDirectiveDefs=eo,r.hostDirectives=c?n.map(Dc):[n]):c?r.hostDirectives.unshift(...n.map(Dc)):r.hostDirectives.unshift(n)};return i.ngInherit=!0,i}function eo(n,i,r){if(null!==n.hostDirectives)for(const c of n.hostDirectives)if("function"==typeof c){const _=c();for(const I of _)to(Dc(I),i,r)}else to(c,i,r)}function to(n,i,r){const c=Ds(n.directive);(function Gi(n,i){for(const r in i)i.hasOwnProperty(r)&&(n[i[r]]=n[r])})(c.declaredInputs,n.inputs),eo(c,i,r),r.set(c,n),i.push(c)}function Dc(n){return"function"==typeof n?{directive:wt(n),inputs:Br,outputs:Br}:{directive:wt(n.directive),inputs:ou(n.inputs),outputs:ou(n.outputs)}}function ou(n){if(void 0===n||0===n.length)return Br;const i={};for(let r=0;r<n.length;r+=2)i[n[r]]=n[r+1];return i}function Ks(n){return!!La(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function La(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function rr(n,i,r){return n[i]=r}function _l(n,i){return n[i]}function Hr(n,i,r){return!Object.is(n[i],r)&&(n[i]=r,!0)}function Jr(n,i,r,c){const _=Hr(n,i,r);return Hr(n,i+1,c)||_}function Qr(n,i,r,c,_,I){const O=Jr(n,i,r,c);return Jr(n,i+2,_,I)||O}function lu(n,i,r,c,_,I,O,J,re,Me){const Ke=r+se,mt=i.firstCreatePass?function vf(n,i,r,c,_,I,O,J,re){const Me=i.consts,Ke=yh(i,n,4,O||null,J||null);Ku()&&qv(i,r,Ke,_o(Me,re),fv),Ke.mergedAttrs=Hl(Ke.mergedAttrs,Ke.attrs),dc(i,Ke);const mt=Ke.tView=m1(2,Ke,c,_,I,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Me,null);return null!==i.queries&&(i.queries.template(i,Ke),mt.queries=i.queries.embeddedTView(Ke)),Ke}(Ke,i,n,c,_,I,O,J,re):i.data[Ke];ce(mt,!1);const kt=_y(i,n,mt,r);cl()&&Fm(i,n,kt,mt),$o(kt,n);const Nt=jm(kt,n,kt,mt);return n[Ke]=Nt,_1(n,Nt),function ny(n,i,r){return ty(n,i,r)}(Nt,mt,n),rn(mt)&&b1(i,n,mt),null!=re&&cv(n,mt,Me),mt}function gy(n,i,r,c,_,I,O,J){const re=kn(),Me=ms();return lu(re,Me,n,i,r,c,_,_o(Me.consts,I),O,J),gy}let _y=function iC(n,i,r,c){return $l(!0),i[at].createComment("")};let mE=(()=>{class n{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ZT=new Jt(""),qT=new Jt("");let yE,_D=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(r,c,_){this._ngZone=r,this.registry=c,yE||(function vD(n){yE=n}(_),_.addToWindow(c)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ur.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(r)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,c,_){let I=-1;c&&c>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==I),r()},c)),this._callbacks.push({doneCb:r,timeoutId:I,updateCb:_})}whenStable(r,c,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,c,_),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,c,_){return[]}static \u0275fac=function(c){return new(c||n)(xs(ur),xs(ew),xs(qT))};static \u0275prov=qn({token:n,factory:n.\u0275fac})}return n})(),ew=(()=>{class n{_applications=new Map;registerApplication(r,c){this._applications.set(r,c)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,c=!0){return yE?.findTestabilityInTree(this,r,c)??null}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),bE=(()=>{class n{static \u0275prov=qn({token:n,providedIn:"root",factory:()=>new yD})}return n})();class yD{queuedEffectCount=0;queues=new Map;schedule(i){this.enqueue(i)}remove(i){const c=this.queues.get(i.zone);c.has(i)&&(c.delete(i),this.queuedEffectCount--)}enqueue(i){const r=i.zone;this.queues.has(r)||this.queues.set(r,new Set);const c=this.queues.get(r);c.has(i)||(this.queuedEffectCount++,c.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,r]of this.queues)null===i?this.flushQueue(r):i.run(()=>this.flushQueue(r))}flushQueue(i){for(const r of i)i.delete(r),this.queuedEffectCount--,r.run()}}function CE(n){return!!n&&"function"==typeof n.then}function tw(n){return!!n&&"function"==typeof n.subscribe}const SE=new Jt("");function bD(n){return Er([{provide:SE,multi:!0,useValue:n}])}let nw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,c)=>{this.resolve=r,this.reject=c});appInits=Ci(SE,{optional:!0})??[];injector=Ci(pa);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const _ of this.appInits){const I=Gr(this.injector,_);if(CE(I))r.push(I);else if(tw(I)){const O=new Promise((J,re)=>{I.subscribe({complete:J,error:re})});r.push(O)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{c()}).catch(_=>{this.reject(_)}),0===r.length&&c(),this.initialized=!0}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cy=new Jt("");function sw(n,i){return Array.isArray(i)?i.reduce(sw,n):{...n,...i}}let cu=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ci(m_);afterRenderManager=Ci(x_);zonelessEnabled=Ci(Kc);rootEffectScheduler=Ci(bE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ln.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ci(yu).hasPendingTasks.pipe((0,ft.T)(r=>!r));constructor(){Ci(Jl,{optional:!0})}whenStable(){let r;return new Promise(c=>{r=this.isStable.subscribe({next:_=>{_&&c()}})}).finally(()=>{r.unsubscribe()})}_injector=Ci(Rr);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,c){return this.bootstrapImpl(r,c)}bootstrapImpl(r,c,_=pa.NULL){sr(10);const I=r instanceof oa;if(!this._injector.get(nw).done)throw new de(405,"");let J;J=I?r:this._injector.get(vs).resolveComponentFactory(r),this.componentTypes.push(J.componentType);const re=function CD(n){return n.isBoundToModule}(J)?void 0:this._injector.get(hp),Ke=J.create(_,[],c||J.selector,re),mt=Ke.location.nativeElement,kt=Ke.injector.get(ZT,null);return kt?.registerApplication(mt),Ke.onDestroy(()=>{this.detachView(Ke.hostView),cC(this.components,Ke),kt?.unregisterApplication(mt)}),this._loadComponent(Ke),sr(11,Ke),Ke}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){sr(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Go.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new de(101,!1);const r=m(null);try{this._runningTick=!0,this.synchronize()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,m(r),this.afterTick.next(),sr(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(au,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)sr(14),this.synchronizeOnce(),sr(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:c,notifyErrorHandler:_}of this.allViews)ED(c,_,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>xc(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const c=r;this._views.push(c),c.attachToAppRef(this)}detachView(r){const c=r;cC(this._views,c),c.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Cy,[]).forEach(_=>_(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>cC(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new de(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cC(n,i){const r=n.indexOf(i);r>-1&&n.splice(r,1)}function ED(n,i,r,c){(r||xc(n))&&ec(n,i,r&&!c?0:1)}function RE(n,i,r,c){const _=kn();return Hr(_,Fo(),i)&&(ms(),Mu(br(),_,n,i,r,c)),RE}function Z1(n,i,r,c){return Hr(n,Fo(),r)?i+Pe(r)+c:Vs}function q1(n,i,r,c,_,I){const J=Jr(n,function ol(){return As.lFrame.bindingIndex}(),r,_);return Nr(2),J?i+Pe(r)+c+Pe(_)+I:Vs}function uC(n,i){return n<<17|i<<2}function rg(n){return n>>17&32767}function AE(n){return 2|n}function a_(n){return(131068&n)>>2}function DE(n,i){return-131069&n|i<<2}function NE(n){return 1|n}function Sw(n,i,r,c){const _=n[r+1],I=null===i;let O=c?rg(_):a_(_),J=!1;for(;0!==O&&(!1===J||I);){const Me=n[O+1];c2(n[O],i)&&(J=!0,n[O+1]=c?NE(Me):AE(Me)),O=c?rg(Me):a_(Me)}J&&(n[r+1]=c?AE(_):NE(_))}function c2(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&io(n,i)>=0}const Ko={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ew(n){return n.substring(Ko.key,Ko.keyEnd)}function Tw(n,i){const r=Ko.textEnd;return r===i?-1:(i=Ko.keyEnd=function p2(n,i,r){for(;i<r&&n.charCodeAt(i)>32;)i++;return i}(n,Ko.key=i,r),o_(n,i,r))}function o_(n,i,r){for(;i<r&&n.charCodeAt(i)<=32;)i++;return i}function ME(n,i,r){const c=kn();return Hr(c,Fo(),i)&&tl(ms(),br(),c,n,i,c[at],r,!1),ME}function OE(n,i,r,c,_){Nm(i,n,r,_?"class":"style",c)}function xE(n,i,r){return Td(n,i,r,!1),xE}function kE(n,i){return Td(n,i,null,!0),kE}function Dw(n){wd(S2,wh,n,!0)}function wh(n,i){for(let r=function d2(n){return function Iw(n){Ko.key=0,Ko.keyEnd=0,Ko.value=0,Ko.valueEnd=0,Ko.textEnd=n.length}(n),Tw(n,o_(n,0,Ko.textEnd))}(i);r>=0;r=Tw(i,r))mr(n,Ew(i),!0)}function Td(n,i,r,c){const _=kn(),I=ms(),O=Nr(2);I.firstUpdatePass&&Mw(I,n,O,c),i!==Vs&&Hr(_,O,i)&&xw(I,I.data[pr()],_,_[at],n,_[O+1]=function T2(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ni(Au(n)))),n}(i,r),c,O)}function wd(n,i,r,c){const _=ms(),I=Nr(2);_.firstUpdatePass&&Mw(_,null,I,c);const O=kn();if(r!==Vs&&Hr(O,I,r)){const J=_.data[pr()];if(Pw(J,c)&&!Nw(_,I)){let re=c?J.classesWithoutHost:J.stylesWithoutHost;null!==re&&(r=os(re,r||"")),OE(_,J,O,r,c)}else!function E2(n,i,r,c,_,I,O,J){_===Vs&&(_=Bs);let re=0,Me=0,Ke=0<_.length?_[0]:null,mt=0<I.length?I[0]:null;for(;null!==Ke||null!==mt;){const kt=re<_.length?_[re+1]:void 0,Nt=Me<I.length?I[Me+1]:void 0;let $n,on=null;Ke===mt?(re+=2,Me+=2,kt!==Nt&&(on=mt,$n=Nt)):null===mt||null!==Ke&&Ke<mt?(re+=2,on=Ke):(Me+=2,on=mt,$n=Nt),null!==on&&xw(n,i,r,c,on,$n,O,J),Ke=re<_.length?_[re]:null,mt=Me<I.length?I[Me]:null}}(_,J,O,O[at],O[I+1],O[I+1]=function C2(n,i,r){if(null==r||""===r)return Bs;const c=[],_=Au(r);if(Array.isArray(_))for(let I=0;I<_.length;I++)n(c,_[I],!0);else if("object"==typeof _)for(const I in _)_.hasOwnProperty(I)&&n(c,I,_[I]);else"string"==typeof _&&i(c,_);return c}(n,i,r),c,I)}}function Nw(n,i){return i>=n.expandoStartIndex}function Mw(n,i,r,c){const _=n.data;if(null===_[r+1]){const I=_[pr()],O=Nw(n,r);Pw(I,c)&&null===i&&!O&&(i=!1),i=function _2(n,i,r,c){const _=Bc(n);let I=c?i.residualClasses:i.residualStyles;if(null===_)0===(c?i.classBindings:i.styleBindings)&&(r=Ey(r=PE(null,n,i,r,c),i.attrs,c),I=null);else{const O=i.directiveStylingLast;if(-1===O||n[O]!==_)if(r=PE(_,n,i,r,c),null===I){let re=function v2(n,i,r){const c=r?i.classBindings:i.styleBindings;if(0!==a_(c))return n[rg(c)]}(n,i,c);void 0!==re&&Array.isArray(re)&&(re=PE(null,n,i,re[1],c),re=Ey(re,i.attrs,c),function y2(n,i,r,c){n[rg(r?i.classBindings:i.styleBindings)]=c}(n,i,c,re))}else I=function b2(n,i,r){let c;const _=i.directiveEnd;for(let I=1+i.directiveStylingLast;I<_;I++)c=Ey(c,n[I].hostAttrs,r);return Ey(c,i.attrs,r)}(n,i,c)}return void 0!==I&&(c?i.residualClasses=I:i.residualStyles=I),r}(_,I,i,c),function o2(n,i,r,c,_,I){let O=I?i.classBindings:i.styleBindings,J=rg(O),re=a_(O);n[c]=r;let Ke,Me=!1;if(Array.isArray(r)?(Ke=r[1],(null===Ke||io(r,Ke)>0)&&(Me=!0)):Ke=r,_)if(0!==re){const kt=rg(n[J+1]);n[c+1]=uC(kt,J),0!==kt&&(n[kt+1]=DE(n[kt+1],c)),n[J+1]=function r2(n,i){return 131071&n|i<<17}(n[J+1],c)}else n[c+1]=uC(J,0),0!==J&&(n[J+1]=DE(n[J+1],c)),J=c;else n[c+1]=uC(re,0),0===J?J=c:n[re+1]=DE(n[re+1],c),re=c;Me&&(n[c+1]=AE(n[c+1])),Sw(n,Ke,c,!0),Sw(n,Ke,c,!1),function l2(n,i,r,c,_){const I=_?n.residualClasses:n.residualStyles;null!=I&&"string"==typeof i&&io(I,i)>=0&&(r[c+1]=NE(r[c+1]))}(i,Ke,n,c,I),O=uC(J,re),I?i.classBindings=O:i.styleBindings=O}(_,I,i,r,O,c)}}function PE(n,i,r,c,_){let I=null;const O=r.directiveEnd;let J=r.directiveStylingLast;for(-1===J?J=r.directiveStart:J++;J<O&&(I=i[J],c=Ey(c,I.hostAttrs,_),I!==n);)J++;return null!==n&&(r.directiveStylingLast=J),c}function Ey(n,i,r){const c=r?1:2;let _=-1;if(null!==i)for(let I=0;I<i.length;I++){const O=i[I];"number"==typeof O?_=O:_===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mr(n,O,!!r||i[++I]))}return void 0===n?null:n}function S2(n,i,r){const c=String(i);""!==c&&!c.includes(" ")&&mr(n,c,r)}function xw(n,i,r,c,_,I,O,J){if(!(3&i.type))return;const re=n.data,Me=re[J+1],Ke=function a2(n){return!(1&~n)}(Me)?kw(re,i,r,_,a_(Me),O):void 0;dC(Ke)||(dC(I)||function s2(n){return!(2&~n)}(Me)&&(I=kw(re,null,r,_,J,O)),function ob(n,i,r,c,_){if(i)_?n.addClass(r,c):n.removeClass(r,c);else{let I=-1===c.indexOf("-")?void 0:Om.DashCase;null==_?n.removeStyle(r,c,I):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),I|=Om.Important),n.setStyle(r,c,_,I))}}(c,O,oc(pr(),r),_,I))}function kw(n,i,r,c,_,I){const O=null===i;let J;for(;_>0;){const re=n[_],Me=Array.isArray(re),Ke=Me?re[1]:re,mt=null===Ke;let kt=r[_+1];kt===Vs&&(kt=mt?Bs:void 0);let Nt=mt?ka(kt,c):Ke===c?kt:void 0;if(Me&&!dC(Nt)&&(Nt=ka(re,c)),dC(Nt)&&(J=Nt,O))return J;const on=n[_+1];_=O?rg(on):a_(on)}if(null!==i){let re=I?i.residualClasses:i.residualStyles;null!=re&&(J=ka(re,c))}return J}function dC(n){return void 0!==n}function Pw(n,i){return!!(n.flags&(i?8:16))}function Fw(n,i,r){wd(mr,wh,Z1(kn(),n,i,r),!0)}function Bw(n,i,r,c,_){wd(mr,wh,q1(kn(),n,i,r,c,_),!0)}class x2{destroy(i){}updateValue(i,r){}swap(i,r){const c=Math.min(i,r),_=Math.max(i,r),I=this.detach(_);if(_-c>1){const O=this.detach(c);this.attach(c,I),this.attach(_,O)}else this.attach(c,I)}move(i,r){this.attach(r,this.detach(i))}}function FE(n,i,r,c,_){return n===r&&Object.is(i,c)?1:Object.is(_(n,i),_(r,c))?-1:0}function BE(n,i,r,c){return!(void 0===i||!i.has(c)||(n.attach(r,i.get(c)),i.delete(c),0))}function Vw(n,i,r,c,_){if(BE(n,i,c,r(c,_)))n.updateValue(c,_);else{const I=n.create(c,_);n.attach(c,I)}}function Lw(n,i,r,c){const _=new Set;for(let I=i;I<=r;I++)_.add(c(I,n.at(I)));return _}class Uw{kvMap=new Map;_vMap=void 0;has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const r=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(i,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,r){if(this.kvMap.has(i)){let c=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(c);)c=_.get(c);_.set(c,r)}else this.kvMap.set(i,r)}forEach(i){for(let[r,c]of this.kvMap)if(i(c,r),void 0!==this._vMap){const _=this._vMap;for(;_.has(c);)c=_.get(c),i(c,r)}}}function jw(n,i){el("NgControlFlow");const r=kn(),c=Fo(),_=r[c]!==Vs?r[c]:-1,I=-1!==_?hC(r,se+_):void 0;if(Hr(r,c,n)){const J=m(null);try{if(void 0!==I&&iu(I,0),-1!==n){const re=se+n,Me=hC(r,re),Ke=VE(r[ci],re),mt=Na(Me,Ke.tView.ssrId);Ta(Me,gh(r,Ke,i,{dehydratedView:mt}),0,_h(Ke,mt))}}finally{m(J)}}else if(void 0!==I){const J=$m(I,0);void 0!==J&&(J[gn]=i)}}class P2{lContainer;$implicit;$index;constructor(i,r,c){this.lContainer=i,this.$implicit=r,this.$index=c}get $count(){return this.lContainer.length-St}}function $w(n){return n}function Gw(n,i){return i}class F2{hasEmptyBlock;trackByFn;liveCollection;constructor(i,r,c){this.hasEmptyBlock=i,this.trackByFn=r,this.liveCollection=c}}function Hw(n,i,r,c,_,I,O,J,re,Me,Ke,mt,kt){el("NgControlFlow");const Nt=kn(),on=ms(),$n=void 0!==re,bi=kn(),Si=J?O.bind(bi[qi][gn]):O,ti=new F2($n,Si);bi[se+n]=ti,lu(Nt,on,n+1,i,r,c,_,_o(on.consts,I)),$n&&lu(Nt,on,n+2,re,Me,Ke,mt,_o(on.consts,kt))}class B2 extends x2{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(i,r,c){super(),this.lContainer=i,this.hostLView=r,this.templateTNode=c}get length(){return this.lContainer.length-St}at(i){return this.getLView(i)[gn].$implicit}attach(i,r){const c=r[na];this.needsIndexUpdate||=i!==this.length,Ta(this.lContainer,r,i,_h(this.templateTNode,c))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function V2(n,i){return Cd(n,i)}(this.lContainer,i)}create(i,r){const c=Na(this.lContainer,this.templateTNode.tView.ssrId),_=gh(this.hostLView,this.templateTNode,new P2(this.lContainer,r,i),{dehydratedView:c});return this.operationsCounter?.recordCreate(),_}destroy(i){tp(i[ci],i),this.operationsCounter?.recordDestroy()}updateValue(i,r){this.getLView(i)[gn].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[gn].$index=i}getLView(i){return function L2(n,i){return $m(n,i)}(this.lContainer,i)}}function Kw(n){const i=m(null),r=pr();try{const c=kn(),_=c[ci],I=c[r],O=r+1,J=hC(c,O);if(void 0===I.liveCollection){const Me=VE(_,O);I.liveCollection=new B2(J,c,Me)}else I.liveCollection.reset();const re=I.liveCollection;if(function k2(n,i,r){let c,_,I=0,O=n.length-1;if(Array.isArray(i)){let re=i.length-1;for(;I<=O&&I<=re;){const Me=n.at(I),Ke=i[I],mt=FE(I,Me,I,Ke,r);if(0!==mt){mt<0&&n.updateValue(I,Ke),I++;continue}const kt=n.at(O),Nt=i[re],on=FE(O,kt,re,Nt,r);if(0!==on){on<0&&n.updateValue(O,Nt),O--,re--;continue}const $n=r(I,Me),bi=r(O,kt),Si=r(I,Ke);if(Object.is(Si,bi)){const ti=r(re,Nt);Object.is(ti,$n)?(n.swap(I,O),n.updateValue(O,Nt),re--,O--):n.move(O,I),n.updateValue(I,Ke),I++}else if(c??=new Uw,_??=Lw(n,I,O,r),BE(n,c,I,Si))n.updateValue(I,Ke),I++,O++;else if(_.has(Si))c.set($n,n.detach(I)),O--;else{const ti=n.create(I,i[I]);n.attach(I,ti),I++,O++}}for(;I<=re;)Vw(n,c,r,I,i[I]),I++}else if(null!=i){const re=i[Symbol.iterator]();let Me=re.next();for(;!Me.done&&I<=O;){const Ke=n.at(I),mt=Me.value,kt=FE(I,Ke,I,mt,r);if(0!==kt)kt<0&&n.updateValue(I,mt),I++,Me=re.next();else{c??=new Uw,_??=Lw(n,I,O,r);const Nt=r(I,mt);if(BE(n,c,I,Nt))n.updateValue(I,mt),I++,O++,Me=re.next();else if(_.has(Nt)){const on=r(I,Ke);c.set(on,n.detach(I)),O--}else n.attach(I,n.create(I,mt)),I++,O++,Me=re.next()}}for(;!Me.done;)Vw(n,c,r,n.length,Me.value),Me=re.next()}for(;I<=O;)n.destroy(n.detach(O--));c?.forEach(re=>{n.destroy(re)})}(re,n,I.trackByFn),re.updateIndexes(),I.hasEmptyBlock){const Me=Fo(),Ke=0===re.length;if(Hr(c,Me,Ke)){const mt=r+2,kt=hC(c,mt);if(Ke){const Nt=VE(_,mt),on=Na(kt,Nt.tView.ssrId);Ta(kt,gh(c,Nt,void 0,{dehydratedView:on}),0,_h(Nt,on))}else iu(kt,0)}}}finally{m(i)}}function hC(n,i){return n[i]}function VE(n,i){return Jo(n,i)}function pC(n,i,r,c){const _=kn(),I=ms(),O=se+n,J=_[at],re=I.firstCreatePass?Rb(O,I,_,i,fv,Ku(),r,c):I.data[O],Me=Ww(I,_,re,J,i,n);_[O]=Me;const Ke=rn(re);return ce(re,!0),rv(J,Me,re),!vd(re)&&cl()&&Fm(I,_,Me,re),(0===function Od(){return As.lFrame.elementDepthCount}()||Ke)&&$o(Me,_),function Fc(){As.lFrame.elementDepthCount++}(),Ke&&(b1(I,_,re),lm(I,re,_)),null!==c&&cv(_,re),pC}function fC(){let n=Gs();_n()?j():(n=n.parent,ce(n,!1));const i=n;(function vo(n){return As.skipHydrationRootTNode===n})(i)&&function Ih(){As.skipHydrationRootTNode=null}(),function Hu(){As.lFrame.elementDepthCount--}();const r=ms();return r.firstCreatePass&&Ab(r,i),null!=i.classesWithoutHost&&function _u(n){return!!(8&n.flags)}(i)&&OE(r,i,kn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Zo(n){return!!(16&n.flags)}(i)&&OE(r,i,kn(),i.stylesWithoutHost,!1),fC}function LE(n,i,r,c){return pC(n,i,r,c),fC(),LE}let Ww=(n,i,r,c,_,I)=>($l(!0),qh(c,_,function hg(){return As.lFrame.currentNamespace}()));function mC(n,i,r){const c=kn(),_=ms(),I=n+se,O=_.firstCreatePass?function $2(n,i,r,c,_){const I=i.consts,O=_o(I,c),J=yh(i,n,8,"ng-container",O);null!==O&&Zv(J,O,!0);const re=_o(I,_);return Ku()&&qv(i,r,J,re,fv),J.mergedAttrs=Hl(J.mergedAttrs,J.attrs),null!==i.queries&&i.queries.elementStart(i,J),J}(I,_,c,i,r):_.data[I];ce(O,!0);const J=Yw(_,c,O,n);return c[I]=J,cl()&&Fm(_,c,J,O),$o(J,c),rn(O)&&(b1(_,c,O),lm(_,O,c)),null!=r&&cv(c,O),mC}function gC(){let n=Gs();const i=ms();return _n()?j():(n=n.parent,ce(n,!1)),i.firstCreatePass&&(dc(i,n),Yn(n)&&i.queries.elementEnd(n)),gC}function UE(n,i,r){return mC(n,i,r),gC(),UE}let Yw=(n,i,r,c)=>($l(!0),rf(i[at],""));function zw(){return kn()}function jE(n,i,r){const c=kn();return Hr(c,Fo(),i)&&tl(ms(),br(),c,n,i,c[at],r,!0),jE}function $E(n,i,r){const c=kn();if(Hr(c,Fo(),i)){const I=ms(),O=br();tl(I,O,c,n,i,nb(Bc(I.data),O,c),r,!0)}return $E}const ag=void 0;var W2=["en",[["a","p"],["AM","PM"],ag],[["AM","PM"],ag,ag],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ag,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ag,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ag,"{1} 'at' {0}",ag],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K2(n){const i=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===r?1:5}];let l_={};function GE(n){const i=function Y2(n){return n.toLowerCase().replace(/_/g,"-")}(n);let r=Jw(i);if(r)return r;const c=i.split("-")[0];if(r=Jw(c),r)return r;if("en"===c)return W2;throw new de(701,!1)}function Xw(n){return GE(n)[c_.PluralCase]}function Jw(n){return n in l_||(l_[n]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[n]),l_[n]}var c_=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(c_||{});const _C="en-US",vC={marker:"element"},yC={marker:"ICU"};var Nc=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Nc||{});let Qw=_C;let Iy=(n,i,r,c)=>($l(!0),function Zw(n,i,r){const c=n[at];switch(r){case Node.COMMENT_NODE:return rf(c,i);case Node.TEXT_NODE:return sf(c,i);case Node.ELEMENT_NODE:return qh(c,i,null)}}(n,r,c));const bC=/\ufffd(\d+):?\d*\ufffd/gi,oN=/\ufffd(\d+)\ufffd/,sI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ry="\ufffd",lN=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cN=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,uN=/\uE500/g;function rI(n,i,r,c,_,I,O){const J=mh(n,c,1,null);let re=J<<Nc.SHIFT,Me=Vl();i===Me&&(Me=null),null===Me&&(re|=Nc.APPEND_EAGERLY),O&&(re|=Nc.COMMENT,function sb(n){void 0===S1&&(S1=n())}(op)),_.push(re,null===I?"":I);const Ke=zm(n,J,O?32:1,null===I?"":I,null);$v(r,Ke);const mt=Ke.index;return ce(Ke,!1),null!==Me&&i!==Me&&function Hv(n,i){let r=n.insertBeforeIndex;null===r?(wv(Ym,x1),r=n.insertBeforeIndex=[null,i]):(Ei(Array.isArray(r),!0,"Expecting array here"),r.push(i))}(Me,mt),Ke}function pN(n,i,r,c,_,I,O,J){const re=J.match(bC),Ke=rI(i,r,c,O,_,re?null:J,!1).index;re&&Ay(I,J,Ke,null,0,null),n.push({kind:0,index:Ke})}function Ay(n,i,r,c,_,I){const O=n.length,J=O+1;n.push(null,null);const re=O+2,Me=i.split(bC);let Ke=0;for(let mt=0;mt<Me.length;mt++){const kt=Me[mt];if(1&mt){const Nt=_+parseInt(kt,10);n.push(-1-Nt),Ke|=aI(Nt)}else""!==kt&&n.push(kt)}return n.push(r<<2|(c?1:0)),c&&n.push(c,I),n[O]=Ke,n[J]=n.length-re,Ke}function aI(n){return 1<<Math.min(n,31)}function oI(n){let i,I,r="",c=0,_=!1;for(;null!==(i=lN.exec(n));)_?i[0]===`${Ry}/*${I}${Ry}`&&(c=i.index,_=!1):(r+=n.substring(c,i.index+i[0].length),I=i[1],_=!0);return r+=n.slice(c),r}function lI(n,i,r,c,_,I,O){let J=0;const re={type:I.type,currentCaseLViewIndex:mh(i,r,1,null),anchorIdx:O,cases:[],create:[],remove:[],update:[]};(function bN(n,i,r){n.push(aI(i.mainBinding),2,-1-i.mainBinding,r<<2|2)})(c,I,O),function yb(n,i,r){const c=n.data[i];null===c?n.data[i]=r:c.value=r}(i,O,re);const Me=I.values,Ke=[];for(let mt=0;mt<Me.length;mt++){const kt=Me[mt],Nt=[];for(let $n=0;$n<kt.length;$n++){const bi=kt[$n];if("string"!=typeof bi){const Si=Nt.push(bi)-1;kt[$n]=`\x3c!--\ufffd${Si}\ufffd--\x3e`}}const on=[];Ke.push(on),J=vN(on,i,re,r,c,_,I.cases[mt],kt.join(""),Nt)|J}J&&function CN(n,i,r){n.push(i,1,r<<2|3)}(c,J,O),n.push({kind:3,index:O,cases:Ke,currentCaseLViewIndex:re.currentCaseLViewIndex})}function _N(n){const i=[],r=[];let c=1,_=0;const I=HE(n=n.replace(sI,function(O,J,re){return c="select"===re?0:1,_=parseInt(J.slice(1),10),""}));for(let O=0;O<I.length;){let J=I[O++].trim();1===c&&(J=J.replace(/\s*(?:=)?(\w+)\s*/,"$1")),J.length&&i.push(J);const re=HE(I[O++]);i.length>r.length&&r.push(re)}return{type:c,mainBinding:_,cases:i,values:r}}function HE(n){if(!n)return[];let i=0;const r=[],c=[],_=/[{}]/g;let I;for(_.lastIndex=0;I=_.exec(n);){const J=I.index;if("}"==I[0]){if(r.pop(),0==r.length){const re=n.substring(i,J);sI.test(re)?c.push(_N(re)):c.push(re),i=J+1}}else{if(0==r.length){const re=n.substring(i,J);c.push(re),i=J+1}r.push("{")}}const O=n.substring(i);return c.push(O),c}function vN(n,i,r,c,_,I,O,J,re){const Me=[],Ke=[],mt=[];r.cases.push(O),r.create.push(Me),r.remove.push(Ke),r.update.push(mt);const Nt=qg(Qc()).getInertBodyElement(J),on=i1(Nt)||Nt;return on?cI(n,i,r,c,_,Me,Ke,mt,on,I,re,0):0}function cI(n,i,r,c,_,I,O,J,re,Me,Ke,mt){let kt=0,Nt=re.firstChild;for(;Nt;){const on=mh(i,c,1,null);switch(Nt.nodeType){case Node.ELEMENT_NODE:const $n=Nt,bi=$n.tagName.toLowerCase();if(mm.hasOwnProperty(bi)){KE(I,vC,bi,Me,on),i.data[on]=bi;const Kr=$n.attributes;for(let lg=0;lg<Kr.length;lg++){const cg=Kr.item(lg),AA=cg.name.toLowerCase();cg.value.match(bC)?gm.hasOwnProperty(AA)&&Ay(J,cg.value,on,cg.name,0,t1[AA]?e1:null):SN(I,on,cg)}const Mr={kind:1,index:on,children:[]};n.push(Mr),kt=cI(Mr.children,i,r,c,_,I,O,J,Nt,on,Ke,mt+1)|kt,uI(O,on,mt)}break;case Node.TEXT_NODE:const Si=Nt.textContent||"",ti=Si.match(bC);KE(I,null,ti?"":Si,Me,on),uI(O,on,mt),ti&&(kt=Ay(J,Si,on,null,0,null)|kt),n.push({kind:0,index:on});break;case Node.COMMENT_NODE:const Ws=oN.exec(Nt.textContent||"");if(Ws){const Mr=Ke[parseInt(Ws[1],10)];KE(I,yC,"",Me,on),lI(n,i,c,_,Me,Mr,on),yN(O,on,mt)}}Nt=Nt.nextSibling}return kt}function uI(n,i,r){0===r&&n.push(i)}function yN(n,i,r){0===r&&(n.push(~i),n.push(i))}function KE(n,i,r,c,_){null!==i&&n.push(i),n.push(r,_,function bh(n,i,r){return n|i<<17|r<<1}(0,c,_))}function SN(n,i,r){n.push(i<<1|1,r.name,r.value)}function hI(n,i,r=-1){const c=ms(),_=kn(),I=se+n,O=_o(c.consts,i),J=Vl();c.firstCreatePass&&function hN(n,i,r,c,_,I){const O=Vl(),J=[],re=[],Me=[[]],Ke=[[]];_=function gN(n,i){if(function B1(n){return-1===n}(i))return oI(n);{const r=n.indexOf(`:${i}${Ry}`)+2+i.toString().length,c=n.search(new RegExp(`${Ry}\\/\\*\\d+:${i}${Ry}`));return oI(n.substring(r,c))}}(_,I);const mt=function dN(n){return n.replace(uN," ")}(_).split(cN);for(let kt=0;kt<mt.length;kt++){let Nt=mt[kt];if(1&kt){const on=47===Nt.charCodeAt(0),$n=Nt.charCodeAt(on?1:0),bi=se+Number.parseInt(Nt.substring(on?2:1));if(on)Me.shift(),Ke.shift(),ce(Vl(),!1);else{const Si=Kv(n,Me[0],bi);Me.unshift([]),ce(Si,!0);const ti={kind:2,index:bi,children:[],type:35===$n?0:1};Ke[0].push(ti),Ke.unshift(ti.children)}}else{const on=HE(Nt);for(let $n=0;$n<on.length;$n++){let bi=on[$n];if(1&$n){const Si=bi;if("object"!=typeof Si)throw new Error(`Unable to parse ICU expression in "${_}" message.`);const Ws=rI(n,O,Me[0],r,J,"",!0).index;lI(Ke[0],n,r,re,i,Si,Ws)}else""!==bi&&pN(Ke[0],n,O,Me[0],J,re,r,bi)}}}n.data[c]={create:J,update:re,ast:Ke[0],parentTNodeIndex:i}}(c,null===J?0:J.index,_,I,O,r),2===c.type?_[qi][ns]|=32:_[ns]|=32;const re=c.data[I],Ke=Cv(c,J===_[Vr]?null:J,_),mt=J&&8&J.type?_[J.index]:null;(function bt(n,i,r,c){xe(n,i,r,c)})(_,I,J,r),function iN(n,i,r,c){const _=n[at];for(let I=0;I<i.length;I++){const O=i[I++],Me=(O&Nc.APPEND_EAGERLY)===Nc.APPEND_EAGERLY,Ke=O>>>Nc.SHIFT;let mt=n[Ke],kt=!1;null===mt&&(mt=n[Ke]=Iy(n,Ke,i[I],(O&Nc.COMMENT)===Nc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),kt=cl()),Me&&null!==r&&kt&&Du(_,r,mt,c,!1)}}(_,re.create,Ke,mt),Ll(!0)}function fI(n,i,r){hI(n,i,r),function pI(){Ll(!1)}()}function gI(n,i,r){return function c(_){if(_===Function)return r;sa(es(n)?Wa(n.index,i):i,5);const O=i[gn];let J=_I(i,O,r,_),re=c.__ngNextListenerFn__;for(;re;)J=_I(i,O,re,_)&&J,re=re.__ngNextListenerFn__;return J}}function _I(n,i,r,c){const _=m(null);try{return sr(6,i,r),!1!==r(c)}catch(I){return function kN(n,i){const r=n[$e],c=r?r.get(Ja,null):null;c&&c.handleError(i)}(n,I),!1}finally{sr(7,i,r),m(_)}}function vI(n,i,r,c,_,I){const J=i[ci],Ke=i[r][J.data[r].outputs[c]],mt=J.firstCreatePass?Gu(J):null,kt=$u(i),Nt=Ke.subscribe(I),on=kt.length;kt.push(I,Nt),mt&&mt.push(_,n.index,on,-(on+1))}let yI=(n,i,r)=>{};function WE(n,i,r,c){const _=kn(),I=ms(),O=Gs();return YE(I,_,_[at],O,n,i,c),WE}function YE(n,i,r,c,_,I,O){const J=rn(c),Me=n.firstCreatePass?Gu(n):null,Ke=$u(i);let mt=!0;if(3&c.type||O){const kt=Sa(c,i),Nt=O?O(kt):kt,on=Ke.length,$n=O?Si=>O($s(Si[c.index])):c.index;let bi=null;if(!O&&J&&(bi=function PN(n,i,r,c){const _=n.cleanup;if(null!=_)for(let I=0;I<_.length-1;I+=2){const O=_[I];if(O===r&&_[I+1]===c){const J=i[Ge],re=_[I+2];return J.length>re?J[re]:null}"string"==typeof O&&(I+=2)}return null}(n,i,_,c.index)),null!==bi)(bi.__ngLastListenerFn__||bi).__ngNextListenerFn__=I,bi.__ngLastListenerFn__=I,mt=!1;else{I=gI(c,i,I),yI(Nt,_,I);const Si=r.listen(Nt,_,I);Ke.push(I,Si),Me&&Me.push(_,$n,on,on+1)}}else I=gI(c,i,I);if(mt){const kt=c.outputs?.[_],Nt=c.hostDirectiveOutputs?.[_];if(Nt&&Nt.length)for(let on=0;on<Nt.length;on+=2)vI(c,i,Nt[on],Nt[on+1],_,I);if(kt&&kt.length)for(const on of kt)vI(c,i,on,_,_,I)}}function SI(n=1){return function yo(n){return(As.lFrame.contextLView=function ju(n,i){for(;n>0;)i=i[us],n--;return i}(n,As.lFrame.contextLView))[gn]}(n)}function FN(n,i){let r=null;const c=function K0(n){const i=n.attrs;if(null!=i){const r=i.indexOf(5);if(!(1&r))return i[r+1]}return null}(n);for(let _=0;_<i.length;_++){const I=i[_];if("*"!==I){if(null===c?Im(n,I,!0):p1(c,I))return _}else r=_}return r}function EI(n){const i=kn()[qi][Vr];if(!i.projection){const c=i.projection=function xa(n,i){const r=[];for(let c=0;c<n;c++)r.push(i);return r}(n?n.length:1,null),_=c.slice();let I=i.child;for(;null!==I;){if(128!==I.type){const O=n?FN(I,n):0;null!==O&&(_[O]?_[O].projectionNext=I:c[O]=I,_[O]=I)}I=I.next}}}function TI(n,i=0,r,c,_,I){const O=kn(),J=ms(),re=c?n+1:null;null!==re&&lu(O,J,re,c,_,I,null,r);const Me=yh(J,se+n,16,null,r||null);null===Me.projection&&(Me.projection=i),j();const mt=!O[na]||kl();null===O[qi][Vr].projection[Me.projection]&&null!==re?function BN(n,i,r){const c=se+r,_=i.data[c],I=n[c],O=Na(I,_.tView.ssrId);Ta(I,gh(n,_,void 0,{dehydratedView:O}),0,_h(_,O))}(O,J,re):mt&&!vd(Me)&&function rb(n,i,r){Rv(i[at],0,i,r,w1(n,r,i),Sv(r.parent||i[Vr],r,i))}(J,O,Me)}function zE(n,i,r){return CC(n,"",i,"",r),zE}function CC(n,i,r,c,_){const I=kn(),O=Z1(I,i,r,c);return O!==Vs&&tl(ms(),br(),I,n,O,I[at],_,!1),CC}function XE(n,i,r,c,_,I,O){const J=kn(),re=q1(J,i,r,c,_,I);return re!==Vs&&tl(ms(),br(),J,n,re,J[at],O,!1),XE}function OI(n,i,r,c){!function Ub(n,i,r,c){const _=ms();if(_.firstCreatePass){const I=Gs();jb(_,new Fb(i,r,c),I.index),function G1(n,i){const r=n.contentQueries||(n.contentQueries=[]);i!==(r.length?r[r.length-1]:-1)&&r.push(n.queries.length-1,i)}(_,n),!(2&~r)&&(_.staticContentQueries=!0)}return Lb(_,kn(),r)}(n,i,r,c)}function xI(n,i,r){!function uy(n,i,r){const c=ms();return c.firstCreatePass&&(jb(c,new Fb(n,i,r),-1),!(2&~i)&&(c.staticViewQueries=!0)),Lb(c,kn(),i)}(n,i,r)}function kI(n){const i=kn(),r=ms(),c=Tf();Ah(c+1);const _=H1(r,c);if(n.dirty&&function _p(n){return!(4&~n[ns])}(i)===!(2&~_.metadata.flags)){if(null===_.matches)n.reset([]);else{const I=K1(i,c);n.reset(I,Mp),n.notifyOnChanges()}return!0}return!1}function PI(){return function cy(n,i){return n[zr].queries[i].queryList}(kn(),Tf())}function FI(n){return go(function be(){return As.lFrame.contextLView}(),se+n)}function WI(n,i=""){const r=kn(),c=ms(),_=n+se,I=c.firstCreatePass?yh(c,_,1,i,null):c.data[_],O=YI(c,r,I,i,n);r[_]=O,cl()&&Fm(c,r,O,I),ce(I,!1)}let YI=(n,i,r,c,_)=>($l(!0),sf(i[at],c));function QE(n){return SC("",n,""),QE}function SC(n,i,r){const c=kn(),_=Z1(c,n,i,r);return _!==Vs&&mp(c,pr(),_),SC}function ZE(n,i,r,c,_){const I=kn(),O=q1(I,n,i,r,c,_);return O!==Vs&&mp(I,pr(),O),ZE}function mp(n,i,r){const c=oc(i,n);!function Rm(n,i,r){n.setValue(i,r)}(n[at],c,r)}function qE(n,i,r){po(i)&&(i=i());const c=kn();return Hr(c,Fo(),i)&&tl(ms(),br(),c,n,i,c[at],r,!1),qE}function tR(n,i){const r=po(n);return r&&n.set(i),r}function eT(n,i){const r=kn(),c=ms(),_=Gs();return YE(c,r,r[at],_,n,i),eT}function tT(n,i,r,c,_){if(n=wt(n),Array.isArray(n))for(let I=0;I<n.length;I++)tT(n[I],i,r,c,_);else{const I=ms(),O=kn(),J=Gs();let re=ai(n)?n:wt(n.provide);const Me=Pa(n),Ke=1048575&J.providerIndexes,mt=J.directiveStart,kt=J.providerIndexes>>20;if(ai(n)||!n.multi){const Nt=new Nh(Me,_,gf),on=iT(re,i,_?Ke:Ke+kt,mt);-1===on?(Co(Cp(J,O),I,re),nT(I,n,i.length),i.push(re),J.directiveStart++,J.directiveEnd++,_&&(J.providerIndexes+=1048576),r.push(Nt),O.push(Nt)):(r[on]=Nt,O[on]=Nt)}else{const Nt=iT(re,i,Ke+kt,mt),on=iT(re,i,Ke,Ke+kt),bi=on>=0&&r[on];if(_&&!bi||!_&&!(Nt>=0&&r[Nt])){Co(Cp(J,O),I,re);const Si=function sM(n,i,r,c,_){const I=new Nh(n,r,gf);return I.multi=[],I.index=i,I.componentProviders=0,sR(I,_,c&&!r),I}(_?iM:nM,r.length,_,c,Me);!_&&bi&&(r[on].providerFactory=Si),nT(I,n,i.length,0),i.push(re),J.directiveStart++,J.directiveEnd++,_&&(J.providerIndexes+=1048576),r.push(Si),O.push(Si)}else nT(I,n,Nt>-1?Nt:on,sR(r[_?on:Nt],Me,!_&&c));!_&&c&&bi&&r[on].componentProviders++}}}function nT(n,i,r,c){const _=ai(i),I=function ts(n){return!!n.useClass}(i);if(_||I){const re=(I?wt(i.useClass):i).prototype.ngOnDestroy;if(re){const Me=n.destroyHooks||(n.destroyHooks=[]);if(!_&&i.multi){const Ke=Me.indexOf(r);-1===Ke?Me.push(r,[c,re]):Me[Ke+1].push(c,re)}else Me.push(r,re)}}}function sR(n,i,r){return r&&n.componentProviders++,n.multi.push(i)-1}function iT(n,i,r,c){for(let _=r;_<c;_++)if(i[_]===n)return _;return-1}function nM(n,i,r,c){return sT(this.multi,[])}function iM(n,i,r,c){const _=this.multi;let I;if(this.providerFactory){const O=this.providerFactory.componentProviders,J=Sl(r,r[ci],this.providerFactory.index,c);I=J.slice(0,O),sT(_,I);for(let re=O;re<J.length;re++)I.push(J[re])}else I=[],sT(_,I);return I}function sT(n,i){for(let r=0;r<n.length;r++)i.push((0,n[r])());return i}function rR(n,i=[]){return r=>{r.providersResolver=(c,_)=>function tM(n,i,r){const c=ms();if(c.firstCreatePass){const _=Ee(n);tT(r,c.data,c.blueprint,_,!0),tT(i,c.data,c.blueprint,_,!1)}}(c,_?_(n):n,i)}}function oR(n,i,r){const c=Ba()+n,_=kn();return _[c]===Vs?rr(_,c,r?i.call(r):i()):_l(_,c)}function lR(n,i,r,c){return fR(kn(),Ba(),n,i,r,c)}function cR(n,i,r,c,_){return mR(kn(),Ba(),n,i,r,c,_)}function uR(n,i,r,c,_,I){return gR(kn(),Ba(),n,i,r,c,_,I)}function dR(n,i,r,c,_,I,O){return function _R(n,i,r,c,_,I,O,J,re){const Me=i+r;return Qr(n,Me,_,I,O,J)?rr(n,Me+4,re?c.call(re,_,I,O,J):c(_,I,O,J)):Dy(n,Me+4)}(kn(),Ba(),n,i,r,c,_,I,O)}function hR(n,i,r,c,_,I,O,J){const re=Ba()+n,Me=kn(),Ke=Qr(Me,re,r,c,_,I);return Hr(Me,re+4,O)||Ke?rr(Me,re+5,J?i.call(J,r,c,_,I,O):i(r,c,_,I,O)):_l(Me,re+5)}function pR(n,i,r,c,_,I,O,J,re){const Me=Ba()+n,Ke=kn(),mt=Qr(Ke,Me,r,c,_,I);return Jr(Ke,Me+4,O,J)||mt?rr(Ke,Me+6,re?i.call(re,r,c,_,I,O,J):i(r,c,_,I,O,J)):_l(Ke,Me+6)}function Dy(n,i){const r=n[i];return r===Vs?void 0:r}function fR(n,i,r,c,_,I){const O=i+r;return Hr(n,O,_)?rr(n,O+1,I?c.call(I,_):c(_)):Dy(n,O+1)}function mR(n,i,r,c,_,I,O){const J=i+r;return Jr(n,J,_,I)?rr(n,J+2,O?c.call(O,_,I):c(_,I)):Dy(n,J+2)}function gR(n,i,r,c,_,I,O,J){const re=i+r;return function Ro(n,i,r,c,_){const I=Jr(n,i,r,c);return Hr(n,i+2,_)||I}(n,re,_,I,O)?rr(n,re+3,J?c.call(J,_,I,O):c(_,I,O)):Dy(n,re+3)}function yR(n,i){const r=ms();let c;const _=n+se;r.firstCreatePass?(c=function dM(n,i){if(i)for(let r=i.length-1;r>=0;r--){const c=i[r];if(n===c.name)return c}}(i,r.pipeRegistry),r.data[_]=c,c.onDestroy&&(r.destroyHooks??=[]).push(_,c.onDestroy)):c=r.data[_];const I=c.factory||(c.factory=ha(c.type)),J=Fs(gf);try{const re=Wl(!1),Me=I();return Wl(re),function JE(n,i,r,c){r>=n.data.length&&(n.data[r]=null,n.blueprint[r]=null),i[r]=c}(r,kn(),_,Me),Me}finally{Fs(J)}}function bR(n,i,r){const c=n+se,_=kn(),I=go(_,c);return Ny(_,c)?fR(_,Ba(),i,I.transform,r,I):I.transform(r)}function CR(n,i,r,c){const _=n+se,I=kn(),O=go(I,_);return Ny(I,_)?mR(I,Ba(),i,O.transform,r,c,O):O.transform(r,c)}function SR(n,i,r,c,_){const I=n+se,O=kn(),J=go(O,I);return Ny(O,I)?gR(O,Ba(),i,J.transform,r,c,_,J):J.transform(r,c,_)}function Ny(n,i){return n[ci].data[i].pure}function ER(n,i){return uf(n,i)}class jR{full;major;minor;patch;constructor(i){this.full=i;const r=i.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}class UM{ngModuleFactory;componentFactories;constructor(i,r){this.ngModuleFactory=i,this.componentFactories=r}}let jM=(()=>{class n{compileModuleSync(r){return new my(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const c=this.compileModuleSync(r),I=Ic(ar(r).declarations).reduce((O,J)=>{const re=hs(J);return re&&O.push(new ng(re)),O},[]);return new UM(c,I)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HM=(()=>{class n{zone=Ci(ur);changeDetectionScheduler=Ci(Uo);applicationRef=Ci(cu);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cT({ngZoneFactory:n,ignoreChangesOutsideZone:i,scheduleInRootZone:r}){return n??=()=>new ur({...uT(),scheduleInRootZone:r}),[{provide:ur,useFactory:n},{provide:vr,multi:!0,useFactory:()=>{const c=Ci(HM,{optional:!0});return()=>c.initialize()}},{provide:vr,multi:!0,useFactory:()=>{const c=Ci(WM);return()=>{c.initialize()}}},!0===i?{provide:Wd,useValue:!0}:[],{provide:Wc,useValue:r??Kd}]}function uT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let WM=(()=>{class n{subscription=new ni.yU;initialized=!1;zone=Ci(ur);pendingTasks=Ci(yu);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ur.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ur.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oy=(()=>{class n{appRef=Ci(cu);taskService=Ci(yu);ngZone=Ci(ur);zonelessEnabled=Ci(Kc);tracing=Ci(Jl,{optional:!0});disableScheduling=Ci(Wd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ni.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ci(Wc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let c=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,c=!0;break;case 12:this.appRef.dirtyFlags|=16,c=!0;break;case 11:c=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(c))return;const _=this.useMicrotaskScheduler?Ph:bu;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>_(()=>this.tick())):this.ngZone.runOutsideAngular(()=>_(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(c){throw this.taskService.remove(r),c}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ph(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(c){return new(c||n)};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hT=new Jt("",{providedIn:"root",factory:()=>Ci(hT,Ui.Optional|Ui.SkipSelf)||function YM(){return typeof $localize<"u"&&$localize.locale||_C}()}),zM=new Jt("",{providedIn:"root",factory:()=>"USD"}),IC=new Jt(""),qM=new Jt("");function xy(n){return!n.moduleRef}let YR=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(r){this._injector=r}bootstrapModuleFactory(r,c){const _=c?.scheduleInRootZone,O=c?.ignoreChangesOutsideZone,J=[cT({ngZoneFactory:()=>function zl(n="zone.js",i){return"noop"===n?new Nf:"zone.js"===n?new ur(i):n}(c?.ngZone,{...uT({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}),scheduleInRootZone:_}),ignoreChangesOutsideZone:O}),{provide:Uo,useExisting:Oy}],re=function cE(n,i,r){return new fy(n,i,r,!1)}(r.moduleType,this.injector,J);return function WR(n){const i=xy(n)?n.r3Injector:n.moduleRef.injector,r=i.get(ur);return r.run(()=>{xy(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const c=i.get(Ja,null);let _;if(r.runOutsideAngular(()=>{_=r.onError.subscribe({next:I=>{c.handleError(I)}})}),xy(n)){const I=()=>i.destroy(),O=n.platformInjector.get(IC);O.add(I),i.onDestroy(()=>{_.unsubscribe(),O.delete(I)})}else{const I=()=>n.moduleRef.destroy(),O=n.platformInjector.get(IC);O.add(I),n.moduleRef.onDestroy(()=>{cC(n.allPlatformModules,n.moduleRef),_.unsubscribe(),O.delete(I)})}return function tO(n,i,r){try{const c=r();return CE(c)?c.catch(_=>{throw i.runOutsideAngular(()=>n.handleError(_)),_}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(c,r,()=>{const I=i.get(nw);return I.runInitializers(),I.donePromise.then(()=>{if(function Q2(n){"string"==typeof n&&(Qw=n.toLowerCase().replace(/_/g,"-"))}(i.get(hT,_C)||_C),!i.get(qM,!0))return xy(n)?i.get(cu):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(xy(n)){const re=i.get(cu);return void 0!==n.rootComponent&&re.bootstrap(n.rootComponent),re}return function eO(n,i){const r=n.injector.get(cu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(c=>r.bootstrap(c));else{if(!n.instance.ngDoBootstrap)throw new de(-403,!1);n.instance.ngDoBootstrap(r)}i.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:re,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,c=[]){const _=sw({},c);return function GM(n,i,r){const c=new my(r);return Promise.resolve(c)}(0,0,r).then(I=>this.bootstrapModuleFactory(I,_))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const r=this._injector.get(IC,null);r&&(r.forEach(c=>c()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(c){return new(c||n)(xs(pa))};static \u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Sf=null;const zR=new Jt("");function XR(n,i,r=[]){const c=`Platform: ${i}`,_=new Jt(c);return(I=[])=>{let O=pT();if(!O||O.injector.get(zR,!1)){const J=[...r,...I,{provide:_,useValue:!0}];n?n(J):function nO(n){if(Sf&&!Sf.get(zR,!1))throw new de(400,!1);(function iw(){!function Ue(n){lt=n}(()=>{throw new de(600,!1)})})(),Sf=n;const i=n.get(YR);(function QR(n){const i=n.get(Ng,null);Gr(n,()=>{i?.forEach(r=>r())})})(n)}(function JR(n=[],i){return pa.create({name:i,providers:[{provide:$i,useValue:"platform"},{provide:IC,useValue:new Set([()=>Sf=null])},...n]})}(J,c))}return function iO(){const i=pT();if(!i)throw new de(401,!1);return i}()}}function pT(){return Sf?.get(YR)??null}function rO(){return!1}function aO(){}let qR=(()=>class n{static __NG_ELEMENT_ID__=oO})();function oO(n){return function lO(n,i,r){if(es(n)&&!r){const c=Wa(n.index,i);return new wo(c,c)}return 175&n.type?new wo(i[qi],i):null}(Gs(),kn(),!(16&~n))}class iA{constructor(){}supports(i){return Ks(i)}create(i){return new pO(i)}}const hO=(n,i)=>i;class pO{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||hO}forEachItem(i){let r;for(r=this._itHead;null!==r;r=r._next)i(r)}forEachOperation(i){let r=this._itHead,c=this._removalsHead,_=0,I=null;for(;r||c;){const O=!c||r&&r.currentIndex<rA(c,_,I)?r:c,J=rA(O,_,I),re=O.currentIndex;if(O===c)_--,c=c._nextRemoved;else if(r=r._next,null==O.previousIndex)_++;else{I||(I=[]);const Me=J-_,Ke=re-_;if(Me!=Ke){for(let kt=0;kt<Me;kt++){const Nt=kt<I.length?I[kt]:I[kt]=0,on=Nt+kt;Ke<=on&&on<Me&&(I[kt]=Nt+1)}I[O.previousIndex]=Ke-Me}}J!==re&&i(O,J,re)}}forEachPreviousItem(i){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)i(r)}forEachAddedItem(i){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)i(r)}forEachMovedItem(i){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)i(r)}forEachRemovedItem(i){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)i(r)}forEachIdentityChange(i){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)i(r)}diff(i){if(null==i&&(i=[]),!Ks(i))throw new de(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let _,I,O,r=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let J=0;J<this.length;J++)I=i[J],O=this._trackByFn(J,I),null!==r&&Object.is(r.trackById,O)?(c&&(r=this._verifyReinsertion(r,I,O,J)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,O,J),c=!0),r=r._next}else _=0,function Dl(n,i){if(Array.isArray(n))for(let r=0;r<n.length;r++)i(n[r]);else{const r=n[Symbol.iterator]();let c;for(;!(c=r.next()).done;)i(c.value)}}(i,J=>{O=this._trackByFn(_,J),null!==r&&Object.is(r.trackById,O)?(c&&(r=this._verifyReinsertion(r,J,O,_)),Object.is(r.item,J)||this._addIdentityChange(r,J)):(r=this._mismatch(r,J,O,_),c=!0),r=r._next,_++}),this.length=_;return this._truncate(r),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,r,c,_){let I;return null===i?I=this._itTail:(I=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,r)||this._addIdentityChange(i,r),this._reinsertAfter(i,I,_)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,_))?(Object.is(i.item,r)||this._addIdentityChange(i,r),this._moveAfter(i,I,_)):i=this._addAfter(new fO(r,c),I,_),i}_verifyReinsertion(i,r,c,_){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==I?i=this._reinsertAfter(I,i._prev,_):i.currentIndex!=_&&(i.currentIndex=_,this._addToMoves(i,_)),i}_truncate(i){for(;null!==i;){const r=i._next;this._addToRemovals(this._unlink(i)),i=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,r,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const _=i._prevRemoved,I=i._nextRemoved;return null===_?this._removalsHead=I:_._nextRemoved=I,null===I?this._removalsTail=_:I._prevRemoved=_,this._insertAfter(i,r,c),this._addToMoves(i,c),i}_moveAfter(i,r,c){return this._unlink(i),this._insertAfter(i,r,c),this._addToMoves(i,c),i}_addAfter(i,r,c){return this._insertAfter(i,r,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,r,c){const _=null===r?this._itHead:r._next;return i._next=_,i._prev=r,null===_?this._itTail=i:_._prev=i,null===r?this._itHead=i:r._next=i,null===this._linkedRecords&&(this._linkedRecords=new sA),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const r=i._prev,c=i._next;return null===r?this._itHead=c:r._next=c,null===c?this._itTail=r:c._prev=r,i}_addToMoves(i,r){return i.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sA),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,r){return i.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class fO{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,r){this.item=i,this.trackById=r}}class mO{_head=null;_tail=null;add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,r){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===r||r<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const r=i._prevDup,c=i._nextDup;return null===r?this._head=c:r._nextDup=c,null===c?this._tail=r:c._prevDup=r,null===this._head}}class sA{map=new Map;put(i){const r=i.trackById;let c=this.map.get(r);c||(c=new mO,this.map.set(r,c)),c.add(i)}get(i,r){const _=this.map.get(i);return _?_.get(i,r):null}remove(i){const r=i.trackById;return this.map.get(r).remove(i)&&this.map.delete(r),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rA(n,i,r){const c=n.previousIndex;if(null===c)return c;let _=0;return r&&c<r.length&&(_=r[c]),c+i+_}class aA{constructor(){}supports(i){return i instanceof Map||La(i)}create(){return new gO}}class gO{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let r;for(r=this._mapHead;null!==r;r=r._next)i(r)}forEachPreviousItem(i){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)i(r)}forEachChangedItem(i){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)i(r)}forEachAddedItem(i){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)i(r)}forEachRemovedItem(i){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)i(r)}diff(i){if(i){if(!(i instanceof Map||La(i)))throw new de(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,_)=>{if(r&&r.key===_)this._maybeAddToChanges(r,c),this._appendAfter=r,r=r._next;else{const I=this._getOrCreateRecordForKey(_,c);r=this._insertBeforeOrAppend(r,I)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let c=r;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,r){if(i){const c=i._prev;return r._next=i,r._prev=c,i._prev=r,c&&(c._next=r),i===this._mapHead&&(this._mapHead=r),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(i,r){if(this._records.has(i)){const _=this._records.get(i);this._maybeAddToChanges(_,r);const I=_._prev,O=_._next;return I&&(I._next=O),O&&(O._prev=I),_._next=null,_._prev=null,_}const c=new _O(i);return this._records.set(i,c),c.currentValue=r,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,r){Object.is(r,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=r,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,r){i instanceof Map?i.forEach(r):Object.keys(i).forEach(c=>r(i[c],c))}}class _O{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(i){this.key=i}}function oA(){return new _T([new iA])}let _T=(()=>{class n{factories;static \u0275prov=qn({token:n,providedIn:"root",factory:oA});constructor(r){this.factories=r}static create(r,c){if(null!=c){const _=c.factories.slice();r=r.concat(_)}return new n(r)}static extend(r){return{provide:n,useFactory:c=>n.create(r,c||oA()),deps:[[n,new Pr,new kr]]}}find(r){const c=this.factories.find(_=>_.supports(r));if(null!=c)return c;throw new de(901,!1)}}return n})();function lA(){return new vT([new aA])}let vT=(()=>{class n{static \u0275prov=qn({token:n,providedIn:"root",factory:lA});factories;constructor(r){this.factories=r}static create(r,c){if(c){const _=c.factories.slice();r=r.concat(_)}return new n(r)}static extend(r){return{provide:n,useFactory:c=>n.create(r,c||lA()),deps:[[n,new Pr,new kr]]}}find(r){const c=this.factories.find(_=>_.supports(r));if(c)return c;throw new de(901,!1)}}return n})();const bO=XR(null,"core",[]);let CO=(()=>{class n{constructor(r){}static \u0275fac=function(c){return new(c||n)(xs(cu))};static \u0275mod=le({type:n});static \u0275inj=oi({})}return n})();function GO(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Id(n){return function ge(n){const i=m(null);try{return n()}finally{m(i)}}(n)}function Py(n,i){return function oe(n,i){const r=Object.create(We);r.computation=n,void 0!==i&&(r.equal=i);const c=()=>{if(E(r),z(r),r.value===we)throw r.error;return r.value};return c[w]=r,c}(n,i?.equal)}function ux(n,i){const r=hs(n),c=i.elementInjector||$a();return new ng(r).create(c,i.projectableNodes,i.hostElement,i.environmentInjector)}function dx(n){const i=hs(n);if(!i)return null;const r=new ng(i);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},1397:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>D});var t=l(6354),o=l(8750),f=l(9974),A=l(5225),e=l(4360),m=l(8071);function D(S,g,k=1/0){return(0,m.T)(g)?D((z,u)=>(0,t.T)((E,B)=>g(z,E,u,B))((0,o.Tg)(S(z,u))),k):("number"==typeof g&&(k=g),(0,f.N)((z,u)=>function w(S,g,k,z,u,E,B,V){const F=[];let M=0,W=0,y=!1;const X=()=>{y&&!F.length&&!M&&g.complete()},Z=L=>M<z?v(L):F.push(L),v=L=>{E&&g.next(L),M++;let Q=!1;(0,o.Tg)(k(L,W++)).subscribe((0,e._)(g,te=>{u?.(te),E?Z(te):g.next(te)},()=>{Q=!0},void 0,()=>{if(Q)try{for(M--;F.length&&M<z;){const te=F.shift();B?(0,A.N)(g,B,()=>v(te)):v(te)}X()}catch(te){g.error(te)}}))};return S.subscribe((0,e._)(g,Z,()=>{y=!0,X()})),()=>{V?.()}}(z,u,S,k)))}},1410:(ot,ve,l)=>{"use strict";l.d(ve,{y:()=>t});var t=function(o){return o.Duende="Duende",o.OpenIddict="OpenIddict",o}(t||{})},1413:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>m});var t=l(1985),o=l(8359);const A=(0,l(1853).L)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var e=l(7908),w=l(9786);let m=(()=>{class S extends t.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const z=new D(this,this);return z.operator=k,z}_throwIfClosed(){if(this.closed)throw new A}next(k){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(k)}})}error(k){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:z}=this;for(;z.length;)z.shift().error(k)}})}complete(){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:z,isStopped:u,observers:E}=this;return z||u?o.Kn:(this.currentObservers=null,E.push(k),new o.yU(()=>{this.currentObservers=null,(0,e.o)(E,k)}))}_checkFinalizedStatuses(k){const{hasError:z,thrownError:u,isStopped:E}=this;z?k.error(u):E&&k.complete()}asObservable(){const k=new t.c;return k.source=this,k}}return S.create=(g,k)=>new D(g,k),S})();class D extends m{constructor(g,k){super(),this.destination=g,this.source=k}next(g){var k,z;null===(z=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===z||z.call(k,g)}error(g){var k,z;null===(z=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===z||z.call(k,g)}complete(){var g,k;null===(k=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===k||k.call(g)}_subscribe(g){var k,z;return null!==(z=null===(k=this.source)||void 0===k?void 0:k.subscribe(g))&&void 0!==z?z:o.Kn}}},1466:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>g});var t=l(983),o=l(6354),f=l(9437),A=l(8284),e=l(1360),w=l(9156),m=l(9069),D=l(2947),S=l(5424);let g=(()=>{class k{constructor(u,E,B,V){this.serviceProviderService=u,this.serviceproviderCache=E,this.router=B,this.errorSerivce=V}resolve(u,E){const B=u.parent.paramMap.get("id")??u.parent.paramMap.get("id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(B).pipe((0,o.T)(V=>{const F=JSON.parse(JSON.stringify(V.claimMappings)),M=new Map;for(const W in F)F.hasOwnProperty(W)&&M.set(W,F[W]);return V.claimMappings=M,this.serviceproviderCache.unsavedCache.next(V),this.serviceproviderCache.savedCache.next(V),V}),(0,f.W)((V,F)=>(404===V.status?this.errorSerivce.resourceNotFound(A.v.serviceProvider):this.errorSerivce.handleError(V),(0,t.I)())));this.serviceproviderCache.unsavedCache$.subscribe(V=>V)}static{this.\u0275fac=function(E){return new(E||k)(e.KVO(w.s),e.KVO(m.d),e.KVO(D.Ix),e.KVO(S.I))}}static{this.\u0275prov=e.jDH({token:k,factory:k.\u0275fac})}}return k})()},1482:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>u,Sm:()=>V,Vw:()=>D,aZ:()=>F,hb:()=>E,hj:()=>S,ig:()=>w,kB:()=>B,om:()=>k,qj:()=>m,rb:()=>e});var t=l(1360),o=l(1413),f=l(9361);let A=null;function e(){return A}function w(Z){A??=Z}class m{}let D=(()=>{class Z{historyGo(L){throw new Error("")}static \u0275fac=function(Q){return new(Q||Z)};static \u0275prov=t.jDH({token:Z,factory:()=>(0,t.WQX)(g),providedIn:"platform"})}return Z})();const S=new t.nKC("");let g=(()=>{class Z extends D{_location;_history;_doc=(0,t.WQX)(f.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return e().getBaseHref(this._doc)}onPopState(L){const Q=e().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",L,!1),()=>Q.removeEventListener("popstate",L)}onHashChange(L){const Q=e().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",L,!1),()=>Q.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,Q,te){this._history.pushState(L,Q,te)}replaceState(L,Q,te){this._history.replaceState(L,Q,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}static \u0275fac=function(Q){return new(Q||Z)};static \u0275prov=t.jDH({token:Z,factory:()=>new Z,providedIn:"platform"})}return Z})();function k(Z,v){return Z?v?Z.endsWith("/")?v.startsWith("/")?Z+v.slice(1):Z+v:v.startsWith("/")?Z+v:`${Z}/${v}`:Z:v}function z(Z){const v=Z.search(/#|\?|$/);return"/"===Z[v-1]?Z.slice(0,v-1)+Z.slice(v):Z}function u(Z){return Z&&"?"!==Z[0]?`?${Z}`:Z}let E=(()=>{class Z{historyGo(L){throw new Error("")}static \u0275fac=function(Q){return new(Q||Z)};static \u0275prov=t.jDH({token:Z,factory:()=>(0,t.WQX)(V),providedIn:"root"})}return Z})();const B=new t.nKC("");let V=(()=>{class Z extends E{_platformLocation;_baseHref;_removeListenerFns=[];constructor(L,Q){super(),this._platformLocation=L,this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,t.WQX)(f.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return k(this._baseHref,L)}path(L=!1){const Q=this._platformLocation.pathname+u(this._platformLocation.search),te=this._platformLocation.hash;return te&&L?`${Q}${te}`:Q}pushState(L,Q,te,N){const fe=this.prepareExternalUrl(te+u(N));this._platformLocation.pushState(L,Q,fe)}replaceState(L,Q,te,N){const fe=this.prepareExternalUrl(te+u(N));this._platformLocation.replaceState(L,Q,fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static \u0275fac=function(Q){return new(Q||Z)(t.KVO(D),t.KVO(B,8))};static \u0275prov=t.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),F=(()=>{class Z{_subject=new o.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(L){this._locationStrategy=L;const Q=this._locationStrategy.getBaseHref();this._basePath=function X(Z){if(new RegExp("^(https?:)?//").test(Z)){const[,L]=Z.split(/\/\/[^\/]+/);return L}return Z}(z(y(Q))),this._locationStrategy.onPopState(te=>{this._subject.next({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,Q=""){return this.path()==this.normalize(L+u(Q))}normalize(L){return Z.stripTrailingSlash(function W(Z,v){if(!Z||!v.startsWith(Z))return v;const L=v.substring(Z.length);return""===L||["/",";","?","#"].includes(L[0])?L:v}(this._basePath,y(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,Q="",te=null){this._locationStrategy.pushState(te,"",L,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+u(Q)),te)}replaceState(L,Q="",te=null){this._locationStrategy.replaceState(te,"",L,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+u(Q)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription??=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}),()=>{const Q=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",Q){this._urlChangeListeners.forEach(te=>te(L,Q))}subscribe(L,Q,te){return this._subject.subscribe({next:L,error:Q??void 0,complete:te??void 0})}static normalizeQueryParams=u;static joinWithSlash=k;static stripTrailingSlash=z;static \u0275fac=function(Q){return new(Q||Z)(t.KVO(E))};static \u0275prov=t.jDH({token:Z,factory:()=>function M(){return new F((0,t.KVO)(E))}(),providedIn:"root"})}return Z})();function y(Z){return Z.replace(/\/index.html$/,"")}},1560:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>v});var t=l(1360),o=l(9417),f=l(4866),A=l(3806),e=l(1088),w=l(7263),m=l(8434),D=l(8018);const S=(L,Q)=>({"tw-btn active":L,"tw-btn-link":Q});function g(L,Q){if(1&L&&(t.j41(0,"div"),t.nrm(1,"input",7),t.k0s()),2&L){const te=t.XpG();t.R7$(),t.FS9("id",te.id+"-input"),t.Y8G("ngModel",te.value)}}function k(L,Q){if(1&L){const te=t.RV6();t.j41(0,"div")(1,"input",8),t.bIt("keydown",function(fe){t.eBV(te);const oe=t.XpG();return t.Njj(oe.onKeyDown(fe))})("paste",function(fe){t.eBV(te);const oe=t.XpG();return t.Njj(oe.onPaste(fe))})("ngModelChange",function(fe){t.eBV(te);const oe=t.XpG();return t.Njj(oe.onValueChange(fe))}),t.k0s()()}if(2&L){const te=t.XpG();t.R7$(),t.FS9("id",te.id+"-input"),t.Y8G("ngModel",te.value)("disabled",te.disabled)}}function z(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.years," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.years,"Year"))," ")}}function u(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.months," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.months,"Month"))," ")}}function E(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.weeks," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.weeks,"Week"))," ")}}function B(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.days," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.days,"Day"))," ")}}function V(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.hours," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.hours,"Hour"))," ")}}function F(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.minutes," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.minutes,"Minute"))," ")}}function M(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.Lme(" ",te.timeSpan.seconds," ",t.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.seconds,"Second"))," ")}}function W(L,Q){if(1&L&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&L){const te=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Tokens.Durations."+te.tryGetNullMeaning())," ")}}function y(L,Q){if(1&L&&(t.j41(0,"p",9),t.nrm(1,"span",10),t.nI1(2,"translate"),t.j41(3,"span",11),t.DNE(4,z,3,4,"span",12)(5,u,3,4,"span",12)(6,E,3,4,"span",12)(7,B,3,4,"span",12)(8,V,3,4,"span",12)(9,F,3,4,"span",12)(10,M,3,4,"span",12)(11,W,3,3,"span",12),t.k0s()()),2&L){const te=t.XpG();t.FS9("id",te.id+"-longTimeLabel"),t.R7$(),t.BMQ("aria-label",t.bMT(2,10,"Clients.Tokens.DurationTitle")),t.R7$(3),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.years)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.months)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.weeks)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.days)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.hours)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.minutes)>0),t.R7$(),t.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.seconds)>0),t.R7$(),t.Y8G("ngIf",te.showNullTimeSpan())}}function X(L,Q){if(1&L&&(t.j41(0,"span",16),t.EFF(1),t.k0s()),2&L){const te=t.XpG().$implicit;t.R7$(),t.JRh(te.duration)}}function Z(L,Q){if(1&L){const te=t.RV6();t.j41(0,"li")(1,"button",14),t.bIt("click",function(){const fe=t.eBV(te).$implicit,oe=t.XpG();return t.Njj(oe.setInput(fe))}),t.DNE(2,X,2,1,"span",15),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()}if(2&L){const te=Q.$implicit,N=t.XpG();t.R7$(),t.Y8G("ngClass",t.l_i(6,S,N.checkSelected(te),!N.checkSelected(te)))("disabled",N.disabled),t.R7$(),t.Y8G("ngIf",te.duration),t.R7$(2),t.JRh(t.bMT(5,4,"Clients.Tokens.Durations."+te.unit+"Short"))}}let v=(()=>{class L{constructor(){this.id=(0,w.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=f.A.getUnitMap(),this.LifetimeUnit=A.u,this.onChange=te=>{},this.onTouched=()=>{}}set value(te){this.setValue(te,!1)}get value(){return this._value}setValue(te,N=!0){null!=te&&!Number.isInteger(te)||(this._value=te,null==te?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(te):this.timeSpan=new e.Q(te),N&&this.onChange(te))}onValueChange(te){this.setValue(te)}onKeyDown(te){return 69!==te.keyCode&&189!==te.keyCode&&190!==te.keyCode}onPaste(te){const fe=te.clipboardData?.getData("text"),oe=Number(fe);Number.isInteger(oe)&&(oe>0||null==oe&&this.allowNull)||te.preventDefault()}writeValue(te){this.setValue(te,!1)}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}setDisabledState(te){this.disabled=te}validate(te){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(te,N){return null==te||null==N?null:te*N}setInput(te){const N=this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit));this.setValue(N)}checkSelected(te){return this.value===this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit))}displayTimeSpanUnit(te,N){return"Clients.Tokens.Durations."+N+(te>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(N=>null===N.duration)?.unit??"NotSet"}static{this.\u0275fac=function(N){return new(N||L)}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},standalone:!1,features:[t.Jv_([{provide:o.kq,useExisting:(0,t.Rfq)(()=>L),multi:!0},{provide:o.cz,useExisting:(0,t.Rfq)(()=>L),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(N,fe){1&N&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,g,2,2,"div",2)(3,k,2,3,"div",2)(4,y,12,12,"p",3),t.k0s(),t.j41(5,"div",4)(6,"ul",5),t.DNE(7,Z,6,9,"li",6),t.k0s()()()),2&N&&(t.R7$(2),t.Y8G("ngIf",fe.disabled),t.R7$(),t.Y8G("ngIf",!fe.disabled),t.R7$(),t.Y8G("ngIf",fe.value>0||null==fe.value&&fe.allowNull),t.R7$(2),t.FS9("id",fe.id+"-buttonList"),t.R7$(),t.Y8G("ngForOf",fe.buttons))},dependencies:[m.YU,m.Sq,m.bT,o.me,o.Q0,o.BC,o.VZ,o.vS,D.D9],encapsulation:2})}}return L})()},1575:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>f});var t=l(4549),o=l(1360);let f=(()=>{class A{now(){return t.c9.now()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},1584:(ot,ve,l)=>{"use strict";l.d(ve,{O:()=>e});var t=l(1985),o=l(3236),f=l(9470);function e(w=0,m,D=o.b){let S=-1;return null!=m&&((0,f.m)(m)?D=m:S=m),new t.c(g=>{let k=function A(w){return w instanceof Date&&!isNaN(w)}(w)?+w-D.now():w;k<0&&(k=0);let z=0;return D.schedule(function(){g.closed||(g.next(z++),0<=S?this.schedule(void 0,S):g.complete())},k)})}},1589:(ot,ve,l)=>{"use strict";l.d(ve,{El:()=>e,r7:()=>A,sp:()=>f});var t=l(7263),o=l(1360);let f=(()=>{class w{transform(D){return(0,t.KU)(D,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275pipe=o.EJ8({name:"prettyDateTime",type:w,pure:!0,standalone:!1})}}return w})(),A=(()=>{class w{transform(D){return(0,t.KU)(D,"LLL dd yyyy T")}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275pipe=o.EJ8({name:"standardDateTime",type:w,pure:!0,standalone:!1})}}return w})(),e=(()=>{class w{transform(D){return(0,t.KU)(D,"LLL dd yyyy")}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275pipe=o.EJ8({name:"standardDate",type:w,pure:!0,standalone:!1})}}return w})()},1594:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>m});var t=l(9350),o=l(5964),f=l(6697),A=l(9901),e=l(3774),w=l(3669);function m(D,S){const g=arguments.length>=2;return k=>k.pipe(D?(0,o.p)((z,u)=>D(z,u,k)):w.D,(0,f.s)(1),g?(0,A.U)(S):(0,e.v)(()=>new t.G))}},1635:(ot,ve,l)=>{"use strict";function e(Ye,He,it,Le){var je,Ve=arguments.length,Xe=Ve<3?He:null===Le?Le=Object.getOwnPropertyDescriptor(He,it):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(Ye,He,it,Le);else for(var ct=Ye.length-1;ct>=0;ct--)(je=Ye[ct])&&(Xe=(Ve<3?je(Xe):Ve>3?je(He,it,Xe):je(He,it))||Xe);return Ve>3&&Xe&&Object.defineProperty(He,it,Xe),Xe}function k(Ye,He){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ye,He)}function z(Ye,He,it,Le){return new(it||(it=Promise))(function(Xe,je){function ct(ne){try{Qe(Le.next(ne))}catch(Y){je(Y)}}function st(ne){try{Qe(Le.throw(ne))}catch(Y){je(Y)}}function Qe(ne){ne.done?Xe(ne.value):function Ve(Xe){return Xe instanceof it?Xe:new it(function(je){je(Xe)})}(ne.value).then(ct,st)}Qe((Le=Le.apply(Ye,He||[])).next())})}function X(Ye){return this instanceof X?(this.v=Ye,this):new X(Ye)}function Z(Ye,He,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Le=it.apply(Ye,He||[]),Xe=[];return Ve=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ct("next"),ct("throw"),ct("return",function je(ge){return function(s){return Promise.resolve(s).then(ge,Y)}}),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ct(ge,s){Le[ge]&&(Ve[ge]=function(dt){return new Promise(function(_t,en){Xe.push([ge,dt,_t,en])>1||st(ge,dt)})},s&&(Ve[ge]=s(Ve[ge])))}function st(ge,s){try{!function Qe(ge){ge.value instanceof X?Promise.resolve(ge.value.v).then(ne,Y):he(Xe[0][2],ge)}(Le[ge](s))}catch(dt){he(Xe[0][3],dt)}}function ne(ge){st("next",ge)}function Y(ge){st("throw",ge)}function he(ge,s){ge(s),Xe.shift(),Xe.length&&st(Xe[0][0],Xe[0][1])}}function L(Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,He=Ye[Symbol.asyncIterator];return He?He.call(Ye):(Ye=function V(Ye){var He="function"==typeof Symbol&&Symbol.iterator,it=He&&Ye[He],Le=0;if(it)return it.call(Ye);if(Ye&&"number"==typeof Ye.length)return{next:function(){return Ye&&Le>=Ye.length&&(Ye=void 0),{value:Ye&&Ye[Le++],done:!Ye}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ye),it={},Le("next"),Le("throw"),Le("return"),it[Symbol.asyncIterator]=function(){return this},it);function Le(Xe){it[Xe]=Ye[Xe]&&function(je){return new Promise(function(ct,st){!function Ve(Xe,je,ct,st){Promise.resolve(st).then(function(Qe){Xe({value:Qe,done:ct})},je)}(ct,st,(je=Ye[Xe](je)).done,je.value)})}}}l.d(ve,{AQ:()=>Z,Cg:()=>e,N3:()=>X,Sn:()=>k,sH:()=>z,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError},1655:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>E});var t=l(3236),o=l(8793),f=l(6697),A=l(9974),e=l(4360),w=l(5343),D=l(6354),g=l(1397),k=l(8750);function z(B,V){return V?F=>(0,o.x)(V.pipe((0,f.s)(1),function m(){return(0,A.N)((B,V)=>{B.subscribe((0,e._)(V,w.l))})}()),F.pipe(z(B))):(0,g.Z)((F,M)=>(0,k.Tg)(B(F,M)).pipe((0,f.s)(1),function S(B){return(0,D.T)(()=>B)}(F)))}var u=l(1584);function E(B,V=t.E){const F=(0,u.O)(B,V);return z(()=>F)}},1675:(ot,ve,l)=>{var t=l(6589);l(57),l(2507),l(409),l(812),t.random&&t.random.getBytes?ot.exports=t.random:function(o){var f={},A=new Array(4),e=t.util.createBuffer();function w(){var u=t.prng.create(f);return u.getBytes=function(E,B){return u.generate(E,B)},u.getBytesSync=function(E){return u.generate(E)},u}f.formatKey=function(u){var E=t.util.createBuffer(u);return(u=new Array(4))[0]=E.getInt32(),u[1]=E.getInt32(),u[2]=E.getInt32(),u[3]=E.getInt32(),t.aes._expandKey(u,!1)},f.formatSeed=function(u){var E=t.util.createBuffer(u);return(u=new Array(4))[0]=E.getInt32(),u[1]=E.getInt32(),u[2]=E.getInt32(),u[3]=E.getInt32(),u},f.cipher=function(u,E){return t.aes._updateBlock(u,E,A,!1),e.putInt32(A[0]),e.putInt32(A[1]),e.putInt32(A[2]),e.putInt32(A[3]),e.getBytes()},f.increment=function(u){return++u[3],u},f.md=t.md.sha256;var m=w(),D=null,S=t.util.globalScope,g=S.crypto||S.msCrypto;if(g&&g.getRandomValues&&(D=function(u){return g.getRandomValues(u)}),t.options.usePureJavaScript||!t.util.isNodejs&&!D){if(typeof window>"u"||window,m.collectInt(+new Date,32),typeof navigator<"u"){var k="";for(var z in navigator)try{"string"==typeof navigator[z]&&(k+=navigator[z])}catch{}m.collect(k),k=null}o&&(o().mousemove(function(u){m.collectInt(u.clientX,16),m.collectInt(u.clientY,16)}),o().keypress(function(u){m.collectInt(u.charCode,8)}))}if(t.random)for(var z in m)t.random[z]=m[z];else t.random=m;t.random.createInstance=w,ot.exports=t.random}(typeof jQuery<"u"?jQuery:null)},1683:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>A});var t=l(8434),o=l(8018),f=l(1360);let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({imports:[t.MD,o.h]})}}return e})()},1715:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>o});var t=l(1360);let o=(()=>{class f{constructor(e){this.viewContainerRef=e}static{this.\u0275fac=function(w){return new(w||f)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:f,selectors:[["","appStepHost",""]],standalone:!1})}}return f})()},1716:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>e});var t=l(9974),o=l(6365),f=l(9326),A=l(6648);function e(...w){const m=(0,f.lI)(w),D=(0,f.R0)(w,1/0);return(0,t.N)((S,g)=>{(0,o.U)(D)((0,A.H)([S,...w],m)).subscribe(g)})}},1744:(ot,ve,l)=>{"use strict";l.d(ve,{$R:()=>t,XF:()=>w,jD:()=>f,ot:()=>o});class t{}var o=function(m){return m.Client="Client",m.ClaimType="ClaimType",m.IdentityResource="IdentityResource",m.ProtectedResource="ProtectedResource",m}(o||{}),f=function(m){return m.New="New",m.Duplicate="Duplicate",m.Conflicted="Conflicted",m}(f||{}),w=function(m){return m.Importing="Importing",m.Existing="Existing",m}(w||{})},1746:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>t});class t{constructor(f,A){this.MainText=f,this.HelpText=A??null}}},1796:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>w});var t=l(1594),o=l(6354),f=l(1360),A=l(2947),e=l(9196);let w=(()=>{class m{constructor(S,g){this.router=S,this.config=g}canActivate(S,g){return this.config.getConfig().pipe((0,t.$)(),(0,o.T)(k=>!(null==k||null==k.enableAuditing||!k.enableAuditing)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(g){return new(g||m)(f.KVO(A.Ix),f.KVO(e.w))}}static{this.\u0275prov=f.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},1817:(ot,ve,l)=>{var t=l(6589);t.pki=t.pki||{};var o=ot.exports=t.pki.oids=t.oids=t.oids||{};function f(e,w){o[e]=w,o[w]=e}function A(e,w){o[e]=w}f("1.2.840.113549.1.1.1","rsaEncryption"),f("1.2.840.113549.1.1.4","md5WithRSAEncryption"),f("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),f("1.2.840.113549.1.1.7","RSAES-OAEP"),f("1.2.840.113549.1.1.8","mgf1"),f("1.2.840.113549.1.1.9","pSpecified"),f("1.2.840.113549.1.1.10","RSASSA-PSS"),f("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),f("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),f("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),f("1.3.101.112","EdDSA25519"),f("1.2.840.10040.4.3","dsa-with-sha1"),f("1.3.14.3.2.7","desCBC"),f("1.3.14.3.2.26","sha1"),f("1.3.14.3.2.29","sha1WithRSASignature"),f("2.16.840.1.101.3.4.2.1","sha256"),f("2.16.840.1.101.3.4.2.2","sha384"),f("2.16.840.1.101.3.4.2.3","sha512"),f("2.16.840.1.101.3.4.2.4","sha224"),f("2.16.840.1.101.3.4.2.5","sha512-224"),f("2.16.840.1.101.3.4.2.6","sha512-256"),f("1.2.840.113549.2.2","md2"),f("1.2.840.113549.2.5","md5"),f("1.2.840.113549.1.7.1","data"),f("1.2.840.113549.1.7.2","signedData"),f("1.2.840.113549.1.7.3","envelopedData"),f("1.2.840.113549.1.7.4","signedAndEnvelopedData"),f("1.2.840.113549.1.7.5","digestedData"),f("1.2.840.113549.1.7.6","encryptedData"),f("1.2.840.113549.1.9.1","emailAddress"),f("1.2.840.113549.1.9.2","unstructuredName"),f("1.2.840.113549.1.9.3","contentType"),f("1.2.840.113549.1.9.4","messageDigest"),f("1.2.840.113549.1.9.5","signingTime"),f("1.2.840.113549.1.9.6","counterSignature"),f("1.2.840.113549.1.9.7","challengePassword"),f("1.2.840.113549.1.9.8","unstructuredAddress"),f("1.2.840.113549.1.9.14","extensionRequest"),f("1.2.840.113549.1.9.20","friendlyName"),f("1.2.840.113549.1.9.21","localKeyId"),f("1.2.840.113549.1.9.22.1","x509Certificate"),f("1.2.840.113549.1.12.10.1.1","keyBag"),f("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),f("1.2.840.113549.1.12.10.1.3","certBag"),f("1.2.840.113549.1.12.10.1.4","crlBag"),f("1.2.840.113549.1.12.10.1.5","secretBag"),f("1.2.840.113549.1.12.10.1.6","safeContentsBag"),f("1.2.840.113549.1.5.13","pkcs5PBES2"),f("1.2.840.113549.1.5.12","pkcs5PBKDF2"),f("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),f("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),f("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),f("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),f("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),f("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),f("1.2.840.113549.2.7","hmacWithSHA1"),f("1.2.840.113549.2.8","hmacWithSHA224"),f("1.2.840.113549.2.9","hmacWithSHA256"),f("1.2.840.113549.2.10","hmacWithSHA384"),f("1.2.840.113549.2.11","hmacWithSHA512"),f("1.2.840.113549.3.7","des-EDE3-CBC"),f("2.16.840.1.101.3.4.1.2","aes128-CBC"),f("2.16.840.1.101.3.4.1.22","aes192-CBC"),f("2.16.840.1.101.3.4.1.42","aes256-CBC"),f("2.5.4.3","commonName"),f("2.5.4.4","surname"),f("2.5.4.5","serialNumber"),f("2.5.4.6","countryName"),f("2.5.4.7","localityName"),f("2.5.4.8","stateOrProvinceName"),f("2.5.4.9","streetAddress"),f("2.5.4.10","organizationName"),f("2.5.4.11","organizationalUnitName"),f("2.5.4.12","title"),f("2.5.4.13","description"),f("2.5.4.15","businessCategory"),f("2.5.4.17","postalCode"),f("2.5.4.42","givenName"),f("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),f("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),f("2.16.840.1.113730.1.1","nsCertType"),f("2.16.840.1.113730.1.13","nsComment"),A("2.5.29.1","authorityKeyIdentifier"),A("2.5.29.2","keyAttributes"),A("2.5.29.3","certificatePolicies"),A("2.5.29.4","keyUsageRestriction"),A("2.5.29.5","policyMapping"),A("2.5.29.6","subtreesConstraint"),A("2.5.29.7","subjectAltName"),A("2.5.29.8","issuerAltName"),A("2.5.29.9","subjectDirectoryAttributes"),A("2.5.29.10","basicConstraints"),A("2.5.29.11","nameConstraints"),A("2.5.29.12","policyConstraints"),A("2.5.29.13","basicConstraints"),f("2.5.29.14","subjectKeyIdentifier"),f("2.5.29.15","keyUsage"),A("2.5.29.16","privateKeyUsagePeriod"),f("2.5.29.17","subjectAltName"),f("2.5.29.18","issuerAltName"),f("2.5.29.19","basicConstraints"),A("2.5.29.20","cRLNumber"),A("2.5.29.21","cRLReason"),A("2.5.29.22","expirationDate"),A("2.5.29.23","instructionCode"),A("2.5.29.24","invalidityDate"),A("2.5.29.25","cRLDistributionPoints"),A("2.5.29.26","issuingDistributionPoint"),A("2.5.29.27","deltaCRLIndicator"),A("2.5.29.28","issuingDistributionPoint"),A("2.5.29.29","certificateIssuer"),A("2.5.29.30","nameConstraints"),f("2.5.29.31","cRLDistributionPoints"),f("2.5.29.32","certificatePolicies"),A("2.5.29.33","policyMappings"),A("2.5.29.34","policyConstraints"),f("2.5.29.35","authorityKeyIdentifier"),A("2.5.29.36","policyConstraints"),f("2.5.29.37","extKeyUsage"),A("2.5.29.46","freshestCRL"),A("2.5.29.54","inhibitAnyPolicy"),f("1.3.6.1.4.1.11129.2.4.2","timestampList"),f("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),f("1.3.6.1.5.5.7.3.1","serverAuth"),f("1.3.6.1.5.5.7.3.2","clientAuth"),f("1.3.6.1.5.5.7.3.3","codeSigning"),f("1.3.6.1.5.5.7.3.4","emailProtection"),f("1.3.6.1.5.5.7.3.8","timeStamping")},1853:(ot,ve,l)=>{"use strict";function t(o){const A=o(e=>{Error.call(e),e.stack=(new Error).stack});return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}l.d(ve,{L:()=>t})},1881:(ot,ve,l)=>{var t=l(6589);l(812);var o=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],f=[1,2,3,5],A=function(m,D){return m<<D&65535|(65535&m)>>16-D},e=function(m,D){return(65535&m)>>D|m<<16-D&65535};ot.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(m,D){"string"==typeof m&&(m=t.util.createBuffer(m)),D=D||128;var E,S=m,g=m.length(),k=D,z=Math.ceil(k/8),u=255>>(7&k);for(E=g;E<128;E++)S.putByte(o[S.at(E-1)+S.at(E-g)&255]);for(S.setAt(128-z,o[S.at(128-z)&u]),E=127-z;E>=0;E--)S.setAt(E,o[S.at(E+1)^S.at(E+z)]);return S};var w=function(m,D,S){var E,B,V,F,g=!1,k=null,z=null,u=null,M=[];for(m=t.rc2.expandKey(m,D),V=0;V<64;V++)M.push(m.getInt16Le());S?(E=function(X){for(V=0;V<4;V++)X[V]+=M[F]+(X[(V+3)%4]&X[(V+2)%4])+(~X[(V+3)%4]&X[(V+1)%4]),X[V]=A(X[V],f[V]),F++},B=function(X){for(V=0;V<4;V++)X[V]+=M[63&X[(V+3)%4]]}):(E=function(X){for(V=3;V>=0;V--)X[V]=e(X[V],f[V]),X[V]-=M[F]+(X[(V+3)%4]&X[(V+2)%4])+(~X[(V+3)%4]&X[(V+1)%4]),F--},B=function(X){for(V=3;V>=0;V--)X[V]-=M[63&X[(V+3)%4]]});var W=function(X){var Z=[];for(V=0;V<4;V++){var v=k.getInt16Le();null!==u&&(S?v^=u.getInt16Le():u.putInt16Le(v)),Z.push(65535&v)}F=S?0:63;for(var L=0;L<X.length;L++)for(var Q=0;Q<X[L][0];Q++)X[L][1](Z);for(V=0;V<4;V++)null!==u&&(S?u.putInt16Le(Z[V]):Z[V]^=u.getInt16Le()),z.putInt16Le(Z[V])},y=null;return y={start:function(X,Z){X&&"string"==typeof X&&(X=t.util.createBuffer(X)),g=!1,k=t.util.createBuffer(),z=Z||new t.util.createBuffer,u=X,y.output=z},update:function(X){for(g||k.putBuffer(X);k.length()>=8;)W([[5,E],[1,B],[6,E],[1,B],[5,E]])},finish:function(X){var Z=!0;if(S)if(X)Z=X(8,k,!S);else{var v=8===k.length()?8:8-k.length();k.fillWithByte(v,v)}if(Z&&(g=!0,y.update()),!S&&(Z=0===k.length()))if(X)Z=X(8,z,!S);else{var L=z.length(),Q=z.at(L-1);Q>L?Z=!1:z.truncate(Q)}return Z}}};t.rc2.startEncrypting=function(m,D,S){var g=t.rc2.createEncryptionCipher(m,128);return g.start(D,S),g},t.rc2.createEncryptionCipher=function(m,D){return w(m,D,!0)},t.rc2.startDecrypting=function(m,D,S){var g=t.rc2.createDecryptionCipher(m,128);return g.start(D,S),g},t.rc2.createDecryptionCipher=function(m,D){return w(m,D,!1)}},1924:(ot,ve,l)=>{"use strict";l.d(ve,{Mj:()=>L,P0:()=>v,h6:()=>te,kt:()=>Q});var t=l(1360),o=l(9361),f=l(5218);let A=(()=>{class N{static \u0275fac=function(R){return new(R||N)};static \u0275prov=t.jDH({token:N,factory:()=>(0,t.WQX)(w),providedIn:"root"})}return N})();class e{}let w=(()=>{class N extends A{animationModuleType=(0,t.WQX)(t.bc$,{optional:!0});_nextAnimationId=0;_renderer;constructor(oe,R){if(super(),this._renderer=oe.createRenderer(R.body,{id:"0",encapsulation:t.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function k(N){const fe=N.\u0275type;return 0===fe||1===fe}(this._renderer))throw new t.wOt(3600,!1)}build(oe){const R=this._nextAnimationId;this._nextAnimationId++;const Fe=Array.isArray(oe)?(0,f.K2)(oe):oe;return S(this._renderer,null,R,"register",[Fe]),new m(R,this._renderer)}static \u0275fac=function(R){return new(R||N)(t.KVO(t._9s),t.KVO(o.q))};static \u0275prov=t.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();class m extends e{_id;_renderer;constructor(fe,oe){super(),this._id=fe,this._renderer=oe}create(fe,oe){return new D(this._id,fe,oe||{},this._renderer)}}class D{id;element;_renderer;parentPlayer=null;_started=!1;constructor(fe,oe,R,Fe){this.id=fe,this.element=oe,this._renderer=Fe,this._command("create",R)}_listen(fe,oe){return this._renderer.listen(this.element,`@@${this.id}:${fe}`,oe)}_command(fe,...oe){S(this._renderer,this.element,this.id,fe,oe)}onDone(fe){this._listen("done",fe)}onStart(fe){this._listen("start",fe)}onDestroy(fe){this._listen("destroy",fe)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(fe){this._command("setPosition",fe)}getPosition(){return function g(N){const fe=N.\u0275type;return 0===fe?N:1===fe?N.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function S(N,fe,oe,R,Fe){N.setProperty(fe,`@@${oe}:${R}`,Fe)}const z="400ms cubic-bezier(0.4,0.0,0.2,1)",u=[(0,f.iF)({height:0,visibility:"hidden"}),(0,f.i0)(z,(0,f.iF)({height:"*",visibility:"visible"}))],E=[(0,f.iF)({height:"*",visibility:"visible"}),(0,f.i0)(z,(0,f.iF)({height:0,visibility:"hidden"}))];let B=(()=>{class N{set display(oe){this._display=oe,"none"!==oe?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(oe){this.collapseNewValue=oe,(!this._player||this._isAnimationDone)&&(this.isExpanded=oe,this.toggle())}get collapse(){return this.isExpanded}constructor(oe,R,Fe){this._el=oe,this._renderer=R,this.collapsed=new t.bkB,this.collapses=new t.bkB,this.expanded=new t.bkB,this.expands=new t.bkB,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=Fe.build(E),this._factoryExpandAnimation=Fe.build(u)}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(oe,R){if(!oe||!this._stylesLoaded)return we=>we();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const Fe=R===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=Fe.create(this._el.nativeElement),this._player.play(),we=>this._player?.onDone(we)}static{this.\u0275fac=function(R){return new(R||N)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(A))}}static{this.\u0275dir=t.FsC({type:N,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(R,Fe){2&R&&(t.BMQ("aria-hidden",Fe.isCollapsed),t.AVh("collapse",Fe.isCollapse)("in",Fe.isExpanded)("show",Fe.isExpanded)("collapsing",Fe.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]})}}return N})(),V=(()=>{class N{static forRoot(){return{ngModule:N,providers:[]}}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275mod=t.$C({type:N})}static{this.\u0275inj=t.G2t({})}}return N})();var F=l(8434);const M=["*"],W=[[["","accordion-heading",""]],"*"],y=["[accordion-heading]","*"],X=N=>({"text-muted":N});function Z(N,fe){if(1&N&&(t.j41(0,"button",7),t.EFF(1),t.k0s()),2&N){const oe=t.XpG();t.Y8G("ngClass",t.eq3(2,X,oe.isDisabled)),t.R7$(),t.SpI(" ",oe.heading," ")}}let v=(()=>{class N{constructor(){this.closeOthers=!1,this.isAnimated=!1}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275prov=t.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})(),L=(()=>{class N{constructor(oe){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,oe)}closeOtherPanels(oe){this.closeOthers&&this.groups.forEach(R=>{R!==oe&&(R.isOpen=!1)})}addGroup(oe){oe.isAnimated=this.isAnimated,this.groups.push(oe)}removeGroup(oe){const R=this.groups.indexOf(oe);-1!==R&&this.groups.splice(R,1)}static{this.\u0275fac=function(R){return new(R||N)(t.rXU(v))}}static{this.\u0275cmp=t.VBU({type:N,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(R,Fe){2&R&&t.BMQ("aria-multiselectable",Fe.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:M,decls:1,vars:0,template:function(R,Fe){1&R&&(t.NAR(),t.SdG(0))},encapsulation:2})}}return N})(),Q=(()=>{class N{get isOpen(){return this._isOpen}set isOpen(oe){oe!==this.isOpen&&(oe&&this.accordion.closeOtherPanels(this),this._isOpen=oe,Promise.resolve(null).then(()=>{this.isOpenChange.emit(oe)}))}constructor(oe){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new t.bkB,this._isOpen=!1,this.accordion=oe}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}static{this.\u0275fac=function(R){return new(R||N)(t.rXU(L))}}static{this.\u0275cmp=t.VBU({type:N,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(R,Fe){2&R&&t.AVh("panel-open",Fe.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:y,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"click","ngClass"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(R,Fe){1&R&&(t.NAR(W),t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return Fe.toggleOpen()}),t.j41(2,"div",2)(3,"div",3),t.DNE(4,Z,2,4,"button",4),t.SdG(5),t.k0s()()(),t.j41(6,"div",5)(7,"div",6),t.SdG(8,1),t.k0s()()()),2&R&&(t.Y8G("ngClass",Fe.panelClass),t.R7$(),t.Y8G("ngClass",Fe.isDisabled?"panel-disabled":"panel-enabled"),t.R7$(2),t.BMQ("aria-expanded",Fe.isOpen),t.R7$(),t.Y8G("ngIf",Fe.heading),t.R7$(2),t.Y8G("collapse",!Fe.isOpen)("isAnimated",Fe.isAnimated))},dependencies:[F.YU,F.bT,V,B],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]})}}return N})(),te=(()=>{class N{static forRoot(){return{ngModule:N,providers:[]}}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275mod=t.$C({type:N})}static{this.\u0275inj=t.G2t({imports:[Q]})}}return N})()},1927:(ot,ve,l)=>{"use strict";l.d(ve,{K:()=>t});var t=function(o){return o.Jwt="Jwt",o.Reference="Reference",o}(t||{})},1957:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>A});var t=l(8434),o=l(9417),f=l(1360);let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({imports:[t.MD,o.YN]})}}return e})()},1985:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>D});var t=l(7707),o=l(8359),f=l(3494),A=l(1203),e=l(1026),w=l(8071),m=l(9786);let D=(()=>{class z{constructor(E){E&&(this._subscribe=E)}lift(E){const B=new z;return B.source=this,B.operator=E,B}subscribe(E,B,V){const F=function k(z){return z&&z instanceof t.vU||function g(z){return z&&(0,w.T)(z.next)&&(0,w.T)(z.error)&&(0,w.T)(z.complete)}(z)&&(0,o.Uv)(z)}(E)?E:new t.Ms(E,B,V);return(0,m.Y)(()=>{const{operator:M,source:W}=this;F.add(M?M.call(F,W):W?this._subscribe(F):this._trySubscribe(F))}),F}_trySubscribe(E){try{return this._subscribe(E)}catch(B){E.error(B)}}forEach(E,B){return new(B=S(B))((V,F)=>{const M=new t.Ms({next:W=>{try{E(W)}catch(y){F(y),M.unsubscribe()}},error:F,complete:V});this.subscribe(M)})}_subscribe(E){var B;return null===(B=this.source)||void 0===B?void 0:B.subscribe(E)}[f.s](){return this}pipe(...E){return(0,A.m)(E)(this)}toPromise(E){return new(E=S(E))((B,V)=>{let F;this.subscribe(M=>F=M,M=>V(M),()=>B(F))})}}return z.create=u=>new z(u),z})();function S(z){var u;return null!==(u=z??e.$.Promise)&&void 0!==u?u:Promise}},1993:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>f});var t=l(8434),o=l(1360);let f=(()=>{class A{static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275mod=o.$C({type:A})}static{this.\u0275inj=o.G2t({imports:[t.MD]})}}return A})()},2020:(ot,ve)=>{ve.read=function(l,t,o,f,A){var e,w,m=8*A-f-1,D=(1<<m)-1,S=D>>1,g=-7,k=o?A-1:0,z=o?-1:1,u=l[t+k];for(k+=z,e=u&(1<<-g)-1,u>>=-g,g+=m;g>0;e=256*e+l[t+k],k+=z,g-=8);for(w=e&(1<<-g)-1,e>>=-g,g+=f;g>0;w=256*w+l[t+k],k+=z,g-=8);if(0===e)e=1-S;else{if(e===D)return w?NaN:1/0*(u?-1:1);w+=Math.pow(2,f),e-=S}return(u?-1:1)*w*Math.pow(2,e-f)},ve.write=function(l,t,o,f,A,e){var w,m,D,S=8*e-A-1,g=(1<<S)-1,k=g>>1,z=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,u=f?0:e-1,E=f?1:-1,B=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,w=g):(w=Math.floor(Math.log(t)/Math.LN2),t*(D=Math.pow(2,-w))<1&&(w--,D*=2),(t+=w+k>=1?z/D:z*Math.pow(2,1-k))*D>=2&&(w++,D/=2),w+k>=g?(m=0,w=g):w+k>=1?(m=(t*D-1)*Math.pow(2,A),w+=k):(m=t*Math.pow(2,k-1)*Math.pow(2,A),w=0));A>=8;l[o+u]=255&m,u+=E,m/=256,A-=8);for(w=w<<A|m,S+=A;S>0;l[o+u]=255&w,u+=E,w/=256,S-=8);l[o+u-E]|=128*B}},2036:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>A});var t=l(1360),o=l(3165),f=l(9564);let A=(()=>{class e{constructor(m,D){this.http=m,this.headersService=D,this.actionUrl="clients"}getRelyingParty(m){const D=`${this.actionUrl}/${m}/wsfed`,S=this.headersService.setHeaders();return this.http.get(D,{headers:S})}updateRelyingParty(m,D){const S=`${this.actionUrl}/${m}/wsfed`,g=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(S,D,{headers:g})}static{this.\u0275fac=function(D){return new(D||e)(t.KVO(o.Qq),t.KVO(f.m))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})()},2114:(ot,ve,l)=>{ot.exports=l(6589),l(57),l(3707),l(7097),l(5855),l(3674),l(651),l(4579),l(8321),l(872),l(9228),l(5833),l(1097),l(9368),l(8788),l(4724),l(8645),l(9622),l(3697),l(409),l(8588),l(1675),l(1881),l(3120),l(9807),l(812)},2286:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>B});var t=l(9113),o=l(1744),f=l(1594),A=l(6799),e=l(4414),w=l(1360),m=l(5826),D=l(8018),S=l(8434),g=l(7384);const k=(V,F)=>({"tw-btn-link":V,"tw-btn-success":F});function z(V,F){1&V&&(w.nrm(0,"app-simple-loader",7),w.nI1(1,"translate")),2&V&&w.Y8G("text",w.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function u(V,F){if(1&V&&(w.j41(0,"div",8)(1,"div")(2,"h2",9),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"span",10),w.EFF(6),w.k0s()()()),2&V){const M=w.XpG();w.R7$(3),w.JRh(w.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),w.R7$(3),w.JRh(M.getSuccessMessage())}}function E(V,F){if(1&V){const M=w.RV6();w.j41(0,"div",11)(1,"button",12),w.bIt("click",function(){w.eBV(M);const y=w.XpG();return w.Njj(y.downloadSecrets())}),w.EFF(2),w.nI1(3,"translate"),w.k0s()()}if(2&V){const M=w.XpG();w.R7$(),w.Y8G("disabled",M.disableButtons),w.R7$(),w.SpI(" ",w.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let B=(()=>{class V extends A.P{constructor(M,W,y){super(),this.clientImportService=M,this.importWizardService=W,this.translate=y,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,f.$)()).subscribe(M=>{const W=new t.SD;W.clients=[],W.protectedResources=[],M.forEach(y=>{if(y.selected){if(y.resourceType===o.ot.Client){const X=new t.Hh;X.useExistingSecrets=y.useExistingSecrets,X.useExistingCertificates=y.useExistingCertificates,X.resourceId=y.identifier,X.secrets=y.secrets,y.certificates&&(y.certificates.EncryptionCertificate&&(X.certificates.encryptionCertificate=y.certificates.EncryptionCertificate.base64Cert),y.certificates.SigningCertificates&&(X.certificates.signingCertificates=y.certificates.SigningCertificates.map(Z=>Z.base64Cert))),W.clients.push(X)}y.secrets&&y.secrets.length>0&&(this.canDownloadSecrets=!0)}y.resourceType===o.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(M,y,W.protectedResources),y.secrets&&y.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=W,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(M,W,y){W.dependantClients.forEach(X=>{const Z=M.find(v=>v.identifier===X.identifier);if(Z&&Z.selected){const v=new t.Hh;v.useExistingSecrets=W.useExistingSecrets,v.resourceId=W.identifier,v.secrets=W.secrets,y.push(v)}})}completeImport(){const M=this.getFileInStorage();this.clientImportService.completeImport(M,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},W=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const M=this.importConfiguration.clients.length;let W=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==M&&(W=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),W=W.replace("{0}",M)),W}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(e.M.importDownloadWarning)}static{this.\u0275fac=function(W){return new(W||V)(w.rXU(t.qJ),w.rXU(m.o),w.rXU(D.c$))}}static{this.\u0275cmp=w.VBU({type:V,selectors:[["app-complete-import"]],standalone:!1,features:[w.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(W,y){1&W&&(w.DNE(0,z,2,3,"app-simple-loader",0),w.j41(1,"div",1),w.DNE(2,u,7,4,"div",2),w.k0s(),w.j41(3,"div",3)(4,"div",4),w.DNE(5,E,4,4,"div",5),w.j41(6,"button",6),w.bIt("click",function(){return y.goNext()}),w.EFF(7),w.nI1(8,"translate"),w.k0s()()()),2&W&&(w.Y8G("ngIf",y.isLoading),w.R7$(2),w.Y8G("ngIf",!y.isLoading),w.R7$(3),w.Y8G("ngIf",y.canDownloadSecrets),w.R7$(),w.Y8G("ngClass",w.l_i(8,k,y.canDownloadSecrets,!y.canDownloadSecrets))("disabled",y.disableButtons),w.R7$(),w.SpI(" ",w.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[S.YU,S.bT,g.d,D.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return V})()},2292:(ot,ve,l)=>{"use strict";l.d(ve,{L:()=>m});var t=l(1360),o=l(7263),f=l(8434);function A(D,S){if(1&D&&(t.j41(0,"div",5)(1,"span",6),t.EFF(2),t.k0s()()),2&D){const g=t.XpG().$implicit,k=t.XpG();t.BMQ("aria-label",k.enumValues),t.R7$(2),t.JRh(g)}}function e(D,S){if(1&D){const g=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(g);const z=t.XpG().index,u=t.XpG();return t.Njj(u.deleteValue(z))}),t.nrm(1,"span",8),t.j41(2,"span",6),t.EFF(3),t.k0s()()}if(2&D){const g=t.XpG().$implicit,k=t.XpG();t.BMQ("aria-label",k.enumValues),t.R7$(3),t.JRh(g)}}function w(D,S){if(1&D&&(t.j41(0,"li",2),t.DNE(1,A,3,2,"div",3)(2,e,4,2,"button",4),t.k0s()),2&D){const g=t.XpG();t.R7$(),t.Y8G("ngIf",g.readonly),t.R7$(),t.Y8G("ngIf",!g.readonly)}}let m=(()=>{class D{get id(){return this._id}set id(g){this._id=g||(0,o.Nl)()}constructor(){this.readonly=!1,this.onDelete=new t.bkB}ngOnInit(){}deleteValue(g){this.readonly||this.onDelete.emit(g)}static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},standalone:!1,decls:2,vars:2,consts:[[1,"tw-pill-list","tw-mt-4",3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(k,z){1&k&&(t.j41(0,"ul",0),t.DNE(1,w,3,2,"li",1),t.k0s()),2&k&&(t.FS9("id",z.id+"-enumValues-select"),t.R7$(),t.Y8G("ngForOf",z.values))},dependencies:[f.Sq,f.bT],encapsulation:2})}}return D})()},2326:(ot,ve,l)=>{"use strict";l.d(ve,{K:()=>o});const{isArray:t}=Array;function o(f){return 1===f.length&&t(f[0])?f[0]:f}},2334:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{ClaimTypesModule:()=>qn});var t=l(8434),o=l(9262),f=l(9417),A=l(8018),e=l(779),w=l(534),m=l(8400),D=l(5139),S=l(9838),g=l(9957),k=l(7263),z=l(6303),u=l(6411),E=l(1360),B=l(2947),V=l(5794),F=l(526),M=l(345),W=l(5424),y=l(7883),X=l(7499),Z=l(6728),v=l(3680),L=l(6406),Q=l(8698),te=l(9550),N=l(8762),fe=l(7778),oe=l(2292);function R(Ht,oi){if(1&Ht){const Xt=E.RV6();E.j41(0,"div",4)(1,"div",5)(2,"input",6),E.mxI("ngModelChange",function(fn){E.eBV(Xt);const Qn=E.XpG();return E.DH7(Qn.newEnumValue,fn)||(Qn.newEnumValue=fn),E.Njj(fn)}),E.k0s(),E.j41(3,"button",7),E.bIt("click",function(){E.eBV(Xt);const fn=E.XpG();return E.Njj(fn.onAdd())}),E.nrm(4,"span",8),E.j41(5,"span",9),E.EFF(6),E.nI1(7,"translate"),E.k0s()()()()}if(2&Ht){const Xt=E.XpG();E.R7$(2),E.FS9("id",Xt.id+"-newValue-input"),E.R50("ngModel",Xt.newEnumValue),E.R7$(),E.FS9("id",Xt.id+"-newValue-button"),E.Y8G("disabled",Xt.addDisabled),E.R7$(3),E.JRh(E.bMT(7,5,"Common.Add"))}}function Fe(Ht,oi){if(1&Ht){const Xt=E.RV6();E.j41(0,"app-pill-list",10),E.bIt("onDelete",function(fn){E.eBV(Xt);const Qn=E.XpG();return E.Njj(Qn.onDelete(fn))}),E.k0s()}if(2&Ht){const Xt=E.XpG();E.Y8G("readonly",Xt.reserved)("id",Xt.id)("values",Xt.value)}}function we(Ht,oi){if(1&Ht&&(E.j41(0,"span",11),E.EFF(1),E.nI1(2,"translate"),E.nI1(3,"number"),E.k0s()),2&Ht){const Xt=E.XpG();E.R7$(),E.Lme("",E.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",E.bMT(3,4,Xt.value.length),")")}}let We=(()=>{class Ht{constructor(){this.id=(0,k.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=Xt=>{},this.onTouched=()=>{}}writeValue(Xt){this.value=Xt}registerOnChange(Xt){this.onChange=Xt}registerOnTouched(Xt){this.onTouched=Xt}setDisabledState(Xt){this.disabled=Xt}validate(Xt){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(Xt){this.value.splice(Xt,1),this.onChange(this.value)}isNullOrEmpty(Xt){return!Xt||null!==Xt.match(/^ *$/)}static{this.\u0275fac=function(Un){return new(Un||Ht)}}static{this.\u0275cmp=E.VBU({type:Ht,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},standalone:!1,features:[E.Jv_([{provide:f.kq,useExisting:(0,E.Rfq)(()=>Ht),multi:!0},{provide:f.cz,useExisting:(0,E.Rfq)(()=>Ht),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(Un,fn){1&Un&&(E.DNE(0,R,8,7,"div",0),E.j41(1,"div",1),E.DNE(2,Fe,1,3,"app-pill-list",2)(3,we,4,6,"span",3),E.k0s()),2&Un&&(E.Y8G("ngIf",!fn.reserved),E.R7$(2),E.Y8G("ngIf",fn.value.length<=50||!fn.reserved),E.R7$(),E.Y8G("ngIf",fn.value.length>50&&fn.reserved))},dependencies:[t.bT,f.me,f.BC,f.vS,oe.L,t.QX,A.D9],encapsulation:2})}}return Ht})();var rt=l(4692);const lt=(Ht,oi)=>({title:Ht,link:oi}),vt=Ht=>[Ht];function Ue(Ht,oi){if(1&Ht){const Xt=E.RV6();E.j41(0,"select",23),E.bIt("change",function(){E.eBV(Xt);const fn=E.XpG(2);return E.Njj(fn.onValueTypeChanged())}),E.j41(1,"option",24),E.EFF(2),E.nI1(3,"translate"),E.k0s(),E.j41(4,"option",25),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"option",26),E.EFF(8),E.nI1(9,"translate"),E.k0s(),E.j41(10,"option",27),E.EFF(11),E.nI1(12,"translate"),E.k0s(),E.j41(13,"option",28),E.EFF(14),E.nI1(15,"translate"),E.k0s()()}if(2&Ht){const Xt=E.XpG(2);E.R7$(),E.Y8G("selected","String"==Xt.claimType.valueType),E.R7$(),E.JRh(E.bMT(3,9,"Common.Types.String")),E.R7$(2),E.Y8G("selected","Int"==Xt.claimType.valueType),E.R7$(),E.JRh(E.bMT(6,11,"Common.Types.Int")),E.R7$(2),E.Y8G("selected","DateTime"==Xt.claimType.valueType),E.R7$(),E.JRh(E.bMT(9,13,"Common.Types.DateTime")),E.R7$(2),E.Y8G("selected","Boolean"==Xt.claimType.valueType),E.R7$(),E.JRh(E.bMT(12,15,"Common.Types.Boolean")),E.R7$(3),E.JRh(E.bMT(15,17,"Common.Types.Enum"))}}function Ye(Ht,oi){if(1&Ht&&(E.nrm(0,"app-readonly",10),E.nI1(1,"readOnlyValue")),2&Ht){const Xt=E.XpG(2);E.Y8G("fieldType",Xt.ReadOnlyFieldType.Single)("values",E.eq3(4,vt,E.bMT(1,2,Xt.claimType.valueType)))}}function He(Ht,oi){if(1&Ht&&(E.j41(0,"app-form-row",29),E.nrm(1,"app-edit-enum-claim-type",30),E.k0s()),2&Ht){const Xt=E.XpG(2);E.Y8G("label","Claims.AllowedValues"),E.R7$(),E.Y8G("reserved",Xt.claimType.reserved)("required","Enum"===Xt.claimTypeForm.get("valueType").value)}}function it(Ht,oi){1&Ht&&E.nrm(0,"textarea",31)}function Le(Ht,oi){if(1&Ht&&(E.nrm(0,"app-readonly",10),E.nI1(1,"readOnlyValue")),2&Ht){const Xt=E.XpG(2);E.Y8G("fieldType",Xt.ReadOnlyFieldType.Single)("values",E.eq3(4,vt,E.bMT(1,2,Xt.claimType.description)))}}function Ve(Ht,oi){1&Ht&&(E.j41(0,"app-form-row",12),E.nrm(1,"input",32),E.k0s()),2&Ht&&E.Y8G("id","rule")("label","Claims.RegexRule")}function Xe(Ht,oi){1&Ht&&(E.j41(0,"app-form-row",12),E.nrm(1,"input",33),E.k0s()),2&Ht&&E.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function je(Ht,oi){if(1&Ht&&(E.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),E.nrm(3,"app-readonly",10),E.nI1(4,"readOnlyValue"),E.k0s(),E.j41(5,"app-form-row",9),E.nrm(6,"input",11),E.k0s(),E.j41(7,"app-form-row",12)(8,"div",13),E.DNE(9,Ue,16,19,"select",14)(10,Ye,2,6,"app-readonly",15),E.k0s()(),E.DNE(11,He,2,3,"app-form-row",16),E.j41(12,"app-form-row",12),E.DNE(13,it,1,0,"textarea",17)(14,Le,2,6,"app-readonly",15),E.k0s(),E.DNE(15,Ve,2,2,"app-form-row",18)(16,Xe,2,2,"app-form-row",18),E.j41(17,"app-form-row",9)(18,"app-form-toggle",19),E.nrm(19,"input",20),E.k0s()(),E.j41(20,"app-form-row",21)(21,"app-form-toggle",19),E.nrm(22,"input",22),E.k0s()()()()),2&Ht){const Xt=E.XpG();E.R7$(),E.Y8G("formGroup",Xt.claimTypeForm),E.R7$(),E.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),E.R7$(),E.Y8G("fieldType",Xt.ReadOnlyFieldType.Single)("values",E.eq3(31,vt,E.bMT(4,29,Xt.claimType.name))),E.R7$(2),E.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),E.R7$(2),E.Y8G("id","type")("label","Common.Type"),E.R7$(2),E.Y8G("ngIf",!Xt.claimType.reserved),E.R7$(),E.Y8G("ngIf",Xt.claimType.reserved),E.R7$(),E.Y8G("ngIf","Enum"===Xt.claimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","description")("label","Common.Description"),E.R7$(),E.Y8G("ngIf",!Xt.claimType.reserved),E.R7$(),E.Y8G("ngIf",Xt.claimType.reserved),E.R7$(),E.Y8G("ngIf","String"===Xt.claimTypeForm.get("valueType").value),E.R7$(),E.Y8G("ngIf","String"===Xt.claimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),E.R7$(),E.Y8G("id","required"),E.R7$(2),E.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),E.R7$(),E.Y8G("id","userEditable")}}let ct=(()=>{class Ht extends u.A{get ReadOnlyFieldType(){return z.t}constructor(Xt,Un,fn,Qn,vi,Be,Ze,ht,jt,Jt,Mn){super(Mn),this.router=Xt,this.translate=Un,this.toastr=fn,this.fb=Qn,this.claimTypeService=vi,this.titleService=Be,this.localize=Ze,this.errorService=ht,this.securityService=jt,this.cdr=Jt,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:Xt=>{this.claimType=Xt,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${S.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(Xt)},error:Xt=>{this.errorService.handleError(Xt)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}get unsavedChanges(){return this.claimTypeForm.dirty}onDeactivate(){}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,f.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[f.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},f.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},f.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,f.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const Xt=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(Xt.rule=void 0,Xt.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(Xt).subscribe({next:Un=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(Xt),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:Un=>{(this.errorService.handleError(Un)&g.I.Toast)!==g.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:Xt=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const Un=this.localize.translateRoute("/claim-types");this.router.navigate([Un])},error:Xt=>{(this.errorService.handleError(Xt)&g.I.Toast)!==g.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const Xt=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(Xt?.disable(),this.cdr.detectChanges()):(Xt?.setValue(this.claimType.allowedValues||[]),Xt?.enable(),this.cdr.detectChanges())}get isAuthorizationServerManager(){return(0,k.mk)(this.securityService.userPermissions)}static{this.\u0275fac=function(Un){return new(Un||Ht)(E.rXU(B.Ix),E.rXU(A.c$),E.rXU(V.tw),E.rXU(f.ze),E.rXU(F.X),E.rXU(M.hE),E.rXU(D.QG),E.rXU(W.I),E.rXU(y.i),E.rXU(E.gRc),E.rXU(X.o))}}static{this.\u0275cmp=E.VBU({type:Ht,selectors:[["ng-component"]],standalone:!1,features:[E.Vt3],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(Un,fn){if(1&Un){const Qn=E.RV6();E.nrm(0,"app-title-bar",1),E.nI1(1,"translate"),E.nI1(2,"localize"),E.DNE(3,je,23,33,"div",2),E.j41(4,"app-button-bar")(5,"button",3),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.submit())}),E.EFF(6),E.nI1(7,"translate"),E.k0s(),E.qex(8,4),E.j41(9,"button",5),E.bIt("click",function(){E.eBV(Qn);const Be=E.sdS(13);return E.Njj(Be.show())}),E.EFF(10),E.nI1(11,"translate"),E.k0s(),E.bVm(),E.k0s(),E.j41(12,"app-delete-confirmation-modal",6,0),E.bIt("delete",function(){return E.eBV(Qn),E.Njj(fn.delete())}),E.k0s(),E.nrm(14,"app-can-deactivate")}2&Un&&(E.Y8G("title",fn.claimType.name)("crumbs",E.eq3(20,vt,E.l_i(17,lt,E.bMT(1,9,"Nav.ClaimTypes"),E.bMT(2,11,"/claim-types")))),E.R7$(3),E.Y8G("ngIf",fn.claimType),E.R7$(2),E.Y8G("disabled",!(fn.claimTypeForm.dirty&&fn.claimTypeForm.valid)),E.R7$(),E.SpI(" ",E.bMT(7,13,"Common.Save")," "),E.R7$(3),E.Y8G("disabled",fn.claimType.reserved||!fn.isAuthorizationServerManager),E.R7$(),E.SpI(" ",E.bMT(11,15,"Common.Delete.Title")," "),E.R7$(2),E.Y8G("modalId","deleteClaimTypeModal")("resourceName",fn.claimType.name))},dependencies:[t.bT,f.qT,f.xH,f.y7,f.me,f.Zm,f.wz,f.BC,f.cb,f.YS,f.j4,f.JD,Z.E,v.z,L.z,Q.Y,te.m,N.O,fe.w,We,A.D9,D.tl,rt.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ht})();var st=l(1413),Qe=l(6354),ne=l(8412),Y=l(9172),he=l(1397),ge=l(6494),s=l(7156),dt=l(7294),_t=l(2510),en=l(7384);class Cn{}const tn=["addClaimTypeModal"],Ln=()=>({animated:!1,backdrop:"static"});function ni(Ht,oi){if(1&Ht&&(E.j41(0,"app-form-row",37),E.nrm(1,"app-edit-enum-claim-type",38),E.k0s()),2&Ht){const Xt=E.XpG();E.Y8G("label","Claims.AllowedValues"),E.R7$(),E.Y8G("required","Enum"===Xt.addClaimTypeForm.get("valueType").value)}}function ft(Ht,oi){1&Ht&&(E.j41(0,"app-form-row",14),E.nrm(1,"input",39),E.k0s()),2&Ht&&E.Y8G("id","rules")("label","Claims.RegexRule")}function Qt(Ht,oi){1&Ht&&(E.j41(0,"app-form-row",14),E.nrm(1,"input",40),E.k0s()),2&Ht&&E.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let pe=(()=>{class Ht{constructor(Xt,Un,fn,Qn,vi,Be){this.cdr=Xt,this.claimTypeService=Un,this.errorService=fn,this.translate=Qn,this.fb=vi,this.toastr=Be,this.onSubmitted=new E.bkB,this.descFocus=!1}keydown(Xt){"Enter"===Xt.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",f.k0.required],name:["",f.k0.required],displayName:[""],description:["",f.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,f.k0.required],userEditable:[!1,f.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let Xt=new Cn;Xt=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(Xt.rule=void 0,Xt.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(Xt).subscribe({next:Un=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+Xt.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:Un=>{(this.errorService.handleError(Un)&g.I.Toast)!==g.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const Xt=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(Xt?.disable(),this.cdr.detectChanges()):(Xt?.setValue([]),Xt?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(Un){return new(Un||Ht)(E.rXU(E.gRc),E.rXU(F.X),E.rXU(W.I),E.rXU(A.c$),E.rXU(f.ze),E.rXU(V.tw))}}static{this.\u0275cmp=E.VBU({type:Ht,selectors:[["app-add-claimtype"]],viewQuery:function(Un,fn){if(1&Un&&E.GBs(tn,7),2&Un){let Qn;E.mGM(Qn=E.lsd())&&(fn.addClaimTypeModal=Qn.first)}},hostBindings:function(Un,fn){1&Un&&E.bIt("keydown",function(vi){return fn.keydown(vi)},!1,E.EBC)},outputs:{onSubmitted:"onSubmitted"},standalone:!1,decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn-secondary",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(Un,fn){if(1&Un){const Qn=E.RV6();E.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),E.EFF(6),E.nI1(7,"translate"),E.k0s(),E.j41(8,"button",6),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.hide())}),E.nrm(9,"span",7),E.j41(10,"span",8),E.EFF(11),E.nI1(12,"translate"),E.k0s()()(),E.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),E.nrm(16,"input",12),E.k0s(),E.j41(17,"app-form-row",11),E.nrm(18,"input",13),E.k0s(),E.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),E.bIt("change",function(){return E.eBV(Qn),E.Njj(fn.onValueTypeChanged())}),E.j41(22,"option",17),E.EFF(23),E.nI1(24,"translate"),E.k0s(),E.j41(25,"option",18),E.EFF(26),E.nI1(27,"translate"),E.k0s(),E.j41(28,"option",19),E.EFF(29),E.nI1(30,"translate"),E.k0s(),E.j41(31,"option",20),E.EFF(32),E.nI1(33,"translate"),E.k0s(),E.j41(34,"option",21),E.EFF(35),E.nI1(36,"translate"),E.k0s()()()(),E.DNE(37,ni,2,2,"app-form-row",22),E.j41(38,"app-form-row",14)(39,"textarea",23),E.bIt("focus",function(){return E.eBV(Qn),E.Njj(fn.descFocus=!fn.descFocus)})("blur",function(){return E.eBV(Qn),E.Njj(fn.descFocus=!fn.descFocus)}),E.k0s()(),E.DNE(40,ft,2,2,"app-form-row",24)(41,Qt,2,2,"app-form-row",24),E.j41(42,"app-form-row",11)(43,"app-form-toggle",25),E.nrm(44,"input",26),E.k0s()(),E.j41(45,"app-form-row",27)(46,"app-form-toggle",25),E.nrm(47,"input",28),E.k0s()()()(),E.nrm(48,"div",29),E.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.addClaimType())}),E.EFF(53),E.nI1(54,"translate"),E.k0s(),E.j41(55,"span",34)(56,"button",35),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.addAnotherClaimType())}),E.EFF(57),E.nI1(58,"translate"),E.k0s()()(),E.j41(59,"button",36),E.bIt("click",function(){return E.eBV(Qn),E.Njj(fn.hide())}),E.EFF(60),E.nI1(61,"translate"),E.k0s()()()()()()}2&Un&&(E.Y8G("config",E.lJ4(56,Ln)),E.R7$(6),E.JRh(E.bMT(7,36,"Claims.New")),E.R7$(5),E.JRh(E.bMT(12,38,"Common.Close")),E.R7$(3),E.Y8G("formGroup",fn.addClaimTypeForm),E.R7$(),E.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),E.R7$(2),E.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),E.R7$(2),E.Y8G("id","type")("label","Common.Type"),E.R7$(4),E.JRh(E.bMT(24,40,"Common.Types.String")),E.R7$(3),E.JRh(E.bMT(27,42,"Common.Types.Int")),E.R7$(3),E.JRh(E.bMT(30,44,"Common.Types.DateTime")),E.R7$(3),E.JRh(E.bMT(33,46,"Common.Types.Boolean")),E.R7$(3),E.JRh(E.bMT(36,48,"Common.Types.Enum")),E.R7$(2),E.Y8G("ngIf","Enum"===fn.addClaimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","description")("label","Common.Description"),E.R7$(2),E.Y8G("ngIf","String"===fn.addClaimTypeForm.get("valueType").value),E.R7$(),E.Y8G("ngIf","String"===fn.addClaimTypeForm.get("valueType").value),E.R7$(),E.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),E.R7$(),E.Y8G("id","required"),E.R7$(2),E.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),E.R7$(),E.Y8G("id","userEditable"),E.R7$(6),E.Y8G("disabled",!fn.addClaimTypeForm.valid),E.R7$(),E.JRh(E.bMT(54,50,"Common.Save")),E.R7$(3),E.Y8G("disabled",!fn.addClaimTypeForm.valid),E.R7$(),E.JRh(E.bMT(58,52,"Common.SaveAndAdd")),E.R7$(3),E.JRh(E.bMT(61,54,"Common.Cancel")))},dependencies:[t.bT,f.qT,f.xH,f.y7,f.me,f.Zm,f.wz,f.BC,f.cb,f.YS,f.j4,f.JD,e.hZ,Q.Y,te.m,We,A.D9],encapsulation:2})}}return Ht})();const de=(Ht,oi)=>oi.id;function P(Ht,oi){if(1&Ht){const Xt=E.RV6();E.j41(0,"app-action-bar"),E.qex(1,5),E.j41(2,"button",6),E.bIt("click",function(){E.eBV(Xt),E.XpG();const fn=E.sdS(3);return E.Njj(fn.show())}),E.EFF(3),E.nI1(4,"translate"),E.k0s(),E.bVm(),E.k0s()}2&Ht&&(E.R7$(3),E.SpI(" ",E.bMT(4,1,"Claims.Add")," "))}function q(Ht,oi){1&Ht&&E.nrm(0,"app-simple-loader")}function Ne(Ht,oi){1&Ht&&(E.j41(0,"div",7)(1,"div"),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Claims.NoClaimsFound")))}function De(Ht,oi){1&Ht&&E.nrm(0,"span",22)}function et(Ht,oi){1&Ht&&E.nrm(0,"span",23)}function gt(Ht,oi){1&Ht&&E.nrm(0,"span",24)}function Kt(Ht,oi){1&Ht&&E.nrm(0,"span",22)}function sn(Ht,oi){1&Ht&&E.nrm(0,"span",23)}function Rn(Ht,oi){1&Ht&&E.nrm(0,"span",24)}function Kn(Ht,oi){1&Ht&&E.nrm(0,"span",22)}function ei(Ht,oi){1&Ht&&E.nrm(0,"span",23)}function Ot(Ht,oi){1&Ht&&E.nrm(0,"span",24)}function Gn(Ht,oi){1&Ht&&E.nrm(0,"span",22)}function Zt(Ht,oi){1&Ht&&E.nrm(0,"span",23)}function Tn(Ht,oi){1&Ht&&E.nrm(0,"span",24)}function In(Ht,oi){1&Ht&&(E.j41(0,"span",30)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.Yes")))}function rs(Ht,oi){1&Ht&&(E.j41(0,"span",31)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.No")))}function _i(Ht,oi){1&Ht&&(E.j41(0,"span",30)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.Yes")))}function Bi(Ht,oi){1&Ht&&(E.j41(0,"span",31)(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.No")))}function Ni(Ht,oi){1&Ht&&(E.j41(0,"span",35),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&Ht&&(E.R7$(),E.SpI(" ",E.bMT(2,1,"Common.Reserved")," "))}function os(Ht,oi){1&Ht&&(E.nrm(0,"span",36),E.j41(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.Edit")))}function zn(Ht,oi){1&Ht&&(E.nrm(0,"span",37),E.j41(1,"span",19),E.EFF(2),E.nI1(3,"translate"),E.k0s()),2&Ht&&(E.R7$(2),E.JRh(E.bMT(3,1,"Common.View")))}function fs(Ht,oi){if(1&Ht){const Xt=E.RV6();E.j41(0,"tr",20)(1,"td",25),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(2,"b",26),E.EFF(3),E.k0s()(),E.j41(4,"td",27),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(5,"b",26),E.EFF(6),E.k0s()(),E.j41(7,"td",27),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(8,"code"),E.EFF(9),E.k0s()(),E.j41(10,"td",28),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.EFF(11),E.k0s(),E.j41(12,"td",29),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(13,In,4,3,"span",30)(14,rs,4,3,"span",31),E.k0s(),E.j41(15,"td",29),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(16,_i,4,3,"span",30)(17,Bi,4,3,"span",31),E.k0s(),E.j41(18,"td",32),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(19,Ni,3,3,"span",33),E.k0s(),E.j41(20,"td",32),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.j41(21,"button",34),E.bIt("click",function(){const fn=E.eBV(Xt).$implicit,Qn=E.XpG(3);return E.Njj(Qn.navigate(fn,fn.id))}),E.DNE(22,os,4,3)(23,zn,4,3),E.k0s()()()}if(2&Ht){const Xt=oi.$implicit,Un=E.XpG(3);E.R7$(3),E.SpI(" ",Xt.name," "),E.R7$(3),E.SpI(" ",Xt.displayName," "),E.R7$(3),E.JRh(Xt.valueType),E.R7$(2),E.SpI(" ",Xt.description," "),E.R7$(2),E.vxM(Xt.required?13:14),E.R7$(3),E.vxM(Xt.userEditable?16:17),E.R7$(3),E.Y8G("ngIf",Xt.reserved),E.R7$(3),E.vxM(Un.resourceIsReadOnly(Xt)?23:22)}}function xi(Ht,oi){if(1&Ht){const Xt=E.RV6();E.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th",9),E.bIt("click",function(){E.eBV(Xt);const fn=E.XpG(2);return E.Njj(fn.sort("name"))}),E.j41(4,"span",10),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.DNE(7,De,1,0,"span",11)(8,et,1,0,"span",12)(9,gt,1,0,"span",13),E.k0s(),E.j41(10,"th",14),E.EFF(11),E.nI1(12,"translate"),E.k0s(),E.j41(13,"th",15),E.bIt("click",function(){E.eBV(Xt);const fn=E.XpG(2);return E.Njj(fn.sort("valueType"))}),E.j41(14,"span",10),E.EFF(15),E.nI1(16,"translate"),E.k0s(),E.DNE(17,Kt,1,0,"span",11)(18,sn,1,0,"span",12)(19,Rn,1,0,"span",13),E.k0s(),E.j41(20,"th",16),E.EFF(21),E.nI1(22,"translate"),E.k0s(),E.j41(23,"th",17),E.bIt("click",function(){E.eBV(Xt);const fn=E.XpG(2);return E.Njj(fn.sort("required"))}),E.j41(24,"span",10),E.EFF(25),E.nI1(26,"translate"),E.k0s(),E.DNE(27,Kn,1,0,"span",11)(28,ei,1,0,"span",12)(29,Ot,1,0,"span",13),E.k0s(),E.j41(30,"th",17),E.bIt("click",function(){E.eBV(Xt);const fn=E.XpG(2);return E.Njj(fn.sort("userEditable"))}),E.j41(31,"span",10),E.EFF(32),E.nI1(33,"translate"),E.k0s(),E.DNE(34,Gn,1,0,"span",11)(35,Zt,1,0,"span",12)(36,Tn,1,0,"span",13),E.k0s(),E.j41(37,"th",18)(38,"span",19),E.EFF(39),E.nI1(40,"translate"),E.k0s()(),E.j41(41,"th",18)(42,"span",19),E.EFF(43),E.nI1(44,"translate"),E.k0s()()()(),E.j41(45,"tbody"),E.Z7z(46,fs,24,8,"tr",20,de),E.k0s()(),E.nrm(48,"app-pager",21)}if(2&Ht){const Xt=E.XpG(2);E.R7$(5),E.JRh(E.bMT(6,21,"Common.Name")),E.R7$(2),E.Y8G("ngIf",!Xt.sortContains("name")),E.R7$(),E.Y8G("ngIf","name"===Xt.sortCriteria),E.R7$(),E.Y8G("ngIf","-name"===Xt.sortCriteria),E.R7$(2),E.SpI(" ",E.bMT(12,23,"Common.DisplayName")," "),E.R7$(4),E.JRh(E.bMT(16,25,"Common.Type")),E.R7$(2),E.Y8G("ngIf",!Xt.sortContains("valueType")),E.R7$(),E.Y8G("ngIf","valueType"===Xt.sortCriteria),E.R7$(),E.Y8G("ngIf","-valueType"===Xt.sortCriteria),E.R7$(2),E.SpI(" ",E.bMT(22,27,"Common.Description")," "),E.R7$(4),E.JRh(E.bMT(26,29,"Common.Required")),E.R7$(2),E.Y8G("ngIf",!Xt.sortContains("required")),E.R7$(),E.Y8G("ngIf","required"===Xt.sortCriteria),E.R7$(),E.Y8G("ngIf","-required"===Xt.sortCriteria),E.R7$(3),E.JRh(E.bMT(33,31,"Common.UserEditable")),E.R7$(2),E.Y8G("ngIf",!Xt.sortContains("userEditable")),E.R7$(),E.Y8G("ngIf","userEditable"===Xt.sortCriteria),E.R7$(),E.Y8G("ngIf","-userEditable"===Xt.sortCriteria),E.R7$(3),E.JRh(E.bMT(40,33,"Common.Reserved")),E.R7$(4),E.JRh(E.bMT(44,35,"Common.Actions")),E.R7$(3),E.Dyx(Xt.claimTypes),E.R7$(2),E.Y8G("totalResults",null==Xt.claimTypes?null:Xt.claimTypes.length)}}function wt(Ht,oi){if(1&Ht&&E.DNE(0,Ne,4,3,"div",7)(1,xi,49,37),2&Ht){const Xt=E.XpG();E.vxM((null==Xt.claimTypes?null:Xt.claimTypes.length)<1?0:1)}}let Tt=(()=>{class Ht extends ge.u{constructor(Xt,Un,fn,Qn,vi,Be,Ze,ht,jt){super(jt,Be,!0,ht,Ze,vi),this.claimTypeService=Xt,this.errorService=Un,this.titleService=fn,this.localize=Qn,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new st.B,this.searchStream=new st.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}mapSearchTerm(Xt){return this.term=Xt,{searchTerm:this.term,sort:this.sortCriteria}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+S.$9.SITE_TITLE),this.sortStream.pipe((0,Qe.T)(fn=>(this.sortCriteria=fn,{searchTerm:this.term,sort:fn}))).pipe((0,ne.X)(this.searchSource),(0,Y.Z)({searchTerm:this.term,sort:this.sortCriteria}),(0,he.Z)(fn=>this.claimTypeService.getClaimTypes(fn.searchTerm,fn.sort,!0))).subscribe({next:fn=>{this.claimTypes=fn,this.isLoading=!1},error:fn=>{this.errorService.handleError(fn),this.isLoading=!1}})}sort(Xt){this.sortCriteria=this.sortCriteria.startsWith("-")?Xt:"-"+Xt,this.sortStream.next(this.sortCriteria)}sortContains(Xt){return!!this.sortCriteria.includes(Xt)}onSubmitted(Xt){Xt&&this.sortStream.next(this.sortCriteria)}resourceIsReadOnly(Xt){return!this.hasEditPermission}static{this.\u0275fac=function(Un){return new(Un||Ht)(E.rXU(F.X),E.rXU(W.I),E.rXU(M.hE),E.rXU(D.QG),E.rXU(B.Ix),E.rXU(A.c$),E.rXU(y.i),E.rXU(B.nX),E.rXU(V.tw))}}static{this.\u0275cmp=E.VBU({type:Ht,selectors:[["ng-component"]],standalone:!1,features:[E.Vt3],decls:10,vars:9,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"]],template:function(Un,fn){if(1&Un){const Qn=E.RV6();E.nrm(0,"app-title-bar",1),E.nI1(1,"translate"),E.j41(2,"app-add-claimtype",2,0),E.bIt("onSubmitted",function(Be){return E.eBV(Qn),E.Njj(fn.onSubmitted(Be))}),E.k0s(),E.j41(4,"div",3)(5,"app-search",4),E.nI1(6,"translate"),E.mxI("searchTermChange",function(Be){return E.eBV(Qn),E.DH7(fn.searchTerm,Be)||(fn.searchTerm=Be),E.Njj(Be)}),E.bIt("onSearch",function(Be){return E.eBV(Qn),E.Njj(fn.search(Be))}),E.k0s(),E.DNE(7,P,5,3,"app-action-bar")(8,q,1,0,"app-simple-loader")(9,wt,2,1),E.k0s()}2&Un&&(E.Y8G("title",E.bMT(1,5,"Nav.ClaimTypes")),E.R7$(5),E.R50("searchTerm",fn.searchTerm),E.Y8G("placeholder",E.bMT(6,7,"ClaimTypes.SearchPlaceholder")),E.R7$(2),E.vxM(!fn.isLoading&&fn.hasEditPermission?7:-1),E.R7$(),E.vxM(fn.isLoading?8:9))},dependencies:[t.bT,v.z,s.B,dt.n,_t.S,en.d,pe,A.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ht})();var xt=l(3178),Wt=l(4446),un=l(8939),ii=l(2892),Ei=l(8416);const Ii=[{path:"claim-types",component:Tt,canActivate:[ii.h,Wt._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.UserManagerReadOnly],xt.a[xt.a.AllReadOnly],xt.a[xt.a.All]],editPermissions:[xt.a[xt.a.UserManager],xt.a[xt.a.All]]}},{path:"claim-types/:id",component:ct,resolve:{resource:un.R},canDeactivate:[Ei.M],canActivate:[ii.h,Wt._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.All]]}},{path:"claim-types/view/:id",loadChildren:()=>l.e(200).then(l.bind(l,2200)).then(Ht=>Ht.ClaimTypesModule),resolve:{resource:un.R},canActivate:[ii.h,Wt._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.UserManagerReadOnly],xt.a[xt.a.AllReadOnly],xt.a[xt.a.All]]}}];let Ti=(()=>{class Ht{static{this.\u0275fac=function(Un){return new(Un||Ht)}}static{this.\u0275mod=E.$C({type:Ht})}static{this.\u0275inj=E.G2t({imports:[o.iI.forChild(Ii),D.XE.forChild(Ii),o.iI]})}}return Ht})();var Dn=l(8455),Vi=l(367),ji=l(5731),zi=l(4193),ls=l(3665),ut=l(7175),Rt=l(1993),yt=l(8389),nn=l(3843),Vn=l(7677),ln=l(1683),Xn=l(4367);let qn=(()=>{class Ht{static{this.\u0275fac=function(Un){return new(Un||Ht)}}static{this.\u0275mod=E.$C({type:Ht})}static{this.\u0275inj=E.G2t({providers:[un.R],imports:[Ti,t.MD,f.YN,f.X1,m.qP,w.Ss,e.Q_,o.iI,A.h,Dn.p,D.XE,Vi.m,ji.i,zi.c,ls.t,ut.c,Rt.E,yt.w,nn.G,Vn.N,ln.Y,Xn.N]})}}return Ht})()},2390:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>o,u:()=>t});var t=function(f){return f[f.None=0]="None",f[f.Ascending=1]="Ascending",f[f.Descending=2]="Descending",f}(t||{});class o{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(A,e){this.sort=t.None,this.sessionId=A.sessionId,this.scheme=A.scheme,this.created=A.created,this.expires=A.expires,this.renewed=A.renewed,this.user=A.user.name??A.user.identifier,this.link={identifier:A.user.identifier,routeForLink:e}}}},2467:(ot,ve,l)=>{"use strict";l.d(ve,{C:()=>o});var t=l(1360);let o=(()=>{class f{constructor(){this.map=new Map,this.map.set("name","Common.Name"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("secret","Common.Secret"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("allowedScopes","Common.AllowedScopes"),this.map.set("resources","Scopes.Resources.Label"),this.map.set("allowIntrospection","Apis.AllowIntrospection.Label"),this.map.set("customGrantTypes","Apis.CustomGrantTypes.Label"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(e,w){return this.map.get(e)??e}static{this.\u0275fac=function(w){return new(w||f)}}static{this.\u0275pipe=t.EJ8({name:"keyToString",type:f,pure:!0,standalone:!1})}}return f})()},2507:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var o=ot.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=o,o.create=function(){A||function w(){f="\x80",f+=t.util.fillString("\0",64),e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],A=!0}();var D=null,S=t.util.createBuffer(),g=new Array(64),k={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){k.messageLength=0,k.fullMessageLength=k.messageLength64=[];for(var z=k.messageLengthSize/4,u=0;u<z;++u)k.fullMessageLength.push(0);return S=t.util.createBuffer(),D={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},k}};return k.start(),k.update=function(z,u){"utf8"===u&&(z=t.util.encodeUtf8(z));var E=z.length;k.messageLength+=E,E=[E/4294967296>>>0,E>>>0];for(var B=k.fullMessageLength.length-1;B>=0;--B)k.fullMessageLength[B]+=E[1],E[1]=E[0]+(k.fullMessageLength[B]/4294967296>>>0),k.fullMessageLength[B]=k.fullMessageLength[B]>>>0,E[0]=E[1]/4294967296>>>0;return S.putBytes(z),m(D,g,S),(S.read>2048||0===S.length())&&S.compact(),k},k.digest=function(){var z=t.util.createBuffer();z.putBytes(S.bytes()),z.putBytes(f.substr(0,k.blockLength-(k.fullMessageLength[k.fullMessageLength.length-1]+k.messageLengthSize&k.blockLength-1)));for(var B,F=8*k.fullMessageLength[0],M=0;M<k.fullMessageLength.length-1;++M)z.putInt32((F+=(B=8*k.fullMessageLength[M+1])/4294967296>>>0)>>>0),F=B>>>0;z.putInt32(F);var W={h0:D.h0,h1:D.h1,h2:D.h2,h3:D.h3,h4:D.h4,h5:D.h5,h6:D.h6,h7:D.h7};m(W,g,z);var y=t.util.createBuffer();return y.putInt32(W.h0),y.putInt32(W.h1),y.putInt32(W.h2),y.putInt32(W.h3),y.putInt32(W.h4),y.putInt32(W.h5),y.putInt32(W.h6),y.putInt32(W.h7),y},k};var f=null,A=!1,e=null;function m(D,S,g){for(var k,z,V,F,M,W,y,X,Z,v,L,Q,te=g.length();te>=64;){for(F=0;F<16;++F)S[F]=g.getInt32();for(;F<64;++F)S[F]=(k=((k=S[F-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10)+S[F-7]+(z=((z=S[F-15])>>>7|z<<25)^(z>>>18|z<<14)^z>>>3)+S[F-16]|0;for(M=D.h0,W=D.h1,y=D.h2,X=D.h3,Z=D.h4,v=D.h5,L=D.h6,Q=D.h7,F=0;F<64;++F)V=M&W|y&(M^W),k=Q+((Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7))+(L^Z&(v^L))+e[F]+S[F],Q=L,L=v,v=Z,Z=X+k>>>0,X=y,y=W,W=M,M=k+(z=((M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10))+V)>>>0;D.h0=D.h0+M|0,D.h1=D.h1+W|0,D.h2=D.h2+y|0,D.h3=D.h3+X|0,D.h4=D.h4+Z|0,D.h5=D.h5+v|0,D.h6=D.h6+L|0,D.h7=D.h7+Q|0,te-=64}}},2510:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>k});var t=l(1360),o=l(8434),f=l(9417),A=l(8018);const e=["*"];function w(z,u){1&z&&(t.j41(0,"span"),t.nrm(1,"span",10),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&z&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"Auditing.ShowFilters")," "))}function m(z,u){1&z&&(t.j41(0,"span"),t.nrm(1,"span",11),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&z&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"Auditing.HideFilters")," "))}function D(z,u){if(1&z){const E=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(E);const V=t.XpG();return t.Njj(V.showAdvancedFilters=!V.showAdvancedFilters)}),t.DNE(1,w,4,3,"span",9)(2,m,4,3,"span",9),t.k0s()}if(2&z){const E=t.XpG();t.R7$(),t.Y8G("ngIf",!E.showAdvancedFilters),t.R7$(),t.Y8G("ngIf",E.showAdvancedFilters)}}function S(z,u){if(1&z){const E=t.RV6();t.j41(0,"li",18)(1,"button",19),t.bIt("click",function(){const V=t.eBV(E).$implicit,F=t.XpG(2);return t.Njj(F.filter(V.name))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&z){const E=u.$implicit,B=t.XpG(2);t.R7$(),t.Y8G("id","filter-option-"+E.name)("ngClass",B.isShowing(E.name)?"tw-btn":"tw-btn-link"),t.R7$(),t.SpI(" ",t.bMT(3,3,E.label)," ")}}function g(z,u){if(1&z&&(t.j41(0,"div",12)(1,"div",13),t.SdG(2),t.j41(3,"div",14)(4,"p",15),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"ul",16),t.DNE(8,S,4,5,"li",17),t.k0s()()(),t.nrm(9,"hr"),t.k0s()),2&z){const E=t.XpG();t.Y8G("hidden",!E.showAdvancedFilters),t.R7$(5),t.JRh(t.bMT(6,3,"Auditing.Showing")),t.R7$(3),t.Y8G("ngForOf",E.availableFilters)}}let k=(()=>{class z{constructor(){this.searchTermChange=new t.bkB,this.placeholder=null,this.onSearch=new t.bkB,this.showAdvancedFilters=!1,this.availableFilters=[],this.activeFilters=[],this.appliedFilters=new t.bkB}ngOnInit(){this.activeFilters=this.availableFilters.filter(E=>E.activeByDefault).map(E=>E.name)}search(E){this.onSearch.emit(E)}filter(E){if(this.activeFilters.includes(E)){const B=this.activeFilters.indexOf(E);this.activeFilters.splice(B,1)}else this.activeFilters.push(E);this.appliedFilters.emit(this.activeFilters)}isShowing(E){return this.activeFilters.includes(E)}static{this.\u0275fac=function(B){return new(B||z)}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["app-search"]],inputs:{searchTerm:"searchTerm",placeholder:"placeholder",availableFilters:"availableFilters"},outputs:{searchTermChange:"searchTermChange",onSearch:"onSearch",appliedFilters:"appliedFilters"},standalone:!1,ngContentSelectors:e,decls:10,vars:7,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","class","tw-btn-link tw-btn-small tw-px-0 mt-2","type","button","aria-expanded","showAdvancedFilters",3,"click",4,"ngIf"],["id","toggleFilters","class","tw-mt-3 tw-mb-6","aria-labelledby","showFilterButton",3,"hidden",4,"ngIf"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],["class","tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-mr-2"],[3,"click","id","ngClass"]],template:function(B,V){1&B&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"label",2),t.nrm(3,"span",3),t.j41(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"input",5),t.bIt("ngModelChange",function(M){return V.searchTermChange.emit(M)})("keyup",function(M){return V.search(M)}),t.k0s()(),t.DNE(8,D,3,2,"button",6)(9,g,10,5,"div",7),t.k0s()),2&B&&(t.R7$(5),t.JRh(t.bMT(6,5,"Common.Search")),t.R7$(2),t.Y8G("ngModel",V.searchTerm)("placeholder",V.placeholder),t.R7$(),t.Y8G("ngIf",V.availableFilters.length>0),t.R7$(),t.Y8G("ngIf",V.availableFilters.length>0))},dependencies:[o.YU,o.Sq,o.bT,f.me,f.BC,f.vS,A.D9],encapsulation:2})}}return z})()},2552:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>W});var t=l(1360),o=l(8434),f=l(9417),A=l(8018);const e=(y,X,Z)=>({"tw-btn-disabled":y,"tw-bg-green-200":X,"tw-bg-primary-200":Z}),w=(y,X,Z)=>({"tw-bg-green-500":y,"tw-bg-primary-500":X,"tw-bg-grey-200":Z}),m=(y,X,Z)=>({"tw-text-white":y,"tw-text-secondary-500":X,"tw-text-grey-400 group-hover:tw-text-grey-700":Z}),D=(y,X)=>({"fas fa-check tw-text-xl trans":y,"far fa-arrow-alt-circle-up tw-text-2xl":X}),S=(y,X,Z)=>({"tw-text-green-800":y,"tw-text-primary-800":X,"tw-text-navy-500":Z}),g=(y,X,Z)=>({"tw-text-green-600":y,"tw-text-primary-600":X,"tw-text-grey-600":Z}),k=(y,X,Z)=>({"tw-text-green-500":y,"tw-text-primary-500":X,"tw-text-grey-300":Z});function z(y,X){1&y&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&y&&(t.R7$(),t.JRh(t.bMT(2,1,"Clients.Selected")))}let u=(()=>{class y{constructor(){this.select=new t.bkB}static{this.\u0275fac=function(v){return new(v||y)}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["app-type-option"]],inputs:{id:"id",btnId:"btnId",title:"title",summary:"summary",icon:"icon",selected:"selected",type:"type",activeType:"activeType",starterModeProtected:"starterModeProtected",disabled:"disabled"},outputs:{select:"select"},standalone:!1,decls:16,vars:50,consts:[[3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel","disabled"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],["id","iconBg",1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","iconTextSpan",3,"ngClass"],["id","checkIconSpan",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],["id","titleSpan",1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","summarySpan",1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],["id","iconSpan",3,"ngClass"],[1,"sr-only"]],template:function(v,L){1&v&&(t.j41(0,"li",0)(1,"input",1),t.bIt("click",function(){return L.select.emit(L.type)}),t.k0s(),t.j41(2,"label",2),t.bIt("click",function(){return L.select.emit(L.type)}),t.j41(3,"div",3)(4,"span",4),t.nrm(5,"span",5),t.k0s(),t.DNE(6,z,3,3,"span",6),t.k0s(),t.j41(7,"div",7)(8,"span",8),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"span",9),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.j41(14,"div",10),t.nrm(15,"span",11),t.k0s()()()),2&v&&(t.FS9("id",L.id),t.R7$(),t.FS9("id",L.btnId),t.FS9("value",L.type),t.Y8G("ngModel",L.activeType)("disabled",L.disabled),t.R7$(),t.FS9("for",L.btnId),t.Y8G("ngClass",t.sMw(23,e,L.disabled,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected)),t.R7$(),t.Y8G("ngClass",t.sMw(27,w,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.Y8G("ngClass",t.sMw(31,m,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.Y8G("ngClass",t.l_i(35,D,!L.starterModeProtected,L.starterModeProtected)),t.R7$(),t.Y8G("ngIf",L.selected),t.R7$(2),t.Y8G("ngClass",t.sMw(38,S,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.SpI(" ",t.bMT(10,19,L.title)," "),t.R7$(2),t.Y8G("ngClass",t.sMw(42,g,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),t.R7$(),t.SpI(" ",t.bMT(13,21,L.summary)," "),t.R7$(3),t.ZvI("",L.icon," tw-text-3xl tw-transition-all tw-ease-in-out"),t.Y8G("ngClass",t.sMw(46,k,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)))},dependencies:[o.YU,o.bT,f.me,f.Fm,f.BC,f.vS,A.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return y})();const E=(y,X)=>X.id;function B(y,X){1&y&&(t.j41(0,"h6",1),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&y&&(t.R7$(),t.JRh(t.bMT(2,1,"StarterMode.Basic")))}function V(y,X){if(1&y){const Z=t.RV6();t.j41(0,"div",1)(1,"app-type-option",3),t.bIt("select",function(L){t.eBV(Z);const Q=t.XpG();return t.Njj(Q.select.emit(L))}),t.k0s()()}if(2&y){const Z=X.$implicit,v=t.XpG();t.R7$(),t.Y8G("id",Z.id)("btnId",Z.btnId)("title",Z.title)("summary",Z.summary)("icon",Z.icon)("selected",Z.selectedTypes.includes(v.activeType))("type",Z.type)("summary",Z.summary)("disabled",Z.disabled)}}function F(y,X){if(1&y){const Z=t.RV6();t.j41(0,"div",1)(1,"app-type-option",5),t.bIt("select",function(L){t.eBV(Z);const Q=t.XpG(2);return t.Njj(Q.select.emit(L))}),t.k0s()()}if(2&y){const Z=X.$implicit,v=t.XpG(2);t.R7$(),t.Y8G("id",Z.id)("btnId",Z.btnId)("title",Z.title)("summary",Z.summary)("icon",Z.icon)("selected",v.activeType===Z.type)("type",Z.type)("summary",Z.summary)("starterModeProtected",v.isStarterMode)("disabled",Z.disabled)}}function M(y,X){if(1&y&&(t.j41(0,"h6",1),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"ul",4),t.Z7z(4,F,2,10,"div",1,E),t.k0s()),2&y){const Z=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,"StarterMode.Enterprise")),t.R7$(3),t.Dyx(Z.disabledOptions())}}let W=(()=>{class y{constructor(){this.select=new t.bkB}availableOptions(){return this.isStarterMode?this.options.filter(Z=>Z.starterMode):this.options}disabledOptions(){return this.isStarterMode?this.options.filter(Z=>!Z.starterMode):[]}static{this.\u0275fac=function(v){return new(v||y)}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["app-type-selector"]],inputs:{id:"id",options:"options",activeType:"activeType",isStarterMode:"isStarterMode"},outputs:{select:"select"},standalone:!1,decls:6,vars:2,consts:[["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","availableTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","disabled"],["id","disabledTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","starterModeProtected","disabled"]],template:function(v,L){1&v&&(t.j41(0,"div",0),t.DNE(1,B,3,3,"h6",1),t.j41(2,"ul",2),t.Z7z(3,V,2,9,"div",1,E),t.k0s(),t.DNE(5,M,6,3),t.k0s()),2&v&&(t.R7$(),t.vxM(L.isStarterMode?1:-1),t.R7$(2),t.Dyx(L.availableOptions()),t.R7$(2),t.vxM(L.isStarterMode?5:-1))},dependencies:[u,A.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return y})()},2571:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>w});var t=l(9417),o=l(8434),f=l(8018),A=l(1683),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[o.MD,t.YN,A.Y,f.h]})}}return m})()},2653:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>o});var t=l(1360);let o=(()=>{class f{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(w){return new(w||f)}}static{this.\u0275prov=t.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},2734:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>A});var t=l(3165),o=l(7263),f=l(1360);let A=(()=>{class e{buildParams(m,D,S,g,k,z,u,E){let B=new t.Nl;return B=this.addStringParam(B,"auditAction",m?.auditAction),B=this.addStringParam(B,"subject",m?.subject),B=this.addStringParam(B,"resource",m?.resourceName),B=this.addStringParam(B,"source",m?.source),B=this.addAnyParam(B,"success",u),B=this.addStringParam(B,"sort",z),B=this.addStringParam(B,"to",S),B=this.addStringParam(B,"from",D),B=this.addAnyParam(B,"page",g),B=this.addAnyParam(B,"pageSize",k),(0,o.hX)(E)||(B=this.addAnyParam(B,"bySubject",E)),B}addAnyParam(m,D,S){return(0,o.hX)(S)?m:m.append(D,String(S))}addStringParam(m,D,S){return(0,o.gP)(S)?m:m.append(D,S)}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})()},2758:(ot,ve,l)=>{var t=l(6589);l(7097);var o=t.asn1;ve.privateKeyValidator={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},ve.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},2771:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>f});var t=l(1413),o=l(6129);class f extends t.B{constructor(e=1/0,w=1/0,m=o.U){super(),this._bufferSize=e,this._windowTime=w,this._timestampProvider=m,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=w===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,w)}next(e){const{isStopped:w,_buffer:m,_infiniteTimeWindow:D,_timestampProvider:S,_windowTime:g}=this;w||(m.push(e),!D&&m.push(S.now()+g)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const w=this._innerSubscribe(e),{_infiniteTimeWindow:m,_buffer:D}=this,S=D.slice();for(let g=0;g<S.length&&!e.closed;g+=m?1:2)e.next(S[g]);return this._checkFinalizedStatuses(e),w}_trimBuffer(){const{_bufferSize:e,_timestampProvider:w,_buffer:m,_infiniteTimeWindow:D}=this,S=(D?1:2)*e;if(e<1/0&&S<m.length&&m.splice(0,m.length-S),!D){const g=w.now();let k=0;for(let z=1;z<m.length&&m[z]<=g;z+=2)k=z;k&&m.splice(0,k+1)}}}},2806:(ot,ve,l)=>{"use strict";l.d(ve,{Al:()=>g,Aq:()=>Fe,Bu:()=>N,Fv:()=>D,GL:()=>w,Xt:()=>m,Yr:()=>R,Zu:()=>A,mc:()=>rt,x:()=>S});var t=l(1360);class o{constructor(vt,Ue){this.open=vt,this.close=Ue||vt}isManual(){return"manual"===this.open||"manual"===this.close}}const f={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function A(lt,vt=f){const Ue=(lt||"").trim();if(0===Ue.length)return[];const Ye=Ue.split(/\s+/).map(it=>it.split(":")).map(it=>{const Le=vt[it[0]]||it;return new o(Le[0],Le[1])}),He=Ye.filter(it=>it.isManual());if(He.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===He.length&&Ye.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ye}function w(lt,vt){const Ue=A(vt.triggers),Ye=vt.target;if(1===Ue.length&&Ue[0].isManual())return Function.prototype;const He=[],it=[],Le=()=>{it.forEach(Ve=>He.push(Ve())),it.length=0};return Ue.forEach(Ve=>{const Xe=Ve.open===Ve.close,je=Xe?vt.toggle:vt.show;if(!Xe&&Ve.close&&vt.hide){const ct=Ve.close,st=vt.hide;it.push(()=>lt.listen(Ye,ct,st))}je&&He.push(lt.listen(Ye,Ve.open,()=>je(Le)))}),()=>{He.forEach(Ve=>Ve())}}function m(lt,vt){return vt.outsideClick?lt.listen("document","click",Ue=>{vt.target&&vt.target.contains(Ue.target)||vt.targets&&vt.targets.some(Ye=>Ye.contains(Ue.target))||vt.hide&&vt.hide()}):Function.prototype}function D(lt,vt){return vt.outsideEsc?lt.listen("document","keyup.esc",Ue=>{vt.target&&vt.target.contains(Ue.target)||vt.targets&&vt.targets.some(Ye=>Ye.contains(Ue.target))||vt.hide&&vt.hide()}):Function.prototype}const S=typeof window<"u"&&window||{},g=S.document;var X=function(lt){return lt.isBs4="bs4",lt.isBs5="bs5",lt}(X||{});let Z;function v(){const lt=S.document.createElement("span");lt.innerText="testing bs version",lt.classList.add("d-none"),lt.classList.add("pl-1"),S.document.head.appendChild(lt);const vt=S.getComputedStyle(lt).paddingLeft;return vt&&parseFloat(vt)?(S.document.head.removeChild(lt),"bs4"):(S.document.head.removeChild(lt),"bs5")}function N(){return{isBs4:(Z||(Z=v()),"bs4"===Z),isBs5:(Z||(Z=v()),"bs5"===Z)}}function R(){return function(Ue,Ye){const He=` __${Ye}Value`;Object.defineProperty(Ue,Ye,{get(){return this[He]},set(it){const Le=this[He];this[He]=it,Le!==it&&this[Ye+"Change"]&&this[Ye+"Change"].emit(it)}})}}class Fe{static reflow(vt){}static getStyles(vt){let Ue=vt.ownerDocument.defaultView;return(!Ue||!Ue.opener)&&(Ue=S),Ue.getComputedStyle(vt)}static stackOverflowConfig(){const vt=function fe(){const lt=N(),vt=Object.keys(lt).find(Ue=>lt[Ue]);return X[vt]}();return{crossorigin:"anonymous",integrity:"bs5"===vt?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===vt?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const we={},We=typeof console>"u"||!("warn"in console);function rt(lt){!(0,t.naY)()||We||lt in we||(we[lt]=!0,console.warn(lt))}},2858:(ot,ve,l)=>{"use strict";l.d(ve,{AU:()=>L,zI:()=>te});var t=l(6799),o=l(9417),f=l(4414),A=l(1413),e=l(590),w=l(1360),m=l(5794),D=l(8018),S=l(8434);function g(N,fe){if(1&N&&(w.j41(0,"li",10)(1,"label",22),w.nrm(2,"input",23),w.j41(3,"span"),w.EFF(4),w.nI1(5,"translate"),w.k0s()()()),2&N){const oe=w.XpG();w.R7$(2),w.Y8G("value",oe.CertificateAction.DoNotSet),w.R7$(2),w.JRh(w.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function k(N,fe){if(1&N&&(w.j41(0,"li",10)(1,"label",24),w.nrm(2,"input",25),w.j41(3,"span"),w.EFF(4),w.nI1(5,"translate"),w.k0s()()()),2&N){const oe=w.XpG();w.R7$(2),w.Y8G("value",oe.CertificateAction.UseExisting),w.R7$(2),w.JRh(w.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function z(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"tr")(1,"td",39),w.EFF(2),w.k0s(),w.j41(3,"td")(4,"button",40),w.bIt("click",function(){const Fe=w.eBV(oe).$implicit,we=w.XpG(5);return w.Njj(we.deleteCert(Fe))}),w.EFF(5),w.nrm(6,"span",41),w.j41(7,"span",37),w.EFF(8),w.nI1(9,"translate"),w.k0s()()()()}if(2&N){const oe=fe.$implicit,R=w.XpG(5);w.R7$(2),w.SpI(" ",null==oe?null:oe.subject," "),w.R7$(3),w.SpI(" ",R.deleteDisabled," "),w.R7$(3),w.JRh(w.bMT(9,3,"Clients.Saml.DeleteCert"))}}function u(N,fe){if(1&N&&(w.qex(0),w.DNE(1,z,10,5,"tr",38),w.bVm()),2&N){const oe=w.XpG(4);w.R7$(),w.Y8G("ngForOf",oe.data.certificates.SigningCertificates)}}function E(N,fe){if(1&N){const oe=w.RV6();w.qex(0),w.j41(1,"tr")(2,"td",39),w.EFF(3),w.k0s(),w.j41(4,"td")(5,"button",40),w.bIt("click",function(){w.eBV(oe);const Fe=w.XpG(4);return w.Njj(Fe.deleteCert(null))}),w.EFF(6),w.nrm(7,"span",41),w.j41(8,"span",37),w.EFF(9),w.nI1(10,"translate"),w.k0s()()()(),w.bVm()}if(2&N){const oe=w.XpG(4);w.R7$(3),w.SpI(" ",oe.data.certificates.EncryptionCertificate.subject," "),w.R7$(3),w.SpI(" ",oe.deleteDisabled," "),w.R7$(3),w.JRh(w.bMT(10,3,"Clients.Saml.DeleteCert"))}}function B(N,fe){if(1&N&&(w.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),w.EFF(4),w.nI1(5,"translate"),w.k0s(),w.j41(6,"th",36)(7,"span",37),w.EFF(8),w.nI1(9,"translate"),w.k0s()()()(),w.j41(10,"tbody"),w.DNE(11,u,2,1,"ng-container",13)(12,E,11,5,"ng-container",13),w.k0s()()),2&N){const oe=w.XpG(3);w.R7$(4),w.JRh(w.bMT(5,4,"Common.Subject")),w.R7$(4),w.JRh(w.bMT(9,6,"Common.Actions")),w.R7$(3),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Request),w.R7$(),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Response)}}function V(N,fe){if(1&N&&(w.j41(0,"div"),w.DNE(1,B,13,8,"table",33),w.k0s()),2&N){const oe=w.XpG(2);w.R7$(),w.Y8G("ngIf",oe.activeTab==oe.ActiveTab.Request?oe.data.certificates.SigningCertificates.length>0:oe.data.certificates.EncryptionCertificate)}}function F(N,fe){1&N&&(w.j41(0,"div",42)(1,"div"),w.EFF(2),w.nI1(3,"translate"),w.k0s()()),2&N&&(w.R7$(2),w.JRh(w.bMT(3,1,"Clients.NoCertificates")))}function M(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(oe);const Fe=w.XpG(3);return w.Njj(Fe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&N&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.AddCert")))}function W(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(oe);const Fe=w.XpG(3);return w.Njj(Fe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&N&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function y(N,fe){if(1&N&&(w.qex(0),w.DNE(1,M,3,3,"button",32)(2,W,3,3,"button",32),w.bVm()),2&N){const oe=w.XpG(2);w.R7$(),w.Y8G("ngIf",!oe.data.certificates.EncryptionCertificate||""===oe.data.certificates.EncryptionCertificate),w.R7$(),w.Y8G("ngIf",oe.data.certificates.EncryptionCertificate&&""!==oe.data.certificates.EncryptionCertificate)}}function X(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(oe);const Fe=w.XpG(2);return w.Njj(Fe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&N&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.AddCert")))}function Z(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),w.bIt("click",function(){w.eBV(oe);const Fe=w.XpG();return w.Njj(Fe.activeTab=Fe.ActiveTab.Request)}),w.EFF(4),w.nI1(5,"translate"),w.k0s()(),w.j41(6,"li",27)(7,"button",29),w.bIt("click",function(){w.eBV(oe);const Fe=w.XpG();return w.Njj(Fe.activeTab=Fe.ActiveTab.Response)}),w.EFF(8),w.nI1(9,"translate"),w.k0s()()(),w.DNE(10,V,2,1,"div",13)(11,F,4,3,"div",30),w.j41(12,"div",31),w.DNE(13,y,3,2,"ng-container",13)(14,X,3,3,"button",32),w.k0s()()}if(2&N){const oe=w.XpG();w.R7$(3),w.AVh("active",oe.activeTab===oe.ActiveTab.Request),w.R7$(),w.JRh(w.bMT(5,10,"Clients.Saml.Request")),w.R7$(3),w.AVh("active",oe.activeTab===oe.ActiveTab.Response),w.R7$(),w.JRh(w.bMT(9,12,"Clients.Saml.Response")),w.R7$(2),w.Y8G("ngIf",oe.data.certificates),w.R7$(),w.Y8G("ngIf",oe.activeTab==oe.ActiveTab.Request&&0===oe.data.certificates.SigningCertificates.length||oe.activeTab==oe.ActiveTab.Response&&!oe.data.certificates.EncryptionCertificate),w.R7$(2),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Response),w.R7$(),w.Y8G("ngIf",oe.activeTab===oe.ActiveTab.Request)}}function v(N,fe){if(1&N){const oe=w.RV6();w.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),w.mxI("ngModelChange",function(Fe){w.eBV(oe);const we=w.XpG();return w.DH7(we.data.rememberCertificateAction,Fe)||(we.data.rememberCertificateAction=Fe),w.Njj(Fe)}),w.k0s(),w.j41(5,"span",48),w.EFF(6),w.nI1(7,"translate"),w.k0s()()()()()}if(2&N){const oe=w.XpG();w.R7$(4),w.R50("ngModel",oe.data.rememberCertificateAction),w.R7$(2),w.SpI(" ",w.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var L=function(N){return N[N.DoNotSet=0]="DoNotSet",N[N.UseExisting=1]="UseExisting",N[N.ManuallyCreate=2]="ManuallyCreate",N}(L||{}),Q=function(N){return N[N.Request=0]="Request",N[N.Response=1]="Response",N}(Q||{});let te=(()=>{class N extends t.P{get data(){return this._selectableImportResource}set data(oe){this._selectableImportResource=oe}constructor(oe,R,Fe,we){super(),this.fb=oe,this.changeDetector=R,this.toastr=Fe,this.translate=we,this.CertificateAction=L,this.ActiveTab=Q}ngOnInit(){if(this.form=this.fb.group({certificateAction:[L.UseExisting,o.k0.required]}),this.data){let R;R=this.data.existingHasCertificates?this.data.certificateAction===L.ManuallyCreate?L.ManuallyCreate:L.UseExisting:L.DoNotSet,this.data.certificateAction=R,this.form.get("certificateAction").setValue(R),this.displayResourceType=e.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===L.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=Q.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=Q.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=Q.Response))),this.form.valueChanges.subscribe(()=>{const oe=this.form.value.certificateAction;this.data.certificateAction=oe,oe===L.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=Q.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new A.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(oe=>{this.activeTab===Q.Request?(this.stripContentTypeFromData(oe),this.data.certificates.SigningCertificates.some(R=>R.base64Cert===oe.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(oe)):(this.stripContentTypeFromData(oe),this.data.certificates.EncryptionCertificate=oe)}),this.openModal(f.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(oe){const R=oe.base64Cert.split("base64,");R.length>1&&(oe.base64Cert=R[1])}deleteCert(oe){if(this.activeTab===Q.Request){const R=this.data.certificates.SigningCertificates.indexOf(oe);this.data.certificates.SigningCertificates.splice(R,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===L.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===L.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===L.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===L.DoNotSet||this.data.certificateAction===L.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(R){return new(R||N)(w.rXU(o.ze),w.rXU(w.gRc),w.rXU(m.tw),w.rXU(D.c$))}}static{this.\u0275cmp=w.VBU({type:N,selectors:[["app-import-certificates"]],standalone:!1,features:[w.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(R,Fe){if(1&R){const we=w.RV6();w.j41(0,"div",1)(1,"h2",2)(2,"span",3),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"span",4),w.EFF(6),w.nI1(7,"translate"),w.k0s()(),w.j41(8,"div",5)(9,"p",6),w.EFF(10),w.nI1(11,"translate"),w.k0s()(),w.j41(12,"form",7)(13,"ul",8),w.DNE(14,g,6,4,"li",9)(15,k,6,4,"ng-template",null,0,w.C5r),w.j41(17,"li",10)(18,"label",11),w.nrm(19,"input",12),w.j41(20,"span"),w.EFF(21),w.nI1(22,"translate"),w.k0s()()()()(),w.DNE(23,Z,15,14,"div",13)(24,v,8,4,"div",14),w.k0s(),w.nrm(25,"div",15),w.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),w.bIt("click",function(){return w.eBV(we),w.Njj(Fe.goNext())}),w.EFF(30),w.nI1(31,"translate"),w.k0s(),w.j41(32,"button",20),w.bIt("click",function(){return w.eBV(we),w.Njj(Fe.back())}),w.EFF(33),w.nI1(34,"translate"),w.k0s()(),w.j41(35,"button",21),w.bIt("click",function(){return w.eBV(we),w.Njj(Fe.cancel())}),w.EFF(36),w.nI1(37,"translate"),w.k0s()()()}if(2&R){const we=w.sdS(16);w.R7$(3),w.SpI("",w.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),w.R7$(3),w.Lme("",null==Fe.data?null:Fe.data.displayName," (",w.bMT(7,17,"Clients.Import.Wizard.Secrets."+Fe.displayResourceType),")"),w.R7$(4),w.JRh(w.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),w.R7$(2),w.Y8G("formGroup",Fe.form),w.R7$(2),w.Y8G("ngIf",!(null!=Fe.data&&Fe.data.existingHasCertificates))("ngIfElse",we),w.R7$(5),w.Y8G("value",Fe.CertificateAction.ManuallyCreate),w.R7$(2),w.JRh(w.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),w.R7$(2),w.Y8G("ngIf",Fe.showCertificatePicker),w.R7$(),w.Y8G("ngIf",!Fe.showCertificatePicker),w.R7$(5),w.Y8G("disabled",Fe.disableNext()),w.R7$(),w.JRh(w.bMT(31,23,"Common.Next")),w.R7$(3),w.JRh(w.bMT(34,25,"Common.Back")),w.R7$(3),w.JRh(w.bMT(37,27,"Common.Cancel"))}},dependencies:[S.Sq,S.bT,o.qT,o.me,o.Zm,o.Fm,o.BC,o.cb,o.vS,o.j4,o.JD,D.D9],encapsulation:2})}}return N})()},2865:(ot,ve,l)=>{"use strict";l.d(ve,{Rz:()=>F,DF:()=>ft});var t=l(2806),o=l(1360),f=l(9377),A=l(1413),e=l(7786),w=l(3726),m=l(7673),D=l(6780),S=l(8359);const g={schedule(pe){let de=requestAnimationFrame,P=cancelAnimationFrame;const{delegate:q}=g;q&&(de=q.requestAnimationFrame,P=q.cancelAnimationFrame);const Ne=de(De=>{P=void 0,pe(De)});return new S.yU(()=>P?.(Ne))},requestAnimationFrame(...pe){const{delegate:de}=g;return(de?.requestAnimationFrame||requestAnimationFrame)(...pe)},cancelAnimationFrame(...pe){const{delegate:de}=g;return(de?.cancelAnimationFrame||cancelAnimationFrame)(...pe)},delegate:void 0};var z=l(9687);const E=new class u extends z.q{flush(de){let P;this._active=!0,de?P=de.id:(P=this._scheduled,this._scheduled=void 0);const{actions:q}=this;let Ne;de=de||q.shift();do{if(Ne=de.execute(de.state,de.delay))break}while((de=q[0])&&de.id===P&&q.shift());if(this._active=!1,Ne){for(;(de=q[0])&&de.id===P&&q.shift();)de.unsubscribe();throw Ne}}}(class k extends D.R{constructor(de,P){super(de,P),this.scheduler=de,this.work=P}requestAsyncId(de,P,q=0){return null!==q&&q>0?super.requestAsyncId(de,P,q):(de.actions.push(this),de._scheduled||(de._scheduled=g.requestAnimationFrame(()=>de.flush(void 0))))}recycleAsyncId(de,P,q=0){var Ne;if(null!=q?q>0:this.delay>0)return super.recycleAsyncId(de,P,q);const{actions:De}=de;null!=P&&P===de._scheduled&&(null===(Ne=De[De.length-1])||void 0===Ne?void 0:Ne.id)!==P&&(g.cancelAnimationFrame(P),de._scheduled=void 0)}});var V=function(pe){return pe.top="top",pe.bottom="bottom",pe.left="left",pe.right="right",pe.auto="auto",pe.end="right",pe.start="left",pe["top left"]="top left",pe["top right"]="top right",pe["right top"]="right top",pe["right bottom"]="right bottom",pe["bottom right"]="bottom right",pe["bottom left"]="bottom left",pe["left bottom"]="left bottom",pe["left top"]="left top",pe["top start"]="top left",pe["top end"]="top right",pe["end top"]="right top",pe["end bottom"]="right bottom",pe["bottom end"]="bottom right",pe["bottom start"]="bottom left",pe["start bottom"]="start bottom",pe["start top"]="left top",pe}(V||{}),F=function(pe){return pe.top="top",pe.bottom="bottom",pe.left="start",pe.right="end",pe.auto="auto",pe.end="end",pe.start="start",pe["top left"]="top start",pe["top right"]="top end",pe["right top"]="end top",pe["right bottom"]="end bottom",pe["bottom right"]="bottom end",pe["bottom left"]="bottom start",pe["left bottom"]="start bottom",pe["left top"]="start top",pe["top start"]="top start",pe["top end"]="top end",pe["end top"]="end top",pe["end bottom"]="end bottom",pe["bottom end"]="bottom end",pe["bottom start"]="bottom start",pe["start bottom"]="start bottom",pe["start top"]="start top",pe}(F||{});function M(pe,de){if(1!==pe.nodeType)return[];const q=pe.ownerDocument.defaultView?.getComputedStyle(pe,null);return de?q&&q[de]:q}function W(pe){if(!pe)return document.documentElement;let q,P=pe?.offsetParent;for(;null===P&&pe.nextElementSibling&&q!==pe.nextElementSibling;)q=pe.nextElementSibling,P=q.offsetParent;const Ne=P&&P.nodeName;return Ne&&"BODY"!==Ne&&"HTML"!==Ne?P&&-1!==["TH","TD","TABLE"].indexOf(P.nodeName)&&"static"===M(P,"position")?W(P):P:q?q.ownerDocument.documentElement:document.documentElement}function X(pe){return null!==pe.parentNode?X(pe.parentNode):pe}function Z(pe,de){if(!(pe&&pe.nodeType&&de&&de.nodeType))return document.documentElement;const P=pe.compareDocumentPosition(de)&Node.DOCUMENT_POSITION_FOLLOWING,q=P?pe:de,Ne=P?de:pe,De=document.createRange();De.setStart(q,0),De.setEnd(Ne,0);const et=De.commonAncestorContainer;if(pe!==et&&de!==et||q.contains(Ne))return function y(pe){const{nodeName:de}=pe;return"BODY"!==de&&("HTML"===de||W(pe.firstElementChild)===pe)}(et)?et:W(et);const gt=X(pe);return gt.host?Z(gt.host,de):Z(pe,X(de).host)}function v(pe){if(!pe||!pe.parentElement)return document.documentElement;let de=pe.parentElement;for(;de?.parentElement&&"none"===M(de,"transform");)de=de.parentElement;return de||document.documentElement}function L(pe,de){const P="x"===de?"Left":"Top",q="Left"===P?"Right":"Bottom";return parseFloat(pe[`border${P}Width`])+parseFloat(pe[`border${q}Width`])}function Q(pe,de,P){return Math.max(de[`offset${pe}`],de[`scroll${pe}`],P[`client${pe}`],P[`offset${pe}`],P[`scroll${pe}`],0)}function te(pe){const de=pe.body,P=pe.documentElement;return{height:Q("Height",de,P),width:Q("Width",de,P)}}function N(pe){return{...pe,right:(pe.left||0)+pe.width,bottom:(pe.top||0)+pe.height}}function oe(pe){return"number"==typeof pe||"[object Number]"===Object.prototype.toString.call(pe)}function R(pe){const de=pe.getBoundingClientRect();if(!(de&&oe(de.top)&&oe(de.left)&&oe(de.bottom)&&oe(de.right)))return de;const P={left:de.left,top:de.top,width:de.right-de.left,height:de.bottom-de.top},q="HTML"===pe.nodeName?te(pe.ownerDocument):void 0,Ne=q?.width||pe.clientWidth||oe(de.right)&&oe(P.left)&&de.right-P.left||0,De=q?.height||pe.clientHeight||oe(de.bottom)&&oe(P.top)&&de.bottom-P.top||0;let et=pe.offsetWidth-Ne,gt=pe.offsetHeight-De;if(et||gt){const Kt=M(pe);et-=L(Kt,"x"),gt-=L(Kt,"y"),P.width-=et,P.height-=gt}return N(P)}function Fe(pe,de,P=!1){const q="HTML"===de.nodeName,Ne=R(pe),De=R(de),et=M(de),gt=parseFloat(et.borderTopWidth),Kt=parseFloat(et.borderLeftWidth);P&&q&&(De.top=Math.max(De.top??0,0),De.left=Math.max(De.left??0,0));const sn=N({top:(Ne.top??0)-(De.top??0)-gt,left:(Ne.left??0)-(De.left??0)-Kt,width:Ne.width,height:Ne.height});if(sn.marginTop=0,sn.marginLeft=0,q){const Rn=parseFloat(et.marginTop),Kn=parseFloat(et.marginLeft);oe(sn.top)&&(sn.top-=gt-Rn),oe(sn.bottom)&&(sn.bottom-=gt-Rn),oe(sn.left)&&(sn.left-=Kt-Kn),oe(sn.right)&&(sn.right-=Kt-Kn),sn.marginTop=Rn,sn.marginLeft=Kn}return sn}function we(pe){return"HTML"===pe.nodeName?pe:pe.parentNode||pe.host}function We(pe){if(!pe)return document.body;switch(pe.nodeName){case"HTML":case"BODY":return pe.ownerDocument.body;case"#document":return pe.body}const{overflow:de,overflowX:P,overflowY:q}=M(pe);return/(auto|scroll|overlay)/.test(String(de)+String(q)+String(P))?pe:We(we(pe))}function rt(pe,de="top"){const P="top"===de?"scrollTop":"scrollLeft",q=pe.nodeName;return"BODY"===q||"HTML"===q?(pe.ownerDocument.scrollingElement||pe.ownerDocument.documentElement)[P]:pe[P]}function vt(pe){const de=pe.nodeName;return"BODY"!==de&&"HTML"!==de&&("fixed"===M(pe,"position")||vt(we(pe)))}function Ue(pe,de,P=0,q,Ne=!1){let De={top:0,left:0};const et=Ne?v(pe):Z(pe,de);if("viewport"===q)De=function lt(pe,de=!1){const P=pe.ownerDocument.documentElement,q=Fe(pe,P),Ne=Math.max(P.clientWidth,window.innerWidth||0),De=Math.max(P.clientHeight,window.innerHeight||0),et=de?0:rt(P),gt=de?0:rt(P,"left");return N({top:et-Number(q?.top)+Number(q?.marginTop),left:gt-Number(q?.left)+Number(q?.marginLeft),width:Ne,height:De})}(et,Ne);else{let gt;"scrollParent"===q?(gt=We(we(de)),"BODY"===gt.nodeName&&(gt=pe.ownerDocument.documentElement)):gt="window"===q?pe.ownerDocument.documentElement:q;const Kt=Fe(gt,et,Ne);if(Kt&&"HTML"===gt.nodeName&&!vt(et)){const{height:sn,width:Rn}=te(pe.ownerDocument);oe(De.top)&&oe(Kt.top)&&oe(Kt.marginTop)&&(De.top+=Kt.top-Kt.marginTop),oe(De.top)&&(De.bottom=Number(sn)+Number(Kt.top)),oe(De.left)&&oe(Kt.left)&&oe(Kt.marginLeft)&&(De.left+=Kt.left-Kt.marginLeft),oe(De.top)&&(De.right=Number(Rn)+Number(Kt.left))}else Kt&&(De=Kt)}return oe(De.left)&&(De.left+=P),oe(De.top)&&(De.top+=P),oe(De.right)&&(De.right-=P),oe(De.bottom)&&(De.bottom-=P),De}function Ye({width:pe,height:de}){return pe*de}function He(pe,de,P,q,Ne=["top","bottom","right","left"],De="viewport",et=0){if(-1===pe.indexOf("auto"))return pe;const gt=Ue(P,q,et,De),Kt={top:{width:gt?.width??0,height:(de?.top??0)-(gt?.top??0)},right:{width:(gt?.right??0)-(de?.right??0),height:gt?.height??0},bottom:{width:gt?.width??0,height:(gt?.bottom??0)-(de?.bottom??0)},left:{width:(de.left??0)-(gt?.left??0),height:gt?.height??0}},sn=Object.keys(Kt).map(Ot=>({position:Ot,...Kt[Ot],area:Ye(Kt[Ot])})).sort((Ot,Gn)=>Gn.area-Ot.area);let Rn=sn.filter(({width:Ot,height:Gn})=>Ot>=P.clientWidth&&Gn>=P.clientHeight);Rn=Rn.filter(({position:Ot})=>Ne.some(Gn=>Gn===Ot));const Kn=Rn.length>0?Rn[0].position:sn[0].position,ei=pe.split(" ")[1];return P.className=P.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,t.Bu)().isBs5?F[Kn]:Kn}`),Kn+(ei?`-${ei}`:"")}const Xe=(pe,de=0)=>pe?parseFloat(pe):de;function je(pe){const P=pe.ownerDocument.defaultView?.getComputedStyle(pe),q=Xe(P?.marginTop)+Xe(P?.marginBottom),Ne=Xe(P?.marginLeft)+Xe(P?.marginRight);return{width:Number(pe.offsetWidth)+Ne,height:Number(pe.offsetHeight)+q}}function ct(pe,de,P){return Fe(de,P?v(pe):Z(pe,de),P)}function st(pe,de,P){const q=P.split(" ")[0],Ne=je(pe),De={width:Ne.width,height:Ne.height},et=-1!==["right","left"].indexOf(q),gt=et?"top":"left",Kt=et?"left":"top",sn=et?"height":"width",Rn=et?"width":"height";return De[gt]=(de[gt]??0)+de[sn]/2-Ne[sn]/2,De[Kt]=q===Kt?(de[Kt]??0)-Ne[Rn]:de[function Le(pe){const de={left:"right",right:"left",bottom:"top",top:"bottom"};return pe.replace(/left|right|bottom|top/g,P=>de[P])}(Kt)]??0,De}function Qe(pe,de){return!!pe.modifiers[de]?.enabled}const ne={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Y(pe,de){return!!(0,t.Bu)().isBs5&&ne[de].includes(pe)}function s(pe,de,P){!pe||!de||Object.keys(de).forEach(q=>{let Ne="";-1!==["width","height","top","right","bottom","left"].indexOf(q)&&function fe(pe){return""!==pe&&!isNaN(parseFloat(pe))&&isFinite(Number(pe))}(de[q])&&(Ne="px"),P?P.setStyle(pe,q,`${String(de[q])}${Ne}`):pe.style[q]=String(de[q])+Ne})}function dt(pe){let de=pe.offsets.target;const P=pe.instance.target.querySelector(".arrow");if(!P)return pe;const q=-1!==["left","right"].indexOf(pe.placement.split(" ")[0]),Ne=q?"height":"width",De=q?"Top":"Left",et=De.toLowerCase(),gt=q?"left":"top",Kt=q?"bottom":"right",sn=je(P)[Ne],Rn=pe.placement.split(" ")[1];(pe.offsets.host[Kt]??0)-sn<(de[et]??0)&&(de[et]-=(de[et]??0)-((pe.offsets.host[Kt]??0)-sn)),Number(pe.offsets.host[et])+Number(sn)>(de[Kt]??0)&&(de[et]+=Number(pe.offsets.host[et])+Number(sn)-Number(de[Kt])),de=N(de);const Kn=M(pe.instance.target),ei=parseFloat(Kn[`margin${De}`])||0,Ot=parseFloat(Kn[`border${De}Width`])||0;let Gn;if(Rn){const Tn=parseFloat(Kn.borderRadius)||0,In=Number(ei+Ot+Tn);Gn=et===Rn?Number(pe.offsets.host[et])+In:Number(pe.offsets.host[et])+Number(pe.offsets.host[Ne]-In)}else Gn=Number(pe.offsets.host[et])+Number(pe.offsets.host[Ne]/2-sn/2);let Zt=Gn-(de[et]??0)-ei-Ot;return Zt=Math.max(Math.min(de[Ne]-(sn+5),Zt),0),pe.offsets.arrow={[et]:Math.round(Zt),[gt]:""},pe.instance.arrow=P,pe}function _t(pe){if(pe.offsets.target=N(pe.offsets.target),!Qe(pe.options,"flip"))return pe.offsets.target={...pe.offsets.target,...st(pe.instance.target,pe.offsets.host,pe.placement)},pe;const de=Ue(pe.instance.target,pe.instance.host,0,"viewport",!1);let P=pe.placement.split(" ")[0],q=pe.placement.split(" ")[1]||"";const gt=He("auto",pe.offsets.host,pe.instance.target,pe.instance.host,pe.options.allowedPositions),Kt=[P,gt];return Kt.forEach((sn,Rn)=>{if(P!==sn||Kt.length===Rn+1)return;P=pe.placement.split(" ")[0];const Kn="left"===P&&Math.floor(pe.offsets.target.right??0)>Math.floor(pe.offsets.host.left??0)||"right"===P&&Math.floor(pe.offsets.target.left??0)<Math.floor(pe.offsets.host.right??0)||"top"===P&&Math.floor(pe.offsets.target.bottom??0)>Math.floor(pe.offsets.host.top??0)||"bottom"===P&&Math.floor(pe.offsets.target.top??0)<Math.floor(pe.offsets.host.bottom??0),ei=Math.floor(pe.offsets.target.left??0)<Math.floor(de.left??0),Ot=Math.floor(pe.offsets.target.right??0)>Math.floor(de.right??0),Gn=Math.floor(pe.offsets.target.top??0)<Math.floor(de.top??0),Zt=Math.floor(pe.offsets.target.bottom??0)>Math.floor(de.bottom??0),Tn="left"===P&&ei||"right"===P&&Ot||"top"===P&&Gn||"bottom"===P&&Zt,In=-1!==["top","bottom"].indexOf(P),rs=In&&"left"===q&&ei||In&&"right"===q&&Ot||!In&&"left"===q&&Gn||!In&&"right"===q&&Zt;(Kn||Tn||rs)&&((Kn||Tn)&&(P=Kt[Rn+1]),rs&&(q=function Ve(pe){return"right"===pe?"left":"left"===pe?"right":pe}(q)),pe.placement=P+(q?` ${q}`:""),pe.offsets.target={...pe.offsets.target,...st(pe.instance.target,pe.offsets.host,pe.placement)})}),pe}function Cn(pe){if(!Qe(pe.options,"preventOverflow"))return pe;const de="transform",P=pe.instance.target.style,{top:q,left:Ne,[de]:De}=P;P.top="",P.left="",P[de]="";const et=Ue(pe.instance.target,pe.instance.host,0,pe.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);P.top=q,P.left=Ne,P[de]=De;const Kt={primary(sn){let Rn=pe.offsets.target[sn];return(pe.offsets.target[sn]??0)<(et[sn]??0)&&(Rn=Math.max(pe.offsets.target[sn]??0,et[sn]??0)),{[sn]:Rn}},secondary(sn){const Rn="right"===sn,Kn=Rn?"left":"top";let Ot=pe.offsets.target[Kn];return(pe.offsets.target[sn]??0)>(et[sn]??0)&&(Ot=Math.min(pe.offsets.target[Kn]??0,(et[sn]??0)-pe.offsets.target[Rn?"width":"height"])),{[Kn]:Ot}}};return["left","right","top","bottom"].forEach(sn=>{const Rn=-1!==["left","top","start"].indexOf(sn)?Kt.primary:Kt.secondary;pe.offsets.target={...pe.offsets.target,...Rn(sn)}}),pe}function Wn(pe){const de=pe.placement,P=de.split(" ")[0],q=de.split(" ")[1];if(q){const{host:Ne,target:De}=pe.offsets,et=-1!==["bottom","top"].indexOf(P),gt=et?"left":"top",Kt=et?"width":"height",sn={start:{[gt]:Ne[gt]},end:{[gt]:(Ne[gt]??0)+Ne[Kt]-De[Kt]}};pe.offsets.target={...De,[gt]:gt===q?sn.start[gt]:sn.end[gt]}}return pe}const Ln=new class tn{position(de,P){return this.offset(de,P)}offset(de,P){return ct(P,de)}positionElements(de,P,q,Ne,De){const et=[_t,Wn,Cn,dt],Kt=function en(pe,de,P,q){if(!pe||!de)return;const Ne=ct(pe,de);!P.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!P.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(P="auto");const De=!!P.match(/auto/g);let et=P.match(/auto\s(left|right|top|bottom|start|end)/)?P.split(" ")[1]||"auto":P;const gt=et.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return gt&&(et=gt[1]+(gt[2]?` ${gt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(et)&&(et="auto"),et=He(et,Ne,pe,de,q?q.allowedPositions:void 0),{options:q||{modifiers:{}},instance:{target:pe,host:de,arrow:void 0},offsets:{target:st(pe,Ne,et),host:Ne,arrow:void 0},positionFixed:!1,placement:et,placementAuto:De}}(P,de,V[q],De);if(Kt)return et.reduce((sn,Rn)=>Rn(sn),Kt)}};function ni(pe,de,P,q,Ne,De){const et=Ln.positionElements(pe,de,P,q,Ne);if(!et)return;const gt=function it(pe){return{width:pe.offsets.target.width,height:pe.offsets.target.height,left:Math.floor(pe.offsets.target.left??0),top:Math.round(pe.offsets.target.top??0),bottom:Math.round(pe.offsets.target.bottom??0),right:Math.floor(pe.offsets.target.right??0)}}(et);s(de,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${gt.left}px, ${gt.top}px, 0px)`},De),et.instance.arrow&&s(et.instance.arrow,et.offsets.arrow,De),function ge(pe,de){const P=pe.instance.target;let q=P.className;const Ne=(0,t.Bu)().isBs5?F[pe.placement]:pe.placement;pe.placementAuto&&(q=q.replace(/bs-popover-auto/g,`bs-popover-${Ne}`),q=q.replace(/ms-2|me-2|mb-2|mt-2/g,""),q=q.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ne}`),q=q.replace(/\sauto/g,` ${Ne}`),-1!==q.indexOf("popover")&&(q=q+" "+function he(pe){return(0,t.Bu)().isBs5?Y(pe,"end")?"ms-2":Y(pe,"start")?"me-2":Y(pe,"top")?"mb-2":Y(pe,"bottom")?"mt-2":"":""}(Ne)),-1!==q.indexOf("popover")&&-1===q.indexOf("popover-auto")&&(q+=" popover-auto"),-1!==q.indexOf("tooltip")&&-1===q.indexOf("tooltip-auto")&&(q+=" tooltip-auto")),q=q.replace(/left|right|top|bottom|end|start/g,`${Ne.split(" ")[0]}`),de?de.setAttribute(P,"class",q):P.className=q}(et,De)}let ft=(()=>{class pe{constructor(P,q,Ne){this.update$$=new A.B,this.positionElements=new Map,this.isDisabled=!1,(0,f.UE)(Ne)&&P.runOutsideAngular(()=>{this.triggerEvent$=(0,e.h)((0,w.R)(window,"scroll",{passive:!0}),(0,w.R)(window,"resize",{passive:!0}),(0,m.of)(0,E),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(De=>{ni(Qt(De.target),Qt(De.element),De.attachment,De.appendToBody,this.options,q.createRenderer(null,null))})})})}position(P){this.addPositionElement(P)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(P){this.positionElements.set(Qt(P.element),P)}calcPosition(){this.update$$.next(null)}deletePositionElement(P){this.positionElements.delete(Qt(P))}setOptions(P){this.options=P}static{this.\u0275fac=function(q){return new(q||pe)(o.KVO(o.SKi),o.KVO(o._9s),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}return pe})();function Qt(pe){return"string"==typeof pe?document.querySelector(pe):pe instanceof o.aKT?pe.nativeElement:pe??null}},2880:(ot,ve,l)=>{var t=l(6589);if(l(7097),l(3364),l(1817),l(8788),l(3697),l(1675),l(812),typeof o>"u")var o=t.jsbn.BigInteger;var f=t.util.isNodejs?l(310):null,A=t.asn1,e=t.util;t.pki=t.pki||{},ot.exports=t.pki.rsa=t.rsa=t.rsa||{};var w=t.pki,m=[6,4,2,4,2,4,6,2],D={name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},S={name:"RSAPrivateKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},g={name:"RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},k=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},z={name:"DigestInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:A.Class.UNIVERSAL,type:A.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},u=function(N){if(!(N.algorithm in w.oids)){var oe=new Error("Unknown message digest algorithm.");throw oe.algorithm=N.algorithm,oe}var R=A.oidToDer(w.oids[N.algorithm]).getBytes(),Fe=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]),we=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);we.value.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,R)),we.value.push(A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,""));var We=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,N.digest().getBytes());return Fe.value.push(we),Fe.value.push(We),A.toDer(Fe).getBytes()},E=function(N,fe,oe){if(oe)return N.modPow(fe.e,fe.n);if(!fe.p||!fe.q)return N.modPow(fe.d,fe.n);var R;fe.dP||(fe.dP=fe.d.mod(fe.p.subtract(o.ONE))),fe.dQ||(fe.dQ=fe.d.mod(fe.q.subtract(o.ONE))),fe.qInv||(fe.qInv=fe.q.modInverse(fe.p));do{R=new o(t.util.bytesToHex(t.random.getBytes(fe.n.bitLength()/8)),16)}while(R.compareTo(fe.n)>=0||!R.gcd(fe.n).equals(o.ONE));for(var Fe=(N=N.multiply(R.modPow(fe.e,fe.n)).mod(fe.n)).mod(fe.p).modPow(fe.dP,fe.p),we=N.mod(fe.q).modPow(fe.dQ,fe.q);Fe.compareTo(we)<0;)Fe=Fe.add(fe.p);var We=Fe.subtract(we).multiply(fe.qInv).mod(fe.p).multiply(fe.q).add(we);return We.multiply(R.modInverse(fe.n)).mod(fe.n)};function B(N,fe,oe){var R=t.util.createBuffer(),Fe=Math.ceil(fe.n.bitLength()/8);if(N.length>Fe-11){var we=new Error("Message is too long for PKCS#1 v1.5 padding.");throw we.length=N.length,we.max=Fe-11,we}R.putByte(0),R.putByte(oe);var rt,We=Fe-3-N.length;if(0===oe||1===oe){rt=0===oe?0:255;for(var lt=0;lt<We;++lt)R.putByte(rt)}else for(;We>0;){var vt=0,Ue=t.random.getBytes(We);for(lt=0;lt<We;++lt)0===(rt=Ue.charCodeAt(lt))?++vt:R.putByte(rt);We=vt}return R.putByte(0),R.putBytes(N),R}function V(N,fe,oe,R){var Fe=Math.ceil(fe.n.bitLength()/8),we=t.util.createBuffer(N),We=we.getByte(),rt=we.getByte();if(0!==We||oe&&0!==rt&&1!==rt||!oe&&2!=rt||oe&&0===rt&&typeof R>"u")throw new Error("Encryption block is invalid.");var lt=0;if(0===rt){lt=Fe-3-R;for(var vt=0;vt<lt;++vt)if(0!==we.getByte())throw new Error("Encryption block is invalid.")}else if(1===rt)for(lt=0;we.length()>1;){if(255!==we.getByte()){--we.read;break}++lt}else if(2===rt)for(lt=0;we.length()>1;){if(0===we.getByte()){--we.read;break}++lt}if(0!==we.getByte()||lt!==Fe-3-we.length())throw new Error("Encryption block is invalid.");return we.getBytes()}function M(N){var fe=N.toString(16);fe[0]>="8"&&(fe="00"+fe);var oe=t.util.hexToBytes(fe);return!(oe.length>1)||(0!==oe.charCodeAt(0)||128&oe.charCodeAt(1))&&(255!==oe.charCodeAt(0)||128&~oe.charCodeAt(1))?oe:oe.substr(1)}function W(N){return N<=100?27:N<=150?18:N<=200?15:N<=250?12:N<=300?9:N<=350?8:N<=400?7:N<=500?6:N<=600?5:N<=800?4:N<=1250?3:2}function y(N){return t.util.isNodejs&&"function"==typeof f[N]}function X(N){return typeof e.globalScope<"u"&&"object"==typeof e.globalScope.crypto&&"object"==typeof e.globalScope.crypto.subtle&&"function"==typeof e.globalScope.crypto.subtle[N]}function Z(N){return typeof e.globalScope<"u"&&"object"==typeof e.globalScope.msCrypto&&"object"==typeof e.globalScope.msCrypto.subtle&&"function"==typeof e.globalScope.msCrypto.subtle[N]}function v(N){for(var fe=t.util.hexToBytes(N.toString(16)),oe=new Uint8Array(fe.length),R=0;R<fe.length;++R)oe[R]=fe.charCodeAt(R);return oe}w.rsa.encrypt=function(N,fe,oe){var Fe,R=oe,we=Math.ceil(fe.n.bitLength()/8);!1!==oe&&!0!==oe?(R=2===oe,Fe=B(N,fe,oe)):(Fe=t.util.createBuffer()).putBytes(N);for(var We=new o(Fe.toHex(),16),lt=E(We,fe,R).toString(16),vt=t.util.createBuffer(),Ue=we-Math.ceil(lt.length/2);Ue>0;)vt.putByte(0),--Ue;return vt.putBytes(t.util.hexToBytes(lt)),vt.getBytes()},w.rsa.decrypt=function(N,fe,oe,R){var Fe=Math.ceil(fe.n.bitLength()/8);if(N.length!==Fe){var we=new Error("Encrypted message length is invalid.");throw we.length=N.length,we.expected=Fe,we}var We=new o(t.util.createBuffer(N).toHex(),16);if(We.compareTo(fe.n)>=0)throw new Error("Encrypted message is invalid.");for(var lt=E(We,fe,oe).toString(16),vt=t.util.createBuffer(),Ue=Fe-Math.ceil(lt.length/2);Ue>0;)vt.putByte(0),--Ue;return vt.putBytes(t.util.hexToBytes(lt)),!1!==R?V(vt.getBytes(),fe,oe):vt.getBytes()},w.rsa.createKeyPairGenerationState=function(N,fe,oe){"string"==typeof N&&(N=parseInt(N,10)),N=N||2048;var We,R=(oe=oe||{}).prng||t.random,Fe={nextBytes:function(rt){for(var lt=R.getBytesSync(rt.length),vt=0;vt<rt.length;++vt)rt[vt]=lt.charCodeAt(vt)}},we=oe.algorithm||"PRIMEINC";if("PRIMEINC"!==we)throw new Error("Invalid key generation algorithm: "+we);return(We={algorithm:we,state:0,bits:N,rng:Fe,eInt:fe||65537,e:new o(null),p:null,q:null,qBits:N>>1,pBits:N-(N>>1),pqState:0,num:null,keys:null}).e.fromInt(We.eInt),We},w.rsa.stepKeyPairGenerationState=function(N,fe){"algorithm"in N||(N.algorithm="PRIMEINC");var oe=new o(null);oe.fromInt(30);for(var We,R=0,Fe=function(Ye,He){return Ye|He},we=+new Date,rt=0;null===N.keys&&(fe<=0||rt<fe);){if(0===N.state){var lt=null===N.p?N.pBits:N.qBits,vt=lt-1;0===N.pqState?(N.num=new o(lt,N.rng),N.num.testBit(vt)||N.num.bitwiseTo(o.ONE.shiftLeft(vt),Fe,N.num),N.num.dAddOffset(31-N.num.mod(oe).byteValue(),0),R=0,++N.pqState):1===N.pqState?N.num.bitLength()>lt?N.pqState=0:N.num.isProbablePrime(W(N.num.bitLength()))?++N.pqState:N.num.dAddOffset(m[R++%8],0):2===N.pqState?N.pqState=0===N.num.subtract(o.ONE).gcd(N.e).compareTo(o.ONE)?3:0:3===N.pqState&&(N.pqState=0,null===N.p?N.p=N.num:N.q=N.num,null!==N.p&&null!==N.q&&++N.state,N.num=null)}else if(1===N.state)N.p.compareTo(N.q)<0&&(N.num=N.p,N.p=N.q,N.q=N.num),++N.state;else if(2===N.state)N.p1=N.p.subtract(o.ONE),N.q1=N.q.subtract(o.ONE),N.phi=N.p1.multiply(N.q1),++N.state;else if(3===N.state)0===N.phi.gcd(N.e).compareTo(o.ONE)?++N.state:(N.p=null,N.q=null,N.state=0);else if(4===N.state)N.n=N.p.multiply(N.q),N.n.bitLength()===N.bits?++N.state:(N.q=null,N.state=0);else if(5===N.state){var Ue=N.e.modInverse(N.phi);N.keys={privateKey:w.rsa.setPrivateKey(N.n,N.e,Ue,N.p,N.q,Ue.mod(N.p1),Ue.mod(N.q1),N.q.modInverse(N.p)),publicKey:w.rsa.setPublicKey(N.n,N.e)}}rt+=(We=+new Date)-we,we=We}return null!==N.keys},w.rsa.generateKeyPair=function(N,fe,oe,R){if(1===arguments.length?"object"==typeof N?(oe=N,N=void 0):"function"==typeof N&&(R=N,N=void 0):2===arguments.length?"number"==typeof N?"function"==typeof fe?(R=fe,fe=void 0):"number"!=typeof fe&&(oe=fe,fe=void 0):(oe=N,R=fe,N=void 0,fe=void 0):3===arguments.length&&("number"==typeof fe?"function"==typeof oe&&(R=oe,oe=void 0):(R=oe,oe=fe,fe=void 0)),oe=oe||{},void 0===N&&(N=oe.bits||2048),void 0===fe&&(fe=oe.e||65537),!t.options.usePureJavaScript&&!oe.prng&&N>=256&&N<=16384&&(65537===fe||3===fe))if(R){if(y("generateKeyPair"))return f.generateKeyPair("rsa",{modulusLength:N,publicExponent:fe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(rt,lt,vt){if(rt)return R(rt);R(null,{privateKey:w.privateKeyFromPem(vt),publicKey:w.publicKeyFromPem(lt)})});if(X("generateKey")&&X("exportKey"))return e.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:N,publicExponent:v(fe),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(rt){return e.globalScope.crypto.subtle.exportKey("pkcs8",rt.privateKey)}).then(void 0,function(rt){R(rt)}).then(function(rt){if(rt){var lt=w.privateKeyFromAsn1(A.fromDer(t.util.createBuffer(rt)));R(null,{privateKey:lt,publicKey:w.setRsaPublicKey(lt.n,lt.e)})}});if(Z("generateKey")&&Z("exportKey")){var Fe=e.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:N,publicExponent:v(fe),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Fe.oncomplete=function(rt){var vt=e.globalScope.msCrypto.subtle.exportKey("pkcs8",rt.target.result.privateKey);vt.oncomplete=function(Ue){var He=w.privateKeyFromAsn1(A.fromDer(t.util.createBuffer(Ue.target.result)));R(null,{privateKey:He,publicKey:w.setRsaPublicKey(He.n,He.e)})},vt.onerror=function(Ue){R(Ue)}},void(Fe.onerror=function(rt){R(rt)})}}else if(y("generateKeyPairSync")){var we=f.generateKeyPairSync("rsa",{modulusLength:N,publicExponent:fe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:w.privateKeyFromPem(we.privateKey),publicKey:w.publicKeyFromPem(we.publicKey)}}var We=w.rsa.createKeyPairGenerationState(N,fe,oe);if(!R)return w.rsa.stepKeyPairGenerationState(We,0),We.keys;!function F(N,fe,oe){"function"==typeof fe&&(oe=fe,fe={});var R={algorithm:{name:(fe=fe||{}).algorithm||"PRIMEINC",options:{workers:fe.workers||2,workLoad:fe.workLoad||100,workerScript:fe.workerScript}}};function Fe(){we(N.pBits,function(rt,lt){return rt?oe(rt):(N.p=lt,null!==N.q?We(rt,N.q):void we(N.qBits,We))})}function we(rt,lt){t.prime.generateProbablePrime(rt,R,lt)}function We(rt,lt){if(rt)return oe(rt);if(N.q=lt,N.p.compareTo(N.q)<0){var vt=N.p;N.p=N.q,N.q=vt}if(0!==N.p.subtract(o.ONE).gcd(N.e).compareTo(o.ONE))return N.p=null,void Fe();if(0!==N.q.subtract(o.ONE).gcd(N.e).compareTo(o.ONE))return N.q=null,void we(N.qBits,We);if(N.p1=N.p.subtract(o.ONE),N.q1=N.q.subtract(o.ONE),N.phi=N.p1.multiply(N.q1),0!==N.phi.gcd(N.e).compareTo(o.ONE))return N.p=N.q=null,void Fe();if(N.n=N.p.multiply(N.q),N.n.bitLength()!==N.bits)return N.q=null,void we(N.qBits,We);var Ue=N.e.modInverse(N.phi);N.keys={privateKey:w.rsa.setPrivateKey(N.n,N.e,Ue,N.p,N.q,Ue.mod(N.p1),Ue.mod(N.q1),N.q.modInverse(N.p)),publicKey:w.rsa.setPublicKey(N.n,N.e)},oe(null,N.keys)}"prng"in fe&&(R.prng=fe.prng),Fe()}(We,oe,R)},w.setRsaPublicKey=w.rsa.setPublicKey=function(N,fe){var oe={n:N,e:fe,encrypt:function(R,Fe,we){if("string"==typeof Fe?Fe=Fe.toUpperCase():void 0===Fe&&(Fe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Fe)Fe={encode:function(rt,lt,vt){return B(rt,lt,2).getBytes()}};else if("RSA-OAEP"===Fe||"RSAES-OAEP"===Fe)Fe={encode:function(rt,lt){return t.pkcs1.encode_rsa_oaep(lt,rt,we)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Fe))Fe={encode:function(rt){return rt}};else if("string"==typeof Fe)throw new Error('Unsupported encryption scheme: "'+Fe+'".');var We=Fe.encode(R,oe,!0);return w.rsa.encrypt(We,oe,!0)},verify:function(R,Fe,we,We){"string"==typeof we?we=we.toUpperCase():void 0===we&&(we="RSASSA-PKCS1-V1_5"),void 0===We&&(We={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in We||(We._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===we?we={verify:function(lt,vt){vt=V(vt,oe,!0);var Ue=A.fromDer(vt,{parseAllBytes:We._parseAllDigestBytes}),Ye={},He=[];if(!A.validate(Ue,z,Ye,He))throw(it=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=He,it;var it,Le=A.derToOid(Ye.algorithmIdentifier);if(Le!==t.oids.md2&&Le!==t.oids.md5&&Le!==t.oids.sha1&&Le!==t.oids.sha224&&Le!==t.oids.sha256&&Le!==t.oids.sha384&&Le!==t.oids.sha512&&Le!==t.oids["sha512-224"]&&Le!==t.oids["sha512-256"])throw(it=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Le,it;if((Le===t.oids.md2||Le===t.oids.md5)&&!("parameters"in Ye))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return lt===Ye.digest}}:("NONE"===we||"NULL"===we||null===we)&&(we={verify:function(lt,vt){return lt===V(vt,oe,!0)}});var rt=w.rsa.decrypt(Fe,oe,!0,!1);return we.verify(R,rt,oe.n.bitLength())}};return oe},w.setRsaPrivateKey=w.rsa.setPrivateKey=function(N,fe,oe,R,Fe,we,We,rt){var lt={n:N,e:fe,d:oe,p:R,q:Fe,dP:we,dQ:We,qInv:rt,decrypt:function(vt,Ue,Ye){"string"==typeof Ue?Ue=Ue.toUpperCase():void 0===Ue&&(Ue="RSAES-PKCS1-V1_5");var He=w.rsa.decrypt(vt,lt,!1,!1);if("RSAES-PKCS1-V1_5"===Ue)Ue={decode:V};else if("RSA-OAEP"===Ue||"RSAES-OAEP"===Ue)Ue={decode:function(it,Le){return t.pkcs1.decode_rsa_oaep(Le,it,Ye)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(Ue))throw new Error('Unsupported encryption scheme: "'+Ue+'".');Ue={decode:function(it){return it}}}return Ue.decode(He,lt,!1)},sign:function(vt,Ue){var Ye=!1;"string"==typeof Ue&&(Ue=Ue.toUpperCase()),void 0===Ue||"RSASSA-PKCS1-V1_5"===Ue?(Ue={encode:u},Ye=1):("NONE"===Ue||"NULL"===Ue||null===Ue)&&(Ue={encode:function(){return vt}},Ye=1);var He=Ue.encode(vt,lt.n.bitLength());return w.rsa.encrypt(He,lt,Ye)}};return lt},w.wrapRsaPrivateKey=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(w.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(N).getBytes())])},w.privateKeyFromAsn1=function(N){var Fe,we,We,rt,lt,vt,Ue,Ye,fe={},oe=[];if(A.validate(N,D,fe,oe)&&(N=A.fromDer(t.util.createBuffer(fe.privateKey))),!A.validate(N,S,fe={},oe=[])){var R=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw R.errors=oe,R}return Fe=t.util.createBuffer(fe.privateKeyModulus).toHex(),we=t.util.createBuffer(fe.privateKeyPublicExponent).toHex(),We=t.util.createBuffer(fe.privateKeyPrivateExponent).toHex(),rt=t.util.createBuffer(fe.privateKeyPrime1).toHex(),lt=t.util.createBuffer(fe.privateKeyPrime2).toHex(),vt=t.util.createBuffer(fe.privateKeyExponent1).toHex(),Ue=t.util.createBuffer(fe.privateKeyExponent2).toHex(),Ye=t.util.createBuffer(fe.privateKeyCoefficient).toHex(),w.setRsaPrivateKey(new o(Fe,16),new o(we,16),new o(We,16),new o(rt,16),new o(lt,16),new o(vt,16),new o(Ue,16),new o(Ye,16))},w.privateKeyToAsn1=w.privateKeyToRSAPrivateKey=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.e)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.d)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.p)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.q)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.dP)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.dQ)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.qInv))])},w.publicKeyFromAsn1=function(N){var fe={},oe=[];if(A.validate(N,k,fe,oe)){var Fe,R=A.derToOid(fe.publicKeyOid);if(R!==w.oids.rsaEncryption)throw(Fe=new Error("Cannot read public key. Unknown OID.")).oid=R,Fe;N=fe.rsaPublicKey}if(!A.validate(N,g,fe,oe=[]))throw(Fe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=oe,Fe;var we=t.util.createBuffer(fe.publicKeyModulus).toHex(),We=t.util.createBuffer(fe.publicKeyExponent).toHex();return w.setRsaPublicKey(new o(we,16),new o(We,16))},w.publicKeyToAsn1=w.publicKeyToSubjectPublicKeyInfo=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(w.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,[w.publicKeyToRSAPublicKey(N)])])},w.publicKeyToRSAPublicKey=function(N){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,M(N.e))])}},2892:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>V});var t=l(7673),o=l(5060),f=l(1413),A=l(5558),e=l(4861),w=l(1360),m=l(7883),D=l(6801),S=l(1339),g=l(5139),k=l(5424),z=l(6888),u=l(2947),E=l(9196),B=l(2972);let V=(()=>{class F{constructor(W,y,X,Z,v,L,Q,te,N){this.securityService=W,this.healthCheckService=y,this.authService=X,this.localizeRouter=Z,this.errorService=v,this.loginTrackingService=L,this.router=Q,this.configService=te,this.appComponentViewService=N}canActivate(W,y){return this.healthCheckService.uiReady?this.authDecision(W,y):this.healthCheckService.uiHealthCheckComplete.pipe((0,A.n)(X=>this.authDecision(W,y)))}authDecision(W,y){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==e.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(X=>{if(X.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const Z=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([Z])}}),void 0!==this.securityService.userPermissions?(0,t.of)(this.permissionAuthDecision(W)):this.permissionAuthDecisionAsObservable(W)):(this.securityService.startLogin(y.url),o.t)}permissionAuthDecision(W){const y=W.data.permissions;if(void 0===y)return!0;for(let X=0;X<y.length;X++)if(this.securityService.userPermissions.includes(y[X]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(W){const y=new f.B;return this.securityService.init().subscribe(()=>{y.next(this.permissionAuthDecision(W))}),y.asObservable()}static{this.\u0275fac=function(y){return new(y||F)(w.KVO(m.i),w.KVO(D.M),w.KVO(S.u),w.KVO(g.QG),w.KVO(k.I),w.KVO(z.W),w.KVO(u.Ix),w.KVO(E.w),w.KVO(B.X))}}static{this.\u0275prov=w.jDH({token:F,factory:F.\u0275fac})}}return F})()},2947:(ot,ve,l)=>{"use strict";l.d(ve,{nX:()=>dn,Pu:()=>gn,Zp:()=>Li,nU:()=>De,c1:()=>Ir,XR:()=>Sn,j5:()=>jt,wF:()=>Be,lW:()=>Jt,mo:()=>ht,Z:()=>vi,J2:()=>Ri,Xk:()=>Le,J_:()=>ao,bw:()=>ci,b:()=>qi,tD:()=>qr,Ix:()=>Xo,D$:()=>ns,n3:()=>ua,OY:()=>Fn,Sd:()=>Ne,bK:()=>$e,gk:()=>Js,Lg:()=>It,wO:()=>un,Us:()=>ue,we:()=>mo});var t=l(9361),o=l(1482),f=l(1360),A=l(4402),e=l(6648),w=l(7673),m=l(4412),D=l(4572),S=l(9350),g=l(8793),k=l(9030),z=l(1203),u=l(8810),E=l(983),B=l(17),V=l(1413),F=l(8359),M=l(6354),W=l(5558),y=l(6697),X=l(9172),Z=l(5964),v=l(1397),L=l(1594),Q=l(274),te=l(8141),N=l(9437),fe=l(9974),oe=l(6649),Fe=l(9901),we=l(4360);function We(se){return se<=0?()=>E.w:(0,fe.N)((Se,me)=>{let Ie=[];Se.subscribe((0,we._)(me,Je=>{Ie.push(Je),se<Ie.length&&Ie.shift()},()=>{for(const Je of Ie)me.next(Je);me.complete()},void 0,()=>{Ie=null}))})}var rt=l(3774),lt=l(3669),Ue=l(980),Ye=l(9898),He=l(6977),it=l(345);const Le="primary",Ve=Symbol("RouteTitle");class Xe{params;constructor(Se){this.params=Se||{}}has(Se){return Object.prototype.hasOwnProperty.call(this.params,Se)}get(Se){if(this.has(Se)){const me=this.params[Se];return Array.isArray(me)?me[0]:me}return null}getAll(Se){if(this.has(Se)){const me=this.params[Se];return Array.isArray(me)?me:[me]}return[]}get keys(){return Object.keys(this.params)}}function je(se){return new Xe(se)}function ct(se,Se,me){const Ie=me.path.split("/");if(Ie.length>se.length||"full"===me.pathMatch&&(Se.hasChildren()||Ie.length<se.length))return null;const Je={};for(let Mt=0;Mt<Ie.length;Mt++){const St=Ie[Mt],an=se[Mt];if(":"===St[0])Je[St.substring(1)]=an;else if(St!==an.path)return null}return{consumed:se.slice(0,Ie.length),posParams:Je}}function Qe(se,Se){const me=se?ne(se):void 0,Ie=Se?ne(Se):void 0;if(!me||!Ie||me.length!=Ie.length)return!1;let Je;for(let Mt=0;Mt<me.length;Mt++)if(Je=me[Mt],!Y(se[Je],Se[Je]))return!1;return!0}function ne(se){return[...Object.keys(se),...Object.getOwnPropertySymbols(se)]}function Y(se,Se){if(Array.isArray(se)&&Array.isArray(Se)){if(se.length!==Se.length)return!1;const me=[...se].sort(),Ie=[...Se].sort();return me.every((Je,Mt)=>Ie[Mt]===Je)}return se===Se}function he(se){return se.length>0?se[se.length-1]:null}function ge(se){return(0,A.A)(se)?se:(0,f.jNT)(se)?(0,e.H)(Promise.resolve(se)):(0,w.of)(se)}const s={exact:function Cn(se,Se,me){if(!P(se.segments,Se.segments)||!ni(se.segments,Se.segments,me)||se.numberOfChildren!==Se.numberOfChildren)return!1;for(const Ie in Se.children)if(!se.children[Ie]||!Cn(se.children[Ie],Se.children[Ie],me))return!1;return!0},subset:tn},dt={exact:function en(se,Se){return Qe(se,Se)},subset:function Wn(se,Se){return Object.keys(Se).length<=Object.keys(se).length&&Object.keys(Se).every(me=>Y(se[me],Se[me]))},ignored:()=>!0};function _t(se,Se,me){return s[me.paths](se.root,Se.root,me.matrixParams)&&dt[me.queryParams](se.queryParams,Se.queryParams)&&!("exact"===me.fragment&&se.fragment!==Se.fragment)}function tn(se,Se,me){return Ln(se,Se,Se.segments,me)}function Ln(se,Se,me,Ie){if(se.segments.length>me.length){const Je=se.segments.slice(0,me.length);return!(!P(Je,me)||Se.hasChildren()||!ni(Je,me,Ie))}if(se.segments.length===me.length){if(!P(se.segments,me)||!ni(se.segments,me,Ie))return!1;for(const Je in Se.children)if(!se.children[Je]||!tn(se.children[Je],Se.children[Je],Ie))return!1;return!0}{const Je=me.slice(0,se.segments.length),Mt=me.slice(se.segments.length);return!!(P(se.segments,Je)&&ni(se.segments,Je,Ie)&&se.children[Le])&&Ln(se.children[Le],Se,Mt,Ie)}}function ni(se,Se,me){return Se.every((Ie,Je)=>dt[me](se[Je].parameters,Ie.parameters))}class ft{root;queryParams;fragment;_queryParamMap;constructor(Se=new Qt([],{}),me={},Ie=null){this.root=Se,this.queryParams=me,this.fragment=Ie}get queryParamMap(){return this._queryParamMap??=je(this.queryParams),this._queryParamMap}toString(){return et.serialize(this)}}class Qt{segments;children;parent=null;constructor(Se,me){this.segments=Se,this.children=me,Object.values(me).forEach(Ie=>Ie.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gt(this)}}class pe{path;parameters;_parameterMap;constructor(Se,me){this.path=Se,this.parameters=me}get parameterMap(){return this._parameterMap??=je(this.parameters),this._parameterMap}toString(){return Zt(this)}}function P(se,Se){return se.length===Se.length&&se.every((me,Ie)=>me.path===Se[Ie].path)}let Ne=(()=>{class se{static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:()=>new De,providedIn:"root"})}return se})();class De{parse(Se){const me=new wt(Se);return new ft(me.parseRootSegment(),me.parseQueryParams(),me.parseFragment())}serialize(Se){const me=`/${Kt(Se.root,!0)}`,Ie=function In(se){const Se=Object.entries(se).map(([me,Ie])=>Array.isArray(Ie)?Ie.map(Je=>`${Rn(me)}=${Rn(Je)}`).join("&"):`${Rn(me)}=${Rn(Ie)}`).filter(me=>me);return Se.length?`?${Se.join("&")}`:""}(Se.queryParams);return`${me}${Ie}${"string"==typeof Se.fragment?`#${function Kn(se){return encodeURI(se)}(Se.fragment)}`:""}`}}const et=new De;function gt(se){return se.segments.map(Se=>Zt(Se)).join("/")}function Kt(se,Se){if(!se.hasChildren())return gt(se);if(Se){const me=se.children[Le]?Kt(se.children[Le],!1):"",Ie=[];return Object.entries(se.children).forEach(([Je,Mt])=>{Je!==Le&&Ie.push(`${Je}:${Kt(Mt,!1)}`)}),Ie.length>0?`${me}(${Ie.join("//")})`:me}{const me=function q(se,Se){let me=[];return Object.entries(se.children).forEach(([Ie,Je])=>{Ie===Le&&(me=me.concat(Se(Je,Ie)))}),Object.entries(se.children).forEach(([Ie,Je])=>{Ie!==Le&&(me=me.concat(Se(Je,Ie)))}),me}(se,(Ie,Je)=>Je===Le?[Kt(se.children[Le],!1)]:[`${Je}:${Kt(Ie,!1)}`]);return 1===Object.keys(se.children).length&&null!=se.children[Le]?`${gt(se)}/${me[0]}`:`${gt(se)}/(${me.join("//")})`}}function sn(se){return encodeURIComponent(se).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rn(se){return sn(se).replace(/%3B/gi,";")}function ei(se){return sn(se).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ot(se){return decodeURIComponent(se)}function Gn(se){return Ot(se.replace(/\+/g,"%20"))}function Zt(se){return`${ei(se.path)}${function Tn(se){return Object.entries(se).map(([Se,me])=>`;${ei(Se)}=${ei(me)}`).join("")}(se.parameters)}`}const rs=/^[^\/()?;#]+/;function _i(se){const Se=se.match(rs);return Se?Se[0]:""}const Bi=/^[^\/()?;=#]+/,os=/^[^=?&#]+/,fs=/^[^&#]+/;class wt{url;remaining;constructor(Se){this.url=Se,this.remaining=Se}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const Se={};if(this.consumeOptional("?"))do{this.parseQueryParam(Se)}while(this.consumeOptional("&"));return Se}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Se=[];for(this.peekStartsWith("(")||Se.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Se.push(this.parseSegment());let me={};this.peekStartsWith("/(")&&(this.capture("/"),me=this.parseParens(!0));let Ie={};return this.peekStartsWith("(")&&(Ie=this.parseParens(!1)),(Se.length>0||Object.keys(me).length>0)&&(Ie[Le]=new Qt(Se,me)),Ie}parseSegment(){const Se=_i(this.remaining);if(""===Se&&this.peekStartsWith(";"))throw new f.wOt(4009,!1);return this.capture(Se),new pe(Ot(Se),this.parseMatrixParams())}parseMatrixParams(){const Se={};for(;this.consumeOptional(";");)this.parseParam(Se);return Se}parseParam(Se){const me=function Ni(se){const Se=se.match(Bi);return Se?Se[0]:""}(this.remaining);if(!me)return;this.capture(me);let Ie="";if(this.consumeOptional("=")){const Je=_i(this.remaining);Je&&(Ie=Je,this.capture(Ie))}Se[Ot(me)]=Ot(Ie)}parseQueryParam(Se){const me=function zn(se){const Se=se.match(os);return Se?Se[0]:""}(this.remaining);if(!me)return;this.capture(me);let Ie="";if(this.consumeOptional("=")){const St=function xi(se){const Se=se.match(fs);return Se?Se[0]:""}(this.remaining);St&&(Ie=St,this.capture(Ie))}const Je=Gn(me),Mt=Gn(Ie);if(Se.hasOwnProperty(Je)){let St=Se[Je];Array.isArray(St)||(St=[St],Se[Je]=St),St.push(Mt)}else Se[Je]=Mt}parseParens(Se){const me={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ie=_i(this.remaining),Je=this.remaining[Ie.length];if("/"!==Je&&")"!==Je&&";"!==Je)throw new f.wOt(4010,!1);let Mt;Ie.indexOf(":")>-1?(Mt=Ie.slice(0,Ie.indexOf(":")),this.capture(Mt),this.capture(":")):Se&&(Mt=Le);const St=this.parseChildren();me[Mt]=1===Object.keys(St).length?St[Le]:new Qt([],St),this.consumeOptional("//")}return me}peekStartsWith(Se){return this.remaining.startsWith(Se)}consumeOptional(Se){return!!this.peekStartsWith(Se)&&(this.remaining=this.remaining.substring(Se.length),!0)}capture(Se){if(!this.consumeOptional(Se))throw new f.wOt(4011,!1)}}function Tt(se){return se.segments.length>0?new Qt([],{[Le]:se}):se}function xt(se){const Se={};for(const[Ie,Je]of Object.entries(se.children)){const Mt=xt(Je);if(Ie===Le&&0===Mt.segments.length&&Mt.hasChildren())for(const[St,an]of Object.entries(Mt.children))Se[St]=an;else(Mt.segments.length>0||Mt.hasChildren())&&(Se[Ie]=Mt)}return function Wt(se){if(1===se.numberOfChildren&&se.children[Le]){const Se=se.children[Le];return new Qt(se.segments.concat(Se.segments),Se.children)}return se}(new Qt(se.segments,Se))}function un(se){return se instanceof ft}function Ei(se){let Se;const Je=Tt(function me(Mt){const St={};for(const Pn of Mt.children){const Yn=me(Pn);St[Pn.outlet]=Yn}const an=new Qt(Mt.url,St);return Mt===se&&(Se=an),an}(se.root));return Se??Je}function Ii(se,Se,me,Ie){let Je=se;for(;Je.parent;)Je=Je.parent;if(0===Se.length)return Vi(Je,Je,Je,me,Ie);const Mt=function ls(se){if("string"==typeof se[0]&&1===se.length&&"/"===se[0])return new zi(!0,0,se);let Se=0,me=!1;const Ie=se.reduce((Je,Mt,St)=>{if("object"==typeof Mt&&null!=Mt){if(Mt.outlets){const an={};return Object.entries(Mt.outlets).forEach(([Pn,Yn])=>{an[Pn]="string"==typeof Yn?Yn.split("/"):Yn}),[...Je,{outlets:an}]}if(Mt.segmentPath)return[...Je,Mt.segmentPath]}return"string"!=typeof Mt?[...Je,Mt]:0===St?(Mt.split("/").forEach((an,Pn)=>{0==Pn&&"."===an||(0==Pn&&""===an?me=!0:".."===an?Se++:""!=an&&Je.push(an))}),Je):[...Je,Mt]},[]);return new zi(me,Se,Ie)}(Se);if(Mt.toRoot())return Vi(Je,Je,new Qt([],{}),me,Ie);const St=function Rt(se,Se,me){if(se.isAbsolute)return new ut(Se,!0,0);if(!me)return new ut(Se,!1,NaN);if(null===me.parent)return new ut(me,!0,0);const Ie=Ti(se.commands[0])?0:1;return function yt(se,Se,me){let Ie=se,Je=Se,Mt=me;for(;Mt>Je;){if(Mt-=Je,Ie=Ie.parent,!Ie)throw new f.wOt(4005,!1);Je=Ie.segments.length}return new ut(Ie,!1,Je-Mt)}(me,me.segments.length-1+Ie,se.numberOfDoubleDots)}(Mt,Je,se),an=St.processChildren?ln(St.segmentGroup,St.index,Mt.commands):Vn(St.segmentGroup,St.index,Mt.commands);return Vi(Je,St.segmentGroup,an,me,Ie)}function Ti(se){return"object"==typeof se&&null!=se&&!se.outlets&&!se.segmentPath}function Dn(se){return"object"==typeof se&&null!=se&&se.outlets}function Vi(se,Se,me,Ie,Je){let St,Mt={};Ie&&Object.entries(Ie).forEach(([Pn,Yn])=>{Mt[Pn]=Array.isArray(Yn)?Yn.map(es=>`${es}`):`${Yn}`}),St=se===Se?me:ji(se,Se,me);const an=Tt(xt(St));return new ft(an,Mt,Je)}function ji(se,Se,me){const Ie={};return Object.entries(se.children).forEach(([Je,Mt])=>{Ie[Je]=Mt===Se?me:ji(Mt,Se,me)}),new Qt(se.segments,Ie)}class zi{isAbsolute;numberOfDoubleDots;commands;constructor(Se,me,Ie){if(this.isAbsolute=Se,this.numberOfDoubleDots=me,this.commands=Ie,Se&&Ie.length>0&&Ti(Ie[0]))throw new f.wOt(4003,!1);const Je=Ie.find(Dn);if(Je&&Je!==he(Ie))throw new f.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ut{segmentGroup;processChildren;index;constructor(Se,me,Ie){this.segmentGroup=Se,this.processChildren=me,this.index=Ie}}function Vn(se,Se,me){if(se??=new Qt([],{}),0===se.segments.length&&se.hasChildren())return ln(se,Se,me);const Ie=function Xn(se,Se,me){let Ie=0,Je=Se;const Mt={match:!1,pathIndex:0,commandIndex:0};for(;Je<se.segments.length;){if(Ie>=me.length)return Mt;const St=se.segments[Je],an=me[Ie];if(Dn(an))break;const Pn=`${an}`,Yn=Ie<me.length-1?me[Ie+1]:null;if(Je>0&&void 0===Pn)break;if(Pn&&Yn&&"object"==typeof Yn&&void 0===Yn.outlets){if(!Xt(Pn,Yn,St))return Mt;Ie+=2}else{if(!Xt(Pn,{},St))return Mt;Ie++}Je++}return{match:!0,pathIndex:Je,commandIndex:Ie}}(se,Se,me),Je=me.slice(Ie.commandIndex);if(Ie.match&&Ie.pathIndex<se.segments.length){const Mt=new Qt(se.segments.slice(0,Ie.pathIndex),{});return Mt.children[Le]=new Qt(se.segments.slice(Ie.pathIndex),se.children),ln(Mt,0,Je)}return Ie.match&&0===Je.length?new Qt(se.segments,{}):Ie.match&&!se.hasChildren()?qn(se,Se,me):Ie.match?ln(se,0,Je):qn(se,Se,me)}function ln(se,Se,me){if(0===me.length)return new Qt(se.segments,{});{const Ie=function nn(se){return Dn(se[0])?se[0].outlets:{[Le]:se}}(me),Je={};if(Object.keys(Ie).some(Mt=>Mt!==Le)&&se.children[Le]&&1===se.numberOfChildren&&0===se.children[Le].segments.length){const Mt=ln(se.children[Le],Se,me);return new Qt(se.segments,Mt.children)}return Object.entries(Ie).forEach(([Mt,St])=>{"string"==typeof St&&(St=[St]),null!==St&&(Je[Mt]=Vn(se.children[Mt],Se,St))}),Object.entries(se.children).forEach(([Mt,St])=>{void 0===Ie[Mt]&&(Je[Mt]=St)}),new Qt(se.segments,Je)}}function qn(se,Se,me){const Ie=se.segments.slice(0,Se);let Je=0;for(;Je<me.length;){const Mt=me[Je];if(Dn(Mt)){const Pn=Ht(Mt.outlets);return new Qt(Ie,Pn)}if(0===Je&&Ti(me[0])){Ie.push(new pe(se.segments[Se].path,oi(me[0]))),Je++;continue}const St=Dn(Mt)?Mt.outlets[Le]:`${Mt}`,an=Je<me.length-1?me[Je+1]:null;St&&an&&Ti(an)?(Ie.push(new pe(St,oi(an))),Je+=2):(Ie.push(new pe(St,{})),Je++)}return new Qt(Ie,{})}function Ht(se){const Se={};return Object.entries(se).forEach(([me,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(Se[me]=qn(new Qt([],{}),0,Ie))}),Se}function oi(se){const Se={};return Object.entries(se).forEach(([me,Ie])=>Se[me]=`${Ie}`),Se}function Xt(se,Se,me){return se==me.path&&Qe(Se,me.parameters)}const Un="imperative";var fn=function(se){return se[se.NavigationStart=0]="NavigationStart",se[se.NavigationEnd=1]="NavigationEnd",se[se.NavigationCancel=2]="NavigationCancel",se[se.NavigationError=3]="NavigationError",se[se.RoutesRecognized=4]="RoutesRecognized",se[se.ResolveStart=5]="ResolveStart",se[se.ResolveEnd=6]="ResolveEnd",se[se.GuardsCheckStart=7]="GuardsCheckStart",se[se.GuardsCheckEnd=8]="GuardsCheckEnd",se[se.RouteConfigLoadStart=9]="RouteConfigLoadStart",se[se.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",se[se.ChildActivationStart=11]="ChildActivationStart",se[se.ChildActivationEnd=12]="ChildActivationEnd",se[se.ActivationStart=13]="ActivationStart",se[se.ActivationEnd=14]="ActivationEnd",se[se.Scroll=15]="Scroll",se[se.NavigationSkipped=16]="NavigationSkipped",se}(fn||{});class Qn{id;url;constructor(Se,me){this.id=Se,this.url=me}}class vi extends Qn{type=fn.NavigationStart;navigationTrigger;restoredState;constructor(Se,me,Ie="imperative",Je=null){super(Se,me),this.navigationTrigger=Ie,this.restoredState=Je}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends Qn{urlAfterRedirects;type=fn.NavigationEnd;constructor(Se,me,Ie){super(Se,me),this.urlAfterRedirects=Ie}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ze=function(se){return se[se.Redirect=0]="Redirect",se[se.SupersededByNewNavigation=1]="SupersededByNewNavigation",se[se.NoDataFromResolver=2]="NoDataFromResolver",se[se.GuardRejected=3]="GuardRejected",se}(Ze||{}),ht=function(se){return se[se.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",se[se.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",se}(ht||{});class jt extends Qn{reason;code;type=fn.NavigationCancel;constructor(Se,me,Ie,Je){super(Se,me),this.reason=Ie,this.code=Je}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jt extends Qn{reason;code;type=fn.NavigationSkipped;constructor(Se,me,Ie,Je){super(Se,me),this.reason=Ie,this.code=Je}}class Mn extends Qn{error;target;type=fn.NavigationError;constructor(Se,me,Ie,Je){super(Se,me),this.error=Ie,this.target=Je}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hi extends Qn{urlAfterRedirects;state;type=fn.RoutesRecognized;constructor(Se,me,Ie,Je){super(Se,me),this.urlAfterRedirects=Ie,this.state=Je}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends Qn{urlAfterRedirects;state;type=fn.GuardsCheckStart;constructor(Se,me,Ie,Je){super(Se,me),this.urlAfterRedirects=Ie,this.state=Je}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn extends Qn{urlAfterRedirects;state;shouldActivate;type=fn.GuardsCheckEnd;constructor(Se,me,Ie,Je,Mt){super(Se,me),this.urlAfterRedirects=Ie,this.state=Je,this.shouldActivate=Mt}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends Qn{urlAfterRedirects;state;type=fn.ResolveStart;constructor(Se,me,Ie,Je){super(Se,me),this.urlAfterRedirects=Ie,this.state=Je}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends Qn{urlAfterRedirects;state;type=fn.ResolveEnd;constructor(Se,me,Ie,Je){super(Se,me),this.urlAfterRedirects=Ie,this.state=Je}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms{route;type=fn.RouteConfigLoadStart;constructor(Se){this.route=Se}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $t{route;type=fn.RouteConfigLoadEnd;constructor(Se){this.route=Se}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ai{snapshot;type=fn.ChildActivationStart;constructor(Se){this.snapshot=Se}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{snapshot;type=fn.ChildActivationEnd;constructor(Se){this.snapshot=Se}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{snapshot;type=fn.ActivationStart;constructor(Se){this.snapshot=Se}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{snapshot;type=fn.ActivationEnd;constructor(Se){this.snapshot=Se}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{routerEvent;position;anchor;type=fn.Scroll;constructor(Se,me,Ie){this.routerEvent=Se,this.position=me,this.anchor=Ie}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qi{}class Bt{url;navigationBehaviorOptions;constructor(Se,me){this.url=Se,this.navigationBehaviorOptions=me}}function ue(se){switch(se.type){case fn.ActivationEnd:return`ActivationEnd(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.ActivationStart:return`ActivationStart(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.ChildActivationEnd:return`ChildActivationEnd(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.ChildActivationStart:return`ChildActivationStart(path: '${se.snapshot.routeConfig?.path||""}')`;case fn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state}, shouldActivate: ${se.shouldActivate})`;case fn.GuardsCheckStart:return`GuardsCheckStart(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.NavigationCancel:return`NavigationCancel(id: ${se.id}, url: '${se.url}')`;case fn.NavigationSkipped:return`NavigationSkipped(id: ${se.id}, url: '${se.url}')`;case fn.NavigationEnd:return`NavigationEnd(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}')`;case fn.NavigationError:return`NavigationError(id: ${se.id}, url: '${se.url}', error: ${se.error})`;case fn.NavigationStart:return`NavigationStart(id: ${se.id}, url: '${se.url}')`;case fn.ResolveEnd:return`ResolveEnd(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.ResolveStart:return`ResolveStart(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${se.route.path})`;case fn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${se.route.path})`;case fn.RoutesRecognized:return`RoutesRecognized(id: ${se.id}, url: '${se.url}', urlAfterRedirects: '${se.urlAfterRedirects}', state: ${se.state})`;case fn.Scroll:return`Scroll(anchor: '${se.anchor}', position: '${se.position?`${se.position[0]}, ${se.position[1]}`:null}')`}}function pn(se){return se.outlet||Le}function Wi(se){if(!se)return null;if(se.routeConfig?._injector)return se.routeConfig._injector;for(let Se=se.parent;Se;Se=Se.parent){const me=Se.routeConfig;if(me?._loadedInjector)return me._loadedInjector;if(me?._injector)return me._injector}return null}class Di{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wi(this.route?.snapshot)??this.rootInjector}constructor(Se){this.rootInjector=Se,this.children=new Li(this.rootInjector)}}let Li=(()=>{class se{rootInjector;contexts=new Map;constructor(me){this.rootInjector=me}onChildOutletCreated(me,Ie){const Je=this.getOrCreateContext(me);Je.outlet=Ie,this.contexts.set(me,Je)}onChildOutletDestroyed(me){const Ie=this.getContext(me);Ie&&(Ie.outlet=null,Ie.attachRef=null)}onOutletDeactivated(){const me=this.contexts;return this.contexts=new Map,me}onOutletReAttached(me){this.contexts=me}getOrCreateContext(me){let Ie=this.getContext(me);return Ie||(Ie=new Di(this.rootInjector),this.contexts.set(me,Ie)),Ie}getContext(me){return this.contexts.get(me)||null}static \u0275fac=function(Ie){return new(Ie||se)(f.KVO(f.uvJ))};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();class li{_root;constructor(Se){this._root=Se}get root(){return this._root.value}parent(Se){const me=this.pathFromRoot(Se);return me.length>1?me[me.length-2]:null}children(Se){const me=Ui(Se,this._root);return me?me.children.map(Ie=>Ie.value):[]}firstChild(Se){const me=Ui(Se,this._root);return me&&me.children.length>0?me.children[0].value:null}siblings(Se){const me=Yi(Se,this._root);return me.length<2?[]:me[me.length-2].children.map(Je=>Je.value).filter(Je=>Je!==Se)}pathFromRoot(Se){return Yi(Se,this._root).map(me=>me.value)}}function Ui(se,Se){if(se===Se.value)return Se;for(const me of Se.children){const Ie=Ui(se,me);if(Ie)return Ie}return null}function Yi(se,Se){if(se===Se.value)return[Se];for(const me of Se.children){const Ie=Yi(se,me);if(Ie.length)return Ie.unshift(Se),Ie}return[]}class Os{value;children;constructor(Se,me){this.value=Se,this.children=me}toString(){return`TreeNode(${this.value})`}}function Fs(se){const Se={};return se&&se.children.forEach(me=>Se[me.value.outlet]=me),Se}class Or extends li{snapshot;constructor(Se,me){super(Se),this.snapshot=me,yi(this,Se)}toString(){return this.snapshot.toString()}}function Zr(se){const Se=function Dt(se){const Mt=new mn([],{},{},"",{},Le,se,null,{});return new Jn("",new Os(Mt,[]))}(se),me=new m.t([new pe("",{})]),Ie=new m.t({}),Je=new m.t({}),Mt=new m.t({}),St=new m.t(""),an=new dn(me,Ie,Mt,St,Je,Le,se,Se.root);return an.snapshot=Se.root,new Or(new Os(an,[]),Se)}class dn{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(Se,me,Ie,Je,Mt,St,an,Pn){this.urlSubject=Se,this.paramsSubject=me,this.queryParamsSubject=Ie,this.fragmentSubject=Je,this.dataSubject=Mt,this.outlet=St,this.component=an,this._futureSnapshot=Pn,this.title=this.dataSubject?.pipe((0,M.T)(Yn=>Yn[Ve]))??(0,w.of)(void 0),this.url=Se,this.params=me,this.queryParams=Ie,this.fragment=Je,this.data=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,M.T)(Se=>je(Se))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,M.T)(Se=>je(Se))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vt(se,Se,me="emptyOnly"){let Ie;const{routeConfig:Je}=se;return Ie=null===Se||"always"!==me&&""!==Je?.path&&(Se.component||Se.routeConfig?.loadComponent)?{params:{...se.params},data:{...se.data},resolve:{...se.data,...se._resolvedData??{}}}:{params:{...Se.params,...se.params},data:{...Se.data,...se.data},resolve:{...se.data,...Se.data,...Je?.data,...se._resolvedData}},Je&&xr(Je)&&(Ie.resolve[Ve]=Je.title),Ie}class mn{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ve]}constructor(Se,me,Ie,Je,Mt,St,an,Pn,Yn){this.url=Se,this.params=me,this.queryParams=Ie,this.fragment=Je,this.data=Mt,this.outlet=St,this.component=an,this.routeConfig=Pn,this._resolve=Yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=je(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=je(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ie=>Ie.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jn extends li{url;constructor(Se,me){super(me),this.url=Se,yi(this,me)}toString(){return fi(this._root)}}function yi(se,Se){Se.value._routerState=se,Se.children.forEach(me=>yi(se,me))}function fi(se){const Se=se.children.length>0?` { ${se.children.map(fi).join(", ")} } `:"";return`${se.value}${Se}`}function Us(se){if(se.snapshot){const Se=se.snapshot,me=se._futureSnapshot;se.snapshot=me,Qe(Se.queryParams,me.queryParams)||se.queryParamsSubject.next(me.queryParams),Se.fragment!==me.fragment&&se.fragmentSubject.next(me.fragment),Qe(Se.params,me.params)||se.paramsSubject.next(me.params),function st(se,Se){if(se.length!==Se.length)return!1;for(let me=0;me<se.length;++me)if(!Qe(se[me],Se[me]))return!1;return!0}(Se.url,me.url)||se.urlSubject.next(me.url),Qe(Se.data,me.data)||se.dataSubject.next(me.data)}else se.snapshot=se._futureSnapshot,se.dataSubject.next(se._futureSnapshot.data)}function Es(se,Se){const me=Qe(se.params,Se.params)&&function de(se,Se){return P(se,Se)&&se.every((me,Ie)=>Qe(me.parameters,Se[Ie].parameters))}(se.url,Se.url);return me&&!(!se.parent!=!Se.parent)&&(!se.parent||Es(se.parent,Se.parent))}function xr(se){return"string"==typeof se.title||null===se.title}const xs=new f.nKC("");let ua=(()=>{class se{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Le;activateEvents=new f.bkB;deactivateEvents=new f.bkB;attachEvents=new f.bkB;detachEvents=new f.bkB;routerOutletData=(0,f.hFB)(void 0);parentContexts=(0,f.WQX)(Li);location=(0,f.WQX)(f.c1b);changeDetector=(0,f.WQX)(f.gRc);inputBinder=(0,f.WQX)(Ir,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(me){if(me.name){const{firstChange:Ie,previousValue:Je}=me.name;if(Ie)return;this.isTrackedInParentContexts(Je)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Je)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(me){return this.parentContexts.getContext(me)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const me=this.parentContexts.getContext(this.name);me?.route&&(me.attachRef?this.attach(me.attachRef,me.route):this.activateWith(me.route,me.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.wOt(4012,!1);this.location.detach();const me=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(me.instance),me}attach(me,Ie){this.activated=me,this._activatedRoute=Ie,this.location.insert(me.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(me.instance)}deactivate(){if(this.activated){const me=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(me)}}activateWith(me,Ie){if(this.isActivated)throw new f.wOt(4013,!1);this._activatedRoute=me;const Je=this.location,St=me.snapshot.component,an=this.parentContexts.getOrCreateContext(this.name).children,Pn=new Ci(me,an,Je.injector,this.routerOutletData);this.activated=Je.createComponent(St,{index:Je.length,injector:Pn,environmentInjector:Ie}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275dir=f.FsC({type:se,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[f.OA$]})}return se})();class Ci{route;childContexts;parent;outletData;constructor(Se,me,Ie,Je){this.route=Se,this.childContexts=me,this.parent=Ie,this.outletData=Je}get(Se,me){return Se===dn?this.route:Se===Li?this.childContexts:Se===xs?this.outletData:this.parent.get(Se,me)}}const Ir=new f.nKC("");let qr=(()=>{class se{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(me){this.unsubscribeFromRouteData(me),this.subscribeToRouteData(me)}unsubscribeFromRouteData(me){this.outletDataSubscriptions.get(me)?.unsubscribe(),this.outletDataSubscriptions.delete(me)}subscribeToRouteData(me){const{activatedRoute:Ie}=me,Je=(0,D.z)([Ie.queryParams,Ie.params,Ie.data]).pipe((0,W.n)(([Mt,St,an],Pn)=>(an={...Mt,...St,...an},0===Pn?(0,w.of)(an):Promise.resolve(an)))).subscribe(Mt=>{if(!me.isActivated||!me.activatedComponentRef||me.activatedRoute!==Ie||null===Ie.component)return void this.unsubscribeFromRouteData(me);const St=(0,f.HJs)(Ie.component);if(St)for(const{templateName:an}of St.inputs)me.activatedComponentRef.setInput(an,Mt[an]);else this.unsubscribeFromRouteData(me)});this.outletDataSubscriptions.set(me,Je)}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac})}return se})();function da(se,Se,me){if(me&&se.shouldReuseRoute(Se.value,me.value.snapshot)){const Ie=me.value;Ie._futureSnapshot=Se.value;const Je=function fo(se,Se,me){return Se.children.map(Ie=>{for(const Je of me.children)if(se.shouldReuseRoute(Ie.value,Je.value.snapshot))return da(se,Ie,Je);return da(se,Ie)})}(se,Se,me);return new Os(Ie,Je)}{if(se.shouldAttach(Se.value)){const Mt=se.retrieve(Se.value);if(null!==Mt){const St=Mt.route;return St.value._futureSnapshot=Se.value,St.children=Se.children.map(an=>da(se,an)),St}}const Ie=function ma(se){return new dn(new m.t(se.url),new m.t(se.params),new m.t(se.queryParams),new m.t(se.fragment),new m.t(se.data),se.outlet,se.component,se)}(Se.value),Je=Se.children.map(Mt=>da(se,Mt));return new Os(Ie,Je)}}class Sr{redirectTo;navigationBehaviorOptions;constructor(Se,me){this.redirectTo=Se,this.navigationBehaviorOptions=me}}const kr="ngNavigationCancelingError";function Wr(se,Se){const{redirectTo:me,navigationBehaviorOptions:Ie}=un(Se)?{redirectTo:Se,navigationBehaviorOptions:void 0}:Se,Je=Pr(!1,Ze.Redirect);return Je.url=me,Je.navigationBehaviorOptions=Ie,Je}function Pr(se,Se){const me=new Error(`NavigationCancelingError: ${se||""}`);return me[kr]=!0,me.cancellationCode=Se,me}function ha(se){return!!se&&se[kr]}class Fr{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(Se,me,Ie,Je,Mt){this.routeReuseStrategy=Se,this.futureState=me,this.currState=Ie,this.forwardEvent=Je,this.inputBindingEnabled=Mt}activate(Se){const me=this.futureState._root,Ie=this.currState?this.currState._root:null;this.deactivateChildRoutes(me,Ie,Se),Us(this.futureState.root),this.activateChildRoutes(me,Ie,Se)}deactivateChildRoutes(Se,me,Ie){const Je=Fs(me);Se.children.forEach(Mt=>{const St=Mt.value.outlet;this.deactivateRoutes(Mt,Je[St],Ie),delete Je[St]}),Object.values(Je).forEach(Mt=>{this.deactivateRouteAndItsChildren(Mt,Ie)})}deactivateRoutes(Se,me,Ie){const Je=Se.value,Mt=me?me.value:null;if(Je===Mt)if(Je.component){const St=Ie.getContext(Je.outlet);St&&this.deactivateChildRoutes(Se,me,St.children)}else this.deactivateChildRoutes(Se,me,Ie);else Mt&&this.deactivateRouteAndItsChildren(me,Ie)}deactivateRouteAndItsChildren(Se,me){Se.value.component&&this.routeReuseStrategy.shouldDetach(Se.value.snapshot)?this.detachAndStoreRouteSubtree(Se,me):this.deactivateRouteAndOutlet(Se,me)}detachAndStoreRouteSubtree(Se,me){const Ie=me.getContext(Se.value.outlet),Je=Ie&&Se.value.component?Ie.children:me,Mt=Fs(Se);for(const St of Object.values(Mt))this.deactivateRouteAndItsChildren(St,Je);if(Ie&&Ie.outlet){const St=Ie.outlet.detach(),an=Ie.children.onOutletDeactivated();this.routeReuseStrategy.store(Se.value.snapshot,{componentRef:St,route:Se,contexts:an})}}deactivateRouteAndOutlet(Se,me){const Ie=me.getContext(Se.value.outlet),Je=Ie&&Se.value.component?Ie.children:me,Mt=Fs(Se);for(const St of Object.values(Mt))this.deactivateRouteAndItsChildren(St,Je);Ie&&(Ie.outlet&&(Ie.outlet.deactivate(),Ie.children.onOutletDeactivated()),Ie.attachRef=null,Ie.route=null)}activateChildRoutes(Se,me,Ie){const Je=Fs(me);Se.children.forEach(Mt=>{this.activateRoutes(Mt,Je[Mt.value.outlet],Ie),this.forwardEvent(new Yt(Mt.value.snapshot))}),Se.children.length&&this.forwardEvent(new Et(Se.value.snapshot))}activateRoutes(Se,me,Ie){const Je=Se.value,Mt=me?me.value:null;if(Us(Je),Je===Mt)if(Je.component){const St=Ie.getOrCreateContext(Je.outlet);this.activateChildRoutes(Se,me,St.children)}else this.activateChildRoutes(Se,me,Ie);else if(Je.component){const St=Ie.getOrCreateContext(Je.outlet);if(this.routeReuseStrategy.shouldAttach(Je.snapshot)){const an=this.routeReuseStrategy.retrieve(Je.snapshot);this.routeReuseStrategy.store(Je.snapshot,null),St.children.onOutletReAttached(an.contexts),St.attachRef=an.componentRef,St.route=an.route.value,St.outlet&&St.outlet.attach(an.componentRef,an.route.value),Us(an.route.value),this.activateChildRoutes(Se,null,St.children)}else St.attachRef=null,St.route=Je,St.outlet&&St.outlet.activateWith(Je,St.injector),this.activateChildRoutes(Se,null,St.children)}else this.activateChildRoutes(Se,null,Ie)}}class Wo{path;route;constructor(Se){this.path=Se,this.route=this.path[this.path.length-1]}}class ta{component;route;constructor(Se,me){this.component=Se,this.route=me}}function xa(se,Se,me){const Ie=se._root;return mr(Ie,Se?Se._root:null,me,[Ie.value])}function Ur(se,Se){const me=Symbol(),Ie=Se.get(se,me);return Ie===me?"function"!=typeof se||(0,f.LfX)(se)?Se.get(se):se:Ie}function mr(se,Se,me,Ie,Je={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=Fs(Se);return se.children.forEach(St=>{(function ka(se,Se,me,Ie,Je={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=se.value,St=Se?Se.value:null,an=me?me.getContext(se.value.outlet):null;if(St&&Mt.routeConfig===St.routeConfig){const Pn=function io(se,Se,me){if("function"==typeof me)return me(se,Se);switch(me){case"pathParamsChange":return!P(se.url,Se.url);case"pathParamsOrQueryParamsChange":return!P(se.url,Se.url)||!Qe(se.queryParams,Se.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Es(se,Se)||!Qe(se.queryParams,Se.queryParams);default:return!Es(se,Se)}}(St,Mt,Mt.routeConfig.runGuardsAndResolvers);Pn?Je.canActivateChecks.push(new Wo(Ie)):(Mt.data=St.data,Mt._resolvedData=St._resolvedData),mr(se,Se,Mt.component?an?an.children:null:me,Ie,Je),Pn&&an&&an.outlet&&an.outlet.isActivated&&Je.canDeactivateChecks.push(new ta(an.outlet.component,St))}else St&&Ia(Se,an,Je),Je.canActivateChecks.push(new Wo(Ie)),mr(se,null,Mt.component?an?an.children:null:me,Ie,Je)})(St,Mt[St.value.outlet],me,Ie.concat([St.value]),Je),delete Mt[St.value.outlet]}),Object.entries(Mt).forEach(([St,an])=>Ia(an,me.getContext(St),Je)),Je}function Ia(se,Se,me){const Ie=Fs(se),Je=se.value;Object.entries(Ie).forEach(([Mt,St])=>{Ia(St,Je.component?Se?Se.children.getContext(Mt):null:Se,me)}),me.canDeactivateChecks.push(new ta(Je.component&&Se&&Se.outlet&&Se.outlet.isActivated?Se.outlet.component:null,Je))}function Br(se){return"function"==typeof se}function hs(se){return se instanceof S.G||"EmptyError"===se?.name}const Ds=Symbol("INITIAL_VALUE");function ks(){return(0,W.n)(se=>(0,D.z)(se.map(Se=>Se.pipe((0,y.s)(1),(0,X.Z)(Ds)))).pipe((0,M.T)(Se=>{for(const me of Se)if(!0!==me){if(me===Ds)return Ds;if(!1===me||Yr(me))return me}return!0}),(0,Z.p)(Se=>Se!==Ds),(0,y.s)(1)))}function Yr(se){return un(se)||se instanceof Sr}function qe(se){return(0,z.F)((0,te.M)(Se=>{if("boolean"!=typeof Se)throw Wr(0,Se)}),(0,M.T)(Se=>!0===Se))}class bn{segmentGroup;constructor(Se){this.segmentGroup=Se||null}}class ai extends Error{urlTree;constructor(Se){super(),this.urlTree=Se}}function ts(se){return(0,u.$)(new bn(se))}class $r{urlSerializer;urlTree;constructor(Se,me){this.urlSerializer=Se,this.urlTree=me}lineralizeSegments(Se,me){let Ie=[],Je=me.root;for(;;){if(Ie=Ie.concat(Je.segments),0===Je.numberOfChildren)return(0,w.of)(Ie);if(Je.numberOfChildren>1||!Je.children[Le])return(0,u.$)(new f.wOt(4e3,!1));Je=Je.children[Le]}}applyRedirectCommands(Se,me,Ie,Je,Mt){if("string"!=typeof me){const an=me,{queryParams:Pn,fragment:Yn,routeConfig:es,url:rn,outlet:Ee,params:G,data:ye,title:Oe}=Je,pt=(0,f.N4e)(Mt,()=>an({params:G,data:ye,queryParams:Pn,fragment:Yn,routeConfig:es,url:rn,outlet:Ee,title:Oe}));if(pt instanceof ft)throw new ai(pt);me=pt}const St=this.applyRedirectCreateUrlTree(me,this.urlSerializer.parse(me),Se,Ie);if("/"===me[0])throw new ai(St);return St}applyRedirectCreateUrlTree(Se,me,Ie,Je){const Mt=this.createSegmentGroup(Se,me.root,Ie,Je);return new ft(Mt,this.createQueryParams(me.queryParams,this.urlTree.queryParams),me.fragment)}createQueryParams(Se,me){const Ie={};return Object.entries(Se).forEach(([Je,Mt])=>{if("string"==typeof Mt&&":"===Mt[0]){const an=Mt.substring(1);Ie[Je]=me[an]}else Ie[Je]=Mt}),Ie}createSegmentGroup(Se,me,Ie,Je){const Mt=this.createSegments(Se,me.segments,Ie,Je);let St={};return Object.entries(me.children).forEach(([an,Pn])=>{St[an]=this.createSegmentGroup(Se,Pn,Ie,Je)}),new Qt(Mt,St)}createSegments(Se,me,Ie,Je){return me.map(Mt=>":"===Mt.path[0]?this.findPosParam(Se,Mt,Je):this.findOrReturn(Mt,Ie))}findPosParam(Se,me,Ie){const Je=Ie[me.path.substring(1)];if(!Je)throw new f.wOt(4001,!1);return Je}findOrReturn(Se,me){let Ie=0;for(const Je of me){if(Je.path===Se.path)return me.splice(Ie),Je;Ie++}return Se}}const ga={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $a(se,Se,me,Ie,Je){const Mt=Rr(se,Se,me);return Mt.matched?(Ie=function Ae(se,Se){return se.providers&&!se._injector&&(se._injector=(0,f.Ol2)(se.providers,Se,`Route: ${se.path}`)),se._injector??Se}(Se,Ie),function Pt(se,Se,me,Ie){const Je=Se.canMatch;if(!Je||0===Je.length)return(0,w.of)(!0);const Mt=Je.map(St=>{const an=Ur(St,se);return ge(function ar(se){return se&&Br(se.canMatch)}(an)?an.canMatch(Se,me):(0,f.N4e)(se,()=>an(Se,me)))});return(0,w.of)(Mt).pipe(ks(),qe())}(Ie,Se,me).pipe((0,M.T)(St=>!0===St?Mt:{...ga}))):(0,w.of)(Mt)}function Rr(se,Se,me){if("**"===Se.path)return function Ga(se){return{matched:!0,parameters:se.length>0?he(se).parameters:{},consumedSegments:se,remainingSegments:[],positionalParamSegments:{}}}(me);if(""===Se.path)return"full"===Se.pathMatch&&(se.hasChildren()||me.length>0)?{...ga}:{matched:!0,consumedSegments:[],remainingSegments:me,parameters:{},positionalParamSegments:{}};const Je=(Se.matcher||ct)(me,se,Se);if(!Je)return{...ga};const Mt={};Object.entries(Je.posParams??{}).forEach(([an,Pn])=>{Mt[an]=Pn.path});const St=Je.consumed.length>0?{...Mt,...Je.consumed[Je.consumed.length-1].parameters}:Mt;return{matched:!0,consumedSegments:Je.consumed,remainingSegments:me.slice(Je.consumed.length),parameters:St,positionalParamSegments:Je.posParams??{}}}function ro(se,Se,me,Ie){return me.length>0&&function Pa(se,Se,me){return me.some(Ie=>Ys(se,Se,Ie)&&pn(Ie)!==Le)}(se,me,Ie)?{segmentGroup:new Qt(Se,ws(Ie,new Qt(me,se.children))),slicedSegments:[]}:0===me.length&&function sl(se,Se,me){return me.some(Ie=>Ys(se,Se,Ie))}(se,me,Ie)?{segmentGroup:new Qt(se.segments,Mc(se,me,Ie,se.children)),slicedSegments:me}:{segmentGroup:new Qt(se.segments,se.children),slicedSegments:me}}function Mc(se,Se,me,Ie){const Je={};for(const Mt of me)if(Ys(se,Se,Mt)&&!Ie[pn(Mt)]){const St=new Qt([],{});Je[pn(Mt)]=St}return{...Ie,...Je}}function ws(se,Se){const me={};me[Le]=Se;for(const Ie of se)if(""===Ie.path&&pn(Ie)!==Le){const Je=new Qt([],{});me[pn(Ie)]=Je}return me}function Ys(se,Se,me){return(!(se.hasChildren()||Se.length>0)||"full"!==me.pathMatch)&&""===me.path}class Nl{}class Gr{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(Se,me,Ie,Je,Mt,St,an){this.injector=Se,this.configLoader=me,this.rootComponentType=Ie,this.config=Je,this.urlTree=Mt,this.paramsInheritanceStrategy=St,this.urlSerializer=an,this.applyRedirects=new $r(this.urlSerializer,this.urlTree)}noMatchError(Se){return new f.wOt(4002,`'${Se.segmentGroup}'`)}recognize(){const Se=ro(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Se).pipe((0,M.T)(({children:me,rootSnapshot:Ie})=>{const Je=new Os(Ie,me),Mt=new Jn("",Je),St=function ii(se,Se,me=null,Ie=null){return Ii(Ei(se),Se,me,Ie)}(Ie,[],this.urlTree.queryParams,this.urlTree.fragment);return St.queryParams=this.urlTree.queryParams,Mt.url=this.urlSerializer.serialize(St),{state:Mt,tree:St}}))}match(Se){const me=new mn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Se,Le,me).pipe((0,M.T)(Ie=>({children:Ie,rootSnapshot:me})),(0,N.W)(Ie=>{if(Ie instanceof ai)return this.urlTree=Ie.urlTree,this.match(Ie.urlTree.root);throw Ie instanceof bn?this.noMatchError(Ie):Ie}))}processSegmentGroup(Se,me,Ie,Je,Mt){return 0===Ie.segments.length&&Ie.hasChildren()?this.processChildren(Se,me,Ie,Mt):this.processSegment(Se,me,Ie,Ie.segments,Je,!0,Mt).pipe((0,M.T)(St=>St instanceof Os?[St]:[]))}processChildren(Se,me,Ie,Je){const Mt=[];for(const St of Object.keys(Ie.children))"primary"===St?Mt.unshift(St):Mt.push(St);return(0,e.H)(Mt).pipe((0,Q.H)(St=>{const an=Ie.children[St],Pn=function Bn(se,Se){const me=se.filter(Ie=>pn(Ie)===Se);return me.push(...se.filter(Ie=>pn(Ie)!==Se)),me}(me,St);return this.processSegmentGroup(Se,Pn,an,St,Je)}),function R(se,Se){return(0,fe.N)((0,oe.S)(se,Se,arguments.length>=2,!0))}((St,an)=>(St.push(...an),St)),(0,Fe.U)(null),function vt(se,Se){const me=arguments.length>=2;return Ie=>Ie.pipe(se?(0,Z.p)((Je,Mt)=>se(Je,Mt,Ie)):lt.D,We(1),me?(0,Fe.U)(Se):(0,rt.v)(()=>new S.G))}(),(0,v.Z)(St=>{if(null===St)return ts(Ie);const an=va(St);return function Ts(se){se.sort((Se,me)=>Se.value.outlet===Le?-1:me.value.outlet===Le?1:Se.value.outlet.localeCompare(me.value.outlet))}(an),(0,w.of)(an)}))}processSegment(Se,me,Ie,Je,Mt,St,an){return(0,e.H)(me).pipe((0,Q.H)(Pn=>this.processSegmentAgainstRoute(Pn._injector??Se,me,Pn,Ie,Je,Mt,St,an).pipe((0,N.W)(Yn=>{if(Yn instanceof bn)return(0,w.of)(null);throw Yn}))),(0,L.$)(Pn=>!!Pn),(0,N.W)(Pn=>{if(hs(Pn))return function Do(se,Se,me){return 0===Se.length&&!se.children[me]}(Ie,Je,Mt)?(0,w.of)(new Nl):ts(Ie);throw Pn}))}processSegmentAgainstRoute(Se,me,Ie,Je,Mt,St,an,Pn){return pn(Ie)===St||St!==Le&&Ys(Je,Mt,Ie)?void 0===Ie.redirectTo?this.matchSegmentAgainstRoute(Se,Je,Ie,Mt,St,Pn):this.allowRedirects&&an?this.expandSegmentAgainstRouteUsingRedirect(Se,Je,me,Ie,Mt,St,Pn):ts(Je):ts(Je)}expandSegmentAgainstRouteUsingRedirect(Se,me,Ie,Je,Mt,St,an){const{matched:Pn,parameters:Yn,consumedSegments:es,positionalParamSegments:rn,remainingSegments:Ee}=Rr(me,Je,Mt);if(!Pn)return ts(me);"string"==typeof Je.redirectTo&&"/"===Je.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const G=new mn(Mt,Yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(Je),pn(Je),Je.component??Je._loadedComponent??null,Je,Ar(Je)),ye=Vt(G,an,this.paramsInheritanceStrategy);G.params=Object.freeze(ye.params),G.data=Object.freeze(ye.data);const Oe=this.applyRedirects.applyRedirectCommands(es,Je.redirectTo,rn,G,Se);return this.applyRedirects.lineralizeSegments(Je,Oe).pipe((0,v.Z)(pt=>this.processSegment(Se,Ie,me,pt.concat(Ee),St,!1,an)))}matchSegmentAgainstRoute(Se,me,Ie,Je,Mt,St){const an=$a(me,Ie,Je,Se);return"**"===Ie.path&&(me.children={}),an.pipe((0,W.n)(Pn=>Pn.matched?this.getChildConfig(Se=Ie._injector??Se,Ie,Je).pipe((0,W.n)(({routes:Yn})=>{const es=Ie._loadedInjector??Se,{parameters:rn,consumedSegments:Ee,remainingSegments:G}=Pn,ye=new mn(Ee,rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(Ie),pn(Ie),Ie.component??Ie._loadedComponent??null,Ie,Ar(Ie)),Oe=Vt(ye,St,this.paramsInheritanceStrategy);ye.params=Object.freeze(Oe.params),ye.data=Object.freeze(Oe.data);const{segmentGroup:pt,slicedSegments:Ft}=ro(me,Ee,G,Yn);if(0===Ft.length&&pt.hasChildren())return this.processChildren(es,Yn,pt,ye).pipe((0,M.T)(vn=>new Os(ye,vn)));if(0===Yn.length&&0===Ft.length)return(0,w.of)(new Os(ye,[]));const zt=pn(Ie)===Mt;return this.processSegment(es,Yn,pt,Ft,zt?Le:Mt,!0,ye).pipe((0,M.T)(vn=>new Os(ye,vn instanceof Os?[vn]:[])))})):ts(me)))}getChildConfig(Se,me,Ie){return me.children?(0,w.of)({routes:me.children,injector:Se}):me.loadChildren?void 0!==me._loadedRoutes?(0,w.of)({routes:me._loadedRoutes,injector:me._loadedInjector}):function Te(se,Se,me,Ie){const Je=Se.canLoad;if(void 0===Je||0===Je.length)return(0,w.of)(!0);const Mt=Je.map(St=>{const an=Ur(St,se);return ge(function vr(se){return se&&Br(se.canLoad)}(an)?an.canLoad(Se,me):(0,f.N4e)(se,()=>an(Se,me)))});return(0,w.of)(Mt).pipe(ks(),qe())}(Se,me,Ie).pipe((0,v.Z)(Je=>Je?this.configLoader.loadChildren(Se,me).pipe((0,te.M)(Mt=>{me._loadedRoutes=Mt.routes,me._loadedInjector=Mt.injector})):function Zs(){return(0,u.$)(Pr(!1,Ze.GuardRejected))}())):(0,w.of)({routes:[],injector:Se})}}function _a(se){const Se=se.value.routeConfig;return Se&&""===Se.path}function va(se){const Se=[],me=new Set;for(const Ie of se){if(!_a(Ie)){Se.push(Ie);continue}const Je=Se.find(Mt=>Ie.value.routeConfig===Mt.value.routeConfig);void 0!==Je?(Je.children.push(...Ie.children),me.add(Je)):Se.push(Ie)}for(const Ie of me){const Je=va(Ie.children);Se.push(new Os(Ie.value,Je))}return Se.filter(Ie=>!me.has(Ie))}function Mo(se){return se.data||{}}function Ar(se){return se.resolve||{}}function Fa(se){const Se=se.children.map(me=>Fa(me)).flat();return[se,...Se]}function vl(se){return(0,W.n)(Se=>{const me=se(Se);return me?(0,e.H)(me).pipe((0,M.T)(()=>Se)):(0,w.of)(Se)})}let Ol=(()=>{class se{buildTitle(me){let Ie,Je=me.root;for(;void 0!==Je;)Ie=this.getResolvedTitleForRoute(Je)??Ie,Je=Je.children.find(Mt=>Mt.outlet===Le);return Ie}getResolvedTitleForRoute(me){return me.data[Ve]}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:()=>(0,f.WQX)(lr),providedIn:"root"})}return se})(),lr=(()=>{class se extends Ol{title;constructor(me){super(),this.title=me}updateTitle(me){const Ie=this.buildTitle(me);void 0!==Ie&&this.title.setTitle(Ie)}static \u0275fac=function(Ie){return new(Ie||se)(f.KVO(it.hE))};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const ao=new f.nKC("",{providedIn:"root",factory:()=>({})});let mo=(()=>{class se{static \u0275fac=function(Ie){return new(Ie||se)};static \u0275cmp=f.VBU({type:se,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(Ie,Je){1&Ie&&f.nrm(0,"router-outlet")},dependencies:[ua],encapsulation:2})}return se})();function Ps(se){const Se=se.children&&se.children.map(Ps),me=Se?{...se,children:Se}:{...se};return!me.component&&!me.loadComponent&&(Se||me.loadChildren)&&me.outlet&&me.outlet!==Le&&(me.component=mo),me}const ci=new f.nKC("");let ns=(()=>{class se{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,f.WQX)(f.Ql9);loadComponent(me){if(this.componentLoaders.get(me))return this.componentLoaders.get(me);if(me._loadedComponent)return(0,w.of)(me._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(me);const Ie=ge(me.loadComponent()).pipe((0,M.T)(Vr),(0,te.M)(Mt=>{this.onLoadEndListener&&this.onLoadEndListener(me),me._loadedComponent=Mt}),(0,Ue.j)(()=>{this.componentLoaders.delete(me)})),Je=new B.G(Ie,()=>new V.B).pipe((0,Ye.B)());return this.componentLoaders.set(me,Je),Je}loadChildren(me,Ie){if(this.childrenLoaders.get(Ie))return this.childrenLoaders.get(Ie);if(Ie._loadedRoutes)return(0,w.of)({routes:Ie._loadedRoutes,injector:Ie._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ie);const Mt=function cr(se,Se,me,Ie){return ge(se.loadChildren()).pipe((0,M.T)(Vr),(0,v.Z)(Je=>Je instanceof f.Co$||Array.isArray(Je)?(0,w.of)(Je):(0,e.H)(Se.compileModuleAsync(Je))),(0,M.T)(Je=>{Ie&&Ie(se);let Mt,St,an=!1;return Array.isArray(Je)?(St=Je,!0):(Mt=Je.create(me).injector,St=Mt.get(ci,[],{optional:!0,self:!0}).flat()),{routes:St.map(Ps),injector:Mt}}))}(Ie,this.compiler,me,this.onLoadEndListener).pipe((0,Ue.j)(()=>{this.childrenLoaders.delete(Ie)})),St=new B.G(Mt,()=>new V.B).pipe((0,Ye.B)());return this.childrenLoaders.set(Ie,St),St}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function Vr(se){return function hr(se){return se&&"object"==typeof se&&"default"in se}(se)?se.default:se}let na=(()=>{class se{static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:()=>(0,f.WQX)(Ge),providedIn:"root"})}return se})(),Ge=(()=>{class se{shouldProcessUrl(me){return!0}extract(me){return me}merge(me,Ie){return me}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const gn=new f.nKC(""),$e=new f.nKC("");function It(se,Se,me){const Ie=se.get($e),Je=se.get(t.q);return se.get(f.SKi).runOutsideAngular(()=>{if(!Je.startViewTransition||Ie.skipNextTransition)return Ie.skipNextTransition=!1,new Promise(Yn=>setTimeout(Yn));let Mt;const St=new Promise(Yn=>{Mt=Yn}),an=Je.startViewTransition(()=>(Mt(),function at(se){return new Promise(Se=>{(0,f.mal)({read:()=>setTimeout(Se)},{injector:se})})}(se))),{onViewTransitionCreated:Pn}=Ie;return Pn&&(0,f.N4e)(se,()=>Pn({transition:an,from:Se,to:me})),St})}const Sn=new f.nKC("");let Ri=(()=>{class se{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new V.B;transitionAbortSubject=new V.B;configLoader=(0,f.WQX)(ns);environmentInjector=(0,f.WQX)(f.uvJ);destroyRef=(0,f.WQX)(f.abz);urlSerializer=(0,f.WQX)(Ne);rootContexts=(0,f.WQX)(Li);location=(0,f.WQX)(o.aZ);inputBindingEnabled=null!==(0,f.WQX)(Ir,{optional:!0});titleStrategy=(0,f.WQX)(Ol);options=(0,f.WQX)(ao,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,f.WQX)(na);createViewTransition=(0,f.WQX)(gn,{optional:!0});navigationErrorHandler=(0,f.WQX)(Sn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,w.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=Je=>this.events.next(new $t(Je)),this.configLoader.onLoadStartListener=Je=>this.events.next(new Ms(Je)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(me){const Ie=++this.navigationId;this.transitions?.next({...me,extractedUrl:this.urlHandlingStrategy.extract(me.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:Ie})}setupNavigations(me){return this.transitions=new m.t(null),this.transitions.pipe((0,Z.p)(Ie=>null!==Ie),(0,W.n)(Ie=>{let Je=!1,Mt=!1;return(0,w.of)(Ie).pipe((0,W.n)(St=>{if(this.navigationId>Ie.id)return this.cancelNavigationTransition(Ie,"",Ze.SupersededByNewNavigation),E.w;this.currentTransition=Ie,this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,targetBrowserUrl:"string"==typeof St.extras.browserUrl?this.urlSerializer.parse(St.extras.browserUrl):St.extras.browserUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const an=!me.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!an&&"reload"!==(St.extras.onSameUrlNavigation??me.onSameUrlNavigation)){const Yn="";return this.events.next(new Jt(St.id,this.urlSerializer.serialize(St.rawUrl),Yn,ht.IgnoredSameUrlNavigation)),St.resolve(!1),E.w}if(this.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,w.of)(St).pipe((0,W.n)(Yn=>(this.events.next(new vi(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),Yn.source,Yn.restoredState)),Yn.id!==this.navigationId?E.w:Promise.resolve(Yn))),function Ra(se,Se,me,Ie,Je,Mt){return(0,v.Z)(St=>function Ml(se,Se,me,Ie,Je,Mt,St="emptyOnly"){return new Gr(se,Se,me,Ie,Je,St,Mt).recognize()}(se,Se,me,Ie,St.extractedUrl,Je,Mt).pipe((0,M.T)(({state:an,tree:Pn})=>({...St,targetSnapshot:an,urlAfterRedirects:Pn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,me.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,te.M)(Yn=>{Ie.targetSnapshot=Yn.targetSnapshot,Ie.urlAfterRedirects=Yn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yn.urlAfterRedirects};const es=new hi(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),this.urlSerializer.serialize(Yn.urlAfterRedirects),Yn.targetSnapshot);this.events.next(es)}));if(an&&this.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:Yn,extractedUrl:es,source:rn,restoredState:Ee,extras:G}=St,ye=new vi(Yn,this.urlSerializer.serialize(es),rn,Ee);this.events.next(ye);const Oe=Zr(this.rootComponentType).snapshot;return this.currentTransition=Ie={...St,targetSnapshot:Oe,urlAfterRedirects:es,extras:{...G,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=es,(0,w.of)(Ie)}{const Yn="";return this.events.next(new Jt(St.id,this.urlSerializer.serialize(St.extractedUrl),Yn,ht.IgnoredByUrlHandlingStrategy)),St.resolve(!1),E.w}}),(0,te.M)(St=>{const an=new ri(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(an)}),(0,M.T)(St=>(this.currentTransition=Ie={...St,guards:xa(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},Ie)),function Er(se,Se){return(0,v.Z)(me=>{const{targetSnapshot:Ie,currentSnapshot:Je,guards:{canActivateChecks:Mt,canDeactivateChecks:St}}=me;return 0===St.length&&0===Mt.length?(0,w.of)({...me,guardsResult:!0}):function nl(se,Se,me,Ie){return(0,e.H)(se).pipe((0,v.Z)(Je=>function ee(se,Se,me,Ie,Je){const Mt=Se&&Se.routeConfig?Se.routeConfig.canDeactivate:null;if(!Mt||0===Mt.length)return(0,w.of)(!0);const St=Mt.map(an=>{const Pn=Wi(Se)??Je,Yn=Ur(an,Pn);return ge(function Ca(se){return se&&Br(se.canDeactivate)}(Yn)?Yn.canDeactivate(se,Se,me,Ie):(0,f.N4e)(Pn,()=>Yn(se,Se,me,Ie))).pipe((0,L.$)())});return(0,w.of)(St).pipe(ks())}(Je.component,Je.route,me,Se,Ie)),(0,L.$)(Je=>!0!==Je,!0))}(St,Ie,Je,se).pipe((0,v.Z)(an=>an&&function Bs(se){return"boolean"==typeof se}(an)?function Yo(se,Se,me,Ie){return(0,e.H)(Se).pipe((0,Q.H)(Je=>(0,g.x)(function il(se,Se){return null!==se&&Se&&Se(new Ai(se)),(0,w.of)(!0)}(Je.route.parent,Ie),function so(se,Se){return null!==se&&Se&&Se(new yn(se)),(0,w.of)(!0)}(Je.route,Ie),function ie(se,Se,me){const Ie=Se[Se.length-1],Mt=Se.slice(0,Se.length-1).reverse().map(St=>function ja(se){const Se=se.routeConfig?se.routeConfig.canActivateChild:null;return Se&&0!==Se.length?{node:se,guards:Se}:null}(St)).filter(St=>null!==St).map(St=>(0,k.v)(()=>{const an=St.guards.map(Pn=>{const Yn=Wi(St.node)??me,es=Ur(Pn,Yn);return ge(function Ao(se){return se&&Br(se.canActivateChild)}(es)?es.canActivateChild(Ie,se):(0,f.N4e)(Yn,()=>es(Ie,se))).pipe((0,L.$)())});return(0,w.of)(an).pipe(ks())}));return(0,w.of)(Mt).pipe(ks())}(se,Je.path,me),function K(se,Se,me){const Ie=Se.routeConfig?Se.routeConfig.canActivate:null;if(!Ie||0===Ie.length)return(0,w.of)(!0);const Je=Ie.map(Mt=>(0,k.v)(()=>{const St=Wi(Se)??me,an=Ur(Mt,St);return ge(function jr(se){return se&&Br(se.canActivate)}(an)?an.canActivate(Se,se):(0,f.N4e)(St,()=>an(Se,se))).pipe((0,L.$)())}));return(0,w.of)(Je).pipe(ks())}(se,Je.route,me))),(0,L.$)(Je=>!0!==Je,!0))}(Ie,Mt,se,Se):(0,w.of)(an)),(0,M.T)(an=>({...me,guardsResult:an})))})}(this.environmentInjector,St=>this.events.next(St)),(0,te.M)(St=>{if(Ie.guardsResult=St.guardsResult,St.guardsResult&&"boolean"!=typeof St.guardsResult)throw Wr(0,St.guardsResult);const an=new Nn(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(an)}),(0,Z.p)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",Ze.GuardRejected),!1)),vl(St=>{if(0!==St.guards.canActivateChecks.length)return(0,w.of)(St).pipe((0,te.M)(an=>{const Pn=new Ki(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Pn)}),(0,W.n)(an=>{let Pn=!1;return(0,w.of)(an).pipe(function rl(se,Se){return(0,v.Z)(me=>{const{targetSnapshot:Ie,guards:{canActivateChecks:Je}}=me;if(!Je.length)return(0,w.of)(me);const Mt=new Set(Je.map(Pn=>Pn.route)),St=new Set;for(const Pn of Mt)if(!St.has(Pn))for(const Yn of Fa(Pn))St.add(Yn);let an=0;return(0,e.H)(St).pipe((0,Q.H)(Pn=>Mt.has(Pn)?function ac(se,Se,me,Ie){const Je=se.routeConfig,Mt=se._resolve;return void 0!==Je?.title&&!xr(Je)&&(Mt[Ve]=Je.title),function Oc(se,Se,me,Ie){const Je=ne(se);if(0===Je.length)return(0,w.of)({});const Mt={};return(0,e.H)(Je).pipe((0,v.Z)(St=>function Ha(se,Se,me,Ie){const Je=Wi(Se)??Ie,Mt=Ur(se,Je);return ge(Mt.resolve?Mt.resolve(Se,me):(0,f.N4e)(Je,()=>Mt(Se,me)))}(se[St],Se,me,Ie).pipe((0,L.$)(),(0,te.M)(an=>{if(an instanceof Sr)throw Wr(new De,an);Mt[St]=an}))),We(1),(0,M.T)(()=>Mt),(0,N.W)(St=>hs(St)?E.w:(0,u.$)(St)))}(Mt,se,Se,Ie).pipe((0,M.T)(St=>(se._resolvedData=St,se.data=Vt(se,se.parent,me).resolve,null)))}(Pn,Ie,se,Se):(Pn.data=Vt(Pn,Pn.parent,se).resolve,(0,w.of)(void 0))),(0,te.M)(()=>an++),We(1),(0,v.Z)(Pn=>an===St.size?(0,w.of)(me):E.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,te.M)({next:()=>Pn=!0,complete:()=>{Pn||this.cancelNavigationTransition(an,"",Ze.NoDataFromResolver)}}))}),(0,te.M)(an=>{const Pn=new Ji(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Pn)}))}),vl(St=>{const an=Pn=>{const Yn=[];Pn.routeConfig?.loadComponent&&!Pn.routeConfig._loadedComponent&&Yn.push(this.configLoader.loadComponent(Pn.routeConfig).pipe((0,te.M)(es=>{Pn.component=es}),(0,M.T)(()=>{})));for(const es of Pn.children)Yn.push(...an(es));return Yn};return(0,D.z)(an(St.targetSnapshot.root)).pipe((0,Fe.U)(null),(0,y.s)(1))}),vl(()=>this.afterPreactivation()),(0,W.n)(()=>{const{currentSnapshot:St,targetSnapshot:an}=Ie,Pn=this.createViewTransition?.(this.environmentInjector,St.root,an.root);return Pn?(0,e.H)(Pn).pipe((0,M.T)(()=>Ie)):(0,w.of)(Ie)}),(0,M.T)(St=>{const an=function Oa(se,Se,me){const Ie=da(se,Se._root,me?me._root:void 0);return new Or(Ie,Se)}(me.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=Ie={...St,targetRouterState:an},this.currentNavigation.targetRouterState=an,Ie}),(0,te.M)(()=>{this.events.next(new Qi)}),((se,Se,me,Ie)=>(0,M.T)(Je=>(new Fr(Se,Je.targetRouterState,Je.currentRouterState,me,Ie).activate(se),Je)))(this.rootContexts,me.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,y.s)(1),(0,te.M)({next:St=>{Je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Be(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),this.titleStrategy?.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{Je=!0}}),(0,He.Q)(this.transitionAbortSubject.pipe((0,te.M)(St=>{throw St}))),(0,Ue.j)(()=>{!Je&&!Mt&&this.cancelNavigationTransition(Ie,"",Ze.SupersededByNewNavigation),this.currentTransition?.id===Ie.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,N.W)(St=>{if(this.destroyed)return Ie.resolve(!1),E.w;if(Mt=!0,ha(St))this.events.next(new jt(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),St.message,St.cancellationCode)),function ea(se){return ha(se)&&un(se.url)}(St)?this.events.next(new Bt(St.url,St.navigationBehaviorOptions)):Ie.resolve(!1);else{const an=new Mn(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),St,Ie.targetSnapshot??void 0);try{const Pn=(0,f.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(an));if(!(Pn instanceof Sr))throw this.events.next(an),St;{const{message:Yn,cancellationCode:es}=Wr(0,Pn);this.events.next(new jt(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),Yn,es)),this.events.next(new Bt(Pn.redirectTo,Pn.navigationBehaviorOptions))}}catch(Pn){this.options.resolveNavigationPromiseOnError?Ie.resolve(!1):Ie.reject(Pn)}}return E.w}))}))}cancelNavigationTransition(me,Ie,Je){const Mt=new jt(me.id,this.urlSerializer.serialize(me.extractedUrl),Ie,Je);this.events.next(Mt),me.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const me=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Ie=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return me.toString()!==Ie?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function us(se){return se!==Un}let qi=(()=>{class se{static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:()=>(0,f.WQX)(Lr),providedIn:"root"})}return se})();class Tr{shouldDetach(Se){return!1}store(Se,me){}shouldAttach(Se){return!1}retrieve(Se){return null}shouldReuseRoute(Se,me){return Se.routeConfig===me.routeConfig}}let Lr=(()=>{class se extends Tr{static \u0275fac=(()=>{let me;return function(Je){return(me||(me=f.xGo(se)))(Je||se)}})();static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})(),zr=(()=>{class se{urlSerializer=(0,f.WQX)(Ne);options=(0,f.WQX)(ao,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,f.WQX)(o.aZ);urlHandlingStrategy=(0,f.WQX)(na);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ft;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:me,initialUrl:Ie,targetBrowserUrl:Je}){const Mt=void 0!==me?this.urlHandlingStrategy.merge(me,Ie):Ie,St=Je??Mt;return St instanceof ft?this.urlSerializer.serialize(St):St}commitTransition({targetRouterState:me,finalUrl:Ie,initialUrl:Je}){Ie&&me?(this.currentUrlTree=Ie,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie,Je),this.routerState=me):this.rawUrlTree=Je}routerState=Zr(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:me}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,me??this.rawUrlTree)}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:()=>(0,f.WQX)(gr),providedIn:"root"})}return se})(),gr=(()=>{class se extends zr{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(me){return this.location.subscribe(Ie=>{"popstate"===Ie.type&&setTimeout(()=>{me(Ie.url,Ie.state,"popstate")})})}handleRouterEvent(me,Ie){me instanceof vi?this.updateStateMemento():me instanceof Jt?this.commitTransition(Ie):me instanceof hi?"eager"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(Ie),Ie)):me instanceof Qi?(this.commitTransition(Ie),"deferred"===this.urlUpdateStrategy&&!Ie.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(Ie),Ie)):me instanceof jt&&(me.code===Ze.GuardRejected||me.code===Ze.NoDataFromResolver)?this.restoreHistory(Ie):me instanceof Mn?this.restoreHistory(Ie,!0):me instanceof Be&&(this.lastSuccessfulId=me.id,this.currentPageId=this.browserPageId)}setBrowserUrl(me,{extras:Ie,id:Je}){const{replaceUrl:Mt,state:St}=Ie;if(this.location.isCurrentPathEqualTo(me)||Mt){const an=this.browserPageId,Pn={...St,...this.generateNgRouterState(Je,an)};this.location.replaceState(me,"",Pn)}else{const an={...St,...this.generateNgRouterState(Je,this.browserPageId+1)};this.location.go(me,"",an)}}restoreHistory(me,Ie=!1){if("computed"===this.canceledNavigationResolution){const Mt=this.currentPageId-this.browserPageId;0!==Mt?this.location.historyGo(Mt):this.getCurrentUrlTree()===me.finalUrl&&0===Mt&&(this.resetInternalState(me),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ie&&this.resetInternalState(me),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(me,Ie){return"computed"===this.canceledNavigationResolution?{navigationId:me,\u0275routerPageId:Ie}:{navigationId:me}}static \u0275fac=(()=>{let me;return function(Je){return(me||(me=f.xGo(se)))(Je||se)}})();static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function Js(se,Se){se.events.pipe((0,Z.p)(me=>me instanceof Be||me instanceof jt||me instanceof Mn||me instanceof Jt),(0,M.T)(me=>me instanceof Be||me instanceof Jt?0:me instanceof jt&&(me.code===Ze.Redirect||me.code===Ze.SupersededByNewNavigation)?2:1),(0,Z.p)(me=>2!==me),(0,y.s)(1)).subscribe(()=>{Se()})}const nr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},al={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xo=(()=>{class se{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,f.WQX)(f.H3F);stateManager=(0,f.WQX)(zr);options=(0,f.WQX)(ao,{optional:!0})||{};pendingTasks=(0,f.WQX)(f.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,f.WQX)(Ri);urlSerializer=(0,f.WQX)(Ne);location=(0,f.WQX)(o.aZ);urlHandlingStrategy=(0,f.WQX)(na);_events=new V.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,f.WQX)(qi);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,f.WQX)(ci,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,f.WQX)(Ir,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:me=>{this.console.warn(me)}}),this.subscribeToNavigationEvents()}eventsSubscription=new F.yU;subscribeToNavigationEvents(){const me=this.navigationTransitions.events.subscribe(Ie=>{try{const Je=this.navigationTransitions.currentTransition,Mt=this.navigationTransitions.currentNavigation;if(null!==Je&&null!==Mt)if(this.stateManager.handleRouterEvent(Ie,Mt),Ie instanceof jt&&Ie.code!==Ze.Redirect&&Ie.code!==Ze.SupersededByNewNavigation)this.navigated=!0;else if(Ie instanceof Be)this.navigated=!0;else if(Ie instanceof Bt){const St=Ie.navigationBehaviorOptions,an=this.urlHandlingStrategy.merge(Ie.url,Je.currentRawUrl),Pn={browserUrl:Je.extras.browserUrl,info:Je.extras.info,skipLocationChange:Je.extras.skipLocationChange,replaceUrl:Je.extras.replaceUrl||"eager"===this.urlUpdateStrategy||us(Je.source),...St};this.scheduleNavigation(an,Un,null,Pn,{resolve:Je.resolve,reject:Je.reject,promise:Je.promise})}(function Hi(se){return!(se instanceof Qi||se instanceof Bt)})(Ie)&&this._events.next(Ie)}catch(Je){this.navigationTransitions.transitionAbortSubject.next(Je)}});this.eventsSubscription.add(me)}resetRootComponentType(me){this.routerState.root.component=me,this.navigationTransitions.rootComponentType=me}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((me,Ie,Je)=>{this.navigateToSyncWithBrowser(me,Je,Ie)})}navigateToSyncWithBrowser(me,Ie,Je){const Mt={replaceUrl:!0},St=Je?.navigationId?Je:null;if(Je){const Pn={...Je};delete Pn.navigationId,delete Pn.\u0275routerPageId,0!==Object.keys(Pn).length&&(Mt.state=Pn)}const an=this.parseUrl(me);this.scheduleNavigation(an,Ie,St,Mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(me){this.config=me.map(Ps),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(me,Ie={}){const{relativeTo:Je,queryParams:Mt,fragment:St,queryParamsHandling:an,preserveFragment:Pn}=Ie,Yn=Pn?this.currentUrlTree.fragment:St;let rn,es=null;switch(an??this.options.defaultQueryParamsHandling){case"merge":es={...this.currentUrlTree.queryParams,...Mt};break;case"preserve":es=this.currentUrlTree.queryParams;break;default:es=Mt||null}null!==es&&(es=this.removeEmptyProps(es));try{rn=Ei(Je?Je.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof me[0]||"/"!==me[0][0])&&(me=[]),rn=this.currentUrlTree.root}return Ii(rn,me,es,Yn??null)}navigateByUrl(me,Ie={skipLocationChange:!1}){const Je=un(me)?me:this.parseUrl(me),Mt=this.urlHandlingStrategy.merge(Je,this.rawUrlTree);return this.scheduleNavigation(Mt,Un,null,Ie)}navigate(me,Ie={skipLocationChange:!1}){return function Mi(se){for(let Se=0;Se<se.length;Se++)if(null==se[Se])throw new f.wOt(4008,!1)}(me),this.navigateByUrl(this.createUrlTree(me,Ie),Ie)}serializeUrl(me){return this.urlSerializer.serialize(me)}parseUrl(me){try{return this.urlSerializer.parse(me)}catch{return this.urlSerializer.parse("/")}}isActive(me,Ie){let Je;if(Je=!0===Ie?{...nr}:!1===Ie?{...al}:Ie,un(me))return _t(this.currentUrlTree,me,Je);const Mt=this.parseUrl(me);return _t(this.currentUrlTree,Mt,Je)}removeEmptyProps(me){return Object.entries(me).reduce((Ie,[Je,Mt])=>(null!=Mt&&(Ie[Je]=Mt),Ie),{})}scheduleNavigation(me,Ie,Je,Mt,St){if(this.disposed)return Promise.resolve(!1);let an,Pn,Yn;St?(an=St.resolve,Pn=St.reject,Yn=St.promise):Yn=new Promise((rn,Ee)=>{an=rn,Pn=Ee});const es=this.pendingTasks.add();return Js(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(es))}),this.navigationTransitions.handleNavigationRequest({source:Ie,restoredState:Je,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:me,extras:Mt,resolve:an,reject:Pn,promise:Yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yn.catch(rn=>Promise.reject(rn))}static \u0275fac=function(Ie){return new(Ie||se)};static \u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},2972:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>A});var t=l(4412);class o{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var f=l(1360);let A=(()=>{class e{constructor(){this.viewConfig=new o,this.viewConfig$=new t.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},2999:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{DynamicAuthModule:()=>Vl});var t=l(8434),o=l(9417),f=l(9262),A=l(5139),e=l(8018),w=l(779),m=l(3816),D=l(534),S=l(8400),g=l(9947),k=l(5749),z=l(1683),u=l(3929),E=l(3384),B=l(4442),V=l(8892),F=l(8556),M=l(2036),W=l(4193),y=l(9475),X=l(1993),Z=l(8455),v=l(2571),L=l(275),Q=l(8251),te=l(6599),N=l(8389),fe=l(967),oe=l(4367),R=l(6843),Fe=l(4179),we=l(9945),We=l(7175),rt=l(367),lt=l(5731),vt=l(1957),Ue=l(9196),Ye=l(7677),He=l(3583),it=l(6609),Le=l(7648),Ve=l(3165),Xe=l(2771),je=l(9568),ct=l(6354),st=l(9437),Qe=l(7673),ne=function(ce){return ce[ce.Query=0]="Query",ce[ce.FormPost=1]="FormPost",ce[ce.Fragment=2]="Fragment",ce}(ne||{}),Y=function(ce){return ce.OIDC="oidc",ce.SAML="saml2p",ce.Enabled="enabled",ce.Disabled="disabled",ce}(Y||{}),he=function(ce){return ce.AuthCode="AuthCode",ce.AuthCodePlusPkce="AuthCodePlusPkce",ce}(he||{});class ge{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[he.AuthCode,he.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...ge.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"idsrv.external",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(_n){return!this.RequiredScopes.includes(_n)}static{this.ResponseModeMap=new Map([["query",ne.Query],["form_post",ne.FormPost],["fragment",ne.Fragment]])}static{this.ResponseModeKey=_n=>[...ge.ResponseModeMap.entries()].filter(({1:be})=>be===_n).map(([be])=>be)[0]}}var s=l(1360),dt=l(9564);let _t=(()=>{class ce{get cacheTimeout(){return ge.DiscoveryDocCachingDuration}constructor(j,be){this.http=j,this.cacheTime=0,this.discoveryDoc=new Xe.m(1),this.headers=be.setHeaders()}getDiscoveryDocument(j,be=!1){this.actionUrl=ge.AdminUIOidcDiscoveryDocumentEndpoint;const Re=Date.now()-this.cacheTime>=this.cacheTimeout;if(!be&&(!j||this.previousAuthority===j&&!Re&&this.discoveryDoc))return this.discoveryDoc.asObservable();let Ut=new Ve.Nl;return Ut=Ut.append("authority",j),this.http.get(this.actionUrl,{headers:this.headers,params:Ut}).pipe((0,je.t)(1),(0,ct.T)(ki=>(this.previousAuthority=j,this.cacheTime=Date.now(),this.discoveryDoc.next(ki),ki)),(0,st.W)(ki=>(this.previousAuthority=j,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,Qe.of)(null))))}isValid(j){return this.getDiscoveryDocument(j,!0).pipe((0,ct.T)(be=>!(!be||!be.issuer)))}supportedScopes(j){return this.getDiscoveryDocument(j).pipe((0,ct.T)(be=>be?.scopes_supported??ge.ScopeOptions))}validateMetadataUrl(j){this.actionUrl=ge.AdminUISamlMetadataEndpoint;let be=new Ve.Nl;return be=be.append("metadataUrl",j),this.http.get(this.actionUrl,{headers:this.headers,params:be}).pipe((0,je.t)(1),(0,ct.T)(Re=>!0),(0,st.W)(Re=>(0,Qe.of)(!1)))}static{this.\u0275fac=function(be){return new(be||ce)(s.KVO(Ve.Qq),s.KVO(dt.m))}}static{this.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();var en=l(1413),Cn=l(1594),Wn=l(8412),tn=l(9172),Ln=l(1397),ni=l(1655),ft=l(7548),Qt=l(308),pe=l(7263),de=l(9838),P=l(6026),q=l(978),Ne=l(9865);class De{constructor(_n,j,be=!1){this.name="",this.label="",this.activeByDefault=!1,this.name=_n,this.label=j,this.activeByDefault=be}}var et=l(6494),gt=l(5424),Kt=l(345),sn=l(7883),Rn=l(5794),Kn=l(2947),ei=l(3680),Ot=l(7294),Gn=l(7384),Zt=l(7156),Tn=l(2510),In=l(8698);let rs=(()=>{class ce{constructor(j){this.fb=j}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}hosted(){}toStepDto(){const j={};return j.clientSecret=this.clientSecretForm.get("clientSecret").value,j}toSummaryMap(){const j=new Map;return j.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-client-secret-step"]],inputs:{data:"data"},standalone:!1,decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"form",2)(4,"app-form-row",3),s.nrm(5,"input",4),s.k0s()()),2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),s.npT),s.R7$(2),s.Y8G("formGroup",Re.clientSecretForm),s.R7$(),s.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[o.qT,o.me,o.BC,o.cb,o.j4,o.JD,In.Y,e.D9],encapsulation:2})}}return ce})();var _i=l(5568);function Bi(){return o.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function Ni(ce){if((0,pe.hX)(ce.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let _n=(0,_i.parse)(ce.value);return(0,pe.gP)(_n.query)&&(0,pe.gP)(_n.fragment)?"absolute"!==_n.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,pe.gP)(_n.error)?null:{invalidUri:_n.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function os(ce,_n){1&ce&&(s.j41(0,"app-form-row",3),s.nrm(1,"input",11),s.k0s()),2&ce&&s.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.OidcHelp")}function zn(ce,_n){if(1&ce&&(s.j41(0,"option",12),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce){const j=_n.$implicit;s.Y8G("value",j),s.R7$(),s.JRh(s.bMT(2,2,"DynamicAuth.Flows."+j))}}let fs=(()=>{class ce{constructor(j,be,Re,Ut,ki){this.fb=j,this.configService=be,this.translate=Re,this.providerValidator=Ut,this.toastr=ki,this.failedToContactAuthority=!1,this.allowedFlows=ge.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var j=this.connectionForm.get("authority").value;this.providerValidator.isValid(j).subscribe(be=>{be||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let j={authority:["https://",[o.k0.required,o.k0.pattern("^https://.{1,}$")]],clientId:["",o.k0.required]};if(this.isRskDynamicAuth){let be=this.dtoSnapshot?.scheme;(0,pe.gP)(be)&&(be="{scheme}"),j.callbackPath=["/oidc-"+be,[o.k0.required,Bi()]]}j.flow=[he.AuthCodePlusPkce,[o.k0.required]],this.connectionForm=this.fb.group(j)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}hosted(){}toStepDto(){const j={};return j.authority=this.connectionForm.get("authority").value,j.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(j.callbackPath=this.connectionForm.get("callbackPath").value),j.flow=this.connectionForm.get("flow").value,j}toSummaryMap(){const j=new Map;return j.set("authority",[this.connectionForm.get("authority").value]),j.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&j.set("callbackPath",[this.connectionForm.get("callbackPath").value]),j.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(Ue.w),s.rXU(e.c$),s.rXU(_t),s.rXU(Rn.tw))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-connection-step"]],inputs:{data:"data"},standalone:!1,decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),s.bIt("focusout",function(){return Re.tryReachAuthority()}),s.k0s()(),s.j41(6,"app-form-row",3),s.nrm(7,"input",5),s.k0s(),s.DNE(8,os,2,3,"app-form-row",6),s.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),s.DNE(12,zn,3,4,"option",10),s.k0s()()()()),2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),s.npT),s.R7$(2),s.Y8G("formGroup",Re.connectionForm),s.R7$(),s.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),s.R7$(2),s.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),s.R7$(2),s.Y8G("ngIf",Re.isRskDynamicAuth),s.R7$(),s.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),s.R7$(3),s.Y8G("ngForOf",Re.allowedFlows))},dependencies:[t.Sq,t.bT,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y,e.D9],encapsulation:2})}}return ce})();var xi=l(1985),wt=l(5558),Tt=l(803);function xt(ce,_n){if(1&ce&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"slice"),s.k0s()),2&ce){const j=_n.item;s.R7$(),s.JRh(j.length>20?s.brH(2,1,j,0,20)+"...":j)}}function Wt(ce,_n){1&ce&&(s.j41(0,"div",16)(1,"div"),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.R7$(2),s.SpI(" ",s.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function un(ce,_n){1&ce&&(s.j41(0,"span",20),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Common.Reserved")," "))}function ii(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(j);const Re=s.XpG().$implicit,Ut=s.XpG(2);return s.Njj(Ut.removeScope(Re))}),s.nrm(1,"span",22),s.j41(2,"span",13),s.EFF(3),s.nI1(4,"translate"),s.k0s()()}if(2&ce){const j=s.XpG().$implicit;s.Y8G("id","btnRemove"+j),s.R7$(3),s.JRh(s.bMT(4,2,"Common.Remove.Title"))}}function Ei(ce,_n){if(1&ce&&(s.j41(0,"tr")(1,"td",17)(2,"span"),s.EFF(3),s.k0s()(),s.j41(4,"td"),s.DNE(5,un,3,3,"span",18),s.k0s(),s.j41(6,"td"),s.DNE(7,ii,5,4,"button",19),s.k0s()()),2&ce){const j=_n.$implicit,be=s.XpG(2);s.R7$(3),s.JRh(j),s.R7$(2),s.Y8G("ngIf",!be.allowRemoveScope(j)),s.R7$(2),s.Y8G("ngIf",be.allowRemoveScope(j))}}function Ii(ce,_n){if(1&ce&&(s.j41(0,"div",9),s.DNE(1,Wt,4,3,"div",10),s.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),s.EFF(6),s.nI1(7,"translate"),s.k0s()(),s.j41(8,"th",14)(9,"span",13),s.EFF(10),s.nI1(11,"translate"),s.k0s()(),s.j41(12,"th",14)(13,"span",13),s.EFF(14),s.nI1(15,"translate"),s.k0s()()(),s.j41(16,"tbody"),s.DNE(17,Ei,8,3,"tr",15),s.k0s()()()),2&ce){const j=s.XpG();s.Y8G("id","Scopes"),s.R7$(),s.Y8G("ngIf",j.scopes.length<=0),s.R7$(5),s.JRh(s.bMT(7,6,"Common.Scope")),s.R7$(4),s.JRh(s.bMT(11,8,"Common.Reserved")),s.R7$(4),s.JRh(s.bMT(15,10,"Common.Actions")),s.R7$(3),s.Y8G("ngForOf",j.scopes)}}let Ti=(()=>{class ce{constructor(j,be,Re,Ut){this.toastrService=j,this.translateService=be,this.fb=Re,this.providerValidator=Ut,this.scopes=[...ge.RequiredScopes],this.maxScopeLength=ge.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new xi.c(j=>{let be=this.scopesForm.get("newScope").value;j.next(be)}).pipe((0,wt.n)(j=>this.providerValidator.supportedScopes().pipe((0,ct.T)(be=>this.filterScopes(j,be)))))}filterScopes(j,be){const Re=!j;return be.filter(Ut=>!this.scopes.includes(Ut)&&(Re||Ut.includes(j)))}addScope(){var j=this.scopesForm.get("newScope").value;if(""!==j)if(this.scopes.includes(j)){const be=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(be)}else if(j.indexOf(" ")>=0){const be=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(be)}else this.scopes.push(j);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(j){const be=this.scopes.indexOf(j);if(-1!==be)this.scopes.splice(be,1);else{const Re=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(Re)}}allowRemoveScope(j){return ge.AllowRemoveScope(j)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const j={};return j.scopes=this.scopes,j}toSummaryMap(){const j=new Map;return j.set("scopes",this.scopes),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(Rn.tw),s.rXU(e.c$),s.rXU(o.ze),s.rXU(_t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-scopes-step"]],inputs:{data:"data"},standalone:!1,decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"div",1),s.nrm(1,"p",2),s.nI1(2,"translate"),s.k0s(),s.DNE(3,xt,3,5,"ng-template",null,0,s.C5r),s.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),s.nrm(8,"input",6),s.nI1(9,"translate"),s.j41(10,"button",7),s.bIt("click",function(){return s.eBV(Ut),s.Njj(Re.addScope())}),s.EFF(11),s.nI1(12,"translate"),s.k0s()()(),s.DNE(13,Ii,18,12,"div",8),s.k0s()}if(2&be){const Ut=s.sdS(4);s.R7$(),s.Y8G("innerHTML",s.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),s.npT),s.R7$(4),s.Y8G("formGroup",Re.scopesForm),s.R7$(),s.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),s.R7$(2),s.FS9("placeholder",s.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),s.Y8G("typeahead",Re.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Ut)("typeaheadMinLength",0)("maxlength",Re.maxScopeLength),s.R7$(3),s.SpI(" ",s.bMT(12,18,"Common.Add")," "),s.R7$(2),s.Y8G("ngIf",Re.scopes.length>0)}},dependencies:[t.Sq,t.bT,o.qT,o.me,o.BC,o.cb,o.tU,o.j4,o.JD,S.Xi,In.Y,Tt.f,t.P9,e.D9],encapsulation:2})}}return ce})(),ji=(()=>{class ce{constructor(j){this.fb=j}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[o.k0.required,o.k0.pattern(/^[\d\w-]*$/)]],displayName:["",[o.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}hosted(){}toStepDto(){const j={};return j.scheme=this.nameRoleForm.get("scheme").value,j.displayName=this.nameRoleForm.get("displayName").value,j}toSummaryMap(){const j=new Map;return j.set("scheme",[this.nameRoleForm.get("scheme").value]),j.set("displayName",[this.nameRoleForm.get("displayName").value]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-name-role-step"]],inputs:{data:"data"},standalone:!1,decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"form",2)(4,"app-form-row",3),s.nrm(5,"input",4),s.k0s(),s.j41(6,"app-form-row",5),s.nrm(7,"input",6),s.k0s()()),2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),s.npT),s.R7$(2),s.Y8G("formGroup",Re.nameRoleForm),s.R7$(),s.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),s.R7$(2),s.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y,e.D9],encapsulation:2})}}return ce})();var zi=l(9550);function ls(ce,_n){if(1&ce&&(s.j41(0,"span",10),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce){const j=s.XpG().$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,j.help)," ")}}function ut(ce,_n){if(1&ce&&(s.j41(0,"li",5)(1,"label",6),s.nrm(2,"input",7),s.j41(3,"span",8),s.EFF(4),s.nI1(5,"translate"),s.k0s()(),s.DNE(6,ls,3,3,"span",9),s.k0s()),2&ce){const j=_n.$implicit,be=_n.index,Re=s.XpG();s.R7$(),s.FCK("for","",Re.id,"-item-",be,""),s.R7$(),s.FCK("id","",Re.id,"-item-",be,""),s.Y8G("value",j.value),s.R7$(2),s.JRh(s.bMT(5,9,j.name)),s.R7$(2),s.Y8G("ngIf",j.help)}}function Rt(ce,_n){if(1&ce&&(s.j41(0,"li",5)(1,"label",6),s.nrm(2,"input",7),s.j41(3,"span",8),s.EFF(4),s.nI1(5,"translate"),s.nI1(6,"translate"),s.k0s()()()),2&ce){const j=s.XpG();s.R7$(),s.Mz_("for","",j.id,"-item-custom"),s.R7$(),s.Mz_("id","",j.id,"-item-custom"),s.Y8G("value",j.customRadioValue),s.R7$(2),s.Lme("",s.bMT(5,7,"Common.Custom")," ",s.bMT(6,9,j.label),"")}}function yt(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-form-row",11)(1,"input",12),s.nI1(2,"translate"),s.bIt("ngModelChange",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.valueChanged.emit(Re))}),s.k0s()()}if(2&ce){const j=s.XpG();s.Mz_("id","",j.id,"-custom"),s.Y8G("label","Common.Custom")("isLast",j.isLast),s.R7$(),s.Mz_("id","",j.id,"-item-value"),s.FS9("placeholder",s.bMT(2,8,j.placeholder)),s.Y8G("ngModel",j.value)}}let nn=(()=>{class ce{constructor(j){this.fb=j,this.listItems=[],this.allowCustom=!1,this.valueChanged=new s.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const j=this.listItems.some(be=>be.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[j]}),this.radioForm.get("radioVal").valueChanges.subscribe(be=>{this.valueChanged.emit(be===this.customRadioValue?"":be)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},standalone:!1,decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(be,Re){1&be&&(s.j41(0,"app-form-row",0)(1,"ul",1),s.nI1(2,"translate"),s.DNE(3,ut,7,11,"li",2)(4,Rt,7,11,"li",3),s.k0s()(),s.DNE(5,yt,3,10,"app-form-row",4)),2&be&&(s.Mz_("id","",Re.id,"-options"),s.Y8G("label",Re.label)("help",Re.help)("isLast",!Re.showCustom()&&Re.isLast)("formGroup",Re.radioForm),s.R7$(),s.Mz_("id","",Re.id,"-options-list"),s.BMQ("aria-label",s.bMT(2,12,Re.label)),s.R7$(2),s.Y8G("ngForOf",Re.listItems),s.R7$(),s.Y8G("ngIf",Re.allowCustom),s.R7$(),s.Y8G("ngIf",Re.showCustom()))},dependencies:[o.me,o.Fm,o.BC,o.cb,o.vS,o.j4,o.JD,t.Sq,t.bT,In.Y,e.D9],encapsulation:2})}}return ce})();function Vn(ce,_n){if(1&ce&&(s.j41(0,"app-form-row",7)(1,"app-form-toggle",8),s.nrm(2,"input",9),s.k0s()()),2&ce){const j=s.XpG(2);s.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!j.diffSignOut),s.R7$(),s.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function ln(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-radio-list-input",10),s.bIt("valueChanged",function(Re){s.eBV(j);const Ut=s.XpG(2);return s.Njj(Ut.signInSchemeForm.get("outScheme").setValue(Re))}),s.k0s()}if(2&ce){const j=s.XpG(2);s.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",j.options)("allowCustom",!0)("value",j.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function Xn(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"form",3)(1,"app-radio-list-input",4),s.bIt("valueChanged",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.signInSchemeForm.get("scheme").setValue(Re))}),s.k0s(),s.DNE(2,Vn,3,7,"app-form-row",5)(3,ln,1,6,"app-radio-list-input",6),s.k0s()}if(2&ce){const j=s.XpG();s.Y8G("formGroup",j.signInSchemeForm),s.R7$(),s.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",j.options)("allowCustom",!0)("value",j.signInSchemeForm.get("scheme").value)("isLast",!1),s.R7$(),s.Y8G("ngIf",j.isRskDynamicAuth),s.R7$(),s.Y8G("ngIf",j.diffSignOut)}}let qn=(()=>{class ce{constructor(j,be){this.fb=j,this.configService=be,this.isRskDynamicAuth=!1,this.options=ge.SignInSchemeOptions,this.snippet=ge.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Cn.$)()).subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,o.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(be=>{this.signInSchemeForm.get("outScheme").setValidators(be?[o.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,o.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const j={};return j.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(j.signOutScheme=this.signInSchemeForm.get("outScheme").value),j}toSummaryMap(){const j=new Map;return j.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&j.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},standalone:!1,decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.DNE(3,Xn,4,9,"form",2)),2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),s.npT),s.R7$(2),s.Y8G("ngIf",Re.signInSchemeForm))},dependencies:[t.bT,o.qT,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,zi.m,nn,e.D9],encapsulation:2})}}return ce})();var Ht=l(9988),oi=l(7957),Xt=l(8575),Un=l(7329);function fn(ce,_n){1&ce&&(s.nrm(0,"span",8),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"Errors.PathValidation"),s.npT)}let Qn=(()=>{class ce{constructor(j,be){this.fb=j,this.configService=be}ngOnInit(){this.configService.getConfig().pipe((0,Cn.$)()).subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let j=this.dtoSnapshot?.scheme;(0,pe.gP)(j)&&(j="{scheme}");let Re={entityId:["",[o.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${j}`:`/federation/${j}/signin-saml`,[o.k0.required,Bi()]]};this.serviceProviderForm=this.fb.group(Re)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}hosted(){}toStepDto(){const j={};return j.entityId=this.serviceProviderForm.get("entityId").value,j.callbackPath=this.serviceProviderForm.get("callbackPath").value,j}toSummaryMap(){const j=new Map;return j.set("entityId",[this.serviceProviderForm.get("entityId").value]),j.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-service-provider-step"]],inputs:{data:"data"},standalone:!1,decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"form",2)(4,"app-form-row",3),s.nrm(5,"input",4),s.k0s(),s.j41(6,"app-form-row",5),s.nrm(7,"input",6),s.DNE(8,fn,2,3,"span",7),s.k0s()()),2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),s.npT),s.R7$(2),s.Y8G("formGroup",Re.serviceProviderForm),s.R7$(),s.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),s.R7$(2),s.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),s.R7$(2),s.Y8G("ngIf",!Re.validCallbackPath()))},dependencies:[t.bT,o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y,e.D9],encapsulation:2})}}return ce})();var vi=l(6303),Be=l(1746);const Ze=["fileInput"];let ht=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re,Ut){this.fb=j,this.certService=be,this.toastr=Re,this.translate=Ut,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Be.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}hosted(){}handleFileInput(j){this.selectedFile=j.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const j=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==j}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Be.w(""),this.fileContent=void 0;const j=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,j,{next:be=>{this.fileName=new Be.w(this.selectedFile?.name),this.fileContent=be,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:be=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Be.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const j={};return j.certFile=this.fileContent,j.certPassword=this.certForm.get("certPassword").value,j}toSummaryMap(){const j=new Map;return j.set("certFile",[this.selectedFile?.name]),j.set("certPassword",[this.certForm.get("certPassword").value]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(u.V),s.rXU(Rn.tw),s.rXU(e.c$))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-signing-step"]],viewQuery:function(be,Re){if(1&be&&s.GBs(Ze,5),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.fileInputNative=Ut.first)}},inputs:{data:"data"},standalone:!1,decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"div",1),s.nrm(1,"p",2),s.nI1(2,"translate"),s.k0s(),s.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),s.bIt("change",function(zs){return s.eBV(Ut),s.Njj(Re.handleFileInput(zs.target.files))}),s.k0s()()(),s.j41(9,"app-form-row",7),s.bIt("input",function(){return s.eBV(Ut),s.Njj(Re.requestCertValidation())}),s.nrm(10,"input",8),s.k0s(),s.j41(11,"app-form-row",9)(12,"button",10),s.bIt("click",function(){return s.eBV(Ut),s.Njj(Re.validateForm())}),s.EFF(13),s.nI1(14,"translate"),s.k0s(),s.j41(15,"button",11),s.bIt("click",function(){return s.eBV(Ut),s.Njj(Re.clearCertificateForm())}),s.EFF(16),s.nI1(17,"translate"),s.k0s()()()}2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),s.npT),s.R7$(2),s.Y8G("formGroup",Re.certForm),s.R7$(),s.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),s.R7$(5),s.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),s.R7$(),s.Y8G("readonly",Re.passwordDisabled),s.R7$(),s.Y8G("isLast",!0),s.R7$(),s.Y8G("disabled",Re.disableTestBtn()),s.R7$(),s.JRh(s.bMT(14,15,"Common.ValidateCert")),s.R7$(2),s.Y8G("disabled",Re.disableClearBtn()),s.R7$(),s.JRh(s.bMT(17,17,"Common.Clear")))},dependencies:[o.qT,o.me,o.BC,o.cb,o.j4,o.JD,In.Y,e.D9],encapsulation:2})}}return ce})();var jt=l(7767);let Jt=(()=>{class ce{constructor(j,be,Re,Ut){this.fb=j,this.providerValidator=be,this.translate=Re,this.toastr=Ut,this.metadataAddrStream=new en.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(j=>{this.providerValidator.validateMetadataUrl(j).subscribe(be=>{be?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const j=this.externalProviderForm.get("metadataAddress");j.invalid||this.metadataAddrStream.next(j.value)}showReachableError(){const j=this.externalProviderForm.get("metadataAddress");return!(0,pe.gP)(j.value)&&j.errors?.unreachableUrl}buildForm(){let j={metadataAddress:["https://",[o.k0.required,o.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(j)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}hosted(){}toStepDto(){const j={};return j.metadataAddress=this.externalProviderForm.get("metadataAddress").value,j}toSummaryMap(){const j=new Map;return j.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),j}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(_t),s.rXU(e.c$),s.rXU(jt.g))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-external-provider-step"]],inputs:{data:"data"},standalone:!1,decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),s.nrm(6,"input",5),s.j41(7,"button",6),s.bIt("click",function(){return Re.tryMetadataAddr()}),s.j41(8,"span"),s.EFF(9),s.nI1(10,"translate"),s.k0s()()()()()),2&be&&(s.R7$(),s.Y8G("innerHTML",s.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),s.npT),s.R7$(2),s.Y8G("formGroup",Re.externalProviderForm),s.R7$(),s.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),s.R7$(3),s.Y8G("disabled",!Re.canNext()),s.R7$(2),s.JRh(s.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y,e.D9],encapsulation:2})}}return ce})();var Mn=l(2552);function hi(ce,_n){1&ce&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function ri(ce,_n){1&ce&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function Nn(ce,_n){1&ce&&(s.nrm(0,"p",1),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),s.npT)}function Ki(ce,_n){1&ce&&(s.nrm(0,"p",1),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),s.npT)}let Ji=(()=>{class ce{constructor(){this.wizardTypes=Ht.$,this.activeType=Ht.$.AddOidcDynamicAuth}hosted(){}ngOnInit(){}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!0}selectedType(){return this.activeType}buildOptionsArray(){return[{id:"oidcBtn",btnId:"oidcTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title",icon:"fab fa-openid",type:Ht.$.AddOidcDynamicAuth,selectedTypes:[Ht.$.AddOidcDynamicAuth],starterMode:!0,disabled:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.SAML.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.SAML.Title",icon:"fad fa-code",type:Ht.$.AddSamlDynamicAuth,selectedTypes:[Ht.$.AddSamlDynamicAuth],starterMode:!0,disabled:!1}]}setActive(j){this.activeType=j}static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-type-select"]],inputs:{data:"data"},standalone:!1,decls:11,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"]],template:function(be,Re){if(1&be&&(s.j41(0,"div",0),s.nrm(1,"p",1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"app-type-selector",2),s.bIt("select",function(ki){return Re.setActive(ki)}),s.k0s(),s.j41(4,"div",3)(5,"h2",4),s.nrm(6,"span",5),s.DNE(7,hi,3,3,"span")(8,ri,3,3,"span"),s.k0s(),s.DNE(9,Nn,2,3,"p",1)(10,Ki,2,3,"p",1),s.k0s()),2&be){let Ut,ki;s.R7$(),s.Y8G("innerHTML",s.bMT(2,6,"DynamicAuth.Wizard.Description"),s.npT),s.R7$(2),s.Y8G("activeType",Re.activeType)("isStarterMode",!1)("options",Re.buildOptionsArray()),s.R7$(4),s.vxM((Ut=Re.activeType)===Re.wizardTypes.AddOidcDynamicAuth?7:Ut===Re.wizardTypes.AddSamlDynamicAuth?8:-1),s.R7$(2),s.vxM((ki=Re.activeType)===Re.wizardTypes.AddOidcDynamicAuth?9:ki===Re.wizardTypes.AddSamlDynamicAuth?10:-1)}},dependencies:[Mn.N,e.D9],encapsulation:2})}}return ce})();class Ms extends oi.p{constructor(_n){super();var j=[new Un.W(ji,{stepName:"NameRoleStepComponent"}),new Un.W(fs,{stepName:"ConnectionStepComponent"}),new Un.W(Ti,{stepName:"ScopesStepComponent"}),new Un.W(rs,{stepName:"ClientSecretStepComponent"})];_n&&j.push(new Un.W(qn,{stepName:"SignInSchemeStepComponent"}));var be=[new Un.W(ji,{stepName:"NameRoleStepComponent"}),new Un.W(Qn,{stepName:"ServiceProviderStepComponent"}),new Un.W(ht,{stepName:"SigningStepComponent"}),new Un.W(Jt,{stepName:"ExternalProviderStepComponent"}),new Un.W(qn,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(Ht.$.Home,[new Un.W(Ji,{})]),this.nameComponentMap.set(Ht.$.AddOidcDynamicAuth,j),this.nameComponentMap.set(Ht.$.AddSamlDynamicAuth,be),this.nameTitleMap.set(Ht.$.Home,new Xt.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(Ht.$.AddOidcDynamicAuth,new Xt.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(Ht.$.AddSamlDynamicAuth,new Xt.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}var $t=l(7594),Ai=l(3973);let Et=(()=>{class ce{canNext(){return!1}hosted(){}static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-empty-step"]],standalone:!1,decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"div"),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&be&&(s.R7$(2),s.JRh(s.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[e.D9],encapsulation:2})}}return ce})();class yn extends oi.p{getWizard(_n){return[new Un.W(Et)]}getWizardTitle(_n){return new Xt.J("Empty Provider",`No step for wizard name: ${_n}`)}}var Yt=l(1715);function Fn(ce,_n){if(1&ce&&(s.j41(0,"div",5),s.nrm(1,"div",17),s.k0s()),2&ce){const j=s.XpG();s.R7$(),s.xc7("width",j.progressPercent+"%"),s.BMQ("aria-valuenow",j.progressPercent)}}function Qi(ce,_n){}function Bt(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",18),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.nextTab())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}if(2&ce){const j=s.XpG();s.Y8G("disabled",!j.canNext()),s.R7$(),s.JRh(s.bMT(2,2,"Common.Next"))}}function ue(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",19),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.submit())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Common.Save")))}function Ae(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",20),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.previousTab())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Common.Back")))}function ae(ce,_n){1&ce&&(s.j41(0,"a",15),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let Ce=(()=>{class ce extends Ai.P{constructor(j,be,Re,Ut,ki){super(j,be,Re),this.dynamicAuthService=Ut,this.configService=ki,this.wizardProvider=new yn,this.wizardName=Ht.$.Home,this.askIfEnabled=!0,this.configService.getConfig().subscribe({next:zs=>{this.wizardProvider=new Ms(zs.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk),this.askIfEnabled=zs.featureFlagOptions.dynamicAuthenticationFlag==q.U.Duende},error:zs=>{this.errorService.handleError(zs)}})}submit(){const j=(0,ft.jc)(this.getModel());this.dynamicAuthService.createDynamicAuth(j).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${j.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated"))},error:be=>{this.errorService.handleError(be)}})}getModel(){const j=this.wizardName,be=this.getWizardDto(),Re=this.summaryComponentRef.instance.isEnabled();var Ut="";if(this.wizardName===Ht.$.AddOidcDynamicAuth&&(Ut=JSON.stringify({authority:be.authority,clientId:be.clientId,callbackPath:be.callbackPath,usePkce:be.flow==he.AuthCodePlusPkce,scope:be.scopes,clientSecret:be.clientSecret,signInScheme:be.signInScheme})),this.wizardName===Ht.$.AddSamlDynamicAuth){var ki={spEntityId:be.entityId,callbackPath:be.callbackPath,signAuthenticationRequests:!(0,pe.hX)(be.certFile)&&!(0,pe.hX)(be.certPassword),signingCertBase64:be.certFile,signingCertPassword:be.certPassword,signInScheme:be.signInScheme,idpMetadataAddress:be.metadataAddress};Ut=JSON.stringify(ki)}return{type:Qt.EX.fromWizardType(j),scheme:be.scheme,displayName:be.displayName,enabled:Re,nonEditable:!1,options:Ut}}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(gt.I),s.rXU(Rn.tw),s.rXU(e.c$),s.rXU(it.v),s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-wizard-host"]],standalone:!1,features:[s.Jv_([$t._]),s.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn-secondary","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn-secondary",3,"click"]],template:function(be,Re){if(1&be&&(s.j41(0,"div",0)(1,"h5",1),s.EFF(2),s.nI1(3,"translate"),s.k0s(),s.j41(4,"button",2),s.bIt("click",function(){return Re.hideWizard()}),s.nrm(5,"span",3),s.j41(6,"span",4),s.EFF(7),s.nI1(8,"translate"),s.k0s()()(),s.DNE(9,Fn,2,3,"div",5),s.j41(10,"div",6),s.DNE(11,Qi,0,0,"ng-template",7),s.k0s(),s.nrm(12,"div",8),s.j41(13,"div",9)(14,"div",10)(15,"div",11),s.DNE(16,Bt,3,4,"button",12)(17,ue,3,3,"button",13)(18,Ae,3,3,"button",14)(19,ae,3,3,"a",15),s.k0s(),s.j41(20,"button",16),s.bIt("click",function(){return Re.cancelWizard()}),s.EFF(21),s.nI1(22,"translate"),s.k0s()()()),2&be){let Ut;s.R7$(),s.Y8G("id",Re.titleId),s.R7$(),s.JRh(s.bMT(3,9,null!==(Ut=null==Re.wizardTitles?null:Re.wizardTitles.setupTitle)&&void 0!==Ut?Ut:"")),s.R7$(5),s.JRh(s.bMT(8,11,"Common.Close")),s.R7$(2),s.vxM(Re.showProgress?9:-1),s.R7$(7),s.Y8G("ngIf",Re.index<(null==Re.wizardSteps?null:Re.wizardSteps.length)),s.R7$(),s.Y8G("ngIf",Re.index==(null==Re.wizardSteps?null:Re.wizardSteps.length)),s.R7$(),s.Y8G("ngIf",!Re.initialStep()),s.R7$(),s.vxM(Re.initialStep()&&null!=Re.asAny&&Re.asAny.displayUpgradeIcon?19:-1),s.R7$(2),s.JRh(s.bMT(22,13,"Common.Cancel"))}},dependencies:[t.bT,Yt.t,e.D9],encapsulation:2})}}return ce})();const Pe=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"});function At(ce,_n){1&ce&&(s.j41(0,"div",3),s.nrm(1,"app-title-bar",4),s.nI1(2,"translate"),s.j41(3,"div",5)(4,"div",6)(5,"p",7),s.EFF(6),s.nI1(7,"translate"),s.k0s(),s.j41(8,"ul",8)(9,"li")(10,"a",9),s.EFF(11),s.nI1(12,"translate"),s.k0s()(),s.j41(13,"li")(14,"a",10),s.EFF(15),s.nI1(16,"translate"),s.k0s()()()()()()),2&ce&&(s.R7$(),s.Y8G("title",s.bMT(2,4,"DynamicAuth.Title.Generic")),s.R7$(5),s.JRh(s.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),s.R7$(5),s.JRh(s.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),s.R7$(4),s.JRh(s.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function pn(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-dynamic-auth-wizard-host",17),s.bIt("wizardCancel",function(){s.eBV(j);const Re=s.XpG(2);return s.Njj(Re.hideWizard())})("finish",function(){s.eBV(j);const Re=s.XpG(2);return s.Njj(Re.onFinish())})("hide",function(){s.eBV(j);const Re=s.XpG(2);return s.Njj(Re.hideWizard())}),s.k0s()}}function Bn(ce,_n){1&ce&&(s.j41(0,"div",18)(1,"div",19),s.nrm(2,"span",20),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.R7$(2),s.Y8G("innerHTML",s.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",s.lJ4(4,Pe)),s.npT))}function Wi(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"div",28)(1,"label",29),s.EFF(2),s.nI1(3,"translate"),s.k0s(),s.j41(4,"select",30),s.mxI("ngModelChange",function(Re){s.eBV(j);const Ut=s.XpG(4);return s.DH7(Ut.pageSize,Re)||(Ut.pageSize=Re),s.Njj(Re)}),s.bIt("change",function(){s.eBV(j);const Re=s.XpG(4);return s.Njj(Re.setPageLength(+Re.pageSize))}),s.j41(5,"option",31),s.EFF(6),s.nI1(7,"translate"),s.k0s(),s.j41(8,"option",32),s.EFF(9),s.nI1(10,"translate"),s.k0s(),s.j41(11,"option",33),s.EFF(12),s.nI1(13,"translate"),s.k0s()()()}if(2&ce){const j=s.XpG(4);s.R7$(2),s.Lme("",j.pageSize," ",s.bMT(3,6,"Nav.PerPage"),""),s.R7$(2),s.R50("ngModel",j.pageSize),s.R7$(2),s.SpI("25 ",s.bMT(7,8,"Nav.PerPage"),""),s.R7$(3),s.SpI("50 ",s.bMT(10,10,"Nav.PerPage"),""),s.R7$(3),s.SpI("100 ",s.bMT(13,12,"Nav.PerPage"),"")}}function Di(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-action-bar"),s.qex(1,24),s.DNE(2,Wi,14,14,"div",25),s.bVm(),s.qex(3,26),s.j41(4,"button",27),s.bIt("click",function(){s.eBV(j),s.XpG(2);const Re=s.sdS(9),Ut=s.XpG();return s.Njj(Ut.showWizard(Re))}),s.EFF(5),s.nI1(6,"translate"),s.k0s(),s.bVm(),s.k0s()}if(2&ce){const j=s.XpG(3);s.R7$(2),s.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0),s.R7$(3),s.SpI(" ",s.bMT(6,2,"Common.Add")," ")}}function Li(ce,_n){1&ce&&s.nrm(0,"app-simple-loader")}function li(ce,_n){1&ce&&(s.j41(0,"div",37)(1,"div"),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.R7$(2),s.JRh(s.bMT(3,1,"DynamicAuth.List.None")))}function Ui(ce,_n){1&ce&&(s.j41(0,"span",51)(1,"span",14),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.R7$(2),s.JRh(s.bMT(3,1,"Common.Disabled")))}function Yi(ce,_n){1&ce&&(s.j41(0,"span",52),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Common.Disabled")," "))}function Os(ce,_n){1&ce&&(s.j41(0,"span",53),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Common.Reserved")," "))}function Fs(ce,_n){1&ce&&(s.nrm(0,"span",54),s.j41(1,"span",14),s.EFF(2),s.nI1(3,"translate"),s.k0s()),2&ce&&(s.R7$(2),s.JRh(s.bMT(3,1,"Common.View")))}function Or(ce,_n){1&ce&&(s.nrm(0,"span",55),s.j41(1,"span",14),s.EFF(2),s.nI1(3,"translate"),s.k0s()),2&ce&&(s.R7$(2),s.JRh(s.bMT(3,1,"Common.Edit")))}function Zr(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"tr",43)(1,"td",44),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(5);return s.Njj(Ut.navigate(Re,Re.scheme))}),s.DNE(2,Ui,4,3,"span",45),s.j41(3,"b"),s.EFF(4),s.k0s()(),s.j41(5,"td",46),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(5);return s.Njj(Ut.navigate(Re,Re.scheme))}),s.EFF(6),s.k0s(),s.j41(7,"td",46),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(5);return s.Njj(Ut.navigate(Re,Re.scheme))}),s.j41(8,"code"),s.EFF(9),s.k0s()(),s.j41(10,"td",47),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(5);return s.Njj(Ut.navigate(Re,Re.scheme))}),s.DNE(11,Yi,3,3,"span",48)(12,Os,3,3,"span",49),s.k0s(),s.j41(13,"td",47),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(5);return s.Njj(Ut.navigate(Re,Re.scheme))}),s.j41(14,"button",50),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(5);return s.Njj(Ut.navigate(Re,Re.scheme))}),s.DNE(15,Fs,4,3)(16,Or,4,3),s.k0s()()()}if(2&ce){const j=_n.$implicit,be=s.XpG(5);s.AVh("inactive",!j.enabled||(null==j?null:j.nonEditable)),s.FS9("id",j.scheme),s.R7$(2),s.Y8G("ngIf",!j.enabled),s.R7$(),s.AVh("tw-text-blue-500",!(null!=j&&j.nonEditable)),s.R7$(),s.SpI(" ",null==j?null:j.scheme," "),s.R7$(2),s.SpI(" ",null==j?null:j.displayName," "),s.R7$(3),s.JRh(be.typeStr(null==j?null:j.type)),s.R7$(2),s.Y8G("ngIf",!j.enabled),s.R7$(),s.Y8G("ngIf",null==j?null:j.nonEditable),s.R7$(3),s.vxM(be.resourceIsReadOnly(j)?15:16)}}function Dt(ce,_n){if(1&ce&&(s.j41(0,"table",38)(1,"thead")(2,"tr")(3,"th",39),s.EFF(4),s.nI1(5,"translate"),s.k0s(),s.j41(6,"th",40),s.EFF(7),s.nI1(8,"translate"),s.k0s(),s.j41(9,"th",40),s.EFF(10),s.nI1(11,"translate"),s.k0s(),s.j41(12,"th",41)(13,"span",14),s.EFF(14),s.nI1(15,"translate"),s.k0s()(),s.j41(16,"th",41)(17,"span",14),s.EFF(18),s.nI1(19,"translate"),s.k0s()()()(),s.j41(20,"tbody"),s.DNE(21,Zr,17,12,"tr",42),s.k0s()()),2&ce){const j=s.XpG(4);s.R7$(4),s.SpI(" ",s.bMT(5,6,"Common.Scheme")," "),s.R7$(3),s.SpI(" ",s.bMT(8,8,"Common.Name")," "),s.R7$(3),s.SpI(" ",s.bMT(11,10,"Common.Type")," "),s.R7$(4),s.JRh(s.bMT(15,12,"Common.Status")),s.R7$(4),s.JRh(s.bMT(19,14,"Common.Actions")),s.R7$(3),s.Y8G("ngForOf",j.dynamicAuths)}}function dn(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-pager",56),s.bIt("onGoToPage",function(Re){s.eBV(j);const Ut=s.XpG(4);return s.Njj(Ut.goToPage(Re))}),s.k0s()}if(2&ce){const j=s.XpG(4);s.Y8G("totalResults",null==j.pagedResult?null:j.pagedResult.totalCount)("currentPage",j.page)("lastPage",null==j.pagedResult?null:j.pagedResult.pageCount)}}function Vt(ce,_n){if(1&ce&&(s.qex(0),s.DNE(1,li,4,3,"div",34)(2,Dt,22,16,"table",35)(3,dn,1,3,"app-pager",36),s.bVm()),2&ce){const j=s.XpG(3);s.R7$(),s.Y8G("ngIf",(null==j.dynamicAuths?null:j.dynamicAuths.length)<1),s.R7$(),s.Y8G("ngIf",(null==j.dynamicAuths?null:j.dynamicAuths.length)>0),s.R7$(),s.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0&&!j.isLoading)}}function mn(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"div",21)(1,"app-search",22),s.nI1(2,"translate"),s.mxI("searchTermChange",function(Re){s.eBV(j);const Ut=s.XpG(2);return s.DH7(Ut.searchTerm,Re)||(Ut.searchTerm=Re),s.Njj(Re)}),s.bIt("onSearch",function(Re){s.eBV(j);const Ut=s.XpG(2);return s.Njj(Ut.search(Re))})("appliedFilters",function(Re){s.eBV(j);const Ut=s.XpG(2);return s.Njj(Ut.filterStream.next(Re))}),s.k0s(),s.DNE(3,Di,7,4,"app-action-bar",23)(4,Li,1,0,"app-simple-loader",23)(5,Vt,4,3,"ng-container",23),s.k0s()}if(2&ce){const j=s.XpG(2);s.R7$(),s.R50("searchTerm",j.searchTerm),s.Y8G("availableFilters",j.availableFilters)("placeholder",s.bMT(2,6,"DynamicAuth.SearchPlaceholder")),s.R7$(2),s.Y8G("ngIf",!j.isLoading&&!j.isReadOnly),s.R7$(),s.Y8G("ngIf",j.isLoading),s.R7$(),s.Y8G("ngIf",!j.isLoading)}}function Jn(ce,_n){if(1&ce&&(s.j41(0,"div",11)(1,"app-title-bar",4),s.nI1(2,"translate"),s.j41(3,"a",12),s.nrm(4,"span",13),s.j41(5,"span",14),s.EFF(6),s.nI1(7,"translate"),s.k0s()()(),s.DNE(8,pn,1,0,"ng-template",null,0,s.C5r)(10,Bn,4,5,"div",15)(11,mn,6,8,"div",16),s.k0s()),2&ce){const j=s.XpG();s.R7$(),s.Y8G("title",s.bMT(2,5,j.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),s.R7$(2),s.Y8G("href",j.LinkConstants.EnablingDynamicAuth,s.B4B),s.R7$(3),s.JRh(s.bMT(7,7,"Common.Help")),s.R7$(4),s.Y8G("ngIf",!j.schemaHealthy),s.R7$(),s.Y8G("ngIf",j.schemaHealthy)}}let yi=(()=>{class ce extends et.u{get availableFilters(){return Object.keys(Y).map(j=>new De(Y[j],`DynamicAuth.Filters.${j}`,!1))}get DynamicAuthFilters(){return Y}get isReadOnly(){return(0,pe.tb)(this.securityService.userPermissions)}get LinkConstants(){return Ne.e}typeStr(j){return Qt.EX[j]}constructor(j,be,Re,Ut,ki,zs,ya,Ba,ol,ll,Fo){super(Ba,ol,!0,Fo,ya,ll),this.configService=j,this.errorService=be,this.titleService=Re,this.dynamicAuthenticationService=Ut,this.localize=ki,this.modalService=zs,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new en.B,this.pageStream=new en.B,this.pageSizeStream=new en.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(j){this.modalService.show(j,{id:P.R.Id,ariaLabelledBy:P.R.TileId,ariaDescribedby:P.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(P.R.Id)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(j){return this.term=j,{searchTerm:j,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:void 0}}ngOnInit(){const j=this.translate.instant("Nav.DynamicAuth")+" - "+de.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(j),this.configService.getConfig().subscribe({next:be=>{this.dynamicAuthIsNotConfigured=(0,pe.hX)(be.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=be.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk},error:be=>{this.errorService.handleError(be)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,Cn.$)()).subscribe({next:be=>{this.schemaHealthy=be,this.schemaHealthy&&this.triggerPageLoad()},error:be=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:be.status}))}})}triggerPageLoad(){const j=this.filterStream.pipe((0,ct.T)(Ut=>(this.activeFilters=Ut,{filters:Ut,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),be=this.pageStream.pipe((0,ct.T)(Ut=>(this.page=Ut,{filters:this.activeFilters,searchTerm:this.term,page:Ut,pageSize:this.pageSize}))),Re=this.pageSizeStream.pipe((0,ct.T)(Ut=>(this.pageSize=Ut,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:Ut})));be.pipe((0,Wn.X)(Re),(0,Wn.X)(this.searchSource),(0,Wn.X)(j),(0,Wn.X)(this.enterKeySource),(0,tn.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters}),(0,Ln.Z)(Ut=>{this.isLoading=!0;const ki=Ut.filters.join(" ");return this.dynamicAuthenticationService.get(Ut.searchTerm,Ut.page,Ut.pageSize,ki).pipe((0,ni.c)(200))})).subscribe({next:Ut=>{this.pagedResult=Ut,this.dynamicAuths=this.pagedResult.results.map(ki=>(0,ft.lH)(ki)).sort((ki,zs)=>Number(zs.nonEditable)-Number(ki.nonEditable)),this.isLoading=!1},error:Ut=>{500===Ut.status?this.handleInternalServerError():this.errorService.handleError(Ut),this.isLoading=!1}})}filter(j){if(this.activeFilters.includes(j)){const be=this.activeFilters.indexOf(j);this.activeFilters.splice(be,1)}else this.activeFilters.push(j);this.filterStream.next(this.activeFilters)}isShowing(j){return this.activeFilters.includes(j)}goToPage(j){this.pageStream.next(j)}setPageLength(j){this.page=1,this.pageSizeStream.next(j)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}resourceIsReadOnly(j){return!this.hasEditPermission||j.nonEditable}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(Ue.w),s.rXU(gt.I),s.rXU(Kt.hE),s.rXU(it.v),s.rXU(A.QG),s.rXU(w.I8),s.rXU(sn.i),s.rXU(Rn.tw),s.rXU(e.c$),s.rXU(Kn.Ix),s.rXU(Kn.nX))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["ng-component"]],standalone:!1,features:[s.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],[3,"wizardCancel","finish","hide"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","appliedFilters","searchTerm","availableFilters","placeholder"],[4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(be,Re){1&be&&s.DNE(0,At,17,12,"div",1)(1,Jn,12,9,"div",2),2&be&&(s.Y8G("ngIf",Re.dynamicAuthIsNotConfigured),s.R7$(),s.Y8G("ngIf",!Re.dynamicAuthIsNotConfigured))},dependencies:[t.Sq,t.bT,o.xH,o.y7,o.wz,o.BC,o.vS,ei.z,Ot.n,Gn.d,Zt.B,Tn.S,Ce,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var fi=l(3806),Us=l(1560),Es=l(8114),xr=l(7778),xs=l(8762),ua=l(4692);const Ci=ce=>[ce];function Ir(ce,_n){1&ce&&(s.nrm(0,"span",15),s.j41(1,"span",16),s.EFF(2),s.nI1(3,"translate"),s.k0s()),2&ce&&(s.R7$(2),s.JRh(s.bMT(3,1,"Common.Add")))}function qr(ce,_n){1&ce&&(s.nrm(0,"span",17),s.j41(1,"span",16),s.EFF(2),s.nI1(3,"translate"),s.k0s()),2&ce&&(s.R7$(2),s.JRh(s.bMT(3,1,"Common.Edit")))}function Oa(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",7,3),s.bIt("click",function(){s.eBV(j),s.XpG();const Re=s.sdS(18);return s.Njj(Re.show())}),s.nrm(2,"span",18),s.j41(3,"span",16),s.EFF(4),s.nI1(5,"translate"),s.k0s()()}if(2&ce){const j=s.XpG();s.Y8G("id",j.id+"-secret-value-delete-btn"),s.R7$(4),s.JRh(s.bMT(5,2,"Common.Delete"))}}let da=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}get currentValue(){const j=this.updateSecretForm.get("newSecret").value;return(0,pe.gP)(j)?null:j}constructor(j){this.fb=j,this.update=new s.bkB,this.updateSecretForm=j.group({newSecret:["",[pe.Dh,o.k0.required]]})}confirm(){this.update.emit(this.currentValue),this.updateSecretForm.patchValue({newSecret:null})}removeSecret(){this.update.emit(null),this.updateSecretForm.patchValue({newSecret:null})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-secret-input"]],inputs:{id:"id",label:"label",help:"help",isLast:"isLast",secret:"secret"},outputs:{update:"update"},standalone:!1,decls:20,vars:27,consts:[["addClientSecretButton",""],["modifySecretModal",""],["deleteSecretModal",""],["removeClientSecretButton",""],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],[3,"fieldType","values"],["type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click","id"],["type","button","class","tw-btn-link tw-btn-small group-hover:tw-text-blue-500","placement","right",3,"id","click",4,"ngIf"],[3,"confirm","close","title","modalId","okText","inFlight","disableSpinner"],["body",""],[3,"formGroup"],[1,"tw-mb-4"],["type","text","name","newSecret","id","newSecret","formControlName","newSecret",1,"tw-form-control"],[3,"delete","resourceName","modalId","destructive"],["id","addEditIcon","aria-hidden","true",1,"fas","fa-plus"],[1,"sr-only"],["id","addEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["id","deleteIcon","aria-hidden","true",1,"fas","fa-times"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"app-form-row",4)(1,"div",5),s.nrm(2,"app-readonly",6),s.nI1(3,"readOnlyValue"),s.j41(4,"button",7,0),s.bIt("click",function(){s.eBV(Ut);const zs=s.sdS(10);return s.Njj(zs.show())}),s.DNE(6,Ir,4,3)(7,qr,4,3),s.k0s(),s.DNE(8,Oa,6,4,"button",8),s.k0s()(),s.j41(9,"app-confirmation-modal",9,1),s.bIt("confirm",function(){return s.eBV(Ut),s.Njj(Re.confirm())})("close",function(){return s.eBV(Ut),s.Njj(Re.updateSecretForm.patchValue({newSecret:null}))}),s.qex(11,10),s.j41(12,"form",11)(13,"p",12),s.EFF(14),s.nI1(15,"translate"),s.k0s(),s.nrm(16,"input",13),s.k0s(),s.bVm(),s.k0s(),s.j41(17,"app-delete-confirmation-modal",14,2),s.nI1(19,"translate"),s.bIt("delete",function(){return s.eBV(Ut),s.Njj(Re.removeSecret())}),s.k0s()}2&be&&(s.Y8G("id",Re.id+"secret-value-input")("label",Re.label)("help",Re.help)("isLast",Re.isLast),s.R7$(2),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(25,Ci,s.bMT(3,19,Re.secret))),s.R7$(2),s.Y8G("id",Re.id+"-secret-value-change-btn"),s.R7$(2),s.vxM(null===Re.secret?6:7),s.R7$(2),s.Y8G("ngIf",null!=Re.secret),s.R7$(),s.Y8G("title","Common.NewSecretModal.Title")("modalId",Re.id+"-modify-secret")("okText","Common.Update")("inFlight",!Re.updateSecretForm.valid)("disableSpinner",!0),s.R7$(3),s.Y8G("formGroup",Re.updateSecretForm),s.R7$(2),s.SpI("",s.bMT(15,21,"Common.NewSecretModal.Description"),":"),s.R7$(3),s.Y8G("resourceName",s.bMT(19,23,Re.label))("modalId",Re.id+"-delete-secret")("destructive",!1))},dependencies:[o.qT,o.me,o.BC,o.cb,o.j4,o.JD,t.bT,Es.B,xr.w,xs.O,In.Y,e.D9,ua.u],encapsulation:2})}}return ce})();const fo=["updateClientSecretButton"],ma=ce=>[ce];function Sr(ce,_n){1&ce&&(s.j41(0,"app-form-row",13)(1,"app-form-toggle",14),s.nrm(2,"input",15),s.k0s()()),2&ce&&(s.Y8G("id","Enabled")("label","Common.Enabled"),s.R7$(),s.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function kr(ce,_n){if(1&ce&&(s.j41(0,"div",8),s.DNE(1,Sr,3,5,"app-form-row",9),s.j41(2,"app-form-row",10),s.nrm(3,"app-readonly",11),s.nI1(4,"readOnlyValue"),s.k0s(),s.j41(5,"app-form-row",10),s.nrm(6,"input",12),s.k0s()()),2&ce){const j=s.XpG(2);s.R7$(),s.Y8G("ngIf",!j.isRskDynamicAuth),s.R7$(),s.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(11,ma,s.bMT(4,9,j.dynamicAuth.scheme))),s.R7$(2),s.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function Wr(ce,_n){1&ce&&(s.j41(0,"app-form-row",10),s.nrm(1,"input",23),s.k0s()),2&ce&&s.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.OidcHelp")}function Pr(ce,_n){if(1&ce&&(s.j41(0,"option",24),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce){const j=_n.$implicit;s.Y8G("value",j),s.R7$(),s.JRh(s.bMT(2,2,"DynamicAuth.Flows."+j))}}function ea(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"div",16)(1,"app-form-row",10)(2,"input",17),s.bIt("focusout",function(){s.eBV(j);const Re=s.XpG(2);return s.Njj(Re.tryReachAuthority())}),s.k0s()(),s.j41(3,"app-form-row",10),s.nrm(4,"input",18),s.k0s(),s.DNE(5,Wr,2,3,"app-form-row",19),s.j41(6,"app-form-row",10)(7,"div",20)(8,"select",21),s.DNE(9,Pr,3,4,"option",22),s.k0s()()()()}if(2&ce){const j=s.XpG(2);s.R7$(),s.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),s.R7$(2),s.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),s.R7$(2),s.Y8G("ngIf",j.isRskDynamicAuth),s.R7$(),s.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),s.R7$(3),s.Y8G("ngForOf",j.allowedFlows)}}function ha(ce,_n){1&ce&&(s.j41(0,"app-form-row",29)(1,"app-form-toggle",14),s.nrm(2,"input",30),s.k0s()()),2&ce&&(s.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),s.R7$(),s.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function Ua(ce,_n){1&ce&&(s.j41(0,"app-form-row",10)(1,"app-row-bar",26),s.nrm(2,"input",31),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),s.R7$(2),s.FS9("placeholder",s.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function fr(ce,_n){if(1&ce&&(s.j41(0,"div",25)(1,"app-form-row",10)(2,"app-row-bar",26),s.nrm(3,"input",27),s.nI1(4,"translate"),s.k0s()(),s.DNE(5,ha,3,6,"app-form-row",28)(6,Ua,4,6,"app-form-row",19),s.k0s()),2&ce){const j=s.XpG(2);s.R7$(),s.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),s.R7$(2),s.FS9("placeholder",s.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),s.R7$(2),s.Y8G("ngIf",j.isRskDynamicAuth||j.dynamicAuth.type==j.dynamicAuthTypes.SAML),s.R7$(),s.Y8G("ngIf",(j.isRskDynamicAuth||j.dynamicAuth.type==j.dynamicAuthTypes.SAML)&&j.formGroup.get("signInSchemeForm.differentSignOut").value)}}function Fr(ce,_n){if(1&ce&&(s.j41(0,"div")(1,"app-form-row",32),s.nrm(2,"app-lifetime-picker",33),s.k0s()()),2&ce){const j=s.XpG(2);s.R7$(),s.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),s.R7$(),s.Y8G("buttons",j.defaultToleranceTimes)}}function Wo(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-secret-input",34),s.bIt("update",function(Re){s.eBV(j);const Ut=s.XpG(2);return s.Njj(Ut.formGroup.get("secretForm.clientSecret").setValue(Re))}),s.k0s()}if(2&ce){const j=s.XpG(2);s.Y8G("id","client")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("secret",j.formGroup.get("secretForm.clientSecret").value)}}function ta(ce,_n){if(1&ce&&(s.j41(0,"form",2),s.DNE(1,kr,7,13,"div",3)(2,ea,10,11,"div",4)(3,fr,7,8,"div",5)(4,Fr,3,5,"div",6)(5,Wo,1,4,"app-secret-input",7),s.k0s()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.formGroup),s.R7$(),s.Y8G("ngIf",j.formGroup.get("detailsForm")),s.R7$(),s.Y8G("ngIf",j.formGroup.get("connectionForm")&&j.dynamicAuth.type==j.dynamicAuthTypes.OIDC),s.R7$(),s.Y8G("ngIf",j.formGroup.get("signInSchemeForm")&&(j.isRskDynamicAuth||j.dynamicAuth.type==j.dynamicAuthTypes.SAML)),s.R7$(),s.Y8G("ngIf",j.formGroup.get("timeComparisonTolerance")&&(j.isRskDynamicAuth||j.dynamicAuth.type==j.dynamicAuthTypes.SAML)),s.R7$(),s.vxM(j.formGroup.get("secretForm")&&j.dynamicAuth.type==j.dynamicAuthTypes.OIDC?5:-1)}}let xa=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re,Ut,ki,zs,ya){this.fb=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.configService=Ut,this.providerValidator=ki,this.translate=zs,this.toastr=ya,this.dynamicAuthTypes=Qt.EX,this.allowedFlows=ge.FlowTypes,this.failedToContactAuthority=!1}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:fi.u.Minutes},{duration:5,unit:fi.u.Minutes},{duration:10,unit:fi.u.Minutes}],this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk},error:j=>{this.errorService.handleError(j)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{switch(this.dynamicAuth=j,this.dynamicAuth.type){case Qt.EX.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case Qt.EX.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[o.k0.required]]})}buildOidcForms(){this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options);let j={authority:[this.oidcOptions.authority,[o.k0.required,o.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[o.k0.required]],flow:[this.oidcOptions.usePkce?he.AuthCodePlusPkce:he.AuthCode,[o.k0.required]]};this.isRskDynamicAuth&&(j.callbackPath=[this.oidcOptions.callbackPath,[o.k0.required,Bi()]]);let be={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(j),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(be.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[o.k0.required]],differentSignOut:[!(0,pe.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),be.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(Re=>{this.validateSignOutScheme()})),this.formGroup=this.fb.group(be)}validateSignOutScheme(){let j=this.formGroup.get("signInSchemeForm.signOutScheme").value;this.formGroup.get("signInSchemeForm.differentSignOut").value&&(0,pe.gP)(j)?this.formGroup.get("signInSchemeForm.signOutScheme").setErrors({incorrect:!0}):this.formGroup.get("signInSchemeForm.signOutScheme").setErrors(null)}buildSamlForms(){this.samlOptions=(0,ft.Q0)(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[o.k0.required]],differentSignOut:[!(0,pe.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme??"",[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let j=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(j).subscribe(be=>{be||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:j=>{let Re,be={...this.dynamicAuth};be=this.updateDetails(be),this.dynamicAuth.type===Qt.EX.OIDC?(Re={...this.oidcOptions},Re=this.updateConnection(Re),Re=this.updateSignInScheme(Re),Re=this.updateSecret(Re)):this.dynamicAuth.type===Qt.EX.SAML&&(Re={...this.samlOptions},Re=this.updateSignInScheme(Re),Re=this.updateTimeComparisonTolerance(Re)),be.options=JSON.stringify(Re),this.dynamicAuthCacheService.unsavedCache.next(be)}}),this.dynamicAuth.type===Qt.EX.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(j=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(j){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...j,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(j){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let be={...j,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==he.AuthCodePlusPkce};return this.isRskDynamicAuth&&(be.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),be}updateSignInScheme(j){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==Qt.EX.OIDC)return j;this.validateSignOutScheme(),this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let be={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===Qt.EX.SAML||this.isRskDynamicAuth){let Re=this.formGroup.get("signInSchemeForm.differentSignOut").value,Ut=this.formGroup.get("signInSchemeForm.signOutScheme").value;be.signOutScheme=Re?Ut:null}return{...j,...be}}updateSecret(j){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);const be=this.formGroup.get("secretForm.clientSecret").value;return{...j,clientSecret:be,deleteSecret:(0,pe.gP)(be)}}updateTimeComparisonTolerance(j){let be=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",be.valid),{...j,timeComparisonTolerance:be.value}}setTimeComparisonTolerance(j){this.formGroup.controls.timeComparisonTolerance.setValue(j)}checkTimeComparisonToleranceSelected(j){return j==this.formGroup.get("timeComparisonTolerance").value}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(He.t),s.rXU(Ue.w),s.rXU(_t),s.rXU(e.c$),s.rXU(Rn.tw))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(be,Re){if(1&be&&s.GBs(fo,5),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.updateClientSecretButtonRef=Ut.first)}},standalone:!1,decls:2,vars:1,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],[3,"id","label","help","secret"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],[3,"update","id","label","help","secret"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,ta,6,6,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&(Re.oidcOptions||Re.samlOptions)))},dependencies:[t.Sq,t.bT,o.qT,o.xH,o.y7,o.me,o.Zm,o.wz,o.BC,o.cb,o.YS,o.j4,o.JD,o.$R,Us.T,In.Y,zi.m,Tt.f,da,xs.O,ua.u,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var ja=l(4252),Ur=l(8577);function mr(ce,_n){1&ce&&(s.j41(0,"div")(1,"app-form-row",8),s.nrm(2,"input",9),s.k0s()()),2&ce&&(s.R7$(),s.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help"))}function ka(ce,_n){if(1&ce&&(s.j41(0,"form",3)(1,"app-form-row",4)(2,"app-form-toggle",5),s.nrm(3,"input",6),s.k0s()(),s.DNE(4,mr,3,3,"div",7),s.k0s()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.idpAdvancedForm),s.R7$(),s.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!j.idpAdvancedForm.get("allowIdpInitiatedSso").value),s.R7$(),s.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("ngIf",j.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}function io(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"form",10)(1,"app-form-row",4)(2,"app-row-bar",11),s.nrm(3,"input",12),s.j41(4,"button",13),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.addRelayState())}),s.EFF(5),s.nI1(6,"translate"),s.k0s()()(),s.j41(7,"div",14)(8,"app-data-table",15),s.bIt("delete",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.deleteRelayState(Re))}),s.nrm(9,"app-data-table-column",16),s.k0s()()()}if(2&ce){const j=s.XpG();s.Y8G("formGroup",j.newRelayStateForm),s.R7$(),s.Y8G("id","AllowedIdpInitiatedRelayStates")("label","DynamicAuth.SAML.AllowedIdpInitiatedRelayStates.Label")("help","DynamicAuth.SAML.AllowedIdpInitiatedRelayStates.Help")("isLast",!0),s.R7$(3),s.Y8G("disabled",""==j.newRelayStateForm.controls.newRelayState.value),s.R7$(),s.SpI(" ",s.bMT(6,11,"Common.Add")," "),s.R7$(3),s.Y8G("rows",j.relayStates)("norowslabel","DynamicAuth.SAML.AllowedIdpInitiatedRelayStates.Empty")("actions",j.relayStateActions),s.R7$(),s.Y8G("cellClasses","tw-max-w-0 tw-truncate tw-font-semibold")}}let Ia=(()=>{class ce{constructor(j,be,Re){this.fb=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.relayStates=[],this.relayStateActions=[ja.AA.Delete]}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,ft.Q0)(this.dynamicAuth.options),this.relayStates=this.samlOptions.allowedIdpInitiatedRelayStates??[],this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);let be={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value,allowedIdpInitiatedRelayStates:this.relayStates};const Re={...this.dynamicAuth,options:JSON.stringify(be)};this.dynamicAuthCacheService.unsavedCache.next(Re)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[o.k0.required]],allowedIdpInitiatedRelayStates:[this.samlOptions.allowedIdpInitiatedRelayStates??[],[]]}),this.newRelayStateForm=this.fb.group({newRelayState:["",[]]})}addRelayState(){const j=this.newRelayStateForm.controls.newRelayState.value;""==j||this.relayStates.includes(j)||(this.relayStates.push(j),this.newRelayStateForm.controls.newRelayState.setValue(""),this.idpAdvancedForm.controls.allowedIdpInitiatedRelayStates.setValue(this.relayStates))}deleteRelayState(j){this.relayStates.splice(j,1),this.idpAdvancedForm.controls.allowedIdpInitiatedRelayStates.setValue(this.relayStates)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-idp-advanced"]],standalone:!1,decls:3,vars:2,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],["class","tw-relative",3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],[3,"id","label","help"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"],[1,"tw-relative",3,"formGroup"],[1,"tw-form-typeahead"],["type","text","name","AllowedIdpInitiatedRelayStates","id","AllowedIdpInitiatedRelayStates","formControlName","newRelayState","left","",1,"tw-form-control"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click","disabled"],[1,"tw-mt-4"],[3,"delete","rows","norowslabel","actions"],[3,"prop","cellClasses"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,ka,5,9,"form",1)(2,io,10,13,"form",2),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&Re.idpAdvancedForm),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&Re.newRelayStateForm&&Re.idpAdvancedForm.get("allowIdpInitiatedSso").value))},dependencies:[t.bT,o.qT,o.me,o.Zm,o.BC,o.cb,o.YS,o.j4,o.JD,ja.up,Ur.w,In.Y,zi.m,Tt.f,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();function Br(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),s.nrm(3,"input",5),s.k0s()(),s.j41(4,"app-form-row",6)(5,"div",7),s.nrm(6,"input",8),s.j41(7,"button",9),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.tryMetadataAddr())}),s.j41(8,"span"),s.EFF(9),s.nI1(10,"translate"),s.k0s()()()()()}if(2&ce){const j=s.XpG();s.Y8G("formGroup",j.idpDetailsForm),s.R7$(),s.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),s.R7$(),s.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),s.R7$(5),s.JRh(s.bMT(10,12,"Common.ValidateMetadata"))}}let Bs=(()=>{class ce{constructor(j,be,Re,Ut,ki,zs){this.fb=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.providerValidator=Ut,this.translate=ki,this.toastr=zs,this.metadataAddrStream=new Xe.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,ft.Q0)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,pe.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:j=>{this.errorService.handleError(j)}}),this.metadataAddrStream.subscribe(j=>{this.providerValidator.validateMetadataUrl(j).subscribe(be=>{be?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:j=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var j={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[o.k0.required,o.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(j)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var j={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const be={...this.dynamicAuth,options:JSON.stringify(j)};this.dynamicAuthCacheService.unsavedCache.next(be)}tryMetadataAddr(){const j=this.idpDetailsForm.get("idpMetadataAddress");j.invalid||this.metadataAddrStream.next(j.value)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(He.t),s.rXU(_t),s.rXU(e.c$),s.rXU(jt.g))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-idp-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,Br,11,14,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&Re.idpDetailsForm))},dependencies:[t.bT,o.qT,o.me,o.Zm,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y,zi.m,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var vr=l(6719),jr=l(251);const Ao=["AdvancedTabs"];let Ca=(()=>{class ce{constructor(){}ngOnInit(){}static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(be,Re){if(1&be&&s.GBs(Ao,7),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.advancedTabs=Ut.first)}},standalone:!1,decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-custom-tabs",1),s.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),s.k0s()(),s.j41(4,"div",3),s.nrm(5,"router-outlet"),s.k0s()),2&be&&(s.R7$(),s.Y8G("pillMode",!0),s.R7$(),s.Y8G("tabTitle","Nav.Details")("tabValue","details"),s.R7$(),s.Y8G("tabTitle","Nav.IdpInitiated")("tabValue","idp-initiated"))},dependencies:[Kn.n3,vr.G,jr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();function ar(ce,_n){if(1&ce&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"slice"),s.k0s()),2&ce){const j=_n.item;s.R7$(),s.JRh(j.length>20?s.brH(2,1,j,0,20)+"...":j)}}function hs(ce,_n){1&ce&&(s.j41(0,"div",11)(1,"div"),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.R7$(2),s.SpI(" ",s.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function Ds(ce,_n){1&ce&&(s.j41(0,"span",21),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Common.Reserved")," "))}function ks(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",22),s.bIt("click",function(){s.eBV(j);const Re=s.XpG().$implicit,Ut=s.XpG(3);return s.Njj(Ut.removeScope(Re))}),s.nrm(1,"span",23),s.j41(2,"span",15),s.EFF(3),s.nI1(4,"translate"),s.k0s()()}2&ce&&(s.R7$(3),s.JRh(s.bMT(4,1,"Common.Delete.Title")))}function Yr(ce,_n){if(1&ce&&(s.j41(0,"tr")(1,"td",18)(2,"span"),s.EFF(3),s.k0s()(),s.j41(4,"td"),s.DNE(5,Ds,3,3,"span",19),s.k0s(),s.j41(6,"td"),s.DNE(7,ks,5,3,"button",20),s.k0s()()),2&ce){const j=_n.$implicit,be=s.XpG(3);s.R7$(3),s.JRh(j),s.R7$(2),s.Y8G("ngIf",!be.allowRemoveScope(j)),s.R7$(2),s.Y8G("ngIf",be.allowRemoveScope(j))}}function Er(ce,_n){if(1&ce&&(s.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),s.EFF(4),s.nI1(5,"translate"),s.k0s()(),s.j41(6,"th",16)(7,"span",15),s.EFF(8),s.nI1(9,"translate"),s.k0s()(),s.j41(10,"th",16)(11,"span",15),s.EFF(12),s.nI1(13,"translate"),s.k0s()()(),s.j41(14,"tbody"),s.DNE(15,Yr,8,3,"tr",17),s.k0s()()),2&ce){const j=s.XpG(2);s.R7$(4),s.JRh(s.bMT(5,4,"Common.Scope")),s.R7$(4),s.JRh(s.bMT(9,6,"Common.Reserved")),s.R7$(4),s.JRh(s.bMT(13,8,"Common.Actions")),s.R7$(3),s.Y8G("ngForOf",j.currentScopes())}}function nl(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),s.nrm(3,"input",6),s.nI1(4,"translate"),s.j41(5,"button",7),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.addScope())}),s.EFF(6),s.nI1(7,"translate"),s.k0s()()(),s.j41(8,"div",8),s.DNE(9,hs,4,3,"div",9)(10,Er,16,10,"table",10),s.k0s()()}if(2&ce){const j=s.XpG(),be=s.sdS(1);s.Y8G("formGroup",j.scopesForm),s.R7$(),s.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),s.R7$(2),s.FS9("placeholder",s.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),s.Y8G("typeahead",j.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",be)("typeaheadMinLength",0)("maxlength",j.maxScopeLength),s.R7$(3),s.SpI(" ",s.bMT(7,17,"Common.Add")," "),s.R7$(2),s.Y8G("id","Scopes"),s.R7$(),s.Y8G("ngIf",j.currentScopes().length<=0),s.R7$(),s.Y8G("ngIf",j.currentScopes().length>0)}}let Yo=(()=>{class ce{constructor(j,be,Re,Ut,ki,zs){this.fb=j,this.errorService=be,this.toastr=Re,this.translateService=Ut,this.dynamicAuthChachService=ki,this.providerValidator=zs,this.newScope="",this.dynamicAuthTypes=Qt.EX,this.isDeleting=!1,this.maxScopeLength=ge.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}}),this.options=new xi.c(j=>{let be=this.scopesForm.get("newScope").value;j.next(be)}).pipe((0,wt.n)(j=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,ct.T)(be=>this.filterScopes(j,be)))))}filterScopes(j,be){const Re=!j;return be.filter(Ut=>!this.currentScopes().includes(Ut)&&(Re||Ut.includes(j)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:j=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const be={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},Re={...this.dynamicAuth,options:JSON.stringify(be)};this.dynamicAuthChachService.unsavedCache.next(Re)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const j=this.scopesForm.controls.newScope.value,be=this.scopesForm.controls.scopes.value;""!==j?j.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):be.includes(j)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...be,j]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(j){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(Re=>Re!==j))}currentScopes(){const j=this.scopesForm.controls.scopes;return j?j.value:[]}allowRemoveScope(j){return ge.AllowRemoveScope(j)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(Rn.tw),s.rXU(e.c$),s.rXU(He.t),s.rXU(_t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-scopes"]],standalone:!1,decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(be,Re){1&be&&(s.DNE(0,ar,3,5,"ng-template",null,0,s.C5r),s.j41(2,"div",1),s.DNE(3,nl,11,19,"form",2),s.k0s()),2&be&&(s.R7$(3),s.Y8G("ngIf",Re.dynamicAuth))},dependencies:[t.Sq,t.bT,o.qT,o.me,o.BC,o.cb,o.tU,o.j4,o.JD,In.Y,Tt.f,S.Xi,t.P9,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var so=l(4572);function il(ce,_n){1&ce&&(s.nrm(0,"span",12),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"DynamicAuth.PathValidation"),s.npT)}function K(ce,_n){1&ce&&(s.nrm(0,"span",13),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"DynamicAuth.PathValidation"),s.npT)}function ie(ce,_n){1&ce&&(s.nrm(0,"span",14),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"DynamicAuth.PathValidation"),s.npT)}function ee(ce,_n){if(1&ce&&(s.j41(0,"form",2)(1,"app-form-row",3),s.nrm(2,"input",4),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"input",5),s.DNE(5,il,2,3,"span",6),s.k0s(),s.j41(6,"app-form-row",3),s.nrm(7,"input",7),s.DNE(8,K,2,3,"span",8),s.k0s(),s.j41(9,"app-form-row",9),s.nrm(10,"input",10),s.DNE(11,ie,2,3,"span",11),s.k0s()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.spDetailsForm),s.R7$(),s.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),s.R7$(2),s.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),s.R7$(2),s.Y8G("ngIf",!j.validMetadataPath()),s.R7$(),s.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.SamlHelp"),s.R7$(2),s.Y8G("ngIf",!j.validCallbackPath()),s.R7$(),s.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.SamlHelp")("isLast",!0),s.R7$(2),s.Y8G("ngIf",!j.validSignedOutPath())}}let Te=(()=>{class ce{constructor(j,be,Re,Ut){this.fb=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.configService=Ut}ngOnInit(){(0,so.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()),this.configService.getConfig().pipe((0,Cn.$)())]).subscribe({next:([j,be])=>{this.dynamicAuth=j,this.samlOptions=(0,ft.Q0)(this.dynamicAuth.options),this.isRskDynamicAuth=be.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var be={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const Re={...this.dynamicAuth,options:JSON.stringify(be)};this.dynamicAuthCacheService.unsavedCache.next(Re)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let j={spEntityId:[this.samlOptions.spEntityId,[o.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[o.k0.required,Bi()]],callbackPath:[this.samlOptions.callbackPath,[o.k0.required,Bi()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[Bi()]]};this.spDetailsForm=this.fb.group(j)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(He.t),s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-sp-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,ee,12,17,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&Re.spDetailsForm))},dependencies:[t.bT,o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var qe=l(3042);function Pt(ce,_n){if(1&ce&&(s.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),s.nrm(3,"input",17),s.k0s()()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.spRequestForm),s.R7$(),s.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),s.R7$(),s.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function bn(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",18),s.bIt("click",function(){s.eBV(j),s.XpG();const Re=s.sdS(7);return s.Njj(Re.show())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Clients.Saml.AddCert")," "))}function ai(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",19),s.bIt("click",function(){s.eBV(j),s.XpG();const Re=s.sdS(7);return s.Njj(Re.show())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let ts=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re,Ut,ki,zs,ya){this.fb=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.toastr=Ut,this.translate=ki,this.certService=zs,this.dynamicAuthService=ya,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Be.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,ft.Q0)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var be={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const Re={...this.dynamicAuth,options:JSON.stringify(be)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(Re)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(j){this.selectedFile=j.item(0)}updateSigningCert(){this.fileName=new Be.w("");const j=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,j,{next:be=>{this.fileName=new Be.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,be,j).subscribe(Re=>{this.certificateDescription=[Re],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(Re)})},error:be=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},j=>{this.errorService.handleError(j)})}updateSigninCertInCache(j){var be={...this.samlOptions,signingCertificateDto:j};const Re={...this.dynamicAuth,options:JSON.stringify(be)};this.dynamicAuthCacheService.unsavedCache.next(Re)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(He.t),s.rXU(Rn.tw),s.rXU(e.c$),s.rXU(u.V),s.rXU(it.v))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-sp-request"]],standalone:!1,decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"div",2),s.DNE(1,Pt,4,7,"form",3),s.j41(2,"app-saml-cert-list",4),s.bIt("delete",function(){return s.eBV(Ut),s.Njj(Re.removeSigningCert())}),s.qex(3,5),s.DNE(4,bn,3,3,"button",6)(5,ai,3,3,"button",7),s.bVm(),s.k0s(),s.j41(6,"app-confirmation-modal",8,0),s.bIt("confirm",function(){return s.eBV(Ut),s.Njj(Re.updateSigningCert())}),s.qex(8,9),s.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),s.bIt("change",function(zs){return s.eBV(Ut),s.Njj(Re.handleFileInput(zs.target.files))}),s.k0s()()(),s.j41(15,"app-form-row",14),s.nrm(16,"input",15),s.k0s()(),s.bVm(),s.k0s()()}2&be&&(s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&Re.spRequestForm),s.R7$(),s.Y8G("certificates",Re.certificateDescription)("showSingle",!0)("deleteCertDisabled",Re.canDeleteCert),s.R7$(2),s.Y8G("ngIf",Re.certificateDescription.length<1),s.R7$(),s.Y8G("ngIf",Re.certificateDescription.length>0),s.R7$(),s.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),s.R7$(3),s.Y8G("formGroup",Re.certForm),s.R7$(),s.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),s.R7$(5),s.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[t.bT,o.qT,o.me,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,zi.m,Es.B,qe.T,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();function $i(ce,_n){if(1&ce&&(s.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),s.nrm(3,"input",17),s.k0s()(),s.j41(4,"app-form-row",11)(5,"app-form-toggle",16),s.nrm(6,"input",18),s.k0s()()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.spResponseForm),s.R7$(),s.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),s.R7$(),s.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),s.R7$(),s.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function Zs(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",19),s.bIt("click",function(){s.eBV(j),s.XpG();const Re=s.sdS(7);return s.Njj(Re.show())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Clients.Saml.AddCert")," "))}function $r(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",20),s.bIt("click",function(){s.eBV(j),s.XpG();const Re=s.sdS(7);return s.Njj(Re.show())}),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&ce&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let ga=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re,Ut,ki,zs,ya){this.fb=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.toastr=Ut,this.translate=ki,this.certService=zs,this.dynamicAuthService=ya,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Be.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,ft.Q0)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var be={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const Re={...this.dynamicAuth,options:JSON.stringify(be)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(Re)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(j){this.selectedFile=j.item(0)}updateEncryptionCert(){this.fileName=new Be.w("");const j=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,j,{next:be=>{this.fileName=new Be.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,be,j).subscribe(Re=>{this.certificateDescription=[Re],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(Re)})},error:be=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},j=>{this.errorService.handleError(j)})}updateEncryptionCertInCache(j){var be={...this.samlOptions,encryptionCertificateDto:j};const Re={...this.dynamicAuth,options:JSON.stringify(be)};this.dynamicAuthCacheService.unsavedCache.next(Re)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(gt.I),s.rXU(He.t),s.rXU(Rn.tw),s.rXU(e.c$),s.rXU(u.V),s.rXU(it.v))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-sp-response"]],standalone:!1,decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"div",2),s.DNE(1,$i,7,13,"form",3),s.j41(2,"app-saml-cert-list",4),s.bIt("delete",function(){return s.eBV(Ut),s.Njj(Re.removeEncryptionCert())}),s.qex(3,5),s.DNE(4,Zs,3,3,"button",6)(5,$r,3,3,"button",7),s.bVm(),s.k0s(),s.j41(6,"app-confirmation-modal",8,0),s.bIt("confirm",function(){return s.eBV(Ut),s.Njj(Re.updateEncryptionCert())}),s.qex(8,9),s.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),s.bIt("change",function(zs){return s.eBV(Ut),s.Njj(Re.handleFileInput(zs.target.files))}),s.k0s()()(),s.j41(15,"app-form-row",14),s.nrm(16,"input",15),s.k0s()(),s.bVm(),s.k0s()()}2&be&&(s.R7$(),s.Y8G("ngIf",Re.dynamicAuth&&Re.spResponseForm),s.R7$(),s.Y8G("certificates",Re.certificateDescription)("showSingle",!0)("deleteCertDisabled",Re.canDeleteCert),s.R7$(2),s.Y8G("ngIf",Re.certificateDescription.length<1),s.R7$(),s.Y8G("ngIf",Re.certificateDescription.length>0),s.R7$(),s.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),s.R7$(3),s.Y8G("formGroup",Re.certForm),s.R7$(),s.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),s.R7$(5),s.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[t.bT,o.qT,o.me,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,zi.m,Es.B,qe.T,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const $a=["AdvancedTabs"];let Rr=(()=>{class ce{constructor(){}ngOnInit(){}static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(be,Re){if(1&be&&s.GBs($a,7),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.advancedTabs=Ut.first)}},standalone:!1,decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-custom-tabs",1),s.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),s.k0s()(),s.j41(5,"div",3),s.nrm(6,"router-outlet"),s.k0s()),2&be&&(s.R7$(),s.Y8G("pillMode",!0),s.R7$(),s.Y8G("tabTitle","Nav.Details")("tabValue","details"),s.R7$(),s.Y8G("tabTitle","Nav.Request")("tabValue","request"),s.R7$(),s.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[Kn.n3,vr.G,jr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var Ga=l(6411),ro=l(7499),Mc=l(6728),ws=l(6406);const Pa=(ce,_n)=>({title:ce,link:_n}),sl=ce=>[ce];function Ys(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",3),2&ce&&s.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function Do(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",3),2&ce&&s.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function Nl(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",3),2&ce&&s.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function Ml(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",3),2&ce&&s.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let No=(()=>{class ce extends Ga.A{constructor(j,be,Re,Ut,ki,zs,ya,Ba,ol,ll){super(ll),this.r=j,this.route=be,this.localize=Re,this.titleService=Ut,this.translate=ki,this.toastr=zs,this.errorService=ya,this.dynamicAuthService=Ba,this.dynamicAuthCachService=ol,this.dynamicAuthTypes=Qt.EX,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:j=>{this.dynamicAuth=j;const be=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+de.$9.SITE_TITLE;if(this.titleService.setTitle(be),this.checkSubmitEnabled(),this.dynamicAuth.type==Qt.EX.OIDC&&this.isFirstCall){var Re=(0,ft.yx)(this.dynamicAuth.options);this.oldSecret=Re.clientSecret,this.isFirstCall=!1}},error:j=>{this.errorService.handleError(j)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}get unsavedChanges(){return this.dynamicAuthCachService.componentDirtyValidMap.size>0}onDeactivate(){this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}checkSubmitEnabled(){const j=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===j.length||j.some(be=>!be)}mobRoute(j){this.r.navigate([j],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==Qt.EX.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth((0,ft.jc)(this.dynamicAuth)).subscribe({next:j=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next((0,ft.lH)(j)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:j=>{this.errorService.handleError(j,{forceToast:!0})}}))}deleteDynamicAuth(j){this.dynamicAuthService.deleteDynamicAuth(j).subscribe({next:be=>{const Re=this.localize.translateRoute("/dynamic-auth");this.r.navigate([Re]),this.toastr.success(`${j} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:be=>{this.errorService.handleError(be,{forceToast:!0})}})}setOidcClientSecret(){var j=(0,ft.yx)(this.dynamicAuth.options);this.oldSecret==j.clientSecret&&(j.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(j)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(Kn.Ix),s.rXU(Kn.nX),s.rXU(A.QG),s.rXU(Kt.hE),s.rXU(e.c$),s.rXU(Rn.tw),s.rXU(gt.I),s.rXU(it.v),s.rXU(He.t),s.rXU(ro.o))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["ng-component"]],standalone:!1,features:[s.Vt3],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"app-title-bar",1),s.nI1(1,"translate"),s.nI1(2,"localize"),s.qex(3,2),s.j41(4,"app-custom-tabs"),s.nrm(5,"app-custom-tab",3),s.DNE(6,Ys,1,2,"app-custom-tab",4)(7,Do,1,2,"app-custom-tab",4)(8,Nl,1,2,"app-custom-tab",4)(9,Ml,1,2,"app-custom-tab",4),s.k0s(),s.bVm(),s.k0s(),s.j41(10,"div",5),s.nrm(11,"router-outlet"),s.k0s(),s.j41(12,"app-button-bar")(13,"button",6),s.bIt("click",function(){return s.eBV(Ut),s.Njj(Re.saveDynamicAuth())}),s.j41(14,"span"),s.EFF(15),s.nI1(16,"translate"),s.k0s()(),s.qex(17,7),s.j41(18,"button",8),s.bIt("click",function(){s.eBV(Ut);const zs=s.sdS(22);return s.Njj(zs.show())}),s.EFF(19),s.nI1(20,"translate"),s.k0s(),s.bVm(),s.k0s(),s.j41(21,"app-delete-confirmation-modal",9,0),s.bIt("delete",function(){return s.eBV(Ut),s.Njj(Re.deleteDynamicAuth(Re.dynamicAuth.scheme))}),s.k0s(),s.nrm(23,"app-can-deactivate")}2&be&&(s.Y8G("title",Re.dynamicAuth.displayName)("crumbs",s.eq3(24,sl,s.l_i(21,Pa,s.bMT(1,13,"Nav.DynamicAuth"),s.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),s.R7$(5),s.Y8G("tabTitle","Nav.Details")("tabValue","details"),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.OIDC),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.OIDC),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.SAML),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.SAML),s.R7$(4),s.Y8G("disabled",Re.saveDisabled),s.R7$(2),s.JRh(s.bMT(16,17,"Common.SaveAll")),s.R7$(4),s.JRh(s.bMT(20,19,"Common.Delete.Title")),s.R7$(2),s.Y8G("resourceName",Re.dynamicAuth.displayName))},dependencies:[Kn.n3,t.bT,vr.G,jr.v,Mc.E,ei.z,ws.z,xr.w,e.D9,A.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var Gr=l(7921);const Ts=ce=>[ce];function _a(ce,_n){if(1&ce&&(s.j41(0,"app-form-row",4),s.nrm(1,"app-readonly",3),s.k0s()),2&ce){const j=s.XpG(2);s.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.OidcHelp"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(5,Ts,j.optionsDictionary.callbackPath))}}function va(ce,_n){if(1&ce&&(s.j41(0,"div",8)(1,"app-form-row",4),s.nrm(2,"app-readonly",3),s.k0s(),s.j41(3,"app-form-row",4),s.nrm(4,"app-readonly",3),s.k0s(),s.DNE(5,_a,2,7,"app-form-row",9),s.j41(6,"app-form-row",4),s.nrm(7,"app-readonly",3),s.k0s()()),2&ce){const j=s.XpG();s.R7$(),s.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(16,Ts,j.optionsDictionary.authority)),s.R7$(),s.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(18,Ts,j.optionsDictionary.clientId)),s.R7$(),s.Y8G("ngIf",j.isRskDynamicAuth),s.R7$(),s.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(20,Ts,j.optionsDictionary.flow))}}function zo(ce,_n){if(1&ce&&(s.j41(0,"div",10)(1,"app-form-row",11),s.nrm(2,"app-readonly",3),s.k0s(),s.j41(3,"app-form-row",4),s.nrm(4,"app-readonly",3),s.k0s(),s.j41(5,"app-form-row",12),s.nrm(6,"app-readonly",3),s.k0s()()),2&ce){const j=s.XpG();s.R7$(),s.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(16,Ts,j.optionsDictionary.signInScheme)),s.R7$(),s.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(18,Ts,j.optionsDictionary.signOutScheme)),s.R7$(),s.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.LifetimePicker)("values",s.eq3(20,Ts,j.optionsDictionary.timeComparisonTolerance))}}function Mo(ce,_n){if(1&ce&&(s.j41(0,"div",13)(1,"app-form-row",12),s.nrm(2,"app-readonly",3),s.k0s()()),2&ce){const j=s.XpG();s.R7$(),s.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(6,Ts,j.optionsDictionary.clientSecret))}}let Ar=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re,Ut){this.errorService=j,this.dynamicAuthChachService=be,this.configService=Re,this.translate=Ut,this.dynamicAuthTypes=Qt.EX,this.snippet=ge.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk},error:j=>{this.errorService.handleError(j)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{switch(this.dynamicAuthType=j.type,this.dynamicAuthDictionary=new Gr.b(j),this.dynamicAuthType){case Qt.EX.OIDC:this.setOidcOptions(j.options);break;case Qt.EX.SAML:this.setSamlOptions(j.options)}},error:j=>{this.errorService.handleError(j)}})}setOidcOptions(j){let be={...(0,ft.yx)(j)};be.flow=this.translate.instant("DynamicAuth.Flows."+(be.usePkce?he.AuthCodePlusPkce:he.AuthCode)),this.optionsDictionary=new Gr.b(be)}setSamlOptions(j){const be=(0,ft.Q0)(j);this.optionsDictionary=new Gr.b(be)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(gt.I),s.rXU(He.t),s.rXU(Ue.w),s.rXU(e.c$))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-details"]],standalone:!1,decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),s.nrm(3,"app-readonly",3),s.k0s(),s.j41(4,"app-form-row",4),s.nrm(5,"app-readonly",3),s.k0s(),s.j41(6,"app-form-row",4),s.nrm(7,"app-readonly",3),s.k0s()(),s.DNE(8,va,8,22,"div",5)(9,zo,7,22,"div",6)(10,Mo,3,8,"div",7),s.k0s()),2&be&&(s.R7$(2),s.Y8G("id","Enabled")("label","Common.Enabled"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(17,Ts,Re.dynamicAuthDictionary.enabled)),s.R7$(),s.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(19,Ts,Re.dynamicAuthDictionary.scheme)),s.R7$(),s.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(21,Ts,Re.dynamicAuthDictionary.displayName)),s.R7$(),s.Y8G("ngIf",Re.dynamicAuthType==Re.dynamicAuthTypes.OIDC),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth||Re.dynamicAuthType==Re.dynamicAuthTypes.SAML),s.R7$(),s.Y8G("ngIf",Re.dynamicAuthType==Re.dynamicAuthTypes.OIDC))},dependencies:[t.bT,In.Y,xs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Ra=ce=>[ce];let rl=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCacheService=j}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{var be=(0,ft.Q0)(j.options);this.idpAdvancedDictionary=new Gr.b({allowIdpInitiatedSso:be.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:be.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-idp-advanced"]],standalone:!1,decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(11,Ra,Re.idpAdvancedDictionary.allowIdpInitiatedSso)),s.R7$(),s.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(13,Ra,Re.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[In.Y,xs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Fa=ce=>[ce];let ac=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCacheService=j}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{var be=(0,ft.Q0)(j.options);this.idpDetailsDictionary=new Gr.b({requireValidMetadataSignature:be.requireValidMetadataSignature,idpMetadataAddr:be.idpMetadataAddress})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-idp-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(11,Fa,Re.idpDetailsDictionary.requireValidMetadataSignature)),s.R7$(),s.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(13,Fa,Re.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[In.Y,xs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Oc=["AdvancedTabs"];let Ha=(()=>{class ce{constructor(){}ngOnInit(){}static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(be,Re){if(1&be&&s.GBs(Oc,7),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.advancedTabs=Ut.first)}},standalone:!1,decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-custom-tabs",1),s.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),s.k0s()(),s.j41(4,"div",3),s.nrm(5,"router-outlet"),s.k0s()),2&be&&(s.R7$(),s.Y8G("pillMode",!0),s.R7$(),s.Y8G("tabTitle","Nav.Details")("tabValue","details"),s.R7$(),s.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[Kn.n3,vr.G,jr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();function vl(ce,_n){if(1&ce&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"slice"),s.k0s()),2&ce){const j=_n.item;s.R7$(),s.JRh(j.length>20?s.brH(2,1,j,0,20)+"...":j)}}function Ol(ce,_n){1&ce&&(s.j41(0,"div",5)(1,"div"),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&ce&&(s.R7$(2),s.SpI(" ",s.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function lr(ce,_n){if(1&ce&&(s.j41(0,"tr")(1,"td",11)(2,"span",12),s.EFF(3),s.k0s()()()),2&ce){const j=_n.$implicit;s.R7$(3),s.JRh(j)}}function ao(ce,_n){if(1&ce&&(s.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),s.EFF(4),s.nI1(5,"translate"),s.k0s()()(),s.j41(6,"tbody"),s.DNE(7,lr,4,1,"tr",10),s.k0s()()),2&ce){const j=s.XpG();s.R7$(4),s.JRh(s.bMT(5,2,"Common.Scope")),s.R7$(3),s.Y8G("ngForOf",j.oidcOptions.scope)}}let mo=(()=>{class ce{constructor(j,be){this.errorService=j,this.dynamicAuthChachService=be,this.newScope="",this.dynamicAuthTypes=Qt.EX,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options)},error:j=>{this.errorService.handleError(j)}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(gt.I),s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-scopes"]],standalone:!1,decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(be,Re){1&be&&(s.DNE(0,vl,3,5,"ng-template",null,0,s.C5r),s.j41(2,"div",1)(3,"div",2),s.DNE(4,Ol,4,3,"div",3)(5,ao,8,4,"table",4),s.k0s()()),2&be&&(s.R7$(3),s.Y8G("id","Scopes"),s.R7$(),s.Y8G("ngIf",Re.oidcOptions.scope.length<=0),s.R7$(),s.Y8G("ngIf",Re.oidcOptions.scope.length>0))},dependencies:[t.Sq,t.bT,t.P9,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Ps=ce=>[ce];let ci=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCacheService=j}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{var be=(0,ft.Q0)(j.options);this.spDetailsDictionary=new Gr.b({entityId:be.spEntityId,metaDataAddr:be.spMetadataAddress,callbackPath:be.callbackPath,signOutCallbackPath:be.signedOutCallbackPath})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-sp-details"]],standalone:!1,decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",1),s.nrm(4,"app-readonly",2),s.k0s(),s.j41(5,"app-form-row",1),s.nrm(6,"app-readonly",2),s.k0s(),s.j41(7,"app-form-row",3),s.nrm(8,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(21,Ps,Re.spDetailsDictionary.entityId)),s.R7$(),s.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(23,Ps,Re.spDetailsDictionary.metaDataAddr)),s.R7$(),s.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.SamlHelp"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(25,Ps,Re.spDetailsDictionary.callbackPath)),s.R7$(),s.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.SamlHelp")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(27,Ps,Re.spDetailsDictionary.signOutCallbackPath)))},dependencies:[In.Y,xs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const ns=ce=>[ce];let cr=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCacheService=j}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{var be=(0,ft.Q0)(j.options);this.spRequestDictionary=new Gr.b({signAuthenticationRequests:be.signAuthenticationRequests}),this.certificateDescription=be.signingCertificateDto?[be.signingCertificateDto]:[]}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-sp-request"]],standalone:!1,decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.nrm(3,"app-saml-cert-list",3),s.k0s()),2&be&&(s.R7$(),s.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(8,ns,Re.spRequestDictionary.signAuthenticationRequests)),s.R7$(),s.Y8G("certificates",Re.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[In.Y,qe.T,xs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const hr=ce=>[ce];let Vr=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCacheService=j}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{var be=(0,ft.Q0)(j.options);this.spResponseDictionary=new Gr.b({requireSignedAssertions:be.requireSignedAssertions,requireEncryptedAssertions:be.requireEncryptedAssertions}),this.certificateDescription=be.encryptionCertificateDto?[be.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-sp-response"]],standalone:!1,decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",1),s.nrm(4,"app-readonly",2),s.k0s(),s.nrm(5,"app-saml-cert-list",3),s.k0s()),2&be&&(s.R7$(),s.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(13,hr,Re.spResponseDictionary.requireSignedAssertions)),s.R7$(),s.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(15,hr,Re.spResponseDictionary.requireEncryptedAssertions)),s.R7$(),s.Y8G("certificates",Re.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[In.Y,qe.T,xs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const na=["AdvancedTabs"];let Ge=(()=>{class ce{constructor(){}ngOnInit(){}static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(be,Re){if(1&be&&s.GBs(na,7),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.advancedTabs=Ut.first)}},standalone:!1,decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-custom-tabs",1),s.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),s.k0s()(),s.j41(5,"div",3),s.nrm(6,"router-outlet"),s.k0s()),2&be&&(s.R7$(),s.Y8G("pillMode",!0),s.R7$(),s.Y8G("tabTitle","Nav.Details")("tabValue","details"),s.R7$(),s.Y8G("tabTitle","Nav.Request")("tabValue","request"),s.R7$(),s.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[Kn.n3,vr.G,jr.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const gn=(ce,_n)=>({title:ce,link:_n}),$e=ce=>[ce],It=()=>["active"];function at(ce,_n){1&ce&&(s.j41(0,"option",19),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Nav.Scopes")))}function Sn(ce,_n){1&ce&&(s.j41(0,"option",20),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Nav.Advanced")))}function Ri(ce,_n){1&ce&&(s.j41(0,"option",21),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Nav.SP")))}function us(ce,_n){1&ce&&(s.j41(0,"option",22),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Nav.IdP")))}function qi(ce,_n){1&ce&&(s.j41(0,"button",23),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.Y8G("routerLinkActive",s.lJ4(4,It)),s.R7$(),s.JRh(s.bMT(2,2,"Nav.Scopes")))}function Tr(ce,_n){1&ce&&(s.j41(0,"button",24),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.Y8G("routerLinkActive",s.lJ4(4,It)),s.R7$(),s.JRh(s.bMT(2,2,"Nav.Advanced")))}function Lr(ce,_n){1&ce&&(s.j41(0,"button",25),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.Y8G("routerLinkActive",s.lJ4(4,It)),s.R7$(),s.JRh(s.bMT(2,2,"Nav.SP")))}function zr(ce,_n){1&ce&&(s.j41(0,"button",26),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.Y8G("routerLinkActive",s.lJ4(4,It)),s.R7$(),s.JRh(s.bMT(2,2,"Nav.IdP")))}let gr=(()=>{class ce{constructor(j,be,Re,Ut,ki,zs){this.r=j,this.route=be,this.titleService=Re,this.translate=Ut,this.errorService=ki,this.dynamicAuthCachService=zs,this.dynamicAuthTypes=Qt.EX}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j;const be=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+de.$9.SITE_TITLE;this.titleService.setTitle(be)},error:j=>{this.errorService.handleError(j)}})}mobRoute(j){this.r.navigate([j],{relativeTo:this.route})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(Kn.Ix),s.rXU(Kn.nX),s.rXU(Kt.hE),s.rXU(e.c$),s.rXU(gt.I),s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["ng-component"]],standalone:!1,decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(be,Re){1&be&&(s.j41(0,"app-title-bar",0),s.nI1(1,"translate"),s.nI1(2,"localize"),s.qex(3,1),s.j41(4,"div",2)(5,"label",3),s.EFF(6),s.nI1(7,"translate"),s.k0s(),s.j41(8,"div",4)(9,"select",5),s.bIt("change",function(ki){return Re.mobRoute(ki.target.value)}),s.j41(10,"option",6),s.EFF(11),s.nI1(12,"translate"),s.k0s(),s.DNE(13,at,3,3,"option",7)(14,Sn,3,3,"option",8)(15,Ri,3,3,"option",9)(16,us,3,3,"option",10),s.k0s()()(),s.j41(17,"ul",11),s.nI1(18,"translate"),s.j41(19,"li",12)(20,"button",13),s.EFF(21),s.nI1(22,"translate"),s.k0s()(),s.j41(23,"li",12),s.DNE(24,qi,3,5,"button",14),s.k0s(),s.j41(25,"li",12),s.DNE(26,Tr,3,5,"button",15),s.k0s(),s.j41(27,"li",12),s.DNE(28,Lr,3,5,"button",16),s.k0s(),s.j41(29,"li",12),s.DNE(30,zr,3,5,"button",17),s.k0s()(),s.bVm(),s.k0s(),s.j41(31,"div",18),s.nrm(32,"router-outlet"),s.k0s()),2&be&&(s.Y8G("title",Re.dynamicAuth.displayName)("crumbs",s.eq3(33,$e,s.l_i(30,gn,s.bMT(1,18,"Nav.DynamicAuth"),s.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",Re.dynamicAuth.nonEditable),s.R7$(6),s.JRh(s.bMT(7,22,"Nav.SubMenu")),s.R7$(5),s.JRh(s.bMT(12,24,"Nav.Details")),s.R7$(2),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.OIDC),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.OIDC),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.SAML),s.R7$(),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.SAML),s.R7$(),s.BMQ("aria-label",s.bMT(18,26,"Nav.SubMenu")),s.R7$(3),s.Y8G("routerLinkActive",s.lJ4(35,It)),s.R7$(),s.JRh(s.bMT(22,28,"Nav.Details")),s.R7$(3),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.OIDC),s.R7$(2),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.OIDC),s.R7$(2),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.SAML),s.R7$(2),s.Y8G("ngIf",Re.dynamicAuth.type==Re.dynamicAuthTypes.SAML))},dependencies:[Kn.n3,f.Wk,f.wQ,t.bT,o.xH,o.y7,ei.z,e.D9,A.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();var Js=l(3178),nr=l(7553),al=l(2892),Xo=l(8416),Mi=l(4446),Hi=l(6923);function se(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","Common.Request")("tabValue","request")}function Se(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function me(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function Ie(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function Je(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","DynamicAuth.AdditionalParameters.Label")("tabValue","additionalParameters")}function Mt(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","Common.Properties")("tabValue","properties")}function St(ce,_n){1&ce&&s.nrm(0,"app-custom-tab",2),2&ce&&s.Y8G("tabTitle","Common.Other")("tabValue","other")}let an=(()=>{class ce{constructor(j){this.configService=j}ngOnInit(){this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk,this.dotNetNineOrLater=j.dotNetNineOrLater}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-advanced"]],standalone:!1,decls:11,vars:11,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(be,Re){1&be&&(s.j41(0,"app-custom-tabs",0),s.DNE(1,se,1,2,"app-custom-tab",1),s.nrm(2,"app-custom-tab",2),s.DNE(3,Se,1,2,"app-custom-tab",1)(4,me,1,2,"app-custom-tab",1)(5,Ie,1,2,"app-custom-tab",1)(6,Je,1,2,"app-custom-tab",1)(7,Mt,1,2,"app-custom-tab",1)(8,St,1,2,"app-custom-tab",1),s.k0s(),s.j41(9,"div",3),s.nrm(10,"router-outlet"),s.k0s()),2&be&&(s.Y8G("pillMode",!0)("hidden",!Re.isRskDynamicAuth),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth),s.R7$(),s.Y8G("tabTitle","Common.Claims")("tabValue","claims"),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth&&Re.dotNetNineOrLater),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth))},dependencies:[Kn.n3,t.bT,vr.G,jr.v],encapsulation:2})}}return ce})();function Pn(ce,_n){1&ce&&(s.j41(0,"app-form-row",3)(1,"app-form-toggle",4),s.nrm(2,"input",7),s.k0s()()),2&ce&&(s.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),s.R7$(),s.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function Yn(ce,_n){if(1&ce&&(s.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),s.nrm(3,"input",5),s.k0s()(),s.DNE(4,Pn,3,7,"app-form-row",6),s.k0s()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.form),s.R7$(),s.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!j.isRskDynamicAuth),s.R7$(),s.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("ngIf",j.isRskDynamicAuth)}}let es=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re,Ut){this.fb=j,this.configService=be,this.dynamicAuthCache=Re,this.errorService=Ut}ngOnInit(){this.configService.getConfig().pipe((0,Cn.$)()).subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}buildForm(){let j={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(j.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(j)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:j=>{let be={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(be.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set(an.name,this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(be)})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(Ue.w),s.rXU(He.t),s.rXU(gt.I))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-claims-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,Yn,5,9,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.form))},dependencies:[t.bT,o.qT,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,zi.m],encapsulation:2})}}return ce})();function rn(ce,_n){if(1&ce&&(s.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),s.nrm(3,"input",5),s.k0s()(),s.j41(4,"app-form-row",6)(5,"app-form-toggle",4),s.nrm(6,"input",7),s.k0s()()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.form),s.R7$(),s.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),s.R7$(),s.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),s.R7$(),s.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let Ee=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re){this.fb=j,this.dynamicAuthCache=be,this.errorService=Re}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:j=>{let be={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set(an.name,this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(be)})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(He.t),s.rXU(gt.I))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-tokens-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,rn,7,14,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.form))},dependencies:[t.bT,o.qT,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,zi.m],encapsulation:2})}}return ce})();function G(ce,_n){if(1&ce&&(s.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),s.nrm(3,"input",5),s.k0s()(),s.j41(4,"app-form-row",6),s.nrm(5,"app-lifetime-picker",7),s.k0s()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.form),s.R7$(),s.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),s.R7$(),s.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),s.R7$(),s.Y8G("buttons",j.metadataRefreshIntervalButtons)}}let ye=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re){this.fb=j,this.dynamicAuthCache=be,this.errorService=Re,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[o.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:j=>{let be={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set(an.name,this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(be)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:fi.u.Hour},{duration:12,unit:fi.u.Hours},{duration:1,unit:fi.u.Day}]}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(He.t),s.rXU(gt.I))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-metadata-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,G,6,12,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.form))},dependencies:[t.bT,o.qT,o.Zm,o.BC,o.cb,o.j4,o.JD,Us.T,In.Y,zi.m],encapsulation:2})}}return ce})();function Oe(ce,_n){if(1&ce&&(s.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),s.nrm(3,"input",5),s.k0s()(),s.j41(4,"app-form-row",6)(5,"app-form-toggle",4),s.nrm(6,"input",7),s.k0s()()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.form),s.R7$(),s.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),s.R7$(),s.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),s.R7$(2),s.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),s.R7$(),s.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let pt=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re){this.fb=j,this.dynamicAuthCache=be,this.errorService=Re}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:j=>{let be={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set(an.name,this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(be)})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(He.t),s.rXU(gt.I))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-other-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,Oe,7,14,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.form))},dependencies:[t.bT,o.qT,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,zi.m],encapsulation:2})}}return ce})();function Ft(ce,_n){if(1&ce&&(s.j41(0,"form",2)(1,"app-form-row",3),s.nrm(2,"input",4),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"input",5),s.k0s(),s.j41(5,"app-form-row",6),s.nrm(6,"input",7),s.k0s()()),2&ce){const j=s.XpG();s.Y8G("formGroup",j.form),s.R7$(),s.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label")("help","DynamicAuth.RemoteSignOutPath.Help"),s.R7$(2),s.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label")("help","DynamicAuth.SignedOutRedirectUri.Help"),s.R7$(2),s.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.OidcHelp")("isLast",!0)}}let zt=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be,Re){this.fb=j,this.dynamicAuthCache=be,this.errorService=Re}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[o.k0.required,Bi()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[o.k0.required,Bi()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[o.k0.required,Bi()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:j=>{let be={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set(an.name,this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(be)})}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(He.t),s.rXU(gt.I))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-signout-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,Ft,7,11,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.form))},dependencies:[t.bT,o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,In.Y],encapsulation:2})}}return ce})();const vn=ce=>[ce];function xn(ce,_n){if(1&ce&&(s.j41(0,"app-form-row",1),s.nrm(1,"app-readonly",2),s.k0s()),2&ce){const j=s.XpG();s.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(6,vn,j.optionsDictionary.mapInboundClaims))}}let cn=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be){this.configService=j,this.dynamicAuthCache=be}ngOnInit(){(0,so.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()),this.configService.getConfig().pipe((0,Cn.$)())]).subscribe({next:([j,be])=>{this.optionsDictionary=new Gr.b((0,ft.yx)(j.options)),this.isRskDynamicAuth=be.featureFlagOptions.dynamicAuthenticationFlag==q.U.Rsk}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(Ue.w),s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-claims-view-details"]],standalone:!1,decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.DNE(3,xn,2,8,"app-form-row",3),s.k0s()),2&be&&(s.R7$(),s.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!Re.isRskDynamicAuth),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(7,vn,Re.optionsDictionary.getClaimsFromUserInfoEndpoint)),s.R7$(),s.Y8G("ngIf",Re.isRskDynamicAuth))},dependencies:[t.bT,In.Y,xs.O],encapsulation:2})}}return ce})();const wn=ce=>[ce];let On=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCache=j}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.optionsDictionary=new Gr.b((0,ft.yx)(j.options))}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-signout-view-details"]],standalone:!1,decls:7,vars:22,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",1),s.nrm(4,"app-readonly",2),s.k0s(),s.j41(5,"app-form-row",3),s.nrm(6,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label")("help","DynamicAuth.RemoteSignOutPath.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(16,wn,Re.optionsDictionary.remoteSignOutPath)),s.R7$(),s.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label")("help","DynamicAuth.SignedOutRedirectUri.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(18,wn,Re.optionsDictionary.signedOutRedirectUri)),s.R7$(),s.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.OidcHelp")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(20,wn,Re.optionsDictionary.signedOutCallbackPath)))},dependencies:[In.Y,xs.O],encapsulation:2})}}return ce})();const Zn=ce=>[ce];let ss=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCache=j}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.optionsDictionary=new Gr.b((0,ft.yx)(j.options))}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-metadata-view-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(11,Zn,Re.optionsDictionary.refreshOnIssuerKeyNotFound)),s.R7$(),s.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(13,Zn,Re.optionsDictionary.metadataRefreshInterval)))},dependencies:[In.Y,xs.O],encapsulation:2})}}return ce})();const Dr=ce=>[ce];let si=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCache=j}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.optionsDictionary=new Gr.b((0,ft.yx)(j.options))}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-tokens-view-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(11,Dr,Re.optionsDictionary.saveTokens)),s.R7$(),s.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(13,Dr,Re.optionsDictionary.useTokenLifetime)))},dependencies:[In.Y,xs.O],encapsulation:2})}}return ce})();const Ka=ce=>[ce];let Zi=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j){this.dynamicAuthCache=j}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.optionsDictionary=new Gr.b((0,ft.yx)(j.options))}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-other-view-details"]],standalone:!1,decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0)(1,"app-form-row",1),s.nrm(2,"app-readonly",2),s.k0s(),s.j41(3,"app-form-row",3),s.nrm(4,"app-readonly",2),s.k0s()()),2&be&&(s.R7$(),s.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(11,Ka,Re.optionsDictionary.skipUnrecognizedRequests)),s.R7$(),s.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(13,Ka,Re.optionsDictionary.disableTelemetry)))},dependencies:[In.Y,xs.O],encapsulation:2})}}return ce})();var js=l(3068),yr=l(7970),Oo=l(2292);function uu(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"div",7)(1,"div",8)(2,"input",9),s.bIt("keydown.enter",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.onEnter(Re))}),s.k0s(),s.j41(3,"button",10),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.onAdd())}),s.nrm(4,"span",11),s.j41(5,"span",12),s.EFF(6),s.nI1(7,"translate"),s.k0s()()()()}if(2&ce){const j=s.XpG();s.R7$(2),s.FS9("id",j.id+"-newValue-input"),s.BMQ("list",j.suggestionListId),s.R7$(),s.FS9("id",j.id+"-newValue-button"),s.Y8G("disabled",j.addDisabled),s.R7$(3),s.JRh(s.bMT(7,5,"Common.Add"))}}function Bu(ce,_n){if(1&ce&&(s.j41(0,"option"),s.EFF(1),s.k0s()),2&ce){const j=_n.$implicit;s.R7$(),s.JRh(j)}}function Vu(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-pill-list",13),s.bIt("onDelete",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.onDelete(Re))}),s.k0s()}if(2&ce){const j=s.XpG();s.Y8G("readonly",j.reserved)("id",j.id)("values",j.value)}}function Rd(ce,_n){if(1&ce&&(s.j41(0,"span",5),s.EFF(1),s.k0s()),2&ce){const j=s.XpG();s.R7$(),s.JRh(j.valueLimitMsg)}}function xo(ce,_n){if(1&ce&&(s.j41(0,"span",14),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce){const j=_n.$implicit;s.R7$(),s.Lme("",j.key,": ",s.bMT(2,2,j.value),"")}}let ko=(()=>{class ce{get newValue(){return this.form.get("newValue")?.value}set newValue(j){this.form.get("newValue").setValue(j)}get suggestionListId(){return`${this.id}-suggestions`}get availableSuggestions(){return this.suggestions?.filter(j=>!this.value.includes(j))}get errors(){let j=this.form.get("newValue");return j.dirty?j?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(j,be){this.fb=j,this.tranlate=be,this.id=(0,pe.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.suggestions=[],this.onChange=Re=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(j){this.value=j}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.disabled=j}validate(j){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onEnter(j){j.stopPropagation(),this.onAdd()}onDelete(j){this.value.splice(j,1),this.onChange(this.value)}isNullOrEmpty(j){return!j||null!==j.match(/^ *$/)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(e.c$))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators",suggestions:"suggestions"},standalone:!1,features:[s.Jv_([{provide:o.kq,useExisting:(0,s.Rfq)(()=>ce),multi:!0},{provide:o.cz,useExisting:(0,s.Rfq)(()=>ce),multi:!0}])],decls:11,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[3,"id"],[1,"tw-mb-5"],[3,"readonly","id","values"],["id","too-many-values"],["class","tw-alert-danger","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","autocomplete","off","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"keydown.enter","id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["role","alert",1,"tw-alert-danger"]],template:function(be,Re){1&be&&(s.j41(0,"form",0),s.DNE(1,uu,8,7,"div",1),s.j41(2,"datalist",2),s.Z7z(3,Bu,2,1,"option",null,s.fX1),s.k0s(),s.j41(5,"div",3),s.DNE(6,Vu,1,3,"app-pill-list",4)(7,Rd,2,1,"span",5),s.k0s(),s.j41(8,"div"),s.DNE(9,xo,3,4,"span",6),s.nI1(10,"keyvalue"),s.k0s()()),2&be&&(s.Y8G("formGroup",Re.form),s.R7$(),s.Y8G("ngIf",!Re.reserved),s.R7$(),s.Y8G("id",Re.suggestionListId),s.R7$(),s.Dyx(Re.availableSuggestions),s.R7$(3),s.vxM(Re.value.length<=Re.valueLimit||!Re.reserved?6:7),s.R7$(3),s.Y8G("ngForOf",s.bMT(10,5,Re.errors)))},dependencies:[t.Sq,t.bT,o.qT,o.xH,o.y7,o.me,o.BC,o.cb,o.j4,o.JD,Oo.L,t.lG,e.D9],encapsulation:2})}}return ce})();function Po(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-form-row",4)(1,"app-state-toggle",22),s.bIt("newValue",function(Re){s.eBV(j);const Ut=s.XpG(2);return s.Njj(Ut.updateParMode(Re))}),s.k0s()()}if(2&ce){const j=s.XpG(2);s.Y8G("id","PAR")("label","DynamicAuth.PAR.Label")("help","DynamicAuth.PAR.Help"),s.R7$(),s.Y8G("id","PAR")("options",j.parModeOptions)("value",j.form.get("parMode").value)}}function Ad(ce,_n){if(1&ce&&(s.j41(0,"li",23)(1,"label",24),s.nrm(2,"input",25),s.j41(3,"span"),s.EFF(4),s.nI1(5,"translate"),s.k0s()()()),2&ce){const j=_n.$implicit,be=s.XpG(2);s.Y8G("id",j.value+"-prompt"),s.R7$(),s.Y8G("for",j.value+"-checkbox"),s.R7$(),s.Y8G("id",j.value+"-checkbox")("formControlName",j.value),s.BMQ("disabled",be.promptDisabled(j.value)),s.R7$(2),s.JRh(s.bMT(5,6,j.displayName))}}function du(ce,_n){1&ce&&s.nrm(0,"app-freetext-list-input",26)}function xl(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"form",2),s.DNE(1,Po,2,6,"app-form-row",3),s.j41(2,"app-form-row",4)(3,"app-row-bar",5)(4,"app-state-toggle",6),s.bIt("newValue",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.updateResponseMode(Re))}),s.k0s(),s.j41(5,"a",7),s.nrm(6,"span",8),s.j41(7,"span",9),s.EFF(8),s.nI1(9,"translate"),s.k0s()()()(),s.j41(10,"app-form-row",4)(11,"ul",10),s.DNE(12,Ad,6,8,"li",11),s.j41(13,"li",12)(14,"label",13),s.nrm(15,"input",14),s.j41(16,"span"),s.EFF(17),s.nI1(18,"translate"),s.k0s()()()(),s.nrm(19,"br"),s.DNE(20,du,1,0,"app-freetext-list-input",15),s.j41(21,"p",16)(22,"span",17),s.EFF(23,"Preview:"),s.k0s(),s.j41(24,"span",18)(25,"span",19),s.EFF(26),s.k0s()()()(),s.j41(27,"app-form-row",20),s.nrm(28,"app-freetext-list-input",21),s.k0s()()}if(2&ce){const j=s.XpG();s.Y8G("formGroup",j.form),s.R7$(),s.Y8G("ngIf",j.dotNetNineOrLater),s.R7$(),s.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),s.R7$(2),s.Y8G("id","ResponseMode")("options",j.responseModeOptions)("value",j.form.get("responseMode").value),s.R7$(),s.Y8G("href",j.LinkConstants.AdvOthDynamicAuth,s.B4B),s.R7$(3),s.JRh(s.bMT(9,23,"Common.Help")),s.R7$(2),s.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),s.R7$(2),s.Y8G("ngForOf",j.promptOptions),s.R7$(3),s.BMQ("disabled",j.promptDisabled("")),s.R7$(2),s.JRh(s.bMT(18,25,"DynamicAuth.Prompt.Values.Other")),s.R7$(3),s.Y8G("ngIf",j.form.get("useOther").value&&!j.promptDisabled("other")),s.R7$(6),s.SpI(" '",j.generatePromptString(),"' "),s.R7$(),s.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),s.R7$(),s.Y8G("validators",j.ResourceValidators)}}class Rs{constructor(_n,j){this.displayName=_n,this.value=j}}let hu=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}get LinkConstants(){return Ne.e}get ResourceValidators(){return[Ni]}constructor(j,be,Re,Ut){this.fb=j,this.dynamicAuthCache=be,this.errorService=Re,this.configService=Ut,this.dotNetNineOrLater=!1,this.responseModeOptions=Object.keys(ne).filter(ki=>isNaN(Number(ki))),this.promptOptions=[new Rs("DynamicAuth.Prompt.Values.None","none"),new Rs("DynamicAuth.Prompt.Values.Login","login"),new Rs("DynamicAuth.Prompt.Values.Consent","consent"),new Rs("DynamicAuth.Prompt.Values.SelectAccount","select_account")],this.parModeOptions=Object.keys(js.r).filter(ki=>isNaN(Number(ki)))}ngOnInit(){this.configService.getConfig(!0).pipe((0,Cn.$)()).subscribe(j=>{this.dotNetNineOrLater=j.dotNetNineOrLater}),this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}buildForm(){let j=ge.ResponseModeMap.get(this.oidcOptions.responseMode);const be=this.promptOptions.map(ya=>ya.value),Re=(0,pe.hr)(this.oidcOptions.prompt),Ut=Re.filter(ya=>!be.includes(ya));let zs={parMode:[js.r[this.oidcOptions.pushedAuthorizationBehavior??js.r.UseIfAvailable],[]],responseMode:[ne[j],[]],resource:[(0,pe.hr)(this.oidcOptions.resource),[]],useOther:[Ut.length>0,[]],otherPrompts:[Ut,[]]};for(let ya of this.promptOptions)zs[ya.value]=[Re?.includes(ya.value)??!1,[]];this.form=this.fb.group(zs)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:j=>{let be=ne[this.form.get("responseMode").value],Re=ge.ResponseModeKey(be),Ut={...this.oidcOptions,pushedAuthorizationBehavior:js.r[this.form.get("parMode").value],responseMode:Re,prompt:this.generatePromptString(),resource:(0,pe.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set(an.name,this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Ut)})}})}generatePromptString(){let j=[];if(this.form.get("none").value)return"none";for(let be of this.promptOptions)this.form.get(be.value).value&&j.push(be.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(be=>j.push(be)),(0,pe.Nj)(j)}promptDisabled(j){const be=this.form.get("none").value;return!("none"===j||!be)||null}updateResponseMode(j){this.form.get("responseMode").setValue(j)}updateParMode(j){this.form.get("parMode").setValue(j)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(He.t),s.rXU(gt.I),s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-request-edit-details"]],standalone:!1,decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[3,"newValue","id","options","value"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,xl,29,27,"form",1),s.k0s()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.form))},dependencies:[t.Sq,t.bT,o.qT,o.Zm,o.BC,o.cb,o.j4,o.JD,In.Y,Tt.f,yr.j,ko,e.D9],encapsulation:2})}}return ce})();const pu=ce=>[ce];function gp(ce,_n){if(1&ce&&(s.j41(0,"app-form-row",2),s.nrm(1,"app-readonly",3),s.k0s()),2&ce){const j=s.XpG();s.Y8G("id","PAR")("label","DynamicAuth.PAR.Label")("help","DynamicAuth.PAR.Help"),s.R7$(),s.Y8G("fieldType",j.ReadOnlyFieldType.Single)("values",s.eq3(5,pu,j.optionsDictionary.pushedAuthorizationBehavior))}}let sr=(()=>{class ce{get ReadOnlyFieldType(){return vi.t}constructor(j,be){this.dynamicAuthCache=j,this.configService=be,this.dotNetNineOrLater=!1}ngOnInit(){this.configService.getConfig(!0).pipe((0,Cn.$)()).subscribe(j=>{this.dotNetNineOrLater=j.dotNetNineOrLater}),this.dynamicAuthCache.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.optionsDictionary=new Gr.b((0,ft.yx)(j.options))}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(He.t),s.rXU(Ue.w))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-request-view-details"]],standalone:!1,decls:8,vars:23,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,gp,2,7,"app-form-row",1),s.j41(2,"app-form-row",2),s.nrm(3,"app-readonly",3),s.k0s(),s.j41(4,"app-form-row",2),s.nrm(5,"app-readonly",3),s.k0s(),s.j41(6,"app-form-row",4),s.nrm(7,"app-readonly",3),s.k0s()()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.dotNetNineOrLater),s.R7$(),s.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(17,pu,Re.optionsDictionary.responseMode)),s.R7$(),s.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(19,pu,Re.optionsDictionary.prompt)),s.R7$(),s.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),s.R7$(),s.Y8G("fieldType",Re.ReadOnlyFieldType.Single)("values",s.eq3(21,pu,Re.optionsDictionary.resource)))},dependencies:[t.bT,In.Y,xs.O],encapsulation:2})}}return ce})();var yl=l(1258),Dd=l(7185),$s=l(4754),Lu=l(3899);const oc=["addButton"],Sa=["updateButton"],Ef=["viewButton"],Jo=["deletePropertyModal"],go=(ce,_n)=>({"fad fa-pencil":ce,"fas fa-eye":_n});function Wa(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-action-bar"),s.qex(1,21),s.j41(2,"button",22),s.bIt("click",function(){s.eBV(j);const Re=s.XpG();return s.Njj(Re.openAddModal())}),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.bVm(),s.k0s()}2&ce&&(s.R7$(3),s.SpI(" ",s.bMT(4,1,"Common.Add")," "))}function _p(ce,_n){1&ce&&(s.j41(0,"div",23),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Properties.None")))}function Nd(ce,_n){1&ce&&(s.j41(0,"span",28),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Common.Edit")))}function Md(ce,_n){1&ce&&(s.j41(0,"span",28),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"Common.View")))}function _o(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"button",38),s.bIt("click",function(){s.eBV(j);const Re=s.XpG().$implicit,Ut=s.XpG(2);return s.Njj(Ut.openDeleteModal(Re.key))}),s.nrm(1,"span",39),s.j41(2,"span",28),s.EFF(3),s.nI1(4,"translate"),s.k0s()()}2&ce&&(s.R7$(3),s.JRh(s.bMT(4,1,"Common.Remove.Title")))}function Uu(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"tr",31)(1,"td",32),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.viewOrEditProperty(Re.key))}),s.EFF(2),s.k0s(),s.j41(3,"td",32),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.viewOrEditProperty(Re.key))}),s.EFF(4),s.k0s(),s.j41(5,"td",33)(6,"button",34),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.viewOrEditProperty(Re.key))}),s.nrm(7,"span",35),s.DNE(8,Nd,3,3,"span",36)(9,Md,3,3,"span",36),s.k0s(),s.DNE(10,_o,5,3,"button",37),s.k0s()()}if(2&ce){const j=_n.$implicit,be=s.XpG(2);s.R7$(2),s.SpI(" ",j.key," "),s.R7$(2),s.SpI(" ",be.serializeToString(j.value)," "),s.R7$(3),s.Y8G("ngClass",s.l_i(6,go,!be.readOnly,be.readOnly)),s.R7$(),s.Y8G("ngIf",!be.readOnly),s.R7$(),s.Y8G("ngIf",be.readOnly),s.R7$(),s.Y8G("ngIf",!be.readOnly)}}function fu(ce,_n){if(1&ce&&(s.j41(0,"table",24)(1,"thead")(2,"tr")(3,"th",25),s.EFF(4),s.nI1(5,"translate"),s.k0s(),s.j41(6,"th",26),s.EFF(7),s.nI1(8,"translate"),s.k0s(),s.j41(9,"th",27)(10,"span",28),s.EFF(11),s.nI1(12,"translate"),s.k0s()()()(),s.j41(13,"tbody",29),s.DNE(14,Uu,11,9,"tr",30),s.nI1(15,"keyvalue"),s.k0s()()),2&ce){const j=s.XpG();s.R7$(4),s.JRh(s.bMT(5,4,"Common.Key")),s.R7$(3),s.JRh(s.bMT(8,6,"Common.Value")),s.R7$(4),s.JRh(s.bMT(12,8,"Common.Actions")),s.R7$(3),s.Y8G("ngForOf",s.bMT(15,10,j.properties))}}function ju(ce,_n){1&ce&&(s.nrm(0,"span",40),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"Properties.Errors.UsedKey"),s.npT)}function xc(ce,_n){1&ce&&(s.nrm(0,"span",41),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"Properties.Errors.InvalidJson"),s.npT)}function kc(ce,_n){1&ce&&(s.nrm(0,"span",41),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"Properties.Errors.InvalidJson"),s.npT)}let lc=(()=>{class ce{constructor(j,be,Re){this.fb=j,this.translate=be,this.modalService=Re,this.readOnly=!1,this.propertiesChange=new s.bkB,this.properties={},this.deleteModalType=Dd.q.Warning,this.addModalActions=[yl.N.Save],this.addPropertyModalId="addPropertyModal",this.updateModalActions=[yl.N.Save],this.updatePropertyModalId="updatePropertyModal",this.viewModalActions=[],this.viewPropertyModalId="viewPropertyModal"}ngOnInit(){null!=this.inputProperties&&(this.properties=this.inputProperties),this.formProperty=this.fb.group({key:["",[o.k0.required]],value:["",[]]})}viewOrEditProperty(j){this.readOnly?this.openViewModal(j):this.openEditModal(j)}emitUpdatedProperties(){this.readOnly||this.propertiesChange.emit(this.properties)}propertiesEmpty(){return null==this.properties||0==Object.keys(this.properties).length}openAddModal(){this.modalService.showById(this.addPropertyModalId,this.addButtonRef)}closeAddModal(){this.modalService.hideById(this.addPropertyModalId),this.formProperty.reset()}existsKey(){return null!=this.properties[this.formProperty.controls.key.value]}validKey(){return!(this.existsKey()||null==this.formProperty.controls.key.value||""==this.formProperty.controls.key.value)}validJsonFormat(){if(null==this.formProperty.controls.value.value||""==this.formProperty.controls.value.value)return!0;try{JSON.parse(this.formProperty.controls.value.value)}catch{return!1}return!0}validProperty(){return!(!this.validKey()||!this.validJsonFormat())&&this.formProperty.valid}addProperty(){this.properties[this.formProperty.controls.key.value]=JSON.parse(this.formProperty.controls.value.value),this.emitUpdatedProperties(),this.formProperty.reset()}openViewModal(j){this.formProperty.controls.key.setValue(j),this.formProperty.controls.value.setValue(this.serializeToString(this.properties[j])),this.modalService.showById(this.viewPropertyModalId,this.viewButtonRef)}openEditModal(j){this.formProperty.controls.key.setValue(j),this.formProperty.controls.value.setValue(this.serializeToString(this.properties[j])),this.modalService.showById(this.updatePropertyModalId,this.updateButtonRef)}closeViewModal(){this.modalService.hideById(this.viewPropertyModalId),this.formProperty.reset()}closeEditModal(){this.modalService.hideById(this.updatePropertyModalId),this.formProperty.reset()}openDeleteModal(j){this.deleteTarget=j,this.deletePropertyModal.show()}closeDeleteModal(){this.deletePropertyModal.hide(),this.deleteTarget=null}removeProperty(){delete this.properties[this.deleteTarget],this.emitUpdatedProperties(),this.closeDeleteModal()}serializeToString(j){return JSON.stringify(j,null,2)}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(e.c$),s.rXU($s.B))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-json-properties-list"]],viewQuery:function(be,Re){if(1&be&&(s.GBs(oc,5),s.GBs(Sa,5),s.GBs(Ef,5),s.GBs(Jo,7)),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.addButtonRef=Ut.first),s.mGM(Ut=s.lsd())&&(Re.updateButtonRef=Ut.first),s.mGM(Ut=s.lsd())&&(Re.viewButtonRef=Ut.first),s.mGM(Ut=s.lsd())&&(Re.deletePropertyModal=Ut.first)}},inputs:{readOnly:"readOnly",inputProperties:"inputProperties"},outputs:{propertiesChange:"propertiesChange"},standalone:!1,decls:29,vars:41,consts:[["deletePropertyModal",""],["id","propertiesList",1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","title","modalId","actions","saveText"],[3,"formGroup"],[3,"label"],[1,"tw-ml-4"],[3,"label","isLast"],[1,"tw-max-w-[550px]","tw-break-words","tw-mx-4"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"label","id"],["id","addPropertyKey","type","text","formControlName","key",1,"tw-form-control","tw-max-w-full"],["id","keyWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"label","id","isLast"],["id","addPropertyValue","type","text","formControlName","value",1,"tw-form-control","tw-max-w-full"],["id","valueWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"onCancel","onSave","title","modalId","actions","saveText","addDisabled"],["id","updatePropertyValue","type","text","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"delete","modalId","resourceName","destructive"],["right",""],["id","addProperty","type","button","placement","right",1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"tw-w-1/4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group tw-cursor-pointer",4,"ngFor","ngForOf"],[1,"group","tw-cursor-pointer"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["name","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],["type","button","class","tw-btn-link tw-btn-small tw-text-red-500",3,"click",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["name","deleteIcon","aria-hidden","true",1,"fas","fa-times"],["id","keyWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","valueWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"div",1),s.DNE(1,Wa,5,3,"app-action-bar",2)(2,_p,3,3,"div",3)(3,fu,16,12,"table",4),s.k0s(),s.j41(4,"app-custom-modal",5),s.bIt("onCancel",function(){return s.eBV(Ut),s.Njj(Re.closeViewModal())}),s.j41(5,"form",6)(6,"app-form-row",7)(7,"span",8),s.EFF(8),s.k0s()(),s.j41(9,"app-form-row",9)(10,"div",10),s.EFF(11),s.k0s()()()(),s.j41(12,"app-custom-modal",11),s.bIt("onCancel",function(){return s.eBV(Ut),s.Njj(Re.closeAddModal())})("onSave",function(){return s.eBV(Ut),s.Njj(Re.addProperty())}),s.j41(13,"form",6)(14,"app-form-row",12),s.nrm(15,"input",13),s.DNE(16,ju,2,3,"span",14),s.k0s(),s.j41(17,"app-form-row",15),s.nrm(18,"textarea",16),s.DNE(19,xc,2,3,"span",17),s.k0s()()(),s.j41(20,"app-custom-modal",18),s.bIt("onCancel",function(){return s.eBV(Ut),s.Njj(Re.closeEditModal())})("onSave",function(){return s.eBV(Ut),s.Njj(Re.addProperty())}),s.j41(21,"form",6)(22,"app-form-row",12),s.EFF(23),s.k0s(),s.j41(24,"app-form-row",15),s.nrm(25,"textarea",19),s.DNE(26,kc,2,3,"span",17),s.k0s()()(),s.j41(27,"app-delete-confirmation-modal",20,0),s.bIt("delete",function(){return s.eBV(Ut),s.Njj(Re.removeProperty())}),s.k0s()}2&be&&(s.R7$(),s.Y8G("ngIf",!Re.readOnly),s.R7$(),s.Y8G("ngIf",Re.propertiesEmpty()),s.R7$(),s.Y8G("ngIf",!Re.propertiesEmpty()),s.R7$(),s.Y8G("title","Properties.View")("modalId",Re.viewPropertyModalId)("actions",Re.viewModalActions)("saveText","Common.View"),s.R7$(),s.Y8G("formGroup",Re.formProperty),s.R7$(),s.Y8G("label","Common.Key"),s.R7$(2),s.JRh(Re.formProperty.controls.key.value),s.R7$(),s.Y8G("label","Common.Value")("isLast",!0),s.R7$(2),s.JRh(Re.formProperty.controls.value.value),s.R7$(),s.Y8G("title","Properties.Add")("modalId",Re.addPropertyModalId)("actions",Re.addModalActions)("addDisabled",!Re.validProperty()),s.R7$(),s.Y8G("formGroup",Re.formProperty),s.R7$(),s.Y8G("label","Common.Key")("id","addPropertyKey"),s.R7$(2),s.Y8G("ngIf",Re.existsKey()),s.R7$(),s.Y8G("label","Common.Value")("id","addPropertyValue")("isLast",!0),s.R7$(2),s.Y8G("ngIf",!Re.validJsonFormat()),s.R7$(),s.Y8G("title","Properties.Update")("modalId",Re.updatePropertyModalId)("actions",Re.updateModalActions)("saveText","Common.Update")("addDisabled",!Re.validJsonFormat()),s.R7$(),s.Y8G("formGroup",Re.formProperty),s.R7$(),s.Y8G("label","Common.Key")("id","updatePropertyKey"),s.R7$(),s.SpI(" ",Re.formProperty.controls.key.value," "),s.R7$(),s.Y8G("label","Common.Value")("id","updatePropertyValue")("isLast",!0),s.R7$(2),s.Y8G("ngIf",!Re.validJsonFormat()),s.R7$(),s.Y8G("modalId","deletePropertyModal")("resourceName",Re.deleteTarget)("destructive",!1))},dependencies:[t.YU,t.Sq,t.bT,Lu.G,xr.w,o.qT,o.me,o.BC,o.cb,In.Y,o.j4,o.JD,Ot.n,t.lG,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();function cc(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-json-properties-list",1),s.bIt("propertiesChange",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.updatePropertiesInCache(Re))}),s.k0s()}if(2&ce){const j=s.XpG();s.Y8G("inputProperties",j.oidcOptions.properties)}}let mu=(()=>{class ce{constructor(j,be){this.errorService=j,this.dynamicAuthCacheService=be}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),null==this.oidcOptions.properties&&(this.oidcOptions.properties={})},error:j=>{this.errorService.handleError(j)}})}updatePropertiesInCache(j){let be={...this.oidcOptions,properties:j};this.dynamicAuthCacheService.componentDirtyValidMap.set(an.name,!0),this.dynamicAuthCacheService.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(be)})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(gt.I),s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-properties"]],standalone:!1,decls:1,vars:1,consts:[[3,"inputProperties","propertiesChange",4,"ngIf"],[3,"propertiesChange","inputProperties"]],template:function(be,Re){1&be&&s.DNE(0,cc,1,1,"app-json-properties-list",0),2&be&&s.Y8G("ngIf",Re.oidcOptions)},dependencies:[t.bT,lc],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Qo=["addButton"],$u=["updateButton"],Gu=["viewButton"],bl=["deleteParameterModal"];function As(ce,_n){1&ce&&(s.j41(0,"div",21),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"DynamicAuth.AdditionalParameters.None")))}function Ea(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"tr",29)(1,"td",30),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openEditModal(Re.key))}),s.EFF(2),s.k0s(),s.j41(3,"td",30),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openEditModal(Re.key))}),s.EFF(4),s.k0s(),s.j41(5,"td",31)(6,"button",32),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openEditModal(Re.key))}),s.nrm(7,"span",33),s.j41(8,"span",26),s.EFF(9),s.nI1(10,"translate"),s.k0s()(),s.j41(11,"button",34),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openDeleteModal(Re.key))}),s.nrm(12,"span",35),s.j41(13,"span",26),s.EFF(14),s.nI1(15,"translate"),s.k0s()()()()}if(2&ce){const j=_n.$implicit;s.R7$(2),s.SpI(" ",j.key," "),s.R7$(2),s.SpI(" ",j.value," "),s.R7$(5),s.JRh(s.bMT(10,4,"Common.Edit")),s.R7$(5),s.JRh(s.bMT(15,6,"Common.Remove.Title"))}}function Pc(ce,_n){if(1&ce&&(s.j41(0,"table",22)(1,"thead")(2,"tr")(3,"th",23),s.EFF(4),s.nI1(5,"translate"),s.k0s(),s.j41(6,"th",24),s.EFF(7),s.nI1(8,"translate"),s.k0s(),s.j41(9,"th",25)(10,"span",26),s.EFF(11),s.nI1(12,"translate"),s.k0s()()()(),s.j41(13,"tbody",27),s.DNE(14,Ea,16,8,"tr",28),s.nI1(15,"keyvalue"),s.k0s()()),2&ce){const j=s.XpG();s.R7$(4),s.JRh(s.bMT(5,4,"Common.Key")),s.R7$(3),s.JRh(s.bMT(8,6,"Common.Value")),s.R7$(4),s.JRh(s.bMT(12,8,"Common.Actions")),s.R7$(3),s.Y8G("ngForOf",s.bMT(15,10,j.additionalParameters))}}function gu(ce,_n){1&ce&&(s.nrm(0,"span",36),s.nI1(1,"translate")),2&ce&&s.Y8G("innerHTML",s.bMT(1,1,"Properties.Errors.UsedKey"),s.npT)}let Od=(()=>{class ce{constructor(j,be,Re,Ut,ki){this.fb=j,this.translate=be,this.errorService=Re,this.dynamicAuthCacheService=Ut,this.modalService=ki,this.additionalParameters={},this.deleteModalType=Dd.q.Warning,this.addModalActions=[yl.N.Save],this.addParameterModalId="addParameterModal",this.updateModalActions=[yl.N.Save],this.updateParameterModalId="updateParameterModal",this.viewModalActions=[],this.viewParameterModalId="viewParameterModal"}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),null==this.oidcOptions.additionalAuthorizationParameters&&(this.oidcOptions.additionalAuthorizationParameters={}),this.additionalParameters=this.oidcOptions.additionalAuthorizationParameters,this.formParameters=this.fb.group({key:["",[o.k0.required]],value:["",[o.k0.required]]})},error:j=>{this.errorService.handleError(j)}})}updateParametersInCache(){let j={...this.oidcOptions,additionalAuthorizationParameters:this.additionalParameters};this.dynamicAuthCacheService.componentDirtyValidMap.set(an.name,!0),this.dynamicAuthCacheService.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(j)})}parametersEmpty(){return null==this.additionalParameters||0==Object.keys(this.additionalParameters).length}openAddModal(){this.modalService.showById(this.addParameterModalId,this.addButtonRef)}closeAddModal(){this.modalService.hideById(this.addParameterModalId),this.formParameters.reset()}existsKey(){return null!=this.additionalParameters[this.formParameters.controls.key.value]}validKey(){return!(this.existsKey()||null==this.formParameters.controls.key.value||""==this.formParameters.controls.key.value)}validParameter(){return!(!this.validKey()||null==this.formParameters.controls.value.value||""==this.formParameters.controls.value.value)&&this.formParameters.valid}addParameter(){this.additionalParameters[this.formParameters.controls.key.value]=this.formParameters.controls.value.value,this.updateParametersInCache(),this.formParameters.reset()}openViewModal(j){this.formParameters.controls.key.setValue(j),this.formParameters.controls.value.setValue(this.additionalParameters[j]),this.modalService.showById(this.viewParameterModalId,this.viewButtonRef)}openEditModal(j){this.formParameters.controls.key.setValue(j),this.formParameters.controls.value.setValue(this.additionalParameters[j]),this.modalService.showById(this.updateParameterModalId,this.updateButtonRef)}closeViewModal(){this.modalService.hideById(this.viewParameterModalId),this.formParameters.reset()}closeEditModal(){this.modalService.hideById(this.updateParameterModalId),this.formParameters.reset()}openDeleteModal(j){this.deleteTarget=j,this.deleteParameterModal.show()}closeDeleteModal(){this.deleteParameterModal.hide(),this.deleteTarget=null}removeParameter(){delete this.additionalParameters[this.deleteTarget],this.updateParametersInCache(),this.closeDeleteModal()}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(o.ze),s.rXU(e.c$),s.rXU(gt.I),s.rXU(He.t),s.rXU($s.B))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-additional-parameters"]],viewQuery:function(be,Re){if(1&be&&(s.GBs(Qo,5),s.GBs($u,5),s.GBs(Gu,5),s.GBs(bl,7)),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.addButtonRef=Ut.first),s.mGM(Ut=s.lsd())&&(Re.updateButtonRef=Ut.first),s.mGM(Ut=s.lsd())&&(Re.viewButtonRef=Ut.first),s.mGM(Ut=s.lsd())&&(Re.deleteParameterModal=Ut.first)}},standalone:!1,decls:31,vars:41,consts:[["deleteParameterModal",""],["id","parametersList",1,"tw-container","tw-mx-auto"],["right",""],["id","addParameter","type","button","placement","right",1,"tw-btn-success",3,"click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","title","modalId","actions","saveText"],[3,"formGroup"],[3,"label"],[1,"tw-ml-4"],[3,"label","isLast"],[1,"tw-max-w-[550px]","tw-break-words","tw-mx-4"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"label","id"],["id","addParameterKey","type","text","formControlName","key",1,"tw-form-control","tw-max-w-full"],["id","keyWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"label","id","isLast"],["id","addParameterValue","type","text","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onSave","title","modalId","actions","saveText","addDisabled"],["id","updateParameterValue","type","text","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"delete","modalId","resourceName","destructive"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"tw-w-1/4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],["id","parametersTable"],["class","group tw-cursor-pointer",4,"ngFor","ngForOf"],[1,"group","tw-cursor-pointer"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["name","editIcon","aria-hidden","true",1,"fad","fa-pencil"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["name","deleteIcon","aria-hidden","true",1,"fas","fa-times"],["id","keyWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(be,Re){if(1&be){const Ut=s.RV6();s.j41(0,"div",1)(1,"app-action-bar"),s.qex(2,2),s.j41(3,"button",3),s.bIt("click",function(){return s.eBV(Ut),s.Njj(Re.openAddModal())}),s.EFF(4),s.nI1(5,"translate"),s.k0s(),s.bVm(),s.k0s(),s.DNE(6,As,3,3,"div",4)(7,Pc,16,12,"table",5),s.k0s(),s.j41(8,"app-custom-modal",6),s.bIt("onCancel",function(){return s.eBV(Ut),s.Njj(Re.closeViewModal())}),s.j41(9,"form",7)(10,"app-form-row",8)(11,"span",9),s.EFF(12),s.k0s()(),s.j41(13,"app-form-row",10)(14,"div",11),s.EFF(15),s.k0s()()()(),s.j41(16,"app-custom-modal",12),s.bIt("onCancel",function(){return s.eBV(Ut),s.Njj(Re.closeAddModal())})("onSave",function(){return s.eBV(Ut),s.Njj(Re.addParameter())}),s.j41(17,"form",7)(18,"app-form-row",13),s.nrm(19,"input",14),s.DNE(20,gu,2,3,"span",15),s.k0s(),s.j41(21,"app-form-row",16),s.nrm(22,"input",17),s.k0s()()(),s.j41(23,"app-custom-modal",18),s.bIt("onCancel",function(){return s.eBV(Ut),s.Njj(Re.closeEditModal())})("onSave",function(){return s.eBV(Ut),s.Njj(Re.addParameter())}),s.j41(24,"form",7)(25,"app-form-row",13),s.EFF(26),s.k0s(),s.j41(27,"app-form-row",16),s.nrm(28,"input",19),s.k0s()()(),s.j41(29,"app-delete-confirmation-modal",20,0),s.bIt("delete",function(){return s.eBV(Ut),s.Njj(Re.removeParameter())}),s.k0s()}2&be&&(s.R7$(4),s.SpI(" ",s.bMT(5,39,"Common.Add")," "),s.R7$(2),s.Y8G("ngIf",Re.parametersEmpty()),s.R7$(),s.Y8G("ngIf",!Re.parametersEmpty()),s.R7$(),s.Y8G("title","DynamicAuth.AdditionalParameters.View")("modalId",Re.viewParameterModalId)("actions",Re.viewModalActions)("saveText","Common.View"),s.R7$(),s.Y8G("formGroup",Re.formParameters),s.R7$(),s.Y8G("label","Common.Key"),s.R7$(2),s.JRh(Re.formParameters.controls.key.value),s.R7$(),s.Y8G("label","Common.Value")("isLast",!0),s.R7$(2),s.JRh(Re.formParameters.controls.value.value),s.R7$(),s.Y8G("title","DynamicAuth.AdditionalParameters.Add")("modalId",Re.addParameterModalId)("actions",Re.addModalActions)("addDisabled",!Re.validParameter()),s.R7$(),s.Y8G("formGroup",Re.formParameters),s.R7$(),s.Y8G("label","Common.Key")("id","addParameterKey"),s.R7$(2),s.Y8G("ngIf",Re.existsKey()),s.R7$(),s.Y8G("label","Common.Value")("id","addParameterValue")("isLast",!0),s.R7$(2),s.Y8G("title","DynamicAuth.AdditionalParameters.Update")("modalId",Re.updateParameterModalId)("actions",Re.updateModalActions)("saveText","Common.Update")("addDisabled",""==Re.formParameters.controls.value.value),s.R7$(),s.Y8G("formGroup",Re.formParameters),s.R7$(),s.Y8G("label","Common.Key")("id","updateParameterKey"),s.R7$(),s.SpI(" ",Re.formParameters.controls.key.value," "),s.R7$(),s.Y8G("label","Common.Value")("id","updateParameterValue")("isLast",!0),s.R7$(2),s.Y8G("modalId","deleteParameterModal")("resourceName",Re.deleteTarget)("destructive",!1))},dependencies:[t.Sq,t.bT,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,Ot.n,In.Y,Lu.G,xr.w,t.lG,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();function Fc(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"app-json-properties-list",1),s.bIt("propertiesChange",function(Re){s.eBV(j);const Ut=s.XpG();return s.Njj(Ut.updatePropertiesInCache(Re))}),s.k0s()}if(2&ce){const j=s.XpG();s.Y8G("readOnly",!0)("inputProperties",j.oidcOptions.properties)}}let Hu=(()=>{class ce{constructor(j,be){this.errorService=j,this.dynamicAuthCacheService=be}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),null==this.oidcOptions.properties&&(this.oidcOptions.properties={})},error:j=>{this.errorService.handleError(j)}})}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(gt.I),s.rXU(He.t))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-properties-view"]],standalone:!1,decls:1,vars:1,consts:[[3,"readOnly","inputProperties","propertiesChange",4,"ngIf"],[3,"propertiesChange","readOnly","inputProperties"]],template:function(be,Re){1&be&&s.DNE(0,Fc,1,2,"app-json-properties-list",0),2&be&&s.Y8G("ngIf",Re.oidcOptions)},dependencies:[t.bT,lc],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})();const Ku=["viewButton"];function kl(ce,_n){1&ce&&(s.j41(0,"div",8),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&ce&&(s.R7$(),s.JRh(s.bMT(2,1,"DynamicAuth.AdditionalParameters.None")))}function vo(ce,_n){if(1&ce){const j=s.RV6();s.j41(0,"tr",16)(1,"td",17),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openViewModal(Re.key))}),s.EFF(2),s.k0s(),s.j41(3,"td",17),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openViewModal(Re.key))}),s.EFF(4),s.k0s(),s.j41(5,"td",18)(6,"button",19),s.bIt("click",function(){const Re=s.eBV(j).$implicit,Ut=s.XpG(2);return s.Njj(Ut.openViewModal(Re.key))}),s.nrm(7,"span",20),s.j41(8,"span",13),s.EFF(9),s.nI1(10,"translate"),s.k0s()()()()}if(2&ce){const j=_n.$implicit;s.R7$(2),s.SpI(" ",j.key," "),s.R7$(2),s.SpI(" ",j.value," "),s.R7$(5),s.JRh(s.bMT(10,3,"Common.View"))}}function Pl(ce,_n){if(1&ce&&(s.j41(0,"table",9)(1,"thead")(2,"tr")(3,"th",10),s.EFF(4),s.nI1(5,"translate"),s.k0s(),s.j41(6,"th",11),s.EFF(7),s.nI1(8,"translate"),s.k0s(),s.j41(9,"th",12)(10,"span",13),s.EFF(11),s.nI1(12,"translate"),s.k0s()()()(),s.j41(13,"tbody",14),s.DNE(14,vo,11,5,"tr",15),s.nI1(15,"keyvalue"),s.k0s()()),2&ce){const j=s.XpG();s.R7$(4),s.JRh(s.bMT(5,4,"Common.Key")),s.R7$(3),s.JRh(s.bMT(8,6,"Common.Value")),s.R7$(4),s.JRh(s.bMT(12,8,"Common.Actions")),s.R7$(3),s.Y8G("ngForOf",s.bMT(15,10,j.additionalParameters))}}const xd=[{path:"dynamic-auth",component:yi,canActivate:[al.h,Mi._,nr.F,Hi.q],data:{permissions:[Js.a[Js.a.AuthorizationServerManager],Js.a[Js.a.AuthorizationServerManagerReadOnly],Js.a[Js.a.AllReadOnly],Js.a[Js.a.All]],editPermissions:[Js.a[Js.a.AuthorizationServerManager],Js.a[Js.a.All]]}},{path:"dynamic-auth/:Scheme",component:No,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:xa},{path:"scopes",component:Yo},{path:"advanced",component:an,children:[{path:"request",component:hu},{path:"claims",component:es},{path:"signOut",component:zt},{path:"metadata",component:ye},{path:"tokens",component:Ee},{path:"additionalParameters",component:Od},{path:"properties",component:mu},{path:"other",component:pt}]},{path:"sp",component:Rr,children:[{path:"details",component:Te},{path:"request",component:ts},{path:"response",component:ga}]},{path:"idp",component:Ca,children:[{path:"details",component:Bs},{path:"idp-initiated",component:Ia}]}],resolve:{dynamicAuth:Le.q},canDeactivate:[Xo.M],canActivate:[al.h,Mi._,nr.F,Hi.q],data:{permissions:[Js.a[Js.a.AuthorizationServerManager],Js.a[Js.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:gr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Ar},{path:"scopes",component:mo},{path:"advanced",component:an,children:[{path:"request",component:sr},{path:"claims",component:cn},{path:"signOut",component:On},{path:"metadata",component:ss},{path:"tokens",component:si},{path:"additionalParameters",component:(()=>{class ce{constructor(j,be,Re,Ut){this.translate=j,this.errorService=be,this.dynamicAuthCacheService=Re,this.modalService=Ut,this.additionalParameters={},this.viewModalActions=[],this.viewParameterModalId="viewParameterModal"}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Cn.$)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,ft.yx)(this.dynamicAuth.options),null==this.oidcOptions.additionalAuthorizationParameters&&(this.oidcOptions.additionalAuthorizationParameters={}),this.additionalParameters=this.oidcOptions.additionalAuthorizationParameters},error:j=>{this.errorService.handleError(j)}})}parametersEmpty(){return null==this.additionalParameters||0==Object.keys(this.additionalParameters).length}openViewModal(j){this.selectedParameterKey=j,this.modalService.showById(this.viewParameterModalId,this.viewButtonRef)}closeViewModal(){this.modalService.hideById(this.viewParameterModalId),this.selectedParameterKey=void 0}static{this.\u0275fac=function(be){return new(be||ce)(s.rXU(e.c$),s.rXU(gt.I),s.rXU(He.t),s.rXU($s.B))}}static{this.\u0275cmp=s.VBU({type:ce,selectors:[["app-dynamic-auth-additional-parameters-view"]],viewQuery:function(be,Re){if(1&be&&s.GBs(Ku,5),2&be){let Ut;s.mGM(Ut=s.lsd())&&(Re.viewButtonRef=Ut.first)}},standalone:!1,decls:10,vars:11,consts:[["id","parametersList",1,"tw-container","tw-mx-auto"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","title","modalId","actions","saveText"],[3,"label"],[1,"tw-ml-4"],[3,"label","isLast"],[1,"tw-max-w-[550px]","tw-break-words","tw-mx-4"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"tw-w-1/4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],["id","parametersTable"],["class","group tw-cursor-pointer",4,"ngFor","ngForOf"],[1,"group","tw-cursor-pointer"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["name","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"]],template:function(be,Re){1&be&&(s.j41(0,"div",0),s.DNE(1,kl,3,3,"div",1)(2,Pl,16,12,"table",2),s.k0s(),s.j41(3,"app-custom-modal",3),s.bIt("onCancel",function(){return Re.closeViewModal()}),s.j41(4,"app-form-row",4)(5,"span",5),s.EFF(6),s.k0s()(),s.j41(7,"app-form-row",6)(8,"div",7),s.EFF(9),s.k0s()()()),2&be&&(s.R7$(),s.Y8G("ngIf",Re.parametersEmpty()),s.R7$(),s.Y8G("ngIf",!Re.parametersEmpty()),s.R7$(),s.Y8G("title","DynamicAuth.AdditionalParameters.View")("modalId",Re.viewParameterModalId)("actions",Re.viewModalActions)("saveText","Common.View"),s.R7$(),s.Y8G("label","Common.Key"),s.R7$(2),s.JRh(Re.selectedParameterKey),s.R7$(),s.Y8G("label","Common.Value")("isLast",!0),s.R7$(2),s.JRh(Re.additionalParameters[Re.selectedParameterKey]))},dependencies:[t.Sq,t.bT,In.Y,Lu.G,t.lG,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ce})()},{path:"properties",component:Hu},{path:"other",component:Zi}]},{path:"sp",component:Ge,children:[{path:"details",component:ci},{path:"request",component:cr},{path:"response",component:Vr}]},{path:"idp",component:Ha,children:[{path:"details",component:ac},{path:"idp-initiated",component:rl}]}],resolve:{dynamicAuth:Le.q},canActivate:[al.h,Mi._,nr.F,Hi.q],data:{permissions:[Js.a[Js.a.AuthorizationServerManager],Js.a[Js.a.AuthorizationServerManagerReadOnly],Js.a[Js.a.AllReadOnly],Js.a[Js.a.All]]}}];let Ih=(()=>{class ce{static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275mod=s.$C({type:ce})}static{this.\u0275inj=s.G2t({imports:[f.iI.forChild(xd),A.XE.forChild(xd),f.iI]})}}return ce})();var kn=l(8906),ms=l(3665),Rh=l(1176),Fl=l(9069),Gs=l(1924);let Bl=(()=>{class ce{static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275mod=s.$C({type:ce})}static{this.\u0275inj=s.G2t({imports:[t.MD,oe.N,o.YN,N.w,o.X1,Ye.N,A.XE,e.h,Gs.h6,D.Ss,lt.i,W.c,We.c,te.Y,z.Y]})}}return ce})(),Vl=(()=>{class ce{static{this.\u0275fac=function(be){return new(be||ce)}}static{this.\u0275mod=s.$C({type:ce})}static{this.\u0275inj=s.G2t({providers:[Le.q,E.R,M.c,Rh.z,Fl.d,F.S,B._,V._,u.V,it.v,He.t,Ue.w,_t],imports:[Ih,t.MD,f.iI,o.YN,z.Y,o.X1,m.jr,L.W,D.Ss,w.Q_,Fe.z,v.A,e.h,Z.p,A.XE,y.F,fe.M,g.a,rt.m,W.c,We.c,X.E,Q.h,N.w,oe.N,we.f,te.Y,R.l,k.Q,lt.i,S.qP,vt.U,Ye.N,kn.G,ms.t,Bl]})}}return ce})()},3042:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>fe});var t=l(1360),o=l(4252),f=l(7921),A=l(6303),e=l(4549),w=l(1589),m=l(8018),D=l(9812),S=l(779),g=l(8434),k=l(8577),z=l(7294),u=l(8698),E=l(8762);const B=["deleteCertModal"],V=[[["","addButton",""]]],F=["[addButton]"],M=oe=>[oe],W=()=>({animated:!1,backdrop:"static"});function y(oe,R){if(1&oe){const Fe=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Fe);const We=t.XpG(3);return t.Njj(We.openDeleteModal(We.certificates[0]))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&oe){const Fe=t.XpG(3);t.Y8G("disabled",Fe.deleteCertDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function X(oe,R){if(1&oe&&(t.j41(0,"app-action-bar",10),t.qex(1,11),t.SdG(2),t.DNE(3,y,3,4,"button",12),t.bVm(),t.k0s()),2&oe){const Fe=t.XpG(2);t.R7$(3),t.Y8G("ngIf",(null==Fe.certificates?null:Fe.certificates.length)>0)}}function Z(oe,R){1&oe&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function v(oe,R){1&oe&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.NoCertificates")," "))}function L(oe,R){if(1&oe&&(t.qex(0),t.j41(1,"app-form-row",16),t.nrm(2,"app-readonly",17),t.k0s(),t.j41(3,"app-form-row",16),t.nrm(4,"app-readonly",17),t.k0s(),t.j41(5,"app-form-row",18),t.nrm(6,"app-readonly",17)(7,"p",19),t.k0s(),t.bVm()),2&oe){const Fe=t.XpG(2);t.R7$(),t.Y8G("label","Common.Subject"),t.R7$(),t.Y8G("values",t.eq3(11,M,Fe.readOnlyCertificate.subject))("fieldType",Fe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("label","Common.Thumbprint"),t.R7$(),t.Y8G("values",t.eq3(13,M,Fe.readOnlyCertificate.thumbprint))("fieldType",Fe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("label","Common.ExpiresOn")("isLast",!0),t.R7$(),t.Y8G("values",t.eq3(15,M,Fe.readOnlyCertificate.expiration))("fieldType",Fe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("innerHTML",Fe.displayExpiry(null==Fe.readOnlyCertificate?null:Fe.readOnlyCertificate.expiration.MainText),t.npT)}}function Q(oe,R){if(1&oe&&(t.j41(0,"div",5),t.DNE(1,X,4,1,"app-action-bar",6)(2,Z,3,3,"div",7)(3,v,3,3,"div",8)(4,L,8,17,"ng-container",9),t.k0s()),2&oe){const Fe=t.XpG();t.R7$(),t.Y8G("ngIf",!Fe.isReadOnly),t.R7$(),t.Y8G("ngIf",Fe.deleteCertDisabled&&!Fe.isReadOnly),t.R7$(),t.Y8G("ngIf",(null==Fe.certificates?null:Fe.certificates.length)<1),t.R7$(),t.Y8G("ngIf",1==(null==Fe.certificates?null:Fe.certificates.length)&&Fe.readOnlyCertificate)}}function te(oe,R){if(1&oe){const Fe=t.RV6();t.j41(0,"app-data-table",20),t.bIt("onDelete",function(We){t.eBV(Fe);const rt=t.XpG();return t.Njj(rt.openDeleteModal(We))}),t.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),t.k0s()}if(2&oe){const Fe=t.XpG();t.Y8G("isReadOnly",Fe.isReadOnly)("rows",Fe.certificates)("norowslabel","Clients.NoCertificates")("actions",Fe.dataTableActions),t.R7$(),t.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),t.R7$(),t.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),t.R7$(),t.Y8G("prop","expiration")("formatter",Fe.displayExpiry.bind(Fe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function N(oe,R){if(1&oe){const Fe=t.RV6();t.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",29),t.bIt("click",function(){t.eBV(Fe);const We=t.XpG();return t.Njj(We.closeDeleteModal())}),t.nrm(9,"span",30),t.j41(10,"span",31),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",32),t.nrm(14,"p",33),t.nI1(15,"translate"),t.k0s(),t.nrm(16,"div",34),t.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),t.bIt("click",function(){t.eBV(Fe);const We=t.XpG();return t.Njj(We.removeCert())}),t.EFF(21),t.nI1(22,"translate"),t.k0s()(),t.j41(23,"button",39),t.bIt("click",function(){t.eBV(Fe);const We=t.XpG();return t.Njj(We.closeDeleteModal())}),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()()()()}2&oe&&(t.Y8G("config",t.lJ4(16,W)),t.R7$(6),t.JRh(t.bMT(7,6,"Common.Delete.Confirm")),t.R7$(5),t.JRh(t.bMT(12,8,"Common.Close")),t.R7$(3),t.Y8G("innerHTML",t.bMT(15,10,"Common.Delete.Warning"),t.npT),t.R7$(7),t.JRh(t.bMT(22,12,"Common.Delete.Title")),t.R7$(3),t.JRh(t.bMT(25,14,"Common.Delete.No")))}let fe=(()=>{class oe{set isReadOnly(Fe){this._isReadOnly=Fe||!1}get isReadOnly(){return this._isReadOnly}constructor(Fe,we){this.translateService=Fe,this.dataTableService=we,this.showSingle=!1,this.delete=new t.bkB,this.prettyDateTimePipe=new w.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Fe=>{this.openDeleteModal(Fe)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[o.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new f.b(this.certificates[0]):null}openDeleteModal(Fe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Fe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Fe){let we=e.c9.fromISO(Fe);const We=this.daysUntilExpiry(we);if(this.warnOfExpiry(we)){let rt='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return rt=rt.replace("{0}",this.translateService.instant("Common.ExpiresIn")),rt=rt.replace("{1}",We.toString()),rt=rt.replace("{2}",this.translateService.instant("Common.UntilExpiry")),rt}return this.prettyDateTimePipe.transform(Fe)}warnOfExpiry(Fe){return this.daysUntilExpiry(Fe)<=30&&this.daysUntilExpiry(Fe)>=1}daysUntilExpiry(Fe){const we=Fe.toMillis()-e.c9.now().toMillis();return Math.round(we/864e5)}get ReadOnlyFieldType(){return A.t}static{this.\u0275fac=function(we){return new(we||oe)(t.rXU(m.c$),t.rXU(D.I))}}static{this.\u0275cmp=t.VBU({type:oe,selectors:[["app-saml-cert-list"]],viewQuery:function(we,We){if(1&we&&t.GBs(B,5),2&we){let rt;t.mGM(rt=t.lsd())&&(We.deleteCertModal=rt.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},standalone:!1,features:[t.OA$],ngContentSelectors:F,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(we,We){1&we&&(t.NAR(V),t.j41(0,"div",1),t.DNE(1,Q,5,4,"div",2)(2,te,4,16,"app-data-table",3),t.k0s(),t.DNE(3,N,26,17,"div",4)),2&we&&(t.R7$(),t.Y8G("ngIf",We.showSingle),t.R7$(),t.Y8G("ngIf",!We.showSingle),t.R7$(),t.Y8G("ngIf",!We.isReadOnly))},dependencies:[S.hZ,g.bT,o.up,k.w,z.n,u.Y,E.O,m.D9],encapsulation:2,changeDetection:0})}}return oe})()},3068:(ot,ve,l)=>{"use strict";l.d(ve,{r:()=>t});var t=function(o){return o[o.Disabled=1]="Disabled",o[o.UseIfAvailable=0]="UseIfAvailable",o[o.Required=2]="Required",o}(t||{})},3073:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>e});const{isArray:t}=Array,{getPrototypeOf:o,prototype:f,keys:A}=Object;function e(m){if(1===m.length){const D=m[0];if(t(D))return{args:D,keys:null};if(function w(m){return m&&"object"==typeof m&&o(m)===f}(D)){const S=A(D);return{args:S.map(g=>D[g]),keys:S}}}return{args:m,keys:null}}},3120:(ot,ve,l)=>{var t=l(6589);l(57),l(4579),l(4846),l(8825),l(812);var o=ot.exports=t.ssh=t.ssh||{};function f(w,m){var D=m.toString(16);D[0]>="8"&&(D="00"+D);var S=t.util.hexToBytes(D);w.putInt32(S.length),w.putBytes(S)}function A(w,m){w.putInt32(m.length),w.putString(m)}function e(){for(var w=t.md.sha1.create(),m=arguments.length,D=0;D<m;++D)w.update(arguments[D]);return w.digest()}o.privateKeyToPutty=function(w,m,D){var S="ssh-rsa",g=""===(m=m||"")?"none":"aes256-cbc",k="PuTTY-User-Key-File-2: "+S+"\r\n";k+="Encryption: "+g+"\r\n",k+="Comment: "+(D=D||"")+"\r\n";var z=t.util.createBuffer();A(z,S),f(z,w.e),f(z,w.n);var u=t.util.encode64(z.bytes(),64),E=Math.floor(u.length/66)+1;k+="Public-Lines: "+E+"\r\n",k+=u;var V,B=t.util.createBuffer();if(f(B,w.d),f(B,w.p),f(B,w.q),f(B,w.qInv),m){var F=B.length()+16-1;F-=F%16;var M=e(B.bytes());M.truncate(M.length()-F+B.length()),B.putBuffer(M);var W=t.util.createBuffer();W.putBuffer(e("\0\0\0\0",m)),W.putBuffer(e("\0\0\0\x01",m));var y=t.aes.createEncryptionCipher(W.truncate(8),"CBC");y.start(t.util.createBuffer().fillWithByte(0,16)),y.update(B.copy()),y.finish();var X=y.output;X.truncate(16),V=t.util.encode64(X.bytes(),64)}else V=t.util.encode64(B.bytes(),64);k+="\r\nPrivate-Lines: "+(E=Math.floor(V.length/66)+1)+"\r\n",k+=V;var Z=e("putty-private-key-file-mac-key",m),v=t.util.createBuffer();A(v,S),A(v,g),A(v,D),v.putInt32(z.length()),v.putBuffer(z),v.putInt32(B.length()),v.putBuffer(B);var L=t.hmac.create();return L.start("sha1",Z),L.update(v.bytes()),k+"\r\nPrivate-MAC: "+L.digest().toHex()+"\r\n"},o.publicKeyToOpenSSH=function(w,m){var D="ssh-rsa";m=m||"";var S=t.util.createBuffer();return A(S,D),f(S,w.e),f(S,w.n),D+" "+t.util.encode64(S.bytes())+" "+m},o.privateKeyToOpenSSH=function(w,m){return m?t.pki.encryptRsaPrivateKey(w,m,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(w)},o.getPublicKeyFingerprint=function(w,m){var D=(m=m||{}).md||t.md.md5.create(),g=t.util.createBuffer();A(g,"ssh-rsa"),f(g,w.e),f(g,w.n),D.start(),D.update(g.getBytes());var k=D.digest();if("hex"===m.encoding){var z=k.toHex();return m.delimiter?z.match(/.{2}/g).join(m.delimiter):z}if("binary"===m.encoding)return k.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".');return k}},3165:(ot,ve,l)=>{"use strict";l.d(ve,{$R:()=>xt,Lr:()=>B,Nl:()=>v,Qq:()=>Qe,Sx:()=>ii,a7:()=>tn,yz:()=>Ve}),l(467);var o=l(1360),f=l(274),A=l(5964),e=l(6354),w=l(980),m=l(5558),D=l(7673),S=l(1985),g=l(6648),k=l(9377),z=l(9361);class u{}class E{}class B{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Rt){Rt?"string"==typeof Rt?this.lazyInit=()=>{this.headers=new Map,Rt.split("\n").forEach(yt=>{const nn=yt.indexOf(":");if(nn>0){const Vn=yt.slice(0,nn),ln=yt.slice(nn+1).trim();this.addHeaderEntry(Vn,ln)}})}:typeof Headers<"u"&&Rt instanceof Headers?(this.headers=new Map,Rt.forEach((yt,nn)=>{this.addHeaderEntry(nn,yt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Rt).forEach(([yt,nn])=>{this.setHeaderEntries(yt,nn)})}:this.headers=new Map}has(Rt){return this.init(),this.headers.has(Rt.toLowerCase())}get(Rt){this.init();const yt=this.headers.get(Rt.toLowerCase());return yt&&yt.length>0?yt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Rt){return this.init(),this.headers.get(Rt.toLowerCase())||null}append(Rt,yt){return this.clone({name:Rt,value:yt,op:"a"})}set(Rt,yt){return this.clone({name:Rt,value:yt,op:"s"})}delete(Rt,yt){return this.clone({name:Rt,value:yt,op:"d"})}maybeSetNormalizedName(Rt,yt){this.normalizedNames.has(yt)||this.normalizedNames.set(yt,Rt)}init(){this.lazyInit&&(this.lazyInit instanceof B?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Rt=>this.applyUpdate(Rt)),this.lazyUpdate=null))}copyFrom(Rt){Rt.init(),Array.from(Rt.headers.keys()).forEach(yt=>{this.headers.set(yt,Rt.headers.get(yt)),this.normalizedNames.set(yt,Rt.normalizedNames.get(yt))})}clone(Rt){const yt=new B;return yt.lazyInit=this.lazyInit&&this.lazyInit instanceof B?this.lazyInit:this,yt.lazyUpdate=(this.lazyUpdate||[]).concat([Rt]),yt}applyUpdate(Rt){const yt=Rt.name.toLowerCase();switch(Rt.op){case"a":case"s":let nn=Rt.value;if("string"==typeof nn&&(nn=[nn]),0===nn.length)return;this.maybeSetNormalizedName(Rt.name,yt);const Vn=("a"===Rt.op?this.headers.get(yt):void 0)||[];Vn.push(...nn),this.headers.set(yt,Vn);break;case"d":const ln=Rt.value;if(ln){let Xn=this.headers.get(yt);if(!Xn)return;Xn=Xn.filter(qn=>-1===ln.indexOf(qn)),0===Xn.length?(this.headers.delete(yt),this.normalizedNames.delete(yt)):this.headers.set(yt,Xn)}else this.headers.delete(yt),this.normalizedNames.delete(yt)}}addHeaderEntry(Rt,yt){const nn=Rt.toLowerCase();this.maybeSetNormalizedName(Rt,nn),this.headers.has(nn)?this.headers.get(nn).push(yt):this.headers.set(nn,[yt])}setHeaderEntries(Rt,yt){const nn=(Array.isArray(yt)?yt:[yt]).map(ln=>ln.toString()),Vn=Rt.toLowerCase();this.headers.set(Vn,nn),this.maybeSetNormalizedName(Rt,Vn)}forEach(Rt){this.init(),Array.from(this.normalizedNames.keys()).forEach(yt=>Rt(this.normalizedNames.get(yt),this.headers.get(yt)))}}class F{encodeKey(Rt){return X(Rt)}encodeValue(Rt){return X(Rt)}decodeKey(Rt){return decodeURIComponent(Rt)}decodeValue(Rt){return decodeURIComponent(Rt)}}const W=/%(\d[a-f0-9])/gi,y={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X(ut){return encodeURIComponent(ut).replace(W,(Rt,yt)=>y[yt]??Rt)}function Z(ut){return`${ut}`}class v{map;encoder;updates=null;cloneFrom=null;constructor(Rt={}){if(this.encoder=Rt.encoder||new F,Rt.fromString){if(Rt.fromObject)throw new o.wOt(2805,!1);this.map=function M(ut,Rt){const yt=new Map;return ut.length>0&&ut.replace(/^\?/,"").split("&").forEach(Vn=>{const ln=Vn.indexOf("="),[Xn,qn]=-1==ln?[Rt.decodeKey(Vn),""]:[Rt.decodeKey(Vn.slice(0,ln)),Rt.decodeValue(Vn.slice(ln+1))],Ht=yt.get(Xn)||[];Ht.push(qn),yt.set(Xn,Ht)}),yt}(Rt.fromString,this.encoder)}else Rt.fromObject?(this.map=new Map,Object.keys(Rt.fromObject).forEach(yt=>{const nn=Rt.fromObject[yt],Vn=Array.isArray(nn)?nn.map(Z):[Z(nn)];this.map.set(yt,Vn)})):this.map=null}has(Rt){return this.init(),this.map.has(Rt)}get(Rt){this.init();const yt=this.map.get(Rt);return yt?yt[0]:null}getAll(Rt){return this.init(),this.map.get(Rt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Rt,yt){return this.clone({param:Rt,value:yt,op:"a"})}appendAll(Rt){const yt=[];return Object.keys(Rt).forEach(nn=>{const Vn=Rt[nn];Array.isArray(Vn)?Vn.forEach(ln=>{yt.push({param:nn,value:ln,op:"a"})}):yt.push({param:nn,value:Vn,op:"a"})}),this.clone(yt)}set(Rt,yt){return this.clone({param:Rt,value:yt,op:"s"})}delete(Rt,yt){return this.clone({param:Rt,value:yt,op:"d"})}toString(){return this.init(),this.keys().map(Rt=>{const yt=this.encoder.encodeKey(Rt);return this.map.get(Rt).map(nn=>yt+"="+this.encoder.encodeValue(nn)).join("&")}).filter(Rt=>""!==Rt).join("&")}clone(Rt){const yt=new v({encoder:this.encoder});return yt.cloneFrom=this.cloneFrom||this,yt.updates=(this.updates||[]).concat(Rt),yt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Rt=>this.map.set(Rt,this.cloneFrom.map.get(Rt))),this.updates.forEach(Rt=>{switch(Rt.op){case"a":case"s":const yt=("a"===Rt.op?this.map.get(Rt.param):void 0)||[];yt.push(Z(Rt.value)),this.map.set(Rt.param,yt);break;case"d":if(void 0===Rt.value){this.map.delete(Rt.param);break}{let nn=this.map.get(Rt.param)||[];const Vn=nn.indexOf(Z(Rt.value));-1!==Vn&&nn.splice(Vn,1),nn.length>0?this.map.set(Rt.param,nn):this.map.delete(Rt.param)}}}),this.cloneFrom=this.updates=null)}}class Q{map=new Map;set(Rt,yt){return this.map.set(Rt,yt),this}get(Rt){return this.map.has(Rt)||this.map.set(Rt,Rt.defaultValue()),this.map.get(Rt)}delete(Rt){return this.map.delete(Rt),this}has(Rt){return this.map.has(Rt)}keys(){return this.map.keys()}}function N(ut){return typeof ArrayBuffer<"u"&&ut instanceof ArrayBuffer}function fe(ut){return typeof Blob<"u"&&ut instanceof Blob}function oe(ut){return typeof FormData<"u"&&ut instanceof FormData}const Fe="Content-Type",We="X-Request-URL",rt="text/plain",lt="application/json",vt=`${lt}, ${rt}, */*`;class Ue{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Rt,yt,nn,Vn){let ln;if(this.url=yt,this.method=Rt.toUpperCase(),function te(ut){switch(ut){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Vn?(this.body=void 0!==nn?nn:null,ln=Vn):ln=nn,ln&&(this.reportProgress=!!ln.reportProgress,this.withCredentials=!!ln.withCredentials,ln.responseType&&(this.responseType=ln.responseType),ln.headers&&(this.headers=ln.headers),ln.context&&(this.context=ln.context),ln.params&&(this.params=ln.params),this.transferCache=ln.transferCache),this.headers??=new B,this.context??=new Q,this.params){const Xn=this.params.toString();if(0===Xn.length)this.urlWithParams=yt;else{const qn=yt.indexOf("?");this.urlWithParams=yt+(-1===qn?"?":qn<yt.length-1?"&":"")+Xn}}else this.params=new v,this.urlWithParams=yt}serializeBody(){return null===this.body?null:"string"==typeof this.body||N(this.body)||fe(this.body)||oe(this.body)||function R(ut){return typeof URLSearchParams<"u"&&ut instanceof URLSearchParams}(this.body)?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oe(this.body)?null:fe(this.body)?this.body.type||null:N(this.body)?null:"string"==typeof this.body?rt:this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?lt:null}clone(Rt={}){const yt=Rt.method||this.method,nn=Rt.url||this.url,Vn=Rt.responseType||this.responseType,ln=Rt.transferCache??this.transferCache,Xn=void 0!==Rt.body?Rt.body:this.body,qn=Rt.withCredentials??this.withCredentials,Ht=Rt.reportProgress??this.reportProgress;let oi=Rt.headers||this.headers,Xt=Rt.params||this.params;const Un=Rt.context??this.context;return void 0!==Rt.setHeaders&&(oi=Object.keys(Rt.setHeaders).reduce((fn,Qn)=>fn.set(Qn,Rt.setHeaders[Qn]),oi)),Rt.setParams&&(Xt=Object.keys(Rt.setParams).reduce((fn,Qn)=>fn.set(Qn,Rt.setParams[Qn]),Xt)),new Ue(yt,nn,Xn,{params:Xt,headers:oi,context:Un,reportProgress:Ht,responseType:Vn,withCredentials:qn,transferCache:ln})}}var Ye=function(ut){return ut[ut.Sent=0]="Sent",ut[ut.UploadProgress=1]="UploadProgress",ut[ut.ResponseHeader=2]="ResponseHeader",ut[ut.DownloadProgress=3]="DownloadProgress",ut[ut.Response=4]="Response",ut[ut.User=5]="User",ut}(Ye||{});class He{headers;status;statusText;url;ok;type;constructor(Rt,yt=200,nn="OK"){this.headers=Rt.headers||new B,this.status=void 0!==Rt.status?Rt.status:yt,this.statusText=Rt.statusText||nn,this.url=Rt.url||null,this.ok=this.status>=200&&this.status<300}}class it extends He{constructor(Rt={}){super(Rt)}type=Ye.ResponseHeader;clone(Rt={}){return new it({headers:Rt.headers||this.headers,status:void 0!==Rt.status?Rt.status:this.status,statusText:Rt.statusText||this.statusText,url:Rt.url||this.url||void 0})}}class Le extends He{body;constructor(Rt={}){super(Rt),this.body=void 0!==Rt.body?Rt.body:null}type=Ye.Response;clone(Rt={}){return new Le({body:void 0!==Rt.body?Rt.body:this.body,headers:Rt.headers||this.headers,status:void 0!==Rt.status?Rt.status:this.status,statusText:Rt.statusText||this.statusText,url:Rt.url||this.url||void 0})}}class Ve extends He{name="HttpErrorResponse";message;error;ok=!1;constructor(Rt){super(Rt,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Rt.url||"(unknown url)"}`:`Http failure response for ${Rt.url||"(unknown url)"}: ${Rt.status} ${Rt.statusText}`,this.error=Rt.error||null}}function st(ut,Rt){return{body:Rt,headers:ut.headers,context:ut.context,observe:ut.observe,params:ut.params,reportProgress:ut.reportProgress,responseType:ut.responseType,withCredentials:ut.withCredentials,transferCache:ut.transferCache}}let Qe=(()=>{class ut{handler;constructor(yt){this.handler=yt}request(yt,nn,Vn={}){let ln;if(yt instanceof Ue)ln=yt;else{let Ht,oi;Ht=Vn.headers instanceof B?Vn.headers:new B(Vn.headers),Vn.params&&(oi=Vn.params instanceof v?Vn.params:new v({fromObject:Vn.params})),ln=new Ue(yt,nn,void 0!==Vn.body?Vn.body:null,{headers:Ht,context:Vn.context,params:oi,reportProgress:Vn.reportProgress,responseType:Vn.responseType||"json",withCredentials:Vn.withCredentials,transferCache:Vn.transferCache})}const Xn=(0,D.of)(ln).pipe((0,f.H)(Ht=>this.handler.handle(Ht)));if(yt instanceof Ue||"events"===Vn.observe)return Xn;const qn=Xn.pipe((0,A.p)(Ht=>Ht instanceof Le));switch(Vn.observe||"body"){case"body":switch(ln.responseType){case"arraybuffer":return qn.pipe((0,e.T)(Ht=>{if(null!==Ht.body&&!(Ht.body instanceof ArrayBuffer))throw new o.wOt(2806,!1);return Ht.body}));case"blob":return qn.pipe((0,e.T)(Ht=>{if(null!==Ht.body&&!(Ht.body instanceof Blob))throw new o.wOt(2807,!1);return Ht.body}));case"text":return qn.pipe((0,e.T)(Ht=>{if(null!==Ht.body&&"string"!=typeof Ht.body)throw new o.wOt(2808,!1);return Ht.body}));default:return qn.pipe((0,e.T)(Ht=>Ht.body))}case"response":return qn;default:throw new o.wOt(2809,!1)}}delete(yt,nn={}){return this.request("DELETE",yt,nn)}get(yt,nn={}){return this.request("GET",yt,nn)}head(yt,nn={}){return this.request("HEAD",yt,nn)}jsonp(yt,nn){return this.request("JSONP",yt,{params:(new v).append(nn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(yt,nn={}){return this.request("OPTIONS",yt,nn)}patch(yt,nn,Vn={}){return this.request("PATCH",yt,st(Vn,nn))}post(yt,nn,Vn={}){return this.request("POST",yt,st(Vn,nn))}put(yt,nn,Vn={}){return this.request("PUT",yt,st(Vn,nn))}static \u0275fac=function(nn){return new(nn||ut)(o.KVO(u))};static \u0275prov=o.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const he=new o.nKC("");function en(ut,Rt){return Rt(ut)}function Cn(ut,Rt){return(yt,nn)=>Rt.intercept(yt,{handle:Vn=>ut(Vn,nn)})}const tn=new o.nKC(""),Ln=new o.nKC(""),ni=new o.nKC(""),ft=new o.nKC("",{providedIn:"root",factory:()=>!0});function Qt(){let ut=null;return(Rt,yt)=>{null===ut&&(ut=((0,o.WQX)(tn,{optional:!0})??[]).reduceRight(Cn,en));const nn=(0,o.WQX)(o.Ua0);if((0,o.WQX)(ft)){const ln=nn.add();return ut(Rt,yt).pipe((0,w.j)(()=>nn.remove(ln)))}return ut(Rt,yt)}}let de=(()=>{class ut extends u{backend;injector;chain=null;pendingTasks=(0,o.WQX)(o.Ua0);contributeToStability=(0,o.WQX)(ft);constructor(yt,nn){super(),this.backend=yt,this.injector=nn}handle(yt){if(null===this.chain){const nn=Array.from(new Set([...this.injector.get(Ln),...this.injector.get(ni,[])]));this.chain=nn.reduceRight((Vn,ln)=>function Wn(ut,Rt,yt){return(nn,Vn)=>(0,o.N4e)(yt,()=>Rt(nn,ln=>ut(ln,Vn)))}(Vn,ln,this.injector),en)}if(this.contributeToStability){const nn=this.pendingTasks.add();return this.chain(yt,Vn=>this.backend.handle(Vn)).pipe((0,w.j)(()=>this.pendingTasks.remove(nn)))}return this.chain(yt,nn=>this.backend.handle(nn))}static \u0275fac=function(nn){return new(nn||ut)(o.KVO(E),o.KVO(o.uvJ))};static \u0275prov=o.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const Ot=/^\)\]\}',?\n/,Gn=RegExp(`^${We}:`,"m");let Tn=(()=>{class ut{xhrFactory;constructor(yt){this.xhrFactory=yt}handle(yt){if("JSONP"===yt.method)throw new o.wOt(-2800,!1);const nn=this.xhrFactory;return(nn.\u0275loadImpl?(0,g.H)(nn.\u0275loadImpl()):(0,D.of)(null)).pipe((0,m.n)(()=>new S.c(ln=>{const Xn=nn.build();if(Xn.open(yt.method,yt.urlWithParams),yt.withCredentials&&(Xn.withCredentials=!0),yt.headers.forEach((Be,Ze)=>Xn.setRequestHeader(Be,Ze.join(","))),yt.headers.has("Accept")||Xn.setRequestHeader("Accept",vt),!yt.headers.has(Fe)){const Be=yt.detectContentTypeHeader();null!==Be&&Xn.setRequestHeader(Fe,Be)}if(yt.responseType){const Be=yt.responseType.toLowerCase();Xn.responseType="json"!==Be?Be:"text"}const qn=yt.serializeBody();let Ht=null;const oi=()=>{if(null!==Ht)return Ht;const Be=Xn.statusText||"OK",Ze=new B(Xn.getAllResponseHeaders()),ht=function Zt(ut){return"responseURL"in ut&&ut.responseURL?ut.responseURL:Gn.test(ut.getAllResponseHeaders())?ut.getResponseHeader(We):null}(Xn)||yt.url;return Ht=new it({headers:Ze,status:Xn.status,statusText:Be,url:ht}),Ht},Xt=()=>{let{headers:Be,status:Ze,statusText:ht,url:jt}=oi(),Jt=null;204!==Ze&&(Jt=typeof Xn.response>"u"?Xn.responseText:Xn.response),0===Ze&&(Ze=Jt?200:0);let Mn=Ze>=200&&Ze<300;if("json"===yt.responseType&&"string"==typeof Jt){const hi=Jt;Jt=Jt.replace(Ot,"");try{Jt=""!==Jt?JSON.parse(Jt):null}catch(ri){Jt=hi,Mn&&(Mn=!1,Jt={error:ri,text:Jt})}}Mn?(ln.next(new Le({body:Jt,headers:Be,status:Ze,statusText:ht,url:jt||void 0})),ln.complete()):ln.error(new Ve({error:Jt,headers:Be,status:Ze,statusText:ht,url:jt||void 0}))},Un=Be=>{const{url:Ze}=oi(),ht=new Ve({error:Be,status:Xn.status||0,statusText:Xn.statusText||"Unknown Error",url:Ze||void 0});ln.error(ht)};let fn=!1;const Qn=Be=>{fn||(ln.next(oi()),fn=!0);let Ze={type:Ye.DownloadProgress,loaded:Be.loaded};Be.lengthComputable&&(Ze.total=Be.total),"text"===yt.responseType&&Xn.responseText&&(Ze.partialText=Xn.responseText),ln.next(Ze)},vi=Be=>{let Ze={type:Ye.UploadProgress,loaded:Be.loaded};Be.lengthComputable&&(Ze.total=Be.total),ln.next(Ze)};return Xn.addEventListener("load",Xt),Xn.addEventListener("error",Un),Xn.addEventListener("timeout",Un),Xn.addEventListener("abort",Un),yt.reportProgress&&(Xn.addEventListener("progress",Qn),null!==qn&&Xn.upload&&Xn.upload.addEventListener("progress",vi)),Xn.send(qn),ln.next({type:Ye.Sent}),()=>{Xn.removeEventListener("error",Un),Xn.removeEventListener("abort",Un),Xn.removeEventListener("load",Xt),Xn.removeEventListener("timeout",Un),yt.reportProgress&&(Xn.removeEventListener("progress",Qn),null!==qn&&Xn.upload&&Xn.upload.removeEventListener("progress",vi)),Xn.readyState!==Xn.DONE&&Xn.abort()}})))}static \u0275fac=function(nn){return new(nn||ut)(o.KVO(k.N0))};static \u0275prov=o.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const In=new o.nKC(""),_i=new o.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ni=new o.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class os{}let zn=(()=>{class ut{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(yt,nn,Vn){this.doc=yt,this.platform=nn,this.cookieName=Vn}getToken(){if("server"===this.platform)return null;const yt=this.doc.cookie||"";return yt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,k.bS)(yt,this.cookieName),this.lastCookieString=yt),this.lastToken}static \u0275fac=function(nn){return new(nn||ut)(o.KVO(z.q),o.KVO(o.Agw),o.KVO(_i))};static \u0275prov=o.jDH({token:ut,factory:ut.\u0275fac})}return ut})();function fs(ut,Rt){const yt=ut.url.toLowerCase();if(!(0,o.WQX)(In)||"GET"===ut.method||"HEAD"===ut.method||yt.startsWith("http://")||yt.startsWith("https://"))return Rt(ut);const nn=(0,o.WQX)(os).getToken(),Vn=(0,o.WQX)(Ni);return null!=nn&&!ut.headers.has(Vn)&&(ut=ut.clone({headers:ut.headers.set(Vn,nn)})),Rt(ut)}var wt=function(ut){return ut[ut.Interceptors=0]="Interceptors",ut[ut.LegacyInterceptors=1]="LegacyInterceptors",ut[ut.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ut[ut.NoXsrfProtection=3]="NoXsrfProtection",ut[ut.JsonpSupport=4]="JsonpSupport",ut[ut.RequestsMadeViaParent=5]="RequestsMadeViaParent",ut[ut.Fetch=6]="Fetch",ut}(wt||{});function xt(...ut){const Rt=[Qe,Tn,de,{provide:u,useExisting:de},{provide:E,useFactory:()=>(0,o.WQX)(he,{optional:!0})??(0,o.WQX)(Tn)},{provide:Ln,useValue:fs,multi:!0},{provide:In,useValue:!0},{provide:os,useClass:zn}];for(const yt of ut)Rt.push(...yt.\u0275providers);return(0,o.EmA)(Rt)}const un=new o.nKC("");function ii(){return function Tt(ut,Rt){return{\u0275kind:ut,\u0275providers:Rt}}(wt.LegacyInterceptors,[{provide:un,useFactory:Qt},{provide:Ln,useExisting:un,multi:!0}])}},3175:ot=>{var ve={};ot.exports=ve;var l={};ve.encode=function(o,f,A){if("string"!=typeof f)throw new TypeError('"alphabet" must be a string.');if(void 0!==A&&"number"!=typeof A)throw new TypeError('"maxline" must be a number.');var e="";if(o instanceof Uint8Array){var w=0,m=f.length,D=f.charAt(0),S=[0];for(w=0;w<o.length;++w){for(var g=0,k=o[w];g<S.length;++g)S[g]=(k+=S[g]<<8)%m,k=k/m|0;for(;k>0;)S.push(k%m),k=k/m|0}for(w=0;0===o[w]&&w<o.length-1;++w)e+=D;for(w=S.length-1;w>=0;--w)e+=f[S[w]]}else e=function t(o,f){var A=0,e=f.length,w=f.charAt(0),m=[0];for(A=0;A<o.length();++A){for(var D=0,S=o.at(A);D<m.length;++D)m[D]=(S+=m[D]<<8)%e,S=S/e|0;for(;S>0;)m.push(S%e),S=S/e|0}var g="";for(A=0;0===o.at(A)&&A<o.length()-1;++A)g+=w;for(A=m.length-1;A>=0;--A)g+=f[m[A]];return g}(o,f);if(A){var z=new RegExp(".{1,"+A+"}","g");e=e.match(z).join("\r\n")}return e},ve.decode=function(o,f){if("string"!=typeof o)throw new TypeError('"input" must be a string.');if("string"!=typeof f)throw new TypeError('"alphabet" must be a string.');var A=l[f];if(!A){A=l[f]=[];for(var e=0;e<f.length;++e)A[f.charCodeAt(e)]=e}o=o.replace(/\s/g,"");var w=f.length,m=f.charAt(0),D=[0];for(e=0;e<o.length;e++){var S=A[o.charCodeAt(e)];if(void 0===S)return;for(var g=0,k=S;g<D.length;++g)D[g]=255&(k+=D[g]*w),k>>=8;for(;k>0;)D.push(255&k),k>>=8}for(var z=0;o[z]===m&&z<o.length-1;++z)D.push(0);return typeof Buffer<"u"?Buffer.from(D.reverse()):new Uint8Array(D.reverse())}},3178:(ot,ve,l)=>{"use strict";l.d(ve,{a:()=>t});var t=function(o){return o.None="None",o.UserManager="UserManager",o.UserManagerReadOnly="UserManagerReadOnly",o.AuthorizationServerManager="AuthorizationServerManager",o.AuthorizationServerManagerReadOnly="AuthorizationServerManagerReadOnly",o.Auditer="Auditer",o.AllReadOnly="AllReadOnly",o.All="All",o}(t||{})},3218:(ot,ve,l)=>{"use strict";l.d(ve,{O:()=>w});var t=l(1594),o=l(6354),f=l(1360),A=l(2947),e=l(9196);let w=(()=>{class m{constructor(S,g){this.router=S,this.config=g}canActivate(S,g){return this.config.getConfig().pipe((0,t.$)(),(0,o.T)(k=>(k?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(g){return new(g||m)(f.KVO(A.Ix),f.KVO(e.w))}}static{this.\u0275prov=f.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},3236:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>f,b:()=>A});var t=l(6780);const f=new(l(9687).q)(t.R),A=f},3294:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>A});var t=l(3669),o=l(9974),f=l(4360);function A(w,m=t.D){return w=w??e,(0,o.N)((D,S)=>{let g,k=!0;D.subscribe((0,f._)(S,z=>{const u=m(z);(k||!w(g,u))&&(k=!1,g=u,S.next(z))}))})}function e(w,m){return w===m}},3364:(ot,ve,l)=>{var o,t=l(6589);function e(Be,Ze,ht){this.data=[],null!=Be&&("number"==typeof Be?this.fromNumber(Be,Ze,ht):this.fromString(Be,null==Ze&&"string"!=typeof Be?256:Ze))}function w(){return new e(null)}function S(Be,Ze,ht,jt,Jt,Mn){for(var hi=16383&Ze,ri=Ze>>14;--Mn>=0;){var Nn=16383&this.data[Be],Ki=this.data[Be++]>>14,Ji=ri*Nn+Ki*hi;Jt=((Nn=hi*Nn+((16383&Ji)<<14)+ht.data[jt]+Jt)>>28)+(Ji>>14)+ri*Ki,ht.data[jt++]=268435455&Nn}return Jt}ot.exports=t.jsbn=t.jsbn||{},t.jsbn.BigInteger=e,typeof navigator>"u"?(e.prototype.am=S,o=28):"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=function D(Be,Ze,ht,jt,Jt,Mn){for(var hi=32767&Ze,ri=Ze>>15;--Mn>=0;){var Nn=32767&this.data[Be],Ki=this.data[Be++]>>15,Ji=ri*Nn+Ki*hi;Jt=((Nn=hi*Nn+((32767&Ji)<<15)+ht.data[jt]+(1073741823&Jt))>>>30)+(Ji>>>15)+ri*Ki+(Jt>>>30),ht.data[jt++]=1073741823&Nn}return Jt},o=30):"Netscape"!=navigator.appName?(e.prototype.am=function m(Be,Ze,ht,jt,Jt,Mn){for(;--Mn>=0;){var hi=Ze*this.data[Be++]+ht.data[jt]+Jt;Jt=Math.floor(hi/67108864),ht.data[jt++]=67108863&hi}return Jt},o=26):(e.prototype.am=S,o=28),e.prototype.DB=o,e.prototype.DM=(1<<o)-1,e.prototype.DV=1<<o,e.prototype.FV=Math.pow(2,52),e.prototype.F1=52-o,e.prototype.F2=2*o-52;var u,E,z=new Array;for(u=48,E=0;E<=9;++E)z[u++]=E;for(u=97,E=10;E<36;++E)z[u++]=E;for(u=65,E=10;E<36;++E)z[u++]=E;function B(Be){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(Be)}function V(Be,Ze){return z[Be.charCodeAt(Ze)]??-1}function W(Be){var Ze=w();return Ze.fromInt(Be),Ze}function te(Be){var ht,Ze=1;return 0!=(ht=Be>>>16)&&(Be=ht,Ze+=16),0!=(ht=Be>>8)&&(Be=ht,Ze+=8),0!=(ht=Be>>4)&&(Be=ht,Ze+=4),0!=(ht=Be>>2)&&(Be=ht,Ze+=2),0!=(ht=Be>>1)&&(Be=ht,Ze+=1),Ze}function Ue(Be){this.m=Be}function je(Be){this.m=Be,this.mp=Be.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Be.DB-15)-1,this.mt2=2*Be.t}function Ne(Be,Ze){return Be&Ze}function et(Be,Ze){return Be|Ze}function Kt(Be,Ze){return Be^Ze}function Rn(Be,Ze){return Be&~Ze}function Zt(Be){if(0==Be)return-1;var Ze=0;return!(65535&Be)&&(Be>>=16,Ze+=16),!(255&Be)&&(Be>>=8,Ze+=8),!(15&Be)&&(Be>>=4,Ze+=4),!(3&Be)&&(Be>>=2,Ze+=2),!(1&Be)&&++Ze,Ze}function In(Be){for(var Ze=0;0!=Be;)Be&=Be-1,++Ze;return Ze}function Ii(){}function Ti(Be){return Be}function ut(Be){this.r2=w(),this.q3=w(),e.ONE.dlShiftTo(2*Be.t,this.r2),this.mu=this.r2.divide(Be),this.m=Be}Ue.prototype.convert=function Ye(Be){return Be.s<0||Be.compareTo(this.m)>=0?Be.mod(this.m):Be},Ue.prototype.revert=function He(Be){return Be},Ue.prototype.reduce=function it(Be){Be.divRemTo(this.m,null,Be)},Ue.prototype.mulTo=function Le(Be,Ze,ht){Be.multiplyTo(Ze,ht),this.reduce(ht)},Ue.prototype.sqrTo=function Ve(Be,Ze){Be.squareTo(Ze),this.reduce(Ze)},je.prototype.convert=function ct(Be){var Ze=w();return Be.abs().dlShiftTo(this.m.t,Ze),Ze.divRemTo(this.m,null,Ze),Be.s<0&&Ze.compareTo(e.ZERO)>0&&this.m.subTo(Ze,Ze),Ze},je.prototype.revert=function st(Be){var Ze=w();return Be.copyTo(Ze),this.reduce(Ze),Ze},je.prototype.reduce=function Qe(Be){for(;Be.t<=this.mt2;)Be.data[Be.t++]=0;for(var Ze=0;Ze<this.m.t;++Ze){var ht=32767&Be.data[Ze],jt=ht*this.mpl+((ht*this.mph+(Be.data[Ze]>>15)*this.mpl&this.um)<<15)&Be.DM;for(Be.data[ht=Ze+this.m.t]+=this.m.am(0,jt,Be,Ze,0,this.m.t);Be.data[ht]>=Be.DV;)Be.data[ht]-=Be.DV,Be.data[++ht]++}Be.clamp(),Be.drShiftTo(this.m.t,Be),Be.compareTo(this.m)>=0&&Be.subTo(this.m,Be)},je.prototype.mulTo=function Y(Be,Ze,ht){Be.multiplyTo(Ze,ht),this.reduce(ht)},je.prototype.sqrTo=function ne(Be,Ze){Be.squareTo(Ze),this.reduce(Ze)},e.prototype.copyTo=function F(Be){for(var Ze=this.t-1;Ze>=0;--Ze)Be.data[Ze]=this.data[Ze];Be.t=this.t,Be.s=this.s},e.prototype.fromInt=function M(Be){this.t=1,this.s=Be<0?-1:0,Be>0?this.data[0]=Be:Be<-1?this.data[0]=Be+this.DV:this.t=0},e.prototype.fromString=function y(Be,Ze){var ht;if(16==Ze)ht=4;else if(8==Ze)ht=3;else if(256==Ze)ht=8;else if(2==Ze)ht=1;else if(32==Ze)ht=5;else{if(4!=Ze)return void this.fromRadix(Be,Ze);ht=2}this.t=0,this.s=0;for(var jt=Be.length,Jt=!1,Mn=0;--jt>=0;){var hi=8==ht?255&Be[jt]:V(Be,jt);hi<0?"-"==Be.charAt(jt)&&(Jt=!0):(Jt=!1,0==Mn?this.data[this.t++]=hi:Mn+ht>this.DB?(this.data[this.t-1]|=(hi&(1<<this.DB-Mn)-1)<<Mn,this.data[this.t++]=hi>>this.DB-Mn):this.data[this.t-1]|=hi<<Mn,(Mn+=ht)>=this.DB&&(Mn-=this.DB))}8==ht&&!!(128&Be[0])&&(this.s=-1,Mn>0&&(this.data[this.t-1]|=(1<<this.DB-Mn)-1<<Mn)),this.clamp(),Jt&&e.ZERO.subTo(this,this)},e.prototype.clamp=function X(){for(var Be=this.s&this.DM;this.t>0&&this.data[this.t-1]==Be;)--this.t},e.prototype.dlShiftTo=function fe(Be,Ze){var ht;for(ht=this.t-1;ht>=0;--ht)Ze.data[ht+Be]=this.data[ht];for(ht=Be-1;ht>=0;--ht)Ze.data[ht]=0;Ze.t=this.t+Be,Ze.s=this.s},e.prototype.drShiftTo=function oe(Be,Ze){for(var ht=Be;ht<this.t;++ht)Ze.data[ht-Be]=this.data[ht];Ze.t=Math.max(this.t-Be,0),Ze.s=this.s},e.prototype.lShiftTo=function R(Be,Ze){var ri,ht=Be%this.DB,jt=this.DB-ht,Jt=(1<<jt)-1,Mn=Math.floor(Be/this.DB),hi=this.s<<ht&this.DM;for(ri=this.t-1;ri>=0;--ri)Ze.data[ri+Mn+1]=this.data[ri]>>jt|hi,hi=(this.data[ri]&Jt)<<ht;for(ri=Mn-1;ri>=0;--ri)Ze.data[ri]=0;Ze.data[Mn]=hi,Ze.t=this.t+Mn+1,Ze.s=this.s,Ze.clamp()},e.prototype.rShiftTo=function Fe(Be,Ze){Ze.s=this.s;var ht=Math.floor(Be/this.DB);if(ht>=this.t)Ze.t=0;else{var jt=Be%this.DB,Jt=this.DB-jt,Mn=(1<<jt)-1;Ze.data[0]=this.data[ht]>>jt;for(var hi=ht+1;hi<this.t;++hi)Ze.data[hi-ht-1]|=(this.data[hi]&Mn)<<Jt,Ze.data[hi-ht]=this.data[hi]>>jt;jt>0&&(Ze.data[this.t-ht-1]|=(this.s&Mn)<<Jt),Ze.t=this.t-ht,Ze.clamp()}},e.prototype.subTo=function we(Be,Ze){for(var ht=0,jt=0,Jt=Math.min(Be.t,this.t);ht<Jt;)jt+=this.data[ht]-Be.data[ht],Ze.data[ht++]=jt&this.DM,jt>>=this.DB;if(Be.t<this.t){for(jt-=Be.s;ht<this.t;)jt+=this.data[ht],Ze.data[ht++]=jt&this.DM,jt>>=this.DB;jt+=this.s}else{for(jt+=this.s;ht<Be.t;)jt-=Be.data[ht],Ze.data[ht++]=jt&this.DM,jt>>=this.DB;jt-=Be.s}Ze.s=jt<0?-1:0,jt<-1?Ze.data[ht++]=this.DV+jt:jt>0&&(Ze.data[ht++]=jt),Ze.t=ht,Ze.clamp()},e.prototype.multiplyTo=function We(Be,Ze){var ht=this.abs(),jt=Be.abs(),Jt=ht.t;for(Ze.t=Jt+jt.t;--Jt>=0;)Ze.data[Jt]=0;for(Jt=0;Jt<jt.t;++Jt)Ze.data[Jt+ht.t]=ht.am(0,jt.data[Jt],Ze,Jt,0,ht.t);Ze.s=0,Ze.clamp(),this.s!=Be.s&&e.ZERO.subTo(Ze,Ze)},e.prototype.squareTo=function rt(Be){for(var Ze=this.abs(),ht=Be.t=2*Ze.t;--ht>=0;)Be.data[ht]=0;for(ht=0;ht<Ze.t-1;++ht){var jt=Ze.am(ht,Ze.data[ht],Be,2*ht,0,1);(Be.data[ht+Ze.t]+=Ze.am(ht+1,2*Ze.data[ht],Be,2*ht+1,jt,Ze.t-ht-1))>=Ze.DV&&(Be.data[ht+Ze.t]-=Ze.DV,Be.data[ht+Ze.t+1]=1)}Be.t>0&&(Be.data[Be.t-1]+=Ze.am(ht,Ze.data[ht],Be,2*ht,0,1)),Be.s=0,Be.clamp()},e.prototype.divRemTo=function lt(Be,Ze,ht){var jt=Be.abs();if(!(jt.t<=0)){var Jt=this.abs();if(Jt.t<jt.t)return Ze?.fromInt(0),void(null!=ht&&this.copyTo(ht));null==ht&&(ht=w());var Mn=w(),hi=this.s,ri=Be.s,Nn=this.DB-te(jt.data[jt.t-1]);Nn>0?(jt.lShiftTo(Nn,Mn),Jt.lShiftTo(Nn,ht)):(jt.copyTo(Mn),Jt.copyTo(ht));var Ki=Mn.t,Ji=Mn.data[Ki-1];if(0!=Ji){var Ms=Ji*(1<<this.F1)+(Ki>1?Mn.data[Ki-2]>>this.F2:0),$t=this.FV/Ms,Ai=(1<<this.F1)/Ms,Et=1<<this.F2,yn=ht.t,Yt=yn-Ki,Fn=Ze??w();for(Mn.dlShiftTo(Yt,Fn),ht.compareTo(Fn)>=0&&(ht.data[ht.t++]=1,ht.subTo(Fn,ht)),e.ONE.dlShiftTo(Ki,Fn),Fn.subTo(Mn,Mn);Mn.t<Ki;)Mn.data[Mn.t++]=0;for(;--Yt>=0;){var Qi=ht.data[--yn]==Ji?this.DM:Math.floor(ht.data[yn]*$t+(ht.data[yn-1]+Et)*Ai);if((ht.data[yn]+=Mn.am(0,Qi,ht,Yt,0,Ki))<Qi)for(Mn.dlShiftTo(Yt,Fn),ht.subTo(Fn,ht);ht.data[yn]<--Qi;)ht.subTo(Fn,ht)}null!=Ze&&(ht.drShiftTo(Ki,Ze),hi!=ri&&e.ZERO.subTo(Ze,Ze)),ht.t=Ki,ht.clamp(),Nn>0&&ht.rShiftTo(Nn,ht),hi<0&&e.ZERO.subTo(ht,ht)}}},e.prototype.invDigit=function Xe(){if(this.t<1)return 0;var Be=this.data[0];if(!(1&Be))return 0;var Ze=3&Be;return(Ze=(Ze=(Ze=(Ze=Ze*(2-(15&Be)*Ze)&15)*(2-(255&Be)*Ze)&255)*(2-((65535&Be)*Ze&65535))&65535)*(2-Be*Ze%this.DV)%this.DV)>0?this.DV-Ze:-Ze},e.prototype.isEven=function he(){return 0==(this.t>0?1&this.data[0]:this.s)},e.prototype.exp=function ge(Be,Ze){if(Be>4294967295||Be<1)return e.ONE;var ht=w(),jt=w(),Jt=Ze.convert(this),Mn=te(Be)-1;for(Jt.copyTo(ht);--Mn>=0;)if(Ze.sqrTo(ht,jt),(Be&1<<Mn)>0)Ze.mulTo(jt,Jt,ht);else{var hi=ht;ht=jt,jt=hi}return Ze.revert(ht)},e.prototype.toString=function Z(Be){if(this.s<0)return"-"+this.negate().toString(Be);var Ze;if(16==Be)Ze=4;else if(8==Be)Ze=3;else if(2==Be)Ze=1;else if(32==Be)Ze=5;else{if(4!=Be)return this.toRadix(Be);Ze=2}var jt,ht=(1<<Ze)-1,Jt=!1,Mn="",hi=this.t,ri=this.DB-hi*this.DB%Ze;if(hi-- >0)for(ri<this.DB&&(jt=this.data[hi]>>ri)>0&&(Jt=!0,Mn=B(jt));hi>=0;)ri<Ze?(jt=(this.data[hi]&(1<<ri)-1)<<Ze-ri,jt|=this.data[--hi]>>(ri+=this.DB-Ze)):(jt=this.data[hi]>>(ri-=Ze)&ht,ri<=0&&(ri+=this.DB,--hi)),jt>0&&(Jt=!0),Jt&&(Mn+=B(jt));return Jt?Mn:"0"},e.prototype.negate=function v(){var Be=w();return e.ZERO.subTo(this,Be),Be},e.prototype.abs=function L(){return this.s<0?this.negate():this},e.prototype.compareTo=function Q(Be){var Ze=this.s-Be.s;if(0!=Ze)return Ze;var ht=this.t;if(0!=(Ze=ht-Be.t))return this.s<0?-Ze:Ze;for(;--ht>=0;)if(0!=(Ze=this.data[ht]-Be.data[ht]))return Ze;return 0},e.prototype.bitLength=function N(){return this.t<=0?0:this.DB*(this.t-1)+te(this.data[this.t-1]^this.s&this.DM)},e.prototype.mod=function vt(Be){var Ze=w();return this.abs().divRemTo(Be,null,Ze),this.s<0&&Ze.compareTo(e.ZERO)>0&&Be.subTo(Ze,Ze),Ze},e.prototype.modPowInt=function s(Be,Ze){var ht;return ht=Be<256||Ze.isEven()?new Ue(Ze):new je(Ze),this.exp(Be,ht)},e.ZERO=W(0),e.ONE=W(1),Ii.prototype.convert=Ti,Ii.prototype.revert=Ti,Ii.prototype.mulTo=function Dn(Be,Ze,ht){Be.multiplyTo(Ze,ht)},Ii.prototype.sqrTo=function Vi(Be,Ze){Be.squareTo(Ze)},ut.prototype.convert=function Rt(Be){if(Be.s<0||Be.t>2*this.m.t)return Be.mod(this.m);if(Be.compareTo(this.m)<0)return Be;var Ze=w();return Be.copyTo(Ze),this.reduce(Ze),Ze},ut.prototype.revert=function yt(Be){return Be},ut.prototype.reduce=function nn(Be){for(Be.drShiftTo(this.m.t-1,this.r2),Be.t>this.m.t+1&&(Be.t=this.m.t+1,Be.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Be.compareTo(this.r2)<0;)Be.dAddOffset(1,this.m.t+1);for(Be.subTo(this.r2,Be);Be.compareTo(this.m)>=0;)Be.subTo(this.m,Be)},ut.prototype.mulTo=function ln(Be,Ze,ht){Be.multiplyTo(Ze,ht),this.reduce(ht)},ut.prototype.sqrTo=function Vn(Be,Ze){Be.squareTo(Ze),this.reduce(Ze)};var Xt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Un=(1<<26)/Xt[Xt.length-1];e.prototype.chunkSize=function Wn(Be){return Math.floor(Math.LN2*this.DB/Math.log(Be))},e.prototype.toRadix=function Ln(Be){if(null==Be&&(Be=10),0==this.signum()||Be<2||Be>36)return"0";var Ze=this.chunkSize(Be),ht=Math.pow(Be,Ze),jt=W(ht),Jt=w(),Mn=w(),hi="";for(this.divRemTo(jt,Jt,Mn);Jt.signum()>0;)hi=(ht+Mn.intValue()).toString(Be).substr(1)+hi,Jt.divRemTo(jt,Jt,Mn);return Mn.intValue().toString(Be)+hi},e.prototype.fromRadix=function ni(Be,Ze){this.fromInt(0),null==Ze&&(Ze=10);for(var ht=this.chunkSize(Ze),jt=Math.pow(Ze,ht),Jt=!1,Mn=0,hi=0,ri=0;ri<Be.length;++ri){var Nn=V(Be,ri);Nn<0?"-"==Be.charAt(ri)&&0==this.signum()&&(Jt=!0):(hi=Ze*hi+Nn,++Mn>=ht&&(this.dMultiply(jt),this.dAddOffset(hi,0),Mn=0,hi=0))}Mn>0&&(this.dMultiply(Math.pow(Ze,Mn)),this.dAddOffset(hi,0)),Jt&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function ft(Be,Ze,ht){if("number"==typeof Ze)if(Be<2)this.fromInt(1);else for(this.fromNumber(Be,ht),this.testBit(Be-1)||this.bitwiseTo(e.ONE.shiftLeft(Be-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Ze);)this.dAddOffset(2,0),this.bitLength()>Be&&this.subTo(e.ONE.shiftLeft(Be-1),this);else{var jt=new Array,Jt=7&Be;jt.length=1+(Be>>3),Ze.nextBytes(jt),Jt>0?jt[0]&=(1<<Jt)-1:jt[0]=0,this.fromString(jt,256)}},e.prototype.bitwiseTo=function q(Be,Ze,ht){var jt,Jt,Mn=Math.min(Be.t,this.t);for(jt=0;jt<Mn;++jt)ht.data[jt]=Ze(this.data[jt],Be.data[jt]);if(Be.t<this.t){for(Jt=Be.s&this.DM,jt=Mn;jt<this.t;++jt)ht.data[jt]=Ze(this.data[jt],Jt);ht.t=this.t}else{for(Jt=this.s&this.DM,jt=Mn;jt<Be.t;++jt)ht.data[jt]=Ze(Jt,Be.data[jt]);ht.t=Be.t}ht.s=Ze(this.s,Be.s),ht.clamp()},e.prototype.changeBit=function Bi(Be,Ze){var ht=e.ONE.shiftLeft(Be);return this.bitwiseTo(ht,Ze,ht),ht},e.prototype.addTo=function fs(Be,Ze){for(var ht=0,jt=0,Jt=Math.min(Be.t,this.t);ht<Jt;)jt+=this.data[ht]+Be.data[ht],Ze.data[ht++]=jt&this.DM,jt>>=this.DB;if(Be.t<this.t){for(jt+=Be.s;ht<this.t;)jt+=this.data[ht],Ze.data[ht++]=jt&this.DM,jt>>=this.DB;jt+=this.s}else{for(jt+=this.s;ht<Be.t;)jt+=Be.data[ht],Ze.data[ht++]=jt&this.DM,jt>>=this.DB;jt+=Be.s}Ze.s=jt<0?-1:0,jt>0?Ze.data[ht++]=jt:jt<-1&&(Ze.data[ht++]=this.DV+jt),Ze.t=ht,Ze.clamp()},e.prototype.dMultiply=function ii(Be){this.data[this.t]=this.am(0,Be-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function Ei(Be,Ze){if(0!=Be){for(;this.t<=Ze;)this.data[this.t++]=0;for(this.data[Ze]+=Be;this.data[Ze]>=this.DV;)this.data[Ze]-=this.DV,++Ze>=this.t&&(this.data[this.t++]=0),++this.data[Ze]}},e.prototype.multiplyLowerTo=function zi(Be,Ze,ht){var Jt,jt=Math.min(this.t+Be.t,Ze);for(ht.s=0,ht.t=jt;jt>0;)ht.data[--jt]=0;for(Jt=ht.t-this.t;jt<Jt;++jt)ht.data[jt+this.t]=this.am(0,Be.data[jt],ht,jt,0,this.t);for(Jt=Math.min(Be.t,Ze);jt<Jt;++jt)this.am(0,Be.data[jt],ht,jt,0,Ze-jt);ht.clamp()},e.prototype.multiplyUpperTo=function ls(Be,Ze,ht){--Ze;var jt=ht.t=this.t+Be.t-Ze;for(ht.s=0;--jt>=0;)ht.data[jt]=0;for(jt=Math.max(Ze-this.t,0);jt<Be.t;++jt)ht.data[this.t+jt-Ze]=this.am(Ze-jt,Be.data[jt],ht,0,0,this.t+jt-Ze);ht.clamp(),ht.drShiftTo(1,ht)},e.prototype.modInt=function Ht(Be){if(Be<=0)return 0;var Ze=this.DV%Be,ht=this.s<0?Be-1:0;if(this.t>0)if(0==Ze)ht=this.data[0]%Be;else for(var jt=this.t-1;jt>=0;--jt)ht=(Ze*ht+this.data[jt])%Be;return ht},e.prototype.millerRabin=function Qn(Be){var Ze=this.subtract(e.ONE),ht=Ze.getLowestSetBit();if(ht<=0)return!1;for(var Mn,jt=Ze.shiftRight(ht),Jt=function vi(){return{nextBytes:function(Be){for(var Ze=0;Ze<Be.length;++Ze)Be[Ze]=Math.floor(256*Math.random())}}}(),hi=0;hi<Be;++hi){do{Mn=new e(this.bitLength(),Jt)}while(Mn.compareTo(e.ONE)<=0||Mn.compareTo(Ze)>=0);var ri=Mn.modPow(jt,this);if(0!=ri.compareTo(e.ONE)&&0!=ri.compareTo(Ze)){for(var Nn=1;Nn++<ht&&0!=ri.compareTo(Ze);)if(0==(ri=ri.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=ri.compareTo(Ze))return!1}}return!0},e.prototype.clone=function dt(){var Be=w();return this.copyTo(Be),Be},e.prototype.intValue=function _t(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},e.prototype.byteValue=function en(){return 0==this.t?this.s:this.data[0]<<24>>24},e.prototype.shortValue=function Cn(){return 0==this.t?this.s:this.data[0]<<16>>16},e.prototype.signum=function tn(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},e.prototype.toByteArray=function Qt(){var Be=this.t,Ze=new Array;Ze[0]=this.s;var jt,ht=this.DB-Be*this.DB%8,Jt=0;if(Be-- >0)for(ht<this.DB&&(jt=this.data[Be]>>ht)!=(this.s&this.DM)>>ht&&(Ze[Jt++]=jt|this.s<<this.DB-ht);Be>=0;)ht<8?(jt=(this.data[Be]&(1<<ht)-1)<<8-ht,jt|=this.data[--Be]>>(ht+=this.DB-8)):(jt=this.data[Be]>>(ht-=8)&255,ht<=0&&(ht+=this.DB,--Be)),!!(128&jt)&&(jt|=-256),0==Jt&&(128&this.s)!=(128&jt)&&++Jt,(Jt>0||jt!=this.s)&&(Ze[Jt++]=jt);return Ze},e.prototype.equals=function pe(Be){return 0==this.compareTo(Be)},e.prototype.min=function de(Be){return this.compareTo(Be)<0?this:Be},e.prototype.max=function P(Be){return this.compareTo(Be)>0?this:Be},e.prototype.and=function De(Be){var Ze=w();return this.bitwiseTo(Be,Ne,Ze),Ze},e.prototype.or=function gt(Be){var Ze=w();return this.bitwiseTo(Be,et,Ze),Ze},e.prototype.xor=function sn(Be){var Ze=w();return this.bitwiseTo(Be,Kt,Ze),Ze},e.prototype.andNot=function Kn(Be){var Ze=w();return this.bitwiseTo(Be,Rn,Ze),Ze},e.prototype.not=function ei(){for(var Be=w(),Ze=0;Ze<this.t;++Ze)Be.data[Ze]=this.DM&~this.data[Ze];return Be.t=this.t,Be.s=~this.s,Be},e.prototype.shiftLeft=function Ot(Be){var Ze=w();return Be<0?this.rShiftTo(-Be,Ze):this.lShiftTo(Be,Ze),Ze},e.prototype.shiftRight=function Gn(Be){var Ze=w();return Be<0?this.lShiftTo(-Be,Ze):this.rShiftTo(Be,Ze),Ze},e.prototype.getLowestSetBit=function Tn(){for(var Be=0;Be<this.t;++Be)if(0!=this.data[Be])return Be*this.DB+Zt(this.data[Be]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function rs(){for(var Be=0,Ze=this.s&this.DM,ht=0;ht<this.t;++ht)Be+=In(this.data[ht]^Ze);return Be},e.prototype.testBit=function _i(Be){var Ze=Math.floor(Be/this.DB);return Ze>=this.t?0!=this.s:!!(this.data[Ze]&1<<Be%this.DB)},e.prototype.setBit=function Ni(Be){return this.changeBit(Be,et)},e.prototype.clearBit=function os(Be){return this.changeBit(Be,Rn)},e.prototype.flipBit=function zn(Be){return this.changeBit(Be,Kt)},e.prototype.add=function xi(Be){var Ze=w();return this.addTo(Be,Ze),Ze},e.prototype.subtract=function wt(Be){var Ze=w();return this.subTo(Be,Ze),Ze},e.prototype.multiply=function Tt(Be){var Ze=w();return this.multiplyTo(Be,Ze),Ze},e.prototype.divide=function xt(Be){var Ze=w();return this.divRemTo(Be,Ze,null),Ze},e.prototype.remainder=function Wt(Be){var Ze=w();return this.divRemTo(Be,null,Ze),Ze},e.prototype.divideAndRemainder=function un(Be){var Ze=w(),ht=w();return this.divRemTo(Be,Ze,ht),new Array(Ze,ht)},e.prototype.modPow=function Xn(Be,Ze){var jt,Mn,ht=Be.bitLength(),Jt=W(1);if(ht<=0)return Jt;jt=ht<18?1:ht<48?3:ht<144?4:ht<768?5:6,Mn=ht<8?new Ue(Ze):Ze.isEven()?new ut(Ze):new je(Ze);var hi=new Array,ri=3,Nn=jt-1,Ki=(1<<jt)-1;if(hi[1]=Mn.convert(this),jt>1){var Ji=w();for(Mn.sqrTo(hi[1],Ji);ri<=Ki;)hi[ri]=w(),Mn.mulTo(Ji,hi[ri-2],hi[ri]),ri+=2}var $t,yn,Ms=Be.t-1,Ai=!0,Et=w();for(ht=te(Be.data[Ms])-1;Ms>=0;){for(ht>=Nn?$t=Be.data[Ms]>>ht-Nn&Ki:($t=(Be.data[Ms]&(1<<ht+1)-1)<<Nn-ht,Ms>0&&($t|=Be.data[Ms-1]>>this.DB+ht-Nn)),ri=jt;!(1&$t);)$t>>=1,--ri;if((ht-=ri)<0&&(ht+=this.DB,--Ms),Ai)hi[$t].copyTo(Jt),Ai=!1;else{for(;ri>1;)Mn.sqrTo(Jt,Et),Mn.sqrTo(Et,Jt),ri-=2;ri>0?Mn.sqrTo(Jt,Et):(yn=Jt,Jt=Et,Et=yn),Mn.mulTo(Et,hi[$t],Jt)}for(;Ms>=0&&!(Be.data[Ms]&1<<ht);)Mn.sqrTo(Jt,Et),yn=Jt,Jt=Et,Et=yn,--ht<0&&(ht=this.DB-1,--Ms)}return Mn.revert(Jt)},e.prototype.modInverse=function oi(Be){var Ze=Be.isEven();if(this.isEven()&&Ze||0==Be.signum())return e.ZERO;for(var ht=Be.clone(),jt=this.clone(),Jt=W(1),Mn=W(0),hi=W(0),ri=W(1);0!=ht.signum();){for(;ht.isEven();)ht.rShiftTo(1,ht),Ze?((!Jt.isEven()||!Mn.isEven())&&(Jt.addTo(this,Jt),Mn.subTo(Be,Mn)),Jt.rShiftTo(1,Jt)):Mn.isEven()||Mn.subTo(Be,Mn),Mn.rShiftTo(1,Mn);for(;jt.isEven();)jt.rShiftTo(1,jt),Ze?((!hi.isEven()||!ri.isEven())&&(hi.addTo(this,hi),ri.subTo(Be,ri)),hi.rShiftTo(1,hi)):ri.isEven()||ri.subTo(Be,ri),ri.rShiftTo(1,ri);ht.compareTo(jt)>=0?(ht.subTo(jt,ht),Ze&&Jt.subTo(hi,Jt),Mn.subTo(ri,Mn)):(jt.subTo(ht,jt),Ze&&hi.subTo(Jt,hi),ri.subTo(Mn,ri))}return 0!=jt.compareTo(e.ONE)?e.ZERO:ri.compareTo(Be)>=0?ri.subtract(Be):ri.signum()<0?(ri.addTo(Be,ri),ri.signum()<0?ri.add(Be):ri):ri},e.prototype.pow=function ji(Be){return this.exp(Be,new Ii)},e.prototype.gcd=function qn(Be){var Ze=this.s<0?this.negate():this.clone(),ht=Be.s<0?Be.negate():Be.clone();if(Ze.compareTo(ht)<0){var jt=Ze;Ze=ht,ht=jt}var Jt=Ze.getLowestSetBit(),Mn=ht.getLowestSetBit();if(Mn<0)return Ze;for(Jt<Mn&&(Mn=Jt),Mn>0&&(Ze.rShiftTo(Mn,Ze),ht.rShiftTo(Mn,ht));Ze.signum()>0;)(Jt=Ze.getLowestSetBit())>0&&Ze.rShiftTo(Jt,Ze),(Jt=ht.getLowestSetBit())>0&&ht.rShiftTo(Jt,ht),Ze.compareTo(ht)>=0?(Ze.subTo(ht,Ze),Ze.rShiftTo(1,Ze)):(ht.subTo(Ze,ht),ht.rShiftTo(1,ht));return Mn>0&&ht.lShiftTo(Mn,ht),ht},e.prototype.isProbablePrime=function fn(Be){var Ze,ht=this.abs();if(1==ht.t&&ht.data[0]<=Xt[Xt.length-1]){for(Ze=0;Ze<Xt.length;++Ze)if(ht.data[0]==Xt[Ze])return!0;return!1}if(ht.isEven())return!1;for(Ze=1;Ze<Xt.length;){for(var jt=Xt[Ze],Jt=Ze+1;Jt<Xt.length&&jt<Un;)jt*=Xt[Jt++];for(jt=ht.modInt(jt);Ze<Jt;)if(jt%Xt[Ze++]==0)return!1}return ht.millerRabin(Be)}},3384:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>S});var t=l(983),o=l(6354),f=l(9437),A=l(8284),e=l(1360),w=l(2036),m=l(1176),D=l(5424);let S=(()=>{class g{constructor(z,u,E){this.wsfedClientService=z,this.relyingPartyCache=u,this.errorService=E}resolve(z,u){const E=z.parent.paramMap.get("id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(E).pipe((0,o.T)(B=>{const V=JSON.parse(JSON.stringify(B.claimMappings)),F=new Map;for(const M in V)V.hasOwnProperty(M)&&F.set(M,V[M]);return B.claimMappings=F,this.relyingPartyCache.unsavedCache.next(B),B}),(0,f.W)(B=>(404===B.status?this.errorService.resourceNotFound(A.v.relyingParty):this.errorService.handleError(B),(0,t.I)())));this.relyingPartyCache.unsavedCache$.subscribe(B=>B)}static{this.\u0275fac=function(u){return new(u||g)(e.KVO(w.c),e.KVO(m.z),e.KVO(D.I))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},3485:(ot,ve,l)=>{"use strict";l.d(ve,{L:()=>t});class t{}},3488:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>f});var t=l(4549),o=l(1360);let f=(()=>{class A{now(){return t.c9.now()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},3494:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},3519:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>w});var t=l(3165),o=l(2771),f=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.RoleSubject=new o.m(1),this.actionUrl="roles",this.headers=g.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(S){this.RoleSubject.next(S)}getRoles(S,g){let k=new t.Nl;return(0,f.gP)(S)||(k=k.append("name",S)),k=k.append("sort",(0,f.gP)(g)?"name":g),this.http.get(this.actionUrl,{headers:this.headers,params:k})}getRole(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}deleteRole(S){return this.http.delete(`${this.actionUrl}/${S.id}`,{headers:this.headers})}addRole(S){const g=`${this.actionUrl}/`,k=JSON.stringify(S);return this.http.post(g,k,{headers:this.headers})}updateRole(S){const g=JSON.stringify(S);return this.http.put(`${this.actionUrl}/${S.id}`,g,{headers:this.headers})}getUsersInRole(S,g,k,z){let u=new t.Nl;return(0,f.gP)(z)||(u=u.append("q",z)),g&&(u=u.append("page",String(g))),k&&(u=u.append("pageSize",String(k))),this.http.get(`${this.actionUrl}/${S}/users`,{headers:this.headers,params:u})}addAndRemoveUsers(S,g){const k=JSON.stringify(g);return this.http.put(`${this.actionUrl}/${S}/users`,k,{headers:this.headers})}addRoleClaim(S,g){return this.http.post(`${this.actionUrl}/${S}/claims`,g,{headers:this.headers})}updateRoleClaim(S,g){return this.http.put(`${this.actionUrl}/${S}/claims`,g,{headers:this.headers})}deleteRoleClaim(S,g){return this.http.request("delete",`${this.actionUrl}/${S}/claims`,{headers:this.headers,body:g})}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},3583:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>f});var t=l(4412),o=l(1360);let f=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},3665:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>w});var t=l(9417),o=l(8434),f=l(9262),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[o.MD,f.iI,A.h,t.YN]})}}return m})()},3669:(ot,ve,l)=>{"use strict";function t(o){return o}l.d(ve,{D:()=>t})},3674:(ot,ve,l)=>{var t=l(6589);function o(E,B){t.cipher.registerAlgorithm(E,function(){return new t.des.Algorithm(E,B)})}l(5855),l(6199),l(812),ot.exports=t.des=t.des||{},t.des.startEncrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!1,mode:F||(null===B?"ECB":"CBC")});return M.start(B),M},t.des.createEncryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!1,mode:B})},t.des.startDecrypting=function(E,B,V,F){var M=u({key:E,output:V,decrypt:!0,mode:F||(null===B?"ECB":"CBC")});return M.start(B),M},t.des.createDecryptionCipher=function(E,B){return u({key:E,output:null,decrypt:!0,mode:B})},t.des.Algorithm=function(E,B){var V=this;V.name=E,V.mode=new B({blockSize:8,cipher:{encrypt:function(F,M){return z(V._keys,F,M,!1)},decrypt:function(F,M){return z(V._keys,F,M,!0)}}}),V._init=!1},t.des.Algorithm.prototype.initialize=function(E){if(!this._init){var B=t.util.createBuffer(E.key);if(0===this.name.indexOf("3DES")&&24!==B.length())throw new Error("Invalid Triple-DES key size: "+8*B.length());this._keys=function k(E){for(var We,B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],V=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],F=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],M=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],W=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],y=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],X=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],Z=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],v=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],L=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],Q=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],te=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],N=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],fe=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],oe=E.length()>8?3:1,R=[],Fe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],we=0,rt=0;rt<oe;rt++){var lt=E.getInt32(),vt=E.getInt32();lt^=(We=252645135&(lt>>>4^vt))<<4,lt^=We=65535&((vt^=We)>>>-16^lt),lt^=(We=858993459&(lt>>>2^(vt^=We<<-16)))<<2,lt^=We=65535&((vt^=We)>>>-16^lt),lt^=(We=1431655765&(lt>>>1^(vt^=We<<-16)))<<1,lt^=We=16711935&((vt^=We)>>>8^lt),We=(lt^=(We=1431655765&(lt>>>1^(vt^=We<<8)))<<1)<<8|(vt^=We)>>>20&240,lt=vt<<24|vt<<8&16711680|vt>>>8&65280|vt>>>24&240,vt=We;for(var Ue=0;Ue<Fe.length;++Ue){Fe[Ue]?(lt=lt<<2|lt>>>26,vt=vt<<2|vt>>>26):(lt=lt<<1|lt>>>27,vt=vt<<1|vt>>>27);var Ye=B[(lt&=-15)>>>28]|V[lt>>>24&15]|F[lt>>>20&15]|M[lt>>>16&15]|W[lt>>>12&15]|y[lt>>>8&15]|X[lt>>>4&15],He=Z[(vt&=-15)>>>28]|v[vt>>>24&15]|L[vt>>>20&15]|Q[vt>>>16&15]|te[vt>>>12&15]|N[vt>>>8&15]|fe[vt>>>4&15];R[we++]=Ye^(We=65535&(He>>>16^Ye)),R[we++]=He^We<<16}}return R}(B),this._init=!0}},o("DES-ECB",t.cipher.modes.ecb),o("DES-CBC",t.cipher.modes.cbc),o("DES-CFB",t.cipher.modes.cfb),o("DES-OFB",t.cipher.modes.ofb),o("DES-CTR",t.cipher.modes.ctr),o("3DES-ECB",t.cipher.modes.ecb),o("3DES-CBC",t.cipher.modes.cbc),o("3DES-CFB",t.cipher.modes.cfb),o("3DES-OFB",t.cipher.modes.ofb),o("3DES-CTR",t.cipher.modes.ctr);var f=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],A=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],e=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],w=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],m=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],D=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],S=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],g=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function z(E,B,V,F){var W,M=32===E.length?3:9;W=3===M?F?[30,-2,-2]:[0,32,2]:F?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y,X=B[0],Z=B[1];X^=(y=252645135&(X>>>4^Z))<<4,X^=(y=65535&(X>>>16^(Z^=y)))<<16,X^=y=858993459&((Z^=y)>>>2^X),X^=y=16711935&((Z^=y<<2)>>>8^X),X=(X^=(y=1431655765&(X>>>1^(Z^=y<<8)))<<1)<<1|X>>>31,Z=(Z^=y)<<1|Z>>>31;for(var v=0;v<M;v+=3){for(var L=W[v+1],Q=W[v+2],te=W[v];te!=L;te+=Q){var N=Z^E[te],fe=(Z>>>4|Z<<28)^E[te+1];y=X,X=Z,Z=y^(A[N>>>24&63]|w[N>>>16&63]|D[N>>>8&63]|g[63&N]|f[fe>>>24&63]|e[fe>>>16&63]|m[fe>>>8&63]|S[63&fe])}y=X,X=Z,Z=y}Z=Z>>>1|Z<<31,Z^=y=1431655765&((X=X>>>1|X<<31)>>>1^Z),Z^=(y=16711935&(Z>>>8^(X^=y<<1)))<<8,Z^=(y=858993459&(Z>>>2^(X^=y)))<<2,Z^=y=65535&((X^=y)>>>16^Z),Z^=y=252645135&((X^=y<<16)>>>4^Z),V[0]=X^=y<<4,V[1]=Z}function u(E){var F,V="DES-"+((E=E||{}).mode||"CBC").toUpperCase(),M=(F=E.decrypt?t.cipher.createDecipher(V,E.key):t.cipher.createCipher(V,E.key)).start;return F.start=function(W,y){var X=null;y instanceof t.util.ByteBuffer&&(X=y,y={}),(y=y||{}).output=X,y.iv=W,M.call(F,y)},F}},3680:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>V});var t=l(1360),o=l(8434),f=l(9262),A=l(8018),e=l(5139);const w=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],m=["[badge]","[ctx]","[button]","[tabs]"],D=F=>[F];function S(F,M){if(1&F&&(t.qex(0),t.j41(1,"li",7)(2,"span",17),t.EFF(3,"/"),t.k0s(),t.j41(4,"a",8),t.EFF(5),t.k0s()(),t.bVm()),2&F){const W=M.$implicit;t.R7$(4),t.Y8G("routerLink",W.link),t.R7$(),t.SpI(" ",W.title," ")}}function g(F,M){1&F&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&F&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.ReadOnly")," "))}function k(F,M){1&F&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&F&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Reserved")," "))}function z(F,M){1&F&&(t.j41(0,"span",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&F&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.UserTOTPEnabled")," "))}function u(F,M){1&F&&(t.j41(0,"div",21),t.SdG(1,2),t.k0s())}function E(F,M){1&F&&(t.qex(0),t.j41(1,"div",22),t.SdG(2,3),t.k0s(),t.bVm())}let V=(()=>{class F{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(y){return new(y||F)}}static{this.\u0275cmp=t.VBU({type:F,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},standalone:!1,ngContentSelectors:m,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(y,X){1&y&&(t.NAR(w),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),t.nI1(6,"translate"),t.j41(7,"ol",6)(8,"li",7)(9,"a",8),t.nI1(10,"localize"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,S,6,2,"ng-container",9),t.k0s()(),t.j41(14,"div",10)(15,"h1",11),t.EFF(16),t.k0s(),t.SdG(17),t.DNE(18,g,3,3,"span",12)(19,k,3,3,"span",13)(20,z,3,3,"span",14),t.SdG(21,1),t.k0s()(),t.DNE(22,u,2,0,"div",15),t.k0s()()(),t.DNE(23,E,3,0,"ng-container",16),t.k0s()),2&y&&(t.R7$(5),t.BMQ("aria-label",t.bMT(6,10,"Nav.Breadcrumbs")),t.R7$(4),t.Y8G("routerLink",t.eq3(16,D,t.bMT(10,12,"/home"))),t.R7$(2),t.SpI(" ",t.bMT(12,14,"Nav.Home")," "),t.R7$(2),t.Y8G("ngForOf",X.crumbs),t.R7$(3),t.JRh(X.title),t.R7$(2),t.Y8G("ngIf",X.isReadOnly&&!X.isReserved),t.R7$(),t.Y8G("ngIf",X.isReserved),t.R7$(),t.Y8G("ngIf",X.totpEnabled),t.R7$(2),t.Y8G("ngIf",X.hasButton),t.R7$(),t.Y8G("ngIf",X.hasTabs))},dependencies:[o.Sq,o.bT,f.Wk,A.D9,e.tl],encapsulation:2})}}return F})()},3697:(ot,ve,l)=>{var t=l(6589);l(812),l(3364),l(1675),function(){if(t.prime)ot.exports=t.prime;else{var o=ot.exports=t.prime=t.prime||{},f=t.jsbn.BigInteger,A=[6,4,2,4,2,4,6,2],e=new f(null);e.fromInt(30);var w=function(u,E){return u|E};o.generateProbablePrime=function(u,E,B){"function"==typeof E&&(B=E,E={});var V=(E=E||{}).algorithm||"PRIMEINC";"string"==typeof V&&(V={name:V}),V.options=V.options||{};var F=E.prng||t.random;if("PRIMEINC"===V.name)return function m(u,E,B,V){return"workers"in B?function g(u,E,B,V){if(typeof Worker>"u")return D(u,E,B,V);var F=k(u,E),M=B.workers,W=B.workLoad||100,y=30*W/8,X=B.workerScript||"forge/prime.worker.js";if(-1===M)return t.util.estimateCores(function(v,L){v&&(L=2),M=L-1,Z()});function Z(){M=Math.max(1,M);for(var v=[],L=0;L<M;++L)v[L]=new Worker(X);for(L=0;L<M;++L)v[L].addEventListener("message",N);var te=!1;function N(fe){if(!te){var oe=fe.data;if(oe.found){for(var R=0;R<v.length;++R)v[R].terminate();return te=!0,V(null,new f(oe.prime,16))}F.bitLength()>u&&(F=k(u,E));var Fe=F.toString(16);fe.target.postMessage({hex:Fe,workLoad:W}),F.dAddOffset(y,0)}}}Z()}(u,E,B,V):D(u,E,B,V)}(u,{nextBytes:function(W){for(var y=F.getBytesSync(W.length),X=0;X<W.length;++X)W[X]=y.charCodeAt(X)}},V.options,B);throw new Error("Invalid prime generation algorithm: "+V.name)}}function D(u,E,B,V){var F=k(u,E),W=function z(u){return u<=100?27:u<=150?18:u<=200?15:u<=250?12:u<=300?9:u<=350?8:u<=400?7:u<=500?6:u<=600?5:u<=800?4:u<=1250?3:2}(F.bitLength());"millerRabinTests"in B&&(W=B.millerRabinTests);var y=10;"maxBlockTime"in B&&(y=B.maxBlockTime),S(F,u,E,0,W,y,V)}function S(u,E,B,V,F,M,W){var y=+new Date;do{if(u.bitLength()>E&&(u=k(E,B)),u.isProbablePrime(F))return W(null,u);u.dAddOffset(A[V++%8],0)}while(M<0||+new Date-y<M);t.util.setImmediate(function(){S(u,E,B,V,F,M,W)})}function k(u,E){var B=new f(u,E),V=u-1;return B.testBit(V)||B.bitwiseTo(f.ONE.shiftLeft(V),w,B),B.dAddOffset(31-B.mod(e).byteValue(),0),B}}()},3707:(ot,ve,l)=>{var t=l(6589);l(57),l(9807);var o=ot.exports=t.tls;function f(S,g,k){var z=g.entity===t.tls.ConnectionEnd.client;S.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",z?k.keys.server_write_key:k.keys.client_write_key),iv:z?k.keys.server_write_IV:k.keys.client_write_IV},S.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",z?k.keys.client_write_key:k.keys.server_write_key),iv:z?k.keys.client_write_IV:k.keys.server_write_IV},S.read.cipherFunction=m,S.write.cipherFunction=A,S.read.macLength=S.write.macLength=k.mac_length,S.read.macFunction=S.write.macFunction=o.hmac_sha1}function A(S,g){var u,k=!1,z=g.macFunction(g.macKey,g.sequenceNumber,S);S.fragment.putBytes(z),g.updateSequenceNumber(),u=S.version.minor===o.Versions.TLS_1_0.minor?g.cipherState.init?null:g.cipherState.iv:t.random.getBytesSync(16),g.cipherState.init=!0;var E=g.cipherState.cipher;return E.start({iv:u}),S.version.minor>=o.Versions.TLS_1_1.minor&&E.output.putBytes(u),E.update(S.fragment),E.finish(e)&&(S.fragment=E.output,S.length=S.fragment.length(),k=!0),k}function e(S,g,k){if(!k){var z=S-g.length()%S;g.fillWithByte(z-1,z)}return!0}function w(S,g,k){var z=!0;if(k){for(var u=g.length(),E=g.last(),B=u-1-E;B<u-1;++B)z=z&&g.at(B)==E;z&&g.truncate(E+1)}return z}function m(S,g){var z,k=!1;z=S.version.minor===o.Versions.TLS_1_0.minor?g.cipherState.init?null:g.cipherState.iv:S.fragment.getBytes(16),g.cipherState.init=!0;var u=g.cipherState.cipher;u.start({iv:z}),u.update(S.fragment),k=u.finish(w);var E=g.macLength,B=t.random.getBytesSync(E),V=u.output.length();V>=E?(S.fragment=u.output.getBytes(V-E),B=u.output.getBytes(E)):S.fragment=u.output.getBytes(),S.fragment=t.util.createBuffer(S.fragment),S.length=S.fragment.length();var F=g.macFunction(g.macKey,g.sequenceNumber,S);return g.updateSequenceNumber(),k=function D(S,g,k){var z=t.hmac.create();return z.start("SHA1",S),z.update(g),g=z.digest().getBytes(),z.start(null,null),z.update(k),g===(k=z.digest().getBytes())}(g.macKey,B,F)&&k,k}o.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(S){S.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,S.cipher_type=o.CipherType.block,S.enc_key_length=16,S.block_length=16,S.fixed_iv_length=16,S.record_iv_length=16,S.mac_algorithm=o.MACAlgorithm.hmac_sha1,S.mac_length=20,S.mac_key_length=20},initConnectionState:f},o.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(S){S.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,S.cipher_type=o.CipherType.block,S.enc_key_length=32,S.block_length=16,S.fixed_iv_length=16,S.record_iv_length=16,S.mac_algorithm=o.MACAlgorithm.hmac_sha1,S.mac_length=20,S.mac_key_length=20},initConnectionState:f}},3726:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>g});var t=l(8750),o=l(1985),f=l(1397),A=l(7441),e=l(8071),w=l(6450);const m=["addListener","removeListener"],D=["addEventListener","removeEventListener"],S=["on","off"];function g(B,V,F,M){if((0,e.T)(F)&&(M=F,F=void 0),M)return g(B,V,F).pipe((0,w.I)(M));const[W,y]=function E(B){return(0,e.T)(B.addEventListener)&&(0,e.T)(B.removeEventListener)}(B)?D.map(X=>Z=>B[X](V,Z,F)):function z(B){return(0,e.T)(B.addListener)&&(0,e.T)(B.removeListener)}(B)?m.map(k(B,V)):function u(B){return(0,e.T)(B.on)&&(0,e.T)(B.off)}(B)?S.map(k(B,V)):[];if(!W&&(0,A.X)(B))return(0,f.Z)(X=>g(X,V,F))((0,t.Tg)(B));if(!W)throw new TypeError("Invalid event target");return new o.c(X=>{const Z=(...v)=>X.next(1<v.length?v:v[0]);return W(Z),()=>y(Z)})}function k(B,V){return F=>M=>B[F](V,M)}},3774:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>A});var t=l(9350),o=l(9974),f=l(4360);function A(w=e){return(0,o.N)((m,D)=>{let S=!1;m.subscribe((0,f._)(D,g=>{S=!0,D.next(g)},()=>S?D.complete():D.error(w())))})}function e(){return new t.G}},3806:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>t});var t=function(o){return o.Minute="Minute",o.Minutes="Minutes",o.Hour="Hour",o.Hours="Hours",o.Day="Day",o.Days="Days",o.Week="Week",o.Weeks="Weeks",o.Month="Month",o.Months="Months",o.Year="Year",o.Years="Years",o.Unlimited="Unlimited",o.Global="Global",o}(t||{})},3816:(ot,ve,l)=>{"use strict";l.d(ve,{V6:()=>g,fw:()=>S,jr:()=>z});var t=l(1360),o=l(8434);const f=["*"],A=u=>["nav-item",u];function e(u,E){if(1&u){const B=t.RV6();t.j41(0,"span",7),t.bIt("click",function(F){t.eBV(B);const M=t.XpG().$implicit,W=t.XpG();return F.preventDefault(),t.Njj(W.removeTab(M))}),t.EFF(1," \u274c"),t.k0s()}}function w(u,E){if(1&u){const B=t.RV6();t.j41(0,"li",3),t.bIt("keydown",function(F){const M=t.eBV(B).index,W=t.XpG();return t.Njj(W.keyNavActions(F,M))}),t.j41(1,"a",4),t.bIt("click",function(){const F=t.eBV(B).$implicit;return t.Njj(F.active=!0)}),t.j41(2,"span",5),t.EFF(3),t.k0s(),t.DNE(4,e,2,0,"span",6),t.k0s()()}if(2&u){const B=E.$implicit;t.AVh("active",B.active)("disabled",B.disabled),t.Y8G("ngClass",t.eq3(15,A,B.customClass||"")),t.R7$(),t.AVh("active",B.active)("disabled",B.disabled),t.BMQ("aria-controls",B.id?B.id:"")("aria-selected",!!B.active)("id",B.id?B.id+"-link":""),t.R7$(),t.Y8G("ngTransclude",B.headingRef),t.R7$(),t.JRh(B.heading),t.R7$(),t.Y8G("ngIf",B.removable)}}let m=(()=>{class u{set ngTransclude(B){this._ngTransclude=B,B&&this.viewRef.createEmbeddedView(B)}get ngTransclude(){return this._ngTransclude}constructor(B){this.viewRef=B}static{this.\u0275fac=function(V){return new(V||u)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:u,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}}return u})(),D=(()=>{class u{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static{this.\u0275fac=function(V){return new(V||u)}}static{this.\u0275prov=t.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),S=(()=>{class u{get vertical(){return this._vertical}set vertical(B){this._vertical=B,this.setClassMap()}get justified(){return this._justified}set justified(B){this._justified=B,this.setClassMap()}get type(){return this._type}set type(B){this._type=B,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(B){this._isKeysAllowed=B}constructor(B,V,F){this.renderer=V,this.elementRef=F,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,B)}ngOnDestroy(){this.isDestroyed=!0}addTab(B){this.tabs.push(B),B.active=1===this.tabs.length&&!B.active}removeTab(B,V={reselect:!0,emit:!0}){const F=this.tabs.indexOf(B);if(-1!==F&&!this.isDestroyed){if(V.reselect&&B.active&&this.hasAvailableTabs(F)){const M=this.getClosestTabIndex(F);this.tabs[M].active=!0}V.emit&&B.removed.emit(B),this.tabs.splice(F,1),B.elementRef.nativeElement.parentNode&&this.renderer.removeChild(B.elementRef.nativeElement.parentNode,B.elementRef.nativeElement)}}keyNavActions(B,V){if(!this.isKeysAllowed)return;const F=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===B.keyCode||"Enter"===B.key||32===B.keyCode||"Space"===B.key)return B.preventDefault(),void F[V%F.length].click();if(39!==B.keyCode&&"RightArrow"!==B.key)if(37!==B.keyCode&&"LeftArrow"!==B.key)if(36!==B.keyCode&&"Home"!==B.key)if(35!==B.keyCode&&"End"!==B.key){if((46===B.keyCode||"Delete"===B.key)&&this.tabs[V].removable){if(this.removeTab(this.tabs[V]),F[V+1])return void F[(V+1)%F.length].focus();F[F.length-1]&&F[0].focus()}}else{B.preventDefault();let M,W=1,y=V;do{y-W<0?(y=F.length-1,M=F[y],W=0):M=F[y-W],W++}while(M.classList.contains("disabled"));M.focus()}else{B.preventDefault();let M,W=0;do{M=F[W%F.length],W++}while(M.classList.contains("disabled"));M.focus()}else{let M,W=1,y=V;do{y-W<0?(y=F.length-1,M=F[y],W=0):M=F[y-W],W++}while(M.classList.contains("disabled"));M.focus()}else{let M,W=1;do{M=F[(V+W)%F.length],W++}while(M.classList.contains("disabled"));M.focus()}}getClosestTabIndex(B){const V=this.tabs.length;if(!V)return-1;for(let F=1;F<=V;F+=1){const M=B-F,W=B+F;if(this.tabs[M]&&!this.tabs[M].disabled)return M;if(this.tabs[W]&&!this.tabs[W].disabled)return W}return-1}hasAvailableTabs(B){const V=this.tabs.length;if(!V)return!1;for(let F=0;F<V;F+=1)if(!this.tabs[F].disabled&&F!==B)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static{this.\u0275fac=function(V){return new(V||u)(t.rXU(D),t.rXU(t.sFG),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["tabset"]],hostVars:2,hostBindings:function(V,F){2&V&&t.AVh("tab-container",F.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:f,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(V,F){1&V&&(t.NAR(),t.j41(0,"ul",0),t.bIt("click",function(W){return W.preventDefault()}),t.DNE(1,w,5,17,"li",1),t.k0s(),t.j41(2,"div",2),t.SdG(3),t.k0s()),2&V&&(t.Y8G("ngClass",F.classMap),t.BMQ("aria-label",F.ariaLabel),t.R7$(),t.Y8G("ngForOf",F.tabs))},dependencies:[o.YU,o.Sq,m,o.bT],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}}return u})(),g=(()=>{class u{get customClass(){return this._customClass}set customClass(B){this.customClass&&this.customClass.split(" ").forEach(V=>{this.renderer.removeClass(this.elementRef.nativeElement,V)}),this._customClass=B?B.trim():"",this.customClass&&this.customClass.split(" ").forEach(V=>{this.renderer.addClass(this.elementRef.nativeElement,V)})}get active(){return this._active}set active(B){if(this._active!==B){if(this.disabled&&B||!B)return void(this._active&&!B&&(this.deselect.emit(this),this._active=B));this._active=B,this.selectTab.emit(this),this.tabset.tabs.forEach(V=>{V!==this&&(V.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(B,V,F){this.elementRef=V,this.renderer=F,this.disabled=!1,this.removable=!1,this.selectTab=new t.bkB,this.deselect=new t.bkB,this.removed=new t.bkB,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=B,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static{this.\u0275fac=function(V){return new(V||u)(t.rXU(S),t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:u,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(V,F){2&V&&(t.BMQ("id",F.id)("role",F.role)("aria-labelledby",F.ariaLabelledby),t.AVh("active",F.active)("tab-pane",F.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}}return u})(),z=(()=>{class u{static forRoot(){return{ngModule:u,providers:[]}}static{this.\u0275fac=function(V){return new(V||u)}}static{this.\u0275mod=t.$C({type:u})}static{this.\u0275inj=t.G2t({imports:[o.MD]})}}return u})()},3838:(ot,ve,l)=>{"use strict";const o=l(3981),f=l(2020),A="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ve.hp=D,ve.IS=50;const e=2147483647;function m(de){if(de>e)throw new RangeError('The value "'+de+'" is invalid for option "size"');const P=new Uint8Array(de);return Object.setPrototypeOf(P,D.prototype),P}function D(de,P,q){if("number"==typeof de){if("string"==typeof P)throw new TypeError('The "string" argument must be of type string. Received type number');return z(de)}return S(de,P,q)}function S(de,P,q){if("string"==typeof de)return function u(de,P){if(("string"!=typeof P||""===P)&&(P="utf8"),!D.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const q=0|y(de,P);let Ne=m(q);const De=Ne.write(de,P);return De!==q&&(Ne=Ne.slice(0,De)),Ne}(de,P);if(ArrayBuffer.isView(de))return function B(de){if(Ln(de,Uint8Array)){const P=new Uint8Array(de);return V(P.buffer,P.byteOffset,P.byteLength)}return E(de)}(de);if(null==de)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof de);if(Ln(de,ArrayBuffer)||de&&Ln(de.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ln(de,SharedArrayBuffer)||de&&Ln(de.buffer,SharedArrayBuffer)))return V(de,P,q);if("number"==typeof de)throw new TypeError('The "value" argument must not be of type number. Received type number');const Ne=de.valueOf&&de.valueOf();if(null!=Ne&&Ne!==de)return D.from(Ne,P,q);const De=function F(de){if(D.isBuffer(de)){const P=0|M(de.length),q=m(P);return 0===q.length||de.copy(q,0,0,P),q}return void 0!==de.length?"number"!=typeof de.length||ni(de.length)?m(0):E(de):"Buffer"===de.type&&Array.isArray(de.data)?E(de.data):void 0}(de);if(De)return De;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof de[Symbol.toPrimitive])return D.from(de[Symbol.toPrimitive]("string"),P,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof de)}function g(de){if("number"!=typeof de)throw new TypeError('"size" argument must be of type number');if(de<0)throw new RangeError('The value "'+de+'" is invalid for option "size"')}function z(de){return g(de),m(de<0?0:0|M(de))}function E(de){const P=de.length<0?0:0|M(de.length),q=m(P);for(let Ne=0;Ne<P;Ne+=1)q[Ne]=255&de[Ne];return q}function V(de,P,q){if(P<0||de.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<P+(q||0))throw new RangeError('"length" is outside of buffer bounds');let Ne;return Ne=void 0===P&&void 0===q?new Uint8Array(de):void 0===q?new Uint8Array(de,P):new Uint8Array(de,P,q),Object.setPrototypeOf(Ne,D.prototype),Ne}function M(de){if(de>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|de}function y(de,P){if(D.isBuffer(de))return de.length;if(ArrayBuffer.isView(de)||Ln(de,ArrayBuffer))return de.byteLength;if("string"!=typeof de)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof de);const q=de.length,Ne=arguments.length>2&&!0===arguments[2];if(!Ne&&0===q)return 0;let De=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return _t(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return Wn(de).length;default:if(De)return Ne?-1:_t(de).length;P=(""+P).toLowerCase(),De=!0}}function X(de,P,q){let Ne=!1;if((void 0===P||P<0)&&(P=0),P>this.length||((void 0===q||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(P>>>=0))return"";for(de||(de="utf8");;)switch(de){case"hex":return vt(this,P,q);case"utf8":case"utf-8":return Fe(this,P,q);case"ascii":return rt(this,P,q);case"latin1":case"binary":return lt(this,P,q);case"base64":return R(this,P,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,P,q);default:if(Ne)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),Ne=!0}}function Z(de,P,q){const Ne=de[P];de[P]=de[q],de[q]=Ne}function v(de,P,q,Ne,De){if(0===de.length)return-1;if("string"==typeof q?(Ne=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),ni(q=+q)&&(q=De?0:de.length-1),q<0&&(q=de.length+q),q>=de.length){if(De)return-1;q=de.length-1}else if(q<0){if(!De)return-1;q=0}if("string"==typeof P&&(P=D.from(P,Ne)),D.isBuffer(P))return 0===P.length?-1:L(de,P,q,Ne,De);if("number"==typeof P)return P&=255,"function"==typeof Uint8Array.prototype.indexOf?De?Uint8Array.prototype.indexOf.call(de,P,q):Uint8Array.prototype.lastIndexOf.call(de,P,q):L(de,[P],q,Ne,De);throw new TypeError("val must be string, number or Buffer")}function L(de,P,q,Ne,De){let Rn,et=1,gt=de.length,Kt=P.length;if(void 0!==Ne&&("ucs2"===(Ne=String(Ne).toLowerCase())||"ucs-2"===Ne||"utf16le"===Ne||"utf-16le"===Ne)){if(de.length<2||P.length<2)return-1;et=2,gt/=2,Kt/=2,q/=2}function sn(Kn,ei){return 1===et?Kn[ei]:Kn.readUInt16BE(ei*et)}if(De){let Kn=-1;for(Rn=q;Rn<gt;Rn++)if(sn(de,Rn)===sn(P,-1===Kn?0:Rn-Kn)){if(-1===Kn&&(Kn=Rn),Rn-Kn+1===Kt)return Kn*et}else-1!==Kn&&(Rn-=Rn-Kn),Kn=-1}else for(q+Kt>gt&&(q=gt-Kt),Rn=q;Rn>=0;Rn--){let Kn=!0;for(let ei=0;ei<Kt;ei++)if(sn(de,Rn+ei)!==sn(P,ei)){Kn=!1;break}if(Kn)return Rn}return-1}function Q(de,P,q,Ne){q=Number(q)||0;const De=de.length-q;Ne?(Ne=Number(Ne))>De&&(Ne=De):Ne=De;const et=P.length;let gt;for(Ne>et/2&&(Ne=et/2),gt=0;gt<Ne;++gt){const Kt=parseInt(P.substr(2*gt,2),16);if(ni(Kt))return gt;de[q+gt]=Kt}return gt}function te(de,P,q,Ne){return tn(_t(P,de.length-q),de,q,Ne)}function N(de,P,q,Ne){return tn(function en(de){const P=[];for(let q=0;q<de.length;++q)P.push(255&de.charCodeAt(q));return P}(P),de,q,Ne)}function fe(de,P,q,Ne){return tn(Wn(P),de,q,Ne)}function oe(de,P,q,Ne){return tn(function Cn(de,P){let q,Ne,De;const et=[];for(let gt=0;gt<de.length&&!((P-=2)<0);++gt)q=de.charCodeAt(gt),Ne=q>>8,De=q%256,et.push(De),et.push(Ne);return et}(P,de.length-q),de,q,Ne)}function R(de,P,q){return o.fromByteArray(0===P&&q===de.length?de:de.slice(P,q))}function Fe(de,P,q){q=Math.min(de.length,q);const Ne=[];let De=P;for(;De<q;){const et=de[De];let gt=null,Kt=et>239?4:et>223?3:et>191?2:1;if(De+Kt<=q){let sn,Rn,Kn,ei;switch(Kt){case 1:et<128&&(gt=et);break;case 2:sn=de[De+1],128==(192&sn)&&(ei=(31&et)<<6|63&sn,ei>127&&(gt=ei));break;case 3:sn=de[De+1],Rn=de[De+2],128==(192&sn)&&128==(192&Rn)&&(ei=(15&et)<<12|(63&sn)<<6|63&Rn,ei>2047&&(ei<55296||ei>57343)&&(gt=ei));break;case 4:sn=de[De+1],Rn=de[De+2],Kn=de[De+3],128==(192&sn)&&128==(192&Rn)&&128==(192&Kn)&&(ei=(15&et)<<18|(63&sn)<<12|(63&Rn)<<6|63&Kn,ei>65535&&ei<1114112&&(gt=ei))}}null===gt?(gt=65533,Kt=1):gt>65535&&(gt-=65536,Ne.push(gt>>>10&1023|55296),gt=56320|1023&gt),Ne.push(gt),De+=Kt}return function We(de){const P=de.length;if(P<=we)return String.fromCharCode.apply(String,de);let q="",Ne=0;for(;Ne<P;)q+=String.fromCharCode.apply(String,de.slice(Ne,Ne+=we));return q}(Ne)}!(D.TYPED_ARRAY_SUPPORT=function w(){try{const de=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(de,P),42===de.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(de,P,q){return S(de,P,q)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(de,P,q){return function k(de,P,q){return g(de),de<=0?m(de):void 0!==P?"string"==typeof q?m(de).fill(P,q):m(de).fill(P):m(de)}(de,P,q)},D.allocUnsafe=function(de){return z(de)},D.allocUnsafeSlow=function(de){return z(de)},D.isBuffer=function(P){return null!=P&&!0===P._isBuffer&&P!==D.prototype},D.compare=function(P,q){if(Ln(P,Uint8Array)&&(P=D.from(P,P.offset,P.byteLength)),Ln(q,Uint8Array)&&(q=D.from(q,q.offset,q.byteLength)),!D.isBuffer(P)||!D.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===q)return 0;let Ne=P.length,De=q.length;for(let et=0,gt=Math.min(Ne,De);et<gt;++et)if(P[et]!==q[et]){Ne=P[et],De=q[et];break}return Ne<De?-1:De<Ne?1:0},D.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(P,q){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(0===P.length)return D.alloc(0);let Ne;if(void 0===q)for(q=0,Ne=0;Ne<P.length;++Ne)q+=P[Ne].length;const De=D.allocUnsafe(q);let et=0;for(Ne=0;Ne<P.length;++Ne){let gt=P[Ne];if(Ln(gt,Uint8Array))et+gt.length>De.length?(D.isBuffer(gt)||(gt=D.from(gt)),gt.copy(De,et)):Uint8Array.prototype.set.call(De,gt,et);else{if(!D.isBuffer(gt))throw new TypeError('"list" argument must be an Array of Buffers');gt.copy(De,et)}et+=gt.length}return De},D.byteLength=y,D.prototype._isBuffer=!0,D.prototype.swap16=function(){const P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<P;q+=2)Z(this,q,q+1);return this},D.prototype.swap32=function(){const P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<P;q+=4)Z(this,q,q+3),Z(this,q+1,q+2);return this},D.prototype.swap64=function(){const P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<P;q+=8)Z(this,q,q+7),Z(this,q+1,q+6),Z(this,q+2,q+5),Z(this,q+3,q+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){const P=this.length;return 0===P?"":0===arguments.length?Fe(this,0,P):X.apply(this,arguments)},D.prototype.equals=function(P){if(!D.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||0===D.compare(this,P)},D.prototype.inspect=function(){let P="";const q=ve.IS;return P=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(P+=" ... "),"<Buffer "+P+">"},A&&(D.prototype[A]=D.prototype.inspect),D.prototype.compare=function(P,q,Ne,De,et){if(Ln(P,Uint8Array)&&(P=D.from(P,P.offset,P.byteLength)),!D.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(void 0===q&&(q=0),void 0===Ne&&(Ne=P?P.length:0),void 0===De&&(De=0),void 0===et&&(et=this.length),q<0||Ne>P.length||De<0||et>this.length)throw new RangeError("out of range index");if(De>=et&&q>=Ne)return 0;if(De>=et)return-1;if(q>=Ne)return 1;if(this===P)return 0;let gt=(et>>>=0)-(De>>>=0),Kt=(Ne>>>=0)-(q>>>=0);const sn=Math.min(gt,Kt),Rn=this.slice(De,et),Kn=P.slice(q,Ne);for(let ei=0;ei<sn;++ei)if(Rn[ei]!==Kn[ei]){gt=Rn[ei],Kt=Kn[ei];break}return gt<Kt?-1:Kt<gt?1:0},D.prototype.includes=function(P,q,Ne){return-1!==this.indexOf(P,q,Ne)},D.prototype.indexOf=function(P,q,Ne){return v(this,P,q,Ne,!0)},D.prototype.lastIndexOf=function(P,q,Ne){return v(this,P,q,Ne,!1)},D.prototype.write=function(P,q,Ne,De){if(void 0===q)De="utf8",Ne=this.length,q=0;else if(void 0===Ne&&"string"==typeof q)De=q,Ne=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q>>>=0,isFinite(Ne)?(Ne>>>=0,void 0===De&&(De="utf8")):(De=Ne,Ne=void 0)}const et=this.length-q;if((void 0===Ne||Ne>et)&&(Ne=et),P.length>0&&(Ne<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let gt=!1;for(;;)switch(De){case"hex":return Q(this,P,q,Ne);case"utf8":case"utf-8":return te(this,P,q,Ne);case"ascii":case"latin1":case"binary":return N(this,P,q,Ne);case"base64":return fe(this,P,q,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,P,q,Ne);default:if(gt)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),gt=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const we=4096;function rt(de,P,q){let Ne="";q=Math.min(de.length,q);for(let De=P;De<q;++De)Ne+=String.fromCharCode(127&de[De]);return Ne}function lt(de,P,q){let Ne="";q=Math.min(de.length,q);for(let De=P;De<q;++De)Ne+=String.fromCharCode(de[De]);return Ne}function vt(de,P,q){const Ne=de.length;(!P||P<0)&&(P=0),(!q||q<0||q>Ne)&&(q=Ne);let De="";for(let et=P;et<q;++et)De+=ft[de[et]];return De}function Ue(de,P,q){const Ne=de.slice(P,q);let De="";for(let et=0;et<Ne.length-1;et+=2)De+=String.fromCharCode(Ne[et]+256*Ne[et+1]);return De}function Ye(de,P,q){if(de%1!=0||de<0)throw new RangeError("offset is not uint");if(de+P>q)throw new RangeError("Trying to access beyond buffer length")}function He(de,P,q,Ne,De,et){if(!D.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>De||P<et)throw new RangeError('"value" argument is out of bounds');if(q+Ne>de.length)throw new RangeError("Index out of range")}function it(de,P,q,Ne,De){Y(P,Ne,De,de,q,7);let et=Number(P&BigInt(4294967295));de[q++]=et,et>>=8,de[q++]=et,et>>=8,de[q++]=et,et>>=8,de[q++]=et;let gt=Number(P>>BigInt(32)&BigInt(4294967295));return de[q++]=gt,gt>>=8,de[q++]=gt,gt>>=8,de[q++]=gt,gt>>=8,de[q++]=gt,q}function Le(de,P,q,Ne,De){Y(P,Ne,De,de,q,7);let et=Number(P&BigInt(4294967295));de[q+7]=et,et>>=8,de[q+6]=et,et>>=8,de[q+5]=et,et>>=8,de[q+4]=et;let gt=Number(P>>BigInt(32)&BigInt(4294967295));return de[q+3]=gt,gt>>=8,de[q+2]=gt,gt>>=8,de[q+1]=gt,gt>>=8,de[q]=gt,q+8}function Ve(de,P,q,Ne,De,et){if(q+Ne>de.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Xe(de,P,q,Ne,De){return P=+P,q>>>=0,De||Ve(de,0,q,4),f.write(de,P,q,Ne,23,4),q+4}function je(de,P,q,Ne,De){return P=+P,q>>>=0,De||Ve(de,0,q,8),f.write(de,P,q,Ne,52,8),q+8}D.prototype.slice=function(P,q){const Ne=this.length;(P=~~P)<0?(P+=Ne)<0&&(P=0):P>Ne&&(P=Ne),(q=void 0===q?Ne:~~q)<0?(q+=Ne)<0&&(q=0):q>Ne&&(q=Ne),q<P&&(q=P);const De=this.subarray(P,q);return Object.setPrototypeOf(De,D.prototype),De},D.prototype.readUintLE=D.prototype.readUIntLE=function(P,q,Ne){P>>>=0,q>>>=0,Ne||Ye(P,q,this.length);let De=this[P],et=1,gt=0;for(;++gt<q&&(et*=256);)De+=this[P+gt]*et;return De},D.prototype.readUintBE=D.prototype.readUIntBE=function(P,q,Ne){P>>>=0,q>>>=0,Ne||Ye(P,q,this.length);let De=this[P+--q],et=1;for(;q>0&&(et*=256);)De+=this[P+--q]*et;return De},D.prototype.readUint8=D.prototype.readUInt8=function(P,q){return P>>>=0,q||Ye(P,1,this.length),this[P]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(P,q){return P>>>=0,q||Ye(P,2,this.length),this[P]|this[P+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(P,q){return P>>>=0,q||Ye(P,2,this.length),this[P]<<8|this[P+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},D.prototype.readBigUInt64LE=Qt(function(P){he(P>>>=0,"offset");const q=this[P],Ne=this[P+7];(void 0===q||void 0===Ne)&&ge(P,this.length-8);const De=q+256*this[++P]+65536*this[++P]+this[++P]*2**24,et=this[++P]+256*this[++P]+65536*this[++P]+Ne*2**24;return BigInt(De)+(BigInt(et)<<BigInt(32))}),D.prototype.readBigUInt64BE=Qt(function(P){he(P>>>=0,"offset");const q=this[P],Ne=this[P+7];(void 0===q||void 0===Ne)&&ge(P,this.length-8);const De=q*2**24+65536*this[++P]+256*this[++P]+this[++P],et=this[++P]*2**24+65536*this[++P]+256*this[++P]+Ne;return(BigInt(De)<<BigInt(32))+BigInt(et)}),D.prototype.readIntLE=function(P,q,Ne){P>>>=0,q>>>=0,Ne||Ye(P,q,this.length);let De=this[P],et=1,gt=0;for(;++gt<q&&(et*=256);)De+=this[P+gt]*et;return et*=128,De>=et&&(De-=Math.pow(2,8*q)),De},D.prototype.readIntBE=function(P,q,Ne){P>>>=0,q>>>=0,Ne||Ye(P,q,this.length);let De=q,et=1,gt=this[P+--De];for(;De>0&&(et*=256);)gt+=this[P+--De]*et;return et*=128,gt>=et&&(gt-=Math.pow(2,8*q)),gt},D.prototype.readInt8=function(P,q){return P>>>=0,q||Ye(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},D.prototype.readInt16LE=function(P,q){P>>>=0,q||Ye(P,2,this.length);const Ne=this[P]|this[P+1]<<8;return 32768&Ne?4294901760|Ne:Ne},D.prototype.readInt16BE=function(P,q){P>>>=0,q||Ye(P,2,this.length);const Ne=this[P+1]|this[P]<<8;return 32768&Ne?4294901760|Ne:Ne},D.prototype.readInt32LE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},D.prototype.readInt32BE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},D.prototype.readBigInt64LE=Qt(function(P){he(P>>>=0,"offset");const q=this[P],Ne=this[P+7];return(void 0===q||void 0===Ne)&&ge(P,this.length-8),(BigInt(this[P+4]+256*this[P+5]+65536*this[P+6]+(Ne<<24))<<BigInt(32))+BigInt(q+256*this[++P]+65536*this[++P]+this[++P]*2**24)}),D.prototype.readBigInt64BE=Qt(function(P){he(P>>>=0,"offset");const q=this[P],Ne=this[P+7];(void 0===q||void 0===Ne)&&ge(P,this.length-8);const De=(q<<24)+65536*this[++P]+256*this[++P]+this[++P];return(BigInt(De)<<BigInt(32))+BigInt(this[++P]*2**24+65536*this[++P]+256*this[++P]+Ne)}),D.prototype.readFloatLE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),f.read(this,P,!0,23,4)},D.prototype.readFloatBE=function(P,q){return P>>>=0,q||Ye(P,4,this.length),f.read(this,P,!1,23,4)},D.prototype.readDoubleLE=function(P,q){return P>>>=0,q||Ye(P,8,this.length),f.read(this,P,!0,52,8)},D.prototype.readDoubleBE=function(P,q){return P>>>=0,q||Ye(P,8,this.length),f.read(this,P,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function(P,q,Ne,De){P=+P,q>>>=0,Ne>>>=0,De||He(this,P,q,Ne,Math.pow(2,8*Ne)-1,0);let et=1,gt=0;for(this[q]=255&P;++gt<Ne&&(et*=256);)this[q+gt]=P/et&255;return q+Ne},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(P,q,Ne,De){P=+P,q>>>=0,Ne>>>=0,De||He(this,P,q,Ne,Math.pow(2,8*Ne)-1,0);let et=Ne-1,gt=1;for(this[q+et]=255&P;--et>=0&&(gt*=256);)this[q+et]=P/gt&255;return q+Ne},D.prototype.writeUint8=D.prototype.writeUInt8=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,1,255,0),this[q]=255&P,q+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,2,65535,0),this[q]=255&P,this[q+1]=P>>>8,q+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,2,65535,0),this[q]=P>>>8,this[q+1]=255&P,q+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,4,4294967295,0),this[q+3]=P>>>24,this[q+2]=P>>>16,this[q+1]=P>>>8,this[q]=255&P,q+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,4,4294967295,0),this[q]=P>>>24,this[q+1]=P>>>16,this[q+2]=P>>>8,this[q+3]=255&P,q+4},D.prototype.writeBigUInt64LE=Qt(function(P,q=0){return it(this,P,q,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=Qt(function(P,q=0){return Le(this,P,q,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(P,q,Ne,De){if(P=+P,q>>>=0,!De){const sn=Math.pow(2,8*Ne-1);He(this,P,q,Ne,sn-1,-sn)}let et=0,gt=1,Kt=0;for(this[q]=255&P;++et<Ne&&(gt*=256);)P<0&&0===Kt&&0!==this[q+et-1]&&(Kt=1),this[q+et]=(P/gt|0)-Kt&255;return q+Ne},D.prototype.writeIntBE=function(P,q,Ne,De){if(P=+P,q>>>=0,!De){const sn=Math.pow(2,8*Ne-1);He(this,P,q,Ne,sn-1,-sn)}let et=Ne-1,gt=1,Kt=0;for(this[q+et]=255&P;--et>=0&&(gt*=256);)P<0&&0===Kt&&0!==this[q+et+1]&&(Kt=1),this[q+et]=(P/gt|0)-Kt&255;return q+Ne},D.prototype.writeInt8=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,1,127,-128),P<0&&(P=255+P+1),this[q]=255&P,q+1},D.prototype.writeInt16LE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,2,32767,-32768),this[q]=255&P,this[q+1]=P>>>8,q+2},D.prototype.writeInt16BE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,2,32767,-32768),this[q]=P>>>8,this[q+1]=255&P,q+2},D.prototype.writeInt32LE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,4,2147483647,-2147483648),this[q]=255&P,this[q+1]=P>>>8,this[q+2]=P>>>16,this[q+3]=P>>>24,q+4},D.prototype.writeInt32BE=function(P,q,Ne){return P=+P,q>>>=0,Ne||He(this,P,q,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[q]=P>>>24,this[q+1]=P>>>16,this[q+2]=P>>>8,this[q+3]=255&P,q+4},D.prototype.writeBigInt64LE=Qt(function(P,q=0){return it(this,P,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=Qt(function(P,q=0){return Le(this,P,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeFloatLE=function(P,q,Ne){return Xe(this,P,q,!0,Ne)},D.prototype.writeFloatBE=function(P,q,Ne){return Xe(this,P,q,!1,Ne)},D.prototype.writeDoubleLE=function(P,q,Ne){return je(this,P,q,!0,Ne)},D.prototype.writeDoubleBE=function(P,q,Ne){return je(this,P,q,!1,Ne)},D.prototype.copy=function(P,q,Ne,De){if(!D.isBuffer(P))throw new TypeError("argument should be a Buffer");if(Ne||(Ne=0),!De&&0!==De&&(De=this.length),q>=P.length&&(q=P.length),q||(q=0),De>0&&De<Ne&&(De=Ne),De===Ne||0===P.length||0===this.length)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(Ne<0||Ne>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),P.length-q<De-Ne&&(De=P.length-q+Ne);const et=De-Ne;return this===P&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(q,Ne,De):Uint8Array.prototype.set.call(P,this.subarray(Ne,De),q),et},D.prototype.fill=function(P,q,Ne,De){if("string"==typeof P){if("string"==typeof q?(De=q,q=0,Ne=this.length):"string"==typeof Ne&&(De=Ne,Ne=this.length),void 0!==De&&"string"!=typeof De)throw new TypeError("encoding must be a string");if("string"==typeof De&&!D.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(1===P.length){const gt=P.charCodeAt(0);("utf8"===De&&gt<128||"latin1"===De)&&(P=gt)}}else"number"==typeof P?P&=255:"boolean"==typeof P&&(P=Number(P));if(q<0||this.length<q||this.length<Ne)throw new RangeError("Out of range index");if(Ne<=q)return this;let et;if(q>>>=0,Ne=void 0===Ne?this.length:Ne>>>0,P||(P=0),"number"==typeof P)for(et=q;et<Ne;++et)this[et]=P;else{const gt=D.isBuffer(P)?P:D.from(P,De),Kt=gt.length;if(0===Kt)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(et=0;et<Ne-q;++et)this[et+q]=gt[et%Kt]}return this};const ct={};function st(de,P,q){ct[de]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${de}]`,delete this.name}get code(){return de}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${de}]: ${this.message}`}}}function Qe(de){let P="",q=de.length;const Ne="-"===de[0]?1:0;for(;q>=Ne+4;q-=3)P=`_${de.slice(q-3,q)}${P}`;return`${de.slice(0,q)}${P}`}function Y(de,P,q,Ne,De,et){if(de>q||de<P){const gt="bigint"==typeof P?"n":"";let Kt;throw Kt=et>3?0===P||P===BigInt(0)?`>= 0${gt} and < 2${gt} ** ${8*(et+1)}${gt}`:`>= -(2${gt} ** ${8*(et+1)-1}${gt}) and < 2 ** ${8*(et+1)-1}${gt}`:`>= ${P}${gt} and <= ${q}${gt}`,new ct.ERR_OUT_OF_RANGE("value",Kt,de)}!function ne(de,P,q){he(P,"offset"),(void 0===de[P]||void 0===de[P+q])&&ge(P,de.length-(q+1))}(Ne,De,et)}function he(de,P){if("number"!=typeof de)throw new ct.ERR_INVALID_ARG_TYPE(P,"number",de)}function ge(de,P,q){throw Math.floor(de)!==de?(he(de,q),new ct.ERR_OUT_OF_RANGE(q||"offset","an integer",de)):P<0?new ct.ERR_BUFFER_OUT_OF_BOUNDS:new ct.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${P}`,de)}st("ERR_BUFFER_OUT_OF_BOUNDS",function(de){return de?`${de} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(de,P){return`The "${de}" argument must be of type number. Received type ${typeof P}`},TypeError),st("ERR_OUT_OF_RANGE",function(de,P,q){let Ne=`The value of "${de}" is out of range.`,De=q;return Number.isInteger(q)&&Math.abs(q)>2**32?De=Qe(String(q)):"bigint"==typeof q&&(De=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(De=Qe(De)),De+="n"),Ne+=` It must be ${P}. Received ${De}`,Ne},RangeError);const s=/[^+/0-9A-Za-z-_]/g;function _t(de,P){let q;P=P||1/0;const Ne=de.length;let De=null;const et=[];for(let gt=0;gt<Ne;++gt){if(q=de.charCodeAt(gt),q>55295&&q<57344){if(!De){if(q>56319){(P-=3)>-1&&et.push(239,191,189);continue}if(gt+1===Ne){(P-=3)>-1&&et.push(239,191,189);continue}De=q;continue}if(q<56320){(P-=3)>-1&&et.push(239,191,189),De=q;continue}q=65536+(De-55296<<10|q-56320)}else De&&(P-=3)>-1&&et.push(239,191,189);if(De=null,q<128){if((P-=1)<0)break;et.push(q)}else if(q<2048){if((P-=2)<0)break;et.push(q>>6|192,63&q|128)}else if(q<65536){if((P-=3)<0)break;et.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;et.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return et}function Wn(de){return o.toByteArray(function dt(de){if((de=(de=de.split("=")[0]).trim().replace(s,"")).length<2)return"";for(;de.length%4!=0;)de+="=";return de}(de))}function tn(de,P,q,Ne){let De;for(De=0;De<Ne&&!(De+q>=P.length||De>=de.length);++De)P[De+q]=de[De];return De}function Ln(de,P){return de instanceof P||null!=de&&null!=de.constructor&&null!=de.constructor.name&&de.constructor.name===P.name}function ni(de){return de!=de}const ft=function(){const de="0123456789abcdef",P=new Array(256);for(let q=0;q<16;++q){const Ne=16*q;for(let De=0;De<16;++De)P[Ne+De]=de[q]+de[De]}return P}();function Qt(de){return typeof BigInt>"u"?pe:de}function pe(){throw new Error("BigInt not supported")}},3843:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>f});var t=l(8434),o=l(1360);let f=(()=>{class A{static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275mod=o.$C({type:A})}static{this.\u0275inj=o.G2t({imports:[t.MD]})}}return A})()},3853:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>D});var t=l(3165),o=l(4589);class A{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==o.G.Demo}isStarterLicense(){return this.licenseType==o.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var e=l(1594),w=l(6354),m=l(1360);let D=(()=>{class S{constructor(k){this.http=k,this.headers=new t.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,e.$)(),(0,w.T)(k=>{var z=new A;return z.organisation=k.organisation,z.licenseType=k.licenseType,z.isExpired=k.isExpired,z.isInGracePeriod=k.isInGracePeriod,z.gracePeriodExpiry=k.gracePeriodExpiry,z.maxUsers=k.maxUsers,z.maxClients=k.maxClients,z.userQuotaRemaining=k.userQuotaRemaining,z.clientQuotaRemaining=k.clientQuotaRemaining,z}))}static{this.\u0275fac=function(z){return new(z||S)(m.KVO(t.Qq))}}static{this.\u0275prov=m.jDH({token:S,factory:S.\u0275fac})}}return S})()},3860:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>A});var t=l(9417),o=l(7263),f=l(1360);let A=(()=>{class e{validate(m){return this.regex?(0,o.AB)(new RegExp(this.regex,"i"))(m):null}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275dir=f.FsC({type:e,selectors:[["","appClaimRegex",""]],inputs:{regex:[0,"appClaimRegex","regex"]},standalone:!1,features:[f.Jv_([{provide:t.cz,useExisting:e,multi:!0}])]})}}return e})()},3899:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>Q});var t=l(1360),o=l(9361),f=l(1413),A=l(3726),e=l(6977),w=l(6354),m=l(9172),D=l(5964),S=l(3993);const g=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var u=l(1258),E=l(7185),B=l(4754),V=l(8434),F=l(8018);const M=["*"];function W(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.cancel())}),t.nrm(1,"span",17),t.j41(2,"span",18),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&te&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.Close")))}function y(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.save())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&te){const fe=t.XpG();t.Y8G("disabled",fe.addDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,fe.saveText)," ")}}function X(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.delete())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&te){const fe=t.XpG();t.Y8G("disabled",fe.deleteDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,fe.deleteText)," ")}}function Z(te,N){if(1&te){const fe=t.RV6();t.j41(0,"div",21)(1,"button",22),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.saveAndReAdd())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&te){const fe=t.XpG();t.R7$(),t.Y8G("disabled",fe.addDisabled),t.R7$(),t.SpI(" ",t.bMT(3,2,fe.saveAndReAddText)," ")}}function v(te,N){if(1&te){const fe=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(fe);const R=t.XpG();return t.Njj(R.cancel())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&te&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Cancel")," "))}function L(te,N){1&te&&t.nrm(0,"div",24)}let Q=(()=>{class te{constructor(fe,oe,R){this.document=fe,this.elRef=oe,this.modalService=R,this.hideCancel=!1,this.modalType=E.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new t.bkB,this.onSaveAndReAdd=new t.bkB,this.onDelete=new t.bkB,this.onCancel=new t.bkB,this.isVisible=!1,this.isVisible$=new f.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(u.N.Delete),this.canSave=this.actions.includes(u.N.Save),this.canSaveAndReAdd=this.actions.includes(u.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function k(te,N){const fe=function z(te){const N=Array.from(te.querySelectorAll(g)).filter(fe=>-1!==fe.tabIndex);return[N[0],N[N.length-1]]}(te),[oe,R]=fe,Fe=(0,A.R)(te,"focusin").pipe((0,e.Q)(N),(0,w.T)(we=>we.target),(0,m.Z)(oe));oe.focus(),(0,A.R)(te,"keydown").pipe((0,e.Q)(N),(0,D.p)(we=>"Tab"===we.key),(0,S.E)(Fe)).subscribe(([we,We])=>{(We===oe||We===te)&&we.shiftKey&&(R.focus(),we.preventDefault()),We===R&&!we.shiftKey&&(oe.focus(),we.preventDefault())}),(0,A.R)(document,"click").pipe((0,e.Q)(N),(0,S.E)(Fe),(0,w.T)(we=>we[1])).subscribe(we=>{we.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,A.R)(this.document,"keydown").pipe((0,e.Q)(this.isVisible$),(0,D.p)(fe=>"Esc"===fe.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(oe){return new(oe||te)(t.rXU(o.q),t.rXU(t.aKT),t.rXU(B.B))}}static{this.\u0275cmp=t.VBU({type:te,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},standalone:!1,ngContentSelectors:M,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(oe,R){1&oe&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.DNE(7,W,5,3,"button",5),t.k0s(),t.j41(8,"div",6),t.SdG(9),t.k0s(),t.nrm(10,"div",7),t.j41(11,"div",8)(12,"div",9)(13,"div",10),t.DNE(14,y,3,4,"button",11)(15,X,3,4,"button",12)(16,Z,4,4,"div",13),t.k0s(),t.DNE(17,v,3,3,"button",14),t.k0s()()()()(),t.DNE(18,L,1,0,"div",15)),2&oe&&(t.AVh("show",R.isVisible),t.BMQ("aria-hidden",!R.isVisible)("aria-labelledby","modal-title-"+R.modalId),t.R7$(4),t.Mz_("id","modal-title-",R.modalId,""),t.R7$(),t.JRh(t.bMT(6,13,R.title)),t.R7$(2),t.Y8G("ngIf",!R.hideCancel),t.R7$(7),t.Y8G("ngIf",R.canSave),t.R7$(),t.Y8G("ngIf",R.canDelete),t.R7$(),t.Y8G("ngIf",R.canSaveAndReAdd),t.R7$(),t.Y8G("ngIf",!R.hideCancel),t.R7$(),t.Y8G("ngIf",R.showBackdrop))},dependencies:[V.bT,F.D9],encapsulation:2})}}return te})()},3929:(ot,ve,l)=>{"use strict";l.d(ve,{V:()=>qm});var t=l(467);class o{}var f=l(5955);function e(U,H,d){var T;return U instanceof Object&&null!==(T=U[H])&&void 0!==T?T:d}function w(U,H=0,d=U.byteLength-H,T=!1){let $="";for(const _e of new Uint8Array(U,H,d)){const xe=_e.toString(16).toUpperCase();1===xe.length&&($+="0"),$+=xe,T&&($+=" ")}return $.trim()}function D(U,H){let d=0;if(1===U.length)return U[0];for(let T=U.length-1;T>=0;T--)d+=U[U.length-1-T]*Math.pow(2,H*T);return d}function S(U,H,d=-1){const T=d;let $=U,_e=0,xe=Math.pow(2,H);for(let ze=1;ze<8;ze++){if(U<xe){let nt;if(T<0)nt=new ArrayBuffer(ze),_e=ze;else{if(T<ze)return new ArrayBuffer(0);nt=new ArrayBuffer(T),_e=T}const bt=new Uint8Array(nt);for(let Gt=ze-1;Gt>=0;Gt--){const qt=Math.pow(2,Gt*H);bt[_e-Gt-1]=Math.floor($/qt),$-=bt[_e-Gt-1]*qt}return nt}xe*=Math.pow(2,H)}return new ArrayBuffer(0)}function g(...U){let H=0,d=0;for(const _e of U)H+=_e.byteLength;const T=new ArrayBuffer(H),$=new Uint8Array(T);for(const _e of U)$.set(new Uint8Array(_e),d),d+=_e.byteLength;return T}function k(...U){let H=0,d=0;for(const _e of U)H+=_e.length;const T=new ArrayBuffer(H),$=new Uint8Array(T);for(const _e of U)$.set(_e,d),d+=_e.length;return $}function z(){const U=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===U[0]&&128&U[1]||0===U[0]&&!(128&U[1]))&&this.warnings.push("Needlessly long format");const H=new ArrayBuffer(this.valueHex.byteLength),d=new Uint8Array(H);for(let ze=0;ze<this.valueHex.byteLength;ze++)d[ze]=0;d[0]=128&U[0];const T=D(d,8),$=new ArrayBuffer(this.valueHex.byteLength),_e=new Uint8Array($);for(let ze=0;ze<this.valueHex.byteLength;ze++)_e[ze]=U[ze];return _e[0]&=127,D(_e,8)-T}function E(U,H){if(U.byteLength!==H.byteLength)return!1;const d=new Uint8Array(U),T=new Uint8Array(H);for(let $=0;$<d.length;$++)if(d[$]!==T[$])return!1;return!0}function B(U,H){const d=U.toString(10);if(H<d.length)return"";const T=H-d.length,$=new Array(T);for(let xe=0;xe<T;xe++)$[xe]="0";return $.join("").concat(d)}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function M(U,H=!1,d=!1,T=!1){let $=0,_e=0,xe=0,ze="";const nt=H?F:V;if(T){let bt=0;for(let Gt=0;Gt<U.length;Gt++)if(0!==U.charCodeAt(Gt)){bt=Gt;break}U=U.slice(bt)}for(;$<U.length;){const bt=U.charCodeAt($++);$>=U.length&&(_e=1);const Gt=U.charCodeAt($++);$>=U.length&&(xe=1);const qt=U.charCodeAt($++),An=bt>>2,hn=(3&bt)<<4|Gt>>4;let di=(15&Gt)<<2|qt>>6,Pi=63&qt;1===_e?di=Pi=64:1===xe&&(Pi=64),ze+=d?64===di?`${nt.charAt(An)}${nt.charAt(hn)}`:64===Pi?`${nt.charAt(An)}${nt.charAt(hn)}${nt.charAt(di)}`:`${nt.charAt(An)}${nt.charAt(hn)}${nt.charAt(di)}${nt.charAt(Pi)}`:`${nt.charAt(An)}${nt.charAt(hn)}${nt.charAt(di)}${nt.charAt(Pi)}`}return ze}function W(U,H=!1,d=!1){const T=H?F:V;function $(nt){for(let bt=0;bt<64;bt++)if(T.charAt(bt)===nt)return bt;return 64}function _e(nt){return 64===nt?0:nt}let xe=0,ze="";for(;xe<U.length;){const nt=$(U.charAt(xe++)),bt=xe>=U.length?0:$(U.charAt(xe++)),Gt=xe>=U.length?0:$(U.charAt(xe++)),qt=xe>=U.length?0:$(U.charAt(xe++)),An=_e(nt)<<2|_e(bt)>>4,hn=(15&_e(bt))<<4|_e(Gt)>>2,di=(3&_e(Gt))<<6|_e(qt);ze+=String.fromCharCode(An),64!==Gt&&(ze+=String.fromCharCode(hn)),64!==qt&&(ze+=String.fromCharCode(di))}if(d){let bt=-1;for(let Gt=ze.length-1;Gt>=0;Gt--)if(0!==ze.charCodeAt(Gt)){bt=Gt;break}ze=-1!==bt?ze.slice(0,bt+1):""}return ze}function y(U){let H="";const d=new Uint8Array(U);for(const T of d)H+=String.fromCharCode(T);return H}function X(U){const H=U.length,d=new ArrayBuffer(H),T=new Uint8Array(d);for(let $=0;$<H;$++)T[$]=U.charCodeAt($);return d}const Z=Math.log(2);function v(U){const H=Math.log(U)/Z,d=Math.floor(H),T=Math.round(H);return d===T?d:T}function L(U,H){for(const d of H)delete U[d]}function Q(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function te(U){let H=0,d=0;for(let $=0;$<U.length;$++)H+=U[$].byteLength;const T=new Uint8Array(H);for(let $=0;$<U.length;$++){const _e=U[$];T.set(new Uint8Array(_e),d),d+=_e.byteLength}return T.buffer}function N(U,H,d,T){return H instanceof Uint8Array?H.byteLength?d<0?(U.error="Wrong parameter: inputOffset less than zero",!1):T<0?(U.error="Wrong parameter: inputLength less than zero",!1):!(H.byteLength-d-T<0&&(U.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(U.error="Wrong parameter: inputBuffer has zero length",!1):(U.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class fe{constructor(){this.items=[]}write(H){this.items.push(H)}final(){return te(this.items)}}const oe=[new Uint8Array([1])],R="0123456789",Fe="name",we="valueHexView",Ve=new ArrayBuffer(0),Xe=new Uint8Array(0),je="EndOfContent",ct="OCTET STRING",st="BIT STRING";function Qe(U){var H;return(H=class extends U{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(T){this.valueHexView=new Uint8Array(T)}constructor(...T){var $;super(...T);const _e=T[0]||{};this.isHexOnly=null!==($=_e.isHexOnly)&&void 0!==$&&$,this.valueHexView=_e.valueHex?f._H.toUint8Array(_e.valueHex):Xe}fromBER(T,$,_e){const xe=T instanceof ArrayBuffer?new Uint8Array(T):T;if(!N(this,xe,$,_e))return-1;const ze=$+_e;return this.valueHexView=xe.subarray($,ze),this.valueHexView.length?(this.blockLength=_e,ze):(this.warnings.push("Zero buffer length"),$)}toBER(T=!1){return this.isHexOnly?T?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Ve)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:f.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",H}let ne=(()=>{class U{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(d){this.valueBeforeDecodeView=new Uint8Array(d)}constructor({blockLength:d=0,error:T="",warnings:$=[],valueBeforeDecode:_e=Xe}={}){this.blockLength=d,this.error=T,this.warnings=$,this.valueBeforeDecodeView=f._H.toUint8Array(_e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:f.U$.ToHex(this.valueBeforeDecodeView)}}}return U.NAME="baseBlock",U})(),Y=(()=>{class U extends ne{fromBER(d,T,$){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(d,T){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return U.NAME="valueBlock",U})(),he=(()=>{class U extends(Qe(ne)){constructor({idBlock:d={}}={}){var T,$,_e,xe;super(),d?(this.isHexOnly=null!==(T=d.isHexOnly)&&void 0!==T&&T,this.valueHexView=d.valueHex?f._H.toUint8Array(d.valueHex):Xe,this.tagClass=null!==($=d.tagClass)&&void 0!==$?$:-1,this.tagNumber=null!==(_e=d.tagNumber)&&void 0!==_e?_e:-1,this.isConstructed=null!==(xe=d.isConstructed)&&void 0!==xe&&xe):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(d=!1){let T=0;switch(this.tagClass){case 1:T|=0;break;case 2:T|=64;break;case 3:T|=128;break;case 4:T|=192;break;default:return this.error="Unknown tag class",Ve}if(this.isConstructed&&(T|=32),this.tagNumber<31&&!this.isHexOnly){const _e=new Uint8Array(1);if(!d){let xe=this.tagNumber;xe&=31,T|=xe,_e[0]=T}return _e.buffer}if(!this.isHexOnly){const _e=S(this.tagNumber,7),xe=new Uint8Array(_e),ze=_e.byteLength,nt=new Uint8Array(ze+1);if(nt[0]=31|T,!d){for(let bt=0;bt<ze-1;bt++)nt[bt+1]=128|xe[bt];nt[ze]=xe[ze-1]}return nt.buffer}const $=new Uint8Array(this.valueHexView.byteLength+1);if($[0]=31|T,!d){const _e=this.valueHexView;for(let xe=0;xe<_e.length-1;xe++)$[xe+1]=128|_e[xe];$[this.valueHexView.byteLength]=_e[_e.length-1]}return $.buffer}fromBER(d,T,$){const _e=f._H.toUint8Array(d);if(!N(this,_e,T,$))return-1;const xe=_e.subarray(T,T+$);if(0===xe.length)return this.error="Zero buffer length",-1;switch(192&xe[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~xe[0]),this.isHexOnly=!1;const nt=31&xe[0];if(31!==nt)this.tagNumber=nt,this.blockLength=1;else{let bt=1,Gt=this.valueHexView=new Uint8Array(255),qt=255;for(;128&xe[bt];){if(Gt[bt-1]=127&xe[bt],bt++,bt>=xe.length)return this.error="End of input reached before message was fully decoded",-1;if(bt===qt){qt+=255;const hn=new Uint8Array(qt);for(let di=0;di<Gt.length;di++)hn[di]=Gt[di];Gt=this.valueHexView=new Uint8Array(qt)}}this.blockLength=bt+1,Gt[bt-1]=127&xe[bt];const An=new Uint8Array(bt);for(let hn=0;hn<bt;hn++)An[hn]=Gt[hn];Gt=this.valueHexView=new Uint8Array(bt),Gt.set(An),this.blockLength<=9?this.tagNumber=D(Gt,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return T+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return U.NAME="identificationBlock",U})(),ge=(()=>{class U extends ne{constructor({lenBlock:d={}}={}){var T,$,_e;super(),this.isIndefiniteForm=null!==(T=d.isIndefiniteForm)&&void 0!==T&&T,this.longFormUsed=null!==($=d.longFormUsed)&&void 0!==$&&$,this.length=null!==(_e=d.length)&&void 0!==_e?_e:0}fromBER(d,T,$){const _e=f._H.toUint8Array(d);if(!N(this,_e,T,$))return-1;const xe=_e.subarray(T,T+$);if(0===xe.length)return this.error="Zero buffer length",-1;if(255===xe[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===xe[0],this.isIndefiniteForm)return this.blockLength=1,T+this.blockLength;if(this.longFormUsed=!!(128&xe[0]),!1===this.longFormUsed)return this.length=xe[0],this.blockLength=1,T+this.blockLength;const ze=127&xe[0];if(ze>8)return this.error="Too big integer",-1;if(ze+1>xe.length)return this.error="End of input reached before message was fully decoded",-1;const nt=T+1,bt=_e.subarray(nt,nt+ze);return 0===bt[ze-1]&&this.warnings.push("Needlessly long encoded length"),this.length=D(bt,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ze+1,T+this.blockLength}toBER(d=!1){let T,$;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return T=new ArrayBuffer(1),!1===d&&($=new Uint8Array(T),$[0]=128),T;if(this.longFormUsed){const _e=S(this.length,8);if(_e.byteLength>127)return this.error="Too big length",Ve;if(T=new ArrayBuffer(_e.byteLength+1),d)return T;const xe=new Uint8Array(_e);$=new Uint8Array(T),$[0]=128|_e.byteLength;for(let ze=0;ze<_e.byteLength;ze++)$[ze+1]=xe[ze];return T}return T=new ArrayBuffer(1),!1===d&&($=new Uint8Array(T),$[0]=this.length),T}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return U.NAME="lengthBlock",U})();const s={};let dt=(()=>{class U extends ne{constructor({name:d="",optional:T=!1,primitiveSchema:$,..._e}={},xe){super(_e),this.name=d,this.optional=T,$&&(this.primitiveSchema=$),this.idBlock=new he(_e),this.lenBlock=new ge(_e),this.valueBlock=xe?new xe(_e):new Y(_e)}fromBER(d,T,$){const _e=this.valueBlock.fromBER(d,T,this.lenBlock.isIndefiniteForm?$:this.lenBlock.length);return-1===_e?(this.error=this.valueBlock.error,_e):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),_e)}toBER(d,T){const $=T||new fe;T||_t(this);const _e=this.idBlock.toBER(d);if($.write(_e),this.lenBlock.isIndefiniteForm)$.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(d,$),$.write(new ArrayBuffer(2));else{const xe=this.valueBlock.toBER(d);this.lenBlock.length=xe.byteLength;const ze=this.lenBlock.toBER(d);$.write(ze),$.write(xe)}return T?Ve:$.final()}toJSON(){const d={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(d.primitiveSchema=this.primitiveSchema.toJSON()),d}toString(d="ascii"){return"ascii"===d?this.onAsciiEncoding():f.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${f.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(d){return this===d||d instanceof this.constructor&&E(this.toBER(),d.toBER())}}return U.NAME="BaseBlock",U})();function _t(U){var H;if(U instanceof s.Constructed)for(const d of U.valueBlock.value)_t(d)&&(U.lenBlock.isIndefiniteForm=!0);return!(null===(H=U.lenBlock)||void 0===H||!H.isIndefiniteForm)}let en=(()=>{class U extends dt{getValue(){return this.valueBlock.value}setValue(d){this.valueBlock.value=d}constructor({value:d="",...T}={},$){super(T,$),d&&this.fromString(d)}fromBER(d,T,$){const _e=this.valueBlock.fromBER(d,T,this.lenBlock.isIndefiniteForm?$:this.lenBlock.length);return-1===_e?(this.error=this.valueBlock.error,_e):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),_e)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return U.NAME="BaseStringBlock",U})(),Cn=(()=>{class U extends(Qe(Y)){constructor({isHexOnly:d=!0,...T}={}){super(T),this.isHexOnly=d}}return U.NAME="PrimitiveValueBlock",U})();class tn extends dt{constructor(H={}){super(H,Cn),this.idBlock.isConstructed=!1}}function ni(U,H=0,d=U.length){const T=H;let $=new dt({},Y);const _e=new ne;if(!N(_e,U,H,d))return $.error=_e.error,{offset:-1,result:$};if(!U.subarray(H,H+d).length)return $.error="Zero buffer length",{offset:-1,result:$};let ze=$.idBlock.fromBER(U,H,d);if($.idBlock.warnings.length&&$.warnings.concat($.idBlock.warnings),-1===ze)return $.error=$.idBlock.error,{offset:-1,result:$};if(ze=$.lenBlock.fromBER(U,H=ze,d-=$.idBlock.blockLength),$.lenBlock.warnings.length&&$.warnings.concat($.lenBlock.warnings),-1===ze)return $.error=$.lenBlock.error,{offset:-1,result:$};if(H=ze,d-=$.lenBlock.blockLength,!$.idBlock.isConstructed&&$.lenBlock.isIndefiniteForm)return $.error="Indefinite length form used for primitive encoding form",{offset:-1,result:$};let nt=dt;if(1===$.idBlock.tagClass){if($.idBlock.tagNumber>=37&&!1===$.idBlock.isHexOnly)return $.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:$};switch($.idBlock.tagNumber){case 0:if($.idBlock.isConstructed&&$.lenBlock.length>0)return $.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:$};nt=s.EndOfContent;break;case 1:nt=s.Boolean;break;case 2:nt=s.Integer;break;case 3:nt=s.BitString;break;case 4:nt=s.OctetString;break;case 5:nt=s.Null;break;case 6:nt=s.ObjectIdentifier;break;case 10:nt=s.Enumerated;break;case 12:nt=s.Utf8String;break;case 13:nt=s.RelativeObjectIdentifier;break;case 14:nt=s.TIME;break;case 15:return $.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:$};case 16:nt=s.Sequence;break;case 17:nt=s.Set;break;case 18:nt=s.NumericString;break;case 19:nt=s.PrintableString;break;case 20:nt=s.TeletexString;break;case 21:nt=s.VideotexString;break;case 22:nt=s.IA5String;break;case 23:nt=s.UTCTime;break;case 24:nt=s.GeneralizedTime;break;case 25:nt=s.GraphicString;break;case 26:nt=s.VisibleString;break;case 27:nt=s.GeneralString;break;case 28:nt=s.UniversalString;break;case 29:nt=s.CharacterString;break;case 30:nt=s.BmpString;break;case 31:nt=s.DATE;break;case 32:nt=s.TimeOfDay;break;case 33:nt=s.DateTime;break;case 34:nt=s.Duration;break;default:{const bt=$.idBlock.isConstructed?new s.Constructed:new s.Primitive;bt.idBlock=$.idBlock,bt.lenBlock=$.lenBlock,bt.warnings=$.warnings,$=bt}}}else nt=$.idBlock.isConstructed?s.Constructed:s.Primitive;return $=function Ln(U,H){if(U instanceof H)return U;const d=new H;return d.idBlock=U.idBlock,d.lenBlock=U.lenBlock,d.warnings=U.warnings,d.valueBeforeDecodeView=U.valueBeforeDecodeView,d}($,nt),ze=$.fromBER(U,H,$.lenBlock.isIndefiniteForm?d:$.lenBlock.length),$.valueBeforeDecodeView=U.subarray(T,T+$.blockLength),{offset:ze,result:$}}function ft(U){if(!U.byteLength){const H=new dt({},Y);return H.error="Input buffer has zero length",{offset:-1,result:H}}return ni(f._H.toUint8Array(U).slice(),0,U.byteLength)}function Qt(U,H){return U?1:H}s.Primitive=tn,tn.NAME="PRIMITIVE";let pe=(()=>{class U extends Y{constructor({value:d=[],isIndefiniteForm:T=!1,...$}={}){super($),this.value=d,this.isIndefiniteForm=T}fromBER(d,T,$){const _e=f._H.toUint8Array(d);if(!N(this,_e,T,$))return-1;if(this.valueBeforeDecodeView=_e.subarray(T,T+$),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),T;let xe=T;for(;Qt(this.isIndefiniteForm,$)>0;){const ze=ni(_e,xe,$);if(-1===ze.offset)return this.error=ze.result.error,this.warnings.concat(ze.result.warnings),-1;if(xe=ze.offset,this.blockLength+=ze.result.blockLength,$-=ze.result.blockLength,this.value.push(ze.result),this.isIndefiniteForm&&ze.result.constructor.NAME===je)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===je?this.value.pop():this.warnings.push("No EndOfContent block encoded")),xe}toBER(d,T){const $=T||new fe;for(let _e=0;_e<this.value.length;_e++)this.value[_e].toBER(d,$);return T?Ve:$.final()}toJSON(){const d={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const T of this.value)d.value.push(T.toJSON());return d}}return U.NAME="ConstructedValueBlock",U})();class P extends dt{constructor(H={}){super(H,pe),this.idBlock.isConstructed=!0}fromBER(H,d,T){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const $=this.valueBlock.fromBER(H,d,this.lenBlock.isIndefiniteForm?T:this.lenBlock.length);return-1===$?(this.error=this.valueBlock.error,$):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),$)}onAsciiEncoding(){const H=[];for(const T of this.valueBlock.value)H.push(T.toString("ascii").split("\n").map($=>`  ${$}`).join("\n"));const d=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return H.length?`${d} :\n${H.join("\n")}`:`${d} :`}}s.Constructed=P,P.NAME="CONSTRUCTED";let q=(()=>{class U extends Y{fromBER(d,T,$){return T}toBER(d){return Ve}}return U.override="EndOfContentValueBlock",U})();class De extends dt{constructor(H={}){super(H,q),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}s.EndOfContent=De,De.NAME=je;class gt extends dt{constructor(H={}){super(H,Y),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(H,d,T){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=T,d+T>H.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):d+T}toBER(H,d){const T=new ArrayBuffer(2);if(!H){const $=new Uint8Array(T);$[0]=5,$[1]=0}return d&&d.write(T),T}onAsciiEncoding(){return`${this.constructor.NAME}`}}s.Null=gt,gt.NAME="NULL";let Kt=(()=>{class U extends(Qe(Y)){get value(){for(const d of this.valueHexView)if(d>0)return!0;return!1}set value(d){this.valueHexView[0]=d?255:0}constructor({value:d,...T}={}){super(T),this.valueHexView=T.valueHex?f._H.toUint8Array(T.valueHex):new Uint8Array(1),d&&(this.value=d)}fromBER(d,T,$){const _e=f._H.toUint8Array(d);return N(this,_e,T,$)?(this.valueHexView=_e.subarray(T,T+$),$>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,z.call(this),this.blockLength=$,T+$):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return U.NAME="BooleanValueBlock",U})();class Rn extends dt{getValue(){return this.valueBlock.value}setValue(H){this.valueBlock.value=H}constructor(H={}){super(H,Kt),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}s.Boolean=Rn,Rn.NAME="BOOLEAN";let Kn=(()=>{class U extends(Qe(pe)){constructor({isConstructed:d=!1,...T}={}){super(T),this.isConstructed=d}fromBER(d,T,$){let _e=0;if(this.isConstructed){if(this.isHexOnly=!1,_e=pe.prototype.fromBER.call(this,d,T,$),-1===_e)return _e;for(let xe=0;xe<this.value.length;xe++){const ze=this.value[xe].constructor.NAME;if(ze===je){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(ze!==ct)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,_e=super.fromBER(d,T,$),this.blockLength=$;return _e}toBER(d,T){return this.isConstructed?pe.prototype.toBER.call(this,d,T):d?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return U.NAME="OctetStringValueBlock",U})();var ei;class Ot extends dt{constructor({idBlock:H={},lenBlock:d={},...T}={}){var $,_e;null!==($=T.isConstructed)&&void 0!==$||(T.isConstructed=!(null===(_e=T.value)||void 0===_e||!_e.length)),super({idBlock:{isConstructed:T.isConstructed,...H},lenBlock:{...d,isIndefiniteForm:!!T.isIndefiniteForm},...T},Kn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(H,d,T){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===T)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),d;if(!this.valueBlock.isConstructed){const _e=(H instanceof ArrayBuffer?new Uint8Array(H):H).subarray(d,d+T);try{if(_e.byteLength){const xe=ni(_e,0,_e.byteLength);-1!==xe.offset&&xe.offset===T&&(this.valueBlock.value=[xe.result])}}catch{}}return super.fromBER(H,d,T)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?P.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${f.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const H=[];for(const d of this.valueBlock.value)d instanceof ei&&H.push(d.valueBlock.valueHexView);return f._H.concat(H)}}s.OctetString=ei=Ot,Ot.NAME=ct;let Gn=(()=>{class U extends(Qe(pe)){constructor({unusedBits:d=0,isConstructed:T=!1,...$}={}){super($),this.unusedBits=d,this.isConstructed=T,this.blockLength=this.valueHexView.byteLength}fromBER(d,T,$){if(!$)return T;let _e=-1;if(this.isConstructed){if(_e=pe.prototype.fromBER.call(this,d,T,$),-1===_e)return _e;for(const nt of this.value){const bt=nt.constructor.NAME;if(bt===je){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(bt!==st)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const Gt=nt.valueBlock;if(this.unusedBits>0&&Gt.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=Gt.unusedBits}return _e}const xe=f._H.toUint8Array(d);if(!N(this,xe,T,$))return-1;const ze=xe.subarray(T,T+$);if(this.unusedBits=ze[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const nt=ze.subarray(1);try{if(nt.byteLength){const bt=ni(nt,0,nt.byteLength);-1!==bt.offset&&bt.offset===$-1&&(this.value=[bt.result])}}catch{}}return this.valueHexView=ze.subarray(1),this.blockLength=ze.length,T+$}toBER(d,T){if(this.isConstructed)return pe.prototype.toBER.call(this,d,T);if(d)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Ve;const $=new Uint8Array(this.valueHexView.length+1);return $[0]=this.unusedBits,$.set(this.valueHexView,1),$.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return U.NAME="BitStringValueBlock",U})();var In,os;class Tn extends dt{constructor({idBlock:H={},lenBlock:d={},...T}={}){var $,_e;null!==($=T.isConstructed)&&void 0!==$||(T.isConstructed=!(null===(_e=T.value)||void 0===_e||!_e.length)),super({idBlock:{isConstructed:T.isConstructed,...H},lenBlock:{...d,isIndefiniteForm:!!T.isIndefiniteForm},...T},Gn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(H,d,T){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(H,d,T)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return P.prototype.onAsciiEncoding.call(this);{const H=[],d=this.valueBlock.valueHexView;for(const xe of d)H.push(xe.toString(2).padStart(8,"0"));const T=H.join("");return`${this.constructor.NAME} : ${T.substring(0,T.length-this.valueBlock.unusedBits)}`}}}function rs(U,H){const d=new Uint8Array([0]),T=new Uint8Array(U),$=new Uint8Array(H);let _e=T.slice(0);const xe=_e.length-1,ze=$.slice(0),nt=ze.length-1;let bt=0,qt=0;for(let An=nt<xe?xe:nt;An>=0;An--,qt++)bt=1==qt<ze.length?_e[xe-qt]+ze[nt-qt]+d[0]:_e[xe-qt]+d[0],d[0]=bt/10,1==qt>=_e.length?_e=k(new Uint8Array([bt%10]),_e):_e[xe-qt]=bt%10;return d[0]>0&&(_e=k(d,_e)),_e}function _i(U){if(U>=oe.length)for(let H=oe.length;H<=U;H++){const d=new Uint8Array([0]);let T=oe[H-1].slice(0);for(let $=T.length-1;$>=0;$--){const _e=new Uint8Array([(T[$]<<1)+d[0]]);d[0]=_e[0]/10,T[$]=_e[0]%10}d[0]>0&&(T=k(d,T)),oe.push(T)}return oe[U]}function Bi(U,H){let d=0;const T=new Uint8Array(U),$=new Uint8Array(H),_e=T.slice(0),xe=_e.length-1,ze=$.slice(0),nt=ze.length-1;let bt,Gt=0;for(let qt=nt;qt>=0;qt--,Gt++)bt=_e[xe-Gt]-ze[nt-Gt]-d,1==bt<0?(d=1,_e[xe-Gt]=bt+10):(d=0,_e[xe-Gt]=bt);if(d>0)for(let qt=xe-nt+1;qt>=0;qt--,Gt++){if(bt=_e[xe-Gt]-d,!(bt<0)){d=0,_e[xe-Gt]=bt;break}d=1,_e[xe-Gt]=bt+10}return _e.slice()}s.BitString=Tn,Tn.NAME=st;class Ni extends(Qe(Y)){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=z.call(this)))}constructor({value:H,...d}={}){super(d),this._valueDec=0,d.valueHex&&this.setValueHex(),void 0!==H&&(this.valueDec=H)}set valueDec(H){this._valueDec=H,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function u(U){const H=U<0?-1*U:U;let d=128;for(let T=1;T<8;T++){if(H<=d){if(U<0){const ze=S(d-H,8,T);return new Uint8Array(ze)[0]|=128,ze}let $=S(H,8,T),_e=new Uint8Array($);if(128&_e[0]){const xe=$.slice(0),ze=new Uint8Array(xe);$=new ArrayBuffer($.byteLength+1),_e=new Uint8Array($);for(let nt=0;nt<xe.byteLength;nt++)_e[nt+1]=ze[nt];_e[0]=0}return $}d*=Math.pow(2,8)}return new ArrayBuffer(0)}(H))}get valueDec(){return this._valueDec}fromDER(H,d,T,$=0){const _e=this.fromBER(H,d,T);if(-1===_e)return _e;const xe=this.valueHexView;return 0===xe[0]&&128&xe[1]?this.valueHexView=xe.subarray(1):0!==$&&xe.length<$&&($-xe.length>1&&($=xe.length+1),this.valueHexView=xe.subarray($-xe.length)),_e}toDER(H=!1){const d=this.valueHexView;switch(!0){case!!(128&d[0]):{const T=new Uint8Array(this.valueHexView.length+1);T[0]=0,T.set(d,1),this.valueHexView=T}break;case 0===d[0]&&!(128&d[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(H)}fromBER(H,d,T){const $=super.fromBER(H,d,T);return-1===$||this.setValueHex(),$}toBER(H){return H?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const H=8*this.valueHexView.length-1;let $,d=new Uint8Array(8*this.valueHexView.length/3),T=0;const _e=this.valueHexView;let xe="",ze=!1;for(let nt=_e.byteLength-1;nt>=0;nt--){$=_e[nt];for(let bt=0;bt<8;bt++)1&~$||(T===H?(d=Bi(_i(T),d),xe="-"):d=rs(d,_i(T))),T++,$>>=1}for(let nt=0;nt<d.length;nt++)d[nt]&&(ze=!0),ze&&(xe+=R.charAt(d[nt]));return!1===ze&&(xe+=R.charAt(0)),xe}}In=Ni,Ni.NAME="IntegerValueBlock",Object.defineProperty(In.prototype,"valueHex",{set:function(U){this.valueHexView=new Uint8Array(U),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class zn extends dt{constructor(H={}){super(H,Ni),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Q(),BigInt(this.valueBlock.toString())}static fromBigInt(H){Q();const d=BigInt(H),T=new fe,$=d.toString(16).replace(/^-/,""),_e=new Uint8Array(f.U$.FromHex($));if(d<0){const ze=new Uint8Array(_e.length+(128&_e[0]?1:0));ze[0]|=128;const bt=BigInt(`0x${f.U$.ToHex(ze)}`)+d,Gt=f._H.toUint8Array(f.U$.FromHex(bt.toString(16)));Gt[0]|=128,T.write(Gt)}else 128&_e[0]&&T.write(new Uint8Array([0])),T.write(_e);return new os({valueHex:T.final()})}convertToDER(){const H=new os({valueHex:this.valueBlock.valueHexView});return H.valueBlock.toDER(),H}convertFromDER(){return new os({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}s.Integer=os=zn,zn.NAME="INTEGER";class xi extends zn{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}s.Enumerated=xi,xi.NAME="ENUMERATED";let wt=(()=>{class U extends(Qe(Y)){constructor({valueDec:d=-1,isFirstSid:T=!1,...$}={}){super($),this.valueDec=d,this.isFirstSid=T}fromBER(d,T,$){if(!$)return T;const _e=f._H.toUint8Array(d);if(!N(this,_e,T,$))return-1;const xe=_e.subarray(T,T+$);this.valueHexView=new Uint8Array($);for(let nt=0;nt<$&&(this.valueHexView[nt]=127&xe[nt],this.blockLength++,128&xe[nt]);nt++);const ze=new Uint8Array(this.blockLength);for(let nt=0;nt<this.blockLength;nt++)ze[nt]=this.valueHexView[nt];return this.valueHexView=ze,128&xe[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=D(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),T+this.blockLength)}set valueBigInt(d){Q();let T=BigInt(d).toString(2);for(;T.length%7;)T="0"+T;const $=new Uint8Array(T.length/7);for(let _e=0;_e<$.length;_e++)$[_e]=parseInt(T.slice(7*_e,7*_e+7),2)+(_e+1<$.length?128:0);this.fromBER($.buffer,0,$.length)}toBER(d){if(this.isHexOnly){if(d)return new ArrayBuffer(this.valueHexView.byteLength);const _e=this.valueHexView,xe=new Uint8Array(this.blockLength);for(let ze=0;ze<this.blockLength-1;ze++)xe[ze]=128|_e[ze];return xe[this.blockLength-1]=_e[this.blockLength-1],xe.buffer}const T=S(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",Ve;const $=new Uint8Array(T.byteLength);if(!d){const _e=new Uint8Array(T),xe=T.byteLength-1;for(let ze=0;ze<xe;ze++)$[ze]=128|_e[ze];$[xe]=_e[xe]}return $}toString(){let d="";if(this.isHexOnly)d=f.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let T=this.valueDec;this.valueDec<=39?d="0.":this.valueDec<=79?(d="1.",T-=40):(d="2.",T-=80),d+=T.toString()}else d=this.valueDec.toString();return d}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return U.NAME="sidBlock",U})(),Tt=(()=>{class U extends Y{constructor({value:d="",...T}={}){super(T),this.value=[],d&&this.fromString(d)}fromBER(d,T,$){let _e=T;for(;$>0;){const xe=new wt;if(_e=xe.fromBER(d,_e,$),-1===_e)return this.blockLength=0,this.error=xe.error,_e;0===this.value.length&&(xe.isFirstSid=!0),this.blockLength+=xe.blockLength,$-=xe.blockLength,this.value.push(xe)}return _e}toBER(d){const T=[];for(let $=0;$<this.value.length;$++){const _e=this.value[$].toBER(d);if(0===_e.byteLength)return this.error=this.value[$].error,Ve;T.push(_e)}return te(T)}fromString(d){this.value=[];let T=0,$=0,_e="",xe=!1;do{if($=d.indexOf(".",T),_e=-1===$?d.substring(T):d.substring(T,$),T=$+1,xe){const ze=this.value[0];let nt=0;switch(ze.valueDec){case 0:break;case 1:nt=40;break;case 2:nt=80;break;default:return void(this.value=[])}const bt=parseInt(_e,10);if(isNaN(bt))return;ze.valueDec=bt+nt,xe=!1}else{const ze=new wt;if(_e>Number.MAX_SAFE_INTEGER){Q();const nt=BigInt(_e);ze.valueBigInt=nt}else if(ze.valueDec=parseInt(_e,10),isNaN(ze.valueDec))return;this.value.length||(ze.isFirstSid=!0,xe=!0),this.value.push(ze)}}while(-1!==$)}toString(){let d="",T=!1;for(let $=0;$<this.value.length;$++){T=this.value[$].isHexOnly;let _e=this.value[$].toString();0!==$&&(d=`${d}.`),T?(_e=`{${_e}}`,this.value[$].isFirstSid?d=`2.{${_e} - 80}`:d+=_e):d+=_e}return d}toJSON(){const d={...super.toJSON(),value:this.toString(),sidArray:[]};for(let T=0;T<this.value.length;T++)d.sidArray.push(this.value[T].toJSON());return d}}return U.NAME="ObjectIdentifierValueBlock",U})();class Wt extends dt{getValue(){return this.valueBlock.toString()}setValue(H){this.valueBlock.fromString(H)}constructor(H={}){super(H,Tt),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}s.ObjectIdentifier=Wt,Wt.NAME="OBJECT IDENTIFIER";let un=(()=>{class U extends(Qe(ne)){constructor({valueDec:d=0,...T}={}){super(T),this.valueDec=d}fromBER(d,T,$){if(0===$)return T;const _e=f._H.toUint8Array(d);if(!N(this,_e,T,$))return-1;const xe=_e.subarray(T,T+$);this.valueHexView=new Uint8Array($);for(let nt=0;nt<$&&(this.valueHexView[nt]=127&xe[nt],this.blockLength++,128&xe[nt]);nt++);const ze=new Uint8Array(this.blockLength);for(let nt=0;nt<this.blockLength;nt++)ze[nt]=this.valueHexView[nt];return this.valueHexView=ze,128&xe[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=D(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),T+this.blockLength)}toBER(d){if(this.isHexOnly){if(d)return new ArrayBuffer(this.valueHexView.byteLength);const _e=this.valueHexView,xe=new Uint8Array(this.blockLength);for(let ze=0;ze<this.blockLength-1;ze++)xe[ze]=128|_e[ze];return xe[this.blockLength-1]=_e[this.blockLength-1],xe.buffer}const T=S(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",Ve;const $=new Uint8Array(T.byteLength);if(!d){const _e=new Uint8Array(T),xe=T.byteLength-1;for(let ze=0;ze<xe;ze++)$[ze]=128|_e[ze];$[xe]=_e[xe]}return $.buffer}toString(){let d="";return d=this.isHexOnly?f.U$.ToHex(this.valueHexView):this.valueDec.toString(),d}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return U.NAME="relativeSidBlock",U})(),ii=(()=>{class U extends Y{constructor({value:d="",...T}={}){super(T),this.value=[],d&&this.fromString(d)}fromBER(d,T,$){let _e=T;for(;$>0;){const xe=new un;if(_e=xe.fromBER(d,_e,$),-1===_e)return this.blockLength=0,this.error=xe.error,_e;this.blockLength+=xe.blockLength,$-=xe.blockLength,this.value.push(xe)}return _e}toBER(d,T){const $=[];for(let _e=0;_e<this.value.length;_e++){const xe=this.value[_e].toBER(d);if(0===xe.byteLength)return this.error=this.value[_e].error,Ve;$.push(xe)}return te($)}fromString(d){this.value=[];let T=0,$=0,_e="";do{$=d.indexOf(".",T),_e=-1===$?d.substring(T):d.substring(T,$),T=$+1;const xe=new un;if(xe.valueDec=parseInt(_e,10),isNaN(xe.valueDec))return!0;this.value.push(xe)}while(-1!==$);return!0}toString(){let d="",T=!1;for(let $=0;$<this.value.length;$++){T=this.value[$].isHexOnly;let _e=this.value[$].toString();0!==$&&(d=`${d}.`),T&&(_e=`{${_e}}`),d+=_e}return d}toJSON(){const d={...super.toJSON(),value:this.toString(),sidArray:[]};for(let T=0;T<this.value.length;T++)d.sidArray.push(this.value[T].toJSON());return d}}return U.NAME="RelativeObjectIdentifierValueBlock",U})();class Ii extends dt{getValue(){return this.valueBlock.toString()}setValue(H){this.valueBlock.fromString(H)}constructor(H={}){super(H,ii),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}s.RelativeObjectIdentifier=Ii,Ii.NAME="RelativeObjectIdentifier";class Dn extends P{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}s.Sequence=Dn,Dn.NAME="SEQUENCE";class ji extends P{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}s.Set=ji,ji.NAME="SET";let zi=(()=>{class U extends(Qe(Y)){constructor({...d}={}){super(d),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return U.NAME="StringValueBlock",U})(),ls=(()=>{class U extends zi{}return U.NAME="SimpleStringValueBlock",U})(),ut=(()=>{class U extends en{constructor({...d}={}){super(d,ls)}fromBuffer(d){this.valueBlock.value=String.fromCharCode.apply(null,f._H.toUint8Array(d))}fromString(d){const T=d.length,$=this.valueBlock.valueHexView=new Uint8Array(T);for(let _e=0;_e<T;_e++)$[_e]=d.charCodeAt(_e);this.valueBlock.value=d}}return U.NAME="SIMPLE STRING",U})(),Rt=(()=>{class U extends ut{fromBuffer(d){this.valueBlock.valueHexView=f._H.toUint8Array(d);try{this.valueBlock.value=f.U$.ToUtf8String(d)}catch(T){this.warnings.push(`Error during "decodeURIComponent": ${T}, using raw string`),this.valueBlock.value=f.U$.ToBinary(d)}}fromString(d){this.valueBlock.valueHexView=new Uint8Array(f.U$.FromUtf8String(d)),this.valueBlock.value=d}}return U.NAME="Utf8StringValueBlock",U})();class nn extends Rt{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}s.Utf8String=nn,nn.NAME="UTF8String";let Vn=(()=>{class U extends ut{fromBuffer(d){this.valueBlock.value=f.U$.ToUtf16String(d),this.valueBlock.valueHexView=f._H.toUint8Array(d)}fromString(d){this.valueBlock.value=d,this.valueBlock.valueHexView=new Uint8Array(f.U$.FromUtf16String(d))}}return U.NAME="BmpStringValueBlock",U})();class Xn extends Vn{constructor({...H}={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}s.BmpString=Xn,Xn.NAME="BMPString";let qn=(()=>{class U extends ut{fromBuffer(d){const T=ArrayBuffer.isView(d)?d.slice().buffer:d.slice(0),$=new Uint8Array(T);for(let _e=0;_e<$.length;_e+=4)$[_e]=$[_e+3],$[_e+1]=$[_e+2],$[_e+2]=0,$[_e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(T))}fromString(d){const T=d.length,$=this.valueBlock.valueHexView=new Uint8Array(4*T);for(let _e=0;_e<T;_e++){const xe=S(d.charCodeAt(_e),8),ze=new Uint8Array(xe);if(ze.length>4)continue;const nt=4-ze.length;for(let bt=ze.length-1;bt>=0;bt--)$[4*_e+bt+nt]=ze[bt]}this.valueBlock.value=d}}return U.NAME="UniversalStringValueBlock",U})();class oi extends qn{constructor({...H}={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}s.UniversalString=oi,oi.NAME="UniversalString";class Un extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}s.NumericString=Un,Un.NAME="NumericString";class Qn extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}s.PrintableString=Qn,Qn.NAME="PrintableString";class Be extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}s.TeletexString=Be,Be.NAME="TeletexString";class ht extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}s.VideotexString=ht,ht.NAME="VideotexString";class Jt extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}s.IA5String=Jt,Jt.NAME="IA5String";class hi extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}s.GraphicString=hi,hi.NAME="GraphicString";class Nn extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}s.VisibleString=Nn,Nn.NAME="VisibleString";class Ji extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}s.GeneralString=Ji,Ji.NAME="GeneralString";class $t extends ut{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}s.CharacterString=$t,$t.NAME="CharacterString";class Et extends Nn{constructor({value:H,valueDate:d,...T}={}){if(super(T),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,H){this.fromString(H),this.valueBlock.valueHexView=new Uint8Array(H.length);for(let $=0;$<H.length;$++)this.valueBlock.valueHexView[$]=H.charCodeAt($)}d&&(this.fromDate(d),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(H){this.fromString(String.fromCharCode.apply(null,f._H.toUint8Array(H)))}toBuffer(){const H=this.toString(),d=new ArrayBuffer(H.length),T=new Uint8Array(d);for(let $=0;$<H.length;$++)T[$]=H.charCodeAt($);return d}fromDate(H){this.year=H.getUTCFullYear(),this.month=H.getUTCMonth()+1,this.day=H.getUTCDate(),this.hour=H.getUTCHours(),this.minute=H.getUTCMinutes(),this.second=H.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(H){const T=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(H);if(null===T)return void(this.error="Wrong input string for conversion");const $=parseInt(T[1],10);this.year=$>=50?1900+$:2e3+$,this.month=parseInt(T[2],10),this.day=parseInt(T[3],10),this.hour=parseInt(T[4],10),this.minute=parseInt(T[5],10),this.second=parseInt(T[6],10)}toString(H="iso"){if("iso"===H){const d=new Array(7);return d[0]=B(this.year<2e3?this.year-1900:this.year-2e3,2),d[1]=B(this.month,2),d[2]=B(this.day,2),d[3]=B(this.hour,2),d[4]=B(this.minute,2),d[5]=B(this.second,2),d[6]="Z",d.join("")}return super.toString(H)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}s.UTCTime=Et,Et.NAME="UTCTime";class Yt extends Et{constructor(H={}){var d;super(H),null!==(d=this.millisecond)&&void 0!==d||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(H){super.fromDate(H),this.millisecond=H.getUTCMilliseconds()}toDate(){const H=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(H)}fromString(H){let xe,d=!1,T="",$="",_e=0,ze=0,nt=0;if("Z"===H[H.length-1])T=H.substring(0,H.length-1),d=!0;else{const qt=new Number(H[H.length-1]);if(isNaN(qt.valueOf()))throw new Error("Wrong input string for conversion");T=H}if(d){if(-1!==T.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==T.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let qt=1,An=T.indexOf("+"),hn="";if(-1===An&&(An=T.indexOf("-"),qt=-1),-1!==An){if(hn=T.substring(An+1),T=T.substring(0,An),2!==hn.length&&4!==hn.length)throw new Error("Wrong input string for conversion");let di=parseInt(hn.substring(0,2),10);if(isNaN(di.valueOf()))throw new Error("Wrong input string for conversion");if(ze=qt*di,4===hn.length){if(di=parseInt(hn.substring(2,4),10),isNaN(di.valueOf()))throw new Error("Wrong input string for conversion");nt=qt*di}}}let bt=T.indexOf(".");if(-1===bt&&(bt=T.indexOf(",")),-1!==bt){const qt=new Number(`0${T.substring(bt)}`);if(isNaN(qt.valueOf()))throw new Error("Wrong input string for conversion");_e=qt.valueOf(),$=T.substring(0,bt)}else $=T;switch(!0){case 8===$.length:if(xe=/(\d{4})(\d{2})(\d{2})/gi,-1!==bt)throw new Error("Wrong input string for conversion");break;case 10===$.length:if(xe=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==bt){let qt=60*_e;this.minute=Math.floor(qt),qt=60*(qt-this.minute),this.second=Math.floor(qt),qt=1e3*(qt-this.second),this.millisecond=Math.floor(qt)}break;case 12===$.length:if(xe=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==bt){let qt=60*_e;this.second=Math.floor(qt),qt=1e3*(qt-this.second),this.millisecond=Math.floor(qt)}break;case 14===$.length:xe=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==bt&&(this.millisecond=Math.floor(1e3*_e));break;default:throw new Error("Wrong input string for conversion")}const Gt=xe.exec($);if(null===Gt)throw new Error("Wrong input string for conversion");for(let qt=1;qt<Gt.length;qt++)switch(qt){case 1:this.year=parseInt(Gt[qt],10);break;case 2:this.month=parseInt(Gt[qt],10);break;case 3:this.day=parseInt(Gt[qt],10);break;case 4:this.hour=parseInt(Gt[qt],10)+ze;break;case 5:this.minute=parseInt(Gt[qt],10)+nt;break;case 6:this.second=parseInt(Gt[qt],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===d){const qt=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=qt.getUTCFullYear(),this.month=qt.getUTCMonth(),this.day=qt.getUTCDay(),this.hour=qt.getUTCHours(),this.minute=qt.getUTCMinutes(),this.second=qt.getUTCSeconds(),this.millisecond=qt.getUTCMilliseconds()}}toString(H="iso"){if("iso"===H){const d=[];return d.push(B(this.year,4)),d.push(B(this.month,2)),d.push(B(this.day,2)),d.push(B(this.hour,2)),d.push(B(this.minute,2)),d.push(B(this.second,2)),0!==this.millisecond&&(d.push("."),d.push(B(this.millisecond,3))),d.push("Z"),d.join("")}return super.toString(H)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}s.GeneralizedTime=Yt,Yt.NAME="GeneralizedTime";class Qi extends nn{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}s.DATE=Qi,Qi.NAME="DATE";class ue extends nn{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}s.TimeOfDay=ue,ue.NAME="TimeOfDay";class ae extends nn{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}s.DateTime=ae,ae.NAME="DateTime";class Pe extends nn{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}s.Duration=Pe,Pe.NAME="Duration";class pn extends nn{constructor(H={}){super(H),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}s.TIME=pn,pn.NAME="TIME";class Bn{constructor({name:H="",optional:d=!1}={}){this.name=H,this.optional=d}}class Wi extends Bn{constructor({value:H=[],...d}={}){super(d),this.value=H}}class Di extends Bn{constructor({value:H=new Bn,local:d=!1,...T}={}){super(T),this.value=H,this.local=d}}class Li{get data(){return this.dataView.slice().buffer}set data(H){this.dataView=f._H.toUint8Array(H)}constructor({data:H=Xe}={}){this.dataView=f._H.toUint8Array(H)}fromBER(H,d,T){const $=d+T;return this.dataView=f._H.toUint8Array(H).subarray(d,$),$}toBER(H){return this.dataView.slice().buffer}}function li(U,H,d){if(d instanceof Wi){for(const _e of d.value)if(li(U,H,_e).verified)return{verified:!0,result:U};{const _e={verified:!1,result:{error:"Wrong values for Choice type"}};return d.hasOwnProperty(Fe)&&(_e.name=d.name),_e}}if(d instanceof Bn)return d.hasOwnProperty(Fe)&&(U[d.name]=H),{verified:!0,result:U};if(!(U instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(H instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(d instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in d))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const T=d.idBlock.toBER(!1);if(0===T.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===d.idBlock.fromBER(T,0,T.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===d.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.tagClass!==H.idBlock.tagClass)return{verified:!1,result:U};if(!1===d.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.tagNumber!==H.idBlock.tagNumber)return{verified:!1,result:U};if(!1===d.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.isConstructed!==H.idBlock.isConstructed)return{verified:!1,result:U};if(!("isHexOnly"in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(d.idBlock.isHexOnly!==H.idBlock.isHexOnly)return{verified:!1,result:U};if(d.idBlock.isHexOnly){if(!(we in d.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const _e=d.idBlock.valueHexView,xe=H.idBlock.valueHexView;if(_e.length!==xe.length)return{verified:!1,result:U};for(let ze=0;ze<_e.length;ze++)if(_e[ze]!==xe[1])return{verified:!1,result:U}}if(d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(U[d.name]=H)),d instanceof s.Constructed){let _e=0,xe={verified:!1,result:{error:"Unknown error"}},ze=d.valueBlock.value.length;if(ze>0&&d.valueBlock.value[0]instanceof Di&&(ze=H.valueBlock.value.length),0===ze)return{verified:!0,result:U};if(0===H.valueBlock.value.length&&0!==d.valueBlock.value.length){let nt=!0;for(let bt=0;bt<d.valueBlock.value.length;bt++)nt=nt&&(d.valueBlock.value[bt].optional||!1);return nt?{verified:!0,result:U}:(d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&delete U[d.name]),U.error="Inconsistent object length",{verified:!1,result:U})}for(let nt=0;nt<ze;nt++)if(nt-_e>=H.valueBlock.value.length){if(!1===d.valueBlock.value[nt].optional){const bt={verified:!1,result:U};return U.error="Inconsistent length between ASN.1 data and schema",d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(delete U[d.name],bt.name=d.name)),bt}}else if(d.valueBlock.value[0]instanceof Di){if(xe=li(U,H.valueBlock.value[nt],d.valueBlock.value[0].value),!1===xe.verified){if(!d.valueBlock.value[0].optional)return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&delete U[d.name]),xe;_e++}if(Fe in d.valueBlock.value[0]&&d.valueBlock.value[0].name.length>0){let bt={};bt="local"in d.valueBlock.value[0]&&d.valueBlock.value[0].local?H:U,typeof bt[d.valueBlock.value[0].name]>"u"&&(bt[d.valueBlock.value[0].name]=[]),bt[d.valueBlock.value[0].name].push(H.valueBlock.value[nt])}}else if(xe=li(U,H.valueBlock.value[nt-_e],d.valueBlock.value[nt]),!1===xe.verified){if(!d.valueBlock.value[nt].optional)return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&delete U[d.name]),xe;_e++}if(!1===xe.verified){const nt={verified:!1,result:U};return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(delete U[d.name],nt.name=d.name)),nt}return{verified:!0,result:U}}if(d.primitiveSchema&&we in H.valueBlock){const _e=ni(H.valueBlock.valueHexView);if(-1===_e.offset){const xe={verified:!1,result:_e.result};return d.name&&(d.name=d.name.replace(/^\s+|\s+$/g,""),d.name&&(delete U[d.name],xe.name=d.name)),xe}return li(U,_e.result,d.primitiveSchema)}return{verified:!0,result:U}}class Yi{constructor(H={}){if("view"in H)this.fromUint8Array(H.view);else if("buffer"in H)this.fromArrayBuffer(H.buffer);else if("string"in H)this.fromString(H.string);else if("hexstring"in H)this.fromHexString(H.hexstring);else if("length"in H&&H.length>0){if(this.length=H.length,H.stub)for(let d=0;d<this._view.length;d++)this._view[d]=H.stub}else this.length=0}set buffer(H){this._buffer=H,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(H){this._buffer=new ArrayBuffer(H.length),this._view=new Uint8Array(this._buffer),this._view.set(H)}get view(){return this._view}get length(){return this.view.byteLength}set length(H){this._buffer=new ArrayBuffer(H),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(H){this._buffer=H,this._view=new Uint8Array(this._buffer)}fromUint8Array(H){this.fromArrayBuffer(new Uint8Array(H).buffer)}fromString(H){const d=H.length;this.length=d;for(let T=0;T<d;T++)this.view[T]=H.charCodeAt(T)}toString(H=0,d=this.view.length-H){let T="";(H>=this.view.length||H<0)&&(H=0),(d>=this.view.length||d<0)&&(d=this.view.length-H);for(let $=H;$<H+d;$++)T+=String.fromCharCode(this.view[$]);return T}fromHexString(H){const d=H.length;this.buffer=new ArrayBuffer(d>>1),this.view=new Uint8Array(this.buffer);const T=new Map;T.set("0",0),T.set("1",1),T.set("2",2),T.set("3",3),T.set("4",4),T.set("5",5),T.set("6",6),T.set("7",7),T.set("8",8),T.set("9",9),T.set("A",10),T.set("a",10),T.set("B",11),T.set("b",11),T.set("C",12),T.set("c",12),T.set("D",13),T.set("d",13),T.set("E",14),T.set("e",14),T.set("F",15),T.set("f",15);let $=0,_e=0;for(let xe=0;xe<d;xe++)xe%2?(_e|=T.get(H.charAt(xe)),this.view[$]=_e,$++):_e=T.get(H.charAt(xe))<<4}toHexString(H=0,d=this.view.length-H){let T="";(H>=this.view.length||H<0)&&(H=0),(d>=this.view.length||d<0)&&(d=this.view.length-H);for(let $=H;$<H+d;$++){const _e=this.view[$].toString(16).toUpperCase();T=T+(1==_e.length?"0":"")+_e}return T}copy(H=0,d=this.length-H){if(!H&&!this.length)return new Yi;if(H<0||H>this.length-1)throw new Error(`Wrong start position: ${H}`);return new Yi({buffer:this._buffer.slice(H,H+d)})}slice(H=0,d=this.length){if(!H&&!this.length)return new Yi;if(H<0||H>this.length-1)throw new Error(`Wrong start position: ${H}`);return new Yi({buffer:this._buffer.slice(H,d)})}realloc(H){const d=new ArrayBuffer(H);new Uint8Array(d).set(H>this._view.length?this._view:new Uint8Array(this._buffer,0,H)),this._buffer=d,this._view=new Uint8Array(this._buffer)}append(H){const d=this.length,T=H.length,$=H._view.subarray();this.realloc(d+T),this._view.set($,d)}insert(H,d=0,T=this.length-d){return!(d>this.length-1||(T>this.length-d&&(T=this.length-d),T>H.length&&(T=H.length),this._view.set(T==H.length?H._view:H._view.subarray(0,T),d),0))}isEqual(H){if(this.length!=H.length)return!1;for(let d=0;d<H.length;d++)if(this.view[d]!=H.view[d])return!1;return!0}isEqualView(H){if(H.length!=this.view.length)return!1;for(let d=0;d<H.length;d++)if(this.view[d]!=H[d])return!1;return!0}findPattern(H,d,T,$){const{start:_e,length:xe,backward:ze}=this.prepareFindParameters(d,T,$),nt=H.length;if(nt>xe)return-1;const bt=[];for(let Gt=0;Gt<nt;Gt++)bt.push(H.view[Gt]);for(let Gt=0;Gt<=xe-nt;Gt++){let qt=!0;const An=ze?_e-nt-Gt:_e+Gt;for(let hn=0;hn<nt;hn++)if(this.view[hn+An]!=bt[hn]){qt=!1;break}if(qt)return ze?_e-nt-Gt:_e+nt+Gt}return-1}findFirstIn(H,d,T,$){const{start:_e,length:xe,backward:ze}=this.prepareFindParameters(d,T,$),nt={id:-1,position:ze?0:_e+xe,length:0};for(let bt=0;bt<H.length;bt++){const Gt=this.findPattern(H[bt],_e,xe,ze);if(-1!=Gt){let qt=!1;const An=H[bt].length;ze?Gt-An>=nt.position-nt.length&&(qt=!0):Gt-An<=nt.position-nt.length&&(qt=!0),qt&&(nt.position=Gt,nt.id=bt,nt.length=An)}}return nt}findAllIn(H,d,T){let{start:$,length:_e}=this.prepareFindParameters(d,T);const xe=[];let ze={id:-1,position:$};for(;;){const nt=ze.position;if(ze=this.findFirstIn(H,ze.position,_e),-1==ze.id)break;_e-=ze.position-nt,xe.push({id:ze.id,position:ze.position})}return xe}findAllPatternIn(H,d,T){const{start:$,length:_e}=this.prepareFindParameters(d,T),xe=[],ze=H.length;if(ze>_e)return-1;const nt=Array.from(H.view);for(let bt=0;bt<=_e-ze;bt++){let Gt=!0;const qt=$+bt;for(let An=0;An<ze;An++)if(this.view[An+qt]!=nt[An]){Gt=!1;break}Gt&&(xe.push($+ze+bt),bt+=ze-1)}return xe}findFirstNotIn(H,d,T,$){let{start:_e,length:xe,backward:ze}=this.prepareFindParameters(d,T,$);const nt={left:{id:-1,position:_e},right:{id:-1,position:0},value:new Yi};let bt=xe;for(;bt>0;){if(nt.right=this.findFirstIn(H,ze?_e-xe+bt:_e+xe-bt,bt,ze),-1==nt.right.id){xe=bt,ze?_e-=xe:_e=nt.left.position,nt.value=new Yi({buffer:this._buffer.slice(_e,_e+xe)});break}if(nt.right.position!=(ze?nt.left.position-H[nt.right.id].length:nt.left.position+H[nt.right.id].length)){ze?(_e=nt.right.position+H[nt.right.id].length,xe=nt.left.position-nt.right.position-H[nt.right.id].length):(_e=nt.left.position,xe=nt.right.position-nt.left.position-H[nt.right.id].length),nt.value=new Yi({buffer:this._buffer.slice(_e,_e+xe)});break}nt.left=nt.right,bt-=H[nt.right.id].length}if(ze){const Gt=nt.right;nt.right=nt.left,nt.left=Gt}return nt}findAllNotIn(H,d,T){let{start:$,length:_e}=this.prepareFindParameters(d,T);const xe=[];let ze={left:{id:-1,position:$},right:{id:-1,position:$},value:new Yi};do{const nt=ze.right.position;ze=this.findFirstNotIn(H,ze.right.position,_e),_e-=ze.right.position-nt,xe.push({left:{id:ze.left.id,position:ze.left.position},right:{id:ze.right.id,position:ze.right.position},value:ze.value})}while(-1!=ze.right.id);return xe}findFirstSequence(H,d,T,$){let{start:_e,length:xe,backward:ze}=this.prepareFindParameters(d,T,$);const nt=this.skipNotPatterns(H,_e,xe,ze);if(-1==nt)return{position:-1,value:new Yi};const bt=this.skipPatterns(H,nt,xe-(ze?_e-nt:nt-_e),ze);return ze?(_e=bt,xe=nt-bt):(_e=nt,xe=bt-nt),{position:bt,value:new Yi({buffer:this._buffer.slice(_e,_e+xe)})}}findAllSequences(H,d,T){let{start:$,length:_e}=this.prepareFindParameters(d,T);const xe=[];let ze={position:$,value:new Yi};do{const nt=ze.position;ze=this.findFirstSequence(H,ze.position,_e),-1!=ze.position&&(_e-=ze.position-nt,xe.push({position:ze.position,value:ze.value}))}while(-1!=ze.position);return xe}findPairedPatterns(H,d,T,$){const _e=[];if(H.isEqual(d))return _e;const{start:xe,length:ze}=this.prepareFindParameters(T,$);let nt=0;const bt=this.findAllPatternIn(H,xe,ze);if(!Array.isArray(bt)||0==bt.length)return _e;const Gt=this.findAllPatternIn(d,xe,ze);if(!Array.isArray(Gt)||0==Gt.length)return _e;for(;nt<bt.length&&0!=Gt.length;)if(bt[0]!=Gt[0]){if(bt[nt]>Gt[0])break;for(;bt[nt]<Gt[0]&&(nt++,!(nt>=bt.length)););_e.push({left:bt[nt-1],right:Gt[0]}),bt.splice(nt-1,1),Gt.splice(0,1),nt=0}else _e.push({left:bt[0],right:Gt[0]}),bt.splice(0,1),Gt.splice(0,1);return _e.sort((qt,An)=>qt.left-An.left),_e}findPairedArrays(H,d,T,$){const{start:_e,length:xe}=this.prepareFindParameters(T,$),ze=[];let nt=0;const bt=this.findAllIn(H,_e,xe);if(0==bt.length)return ze;const Gt=this.findAllIn(d,_e,xe);if(0==Gt.length)return ze;for(;nt<bt.length&&0!=Gt.length;)if(bt[0].position!=Gt[0].position){if(bt[nt].position>Gt[0].position)break;for(;bt[nt].position<Gt[0].position&&(nt++,!(nt>=bt.length)););ze.push({left:bt[nt-1],right:Gt[0]}),bt.splice(nt-1,1),Gt.splice(0,1),nt=0}else ze.push({left:bt[0],right:Gt[0]}),bt.splice(0,1),Gt.splice(0,1);return ze.sort((qt,An)=>qt.left.position-An.left.position),ze}replacePattern(H,d,T,$,_e=null){let ze,xe=[];const nt={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:bt,length:Gt}=this.prepareFindParameters(T,$);if(null==_e){if(xe=this.findAllIn([H],bt,Gt),0==xe.length)return nt}else xe=_e;nt.searchPatternPositions.push(...Array.from(xe,di=>di.position));const qt=H.length-d.length,An=new ArrayBuffer(this.view.length-xe.length*qt),hn=new Uint8Array(An);for(hn.set(new Uint8Array(this.buffer,0,bt)),ze=0;ze<xe.length;ze++){const di=0==ze?bt:xe[ze-1].position;hn.set(new Uint8Array(this.buffer,di,xe[ze].position-H.length-di),di-ze*qt),hn.set(d.view,xe[ze].position-H.length-ze*qt),nt.replacePatternPositions.push(xe[ze].position-H.length-ze*qt)}return ze--,hn.set(new Uint8Array(this.buffer,xe[ze].position,this.length-xe[ze].position),xe[ze].position-H.length+d.length-ze*qt),this.buffer=An,this.view=new Uint8Array(this.buffer),nt.status=1,nt}skipPatterns(H,d,T,$){const{start:_e,length:xe,backward:ze}=this.prepareFindParameters(d,T,$);let nt=_e;for(let bt=0;bt<H.length;bt++){const Gt=H[bt].length,qt=ze?nt-Gt:nt;let An=!0;for(let hn=0;hn<Gt;hn++)if(this.view[hn+qt]!=H[bt].view[hn]){An=!1;break}if(An)if(bt=-1,ze){if(nt-=Gt,nt<=0)return nt}else if(nt+=Gt,nt>=_e+xe)return nt}return nt}skipNotPatterns(H,d,T,$){const{start:_e,length:xe,backward:ze}=this.prepareFindParameters(d,T,$);let nt=-1;for(let bt=0;bt<xe;bt++){for(let Gt=0;Gt<H.length;Gt++){const qt=H[Gt].length,An=ze?_e-bt-qt:_e+bt;let hn=!0;for(let di=0;di<qt;di++)if(this.view[di+An]!=H[Gt].view[di]){hn=!1;break}if(hn){nt=ze?_e-bt:_e+bt;break}}if(-1!=nt)break}return nt}prepareFindParameters(H=null,d=null,T=!1){return null===H&&(H=T?this.length:0),H>this.length&&(H=this.length),T?(null===d&&(d=H),d>H&&(d=H)):(null===d&&(d=this.length-H),d>this.length-H&&(d=this.length-H)),{start:H,length:d,backward:T}}}let Fs=(()=>{class U{constructor(d={}){this._stream=new Yi,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in d?new Yi({view:d.view}):"buffer"in d?new Yi({buffer:d.buffer}):"string"in d?new Yi({string:d.string}):"hexstring"in d?new Yi({hexstring:d.hexstring}):"stream"in d?d.stream.slice():new Yi,"backward"in d&&d.backward&&(this.backward=d.backward,this._start=this.stream.length),"length"in d&&d.length>0&&(this._length=d.length),"start"in d&&d.start&&d.start>0&&(this._start=d.start),"appendBlock"in d&&d.appendBlock&&d.appendBlock>0&&(this.appendBlock=d.appendBlock)}set stream(d){this._stream=d,this.prevLength=this._length,this._length=d.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(d){this.prevLength=this._length,this._length=d}get length(){return this.appendBlock?this.start:this._length}set start(d){d>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-d:d-this._start,this._start=d)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(d,T=null){(null==T||T>this.length)&&(T=this.length);const $=this.stream.findPattern(d,this.start,this.length,this.backward);if(-1==$)return $;if(this.backward){if($<this.start-d.length-T)return-1}else if($>this.start+d.length+T)return-1;return this.start=$,$}findFirstIn(d,T=null){(null==T||T>this.length)&&(T=this.length);const $=this.stream.findFirstIn(d,this.start,this.length,this.backward);if(-1==$.id)return $;if(this.backward){if($.position<this.start-d[$.id].length-T)return{id:-1,position:this.backward?0:this.start+this.length}}else if($.position>this.start+d[$.id].length+T)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=$.position,$}findAllIn(d){return this.stream.findAllIn(d,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(d,T=null){(null==T||T>this._length)&&(T=this._length);const $=this._stream.findFirstNotIn(d,this._start,this._length,this.backward);if(-1==$.left.id&&-1==$.right.id)return $;if(this.backward){if(-1!=$.right.id&&$.right.position<this._start-d[$.right.id].length-T)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Yi}}else if(-1!=$.left.id&&$.left.position>this._start+d[$.left.id].length+T)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Yi};return this.start=this.backward?-1==$.left.id?0:$.left.position:-1==$.right.id?this._start+this._length:$.right.position,$}findAllNotIn(d){return this._stream.findAllNotIn(d,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(d,T=null,$=null){(null==T||T>this._length)&&(T=this._length),(null==$||$>T)&&($=T);const _e=this._stream.findFirstSequence(d,this._start,T,this.backward);if(0==_e.value.length)return _e;if(this.backward){if(_e.position<this._start-_e.value.length-$)return{position:-1,value:new Yi}}else if(_e.position>this._start+_e.value.length+$)return{position:-1,value:new Yi};return this.start=_e.position,_e}findAllSequences(d){return this.stream.findAllSequences(d,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(d,T,$=null){(null==$||$>this.length)&&($=this.length);const xe=this.stream.findPairedPatterns(d,T,this.backward?this.start-this.length:this.start,this.length);if(xe.length)if(this.backward){if(xe[0].right<this.start-T.length-$)return[]}else if(xe[0].left>this.start+d.length+$)return[];return xe}findPairedArrays(d,T,$=null){(null==$||$>this.length)&&($=this.length);const xe=this.stream.findPairedArrays(d,T,this.backward?this.start-this.length:this.start,this.length);if(xe.length)if(this.backward){if(xe[0].right.position<this.start-T[xe[0].right.id].length-$)return[]}else if(xe[0].left.position>this.start+d[xe[0].left.id].length+$)return[];return xe}replacePattern(d,T){return this.stream.replacePattern(d,T,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(d){const T=this.stream.skipPatterns(d,this.start,this.length,this.backward);return this.start=T,T}skipNotPatterns(d){const T=this.stream.skipNotPatterns(d,this.start,this.length,this.backward);return-1==T?-1:(this.start=T,T)}append(d){this.beforeAppend(d.length),this._stream.view.set(d.view,this._start),this._length+=2*d.length,this.start=this._start+d.length,this.prevLength-=2*d.length}appendView(d){this.beforeAppend(d.length),this._stream.view.set(d,this._start),this._length+=2*d.length,this.start=this._start+d.length,this.prevLength-=2*d.length}appendChar(d){this.beforeAppend(1),this._stream.view[this._start]=d,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(d){this.beforeAppend(2);const T=new Uint16Array([d]),$=new Uint8Array(T.buffer);this.stream.view[this._start]=$[1],this._stream.view[this._start+1]=$[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(d){this.beforeAppend(3);const T=new Uint32Array([d]),$=new Uint8Array(T.buffer);this._stream.view[this._start]=$[2],this._stream.view[this._start+1]=$[1],this._stream.view[this._start+2]=$[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(d){this.beforeAppend(4);const T=new Uint32Array([d]),$=new Uint8Array(T.buffer);this._stream.view[this._start]=$[3],this._stream.view[this._start+1]=$[2],this._stream.view[this._start+2]=$[1],this._stream.view[this._start+3]=$[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(d){this.beforeAppend(2);const T=new Int16Array([d]),$=new Uint8Array(T.buffer);this._stream.view[this._start]=$[1],this._stream.view[this._start+1]=$[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(d){this.beforeAppend(4);const T=new Int32Array([d]),$=new Uint8Array(T.buffer);this._stream.view[this._start]=$[3],this._stream.view[this._start+1]=$[2],this._stream.view[this._start+2]=$[1],this._stream.view[this._start+3]=$[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(d,T=!0){if(this._length<=0)return new Uint8Array(0);let $;if(this._length<d&&(d=this._length),this.backward){const _e=this._stream.view.subarray(this._length-d,this._length);$=new Uint8Array(d);for(let xe=0;xe<d;xe++)$[d-1-xe]=_e[xe]}else $=this._stream.view.subarray(this._start,this._start+d);return T&&(this.start+=this.backward?-1*d:d),$}getUint16(d=!0){const T=this.getBlock(2,d);return T.length<2?0:T[0]<<8|T[1]}getInt16(d=!0){const T=this.getUint16(d),$=32768;return T&$?-($-(T^$)):T}getUint24(d=!0){const T=this.getBlock(4,d);return T.length<3?0:T[0]<<16|T[1]<<8|T[2]}getUint32(d=!0){const T=this.getBlock(4,d);return T.length<4?0:16777216*T[0]+(T[1]<<16)+(T[2]<<8)+T[3]}getInt32(d=!0){const T=this.getUint32(d),$=2147483648;return T&$?-($-(T^$)):T}beforeAppend(d){this._start+d>this._stream.length&&(d>this.appendBlock&&(this.appendBlock=d+U.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return U.APPEND_BLOCK=1e3,U})();function Dt(U,...H){if(!function Or(U){return U instanceof Uint8Array||ArrayBuffer.isView(U)&&"Uint8Array"===U.constructor.name}(U))throw new Error("Uint8Array expected");if(H.length>0&&!H.includes(U.length))throw new Error("Uint8Array expected of length "+H+", got length="+U.length)}function Vt(U,H=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(H&&U.finished)throw new Error("Hash#digest() has already been called")}function fi(...U){for(let H=0;H<U.length;H++)U[H].fill(0)}function Us(U){return new DataView(U.buffer,U.byteOffset,U.byteLength)}function Es(U,H){return U<<32-H|U>>>H}function xr(U,H){return U<<H|U>>>32-H>>>0}function Fr(U){return"string"==typeof U&&(U=function Ua(U){if("string"!=typeof U)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(U))}(U)),Dt(U),U}class ja{}function Ur(U){const H=T=>U().update(Fr(T)).digest(),d=U();return H.outputLen=d.outputLen,H.blockLen=d.blockLen,H.create=()=>U(),H}function jr(U,H,d){return U&H^~U&d}function Ao(U,H,d){return U&H^U&d^H&d}class Ca extends ja{constructor(H,d,T,$){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=H,this.outputLen=d,this.padOffset=T,this.isLE=$,this.buffer=new Uint8Array(H),this.view=Us(this.buffer)}update(H){Vt(this),Dt(H=Fr(H));const{view:d,buffer:T,blockLen:$}=this,_e=H.length;for(let xe=0;xe<_e;){const ze=Math.min($-this.pos,_e-xe);if(ze!==$)T.set(H.subarray(xe,xe+ze),this.pos),this.pos+=ze,xe+=ze,this.pos===$&&(this.process(d,0),this.pos=0);else{const nt=Us(H);for(;$<=_e-xe;xe+=$)this.process(nt,xe)}}return this.length+=H.length,this.roundClean(),this}digestInto(H){Vt(this),function mn(U,H){Dt(U);const d=H.outputLen;if(U.length<d)throw new Error("digestInto() expects output buffer of length at least "+d)}(H,this),this.finished=!0;const{buffer:d,view:T,blockLen:$,isLE:_e}=this;let{pos:xe}=this;d[xe++]=128,fi(this.buffer.subarray(xe)),this.padOffset>$-xe&&(this.process(T,0),xe=0);for(let qt=xe;qt<$;qt++)d[qt]=0;(function vr(U,H,d,T){if("function"==typeof U.setBigUint64)return U.setBigUint64(H,d,T);const $=BigInt(32),_e=BigInt(4294967295),xe=Number(d>>$&_e),ze=Number(d&_e),bt=T?0:4;U.setUint32(H+(T?4:0),xe,T),U.setUint32(H+bt,ze,T)})(T,$-8,BigInt(8*this.length),_e),this.process(T,0);const ze=Us(H),nt=this.outputLen;if(nt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const bt=nt/4,Gt=this.get();if(bt>Gt.length)throw new Error("_sha2: outputLen bigger than state");for(let qt=0;qt<bt;qt++)ze.setUint32(4*qt,Gt[qt],_e)}digest(){const{buffer:H,outputLen:d}=this;this.digestInto(H);const T=H.slice(0,d);return this.destroy(),T}_cloneInto(H){H||(H=new this.constructor),H.set(...this.get());const{blockLen:d,buffer:T,length:$,finished:_e,destroyed:xe,pos:ze}=this;return H.destroyed=xe,H.finished=_e,H.length=$,H.pos=ze,$%d&&H.buffer.set(T),H}clone(){return this._cloneInto()}}const ar=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ds=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ks=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Yr=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),Er=new Uint32Array(80);class nl extends Ca{constructor(){super(64,20,8,!1),this.A=0|Yr[0],this.B=0|Yr[1],this.C=0|Yr[2],this.D=0|Yr[3],this.E=0|Yr[4]}get(){const{A:H,B:d,C:T,D:$,E:_e}=this;return[H,d,T,$,_e]}set(H,d,T,$,_e){this.A=0|H,this.B=0|d,this.C=0|T,this.D=0|$,this.E=0|_e}process(H,d){for(let nt=0;nt<16;nt++,d+=4)Er[nt]=H.getUint32(d,!1);for(let nt=16;nt<80;nt++)Er[nt]=xr(Er[nt-3]^Er[nt-8]^Er[nt-14]^Er[nt-16],1);let{A:T,B:$,C:_e,D:xe,E:ze}=this;for(let nt=0;nt<80;nt++){let bt,Gt;nt<20?(bt=jr($,_e,xe),Gt=1518500249):nt<40?(bt=$^_e^xe,Gt=1859775393):nt<60?(bt=Ao($,_e,xe),Gt=2400959708):(bt=$^_e^xe,Gt=3395469782);const qt=xr(T,5)+bt+ze+Gt+Er[nt]|0;ze=xe,xe=_e,_e=xr($,30),$=T,T=qt}T=T+this.A|0,$=$+this.B|0,_e=_e+this.C|0,xe=xe+this.D|0,ze=ze+this.E|0,this.set(T,$,_e,xe,ze)}roundClean(){fi(Er)}destroy(){this.set(0,0,0,0,0),fi(this.buffer)}}const Yo=Ur(()=>new nl);Uint8Array.from(new Array(16).fill(0).map((U,H)=>H)).map(U=>(9*U+5)%16);const sl=Yo,Ys=BigInt(2**32-1),Do=BigInt(32);function Nl(U,H=!1){return H?{h:Number(U&Ys),l:Number(U>>Do&Ys)}:{h:0|Number(U>>Do&Ys),l:0|Number(U&Ys)}}const Gr=(U,H,d)=>U>>>d,Ts=(U,H,d)=>U<<32-d|H>>>d,_a=(U,H,d)=>U>>>d|H<<32-d,va=(U,H,d)=>U<<32-d|H>>>d,zo=(U,H,d)=>U<<64-d|H>>>d-32,Mo=(U,H,d)=>U>>>d-32|H<<64-d;function Ha(U,H,d,T){const $=(H>>>0)+(T>>>0);return{h:U+d+($/2**32|0)|0,l:0|$}}const vl=(U,H,d)=>(U>>>0)+(H>>>0)+(d>>>0),Ol=(U,H,d,T)=>H+d+T+(U/2**32|0)|0,lr=(U,H,d,T)=>(U>>>0)+(H>>>0)+(d>>>0)+(T>>>0),ao=(U,H,d,T,$)=>H+d+T+$+(U/2**32|0)|0,mo=(U,H,d,T,$)=>(U>>>0)+(H>>>0)+(d>>>0)+(T>>>0)+($>>>0),Ps=(U,H,d,T,$,_e)=>H+d+T+$+_e+(U/2**32|0)|0,cr=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hr=new Uint32Array(64);class Vr extends Ca{constructor(H=32){super(64,H,8,!1),this.A=0|ar[0],this.B=0|ar[1],this.C=0|ar[2],this.D=0|ar[3],this.E=0|ar[4],this.F=0|ar[5],this.G=0|ar[6],this.H=0|ar[7]}get(){const{A:H,B:d,C:T,D:$,E:_e,F:xe,G:ze,H:nt}=this;return[H,d,T,$,_e,xe,ze,nt]}set(H,d,T,$,_e,xe,ze,nt){this.A=0|H,this.B=0|d,this.C=0|T,this.D=0|$,this.E=0|_e,this.F=0|xe,this.G=0|ze,this.H=0|nt}process(H,d){for(let qt=0;qt<16;qt++,d+=4)hr[qt]=H.getUint32(d,!1);for(let qt=16;qt<64;qt++){const An=hr[qt-15],hn=hr[qt-2],di=Es(An,7)^Es(An,18)^An>>>3,Pi=Es(hn,17)^Es(hn,19)^hn>>>10;hr[qt]=Pi+hr[qt-7]+di+hr[qt-16]|0}let{A:T,B:$,C:_e,D:xe,E:ze,F:nt,G:bt,H:Gt}=this;for(let qt=0;qt<64;qt++){const hn=Gt+(Es(ze,6)^Es(ze,11)^Es(ze,25))+jr(ze,nt,bt)+cr[qt]+hr[qt]|0,Pi=(Es(T,2)^Es(T,13)^Es(T,22))+Ao(T,$,_e)|0;Gt=bt,bt=nt,nt=ze,ze=xe+hn|0,xe=_e,_e=$,$=T,T=hn+Pi|0}T=T+this.A|0,$=$+this.B|0,_e=_e+this.C|0,xe=xe+this.D|0,ze=ze+this.E|0,nt=nt+this.F|0,bt=bt+this.G|0,Gt=Gt+this.H|0,this.set(T,$,_e,xe,ze,nt,bt,Gt)}roundClean(){fi(hr)}destroy(){this.set(0,0,0,0,0,0,0,0),fi(this.buffer)}}const Ge=function Ml(U,H=!1){const d=U.length;let T=new Uint32Array(d),$=new Uint32Array(d);for(let _e=0;_e<d;_e++){const{h:xe,l:ze}=Nl(U[_e],H);[T[_e],$[_e]]=[xe,ze]}return[T,$]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(U=>BigInt(U))),gn=Ge[0],$e=Ge[1],It=new Uint32Array(80),at=new Uint32Array(80);class Sn extends Ca{constructor(H=64){super(128,H,16,!1),this.Ah=0|ks[0],this.Al=0|ks[1],this.Bh=0|ks[2],this.Bl=0|ks[3],this.Ch=0|ks[4],this.Cl=0|ks[5],this.Dh=0|ks[6],this.Dl=0|ks[7],this.Eh=0|ks[8],this.El=0|ks[9],this.Fh=0|ks[10],this.Fl=0|ks[11],this.Gh=0|ks[12],this.Gl=0|ks[13],this.Hh=0|ks[14],this.Hl=0|ks[15]}get(){const{Ah:H,Al:d,Bh:T,Bl:$,Ch:_e,Cl:xe,Dh:ze,Dl:nt,Eh:bt,El:Gt,Fh:qt,Fl:An,Gh:hn,Gl:di,Hh:Pi,Hl:wi}=this;return[H,d,T,$,_e,xe,ze,nt,bt,Gt,qt,An,hn,di,Pi,wi]}set(H,d,T,$,_e,xe,ze,nt,bt,Gt,qt,An,hn,di,Pi,wi){this.Ah=0|H,this.Al=0|d,this.Bh=0|T,this.Bl=0|$,this.Ch=0|_e,this.Cl=0|xe,this.Dh=0|ze,this.Dl=0|nt,this.Eh=0|bt,this.El=0|Gt,this.Fh=0|qt,this.Fl=0|An,this.Gh=0|hn,this.Gl=0|di,this.Hh=0|Pi,this.Hl=0|wi}process(H,d){for(let pi=0;pi<16;pi++,d+=4)It[pi]=H.getUint32(d),at[pi]=H.getUint32(d+=4);for(let pi=16;pi<80;pi++){const Fi=0|It[pi-15],Oi=0|at[pi-15],is=_a(Fi,Oi,1)^_a(Fi,Oi,8)^Gr(Fi,0,7),Is=va(Fi,Oi,1)^va(Fi,Oi,8)^Ts(Fi,Oi,7),Cs=0|It[pi-2],Ns=0|at[pi-2],ra=_a(Cs,Ns,19)^zo(Cs,Ns,61)^Gr(Cs,0,6),Io=va(Cs,Ns,19)^Mo(Cs,Ns,61)^Ts(Cs,Ns,6),dr=lr(Is,Io,at[pi-7],at[pi-16]),ba=ao(dr,is,ra,It[pi-7],It[pi-16]);It[pi]=0|ba,at[pi]=0|dr}let{Ah:T,Al:$,Bh:_e,Bl:xe,Ch:ze,Cl:nt,Dh:bt,Dl:Gt,Eh:qt,El:An,Fh:hn,Fl:di,Gh:Pi,Gl:wi,Hh:ui,Hl:gs}=this;for(let pi=0;pi<80;pi++){const Fi=_a(qt,An,14)^_a(qt,An,18)^zo(qt,An,41),Oi=va(qt,An,14)^va(qt,An,18)^Mo(qt,An,41),is=qt&hn^~qt&Pi,Cs=mo(gs,Oi,An&di^~An&wi,$e[pi],at[pi]),Ns=Ps(Cs,ui,Fi,is,gn[pi],It[pi]),ra=0|Cs,Io=_a(T,$,28)^zo(T,$,34)^zo(T,$,39),dr=va(T,$,28)^Mo(T,$,34)^Mo(T,$,39),ba=T&_e^T&ze^_e&ze,xu=$&xe^$&nt^xe&nt;ui=0|Pi,gs=0|wi,Pi=0|hn,wi=0|di,hn=0|qt,di=0|An,({h:qt,l:An}=Ha(0|bt,0|Gt,0|Ns,0|ra)),bt=0|ze,Gt=0|nt,ze=0|_e,nt=0|xe,_e=0|T,xe=0|$;const Ho=vl(ra,dr,xu);T=Ol(Ho,Ns,Io,ba),$=0|Ho}({h:T,l:$}=Ha(0|this.Ah,0|this.Al,0|T,0|$)),({h:_e,l:xe}=Ha(0|this.Bh,0|this.Bl,0|_e,0|xe)),({h:ze,l:nt}=Ha(0|this.Ch,0|this.Cl,0|ze,0|nt)),({h:bt,l:Gt}=Ha(0|this.Dh,0|this.Dl,0|bt,0|Gt)),({h:qt,l:An}=Ha(0|this.Eh,0|this.El,0|qt,0|An)),({h:hn,l:di}=Ha(0|this.Fh,0|this.Fl,0|hn,0|di)),({h:Pi,l:wi}=Ha(0|this.Gh,0|this.Gl,0|Pi,0|wi)),({h:ui,l:gs}=Ha(0|this.Hh,0|this.Hl,0|ui,0|gs)),this.set(T,$,_e,xe,ze,nt,bt,Gt,qt,An,hn,di,Pi,wi,ui,gs)}roundClean(){fi(It,at)}destroy(){fi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ri extends Sn{constructor(){super(48),this.Ah=0|Ds[0],this.Al=0|Ds[1],this.Bh=0|Ds[2],this.Bl=0|Ds[3],this.Ch=0|Ds[4],this.Cl=0|Ds[5],this.Dh=0|Ds[6],this.Dl=0|Ds[7],this.Eh=0|Ds[8],this.El=0|Ds[9],this.Fh=0|Ds[10],this.Fl=0|Ds[11],this.Gh=0|Ds[12],this.Gl=0|Ds[13],this.Hh=0|Ds[14],this.Hl=0|Ds[15]}}const Hi=Ur(()=>new Vr),Ie=Ur(()=>new Sn),Mt=Ur(()=>new Ri),es=new ArrayBuffer(0);let Ee=(()=>{class U extends TypeError{constructor(){super(...arguments),this.name=U.NAME}static isType(d,T){if("string"==typeof T){if("Array"===T&&Array.isArray(d))return!0;if("ArrayBuffer"===T&&d instanceof ArrayBuffer)return!0;if("ArrayBufferView"===T&&ArrayBuffer.isView(d))return!0;if(typeof d===T)return!0}else if(d instanceof T)return!0;return!1}static assert(d,T,...$){for(const xe of $)if(this.isType(d,xe))return;const _e=$.map(xe=>xe instanceof Function&&"name"in xe?xe.name:`${xe}`);throw new U(`Parameter '${T}' is not of type ${_e.length>1?`(${_e.join(" or ")})`:_e[0]}`)}}return U.NAME="ArgumentError",U})(),G=(()=>{class U extends TypeError{static assert(...d){let $,_e,T=null;"string"==typeof d[0]?(T=d[0],$=d[1],_e=d.slice(2)):($=d[0],_e=d.slice(1)),Ee.assert($,"parameters","object");for(const xe of _e)if(null==$[xe])throw new U(xe,T)}static assertEmpty(d,T,$){if(null==d)throw new U(T,$)}constructor(d,T=null,$){super(),this.name=U.NAME,this.field=d,T&&(this.target=T),this.message=$||`Absent mandatory parameter '${d}' ${T?` in '${T}'`:""}`}}return U.NAME="ParameterError",U})();class ye extends Error{static assertSchema(H,d){if(!H.verified)throw new Error(`Object's schema was not verified against input data for ${d}`)}static assert(H,d){if(-1===H.offset)throw new ye(`Error during parsing of ASN.1 data. Data is not correct for '${d}'.`)}constructor(H){super(H),this.name="AsnError"}}let Oe=(()=>{class U{static blockName(){return this.CLASS_NAME}static fromBER(d){const T=ft(d);ye.assert(T,this.name);try{return new this({schema:T.result})}catch{throw new ye(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(d){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${d}`)}static schema(d={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(d="hex"){let T;try{T=this.toSchema()}catch{T=this.toSchema(!0)}return f.U$.ToString(T.toBER(),d)}}return U.CLASS_NAME="PkiObject",U})();function pt(U){let H=!1,d="";const T=U.trim();for(let $=0;$<T.length;$++)32===T.charCodeAt($)?!1===H&&(H=!0):(H&&(d+=" ",H=!1),d+=T[$]);return d.toLowerCase()}const Ft="type",zt="value";let vn=(()=>{class U extends Oe{constructor(d={}){super(),this.type=e(d,Ft,U.defaultValues(Ft)),this.value=e(d,zt,U.defaultValues(zt)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ft:return"";case zt:return{};default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.type||""}),new Bn({name:T.value||""})]})}fromSchema(d){L(d,[Ft,"typeValue"]);const T=li(d,d,U.schema({names:{type:Ft,value:"typeValue"}}));ye.assertSchema(T,this.className),this.type=T.result.type.valueBlock.toString(),this.value=T.result.typeValue}toSchema(){return new Dn({value:[new Wt({value:this.type}),this.value]})}toJSON(){const d={type:this.type};return d.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,d}isEqual(d){const T=[nn.blockName(),Xn.blockName(),oi.blockName(),Un.blockName(),Qn.blockName(),Be.blockName(),ht.blockName(),Jt.blockName(),hi.blockName(),Nn.blockName(),Ji.blockName(),$t.blockName()];if(d instanceof ArrayBuffer)return f._H.isEqual(this.value.valueBeforeDecodeView,d);if(d.constructor.blockName()===U.blockName()){if(this.type!==d.type)return!1;const $=[!1,!1],_e=this.value.constructor.blockName();for(const ze of T)_e===ze&&($[0]=!0),d.value.constructor.blockName()===ze&&($[1]=!0);if($[0]!==$[1])return!1;if($[0]&&$[1]){const ze=pt(this.value.valueBlock.value),nt=pt(d.value.valueBlock.value);if(0!==ze.localeCompare(nt))return!1}else if(!f._H.isEqual(this.value.valueBeforeDecodeView,d.value.valueBeforeDecodeView))return!1;return!0}return!1}}return U.CLASS_NAME="AttributeTypeAndValue",U})();const xn="typesAndValues",cn="valueBeforeDecode";let On=(()=>{class U extends Oe{constructor(d={}){super(),this.typesAndValues=e(d,xn,U.defaultValues(xn)),this.valueBeforeDecode=e(d,cn,U.defaultValues(cn)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case xn:return[];case cn:return es;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case xn:return 0===T.length;case cn:return 0===T.byteLength;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.repeatedSequence||"",value:new ji({value:[new Di({name:T.repeatedSet||"",value:vn.schema(T.typeAndValue||{})})]})})]})}fromSchema(d){L(d,["RDN",xn]);const T=li(d,d,U.schema({names:{blockName:"RDN",repeatedSet:xn}}));ye.assertSchema(T,this.className),xn in T.result&&(this.typesAndValues=Array.from(T.result.typesAndValues,$=>new vn({schema:$}))),this.valueBeforeDecode=T.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(0===this.valueBeforeDecode.byteLength)return new Dn({value:[new ji({value:Array.from(this.typesAndValues,T=>T.toSchema())})]});const d=ft(this.valueBeforeDecode);if(ye.assert(d,"RelativeDistinguishedNames"),!(d.result instanceof Dn))throw new Error("ASN.1 result should be SEQUENCE");return d.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,d=>d.toJSON())}}isEqual(d){if(d instanceof U){if(this.typesAndValues.length!==d.typesAndValues.length)return!1;for(const[T,$]of this.typesAndValues.entries())if(!1===$.isEqual(d.typesAndValues[T]))return!1;return!0}return d instanceof ArrayBuffer&&E(this.valueBeforeDecode,d)}}return U.CLASS_NAME="RelativeDistinguishedNames",U})();const Zn="type",ss="value";function Dr(U={},H=!1){const d=e(U,"names",{});return new Dn({optional:H,value:[new P({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:d.country_name||"",value:[new Wi({value:[new Un,new Qn]})]}),new P({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:d.administration_domain_name||"",value:[new Wi({value:[new Un,new Qn]})]}),new tn({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:d.network_address||"",isHexOnly:!0}),new tn({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:d.terminal_identifier||"",isHexOnly:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:d.private_domain_name||"",value:[new Wi({value:[new Un,new Qn]})]}),new tn({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:d.organization_name||"",isHexOnly:!0}),new tn({optional:!0,name:d.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new P({optional:!0,name:d.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new tn({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new tn({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new tn({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new tn({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new P({optional:!0,name:d.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Di({value:new Qn})]})]})}function si(U=!1){return new Dn({optional:U,value:[new Qn,new Qn]})}function Ka(U=!1){return new ji({optional:U,value:[new tn({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Bn]})]})}let Zi=(()=>{class U extends Oe{constructor(d={}){super(),this.type=e(d,Zn,U.defaultValues(Zn)),this.value=e(d,ss,U.defaultValues(ss)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Zn:return 9;case ss:return{};default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case Zn:return T===U.defaultValues(d);case ss:return 0===Object.keys(T).length;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Wi({value:[new P({idBlock:{tagClass:3,tagNumber:0},name:T.blockName||"",value:[new Wt,new P({idBlock:{tagClass:3,tagNumber:0},value:[new Bn]})]}),new tn({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new tn({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new P({idBlock:{tagClass:3,tagNumber:3},name:T.blockName||"",value:[Dr(T.builtInStandardAttributes||{},!1),si(!0),Ka(!0)]}),new P({idBlock:{tagClass:3,tagNumber:4},name:T.blockName||"",value:[On.schema(T.directoryName||{})]}),new P({idBlock:{tagClass:3,tagNumber:5},name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wi({value:[new Be,new Qn,new oi,new nn,new Xn]})]}),new P({idBlock:{tagClass:3,tagNumber:1},value:[new Wi({value:[new Be,new Qn,new oi,new nn,new Xn]})]})]}),new tn({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new tn({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new tn({name:T.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(d){L(d,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const T=li(d,d,U.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(ye.assertSchema(T,this.className),this.type=T.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=T.result.blockName;break;case 1:case 2:case 6:{const $=T.result.blockName;$.idBlock.tagClass=1,$.idBlock.tagNumber=22;const xe=ft($.toBER(!1));ye.assert(xe,"GeneralName value"),this.value=xe.result.valueBlock.value}break;case 4:this.value=new On({schema:T.result.directoryName});break;case 5:this.value=T.result.ediPartyName;break;case 7:this.value=new Ot({valueHex:T.result.blockName.valueBlock.valueHex});break;case 8:{const $=T.result.blockName;$.idBlock.tagClass=1,$.idBlock.tagNumber=6;const xe=ft($.toBER(!1));ye.assert(xe,"GeneralName registeredID"),this.value=xe.result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new P({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const d=new Jt({value:this.value});return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}case 4:return new P({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const d=this.value;return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}case 8:{const d=new Wt({value:this.value});return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}default:return U.schema()}}toJSON(){const d={type:this.type,value:""};if("string"==typeof this.value)d.value=this.value;else try{d.value=this.value.toJSON()}catch{}return d}}return U.CLASS_NAME="GeneralName",U})();const js="accessMethod",yr="accessLocation",Oo=[js,yr];let uu=(()=>{class U extends Oe{constructor(d={}){super(),this.accessMethod=e(d,js,U.defaultValues(js)),this.accessLocation=e(d,yr,U.defaultValues(yr)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case js:return"";case yr:return new Zi;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.accessMethod||""}),Zi.schema(T.accessLocation||{})]})}fromSchema(d){L(d,Oo);const T=li(d,d,U.schema({names:{accessMethod:js,accessLocation:{names:{blockName:yr}}}}));ye.assertSchema(T,this.className),this.accessMethod=T.result.accessMethod.valueBlock.toString(),this.accessLocation=new Zi({schema:T.result.accessLocation})}toSchema(){return new Dn({value:[new Wt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}return U.CLASS_NAME="AccessDescription",U})();const ko="algorithmId",Po="algorithmParams",Ad="algorithm",du="params",xl=[Ad,du];let Rs=(()=>{class U extends Oe{constructor(d={}){super(),this.algorithmId=e(d,ko,U.defaultValues(ko)),Po in d&&(this.algorithmParams=e(d,Po,U.defaultValues(Po))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case ko:return"";case Po:return new Bn;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case ko:return""===T;case Po:return T instanceof Bn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",optional:T.optional||!1,value:[new Wt({name:T.algorithmIdentifier||""}),new Bn({name:T.algorithmParams||"",optional:!0})]})}fromSchema(d){L(d,xl);const T=li(d,d,U.schema({names:{algorithmIdentifier:Ad,algorithmParams:du}}));ye.assertSchema(T,this.className),this.algorithmId=T.result.algorithm.valueBlock.toString(),du in T.result&&(this.algorithmParams=T.result.params)}toSchema(){const d=[];return d.push(new Wt({value:this.algorithmId})),this.algorithmParams&&!(this.algorithmParams instanceof Bn)&&d.push(this.algorithmParams),new Dn({value:d})}toJSON(){const d={algorithmId:this.algorithmId};return this.algorithmParams&&!(this.algorithmParams instanceof Bn)&&(d.algorithmParams=this.algorithmParams.toJSON()),d}isEqual(d){return d instanceof U&&this.algorithmId===d.algorithmId&&(this.algorithmParams?!!d.algorithmParams&&JSON.stringify(this.algorithmParams)===JSON.stringify(d.algorithmParams):!d.algorithmParams)}}return U.CLASS_NAME="AlgorithmIdentifier",U})();const hu="altNames",pu=[hu];let gp=(()=>{class U extends Oe{constructor(d={}){super(),this.altNames=e(d,hu,U.defaultValues(hu)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===hu?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.altNames||"",value:Zi.schema()})]})}fromSchema(d){L(d,pu);const T=li(d,d,U.schema({names:{altNames:hu}}));ye.assertSchema(T,this.className),hu in T.result&&(this.altNames=Array.from(T.result.altNames,$=>new Zi({schema:$})))}toSchema(){return new Dn({value:Array.from(this.altNames,d=>d.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,d=>d.toJSON())}}}return U.CLASS_NAME="AltName",U})();const sr="type",yl="values",Dd=[sr,yl];let $s=(()=>{class U extends Oe{constructor(d={}){super(),this.type=e(d,sr,U.defaultValues(sr)),this.values=e(d,yl,U.defaultValues(yl)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case sr:return"";case yl:return[];default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case sr:return""===T;case yl:return 0===T.length;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.type||""}),new ji({name:T.setName||"",value:[new Di({name:T.values||"",value:new Bn})]})]})}fromSchema(d){L(d,Dd);const T=li(d,d,U.schema({names:{type:sr,values:yl}}));ye.assertSchema(T,this.className),this.type=T.result.type.valueBlock.toString(),this.values=T.result.values}toSchema(){return new Dn({value:[new Wt({value:this.type}),new ji({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,d=>d.toJSON())}}}return U.CLASS_NAME="Attribute",U})();const Jo="names",go="generalNames";let Wa=(()=>{class U extends Oe{constructor(d={}){super(),this.names=e(d,Jo,U.defaultValues(Jo)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return"names"===d?[]:super.defaultValues(d)}static schema(d={},T=!1){const $=e(d,Jo,{});return new Dn({optional:T,name:$.blockName||"",value:[new Di({name:$.generalNames||"",value:Zi.schema()})]})}fromSchema(d){L(d,[Jo,go]);const T=li(d,d,U.schema({names:{blockName:Jo,generalNames:go}}));ye.assertSchema(T,this.className),this.names=Array.from(T.result.generalNames,$=>new Zi({schema:$}))}toSchema(){return new Dn({value:Array.from(this.names,d=>d.toSchema())})}toJSON(){return{names:Array.from(this.names,d=>d.toJSON())}}}return U.CLASS_NAME="GeneralNames",U})();const Nr="keyIdentifier",Bo="authorityCertIssuer",Ll="authorityCertSerialNumber",vp=[Nr,Bo,Ll];let oo=(()=>{class U extends Oe{constructor(d={}){super(),Nr in d&&(this.keyIdentifier=e(d,Nr,U.defaultValues(Nr))),Bo in d&&(this.authorityCertIssuer=e(d,Bo,U.defaultValues(Bo))),Ll in d&&(this.authorityCertSerialNumber=e(d,Ll,U.defaultValues(Ll))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Nr:return new Ot;case Bo:return[];case Ll:return new zn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new tn({name:T.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Di({name:T.authorityCertIssuer||"",value:Zi.schema()})]}),new tn({name:T.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(d){L(d,vp);const T=li(d,d,U.schema({names:{keyIdentifier:Nr,authorityCertIssuer:Bo,authorityCertSerialNumber:Ll}}));ye.assertSchema(T,this.className),Nr in T.result&&(this.keyIdentifier=new Ot({valueHex:T.result.keyIdentifier.valueBlock.valueHex})),Bo in T.result&&(this.authorityCertIssuer=Array.from(T.result.authorityCertIssuer,$=>new Zi({schema:$}))),Ll in T.result&&(this.authorityCertSerialNumber=new zn({valueHex:T.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const d=[];return this.keyIdentifier&&d.push(new tn({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,T=>T.toSchema())})),this.authorityCertSerialNumber&&d.push(new tn({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new Dn({value:d})}toJSON(){const d={};return this.keyIdentifier&&(d.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(d.authorityCertIssuer=Array.from(this.authorityCertIssuer,T=>T.toJSON())),this.authorityCertSerialNumber&&(d.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),d}}return U.CLASS_NAME="AuthorityKeyIdentifier",U})();const lo="pathLenConstraint",Bc="cA";let Tf=(()=>{class U extends Oe{constructor(d={}){super(),this.cA=e(d,Bc,!1),lo in d&&(this.pathLenConstraint=e(d,lo,0)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d!==Bc&&super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Rn({optional:!0,name:T.cA||""}),new zn({optional:!0,name:T.pathLenConstraint||""})]})}fromSchema(d){L(d,[Bc,lo]);const T=li(d,d,U.schema({names:{cA:Bc,pathLenConstraint:lo}}));ye.assertSchema(T,this.className),Bc in T.result&&(this.cA=T.result.cA.valueBlock.value),lo in T.result&&(this.pathLenConstraint=T.result.pathLenConstraint.valueBlock.isHexOnly?T.result.pathLenConstraint:T.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const d=[];return this.cA!==U.defaultValues(Bc)&&d.push(new Rn({value:this.cA})),lo in this&&d.push(this.pathLenConstraint instanceof zn?this.pathLenConstraint:new zn({value:this.pathLenConstraint})),new Dn({value:d})}toJSON(){const d={};return this.cA!==U.defaultValues(Bc)&&(d.cA=this.cA),lo in this&&(d.pathLenConstraint=this.pathLenConstraint instanceof zn?this.pathLenConstraint.toJSON():this.pathLenConstraint),d}}return U.CLASS_NAME="BasicConstraints",U})();const Ah="certificateIndex",yp="keyIndex";let d_=(()=>{class U extends Oe{constructor(d={}){super(),this.certificateIndex=e(d,Ah,U.defaultValues(Ah)),this.keyIndex=e(d,yp,U.defaultValues(yp)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ah:case yp:return 0;default:return super.defaultValues(d)}}static schema(){return new zn}fromSchema(d){if(d.constructor.blockName()!==zn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let T=d.valueBlock.valueHex.slice(0);const $=new Uint8Array(T);switch(!0){case T.byteLength<4:{const An=new ArrayBuffer(4);new Uint8Array(An).set($,4-T.byteLength),T=An.slice(0)}break;case T.byteLength>4:{const An=new ArrayBuffer(4);new Uint8Array(An).set($.slice(0,4)),T=An.slice(0)}}const _e=T.slice(0,2),xe=new Uint8Array(_e);let ze=xe[0];xe[0]=xe[1],xe[1]=ze;const nt=new Uint16Array(_e);this.keyIndex=nt[0];const bt=T.slice(2),Gt=new Uint8Array(bt);ze=Gt[0],Gt[0]=Gt[1],Gt[1]=ze;const qt=new Uint16Array(bt);this.certificateIndex=qt[0]}toSchema(){const d=new ArrayBuffer(2);new Uint16Array(d)[0]=this.certificateIndex;const $=new Uint8Array(d);let _e=$[0];$[0]=$[1],$[1]=_e;const xe=new ArrayBuffer(2);new Uint16Array(xe)[0]=this.keyIndex;const nt=new Uint8Array(xe);return _e=nt[0],nt[0]=nt[1],nt[1]=_e,new zn({valueHex:g(xe,d)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}return U.CLASS_NAME="CAVersion",U})();const Wu="policyQualifierId",kd="qualifier",dg=[Wu,kd];let wf=(()=>{class U extends Oe{constructor(d={}){super(),this.policyQualifierId=e(d,Wu,U.defaultValues(Wu)),this.qualifier=e(d,kd,U.defaultValues(kd)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Wu:return"";case kd:return new Bn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.policyQualifierId||""}),new Bn({name:T.qualifier||""})]})}fromSchema(d){L(d,dg);const T=li(d,d,U.schema({names:{policyQualifierId:Wu,qualifier:kd}}));ye.assertSchema(T,this.className),this.policyQualifierId=T.result.policyQualifierId.valueBlock.toString(),this.qualifier=T.result.qualifier}toSchema(){return new Dn({value:[new Wt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}return U.CLASS_NAME="PolicyQualifierInfo",U})();const Vc="policyIdentifier",Ul="policyQualifiers",yo=[Vc,Ul];let pr=(()=>{class U extends Oe{constructor(d={}){super(),this.policyIdentifier=e(d,Vc,U.defaultValues(Vc)),Ul in d&&(this.policyQualifiers=e(d,Ul,U.defaultValues(Ul))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Vc:return"";case Ul:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.policyIdentifier||""}),new Dn({optional:!0,value:[new Di({name:T.policyQualifiers||"",value:wf.schema()})]})]})}fromSchema(d){L(d,yo);const T=li(d,d,U.schema({names:{policyIdentifier:Vc,policyQualifiers:Ul}}));ye.assertSchema(T,this.className),this.policyIdentifier=T.result.policyIdentifier.valueBlock.toString(),Ul in T.result&&(this.policyQualifiers=Array.from(T.result.policyQualifiers,$=>new wf({schema:$})))}toSchema(){const d=[];return d.push(new Wt({value:this.policyIdentifier})),this.policyQualifiers&&d.push(new Dn({value:Array.from(this.policyQualifiers,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(d.policyQualifiers=Array.from(this.policyQualifiers,T=>T.toJSON())),d}}return U.CLASS_NAME="PolicyInformation",U})();const jl="certificatePolicies",br=[jl];let If=(()=>{class U extends Oe{constructor(d={}){super(),this.certificatePolicies=e(d,jl,U.defaultValues(jl)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===jl?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.certificatePolicies||"",value:pr.schema()})]})}fromSchema(d){L(d,br);const T=li(d,d,U.schema({names:{certificatePolicies:jl}}));ye.assertSchema(T,this.className),this.certificatePolicies=Array.from(T.result.certificatePolicies,$=>new pr({schema:$}))}toSchema(){return new Dn({value:Array.from(this.certificatePolicies,d=>d.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,d=>d.toJSON())}}}return U.CLASS_NAME="CertificatePolicies",U})();const Pd="templateID",uc="templateMajorVersion",Lc="templateMinorVersion",hg=[Pd,uc,Lc];class Yu extends Oe{constructor(H={}){super(),this.templateID=e(H,Pd,Yu.defaultValues(Pd)),uc in H&&(this.templateMajorVersion=e(H,uc,Yu.defaultValues(uc))),Lc in H&&(this.templateMinorVersion=e(H,Lc,Yu.defaultValues(Lc))),H.schema&&this.fromSchema(H.schema)}static defaultValues(H){switch(H){case Pd:return"";case uc:case Lc:return 0;default:return super.defaultValues(H)}}static schema(H={}){const d=e(H,"names",{});return new Dn({name:d.blockName||"",value:[new Wt({name:d.templateID||""}),new zn({name:d.templateMajorVersion||"",optional:!0}),new zn({name:d.templateMinorVersion||"",optional:!0})]})}fromSchema(H){L(H,hg);const d=li(H,H,Yu.schema({names:{templateID:Pd,templateMajorVersion:uc,templateMinorVersion:Lc}}));ye.assertSchema(d,this.className),this.templateID=d.result.templateID.valueBlock.toString(),uc in d.result&&(this.templateMajorVersion=d.result.templateMajorVersion.valueBlock.valueDec),Lc in d.result&&(this.templateMinorVersion=d.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const H=[];return H.push(new Wt({value:this.templateID})),uc in this&&H.push(new zn({value:this.templateMajorVersion})),Lc in this&&H.push(new zn({value:this.templateMinorVersion})),new Dn({value:H})}toJSON(){const H={templateID:this.templateID};return uc in this&&(H.templateMajorVersion=this.templateMajorVersion),Lc in this&&(H.templateMinorVersion=this.templateMinorVersion),H}}const cl="distributionPoint",$l="distributionPointNames",zu="reasons",dc="cRLIssuer",Ya="cRLIssuerNames",Fd=[cl,$l,zu,dc,Ya];let Dh=(()=>{class U extends Oe{constructor(d={}){super(),cl in d&&(this.distributionPoint=e(d,cl,U.defaultValues(cl))),zu in d&&(this.reasons=e(d,zu,U.defaultValues(zu))),dc in d&&(this.cRLIssuer=e(d,dc,U.defaultValues(dc))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case cl:return[];case zu:return new Tn;case dc:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wi({value:[new P({name:T.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.distributionPointNames||"",value:Zi.schema()})]}),new P({name:T.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:On.schema().valueBlock.value})]})]}),new tn({name:T.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new P({name:T.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Di({name:T.cRLIssuerNames||"",value:Zi.schema()})]})]})}fromSchema(d){L(d,Fd);const T=li(d,d,U.schema({names:{distributionPoint:cl,distributionPointNames:$l,reasons:zu,cRLIssuer:dc,cRLIssuerNames:Ya}}));ye.assertSchema(T,this.className),cl in T.result&&(0===T.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(T.result.distributionPointNames,$=>new Zi({schema:$}))),1===T.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new On({schema:new Dn({value:T.result.distributionPoint.valueBlock.value})}))),zu in T.result&&(this.reasons=new Tn({valueHex:T.result.reasons.valueBlock.valueHex})),dc in T.result&&(this.cRLIssuer=Array.from(T.result.cRLIssuerNames,$=>new Zi({schema:$})))}toSchema(){const d=[];if(this.distributionPoint){let T;T=new P(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,$=>$.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[T]}))}return this.reasons&&d.push(new tn({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&d.push(new P({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={};return this.distributionPoint&&(d.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,T=>T.toJSON()):this.distributionPoint.toJSON()),this.reasons&&(d.reasons=this.reasons.toJSON()),this.cRLIssuer&&(d.cRLIssuer=Array.from(this.cRLIssuer,T=>T.toJSON())),d}}return U.CLASS_NAME="DistributionPoint",U})();const Bd="distributionPoints",bp=[Bd];let pg=(()=>{class U extends Oe{constructor(d={}){super(),this.distributionPoints=e(d,Bd,U.defaultValues(Bd)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Bd?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.distributionPoints||"",value:Dh.schema()})]})}fromSchema(d){L(d,bp);const T=li(d,d,U.schema({names:{distributionPoints:Bd}}));ye.assertSchema(T,this.className),this.distributionPoints=Array.from(T.result.distributionPoints,$=>new Dh({schema:$}))}toSchema(){return new Dn({value:Array.from(this.distributionPoints,d=>d.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,d=>d.toJSON())}}}return U.CLASS_NAME="CRLDistributionPoints",U})();const hc="keyPurposes",Nh=[hc];let Vd=(()=>{class U extends Oe{constructor(d={}){super(),this.keyPurposes=e(d,hc,U.defaultValues(hc)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===hc?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.keyPurposes||"",value:new Wt})]})}fromSchema(d){L(d,Nh);const T=li(d,d,U.schema({names:{keyPurposes:hc}}));ye.assertSchema(T,this.className),this.keyPurposes=Array.from(T.result.keyPurposes,$=>$.valueBlock.toString())}toSchema(){return new Dn({value:Array.from(this.keyPurposes,d=>new Wt({value:d}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}return U.CLASS_NAME="ExtKeyUsage",U})();const bo="accessDescriptions";let fg=(()=>{class U extends Oe{constructor(d={}){super(),this.accessDescriptions=e(d,bo,U.defaultValues(bo)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===bo?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.accessDescriptions||"",value:uu.schema()})]})}fromSchema(d){L(d,[bo]);const T=li(d,d,U.schema({names:{accessDescriptions:bo}}));ye.assertSchema(T,this.className),this.accessDescriptions=Array.from(T.result.accessDescriptions,$=>new uu({schema:$}))}toSchema(){return new Dn({value:Array.from(this.accessDescriptions,d=>d.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,d=>d.toJSON())}}}return U.CLASS_NAME="InfoAccess",U})();const _u="distributionPoint",Zo="distributionPointNames",co="onlyContainsUserCerts",uo="onlyContainsCACerts",Aa="onlySomeReasons",Gl="indirectCRL",ul="onlyContainsAttributeCerts",Hl=[_u,Zo,co,uo,Aa,Gl,ul];let Ld=(()=>{class U extends Oe{constructor(d={}){super(),_u in d&&(this.distributionPoint=e(d,_u,U.defaultValues(_u))),this.onlyContainsUserCerts=e(d,co,U.defaultValues(co)),this.onlyContainsCACerts=e(d,uo,U.defaultValues(uo)),Aa in d&&(this.onlySomeReasons=e(d,Aa,U.defaultValues(Aa))),this.indirectCRL=e(d,Gl,U.defaultValues(Gl)),this.onlyContainsAttributeCerts=e(d,ul,U.defaultValues(ul)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case _u:return[];case co:case uo:return!1;case Aa:return 0;case Gl:case ul:return!1;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wi({value:[new P({name:T.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.distributionPointNames||"",value:Zi.schema()})]}),new P({name:T.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:On.schema().valueBlock.value})]})]}),new tn({name:T.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new tn({name:T.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new tn({name:T.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new tn({name:T.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new tn({name:T.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(d){L(d,Hl);const T=li(d,d,U.schema({names:{distributionPoint:_u,distributionPointNames:Zo,onlyContainsUserCerts:co,onlyContainsCACerts:uo,onlySomeReasons:Aa,indirectCRL:Gl,onlyContainsAttributeCerts:ul}}));if(ye.assertSchema(T,this.className),_u in T.result)switch(!0){case 0===T.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(T.result.distributionPointNames,$=>new Zi({schema:$}));break;case 1===T.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new On({schema:new Dn({value:T.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(co in T.result){const $=new Uint8Array(T.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==$[0]}if(uo in T.result){const $=new Uint8Array(T.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==$[0]}if(Aa in T.result){const $=new Uint8Array(T.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=$[0]}if(Gl in T.result){const $=new Uint8Array(T.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==$[0]}if(ul in T.result){const $=new Uint8Array(T.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==$[0]}}toSchema(){const d=[];if(this.distributionPoint){let T;this.distributionPoint instanceof Array?T=new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,$=>$.toSchema())}):(T=this.distributionPoint.toSchema(),T.idBlock.tagClass=3,T.idBlock.tagNumber=1),d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[T]}))}if(this.onlyContainsUserCerts!==U.defaultValues(co)&&d.push(new tn({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==U.defaultValues(uo)&&d.push(new tn({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),void 0!==this.onlySomeReasons){const T=new ArrayBuffer(1);new Uint8Array(T)[0]=this.onlySomeReasons,d.push(new tn({idBlock:{tagClass:3,tagNumber:3},valueHex:T}))}return this.indirectCRL!==U.defaultValues(Gl)&&d.push(new tn({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==U.defaultValues(ul)&&d.push(new tn({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Dn({value:d})}toJSON(){const d={};return this.distributionPoint&&(d.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,T=>T.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==U.defaultValues(co)&&(d.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==U.defaultValues(uo)&&(d.onlyContainsCACerts=this.onlyContainsCACerts),Aa in this&&(d.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==U.defaultValues(Gl)&&(d.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==U.defaultValues(ul)&&(d.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),d}}return U.CLASS_NAME="IssuingDistributionPoint",U})();const Xu="base",Kl="minimum",Cl="maximum",Mh=[Xu,Kl,Cl];let Ju=(()=>{class U extends Oe{constructor(d={}){super(),this.base=e(d,Xu,U.defaultValues(Xu)),this.minimum=e(d,Kl,U.defaultValues(Kl)),Cl in d&&(this.maximum=e(d,Cl,U.defaultValues(Cl))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Xu:return new Zi;case Kl:case Cl:return 0;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Zi.schema(T.base||{}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new zn({name:T.minimum||""})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new zn({name:T.maximum||""})]})]})}fromSchema(d){L(d,Mh);const T=li(d,d,U.schema({names:{base:{names:{blockName:Xu}},minimum:Kl,maximum:Cl}}));ye.assertSchema(T,this.className),this.base=new Zi({schema:T.result.base}),Kl in T.result&&(this.minimum=T.result.minimum.valueBlock.isHexOnly?T.result.minimum:T.result.minimum.valueBlock.valueDec),Cl in T.result&&(this.maximum=T.result.maximum.valueBlock.isHexOnly?T.result.maximum:T.result.maximum.valueBlock.valueDec)}toSchema(){const d=[];if(d.push(this.base.toSchema()),0!==this.minimum){let T=0;T=this.minimum instanceof zn?this.minimum:new zn({value:this.minimum}),d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[T]}))}if(Cl in this){let T=0;T=this.maximum instanceof zn?this.maximum:new zn({value:this.maximum}),d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[T]}))}return new Dn({value:d})}toJSON(){const d={base:this.base.toJSON()};return 0!==this.minimum&&(d.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),void 0!==this.maximum&&(d.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),d}}return U.CLASS_NAME="GeneralSubtree",U})();const Wl="permittedSubtrees",Ud="excludedSubtrees",mg=[Wl,Ud];let gg=(()=>{class U extends Oe{constructor(d={}){super(),Wl in d&&(this.permittedSubtrees=e(d,Wl,U.defaultValues(Wl))),Ud in d&&(this.excludedSubtrees=e(d,Ud,U.defaultValues(Ud))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Wl:case Ud:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.permittedSubtrees||"",value:Ju.schema()})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Di({name:T.excludedSubtrees||"",value:Ju.schema()})]})]})}fromSchema(d){L(d,mg);const T=li(d,d,U.schema({names:{permittedSubtrees:Wl,excludedSubtrees:Ud}}));ye.assertSchema(T,this.className),Wl in T.result&&(this.permittedSubtrees=Array.from(T.result.permittedSubtrees,$=>new Ju({schema:$}))),Ud in T.result&&(this.excludedSubtrees=Array.from(T.result.excludedSubtrees,$=>new Ju({schema:$})))}toSchema(){const d=[];return this.permittedSubtrees&&d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,T=>T.toSchema())})),this.excludedSubtrees&&d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={};return this.permittedSubtrees&&(d.permittedSubtrees=Array.from(this.permittedSubtrees,T=>T.toJSON())),this.excludedSubtrees&&(d.excludedSubtrees=Array.from(this.excludedSubtrees,T=>T.toJSON())),d}}return U.CLASS_NAME="NameConstraints",U})();const Uc="requireExplicitPolicy",za="inhibitPolicyMapping",h_=[Uc,za];let Cp=(()=>{class U extends Oe{constructor(d={}){super(),Uc in d&&(this.requireExplicitPolicy=e(d,Uc,U.defaultValues(Uc))),za in d&&(this.inhibitPolicyMapping=e(d,za,U.defaultValues(za))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Uc:case za:return 0;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new tn({name:T.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new tn({name:T.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(d){L(d,h_);const T=li(d,d,U.schema({names:{requireExplicitPolicy:Uc,inhibitPolicyMapping:za}}));if(ye.assertSchema(T,this.className),Uc in T.result){const $=T.result.requireExplicitPolicy;$.idBlock.tagClass=1,$.idBlock.tagNumber=2;const xe=ft($.toBER(!1));ye.assert(xe,"Integer"),this.requireExplicitPolicy=xe.result.valueBlock.valueDec}if(za in T.result){const $=T.result.inhibitPolicyMapping;$.idBlock.tagClass=1,$.idBlock.tagNumber=2;const xe=ft($.toBER(!1));ye.assert(xe,"Integer"),this.inhibitPolicyMapping=xe.result.valueBlock.valueDec}}toSchema(){const d=[];if(Uc in this){const T=new zn({value:this.requireExplicitPolicy});T.idBlock.tagClass=3,T.idBlock.tagNumber=0,d.push(T)}if(za in this){const T=new zn({value:this.inhibitPolicyMapping});T.idBlock.tagClass=3,T.idBlock.tagNumber=1,d.push(T)}return new Dn({value:d})}toJSON(){const d={};return Uc in this&&(d.requireExplicitPolicy=this.requireExplicitPolicy),za in this&&(d.inhibitPolicyMapping=this.inhibitPolicyMapping),d}}return U.CLASS_NAME="PolicyConstraints",U})();const Qu="issuerDomainPolicy",jd="subjectDomainPolicy",Sp=[Qu,jd];let Co=(()=>{class U extends Oe{constructor(d={}){super(),this.issuerDomainPolicy=e(d,Qu,U.defaultValues(Qu)),this.subjectDomainPolicy=e(d,jd,U.defaultValues(jd)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Qu:case jd:return"";default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.issuerDomainPolicy||""}),new Wt({name:T.subjectDomainPolicy||""})]})}fromSchema(d){L(d,Sp);const T=li(d,d,U.schema({names:{issuerDomainPolicy:Qu,subjectDomainPolicy:jd}}));ye.assertSchema(T,this.className),this.issuerDomainPolicy=T.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=T.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Dn({value:[new Wt({value:this.issuerDomainPolicy}),new Wt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}return U.CLASS_NAME="PolicyMapping",U})();const Yl="mappings",dl=[Yl];let Ep=(()=>{class U extends Oe{constructor(d={}){super(),this.mappings=e(d,Yl,U.defaultValues(Yl)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Yl?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.mappings||"",value:Co.schema()})]})}fromSchema(d){L(d,dl);const T=li(d,d,U.schema({names:{mappings:Yl}}));ye.assertSchema(T,this.className),this.mappings=Array.from(T.result.mappings,$=>new Co({schema:$}))}toSchema(){return new Dn({value:Array.from(this.mappings,d=>d.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,d=>d.toJSON())}}}return U.CLASS_NAME="PolicyMappings",U})();const So="notBefore",Vo="notAfter",Tp=[So,Vo];let jc=(()=>{class U extends Oe{constructor(d={}){super(),So in d&&(this.notBefore=e(d,So,U.defaultValues(So))),Vo in d&&(this.notAfter=e(d,Vo,U.defaultValues(Vo))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case So:case Vo:return new Date;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new tn({name:T.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new tn({name:T.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(d){L(d,Tp);const T=li(d,d,U.schema({names:{notBefore:So,notAfter:Vo}}));if(ye.assertSchema(T,this.className),So in T.result){const $=new Yt;$.fromBuffer(T.result.notBefore.valueBlock.valueHex),this.notBefore=$.toDate()}if(Vo in T.result){const $=new Yt({valueHex:T.result.notAfter.valueBlock.valueHex});$.fromBuffer(T.result.notAfter.valueBlock.valueHex),this.notAfter=$.toDate()}}toSchema(){const d=[];return So in this&&d.push(new tn({idBlock:{tagClass:3,tagNumber:0},valueHex:new Yt({valueDate:this.notBefore}).valueBlock.valueHexView})),Vo in this&&d.push(new tn({idBlock:{tagClass:3,tagNumber:1},valueHex:new Yt({valueDate:this.notAfter}).valueBlock.valueHexView})),new Dn({value:d})}toJSON(){const d={};return this.notBefore&&(d.notBefore=this.notBefore),this.notAfter&&(d.notAfter=this.notAfter),d}}return U.CLASS_NAME="PrivateKeyUsagePeriod",U})();const Sl="id",pc="type",El="values",wp=[Sl,pc],fc=[El];let vu=(()=>{class U extends Oe{constructor(d={}){super(),this.id=e(d,Sl,U.defaultValues(Sl)),pc in d&&(this.type=e(d,pc,U.defaultValues(pc))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Sl:return"";case pc:return new gt;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case Sl:return""===T;case pc:return T instanceof gt;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.id||""}),new Bn({name:T.type||"",optional:!0})]})}fromSchema(d){L(d,wp);const T=li(d,d,U.schema({names:{id:Sl,type:pc}}));ye.assertSchema(T,this.className),this.id=T.result.id.valueBlock.toString(),pc in T.result&&(this.type=T.result.type)}toSchema(){const d=[new Wt({value:this.id})];return pc in this&&d.push(this.type),new Dn({value:d})}toJSON(){const d={id:this.id};return this.type&&(d.type=this.type.toJSON()),d}}return U.CLASS_NAME="QCStatement",U})(),Cr=(()=>{class U extends Oe{constructor(d={}){super(),this.values=e(d,El,U.defaultValues(El)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===El?[]:super.defaultValues(d)}static compareWithDefault(d,T){return d===El?0===T.length:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.values||"",value:vu.schema(T.value||{})})]})}fromSchema(d){L(d,fc);const T=li(d,d,U.schema({names:{values:El}}));ye.assertSchema(T,this.className),this.values=Array.from(T.result.values,$=>new vu({schema:$}))}toSchema(){return new Dn({value:Array.from(this.values,d=>d.toSchema())})}toJSON(){return{values:Array.from(this.values,d=>d.toJSON())}}}return U.CLASS_NAME="QCStatements",U})();var Zu;class Xa{static register(H,d,T){this.namedCurves[H.toLowerCase()]=this.namedCurves[d]={name:H,id:d,size:T}}static find(H){return this.namedCurves[H.toLowerCase()]||null}}Zu=Xa,Xa.namedCurves={},Zu.register("P-256","1.2.840.10045.3.1.7",32),Zu.register("P-384","1.3.132.0.34",48),Zu.register("P-521","1.3.132.0.35",66),Zu.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Zu.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Zu.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);const Gd="namedCurve";let Lo=(()=>{class U extends Oe{constructor(d={}){super(),this.x=e(d,"x",U.defaultValues("x")),this.y=e(d,"y",U.defaultValues("y")),this.namedCurve=e(d,Gd,U.defaultValues(Gd)),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"x":case"y":return es;case Gd:return"";default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case"x":case"y":return T instanceof ArrayBuffer&&E(T,U.defaultValues(d));case Gd:return"string"==typeof T&&T===U.defaultValues(d);default:return super.defaultValues(d)}}static schema(){return new Li}fromSchema(d){const T=f._H.toUint8Array(d);if(4!==T[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const $=Xa.find(this.namedCurve);if(!$)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const _e=$.size;if(T.byteLength!==2*_e+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=$.name,this.x=T.slice(1,_e+1).buffer,this.y=T.slice(1+_e,2*_e+1).buffer}toSchema(){return new Li({data:g(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const d=Xa.find(this.namedCurve);return{crv:d?d.name:this.namedCurve,x:M(y(this.x),!0,!0,!1),y:M(y(this.y),!0,!0,!1)}}fromJSON(d){G.assert("json",d,"crv","x","y");let T=0;const $=Xa.find(d.crv);$&&(this.namedCurve=$.id,T=$.size);const _e=X(W(d.x,!0));if(_e.byteLength<T){this.x=new ArrayBuffer(T);const ze=new Uint8Array(this.x),nt=new Uint8Array(_e);ze.set(nt,1)}else this.x=_e.slice(0,T);const xe=X(W(d.y,!0));if(xe.byteLength<T){this.y=new ArrayBuffer(T);const ze=new Uint8Array(this.y),nt=new Uint8Array(xe);ze.set(nt,1)}else this.y=xe.slice(0,T)}}return U.CLASS_NAME="ECPublicKey",U})();const Oh="modulus",qu="publicExponent",Rf=[Oh,qu];let Gc=(()=>{class U extends Oe{constructor(d={}){super(),this.modulus=e(d,Oh,U.defaultValues(Oh)),this.publicExponent=e(d,qu,U.defaultValues(qu)),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Oh:case qu:return new zn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.modulus||""}),new zn({name:T.publicExponent||""})]})}fromSchema(d){L(d,Rf);const T=li(d,d,U.schema({names:{modulus:Oh,publicExponent:qu}}));ye.assertSchema(T,this.className),this.modulus=T.result.modulus.convertFromDER(256),this.publicExponent=T.result.publicExponent}toSchema(){return new Dn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:f.U$.ToBase64Url(this.modulus.valueBlock.valueHexView),e:f.U$.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(d){G.assert("json",d,"n","e");const T=X(W(d.n,!0));this.modulus=new zn({valueHex:T.slice(0,Math.pow(2,v(T.byteLength)))}),this.publicExponent=new zn({valueHex:X(W(d.e,!0)).slice(0,3)})}}return U.CLASS_NAME="RSAPublicKey",U})();const ed="algorithm",td="subjectPublicKey",p_=[ed,td];let Hc=(()=>{class U extends Oe{get parsedKey(){if(void 0===this._parsedKey){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Wt.blockName())try{this._parsedKey=new Lo({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch{}break;case"1.2.840.113549.1.1.1":{const d=ft(this.subjectPublicKey.valueBlock.valueHexView);if(-1!==d.offset)try{this._parsedKey=new Gc({schema:d.result})}catch{}}}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(d){this._parsedKey=d}constructor(d={}){super(),this.algorithm=e(d,ed,U.defaultValues(ed)),this.subjectPublicKey=e(d,td,U.defaultValues(td));const T=e(d,"parsedKey",null);T&&(this.parsedKey=T),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case ed:return new Rs;case td:return new Tn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Rs.schema(T.algorithm||{}),new Tn({name:T.subjectPublicKey||""})]})}fromSchema(d){L(d,p_);const T=li(d,d,U.schema({names:{algorithm:{names:{blockName:ed}},subjectPublicKey:td}}));ye.assertSchema(T,this.className),this.algorithm=new Rs({schema:T.result.algorithm}),this.subjectPublicKey=T.result.subjectPublicKey}toSchema(){return new Dn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const d={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":d.kty="EC";break;case"1.2.840.113549.1.1.1":d.kty="RSA"}const T=this.parsedKey.toJSON();return Object.assign(d,T),d}fromJSON(d){if("kty"in d){switch(d.kty.toUpperCase()){case"EC":this.parsedKey=new Lo({json:d}),this.algorithm=new Rs({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Wt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Gc({json:d}),this.algorithm=new Rs({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new gt});break;default:throw new Error(`Invalid value for "kty" parameter: ${d.kty}`)}this.subjectPublicKey=new Tn({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(d,T=po(!0)){var $=this;return(0,t.A)(function*(){try{if(!d)throw new Error("Need to provide publicKey input parameter");const xe=ft(yield T.exportKey("spki",d));try{$.fromSchema(xe.result)}catch{throw new Error("Error during initializing object from schema")}}catch(_e){const xe=_e instanceof Error?_e.message:`${_e}`;throw new Error(`Error during exporting public key: ${xe}`)}})()}}return U.CLASS_NAME="PublicKeyInfo",U})();const nd="version",Hd="privateKey",ho="namedCurve",mc="publicKey",_g=[nd,Hd,ho,mc];let vg=(()=>{class U extends Oe{constructor(d={}){super(),this.version=e(d,nd,U.defaultValues(nd)),this.privateKey=e(d,Hd,U.defaultValues(Hd)),ho in d&&(this.namedCurve=e(d,ho,U.defaultValues(ho))),mc in d&&(this.publicKey=e(d,mc,U.defaultValues(mc))),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case nd:return 1;case Hd:return new Ot;case ho:return"";case mc:return new Lo;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case nd:return T===U.defaultValues(d);case Hd:return T.isEqual(U.defaultValues(d));case ho:return""===T;case mc:return Lo.compareWithDefault(ho,T.namedCurve)&&Lo.compareWithDefault("x",T.x)&&Lo.compareWithDefault("y",T.y);default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.version||""}),new Ot({name:T.privateKey||""}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Wt({name:T.namedCurve||""})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Tn({name:T.publicKey||""})]})]})}fromSchema(d){L(d,_g);const T=li(d,d,U.schema({names:{version:nd,privateKey:Hd,namedCurve:ho,publicKey:mc}}));if(ye.assertSchema(T,this.className),this.version=T.result.version.valueBlock.valueDec,this.privateKey=T.result.privateKey,ho in T.result&&(this.namedCurve=T.result.namedCurve.valueBlock.toString()),mc in T.result){const $={schema:T.result.publicKey.valueBlock.valueHex};ho in this&&($.namedCurve=this.namedCurve),this.publicKey=new Lo($)}}toSchema(){const d=[new zn({value:this.version}),this.privateKey];return this.namedCurve&&d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new Wt({value:this.namedCurve})]})),this.publicKey&&d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[new Tn({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Dn({value:d})}toJSON(){if(!this.namedCurve||U.compareWithDefault(ho,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');const d=Xa.find(this.namedCurve),T={crv:d?d.name:this.namedCurve,d:f.U$.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const $=this.publicKey.toJSON();T.x=$.x,T.y=$.y}return T}fromJSON(d){G.assert("json",d,"crv","d");let T=0;const $=Xa.find(d.crv);$&&(this.namedCurve=$.id,T=$.size);const _e=f.U$.FromBase64Url(d.d);if(_e.byteLength<T){const xe=new ArrayBuffer(T),ze=new Uint8Array(xe),nt=new Uint8Array(_e);ze.set(nt,1),this.privateKey=new Ot({valueHex:xe})}else this.privateKey=new Ot({valueHex:_e.slice(0,T)});d.x&&d.y&&(this.publicKey=new Lo({json:d}))}}return U.CLASS_NAME="ECPrivateKey",U})();const id="prime",sd="exponent",pa="coefficient",Fy=[id,sd,pa];let Af=(()=>{class U extends Oe{constructor(d={}){super(),this.prime=e(d,id,U.defaultValues(id)),this.exponent=e(d,sd,U.defaultValues(sd)),this.coefficient=e(d,pa,U.defaultValues(pa)),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case id:case sd:case pa:return new zn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.prime||""}),new zn({name:T.exponent||""}),new zn({name:T.coefficient||""})]})}fromSchema(d){L(d,Fy);const T=li(d,d,U.schema({names:{prime:id,exponent:sd,coefficient:pa}}));ye.assertSchema(T,this.className),this.prime=T.result.prime.convertFromDER(),this.exponent=T.result.exponent.convertFromDER(),this.coefficient=T.result.coefficient.convertFromDER()}toSchema(){return new Dn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:f.U$.ToBase64Url(this.prime.valueBlock.valueHexView),d:f.U$.ToBase64Url(this.exponent.valueBlock.valueHexView),t:f.U$.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(d){G.assert("json",d,"r","d","r"),this.prime=new zn({valueHex:f.U$.FromBase64Url(d.r)}),this.exponent=new zn({valueHex:f.U$.FromBase64Url(d.d)}),this.coefficient=new zn({valueHex:f.U$.FromBase64Url(d.t)})}}return U.CLASS_NAME="OtherPrimeInfo",U})();const Ip="version",Kd="modulus",hl="publicExponent",gc="privateExponent",xh="prime1",Uo="prime2",Kc="exponent1",Rp="exponent2",Wd="coefficient",Wc="otherPrimeInfos",yu=[Ip,Kd,hl,gc,xh,Uo,Kc,Rp,Wd,Wc];let yg=(()=>{class U extends Oe{constructor(d={}){super(),this.version=e(d,Ip,U.defaultValues(Ip)),this.modulus=e(d,Kd,U.defaultValues(Kd)),this.publicExponent=e(d,hl,U.defaultValues(hl)),this.privateExponent=e(d,gc,U.defaultValues(gc)),this.prime1=e(d,xh,U.defaultValues(xh)),this.prime2=e(d,Uo,U.defaultValues(Uo)),this.exponent1=e(d,Kc,U.defaultValues(Kc)),this.exponent2=e(d,Rp,U.defaultValues(Rp)),this.coefficient=e(d,Wd,U.defaultValues(Wd)),Wc in d&&(this.otherPrimeInfos=e(d,Wc,U.defaultValues(Wc))),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Ip:return 0;case Kd:case hl:case gc:case xh:case Uo:case Kc:case Rp:case Wd:return new zn;case Wc:return[];default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.version||""}),new zn({name:T.modulus||""}),new zn({name:T.publicExponent||""}),new zn({name:T.privateExponent||""}),new zn({name:T.prime1||""}),new zn({name:T.prime2||""}),new zn({name:T.exponent1||""}),new zn({name:T.exponent2||""}),new zn({name:T.coefficient||""}),new Dn({optional:!0,value:[new Di({name:T.otherPrimeInfosName||"",value:Af.schema(T.otherPrimeInfo||{})})]})]})}fromSchema(d){L(d,yu);const T=li(d,d,U.schema({names:{version:Ip,modulus:Kd,publicExponent:hl,privateExponent:gc,prime1:xh,prime2:Uo,exponent1:Kc,exponent2:Rp,coefficient:Wd,otherPrimeInfo:{names:{blockName:Wc}}}}));ye.assertSchema(T,this.className),this.version=T.result.version.valueBlock.valueDec,this.modulus=T.result.modulus.convertFromDER(256),this.publicExponent=T.result.publicExponent,this.privateExponent=T.result.privateExponent.convertFromDER(256),this.prime1=T.result.prime1.convertFromDER(128),this.prime2=T.result.prime2.convertFromDER(128),this.exponent1=T.result.exponent1.convertFromDER(128),this.exponent2=T.result.exponent2.convertFromDER(128),this.coefficient=T.result.coefficient.convertFromDER(128),Wc in T.result&&(this.otherPrimeInfos=Array.from(T.result.otherPrimeInfos,$=>new Af({schema:$})))}toSchema(){const d=[];return d.push(new zn({value:this.version})),d.push(this.modulus.convertToDER()),d.push(this.publicExponent),d.push(this.privateExponent.convertToDER()),d.push(this.prime1.convertToDER()),d.push(this.prime2.convertToDER()),d.push(this.exponent1.convertToDER()),d.push(this.exponent2.convertToDER()),d.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&d.push(new Dn({value:Array.from(this.otherPrimeInfos,T=>T.toSchema())})),new Dn({value:d})}toJSON(){const d={n:f.U$.ToBase64Url(this.modulus.valueBlock.valueHexView),e:f.U$.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:f.U$.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:f.U$.ToBase64Url(this.prime1.valueBlock.valueHexView),q:f.U$.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:f.U$.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:f.U$.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:f.U$.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(d.oth=Array.from(this.otherPrimeInfos,T=>T.toJSON())),d}fromJSON(d){G.assert("json",d,"n","e","d","p","q","dp","dq","qi"),this.modulus=new zn({valueHex:f.U$.FromBase64Url(d.n)}),this.publicExponent=new zn({valueHex:f.U$.FromBase64Url(d.e)}),this.privateExponent=new zn({valueHex:f.U$.FromBase64Url(d.d)}),this.prime1=new zn({valueHex:f.U$.FromBase64Url(d.p)}),this.prime2=new zn({valueHex:f.U$.FromBase64Url(d.q)}),this.exponent1=new zn({valueHex:f.U$.FromBase64Url(d.dp)}),this.exponent2=new zn({valueHex:f.U$.FromBase64Url(d.dq)}),this.coefficient=new zn({valueHex:f.U$.FromBase64Url(d.qi)}),d.oth&&(this.otherPrimeInfos=Array.from(d.oth,T=>new Af({json:T})))}}return U.CLASS_NAME="RSAPrivateKey",U})();const kh="version",pl="privateKeyAlgorithm",Yc="privateKey",bu="attributes",Ph="parsedKey",By=[kh,pl,Yc,bu];let Yd=(()=>{class U extends Oe{constructor(d={}){super(),this.version=e(d,kh,U.defaultValues(kh)),this.privateKeyAlgorithm=e(d,pl,U.defaultValues(pl)),this.privateKey=e(d,Yc,U.defaultValues(Yc)),bu in d&&(this.attributes=e(d,bu,U.defaultValues(bu))),Ph in d&&(this.parsedKey=e(d,Ph,U.defaultValues(Ph))),d.json&&this.fromJSON(d.json),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case kh:return 0;case pl:return new Rs;case Yc:return new Ot;case bu:return[];case Ph:return{};default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new zn({name:T.version||""}),Rs.schema(T.privateKeyAlgorithm||{}),new Ot({name:T.privateKey||""}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Di({name:T.attributes||"",value:$s.schema()})]})]})}fromSchema(d){L(d,By);const T=li(d,d,U.schema({names:{version:kh,privateKeyAlgorithm:{names:{blockName:pl}},privateKey:Yc,attributes:bu}}));switch(ye.assertSchema(T,this.className),this.version=T.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Rs({schema:T.result.privateKeyAlgorithm}),this.privateKey=T.result.privateKey,bu in T.result&&(this.attributes=Array.from(T.result.attributes,$=>new $s({schema:$}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const $=ft(this.privateKey.valueBlock.valueHexView);-1!==$.offset&&(this.parsedKey=new yg({schema:$.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Wt){const $=ft(this.privateKey.valueBlock.valueHexView);-1!==$.offset&&(this.parsedKey=new vg({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:$.result}))}}}toSchema(){const d=[new zn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,T=>T.toSchema())})),new Dn({value:d})}toJSON(){if(!this.parsedKey){const $={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&($.attributes=Array.from(this.attributes,_e=>_e.toJSON())),$}const d={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":d.kty="EC";break;case"1.2.840.113549.1.1.1":d.kty="RSA"}const T=this.parsedKey.toJSON();return Object.assign(d,T),d}fromJSON(d){if("kty"in d){switch(d.kty.toUpperCase()){case"EC":this.parsedKey=new vg({json:d}),this.privateKeyAlgorithm=new Rs({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Wt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new yg({json:d}),this.privateKeyAlgorithm=new Rs({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new gt});break;default:throw new Error(`Invalid value for "kty" parameter: ${d.kty}`)}this.privateKey=new Ot({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}return U.CLASS_NAME="PrivateKeyInfo",U})();const zc="contentType",rd="contentEncryptionAlgorithm",ur="encryptedContent",f_=[zc,rd,ur];let Ap=(()=>{class U extends Oe{constructor(d={}){if(super(),this.contentType=e(d,zc,U.defaultValues(zc)),this.contentEncryptionAlgorithm=e(d,rd,U.defaultValues(rd)),ur in d&&d.encryptedContent&&(this.encryptedContent=d.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed&&!d.disableSplit)){const T=new Ot({idBlock:{isConstructed:!0},isConstructed:!0});let $=0;const _e=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let xe=_e.byteLength;for(;xe>0;){const ze=new Uint8Array(_e,$,$+1024>_e.byteLength?_e.byteLength-$:1024),nt=new ArrayBuffer(ze.length),bt=new Uint8Array(nt);for(let Gt=0;Gt<bt.length;Gt++)bt[Gt]=ze[Gt];T.valueBlock.value.push(new Ot({valueHex:nt})),xe-=ze.length,$+=ze.length}this.encryptedContent=T}d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case zc:return"";case rd:return new Rs;case ur:return new Ot;default:return super.defaultValues(d)}}static compareWithDefault(d,T){switch(d){case zc:return""===T;case rd:return""===T.algorithmId&&!("algorithmParams"in T);case ur:return T.isEqual(U.defaultValues(ur));default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.contentType||""}),Rs.schema(T.contentEncryptionAlgorithm||{}),new Wi({value:[new P({name:T.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Di({value:new Ot})]}),new tn({name:T.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(d){L(d,f_);const T=li(d,d,U.schema({names:{contentType:zc,contentEncryptionAlgorithm:{names:{blockName:rd}},encryptedContent:ur}}));ye.assertSchema(T,this.className),this.contentType=T.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Rs({schema:T.result.contentEncryptionAlgorithm}),ur in T.result&&(this.encryptedContent=T.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const d={isIndefiniteForm:!1},T=[];if(T.push(new Wt({value:this.contentType})),T.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){d.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const $=this.encryptedContent;$.idBlock.tagClass=3,$.idBlock.tagNumber=0,$.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,T.push($)}return new Dn({lenBlock:d,value:T})}toJSON(){const d={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(d.encryptedContent=this.encryptedContent.toJSON()),d}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return Ot.prototype.getValue.call(this.encryptedContent)}}return U.CLASS_NAME="EncryptedContentInfo",U})();const Cu="hashAlgorithm",_c="maskGenAlgorithm",Xc="saltLength",Jc="trailerField",Nf=[Cu,_c,Xc,Jc];let Mf=(()=>{class U extends Oe{constructor(d={}){super(),this.hashAlgorithm=e(d,Cu,U.defaultValues(Cu)),this.maskGenAlgorithm=e(d,_c,U.defaultValues(_c)),this.saltLength=e(d,Xc,U.defaultValues(Xc)),this.trailerField=e(d,Jc,U.defaultValues(Jc)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Cu:return new Rs({algorithmId:"1.3.14.3.2.26",algorithmParams:new gt});case _c:return new Rs({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Rs({algorithmId:"1.3.14.3.2.26",algorithmParams:new gt}).toSchema()});case Xc:return 20;case Jc:return 1;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new P({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Rs.schema(T.hashAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Rs.schema(T.maskGenAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new zn({name:T.saltLength||""})]}),new P({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new zn({name:T.trailerField||""})]})]})}fromSchema(d){L(d,Nf);const T=li(d,d,U.schema({names:{hashAlgorithm:{names:{blockName:Cu}},maskGenAlgorithm:{names:{blockName:_c}},saltLength:Xc,trailerField:Jc}}));ye.assertSchema(T,this.className),Cu in T.result&&(this.hashAlgorithm=new Rs({schema:T.result.hashAlgorithm})),_c in T.result&&(this.maskGenAlgorithm=new Rs({schema:T.result.maskGenAlgorithm})),Xc in T.result&&(this.saltLength=T.result.saltLength.valueBlock.valueDec),Jc in T.result&&(this.trailerField=T.result.trailerField.valueBlock.valueDec)}toSchema(){const d=[];return this.hashAlgorithm.isEqual(U.defaultValues(Cu))||d.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(U.defaultValues(_c))||d.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==U.defaultValues(Xc)&&d.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[new zn({value:this.saltLength})]})),this.trailerField!==U.defaultValues(Jc)&&d.push(new P({idBlock:{tagClass:3,tagNumber:3},value:[new zn({value:this.trailerField})]})),new Dn({value:d})}toJSON(){const d={};return this.hashAlgorithm.isEqual(U.defaultValues(Cu))||(d.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(U.defaultValues(_c))||(d.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==U.defaultValues(Xc)&&(d.saltLength=this.saltLength),this.trailerField!==U.defaultValues(Jc)&&(d.trailerField=this.trailerField),d}}return U.CLASS_NAME="RSASSAPSSParams",U})();const ad="salt",zd="iterationCount",zl="keyLength",Ja="prf",m_=[ad,zd,zl,Ja];let bg=(()=>{class U extends Oe{constructor(d={}){super(),this.salt=e(d,ad,U.defaultValues(ad)),this.iterationCount=e(d,zd,U.defaultValues(zd)),zl in d&&(this.keyLength=e(d,zl,U.defaultValues(zl))),Ja in d&&(this.prf=e(d,Ja,U.defaultValues(Ja))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case ad:return{};case zd:return-1;case zl:return 0;case Ja:return new Rs({algorithmId:"1.3.14.3.2.26",algorithmParams:new gt});default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wi({value:[new Ot({name:T.saltPrimitive||""}),Rs.schema(T.saltConstructed||{})]}),new zn({name:T.iterationCount||""}),new zn({name:T.keyLength||"",optional:!0}),Rs.schema(T.prf||{names:{optional:!0}})]})}fromSchema(d){L(d,m_);const T=li(d,d,U.schema({names:{saltPrimitive:ad,saltConstructed:{names:{blockName:ad}},iterationCount:zd,keyLength:zl,prf:{names:{blockName:Ja,optional:!0}}}}));ye.assertSchema(T,this.className),this.salt=T.result.salt,this.iterationCount=T.result.iterationCount.valueBlock.valueDec,zl in T.result&&(this.keyLength=T.result.keyLength.valueBlock.valueDec),Ja in T.result&&(this.prf=new Rs({schema:T.result.prf}))}toSchema(){const d=[];return d.push(this.salt),d.push(new zn({value:this.iterationCount})),zl in this&&U.defaultValues(zl)!==this.keyLength&&d.push(new zn({value:this.keyLength})),this.prf&&!1===U.defaultValues(Ja).isEqual(this.prf)&&d.push(this.prf.toSchema()),new Dn({value:d})}toJSON(){const d={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return zl in this&&U.defaultValues(zl)!==this.keyLength&&(d.keyLength=this.keyLength),this.prf&&!1===U.defaultValues(Ja).isEqual(this.prf)&&(d.prf=this.prf.toJSON()),d}}return U.CLASS_NAME="PBKDF2Params",U})();const Dp="keyDerivationFunc",Np="encryptionScheme",Cg=[Dp,Np];let Sg=(()=>{class U extends Oe{constructor(d={}){super(),this.keyDerivationFunc=e(d,Dp,U.defaultValues(Dp)),this.encryptionScheme=e(d,Np,U.defaultValues(Np)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Dp:case Np:return new Rs;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Rs.schema(T.keyDerivationFunc||{}),Rs.schema(T.encryptionScheme||{})]})}fromSchema(d){L(d,Cg);const T=li(d,d,U.schema({names:{keyDerivationFunc:{names:{blockName:Dp}},encryptionScheme:{names:{blockName:Np}}}}));ye.assertSchema(T,this.className),this.keyDerivationFunc=new Rs({schema:T.result.keyDerivationFunc}),this.encryptionScheme=new Rs({schema:T.result.encryptionScheme})}toSchema(){return new Dn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}return U.CLASS_NAME="PBES2Params",U})();class g_{constructor(H){this.crypto=H.crypto,this.subtle="webkitSubtle"in H.crypto?H.crypto.webkitSubtle:H.crypto.subtle,this.name=e(H,"name","")}encrypt(...H){var d=this;return(0,t.A)(function*(){return d.subtle.encrypt(...H)})()}decrypt(...H){var d=this;return(0,t.A)(function*(){return d.subtle.decrypt(...H)})()}sign(...H){return this.subtle.sign(...H)}verify(...H){var d=this;return(0,t.A)(function*(){return d.subtle.verify(...H)})()}digest(...H){var d=this;return(0,t.A)(function*(){return d.subtle.digest(...H)})()}generateKey(...H){var d=this;return(0,t.A)(function*(){return d.subtle.generateKey(...H)})()}deriveKey(...H){var d=this;return(0,t.A)(function*(){return d.subtle.deriveKey(...H)})()}deriveBits(...H){var d=this;return(0,t.A)(function*(){return d.subtle.deriveBits(...H)})()}wrapKey(...H){var d=this;return(0,t.A)(function*(){return d.subtle.wrapKey(...H)})()}unwrapKey(...H){var d=this;return(0,t.A)(function*(){return d.subtle.unwrapKey(...H)})()}exportKey(...H){return this.subtle.exportKey(...H)}importKey(...H){return this.subtle.importKey(...H)}getRandomValues(H){return this.crypto.getRandomValues(H)}}function Eg(U,H,d,T,$){return Su.apply(this,arguments)}function Su(){return(Su=(0,t.A)(function*(U,H,d,T,$){let _e,xe,ze;switch(U.toUpperCase()){case"SHA-1":_e=20,xe=64,ze=sl;break;case"SHA-256":_e=32,xe=64,ze=Hi;break;case"SHA-384":_e=48,xe=128,ze=Mt;break;case"SHA-512":_e=64,xe=128,ze=Ie;break;default:throw new Error("Unsupported hashing algorithm")}const nt=new Uint8Array(d);let bt=(new TextDecoder).decode(d);(new TextEncoder).encode(bt).some((Fi,Oi)=>Fi!==nt[Oi])&&(bt=String.fromCharCode(...nt));const qt=new Uint8Array(2*bt.length+2),An=new DataView(qt.buffer);for(let Fi=0;Fi<bt.length;Fi++)An.setUint16(2*Fi,bt.charCodeAt(Fi),!1);An.setUint16(2*bt.length,0,!1);const hn=new Uint8Array(xe).fill(3),di=new Uint8Array(T),Pi=new Uint8Array(xe*Math.ceil(di.length/xe)).map((Fi,Oi)=>di[Oi%di.length]),wi=new Uint8Array(xe*Math.ceil(qt.length/xe)).map((Fi,Oi)=>qt[Oi%qt.length]);let ui=new Uint8Array(Pi.length+wi.length);ui.set(Pi),ui.set(wi,Pi.length);const gs=Math.ceil((H>>3)/_e),pi=[];for(let Fi=0;Fi<gs;Fi++){let Oi=new Uint8Array(hn.length+ui.length);Oi.set(hn),Oi.set(ui,hn.length);for(let Ns=0;Ns<$;Ns++)Oi=ze(Oi);const is=new Uint8Array(xe).map((Ns,ra)=>Oi[ra%Oi.length]),Is=Math.ceil(di.length/xe)+Math.ceil(qt.length/xe),Cs=[];for(let Ns=0;Ns<Is;Ns++){const ra=Array.from(ui.slice(Ns*xe,(Ns+1)*xe));let Io=511;for(let dr=is.length-1;dr>=0;dr--)Io>>=8,Io+=is[dr]+(ra[dr]||0),ra[dr]=255&Io;Cs.push(...ra)}ui=new Uint8Array(Cs),pi.push(...Oi)}return new Uint8Array(pi.slice(0,H>>3)).buffer})).apply(this,arguments)}function od(U){const H="string"==typeof U?{name:U}:U;return"hash"in H?{...H,hash:od(H.hash)}:H}class Mp extends g_{importKey(H,d,T,$,_e){var xe=this;return(0,t.A)(function*(){var ze,nt,bt,Gt,qt,An;let hn={};const di=od(T);switch(H.toLowerCase()){case"raw":return xe.subtle.importKey("raw",d,T,$,_e);case"spki":{const Pi=ft(f._H.toArrayBuffer(d));ye.assert(Pi,"keyData");const wi=new Hc;try{wi.fromSchema(Pi.result)}catch{throw new Ee("Incorrect keyData")}switch(di.name.toUpperCase()){case"RSA-PSS":if(!di.hash)throw new G("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(di.hash.name.toUpperCase()){case"SHA-1":hn.alg="PS1";break;case"SHA-256":hn.alg="PS256";break;case"SHA-384":hn.alg="PS384";break;case"SHA-512":hn.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${di.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(_e=["verify"],hn.kty="RSA",hn.ext=$,hn.key_ops=_e,"1.2.840.113549.1.1.1"!==wi.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${wi.algorithm.algorithmId}`);if(!hn.alg){if(!di.hash)throw new G("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(di.hash.name.toUpperCase()){case"SHA-1":hn.alg="RS1";break;case"SHA-256":hn.alg="RS256";break;case"SHA-384":hn.alg="RS384";break;case"SHA-512":hn.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${di.hash.name.toUpperCase()}`)}}const ui=wi.toJSON();Object.assign(hn,ui)}break;case"ECDSA":_e=["verify"];case"ECDH":{if(hn={kty:"EC",ext:$,key_ops:_e},"1.2.840.10045.2.1"!==wi.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${wi.algorithm.algorithmId}`);const ui=wi.toJSON();Object.assign(hn,ui)}break;case"RSA-OAEP":{if(hn.kty="RSA",hn.ext=$,hn.key_ops=_e,"safari"===xe.name.toLowerCase())hn.alg="RSA-OAEP";else{if(!di.hash)throw new G("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(di.hash.name.toUpperCase()){case"SHA-1":hn.alg="RSA-OAEP";break;case"SHA-256":hn.alg="RSA-OAEP-256";break;case"SHA-384":hn.alg="RSA-OAEP-384";break;case"SHA-512":hn.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${di.hash.name.toUpperCase()}`)}}const ui=wi.toJSON();Object.assign(hn,ui)}break;case"RSAES-PKCS1-V1_5":{hn.kty="RSA",hn.ext=$,hn.key_ops=_e,hn.alg="PS1";const ui=wi.toJSON();Object.assign(hn,ui)}break;default:throw new Error(`Incorrect algorithm name: ${di.name.toUpperCase()}`)}}break;case"pkcs8":{const Pi=new Yd,wi=ft(f._H.toArrayBuffer(d));ye.assert(wi,"keyData");try{Pi.fromSchema(wi.result)}catch{throw new Error("Incorrect keyData")}if(!Pi.parsedKey)throw new Error("Incorrect keyData");switch(di.name.toUpperCase()){case"RSA-PSS":switch(null===(ze=di.hash)||void 0===ze?void 0:ze.name.toUpperCase()){case"SHA-1":hn.alg="PS1";break;case"SHA-256":hn.alg="PS256";break;case"SHA-384":hn.alg="PS384";break;case"SHA-512":hn.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(nt=di.hash)||void 0===nt?void 0:nt.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(_e=["sign"],hn.kty="RSA",hn.ext=$,hn.key_ops=_e,"1.2.840.113549.1.1.1"!==Pi.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect private key algorithm: ${Pi.privateKeyAlgorithm.algorithmId}`);if(!("alg"in hn))switch(null===(bt=di.hash)||void 0===bt?void 0:bt.name.toUpperCase()){case"SHA-1":hn.alg="RS1";break;case"SHA-256":hn.alg="RS256";break;case"SHA-384":hn.alg="RS384";break;case"SHA-512":hn.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(Gt=di.hash)||void 0===Gt?void 0:Gt.name.toUpperCase()}`)}const ui=Pi.toJSON();Object.assign(hn,ui)}break;case"ECDSA":_e=["sign"];case"ECDH":{if(hn={kty:"EC",ext:$,key_ops:_e},"1.2.840.10045.2.1"!==Pi.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect algorithm: ${Pi.privateKeyAlgorithm.algorithmId}`);const ui=Pi.toJSON();Object.assign(hn,ui)}break;case"RSA-OAEP":{if(hn.kty="RSA",hn.ext=$,hn.key_ops=_e,"safari"===xe.name.toLowerCase())hn.alg="RSA-OAEP";else switch(null===(qt=di.hash)||void 0===qt?void 0:qt.name.toUpperCase()){case"SHA-1":hn.alg="RSA-OAEP";break;case"SHA-256":hn.alg="RSA-OAEP-256";break;case"SHA-384":hn.alg="RSA-OAEP-384";break;case"SHA-512":hn.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(An=di.hash)||void 0===An?void 0:An.name.toUpperCase()}`)}const ui=Pi.toJSON();Object.assign(hn,ui)}break;case"RSAES-PKCS1-V1_5":{_e=["decrypt"],hn.kty="RSA",hn.ext=$,hn.key_ops=_e,hn.alg="PS1";const ui=Pi.toJSON();Object.assign(hn,ui)}break;default:throw new Error(`Incorrect algorithm name: ${di.name.toUpperCase()}`)}}break;case"jwk":hn=d;break;default:throw new Error(`Incorrect format: ${H}`)}if("safari"===xe.name.toLowerCase())try{return xe.subtle.importKey("jwk",X(JSON.stringify(hn)),T,$,_e)}catch{return xe.subtle.importKey("jwk",hn,T,$,_e)}return xe.subtle.importKey("jwk",hn,T,$,_e)})()}exportKey(H,d){var T=this;return(0,t.A)(function*(){let $=yield T.subtle.exportKey("jwk",d);switch("safari"===T.name.toLowerCase()&&$ instanceof ArrayBuffer&&($=JSON.parse(y($))),H.toLowerCase()){case"raw":return T.subtle.exportKey("raw",d);case"spki":{const _e=new Hc;try{_e.fromJSON($)}catch{throw new Error("Incorrect key data")}return _e.toSchema().toBER(!1)}case"pkcs8":{const _e=new Yd;try{_e.fromJSON($)}catch{throw new Error("Incorrect key data")}return _e.toSchema().toBER(!1)}case"jwk":return $;default:throw new Error(`Incorrect format: ${H}`)}})()}convert(H,d,T,$,_e,xe){var ze=this;return(0,t.A)(function*(){if(H.toLowerCase()===d.toLowerCase())return T;const nt=yield ze.importKey(H,T,$,_e,xe);return ze.exportKey(d,nt)})()}getAlgorithmByOID(H,d=!1,T){switch(H){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(d)throw new Error(`Unsupported algorithm identifier ${T?`for ${T} `:""}: ${H}`);return{}}getOIDByAlgorithm(H,d=!1,T){let $="";switch(H.name.toUpperCase()){case"RSAES-PKCS1-V1_5":$="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(H.hash.name.toUpperCase()){case"SHA-1":$="1.2.840.113549.1.1.5";break;case"SHA-256":$="1.2.840.113549.1.1.11";break;case"SHA-384":$="1.2.840.113549.1.1.12";break;case"SHA-512":$="1.2.840.113549.1.1.13"}break;case"RSA-PSS":$="1.2.840.113549.1.1.10";break;case"RSA-OAEP":$="1.2.840.113549.1.1.7";break;case"ECDSA":switch(H.hash.name.toUpperCase()){case"SHA-1":$="1.2.840.10045.4.1";break;case"SHA-256":$="1.2.840.10045.4.3.2";break;case"SHA-384":$="1.2.840.10045.4.3.3";break;case"SHA-512":$="1.2.840.10045.4.3.4"}break;case"ECDH":switch(H.kdf.toUpperCase()){case"SHA-1":$="1.3.133.16.840.63.0.2";break;case"SHA-256":$="1.3.132.1.11.1";break;case"SHA-384":$="1.3.132.1.11.2";break;case"SHA-512":$="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(H.length){case 128:$="2.16.840.1.101.3.4.1.2";break;case 192:$="2.16.840.1.101.3.4.1.22";break;case 256:$="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(H.length){case 128:$="2.16.840.1.101.3.4.1.6";break;case 192:$="2.16.840.1.101.3.4.1.26";break;case 256:$="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(H.length){case 128:$="2.16.840.1.101.3.4.1.4";break;case 192:$="2.16.840.1.101.3.4.1.24";break;case 256:$="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(H.length){case 128:$="2.16.840.1.101.3.4.1.5";break;case 192:$="2.16.840.1.101.3.4.1.25";break;case 256:$="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(H.hash.name.toUpperCase()){case"SHA-1":$="1.2.840.113549.2.7";break;case"SHA-256":$="1.2.840.113549.2.9";break;case"SHA-384":$="1.2.840.113549.2.10";break;case"SHA-512":$="1.2.840.113549.2.11"}break;case"DH":$="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":$="1.3.14.3.2.26";break;case"SHA-256":$="2.16.840.1.101.3.4.2.1";break;case"SHA-384":$="2.16.840.1.101.3.4.2.2";break;case"SHA-512":$="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":$="1.2.840.113549.1.5.12";break;case"P-256":$="1.2.840.10045.3.1.7";break;case"P-384":$="1.3.132.0.34";break;case"P-521":$="1.3.132.0.35"}if(!$&&d)throw new Error(`Unsupported algorithm ${T?`for ${T} `:""}: ${H.name}`);return $}getAlgorithmParameters(H,d){let T={algorithm:{},usages:[]};switch(H.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(d.toLowerCase()){case"generatekey":T={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":T={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(d.toLowerCase()){case"sign":case"verify":T={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":T={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":T={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(d.toLowerCase()){case"encrypt":case"decrypt":T={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":T={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":T={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(d.toLowerCase()){case"generatekey":T={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":T={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":T={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(d.toLowerCase()){case"exportkey":case"importkey":case"generatekey":T={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":T={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":T={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":T={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":T={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(d.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":T={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(d.toLowerCase()){case"sign":case"verify":T={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":T={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==d.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};T={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==d.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};T={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return T}getHashAlgorithm(H){let d="";switch(H.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":d="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":d="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":d="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":d="SHA-512";break;case"1.2.840.113549.1.1.10":try{const T=new Mf({schema:H.algorithmParams});if(T.hashAlgorithm){const $=this.getAlgorithmByOID(T.hashAlgorithm.algorithmId);if(!("name"in $))return"";d=$.name}else d="SHA-1"}catch{}}return d}encryptEncryptedContentInfo(H){var d=this;return(0,t.A)(function*(){G.assert(H,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const T=d.getOIDByAlgorithm(H.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),$=d.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),_e=d.getOIDByAlgorithm({name:"HMAC",hash:{name:H.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),xe=new ArrayBuffer(16),ze=new Uint8Array(xe);d.getRandomValues(ze);const nt=new ArrayBuffer(64),bt=new Uint8Array(nt);d.getRandomValues(bt);const Gt=new Uint8Array(H.contentToEncrypt),qt=new bg({salt:new Ot({valueHex:nt}),iterationCount:H.iterationCount,prf:new Rs({algorithmId:_e,algorithmParams:new gt})}),An=new Uint8Array(H.password),hn=yield d.importKey("raw",An,"PBKDF2",!1,["deriveKey"]),di=yield d.deriveKey({name:"PBKDF2",hash:{name:H.hmacHashAlgorithm},salt:bt,iterations:H.iterationCount},hn,H.contentEncryptionAlgorithm,!1,["encrypt"]),Pi=yield d.encrypt({name:H.contentEncryptionAlgorithm.name,iv:ze},di,Gt),wi=new Sg({keyDerivationFunc:new Rs({algorithmId:$,algorithmParams:qt.toSchema()}),encryptionScheme:new Rs({algorithmId:T,algorithmParams:new Ot({valueHex:xe})})});return new Ap({contentType:H.contentType,contentEncryptionAlgorithm:new Rs({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:wi.toSchema()}),encryptedContent:new Ot({valueHex:Pi})})})()}decryptEncryptedContentInfo(H){var d=this;return(0,t.A)(function*(){if(G.assert(H,"password","encryptedContentInfo"),"1.2.840.113549.1.5.13"!==H.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)throw new Error(`Unknown "contentEncryptionAlgorithm": ${H.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let T,$;try{T=new Sg({schema:H.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbes2Parameters"')}try{$=new bg({schema:T.keyDerivationFunc.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbkdf2Params"')}const _e=d.getAlgorithmByOID(T.encryptionScheme.algorithmId,!0),ze=new Uint8Array(T.encryptionScheme.algorithmParams.valueBlock.valueHex),bt=new Uint8Array($.salt.valueBlock.valueHex),Gt=$.iterationCount;let qt="SHA-1";$.prf&&(qt=d.getAlgorithmByOID($.prf.algorithmId,!0).hash.name);const An=yield d.importKey("raw",H.password,"PBKDF2",!1,["deriveKey"]),hn=yield d.deriveKey({name:"PBKDF2",hash:{name:qt},salt:bt,iterations:Gt},An,_e,!1,["decrypt"]),di=H.encryptedContentInfo.getEncryptedContent();return d.decrypt({name:_e.name,iv:ze},hn,di)})()}stampDataWithPassword(H){var d=this;return(0,t.A)(function*(){if(!(H instanceof Object))throw new Error('Parameters must have type "Object"');let T;switch(G.assert(H,"password","hashAlgorithm","iterationCount","salt","contentToStamp"),H.hashAlgorithm.toLowerCase()){case"sha-1":T=160;break;case"sha-256":T=256;break;case"sha-384":T=384;break;case"sha-512":T=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${H.hashAlgorithm}`)}const $={name:"HMAC",length:T,hash:{name:H.hashAlgorithm}},_e=yield Eg(H.hashAlgorithm,T,H.password,H.salt,H.iterationCount),xe=yield d.importKey("raw",new Uint8Array(_e),$,!1,["sign"]);return d.sign($,xe,new Uint8Array(H.contentToStamp))})()}verifyDataStampedWithPassword(H){var d=this;return(0,t.A)(function*(){G.assert(H,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let T=0;switch(H.hashAlgorithm.toLowerCase()){case"sha-1":T=160;break;case"sha-256":T=256;break;case"sha-384":T=384;break;case"sha-512":T=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${H.hashAlgorithm}`)}const $={name:"HMAC",length:T,hash:{name:H.hashAlgorithm}},_e=yield Eg(H.hashAlgorithm,T,H.password,H.salt,H.iterationCount),xe=yield d.importKey("raw",new Uint8Array(_e),$,!1,["verify"]);return d.verify($,xe,new Uint8Array(H.signatureToVerify),new Uint8Array(H.contentToVerify))})()}getSignatureParameters(H,d="SHA-1"){var T=this;return(0,t.A)(function*(){T.getOIDByAlgorithm({name:d},!0,"hashAlgorithm");const $=new Rs,_e=T.getAlgorithmParameters(H.algorithm.name,"sign");if(!Object.keys(_e.algorithm).length)throw new Error("Parameter 'algorithm' is empty");const xe=_e.algorithm;switch(xe.hash.name="hash"in H.algorithm&&H.algorithm.hash&&H.algorithm.hash.name?H.algorithm.hash.name:d,H.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":$.algorithmId=T.getOIDByAlgorithm(xe,!0);break;case"RSA-PSS":{switch(xe.hash.name.toUpperCase()){case"SHA-256":xe.saltLength=32;break;case"SHA-384":xe.saltLength=48;break;case"SHA-512":xe.saltLength=64}const ze={};if("SHA-1"!==xe.hash.name.toUpperCase()){const bt=T.getOIDByAlgorithm({name:xe.hash.name},!0,"hashAlgorithm");ze.hashAlgorithm=new Rs({algorithmId:bt,algorithmParams:new gt}),ze.maskGenAlgorithm=new Rs({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:ze.hashAlgorithm.toSchema()})}20!==xe.saltLength&&(ze.saltLength=xe.saltLength);const nt=new Mf(ze);$.algorithmId="1.2.840.113549.1.1.10",$.algorithmParams=nt.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${H.algorithm.name}`)}return{signatureAlgorithm:$,parameters:_e}})()}signWithPrivateKey(H,d,T){var $=this;return(0,t.A)(function*(){const _e=yield $.sign(T.algorithm,d,H);return"ECDSA"===T.algorithm.name?function v_(U){if(U.byteLength%2!=0)return es;const H=U.byteLength/2,d=new ArrayBuffer(H);new Uint8Array(d).set(new Uint8Array(U,0,H));const $=new zn({valueHex:d}),_e=new ArrayBuffer(H);new Uint8Array(_e).set(new Uint8Array(U,H,H));const ze=new zn({valueHex:_e});return new Dn({value:[$.convertToDER(),ze.convertToDER()]}).toBER(!1)}(_e):_e})()}fillPublicKeyParameters(H,d){const T={},$=this.getHashAlgorithm(d);if(""===$)throw new Error(`Unsupported signature algorithm: ${d.algorithmId}`);let _e;_e="1.2.840.113549.1.1.10"===d.algorithmId?d.algorithmId:H.algorithm.algorithmId;const xe=this.getAlgorithmByOID(_e,!0);if(T.algorithm=this.getAlgorithmParameters(xe.name,"importKey"),"hash"in T.algorithm.algorithm&&(T.algorithm.algorithm.hash.name=$),"ECDSA"===xe.name){const ze=H.algorithm;if(!ze.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");const nt=ze.algorithmParams;if("idBlock"in ze.algorithmParams&&(1!==nt.idBlock.tagClass||6!==nt.idBlock.tagNumber))throw new Error("Incorrect type for ECDSA public key parameters");const bt=this.getAlgorithmByOID(nt.valueBlock.toString(),!0);T.algorithm.algorithm.namedCurve=bt.name}return T}getPublicKey(H,d,T){var $=this;return(0,t.A)(function*(){T||(T=$.fillPublicKeyParameters(H,d));const _e=H.toSchema().toBER(!1);return $.importKey("spki",_e,T.algorithm.algorithm,!0,T.algorithm.usages)})()}verifyWithPublicKey(H,d,T,$,_e){var xe=this;return(0,t.A)(function*(){let ze;if(_e){const Gt={};let qt;qt="1.2.840.113549.1.1.10"===$.algorithmId?$.algorithmId:T.algorithm.algorithmId;const An=xe.getAlgorithmByOID(qt,!0);if(Gt.algorithm=xe.getAlgorithmParameters(An.name,"importKey"),"hash"in Gt.algorithm.algorithm&&(Gt.algorithm.algorithm.hash.name=_e),"ECDSA"===An.name){let hn=!1;if("algorithmParams"in T.algorithm&&"idBlock"in T.algorithm.algorithmParams&&1===T.algorithm.algorithmParams.idBlock.tagClass&&6===T.algorithm.algorithmParams.idBlock.tagNumber&&(hn=!0),!1===hn)throw new Error("Incorrect type for ECDSA public key parameters");const di=xe.getAlgorithmByOID(T.algorithm.algorithmParams.valueBlock.toString(),!0);Gt.algorithm.algorithm.namedCurve=di.name}ze=yield xe.getPublicKey(T,null,Gt)}else{if(!(_e=xe.getHashAlgorithm($)))throw new Error(`Unsupported signature algorithm: ${$.algorithmId}`);ze=yield xe.getPublicKey(T,$)}const nt=xe.getAlgorithmParameters(ze.algorithm.name,"verify");"hash"in nt.algorithm&&(nt.algorithm.hash.name=_e);let bt=d.valueBlock.valueHexView;if("ECDSA"===ze.algorithm.name){const Gt=Xa.find(ze.algorithm.namedCurve);if(!Gt)throw new Error("Unsupported named curve in use");const qt=ft(bt);ye.assert(qt,"Signature value"),bt=function xf(U,H){if(!(U instanceof Dn&&2===U.valueBlock.value.length&&U.valueBlock.value[0]instanceof zn&&U.valueBlock.value[1]instanceof zn))return es;const d=U.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,T=U.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,$=new Uint8Array(2*H);return $.set(d,H-d.byteLength),$.set(T,2*H-T.byteLength),$.buffer}(qt.result,Gt.size)}if("RSA-PSS"===ze.algorithm.name){const Gt=new Mf({schema:$.algorithmParams});nt.algorithm.saltLength="saltLength"in Gt?Gt.saltLength:20;let qt="SHA-1";"hashAlgorithm"in Gt&&(qt=xe.getAlgorithmByOID(Gt.hashAlgorithm.algorithmId,!0).name),nt.algorithm.hash.name=qt}return xe.verify(nt.algorithm,ze,bt,H)})()}}let Tg={name:"none",crypto:null};function __(U){return!(!U||"object"!=typeof U||!("crypto"in U))}function Xd(U,...H){let d=null;if(H.length<2)d=H.length?H[0]:typeof self<"u"&&self.crypto?new Mp({name:"browser",crypto:self.crypto}):null;else{const T=H[0],$=H[1];__($)?d=$:__(T)?d=T:"subtle"in T&&"getRandomValues"in T&&(d=new Mp({crypto:T}))}if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:U,crypto:d}}else Tg={name:U,crypto:d}}function po(U=!1){const H=function Of(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let U;try{U=global[process.pid].pkijs.engine}catch{throw new Error("Please call 'setEngine' before call to 'getEngine'")}return U}return Tg}();if(!H.crypto&&U)throw new Error("Unable to create WebCrypto object");return H.crypto}const Pf="version",Ff="logID",Bf="extensions",Pp="timestamp",Bh="hashAlgorithm",Vf="signatureAlgorithm",Lf="signature",Uf="anonymous";let Rg=(()=>{class U extends Oe{constructor(d={}){super(),this.version=e(d,Pf,U.defaultValues(Pf)),this.logID=e(d,Ff,U.defaultValues(Ff)),this.timestamp=e(d,Pp,U.defaultValues(Pp)),this.extensions=e(d,Bf,U.defaultValues(Bf)),this.hashAlgorithm=e(d,Bh,U.defaultValues(Bh)),this.signatureAlgorithm=e(d,Vf,U.defaultValues(Vf)),this.signature=e(d,Lf,U.defaultValues(Lf)),"stream"in d&&d.stream&&this.fromStream(d.stream),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Pf:return 0;case Ff:case Bf:return es;case Pp:return new Date(0);case Bh:case Vf:return"";case Lf:return new Bn;default:return super.defaultValues(d)}}fromSchema(d){if(!(d instanceof Li))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const T=new Fs({stream:new Yi({buffer:d.data})});this.fromStream(T)}fromStream(d){const T=d.getUint16();if(this.version=d.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(d.getBlock(32)).buffer.slice(0),this.timestamp=new Date(D(new Uint8Array(d.getBlock(8)),8));const $=d.getUint16();switch(this.extensions=new Uint8Array(d.getBlock($)).buffer.slice(0),d.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(d.getBlock(1)[0]){case 0:this.signatureAlgorithm=Uf;break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const _e=d.getUint16(),ze=ft(new Uint8Array(d.getBlock(_e)).buffer.slice(0));if(ye.assert(ze,"SignedCertificateTimestamp"),this.signature=ze.result,T!==47+$+_e)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const d=this.toStream();return new Li({data:d.stream.buffer})}toStream(){const d=new Fs;d.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),d.appendChar(this.version),d.appendView(new Uint8Array(this.logID));const T=new ArrayBuffer(8),$=new Uint8Array(T),_e=S(this.timestamp.valueOf(),8);let xe,ze;switch($.set(new Uint8Array(_e),8-_e.byteLength),d.appendView($),d.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&d.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":xe=0;break;case"md5":xe=1;break;case"sha1":xe=2;break;case"sha224":xe=3;break;case"sha256":xe=4;break;case"sha384":xe=5;break;case"sha512":xe=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(d.appendChar(xe),this.signatureAlgorithm.toLowerCase()){case Uf:ze=0;break;case"rsa":ze=1;break;case"dsa":ze=2;break;case"ecdsa":ze=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}d.appendChar(ze);const nt=this.signature.toBER(!1);return d.appendUint16(nt.byteLength),d.appendView(new Uint8Array(nt)),d}toJSON(){return{version:this.version,logID:w(this.logID),timestamp:this.timestamp,extensions:w(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(d,T,$=0,_e=po(!0)){var xe=this;return(0,t.A)(function*(){const ze=M(y(xe.logID));let nt=null;const bt=new Fs;for(const Pi of d)if(Pi.log_id===ze){nt=Pi.key;break}if(!nt)throw new Error(`Public key not found for CT with logId: ${ze}`);const Gt=X(W(nt)),qt=Hc.fromBER(Gt);bt.appendChar(0),bt.appendChar(0);const An=new ArrayBuffer(8),hn=new Uint8Array(An),di=S(xe.timestamp.valueOf(),8);return hn.set(new Uint8Array(di),8-di.byteLength),bt.appendView(hn),bt.appendUint16($),0===$&&bt.appendUint24(T.byteLength),bt.appendView(new Uint8Array(T)),bt.appendUint16(xe.extensions.byteLength),0!==xe.extensions.byteLength&&bt.appendView(new Uint8Array(xe.extensions)),_e.verifyWithPublicKey(bt.buffer.slice(0,bt.length),new Ot({valueHex:xe.signature.toBER(!1)}),qt,{algorithmId:""},"SHA-256")})()}}return U.CLASS_NAME="SignedCertificateTimestamp",U})();const jp="timestamps";let b_=(()=>{class U extends Oe{constructor(d={}){super(),this.timestamps=e(d,jp,U.defaultValues(jp)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===jp?[]:super.defaultValues(d)}static compareWithDefault(d,T){return d===jp?0===T.length:super.defaultValues(d)}static schema(d={}){var T;const $=e(d,"names",{});return null!==(T=$.optional)&&void 0!==T||($.optional=!1),new Ot({name:$.blockName||"SignedCertificateTimestampList",optional:$.optional})}fromSchema(d){if(!(d instanceof Ot))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const T=new Fs({stream:new Yi({buffer:d.valueBlock.valueHex})});if(T.getUint16()!==T.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;T.length;)this.timestamps.push(new Rg({stream:T}))}toSchema(){const d=new Fs;let T=0;const $=[];for(const _e of this.timestamps){const xe=_e.toStream();$.push(xe),T+=xe.stream.buffer.byteLength}d.appendUint16(T);for(const _e of $)d.appendView(_e.stream.view);return new Ot({valueHex:d.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,d=>d.toJSON())}}}return U.CLASS_NAME="SignedCertificateTimestampList",U})();const Vh="attributes",C_=[Vh];let $p=(()=>{class U extends Oe{constructor(d={}){super(),this.attributes=e(d,Vh,U.defaultValues(Vh)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Vh?[]:super.defaultValues(d)}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Di({name:T.attributes||"",value:$s.schema()})]})}fromSchema(d){L(d,C_);const T=li(d,d,U.schema({names:{attributes:Vh}}));ye.assertSchema(T,this.className),this.attributes=Array.from(T.result.attributes,$=>new $s({schema:$}))}toSchema(){return new Dn({value:Array.from(this.attributes,d=>d.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,d=>d.toJSON())}}}return U.CLASS_NAME="SubjectDirectoryAttributes",U})();class Xr{static getItems(){return this.types||(this.types={},Xr.register("2.5.29.17","SubjectAltName",gp),Xr.register("2.5.29.18","IssuerAltName",gp),Xr.register("2.5.29.35","AuthorityKeyIdentifier",oo),Xr.register("2.5.29.19","BasicConstraints",Tf),Xr.register("1.3.6.1.4.1.311.21.1","MicrosoftCaVersion",d_),Xr.register("2.5.29.32","CertificatePolicies",If),Xr.register("1.3.6.1.4.1.311.21.10","CertificatePoliciesMicrosoft",If),Xr.register("1.3.6.1.4.1.311.21.7","MicrosoftCertTemplateV2",Yu),Xr.register("2.5.29.31","CRLDistributionPoints",pg),Xr.register("2.5.29.46","FreshestCRL",pg),Xr.register("2.5.29.37","ExtKeyUsage",Vd),Xr.register("2.5.29.29","CertificateIssuer",Wa),Xr.register("1.3.6.1.5.5.7.1.1","AuthorityInfoAccess",fg),Xr.register("1.3.6.1.5.5.7.1.11","SubjectInfoAccess",fg),Xr.register("2.5.29.28","IssuingDistributionPoint",Ld),Xr.register("2.5.29.30","NameConstraints",gg),Xr.register("2.5.29.36","PolicyConstraints",Cp),Xr.register("2.5.29.33","PolicyMappings",Ep),Xr.register("2.5.29.16","PrivateKeyUsagePeriod",jc),Xr.register("1.3.6.1.5.5.7.1.3","QCStatements",Cr),Xr.register("1.3.6.1.4.1.11129.2.4.2","SignedCertificateTimestampList",b_),Xr.register("2.5.29.9","SubjectDirectoryAttributes",$p)),this.types}static fromBER(H,d){const T=ft(d);if(-1===T.offset)return null;const $=this.find(H);if($)try{return new $.type({schema:T.result})}catch{const xe=new $.type;return xe.parsingError=`Incorrectly formatted value of extension ${$.name} (${H})`,xe}return T.result}static find(H){return this.getItems()[H]||null}static register(H,d,T){this.getItems()[H]={name:d,type:T}}}const Zd="extnID",Xl="critical",qd="extnValue",Lh="parsedValue",Ag=[Zd,Xl,qd];let Gp=(()=>{class U extends Oe{get parsedValue(){if(void 0===this._parsedValue){const d=Xr.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=d}return this._parsedValue||void 0}set parsedValue(d){this._parsedValue=d}constructor(d={}){super(),this.extnID=e(d,Zd,U.defaultValues(Zd)),this.critical=e(d,Xl,U.defaultValues(Xl)),this.extnValue=qd in d?new Ot({valueHex:d.extnValue}):U.defaultValues(qd),Lh in d&&(this.parsedValue=e(d,Lh,U.defaultValues(Lh))),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Zd:return"";case Xl:return!1;case qd:return new Ot;case Lh:return{};default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[new Wt({name:T.extnID||""}),new Rn({name:T.critical||"",optional:!0}),new Ot({name:T.extnValue||""})]})}fromSchema(d){L(d,Ag);const T=li(d,d,U.schema({names:{extnID:Zd,critical:Xl,extnValue:qd}}));ye.assertSchema(T,this.className),this.extnID=T.result.extnID.valueBlock.toString(),Xl in T.result&&(this.critical=T.result.critical.valueBlock.value),this.extnValue=T.result.extnValue}toSchema(){const d=[];return d.push(new Wt({value:this.extnID})),this.critical!==U.defaultValues(Xl)&&d.push(new Rn({value:this.critical})),d.push(this.extnValue),new Dn({value:d})}toJSON(){const d={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==U.defaultValues(Xl)&&(d.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(d.parsedValue=this.parsedValue.toJSON()),d}}return U.CLASS_NAME="Extension",U})();const Uh="extensions",S_=[Uh];let $f=(()=>{class U extends Oe{constructor(d={}){super(),this.extensions=e(d,Uh,U.defaultValues(Uh)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){return d===Uh?[]:super.defaultValues(d)}static schema(d={},T=!1){const $=e(d,"names",{});return new Dn({optional:T,name:$.blockName||"",value:[new Di({name:$.extensions||"",value:Gp.schema($.extension||{})})]})}fromSchema(d){L(d,S_);const T=li(d,d,U.schema({names:{extensions:Uh}}));ye.assertSchema(T,this.className),this.extensions=Array.from(T.result.extensions,$=>new Gp({schema:$}))}toSchema(){return new Dn({value:Array.from(this.extensions,d=>d.toSchema())})}toJSON(){return{extensions:this.extensions.map(d=>d.toJSON())}}}return U.CLASS_NAME="Extensions",U})();const Hp="type",Kp="value",Zc="utcTimeName",Eo="generalTimeName",Qy=[Zc,Eo];let Tu=(()=>{class U extends Oe{constructor(d={}){super(),this.type=e(d,Hp,U.defaultValues(Hp)),this.value=e(d,Kp,U.defaultValues(Kp)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case Hp:return 0;case Kp:return new Date(0,0,0);default:return super.defaultValues(d)}}static schema(d={},T=!1){const $=e(d,"names",{});return new Wi({optional:T,value:[new Et({name:$.utcTimeName||""}),new Yt({name:$.generalTimeName||""})]})}fromSchema(d){L(d,Qy);const T=li(d,d,U.schema({names:{utcTimeName:Zc,generalTimeName:Eo}}));ye.assertSchema(T,this.className),Zc in T.result&&(this.type=0,this.value=T.result.utcTimeName.toDate()),Eo in T.result&&(this.type=1,this.value=T.result.generalTimeName.toDate())}toSchema(){return 0===this.type?new Et({valueDate:this.value}):1===this.type?new Yt({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}}return U.CLASS_NAME="Time",U})();const Tl="version",Kh="serialNumber",_r="signature",vc="issuer",yc="notBefore",wl="notAfter",wu="subject",fl="subjectPublicKeyInfo",ld="issuerUniqueID",Wp="subjectUniqueID",Ql="extensions",Yp="signatureAlgorithm",qc="signatureValue",Il="tbsCertificate",nh=`${Il}.${Tl}`,ih=`${Il}.${Kh}`,cd=`${Il}.${_r}`,Wh=`${Il}.${vc}`,ud=`${Il}.${yc}`,Zl=`${Il}.${wl}`,To=`${Il}.${wu}`,Vg=`${Il}.${fl}`,Da=`${Il}.${ld}`,Qf=`${Il}.${Wp}`,zp=`${Il}.${Ql}`,Lg=[Il,nh,ih,cd,Wh,ud,Zl,To,Vg,Da,Qf,zp,Yp,qc];function Ug(U={}){const H=e(U,"names",{});return new Dn({name:H.blockName||Il,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new zn({name:H.tbsCertificateVersion||nh})]}),new zn({name:H.tbsCertificateSerialNumber||ih}),Rs.schema(H.signature||{names:{blockName:cd}}),On.schema(H.issuer||{names:{blockName:Wh}}),new Dn({name:H.tbsCertificateValidity||"tbsCertificate.validity",value:[Tu.schema(H.notBefore||{names:{utcTimeName:ud,generalTimeName:ud}}),Tu.schema(H.notAfter||{names:{utcTimeName:Zl,generalTimeName:Zl}})]}),On.schema(H.subject||{names:{blockName:To}}),Hc.schema(H.subjectPublicKeyInfo||{names:{blockName:Vg}}),new tn({name:H.tbsCertificateIssuerUniqueID||Da,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new tn({name:H.tbsCertificateSubjectUniqueID||Qf,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[$f.schema(H.extensions||{names:{blockName:zp}})]})]})}let Zf=(()=>{class U extends Oe{get tbs(){return f._H.toArrayBuffer(this.tbsView)}set tbs(d){this.tbsView=new Uint8Array(d)}constructor(d={}){super(),this.tbsView=new Uint8Array(e(d,"tbs",U.defaultValues("tbs"))),this.version=e(d,Tl,U.defaultValues(Tl)),this.serialNumber=e(d,Kh,U.defaultValues(Kh)),this.signature=e(d,_r,U.defaultValues(_r)),this.issuer=e(d,vc,U.defaultValues(vc)),this.notBefore=e(d,yc,U.defaultValues(yc)),this.notAfter=e(d,wl,U.defaultValues(wl)),this.subject=e(d,wu,U.defaultValues(wu)),this.subjectPublicKeyInfo=e(d,fl,U.defaultValues(fl)),ld in d&&(this.issuerUniqueID=e(d,ld,U.defaultValues(ld))),Wp in d&&(this.subjectUniqueID=e(d,Wp,U.defaultValues(Wp))),Ql in d&&(this.extensions=e(d,Ql,U.defaultValues(Ql))),this.signatureAlgorithm=e(d,Yp,U.defaultValues(Yp)),this.signatureValue=e(d,qc,U.defaultValues(qc)),d.schema&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"tbs":return es;case Tl:return 0;case Kh:return new zn;case _r:return new Rs;case vc:return new On;case yc:case wl:return new Tu;case wu:return new On;case fl:return new Hc;case ld:case Wp:return es;case Ql:return[];case Yp:return new Rs;case qc:return new Tn;default:return super.defaultValues(d)}}static schema(d={}){const T=e(d,"names",{});return new Dn({name:T.blockName||"",value:[Ug(T.tbsCertificate),Rs.schema(T.signatureAlgorithm||{names:{blockName:Yp}}),new Tn({name:T.signatureValue||qc})]})}fromSchema(d){L(d,Lg);const T=li(d,d,U.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:zp}}}}}}));ye.assertSchema(T,this.className),this.tbsView=T.result.tbsCertificate.valueBeforeDecodeView,nh in T.result&&(this.version=T.result[nh].valueBlock.valueDec),this.serialNumber=T.result[ih],this.signature=new Rs({schema:T.result[cd]}),this.issuer=new On({schema:T.result[Wh]}),this.notBefore=new Tu({schema:T.result[ud]}),this.notAfter=new Tu({schema:T.result[Zl]}),this.subject=new On({schema:T.result[To]}),this.subjectPublicKeyInfo=new Hc({schema:T.result[Vg]}),Da in T.result&&(this.issuerUniqueID=T.result[Da].valueBlock.valueHex),Qf in T.result&&(this.subjectUniqueID=T.result[Qf].valueBlock.valueHex),zp in T.result&&(this.extensions=Array.from(T.result[zp],$=>new Gp({schema:$}))),this.signatureAlgorithm=new Rs({schema:T.result.signatureAlgorithm}),this.signatureValue=T.result.signatureValue}encodeTBS(){const d=[];return Tl in this&&this.version!==U.defaultValues(Tl)&&d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new zn({value:this.version})]})),d.push(this.serialNumber),d.push(this.signature.toSchema()),d.push(this.issuer.toSchema()),d.push(new Dn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),d.push(this.subject.toSchema()),d.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&d.push(new tn({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&d.push(new tn({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&d.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Dn({value:Array.from(this.extensions,T=>T.toSchema())})]})),new Dn({value:d})}toSchema(d=!1){let T;if(!1===d){if(!this.tbsView.byteLength)return U.schema().value[0];const $=ft(this.tbsView);ye.assert($,"TBS Certificate"),T=$.result}else T=this.encodeTBS();return new Dn({value:[T,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const d={tbs:f.U$.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return Tl in this&&this.version!==U.defaultValues(Tl)&&(d.version=this.version),this.issuerUniqueID&&(d.issuerUniqueID=f.U$.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(d.subjectUniqueID=f.U$.ToHex(this.subjectUniqueID)),this.extensions&&(d.extensions=Array.from(this.extensions,T=>T.toJSON())),d}getPublicKey(d,T=po(!0)){var $=this;return(0,t.A)(function*(){return T.getPublicKey($.subjectPublicKeyInfo,$.signatureAlgorithm,d)})()}getKeyHash(d="SHA-1",T=po(!0)){var $=this;return(0,t.A)(function*(){return T.digest({name:d},$.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)})()}sign(d,T="SHA-1",$=po(!0)){var _e=this;return(0,t.A)(function*(){if(!d)throw new Error("Need to provide a private key for signing");const xe=yield $.getSignatureParameters(d,T),ze=xe.parameters;_e.signature=xe.signatureAlgorithm,_e.signatureAlgorithm=xe.signatureAlgorithm,_e.tbsView=new Uint8Array(_e.encodeTBS().toBER());const nt=yield $.signWithPrivateKey(_e.tbsView,d,ze);_e.signatureValue=new Tn({valueHex:nt})})()}verify(d,T=po(!0)){var $=this;return(0,t.A)(function*(){let _e;if(d?_e=d.subjectPublicKeyInfo:$.issuer.isEqual($.subject)&&(_e=$.subjectPublicKeyInfo),!(_e instanceof Hc))throw new Error("Please provide issuer certificate as a parameter");return T.verifyWithPublicKey($.tbsView,$.signatureValue,_e,$.signatureAlgorithm)})()}}return U.CLASS_NAME="Certificate",U})();Error,function Ch(){if(typeof self<"u"){if("crypto"in self){let U="webcrypto";"webkitSubtle"in self.crypto&&(U="safari"),Xd(U,new Mp({name:U,crypto}))}}else if(typeof crypto<"u"&&"webcrypto"in crypto){const U="NodeJS ^15",H=crypto.webcrypto;Xd(U,new Mp({name:U,crypto:H}))}}();var Qm=l(3838),U1=l(4531),Zm=l(1360);let qm=(()=>{class U{convertStringToArrayBuffer(d){const T=new Qm.hp(d,"base64").toString("binary"),$=new ArrayBuffer(2*T.length),_e=new Uint8Array($);for(let xe=0,ze=T.length;xe<ze;xe++)_e[xe]=T.charCodeAt(xe);return $}buildCertModelFromArrayBuffer(d,T){var $=this;return(0,t.A)(function*(){const _e=ft(d),xe=new Zf({schema:_e.result}),ze=new o,nt=$.getSubject(xe),bt=yield $.calculateCertificateThumbprint(T);return ze.base64Cert=T,ze.subject=nt,ze.thumbprint=bt,ze})()}verifyCertFilePassword(d,T,$){let _e=new FileReader;_e.onload=xe=>{try{const ze=_e.result,nt=this.arrayBufferToBase64(ze);(0,U1.hc)(Qm.hp.from(ze),T),$.next(nt)}catch(ze){console.log("Invalid cert!"),$.error(ze)}},_e.onerror=xe=>{$.error(xe)},_e.readAsArrayBuffer(d)}getSubject(d){const T={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},$=new Array;for(const xe of d.subject.typesAndValues){let ze=T[xe.type];typeof ze>"u"&&(ze=xe.type),$.push(`${ze}=${xe.value.valueBlock.value}`)}return $.reverse().join(", ")}calculateCertificateThumbprint(d){var T=this;return(0,t.A)(function*(){const $=new Qm.hp(d,"base64"),_e=yield crypto.subtle.digest("SHA-1",$);return T.computeHex(_e)})()}computeHex(d){return[].map.call(new Uint8Array(d),T=>("00"+T.toString(16)).slice(-2)).join("")}arrayBufferToBase64(d){for(var T="",$=new Uint8Array(d),_e=$.byteLength,xe=0;xe<_e;xe++)T+=String.fromCharCode($[xe]);return window.btoa(T)}static{this.\u0275fac=function(T){return new(T||U)}}static{this.\u0275prov=Zm.jDH({token:U,factory:U.\u0275fac})}}return U})()},3973:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>D});var t=l(6037),o=l(9988),f=l(7263),A=l(1360),e=l(5424),w=l(5794),m=l(8018);let D=(()=>{class S extends t.J{constructor(k,z,u){super(k,z,u),this.components=new Map,this.displayUpgradeIcon=!1}get showProgress(){return this.wizardName!==o.$.Home&&super.showProgress}nextTab(){var k=this.components.get(this.index),z=(0,f.hX)(k.instance.selectedType)?null:k.instance.selectedType();z?this.changeWizardType(z):super.nextTab()}previousTab(){0!==this.index||this.wizardName===o.$.Home?super.previousTab():this.changeWizardType(o.$.Home)}initialStep(){return super.initialStep()&&this.wizardName==o.$.Home}cancelWizard(){this.index>0||this.wizardName!==o.$.Home?this.changeWizardType(o.$.Home,0):super.cancelWizard()}changeWizardType(k,z=null){(0,f.hX)(z)||(this.index=z),this.wizardName=k,this.clearComponents(),this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}static{this.\u0275fac=function(z){return new(z||S)(A.rXU(e.I),A.rXU(w.tw),A.rXU(m.c$))}}static{this.\u0275dir=A.FsC({type:S,inputs:{displayUpgradeIcon:"displayUpgradeIcon"},features:[A.Vt3]})}}return S})()},3981:(ot,ve)=>{"use strict";ve.byteLength=function m(u){var E=w(u),V=E[1];return 3*(E[0]+V)/4-V},ve.toByteArray=function S(u){var E,X,B=w(u),V=B[0],F=B[1],M=new o(function D(u,E,B){return 3*(E+B)/4-B}(0,V,F)),W=0,y=F>0?V-4:V;for(X=0;X<y;X+=4)E=t[u.charCodeAt(X)]<<18|t[u.charCodeAt(X+1)]<<12|t[u.charCodeAt(X+2)]<<6|t[u.charCodeAt(X+3)],M[W++]=E>>16&255,M[W++]=E>>8&255,M[W++]=255&E;return 2===F&&(E=t[u.charCodeAt(X)]<<2|t[u.charCodeAt(X+1)]>>4,M[W++]=255&E),1===F&&(E=t[u.charCodeAt(X)]<<10|t[u.charCodeAt(X+1)]<<4|t[u.charCodeAt(X+2)]>>2,M[W++]=E>>8&255,M[W++]=255&E),M},ve.fromByteArray=function z(u){for(var E,B=u.length,V=B%3,F=[],M=16383,W=0,y=B-V;W<y;W+=M)F.push(k(u,W,W+M>y?y:W+M));return 1===V?F.push(l[(E=u[B-1])>>2]+l[E<<4&63]+"=="):2===V&&F.push(l[(E=(u[B-2]<<8)+u[B-1])>>10]+l[E>>4&63]+l[E<<2&63]+"="),F.join("")};for(var l=[],t=[],o=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)l[A]=f[A],t[f.charCodeAt(A)]=A;function w(u){var E=u.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=u.indexOf("=");return-1===B&&(B=E),[B,B===E?0:4-B%4]}function g(u){return l[u>>18&63]+l[u>>12&63]+l[u>>6&63]+l[63&u]}function k(u,E,B){for(var F=[],M=E;M<B;M+=3)F.push(g((u[M]<<16&16711680)+(u[M+1]<<8&65280)+(255&u[M+2])));return F.join("")}t[45]=62,t[95]=63},3993:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>m});var t=l(9974),o=l(4360),f=l(8750),A=l(3669),e=l(5343),w=l(9326);function m(...D){const S=(0,w.ms)(D);return(0,t.N)((g,k)=>{const z=D.length,u=new Array(z);let E=D.map(()=>!1),B=!1;for(let V=0;V<z;V++)(0,f.Tg)(D[V]).subscribe((0,o._)(k,F=>{u[V]=F,!B&&!E[V]&&(E[V]=!0,(B=E.every(A.D))&&(E=null))},e.l));g.subscribe((0,o._)(k,V=>{if(B){const F=[V,...u];k.next(S?S(...F):F)}}))})}},4112:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>F});var t=l(1360),o=l(1413),f=l(5139),A=l(2947),e=l(8434),w=l(9417);let m=(()=>{class M{transform(y,X){let Z=y;return X&&(Z=y.filter(v=>v.name.toUpperCase().includes(X))),Z}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275pipe=t.EJ8({name:"search",type:M,pure:!0,standalone:!1})}}return M})();var D=l(8018);const S=M=>({"tw-text-grey-600":M}),g=(M,W)=>W.name;function k(M,W){if(1&M){const y=t.RV6();t.j41(0,"div",3)(1,"label",6),t.nrm(2,"span",7),t.j41(3,"span",8),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",9),t.mxI("ngModelChange",function(Z){t.eBV(y);const v=t.XpG();return t.DH7(v.searchValue,Z)||(v.searchValue=Z),t.Njj(Z)}),t.k0s()()}if(2&M){const y=t.XpG();t.Y8G("id",y.id+"-search"),t.R7$(),t.Y8G("for",y.id+"search-input"),t.R7$(3),t.JRh(t.bMT(5,6,"Common.Search")),t.R7$(2),t.Y8G("id",y.id+"search-input")("name",y.id+"SearchField"),t.R50("ngModel",y.searchValue)}}function z(M,W){1&M&&t.nrm(0,"span",14)}function u(M,W){if(1&M){const y=t.RV6();t.j41(0,"a",17),t.bIt("click",function(Z){t.eBV(y);const v=t.XpG().$implicit,L=t.XpG();return t.Njj(L.navigate(Z,v))}),t.nrm(1,"span",18),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&M&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.GoToScope")))}function E(M,W){if(1&M&&(t.j41(0,"span",19),t.EFF(1),t.k0s()),2&M){const y=t.XpG().$implicit;t.R7$(),t.SpI(" ",y.description," ")}}function B(M,W){if(1&M){const y=t.RV6();t.j41(0,"li",5)(1,"label",10)(2,"input",11),t.bIt("change",function(){const Z=t.eBV(y).$implicit,v=t.XpG();return t.Njj(v.selectItem(Z))}),t.k0s(),t.j41(3,"span",12)(4,"span",13),t.DNE(5,z,1,0,"span",14),t.EFF(6),t.DNE(7,u,5,3,"a",15),t.k0s(),t.DNE(8,E,2,1,"span",16),t.k0s()()()}if(2&M){let y;const X=W.$implicit,Z=t.XpG();t.Y8G("id",Z.id+"Items"),t.R7$(),t.Y8G("htmlFor",Z.prefix+X.name),t.R7$(),t.FS9("id",Z.prefix+X.name),t.FS9("name",X.name),t.Y8G("checked",X.selected)("disabled",Z.isRestricted(X)||Z.isReadOnly),t.R7$(2),t.Y8G("ngClass",t.eq3(12,S,Z.isReadOnly)),t.R7$(),t.vxM(Z.isRestricted(X)?5:-1),t.R7$(),t.Lme(" ",null!==(y=X.displayName)&&void 0!==y?y:X.name," ",X.shared?"*":""," "),t.R7$(),t.vxM(X.link?7:-1),t.R7$(),t.Y8G("ngIf",(null==X.description?null:X.description.length)>0)}}let V=(()=>{class M{constructor(y,X){this.localize=y,this.router=X,this.itemsChanged=new t.bkB}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}selectItem(y){y.selected?this.selectedCount-=1:this.selectedCount+=1,y.selected=!y.selected,this.itemsChanged.emit(this.items)}navigate(y,X){const Z=this.localize.translateRoute(X.link);if(this.linkInNewTab){const v=this.router.serializeUrl(this.router.createUrlTree([Z]));window.open(v,"_blank")}else this.router.navigate([Z]);y.stopPropagation()}static{this.\u0275fac=function(X){return new(X||M)(t.rXU(f.QG),t.rXU(A.Ix))}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["app-picker-list"]],inputs:{id:"id",title:"title",items:"items",allowSearch:"allowSearch",isReadOnly:"isReadOnly",isRestricted:"isRestricted",linkInNewTab:"linkInNewTab"},outputs:{itemsChanged:"itemsChanged"},standalone:!1,decls:11,vars:10,consts:[[3,"id"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],[1,"tw-mt-3","tw-w-full","tw-relative",3,"id"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],[1,"tw-py-3","tw-px-4",3,"id"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0",3,"for"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],[1,"sr-only"],["type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","id","name","ngModel"],[1,"tw-flex","tw-items-start","tw-items-center","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],["click-stop-propagation","","type","button",1,"tw-btn-link","group-hover:tw-text-blue-500","tw-p-0","tw-pl-2"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],["click-stop-propagation","","type","button",1,"tw-btn-link","group-hover:tw-text-blue-500","tw-p-0","tw-pl-2",3,"click"],[1,"fas","fa-external-link-alt"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"]],template:function(X,Z){1&X&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.DNE(5,k,7,8,"div",3),t.k0s(),t.j41(6,"ul",4),t.Z7z(7,B,9,14,"li",5,g),t.nI1(9,"uppercase"),t.nI1(10,"search"),t.k0s()()),2&X&&(t.Y8G("id",Z.id+"-picker-list"),t.R7$(3),t.JRh(t.bMT(4,3,Z.title)),t.R7$(2),t.vxM(Z.allowSearch&&!Z.isReadOnly?5:-1),t.R7$(2),t.Dyx(t.i5U(10,7,Z.items,t.bMT(9,5,Z.searchValue))))},dependencies:[e.YU,e.bT,w.me,w.BC,w.vS,e.Pc,m,D.D9],encapsulation:2})}}return M})(),F=(()=>{class M{set availableInput(y){this.available=this.sortArray(y)}set assignedInput(y){this.assigned=this.sortArray(y)}get availableCount(){return this.available.filter(y=>y.selected).length}get assignedCount(){return this.assigned.filter(y=>y.selected).length}set isReadOnly(y){this._isReadOnly=y||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.unAssignedStream=new o.B,this.assignedStream=new o.B,this.onUnAssigned=new t.bkB,this.onAssigned=new t.bkB}ngOnInit(){}sortArray(y){if(y&&y.length>0)for(const X of y)X.selected=!1;return y.sort((X,Z)=>X.name<Z.name?-1:1)}assignItems(){let y=this.available.filter(X=>X.selected);this.assignedStream.next(y),this.onAssigned.emit(y),this.available.forEach(X=>{X.selected=!1}),this.assigned.forEach(X=>{X.selected=!1}),y=[]}unAssignItems(){let y=this.assigned.filter(X=>X.selected);this.unAssignedStream.next(y),this.onUnAssigned.emit(y),this.available.forEach(X=>{X.selected=!1}),this.assigned.forEach(X=>{X.selected=!1}),y=[]}isRestricted(y){if(this.restrictedInput)for(let X=0;X<this.restrictedInput.length;X++)if(this.restrictedInput[X].value===y.name)return!0}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",linkInNewTab:"linkInNewTab",isReadOnly:"isReadOnly"},outputs:{onUnAssigned:"onUnAssigned",onAssigned:"onAssigned"},standalone:!1,decls:19,vars:20,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],["id","available",1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5",3,"itemsChanged","title","items","allowSearch","isReadOnly","isRestricted","linkInNewTab"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["id","assigned",1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5",3,"itemsChanged","title","items","allowSearch","isReadOnly","isRestricted","linkInNewTab"]],template:function(X,Z){1&X&&(t.j41(0,"div",0)(1,"app-picker-list",1),t.bIt("itemsChanged",function(L){return Z.available=L}),t.k0s(),t.j41(2,"div",2)(3,"ul",3)(4,"li",4)(5,"button",5),t.bIt("click",function(){return Z.assignItems()}),t.nrm(6,"span",6)(7,"span",7),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"translate"),t.k0s()()(),t.j41(11,"li",4)(12,"button",9),t.bIt("click",function(){return Z.unAssignItems()}),t.nrm(13,"span",10)(14,"span",11),t.j41(15,"span",8),t.EFF(16),t.nI1(17,"translate"),t.k0s()()()()(),t.j41(18,"app-picker-list",12),t.bIt("itemsChanged",function(L){return Z.assigned=L}),t.k0s()()),2&X&&(t.R7$(),t.Y8G("title","Common.Available")("items",Z.available)("allowSearch",Z.availableSearch)("isReadOnly",Z.isReadOnly)("isRestricted",Z.isRestricted)("linkInNewTab",Z.linkInNewTab),t.R7$(4),t.Y8G("disabled",Z.availableCount<1||Z.isReadOnly),t.R7$(4),t.JRh(t.bMT(10,16,"Common.Unassign")),t.R7$(3),t.Y8G("disabled",Z.assignedCount<1||Z.isReadOnly),t.R7$(4),t.JRh(t.bMT(17,18,"Common.Assign")),t.R7$(2),t.Y8G("title","Common.Assigned")("items",Z.assigned)("allowSearch",Z.assignedSearch)("isReadOnly",Z.isReadOnly)("isRestricted",Z.isRestricted)("linkInNewTab",Z.linkInNewTab))},dependencies:[V,D.D9],encapsulation:2})}}return M})()},4179:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>u});var t=l(9417),o=l(8434),f=l(1683),A=l(8018),e=l(779),w=l(75),m=l(8389),D=l(8251),S=l(4367),g=l(6599),k=l(9812),z=l(1360);let u=(()=>{class E{static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=z.$C({type:E})}static{this.\u0275inj=z.G2t({providers:[k.I],imports:[o.MD,t.X1,f.Y,A.h,t.YN,e.Q_,w.U,m.w,D.h,S.N,g.Y]})}}return E})()},4193:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>w});var t=l(8434),o=l(9262),f=l(1683),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,o.iI,f.Y,A.h]})}}return m})()},4252:(ot,ve,l)=>{"use strict";l.d(ve,{AA:()=>lt,up:()=>rt});var t=l(1360),o=l(8577),f=l(2947),A=l(9812),e=l(8434),w=l(8018);const m=["selectButton"],D=["deleteButton"],S=Ue=>({hover:Ue}),g=Ue=>({"tw-mr-2":Ue});function k(Ue,Ye){if(1&Ue&&(t.j41(0,"div",7),t.nrm(1,"div",8),t.nI1(2,"translate"),t.k0s()),2&Ue){const He=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,He.noRowsLabel),t.npT)}}function z(Ue,Ye){if(1&Ue&&t.nrm(0,"span",14),2&Ue){const He=t.XpG().$implicit;t.Y8G("ngClass",He.sortClass)}}function u(Ue,Ye){if(1&Ue){const He=t.RV6();t.j41(0,"th",13),t.bIt("click",function(){const Le=t.eBV(He).$implicit,Ve=t.XpG(2);return t.Njj(Ve.sortColumn(Le))}),t.j41(1,"span",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,z,1,1,"span",15),t.k0s()}if(2&Ue){const He=Ye.$implicit;t.Y8G("className",He.headClasses),t.R7$(),t.Y8G("ngClass",t.eq3(6,g,null!=He.sort)),t.R7$(),t.JRh(t.bMT(3,4,He.title)),t.R7$(2),t.Y8G("ngIf",null!=He.sort)}}function E(Ue,Ye){1&Ue&&(t.j41(0,"th",16)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&Ue&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Actions")))}function B(Ue,Ye){if(1&Ue&&(t.qex(0),t.EFF(1),t.bVm()),2&Ue){const He=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",He," ")}}function V(Ue,Ye){if(1&Ue&&(t.qex(0),t.EFF(1),t.bVm()),2&Ue){const He=t.XpG(4).$implicit,it=t.XpG().$implicit;t.R7$(),t.SpI(" ",He.dateColumn.datePipe.transform(it[He.prop])," ")}}function F(Ue,Ye){if(1&Ue&&(t.EFF(0),t.nI1(1,"translate")),2&Ue){const He=t.XpG(4).$implicit;t.SpI(" ",t.bMT(1,1,He.dateColumn.noDateLabel)," ")}}function M(Ue,Ye){if(1&Ue&&(t.qex(0),t.DNE(1,V,2,1,"ng-container",21)(2,F,2,3,"ng-template",null,1,t.C5r),t.bVm()),2&Ue){const He=t.sdS(3),it=t.XpG(3).$implicit,Le=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",Le[it.prop])("ngIfElse",He)}}function W(Ue,Ye){if(1&Ue){const He=t.RV6();t.qex(0),t.j41(1,"a",22),t.bIt("click",function(){t.eBV(He);const Le=t.XpG(5).$implicit,Ve=t.XpG(2);return t.Njj(!!Ve.clickLinkCell(Le.link))}),t.EFF(2),t.k0s(),t.bVm()}if(2&Ue){const He=t.XpG(4).$implicit,it=t.XpG().$implicit;t.R7$(),t.FS9("href",it.routeLink,t.B4B),t.R7$(),t.SpI(" ",it[He.prop]," ")}}function y(Ue,Ye){if(1&Ue&&t.nrm(0,"span",23),2&Ue){const He=t.XpG(4).$implicit,it=t.XpG().$implicit;t.Y8G("innerHTML",He.format(it[He.prop]),t.npT)}}function X(Ue,Ye){if(1&Ue&&t.DNE(0,W,3,2,"ng-container",21)(1,y,1,1,"ng-template",null,2,t.C5r),2&Ue){const He=t.sdS(2),it=t.XpG(3).$implicit;t.Y8G("ngIf",it.link)("ngIfElse",He)}}function Z(Ue,Ye){if(1&Ue&&(t.qex(0),t.DNE(1,M,4,2,"ng-container",21)(2,X,3,2,"ng-template",null,0,t.C5r),t.bVm()),2&Ue){const He=t.sdS(3),it=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",it.date)("ngIfElse",He)}}function v(Ue,Ye){if(1&Ue&&(t.qex(0),t.DNE(1,B,2,1,"ng-container",20)(2,Z,4,2,"ng-container",20),t.bVm()),2&Ue){const He=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null==He.prop),t.R7$(),t.Y8G("ngIf",null!=He.prop)}}function L(Ue,Ye){if(1&Ue&&(t.qex(0),t.j41(1,"span",24),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()),2&Ue){const He=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,1,He.placeholder))}}function Q(Ue,Ye){1&Ue&&(t.j41(0,"span",27)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&Ue&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Yes")))}function te(Ue,Ye){1&Ue&&(t.j41(0,"span",28)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&Ue&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.No")))}function N(Ue,Ye){if(1&Ue&&(t.qex(0),t.DNE(1,Q,4,3,"span",25)(2,te,4,3,"span",26),t.bVm()),2&Ue){const He=t.XpG().$implicit,it=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",it[He.prop]),t.R7$(),t.Y8G("ngIf",!it[He.prop])}}function fe(Ue,Ye){if(1&Ue&&(t.j41(0,"td",19),t.DNE(1,v,3,2,"ng-container",20)(2,L,4,3,"ng-container",20)(3,N,3,2,"ng-container",20),t.k0s()),2&Ue){const He=Ye.$implicit;t.Y8G("className",He.cellClasses),t.BMQ("data-label",He.title),t.R7$(),t.Y8G("ngIf",!He.isPlaceholder&&!He.isBoolean),t.R7$(),t.Y8G("ngIf",He.isPlaceholder),t.R7$(),t.Y8G("ngIf",He.isBoolean)}}function oe(Ue,Ye){if(1&Ue){const He=t.RV6();t.j41(0,"button",32,3),t.bIt("click",function(){t.eBV(He);const Le=t.XpG(2).$implicit,Ve=t.XpG(2);return t.Njj(Ve.selectRow(Le))}),t.nrm(2,"span",33),t.j41(3,"span",17),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&Ue&&(t.R7$(4),t.JRh(t.bMT(5,1,"Common.Edit")))}function R(Ue,Ye){if(1&Ue){const He=t.RV6();t.j41(0,"button",34,4),t.bIt("click",function(){t.eBV(He);const Le=t.XpG(2).index,Ve=t.XpG(2);return t.Njj(Ve.deleteRow(Le))}),t.nrm(2,"span",35),t.j41(3,"span",17),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&Ue&&(t.R7$(4),t.JRh(t.bMT(5,1,"Common.Remove.Title")))}function Fe(Ue,Ye){if(1&Ue&&(t.j41(0,"td",16)(1,"div",29),t.DNE(2,oe,6,3,"button",30)(3,R,6,3,"button",31),t.k0s()()),2&Ue){const He=t.XpG(3);t.R7$(2),t.Y8G("ngIf",He.canSelect),t.R7$(),t.Y8G("ngIf",He.canDelete)}}function we(Ue,Ye){if(1&Ue&&(t.j41(0,"tr"),t.DNE(1,fe,4,5,"td",18)(2,Fe,4,2,"td",11),t.k0s()),2&Ue){const He=t.XpG(2);t.R7$(),t.Y8G("ngForOf",He.columns),t.R7$(),t.Y8G("ngIf",He.actions)}}function We(Ue,Ye){if(1&Ue&&(t.j41(0,"table",9)(1,"thead")(2,"tr"),t.DNE(3,u,5,8,"th",10)(4,E,4,3,"th",11),t.k0s()(),t.j41(5,"tbody"),t.DNE(6,we,3,2,"tr",12),t.k0s()()),2&Ue){const He=t.XpG();t.Y8G("ngClass",t.eq3(4,S,!He.isReadOnly)),t.R7$(3),t.Y8G("ngForOf",He.columns),t.R7$(),t.Y8G("ngIf",He.actions),t.R7$(2),t.Y8G("ngForOf",He.rows)}}let rt=(()=>{class Ue{set isReadOnly(He){this._isReadOnly=He||!1}get isReadOnly(){return this._isReadOnly}constructor(He,it){this.router=He,this.dataTableService=it,this.onSelect=new t.bkB,this.delete=new t.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(lt.Delete),this.canSelect=this.actions.includes(lt.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(He){this.canDelete&&(this.dataTableService.deleteRowEvent.next(He),this.delete.next(He))}selectRow(He){if(this.canSelect){const it=new vt(He,this.selectButtonRef);this.onSelect.emit(it)}}clickLinkCell(He){this.router.navigate([`${He.routeForLink}`,He.identifier])}sortColumn(He){(null!=He.sort||null!=He.sort)&&this.dataTableService.sortColumnEvent.next(He)}static{this.\u0275fac=function(it){return new(it||Ue)(t.rXU(f.Ix),t.rXU(A.I))}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["app-data-table"]],contentQueries:function(it,Le,Ve){if(1&it&&t.wni(Ve,o.w,4),2&it){let Xe;t.mGM(Xe=t.lsd())&&(Le.columns=Xe)}},viewQuery:function(it,Le){if(1&it&&(t.GBs(m,5),t.GBs(D,5)),2&it){let Ve;t.mGM(Ve=t.lsd())&&(Le.selectButtonRef=Ve.first),t.mGM(Ve=t.lsd())&&(Le.deleteButtonRef=Ve.first)}},inputs:{noRowsLabel:[0,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect",delete:"delete"},standalone:!1,decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(it,Le){1&it&&t.DNE(0,k,3,3,"div",5)(1,We,7,6,"table",6),2&it&&(t.Y8G("ngIf",(null==Le.rows?null:Le.rows.length)<1),t.R7$(),t.Y8G("ngIf",(null==Le.rows?null:Le.rows.length)>0))},dependencies:[e.YU,e.Sq,e.bT,w.D9],encapsulation:2})}}return Ue})();var lt=function(Ue){return Ue.Delete="Delete",Ue.Select="Select",Ue}(lt||{});class vt{constructor(Ye,He=null){this.data=Ye,this.element=He}}},4288:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>e});var t=l(3165),o=l(7263),f=l(1360),A=l(9564);let e=(()=>{class w{constructor(D,S){this.http=D,this.headersService=S,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(D,S,g,k,z,u,E){let B=new t.Nl;return null!=D&&(B=B.append("query",D)),(0,o.gP)(k)||(B=B.append("sort",k)),S&&(B=B.append("created",S)),g&&(B=B.append("expires",g)),z&&(B=B.append("page",String(z))),u&&(B=B.append("pageSize",String(u))),E&&(B=B.append("filterExpired",String(E))),B}getSessions(D,S,g,k,z,u,E){const B=this.buildParams(D,S,g,k,z,u,E);return this.http.get(this.actionUrl,{headers:this.headers,params:B})}deleteSession(D){return this.http.delete(`${this.actionUrl}/${D}`,{headers:this.headers})}static{this.\u0275fac=function(S){return new(S||w)(f.KVO(t.Qq),f.KVO(A.m))}}static{this.\u0275prov=f.jDH({token:w,factory:w.\u0275fac})}}return w})()},4360:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>o});var t=l(7707);function o(A,e,w,m,D){return new f(A,e,w,m,D)}class f extends t.vU{constructor(e,w,m,D,S,g){super(e),this.onFinalize=S,this.shouldUnsubscribe=g,this._next=w?function(k){try{w(k)}catch(z){e.error(z)}}:super._next,this._error=D?function(k){try{D(k)}catch(z){e.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=m?function(){try{m()}catch(k){e.error(k)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:w}=this;super.unsubscribe(),!w&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}},4367:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>m});var t=l(8434),o=l(8018),f=l(779),A=l(1993),e=l(4193),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,o.h,A.E,e.c,o.h,f.Q_]})}}return D})()},4402:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>f});var t=l(1985),o=l(8071);function f(A){return!!A&&(A instanceof t.c||(0,o.T)(A.lift)&&(0,o.T)(A.subscribe))}},4406:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>e});var t=l(6799),o=l(1360),f=l(5826),A=l(8018);let e=(()=>{class w extends t.P{constructor(D){super(),this.importWizardService=D,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(S){return new(S||w)(o.rXU(f.o))}}static{this.\u0275cmp=o.VBU({type:w,selectors:[["app-import-download-warning"]],standalone:!1,features:[o.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(S,g){1&S&&(o.j41(0,"div",0)(1,"p",1),o.EFF(2),o.nI1(3,"translate"),o.nI1(4,"translate"),o.k0s(),o.j41(5,"p",2),o.EFF(6),o.nI1(7,"translate"),o.k0s()(),o.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),o.bIt("click",function(){return g.downloadAndQuit()}),o.EFF(12),o.nI1(13,"translate"),o.k0s()(),o.j41(14,"button",7),o.bIt("click",function(){return g.yes()}),o.EFF(15),o.nI1(16,"translate"),o.k0s()()()),2&S&&(o.R7$(2),o.Lme(" ",o.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",o.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),o.R7$(4),o.JRh(o.bMT(7,9,"Secret Picker.LastWarning")),o.R7$(6),o.JRh(o.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),o.R7$(3),o.JRh(o.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[A.D9],encapsulation:2})}}return w})()},4412:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>o});var t=l(1413);class o extends t.B{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const e=super._subscribe(A);return!e.closed&&A.next(this._value),e}getValue(){const{hasError:A,thrownError:e,_value:w}=this;if(A)throw e;return this._throwIfClosed(),w}next(A){super.next(this._value=A)}}},4414:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>t});let t=(()=>{class o{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return o})()},4442:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>w});var t=l(1594),o=l(1360),f=l(9156),A=l(9069),e=l(5424);let w=(()=>{class m{constructor(S,g,k){this.serviceProviderService=S,this.cache=g,this.errorService=k}uploadFile(S,g){return this.serviceProviderService.setEncryptionCertificateViaFile(S,g)}uploadViaMetaData(S,g){return this.serviceProviderService.setEncryptionCertificateViaMetadata(S,g)}updateCertCache(S){this.serviceProviderService.getServiceProvider(S).subscribe(g=>{this.cache.unsavedCache$.pipe((0,t.$)()).subscribe(k=>{k.encryptionCertificate=g.encryptionCertificate,this.cache.unsavedCache.next(k)})},g=>{this.errorService.handleError(g)})}static{this.\u0275fac=function(g){return new(g||m)(o.KVO(f.s),o.KVO(A.d),o.KVO(e.I))}}static{this.\u0275prov=o.jDH({token:m,factory:m.\u0275fac})}}return m})()},4446:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>m});var t=l(1594),o=l(6354),f=l(1360),A=l(3853),e=l(2947),w=l(5139);let m=(()=>{class D{constructor(g,k,z){this.licenseService=g,this.router=k,this.localizeRouter=z}canActivate(g,k){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,o.T)(z=>{if(!z.isExpectingStarterConsent())return!0;{const u=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([u])}}))}static{this.\u0275fac=function(k){return new(k||D)(f.KVO(A.X),f.KVO(e.Ix),f.KVO(w.QG))}}static{this.\u0275prov=f.jDH({token:D,factory:D.\u0275fac})}}return D})()},4491:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>t});let t=(()=>{class o{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return o})()},4531:(ot,ve,l)=>{"use strict";ve.hc=void 0;const o=l(2114);ve.hc=(e,w)=>{const m=o.asn1.fromDer(e.toString("binary")),S=o.pkcs12.pkcs12FromAsn1(m,!1,w).getBags({bagType:o.pki.oids.certBag});if(!S||!S?.[o.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return S[o.pki.oids.certBag][0]}},4549:(ot,ve,l)=>{"use strict";l.d(ve,{c9:()=>Yn,wB:()=>xi});class t extends Error{}class o extends t{constructor(G){super(`Invalid DateTime: ${G.toMessage()}`)}}class f extends t{constructor(G){super(`Invalid Interval: ${G.toMessage()}`)}}class A extends t{constructor(G){super(`Invalid Duration: ${G.toMessage()}`)}}class e extends t{}class w extends t{constructor(G){super(`Invalid unit ${G}`)}}class m extends t{}class D extends t{constructor(){super("Zone is an abstract class")}}const S="numeric",g="short",k="long",z={year:S,month:S,day:S},u={year:S,month:g,day:S},E={year:S,month:g,day:S,weekday:g},B={year:S,month:k,day:S},V={year:S,month:k,day:S,weekday:k},F={hour:S,minute:S},M={hour:S,minute:S,second:S},W={hour:S,minute:S,second:S,timeZoneName:g},y={hour:S,minute:S,second:S,timeZoneName:k},X={hour:S,minute:S,hourCycle:"h23"},Z={hour:S,minute:S,second:S,hourCycle:"h23"},v={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:g},L={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:k},Q={year:S,month:S,day:S,hour:S,minute:S},te={year:S,month:S,day:S,hour:S,minute:S,second:S},N={year:S,month:g,day:S,hour:S,minute:S},fe={year:S,month:g,day:S,hour:S,minute:S,second:S},oe={year:S,month:g,day:S,weekday:g,hour:S,minute:S},R={year:S,month:k,day:S,hour:S,minute:S,timeZoneName:g},Fe={year:S,month:k,day:S,hour:S,minute:S,second:S,timeZoneName:g},we={year:S,month:k,day:S,weekday:k,hour:S,minute:S,timeZoneName:k},We={year:S,month:k,day:S,weekday:k,hour:S,minute:S,second:S,timeZoneName:k};class rt{get type(){throw new D}get name(){throw new D}get ianaName(){return this.name}get isUniversal(){throw new D}offsetName(G,ye){throw new D}formatOffset(G,ye){throw new D}offset(G){throw new D}equals(G){throw new D}get isValid(){throw new D}}let lt=null;class vt extends rt{static get instance(){return null===lt&&(lt=new vt),lt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(G,{format:ye,locale:Oe}){return Et(G,ye,Oe)}formatOffset(G,ye){return Qi(this.offset(G),ye)}offset(G){return-new Date(G).getTimezoneOffset()}equals(G){return"system"===G.type}get isValid(){return!0}}const Ue=new Map,He={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},Ve=new Map;class Xe extends rt{static create(G){let ye=Ve.get(G);return void 0===ye&&Ve.set(G,ye=new Xe(G)),ye}static resetCache(){Ve.clear(),Ue.clear()}static isValidSpecifier(G){return this.isValidZone(G)}static isValidZone(G){if(!G)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:G}).format(),!0}catch{return!1}}constructor(G){super(),this.zoneName=G,this.valid=Xe.isValidZone(G)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(G,{format:ye,locale:Oe}){return Et(G,ye,Oe,this.name)}formatOffset(G,ye){return Qi(this.offset(G),ye)}offset(G){if(!this.valid)return NaN;const ye=new Date(G);if(isNaN(ye))return NaN;const Oe=function Ye(Ee){let G=Ue.get(Ee);return void 0===G&&(G=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Ee,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Ue.set(Ee,G)),G}(this.name);let[pt,Ft,zt,vn,xn,cn,wn]=Oe.formatToParts?function Le(Ee,G){const ye=Ee.formatToParts(G),Oe=[];for(let pt=0;pt<ye.length;pt++){const{type:Ft,value:zt}=ye[pt],vn=He[Ft];"era"===Ft?Oe[vn]=zt:nn(vn)||(Oe[vn]=parseInt(zt,10))}return Oe}(Oe,ye):function it(Ee,G){const ye=Ee.format(G).replace(/\u200E/g,""),Oe=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ye),[,pt,Ft,zt,vn,xn,cn,wn]=Oe;return[zt,pt,Ft,vn,xn,cn,wn]}(Oe,ye);"BC"===vn&&(pt=1-Math.abs(pt));let ss=+ye;const Dr=ss%1e3;return ss-=Dr>=0?Dr:1e3+Dr,(Ji({year:pt,month:Ft,day:zt,hour:24===xn?0:xn,minute:cn,second:wn,millisecond:0})-ss)/6e4}equals(G){return"iana"===G.type&&G.name===this.name}get isValid(){return this.valid}}let je={};const st=new Map;function Qe(Ee,G={}){const ye=JSON.stringify([Ee,G]);let Oe=st.get(ye);return void 0===Oe&&(Oe=new Intl.DateTimeFormat(Ee,G),st.set(ye,Oe)),Oe}const ne=new Map,he=new Map;let s=null;const _t=new Map;function en(Ee){let G=_t.get(Ee);return void 0===G&&(G=new Intl.DateTimeFormat(Ee).resolvedOptions(),_t.set(Ee,G)),G}const Cn=new Map;function Qt(Ee,G,ye,Oe){const pt=Ee.listingMode();return"error"===pt?null:"en"===pt?ye(G):Oe(G)}class de{constructor(G,ye,Oe){this.padTo=Oe.padTo||0,this.floor=Oe.floor||!1;const{padTo:pt,floor:Ft,...zt}=Oe;if(!ye||Object.keys(zt).length>0){const vn={useGrouping:!1,...Oe};Oe.padTo>0&&(vn.minimumIntegerDigits=Oe.padTo),this.inf=function Y(Ee,G={}){const ye=JSON.stringify([Ee,G]);let Oe=ne.get(ye);return void 0===Oe&&(Oe=new Intl.NumberFormat(Ee,G),ne.set(ye,Oe)),Oe}(G,vn)}}format(G){if(this.inf){const ye=this.floor?Math.floor(G):G;return this.inf.format(ye)}return ht(this.floor?Math.floor(G):hi(G,3),this.padTo)}}class P{constructor(G,ye,Oe){let pt;if(this.opts=Oe,this.originalZone=void 0,this.opts.timeZone)this.dt=G;else if("fixed"===G.zone.type){const zt=G.offset/60*-1,vn=zt>=0?`Etc/GMT+${zt}`:`Etc/GMT${zt}`;0!==G.offset&&Xe.create(vn).valid?(pt=vn,this.dt=G):(pt="UTC",this.dt=0===G.offset?G:G.setZone("UTC").plus({minutes:G.offset}),this.originalZone=G.zone)}else"system"===G.zone.type?this.dt=G:"iana"===G.zone.type?(this.dt=G,pt=G.zone.name):(pt="UTC",this.dt=G.setZone("UTC").plus({minutes:G.offset}),this.originalZone=G.zone);const Ft={...this.opts};Ft.timeZone=Ft.timeZone||pt,this.dtf=Qe(ye,Ft)}format(){return this.originalZone?this.formatToParts().map(({value:G})=>G).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const G=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?G.map(ye=>{if("timeZoneName"===ye.type){const Oe=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...ye,value:Oe}}return ye}):G}resolvedOptions(){return this.dtf.resolvedOptions()}}class q{constructor(G,ye,Oe){this.opts={style:"long",...Oe},!ye&&Ht()&&(this.rtf=function ge(Ee,G={}){const{base:ye,...Oe}=G,pt=JSON.stringify([Ee,Oe]);let Ft=he.get(pt);return void 0===Ft&&(Ft=new Intl.RelativeTimeFormat(Ee,G),he.set(pt,Ft)),Ft}(G,Oe))}format(G,ye){return this.rtf?this.rtf.format(G,ye):function Dt(Ee,G,ye="always",Oe=!1){const pt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Ft=-1===["hours","minutes","seconds"].indexOf(Ee);if("auto"===ye&&Ft){const On="days"===Ee;switch(G){case 1:return On?"tomorrow":`next ${pt[Ee][0]}`;case-1:return On?"yesterday":`last ${pt[Ee][0]}`;case 0:return On?"today":`this ${pt[Ee][0]}`}}const zt=Object.is(G,-0)||G<0,vn=Math.abs(G),xn=1===vn,cn=pt[Ee],wn=Oe?xn?cn[1]:cn[2]||cn[1]:xn?pt[Ee][0]:Ee;return zt?`${vn} ${wn} ago`:`in ${vn} ${wn}`}(ye,G,this.opts.numeric,"long"!==this.opts.style)}formatToParts(G,ye){return this.rtf?this.rtf.formatToParts(G,ye):[]}}const Ne={firstDay:1,minimalDays:4,weekend:[6,7]};class De{static fromOpts(G){return De.create(G.locale,G.numberingSystem,G.outputCalendar,G.weekSettings,G.defaultToEN)}static create(G,ye,Oe,pt,Ft=!1){const zt=G||xi.defaultLocale,vn=zt||(Ft?"en-US":function dt(){return s||(s=(new Intl.DateTimeFormat).resolvedOptions().locale,s)}()),xn=ye||xi.defaultNumberingSystem,cn=Oe||xi.defaultOutputCalendar,wn=vi(pt)||xi.defaultWeekSettings;return new De(vn,xn,cn,wn,zt)}static resetCache(){s=null,st.clear(),ne.clear(),he.clear(),_t.clear(),Cn.clear()}static fromObject({locale:G,numberingSystem:ye,outputCalendar:Oe,weekSettings:pt}={}){return De.create(G,ye,Oe,pt)}constructor(G,ye,Oe,pt,Ft){const[zt,vn,xn]=function tn(Ee){const G=Ee.indexOf("-x-");-1!==G&&(Ee=Ee.substring(0,G));const ye=Ee.indexOf("-u-");if(-1===ye)return[Ee];{let Oe,pt;try{Oe=Qe(Ee).resolvedOptions(),pt=Ee}catch{const xn=Ee.substring(0,ye);Oe=Qe(xn).resolvedOptions(),pt=xn}const{numberingSystem:Ft,calendar:zt}=Oe;return[pt,Ft,zt]}}(G);this.locale=zt,this.numberingSystem=ye||vn||null,this.outputCalendar=Oe||xn||null,this.weekSettings=pt,this.intl=function Ln(Ee,G,ye){return(ye||G)&&(Ee.includes("-u-")||(Ee+="-u"),ye&&(Ee+=`-ca-${ye}`),G&&(Ee+=`-nu-${G}`)),Ee}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Ft,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function pe(Ee){return(!Ee.numberingSystem||"latn"===Ee.numberingSystem)&&("latn"===Ee.numberingSystem||!Ee.locale||Ee.locale.startsWith("en")||"latn"===en(Ee.locale).numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(G){return G&&0!==Object.getOwnPropertyNames(G).length?De.create(G.locale||this.specifiedLocale,G.numberingSystem||this.numberingSystem,G.outputCalendar||this.outputCalendar,vi(G.weekSettings)||this.weekSettings,G.defaultToEN||!1):this}redefaultToEN(G={}){return this.clone({...G,defaultToEN:!0})}redefaultToSystem(G={}){return this.clone({...G,defaultToEN:!1})}months(G,ye=!1){return Qt(this,G,Pe,()=>{const Oe=ye?{month:G,day:"numeric"}:{month:G},pt=ye?"format":"standalone";return this.monthsCache[pt][G]||(this.monthsCache[pt][G]=function ni(Ee){const G=[];for(let ye=1;ye<=12;ye++){const Oe=Yn.utc(2009,ye,1);G.push(Ee(Oe))}return G}(Ft=>this.extract(Ft,Oe,"month"))),this.monthsCache[pt][G]})}weekdays(G,ye=!1){return Qt(this,G,Wi,()=>{const Oe=ye?{weekday:G,year:"numeric",month:"long",day:"numeric"}:{weekday:G},pt=ye?"format":"standalone";return this.weekdaysCache[pt][G]||(this.weekdaysCache[pt][G]=function ft(Ee){const G=[];for(let ye=1;ye<=7;ye++){const Oe=Yn.utc(2016,11,13+ye);G.push(Ee(Oe))}return G}(Ft=>this.extract(Ft,Oe,"weekday"))),this.weekdaysCache[pt][G]})}meridiems(){return Qt(this,void 0,()=>Di,()=>{if(!this.meridiemCache){const G={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Yn.utc(2016,11,13,9),Yn.utc(2016,11,13,19)].map(ye=>this.extract(ye,G,"dayperiod"))}return this.meridiemCache})}eras(G){return Qt(this,G,Yi,()=>{const ye={era:G};return this.eraCache[G]||(this.eraCache[G]=[Yn.utc(-40,1,1),Yn.utc(2017,1,1)].map(Oe=>this.extract(Oe,ye,"era"))),this.eraCache[G]})}extract(G,ye,Oe){const zt=this.dtFormatter(G,ye).formatToParts().find(vn=>vn.type.toLowerCase()===Oe);return zt?zt.value:null}numberFormatter(G={}){return new de(this.intl,G.forceSimple||this.fastNumbers,G)}dtFormatter(G,ye={}){return new P(G,this.intl,ye)}relFormatter(G={}){return new q(this.intl,this.isEnglish(),G)}listFormatter(G={}){return function ct(Ee,G={}){const ye=JSON.stringify([Ee,G]);let Oe=je[ye];return Oe||(Oe=new Intl.ListFormat(Ee,G),je[ye]=Oe),Oe}(this.intl,G)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||en(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:oi()?function Wn(Ee){let G=Cn.get(Ee);if(!G){const ye=new Intl.Locale(Ee);G="getWeekInfo"in ye?ye.getWeekInfo():ye.weekInfo,"minimalDays"in G||(G={...Ne,...G}),Cn.set(Ee,G)}return G}(this.locale):Ne}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(G){return this.locale===G.locale&&this.numberingSystem===G.numberingSystem&&this.outputCalendar===G.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let et=null;class gt extends rt{static get utcInstance(){return null===et&&(et=new gt(0)),et}static instance(G){return 0===G?gt.utcInstance:new gt(G)}static parseSpecifier(G){if(G){const ye=G.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ye)return new gt(yn(ye[1],ye[2]))}return null}constructor(G){super(),this.fixed=G}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Qi(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Qi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(G,ye){return Qi(this.fixed,ye)}get isUniversal(){return!0}offset(){return this.fixed}equals(G){return"fixed"===G.type&&G.fixed===this.fixed}get isValid(){return!0}}class Kt extends rt{constructor(G){super(),this.zoneName=G}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function sn(Ee,G){if(nn(Ee)||null===Ee)return G;if(Ee instanceof rt)return Ee;if(function Xn(Ee){return"string"==typeof Ee}(Ee)){const Oe=Ee.toLowerCase();return"default"===Oe?G:"local"===Oe||"system"===Oe?vt.instance:"utc"===Oe||"gmt"===Oe?gt.utcInstance:gt.parseSpecifier(Oe)||Xe.create(Ee)}return Vn(Ee)?gt.instance(Ee):"object"==typeof Ee&&"offset"in Ee&&"function"==typeof Ee.offset?Ee:new Kt(Ee)}const Rn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Kn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ei=Rn.hanidec.replace(/[\[|\]]/g,"").split(""),Gn=new Map;function Tn({numberingSystem:Ee},G=""){const ye=Ee||"latn";let Oe=Gn.get(ye);void 0===Oe&&(Oe=new Map,Gn.set(ye,Oe));let pt=Oe.get(G);return void 0===pt&&(pt=new RegExp(`${Rn[ye]}${G}`),Oe.set(G,pt)),pt}let zn,In=()=>Date.now(),rs="system",_i=null,Bi=null,Ni=null,os=60,fs=null;class xi{static get now(){return In}static set now(G){In=G}static set defaultZone(G){rs=G}static get defaultZone(){return sn(rs,vt.instance)}static get defaultLocale(){return _i}static set defaultLocale(G){_i=G}static get defaultNumberingSystem(){return Bi}static set defaultNumberingSystem(G){Bi=G}static get defaultOutputCalendar(){return Ni}static set defaultOutputCalendar(G){Ni=G}static get defaultWeekSettings(){return fs}static set defaultWeekSettings(G){fs=vi(G)}static get twoDigitCutoffYear(){return os}static set twoDigitCutoffYear(G){os=G%100}static get throwOnInvalid(){return zn}static set throwOnInvalid(G){zn=G}static resetCaches(){De.resetCache(),Xe.resetCache(),Yn.resetCache(),function Zt(){Gn.clear()}()}}class wt{constructor(G,ye){this.reason=G,this.explanation=ye}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Tt=[0,31,59,90,120,151,181,212,243,273,304,334],xt=[0,31,60,91,121,152,182,213,244,274,305,335];function Wt(Ee,G){return new wt("unit out of range",`you specified ${G} (of type ${typeof G}) as a ${Ee}, which is invalid`)}function un(Ee,G,ye){const Oe=new Date(Date.UTC(Ee,G-1,ye));Ee<100&&Ee>=0&&Oe.setUTCFullYear(Oe.getUTCFullYear()-1900);const pt=Oe.getUTCDay();return 0===pt?7:pt}function ii(Ee,G,ye){return ye+(ri(Ee)?xt:Tt)[G-1]}function Ei(Ee,G){const ye=ri(Ee)?xt:Tt,Oe=ye.findIndex(Ft=>Ft<G);return{month:Oe+1,day:G-ye[Oe]}}function Ii(Ee,G){return(Ee-G+7)%7+1}function Ti(Ee,G=4,ye=1){const{year:Oe,month:pt,day:Ft}=Ee,zt=ii(Oe,pt,Ft),vn=Ii(un(Oe,pt,Ft),ye);let cn,xn=Math.floor((zt-vn+14-G)/7);return xn<1?(cn=Oe-1,xn=$t(cn,G,ye)):xn>$t(Oe,G,ye)?(cn=Oe+1,xn=1):cn=Oe,{weekYear:cn,weekNumber:xn,weekday:vn,...Bt(Ee)}}function Dn(Ee,G=4,ye=1){const{weekYear:Oe,weekNumber:pt,weekday:Ft}=Ee,zt=Ii(un(Oe,1,G),ye),vn=Nn(Oe);let cn,xn=7*pt+Ft-zt-7+G;xn<1?(cn=Oe-1,xn+=Nn(cn)):xn>vn?(cn=Oe+1,xn-=Nn(Oe)):cn=Oe;const{month:wn,day:On}=Ei(cn,xn);return{year:cn,month:wn,day:On,...Bt(Ee)}}function Vi(Ee){const{year:G,month:ye,day:Oe}=Ee;return{year:G,ordinal:ii(G,ye,Oe),...Bt(Ee)}}function ji(Ee){const{year:G,ordinal:ye}=Ee,{month:Oe,day:pt}=Ei(G,ye);return{year:G,month:Oe,day:pt,...Bt(Ee)}}function zi(Ee,G){if(nn(Ee.localWeekday)&&nn(Ee.localWeekNumber)&&nn(Ee.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!nn(Ee.weekday)||!nn(Ee.weekNumber)||!nn(Ee.weekYear))throw new e("Cannot mix locale-based week fields with ISO-based week fields");return nn(Ee.localWeekday)||(Ee.weekday=Ee.localWeekday),nn(Ee.localWeekNumber)||(Ee.weekNumber=Ee.localWeekNumber),nn(Ee.localWeekYear)||(Ee.weekYear=Ee.localWeekYear),delete Ee.localWeekday,delete Ee.localWeekNumber,delete Ee.localWeekYear,{minDaysInFirstWeek:G.getMinDaysInFirstWeek(),startOfWeek:G.getStartOfWeek()}}function Rt(Ee){const G=ln(Ee.year),ye=Be(Ee.month,1,12),Oe=Be(Ee.day,1,Ki(Ee.year,Ee.month));return G?ye?!Oe&&Wt("day",Ee.day):Wt("month",Ee.month):Wt("year",Ee.year)}function yt(Ee){const{hour:G,minute:ye,second:Oe,millisecond:pt}=Ee,Ft=Be(G,0,23)||24===G&&0===ye&&0===Oe&&0===pt,zt=Be(ye,0,59),vn=Be(Oe,0,59),xn=Be(pt,0,999);return Ft?zt?vn?!xn&&Wt("millisecond",pt):Wt("second",Oe):Wt("minute",ye):Wt("hour",G)}function nn(Ee){return typeof Ee>"u"}function Vn(Ee){return"number"==typeof Ee}function ln(Ee){return"number"==typeof Ee&&Ee%1==0}function Ht(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function oi(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Un(Ee,G,ye){if(0!==Ee.length)return Ee.reduce((Oe,pt)=>{const Ft=[G(pt),pt];return Oe&&ye(Oe[0],Ft[0])===Oe[0]?Oe:Ft},null)[1]}function Qn(Ee,G){return Object.prototype.hasOwnProperty.call(Ee,G)}function vi(Ee){if(null==Ee)return null;if("object"!=typeof Ee)throw new m("Week settings must be an object");if(!Be(Ee.firstDay,1,7)||!Be(Ee.minimalDays,1,7)||!Array.isArray(Ee.weekend)||Ee.weekend.some(G=>!Be(G,1,7)))throw new m("Invalid week settings");return{firstDay:Ee.firstDay,minimalDays:Ee.minimalDays,weekend:Array.from(Ee.weekend)}}function Be(Ee,G,ye){return ln(Ee)&&Ee>=G&&Ee<=ye}function ht(Ee,G=2){let Oe;return Oe=Ee<0?"-"+(""+-Ee).padStart(G,"0"):(""+Ee).padStart(G,"0"),Oe}function jt(Ee){if(!nn(Ee)&&null!==Ee&&""!==Ee)return parseInt(Ee,10)}function Jt(Ee){if(!nn(Ee)&&null!==Ee&&""!==Ee)return parseFloat(Ee)}function Mn(Ee){if(!nn(Ee)&&null!==Ee&&""!==Ee){const G=1e3*parseFloat("0."+Ee);return Math.floor(G)}}function hi(Ee,G,ye=!1){const Oe=10**G;return(ye?Math.trunc:Math.round)(Ee*Oe)/Oe}function ri(Ee){return Ee%4==0&&(Ee%100!=0||Ee%400==0)}function Nn(Ee){return ri(Ee)?366:365}function Ki(Ee,G){const ye=function Ze(Ee,G){return Ee-G*Math.floor(Ee/G)}(G-1,12)+1;return 2===ye?ri(Ee+(G-ye)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ye-1]}function Ji(Ee){let G=Date.UTC(Ee.year,Ee.month-1,Ee.day,Ee.hour,Ee.minute,Ee.second,Ee.millisecond);return Ee.year<100&&Ee.year>=0&&(G=new Date(G),G.setUTCFullYear(Ee.year,Ee.month-1,Ee.day)),+G}function Ms(Ee,G,ye){return-Ii(un(Ee,1,G),ye)+G-1}function $t(Ee,G=4,ye=1){const Oe=Ms(Ee,G,ye),pt=Ms(Ee+1,G,ye);return(Nn(Ee)-Oe+pt)/7}function Ai(Ee){return Ee>99?Ee:Ee>xi.twoDigitCutoffYear?1900+Ee:2e3+Ee}function Et(Ee,G,ye,Oe=null){const pt=new Date(Ee),Ft={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Oe&&(Ft.timeZone=Oe);const zt={timeZoneName:G,...Ft},vn=new Intl.DateTimeFormat(ye,zt).formatToParts(pt).find(xn=>"timezonename"===xn.type.toLowerCase());return vn?vn.value:null}function yn(Ee,G){let ye=parseInt(Ee,10);Number.isNaN(ye)&&(ye=0);const Oe=parseInt(G,10)||0;return 60*ye+(ye<0||Object.is(ye,-0)?-Oe:Oe)}function Yt(Ee){const G=Number(Ee);if("boolean"==typeof Ee||""===Ee||Number.isNaN(G))throw new m(`Invalid unit value ${Ee}`);return G}function Fn(Ee,G){const ye={};for(const Oe in Ee)if(Qn(Ee,Oe)){const pt=Ee[Oe];if(null==pt)continue;ye[G(Oe)]=Yt(pt)}return ye}function Qi(Ee,G){const ye=Math.trunc(Math.abs(Ee/60)),Oe=Math.trunc(Math.abs(Ee%60)),pt=Ee>=0?"+":"-";switch(G){case"short":return`${pt}${ht(ye,2)}:${ht(Oe,2)}`;case"narrow":return`${pt}${ye}${Oe>0?`:${Oe}`:""}`;case"techie":return`${pt}${ht(ye,2)}${ht(Oe,2)}`;default:throw new RangeError(`Value format ${G} is out of range for property format`)}}function Bt(Ee){return function fn(Ee,G){return G.reduce((ye,Oe)=>(ye[Oe]=Ee[Oe],ye),{})}(Ee,["hour","minute","second","millisecond"])}const Ae=["January","February","March","April","May","June","July","August","September","October","November","December"],ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ce=["J","F","M","A","M","J","J","A","S","O","N","D"];function Pe(Ee){switch(Ee){case"narrow":return[...Ce];case"short":return[...ae];case"long":return[...Ae];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const At=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],pn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Bn=["M","T","W","T","F","S","S"];function Wi(Ee){switch(Ee){case"narrow":return[...Bn];case"short":return[...pn];case"long":return[...At];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Di=["AM","PM"],Li=["Before Christ","Anno Domini"],li=["BC","AD"],Ui=["B","A"];function Yi(Ee){switch(Ee){case"narrow":return[...Ui];case"short":return[...li];case"long":return[...Li];default:return null}}function Vt(Ee,G){let ye="";for(const Oe of Ee)ye+=Oe.literal?Oe.val:G(Oe.val);return ye}const mn={D:z,DD:u,DDD:B,DDDD:V,t:F,tt:M,ttt:W,tttt:y,T:X,TT:Z,TTT:v,TTTT:L,f:Q,ff:N,fff:R,ffff:we,F:te,FF:fe,FFF:Fe,FFFF:We};class Jn{static create(G,ye={}){return new Jn(G,ye)}static parseFormat(G){let ye=null,Oe="",pt=!1;const Ft=[];for(let zt=0;zt<G.length;zt++){const vn=G.charAt(zt);"'"===vn?(Oe.length>0&&Ft.push({literal:pt||/^\s+$/.test(Oe),val:Oe}),ye=null,Oe="",pt=!pt):pt||vn===ye?Oe+=vn:(Oe.length>0&&Ft.push({literal:/^\s+$/.test(Oe),val:Oe}),Oe=vn,ye=vn)}return Oe.length>0&&Ft.push({literal:pt||/^\s+$/.test(Oe),val:Oe}),Ft}static macroTokenToFormatOpts(G){return mn[G]}constructor(G,ye){this.opts=ye,this.loc=G,this.systemLoc=null}formatWithSystemDefault(G,ye){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(G,{...this.opts,...ye}).format()}dtFormatter(G,ye={}){return this.loc.dtFormatter(G,{...this.opts,...ye})}formatDateTime(G,ye){return this.dtFormatter(G,ye).format()}formatDateTimeParts(G,ye){return this.dtFormatter(G,ye).formatToParts()}formatInterval(G,ye){return this.dtFormatter(G.start,ye).dtf.formatRange(G.start.toJSDate(),G.end.toJSDate())}resolvedOptions(G,ye){return this.dtFormatter(G,ye).resolvedOptions()}num(G,ye=0){if(this.opts.forceSimple)return ht(G,ye);const Oe={...this.opts};return ye>0&&(Oe.padTo=ye),this.loc.numberFormatter(Oe).format(G)}formatDateTimeFromString(G,ye){const Oe="en"===this.loc.listingMode(),pt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Ft=(ss,Dr)=>this.loc.extract(G,ss,Dr),zt=ss=>G.isOffsetFixed&&0===G.offset&&ss.allowZ?"Z":G.isValid?G.zone.formatOffset(G.ts,ss.format):"",xn=(ss,Dr)=>Oe?function Or(Ee,G){return Pe(G)[Ee.month-1]}(G,ss):Ft(Dr?{month:ss}:{month:ss,day:"numeric"},"month"),cn=(ss,Dr)=>Oe?function Fs(Ee,G){return Wi(G)[Ee.weekday-1]}(G,ss):Ft(Dr?{weekday:ss}:{weekday:ss,month:"long",day:"numeric"},"weekday"),wn=ss=>{const Dr=Jn.macroTokenToFormatOpts(ss);return Dr?this.formatWithSystemDefault(G,Dr):ss},On=ss=>Oe?function Zr(Ee,G){return Yi(G)[Ee.year<0?0:1]}(G,ss):Ft({era:ss},"era");return Vt(Jn.parseFormat(ye),ss=>{switch(ss){case"S":return this.num(G.millisecond);case"u":case"SSS":return this.num(G.millisecond,3);case"s":return this.num(G.second);case"ss":return this.num(G.second,2);case"uu":return this.num(Math.floor(G.millisecond/10),2);case"uuu":return this.num(Math.floor(G.millisecond/100));case"m":return this.num(G.minute);case"mm":return this.num(G.minute,2);case"h":return this.num(G.hour%12==0?12:G.hour%12);case"hh":return this.num(G.hour%12==0?12:G.hour%12,2);case"H":return this.num(G.hour);case"HH":return this.num(G.hour,2);case"Z":return zt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return zt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return zt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return G.zone.offsetName(G.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return G.zone.offsetName(G.ts,{format:"long",locale:this.loc.locale});case"z":return G.zoneName;case"a":return Oe?function Os(Ee){return Di[Ee.hour<12?0:1]}(G):Ft({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return pt?Ft({day:"numeric"},"day"):this.num(G.day);case"dd":return pt?Ft({day:"2-digit"},"day"):this.num(G.day,2);case"c":case"E":return this.num(G.weekday);case"ccc":return cn("short",!0);case"cccc":return cn("long",!0);case"ccccc":return cn("narrow",!0);case"EEE":return cn("short",!1);case"EEEE":return cn("long",!1);case"EEEEE":return cn("narrow",!1);case"L":return pt?Ft({month:"numeric",day:"numeric"},"month"):this.num(G.month);case"LL":return pt?Ft({month:"2-digit",day:"numeric"},"month"):this.num(G.month,2);case"LLL":return xn("short",!0);case"LLLL":return xn("long",!0);case"LLLLL":return xn("narrow",!0);case"M":return pt?Ft({month:"numeric"},"month"):this.num(G.month);case"MM":return pt?Ft({month:"2-digit"},"month"):this.num(G.month,2);case"MMM":return xn("short",!1);case"MMMM":return xn("long",!1);case"MMMMM":return xn("narrow",!1);case"y":return pt?Ft({year:"numeric"},"year"):this.num(G.year);case"yy":return pt?Ft({year:"2-digit"},"year"):this.num(G.year.toString().slice(-2),2);case"yyyy":return pt?Ft({year:"numeric"},"year"):this.num(G.year,4);case"yyyyyy":return pt?Ft({year:"numeric"},"year"):this.num(G.year,6);case"G":return On("short");case"GG":return On("long");case"GGGGG":return On("narrow");case"kk":return this.num(G.weekYear.toString().slice(-2),2);case"kkkk":return this.num(G.weekYear,4);case"W":return this.num(G.weekNumber);case"WW":return this.num(G.weekNumber,2);case"n":return this.num(G.localWeekNumber);case"nn":return this.num(G.localWeekNumber,2);case"ii":return this.num(G.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(G.localWeekYear,4);case"o":return this.num(G.ordinal);case"ooo":return this.num(G.ordinal,3);case"q":return this.num(G.quarter);case"qq":return this.num(G.quarter,2);case"X":return this.num(Math.floor(G.ts/1e3));case"x":return this.num(G.ts);default:return wn(ss)}})}formatDurationFromString(G,ye){const Oe=xn=>{switch(xn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Ft=Jn.parseFormat(ye),zt=Ft.reduce((xn,{literal:cn,val:wn})=>cn?xn:xn.concat(wn),[]);return Vt(Ft,(xn=>cn=>{const wn=Oe(cn);return wn?this.num(xn.get(wn),cn.length):cn})(G.shiftTo(...zt.map(Oe).filter(xn=>xn))))}}const yi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function fi(...Ee){const G=Ee.reduce((ye,Oe)=>ye+Oe.source,"");return RegExp(`^${G}$`)}function Us(...Ee){return G=>Ee.reduce(([ye,Oe,pt],Ft)=>{const[zt,vn,xn]=Ft(G,pt);return[{...ye,...zt},vn||Oe,xn]},[{},null,1]).slice(0,2)}function Es(Ee,...G){if(null==Ee)return[null,null];for(const[ye,Oe]of G){const pt=ye.exec(Ee);if(pt)return Oe(pt)}return[null,null]}function xr(...Ee){return(G,ye)=>{const Oe={};let pt;for(pt=0;pt<Ee.length;pt++)Oe[Ee[pt]]=jt(G[ye+pt]);return[Oe,null,ye+pt]}}const xs=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ci=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ir=RegExp(`${Ci.source}(?:${xs.source}?(?:\\[(${yi.source})\\])?)?`),qr=RegExp(`(?:T${Ir.source})?`),ma=xr("weekYear","weekNumber","weekDay"),Sr=xr("year","ordinal"),Wr=RegExp(`${Ci.source} ?(?:${xs.source}|(${yi.source}))?`),Pr=RegExp(`(?: ${Wr.source})?`);function ea(Ee,G,ye){const Oe=Ee[G];return nn(Oe)?ye:jt(Oe)}function Ua(Ee,G){return[{hours:ea(Ee,G,0),minutes:ea(Ee,G+1,0),seconds:ea(Ee,G+2,0),milliseconds:Mn(Ee[G+3])},null,G+4]}function fr(Ee,G){const ye=!Ee[G]&&!Ee[G+1],Oe=yn(Ee[G+1],Ee[G+2]);return[{},ye?null:gt.instance(Oe),G+3]}function Fr(Ee,G){return[{},Ee[G]?Xe.create(Ee[G]):null,G+1]}const Wo=RegExp(`^T?${Ci.source}$`),ta=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function xa(Ee){const[G,ye,Oe,pt,Ft,zt,vn,xn,cn]=Ee,wn="-"===G[0],On=xn&&"-"===xn[0],Zn=(ss,Dr=!1)=>void 0!==ss&&(Dr||ss&&wn)?-ss:ss;return[{years:Zn(Jt(ye)),months:Zn(Jt(Oe)),weeks:Zn(Jt(pt)),days:Zn(Jt(Ft)),hours:Zn(Jt(zt)),minutes:Zn(Jt(vn)),seconds:Zn(Jt(xn),"-0"===xn),milliseconds:Zn(Mn(cn),On)}]}const ja={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ur(Ee,G,ye,Oe,pt,Ft,zt){const vn={year:2===G.length?Ai(jt(G)):jt(G),month:ae.indexOf(ye)+1,day:jt(Oe),hour:jt(pt),minute:jt(Ft)};return zt&&(vn.second=jt(zt)),Ee&&(vn.weekday=Ee.length>3?At.indexOf(Ee)+1:pn.indexOf(Ee)+1),vn}const mr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ka(Ee){const[,G,ye,Oe,pt,Ft,zt,vn,xn,cn,wn,On]=Ee,Zn=Ur(G,pt,Oe,ye,Ft,zt,vn);let ss;return ss=xn?ja[xn]:cn?0:yn(wn,On),[Zn,new gt(ss)]}const Ia=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Br=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Bs=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function vr(Ee){const[,G,ye,Oe,pt,Ft,zt,vn]=Ee;return[Ur(G,pt,Oe,ye,Ft,zt,vn),gt.utcInstance]}function jr(Ee){const[,G,ye,Oe,pt,Ft,zt,vn]=Ee;return[Ur(G,vn,ye,Oe,pt,Ft,zt),gt.utcInstance]}const Ao=fi(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,qr),Ca=fi(/(\d{4})-?W(\d\d)(?:-?(\d))?/,qr),ar=fi(/(\d{4})-?(\d{3})/,qr),hs=fi(Ir),Ds=Us(function ha(Ee,G){return[{year:ea(Ee,G),month:ea(Ee,G+1,1),day:ea(Ee,G+2,1)},null,G+3]},Ua,fr,Fr),ks=Us(ma,Ua,fr,Fr),Yr=Us(Sr,Ua,fr,Fr),Er=Us(Ua,fr,Fr),K=Us(Ua),ee=fi(/(\d{4})-(\d\d)-(\d\d)/,Pr),Te=fi(Wr),qe=Us(Ua,fr,Fr),bn="Invalid Duration",ai={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ts={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ai},$i=365.2425,Zs=30.436875,$r={years:{quarters:4,months:12,weeks:$i/7,days:$i,hours:24*$i,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:$i/28,days:$i/4,hours:24*$i/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Zs/7,days:Zs,hours:24*Zs,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ai},ga=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$a=ga.slice(0).reverse();function Rr(Ee,G,ye=!1){const Oe={values:ye?G.values:{...Ee.values,...G.values||{}},loc:Ee.loc.clone(G.loc),conversionAccuracy:G.conversionAccuracy||Ee.conversionAccuracy,matrix:G.matrix||Ee.matrix};return new ws(Oe)}function Ga(Ee,G){let ye=G.milliseconds??0;for(const Oe of $a.slice(1))G[Oe]&&(ye+=G[Oe]*Ee[Oe].milliseconds);return ye}function ro(Ee,G){const ye=Ga(Ee,G)<0?-1:1;ga.reduceRight((Oe,pt)=>{if(nn(G[pt]))return Oe;if(Oe){const zt=Ee[pt][Oe],vn=Math.floor(G[Oe]*ye/zt);G[pt]+=vn*ye,G[Oe]-=vn*zt*ye}return pt},null),ga.reduce((Oe,pt)=>{if(nn(G[pt]))return Oe;if(Oe){const Ft=G[Oe]%1;G[Oe]-=Ft,G[pt]+=Ft*Ee[Oe][pt]}return pt},null)}class ws{constructor(G){const ye="longterm"===G.conversionAccuracy||!1;let Oe=ye?$r:ts;G.matrix&&(Oe=G.matrix),this.values=G.values,this.loc=G.loc||De.create(),this.conversionAccuracy=ye?"longterm":"casual",this.invalid=G.invalid||null,this.matrix=Oe,this.isLuxonDuration=!0}static fromMillis(G,ye){return ws.fromObject({milliseconds:G},ye)}static fromObject(G,ye={}){if(null==G||"object"!=typeof G)throw new m("Duration.fromObject: argument expected to be an object, got "+(null===G?"null":typeof G));return new ws({values:Fn(G,ws.normalizeUnit),loc:De.fromObject(ye),conversionAccuracy:ye.conversionAccuracy,matrix:ye.matrix})}static fromDurationLike(G){if(Vn(G))return ws.fromMillis(G);if(ws.isDuration(G))return G;if("object"==typeof G)return ws.fromObject(G);throw new m(`Unknown duration argument ${G} of type ${typeof G}`)}static fromISO(G,ye){const[Oe]=function il(Ee){return Es(Ee,[ta,xa])}(G);return Oe?ws.fromObject(Oe,ye):ws.invalid("unparsable",`the input "${G}" can't be parsed as ISO 8601`)}static fromISOTime(G,ye){const[Oe]=function ie(Ee){return Es(Ee,[Wo,K])}(G);return Oe?ws.fromObject(Oe,ye):ws.invalid("unparsable",`the input "${G}" can't be parsed as ISO 8601`)}static invalid(G,ye=null){if(!G)throw new m("need to specify a reason the Duration is invalid");const Oe=G instanceof wt?G:new wt(G,ye);if(xi.throwOnInvalid)throw new A(Oe);return new ws({invalid:Oe})}static normalizeUnit(G){const ye={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[G&&G.toLowerCase()];if(!ye)throw new w(G);return ye}static isDuration(G){return G&&G.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(G,ye={}){const Oe={...ye,floor:!1!==ye.round&&!1!==ye.floor};return this.isValid?Jn.create(this.loc,Oe).formatDurationFromString(this,G):bn}toHuman(G={}){if(!this.isValid)return bn;const ye=ga.map(Oe=>{const pt=this.values[Oe];return nn(pt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...G,unit:Oe.slice(0,-1)}).format(pt)}).filter(Oe=>Oe);return this.loc.listFormatter({type:"conjunction",style:G.listStyle||"narrow",...G}).format(ye)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let G="P";return 0!==this.years&&(G+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(G+=this.months+3*this.quarters+"M"),0!==this.weeks&&(G+=this.weeks+"W"),0!==this.days&&(G+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(G+="T"),0!==this.hours&&(G+=this.hours+"H"),0!==this.minutes&&(G+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(G+=hi(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===G&&(G+="T0S"),G}toISOTime(G={}){if(!this.isValid)return null;const ye=this.toMillis();return ye<0||ye>=864e5?null:(G={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...G,includeOffset:!1},Yn.fromMillis(ye,{zone:"UTC"}).toISOTime(G))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Ga(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(G){if(!this.isValid)return this;const ye=ws.fromDurationLike(G),Oe={};for(const pt of ga)(Qn(ye.values,pt)||Qn(this.values,pt))&&(Oe[pt]=ye.get(pt)+this.get(pt));return Rr(this,{values:Oe},!0)}minus(G){if(!this.isValid)return this;const ye=ws.fromDurationLike(G);return this.plus(ye.negate())}mapUnits(G){if(!this.isValid)return this;const ye={};for(const Oe of Object.keys(this.values))ye[Oe]=Yt(G(this.values[Oe],Oe));return Rr(this,{values:ye},!0)}get(G){return this[ws.normalizeUnit(G)]}set(G){return this.isValid?Rr(this,{values:{...this.values,...Fn(G,ws.normalizeUnit)}}):this}reconfigure({locale:G,numberingSystem:ye,conversionAccuracy:Oe,matrix:pt}={}){return Rr(this,{loc:this.loc.clone({locale:G,numberingSystem:ye}),matrix:pt,conversionAccuracy:Oe})}as(G){return this.isValid?this.shiftTo(G).get(G):NaN}normalize(){if(!this.isValid)return this;const G=this.toObject();return ro(this.matrix,G),Rr(this,{values:G},!0)}rescale(){return this.isValid?Rr(this,{values:function Mc(Ee){const G={};for(const[ye,Oe]of Object.entries(Ee))0!==Oe&&(G[ye]=Oe);return G}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...G){if(!this.isValid)return this;if(0===G.length)return this;G=G.map(zt=>ws.normalizeUnit(zt));const ye={},Oe={},pt=this.toObject();let Ft;for(const zt of ga)if(G.indexOf(zt)>=0){Ft=zt;let vn=0;for(const cn in Oe)vn+=this.matrix[cn][zt]*Oe[cn],Oe[cn]=0;Vn(pt[zt])&&(vn+=pt[zt]);const xn=Math.trunc(vn);ye[zt]=xn,Oe[zt]=(1e3*vn-1e3*xn)/1e3}else Vn(pt[zt])&&(Oe[zt]=pt[zt]);for(const zt in Oe)0!==Oe[zt]&&(ye[Ft]+=zt===Ft?Oe[zt]:Oe[zt]/this.matrix[Ft][zt]);return ro(this.matrix,ye),Rr(this,{values:ye},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const G={};for(const ye of Object.keys(this.values))G[ye]=0===this.values[ye]?0:-this.values[ye];return Rr(this,{values:G},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(G){if(!this.isValid||!G.isValid||!this.loc.equals(G.loc))return!1;function ye(Oe,pt){return void 0===Oe||0===Oe?void 0===pt||0===pt:Oe===pt}for(const Oe of ga)if(!ye(this.values[Oe],G.values[Oe]))return!1;return!0}}const Pa="Invalid Interval";class Ys{constructor(G){this.s=G.start,this.e=G.end,this.invalid=G.invalid||null,this.isLuxonInterval=!0}static invalid(G,ye=null){if(!G)throw new m("need to specify a reason the Interval is invalid");const Oe=G instanceof wt?G:new wt(G,ye);if(xi.throwOnInvalid)throw new f(Oe);return new Ys({invalid:Oe})}static fromDateTimes(G,ye){const Oe=es(G),pt=es(ye),Ft=function sl(Ee,G){return Ee&&Ee.isValid?G&&G.isValid?G<Ee?Ys.invalid("end before start",`The end of an interval must be after its start, but you had start=${Ee.toISO()} and end=${G.toISO()}`):null:Ys.invalid("missing or invalid end"):Ys.invalid("missing or invalid start")}(Oe,pt);return Ft??new Ys({start:Oe,end:pt})}static after(G,ye){const Oe=ws.fromDurationLike(ye),pt=es(G);return Ys.fromDateTimes(pt,pt.plus(Oe))}static before(G,ye){const Oe=ws.fromDurationLike(ye),pt=es(G);return Ys.fromDateTimes(pt.minus(Oe),pt)}static fromISO(G,ye){const[Oe,pt]=(G||"").split("/",2);if(Oe&&pt){let Ft,zt,vn,xn;try{Ft=Yn.fromISO(Oe,ye),zt=Ft.isValid}catch{zt=!1}try{vn=Yn.fromISO(pt,ye),xn=vn.isValid}catch{xn=!1}if(zt&&xn)return Ys.fromDateTimes(Ft,vn);if(zt){const cn=ws.fromISO(pt,ye);if(cn.isValid)return Ys.after(Ft,cn)}else if(xn){const cn=ws.fromISO(Oe,ye);if(cn.isValid)return Ys.before(vn,cn)}}return Ys.invalid("unparsable",`the input "${G}" can't be parsed as ISO 8601`)}static isInterval(G){return G&&G.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(G="milliseconds"){return this.isValid?this.toDuration(G).get(G):NaN}count(G="milliseconds",ye){if(!this.isValid)return NaN;const Oe=this.start.startOf(G,ye);let pt;return pt=ye?.useLocaleWeeks?this.end.reconfigure({locale:Oe.locale}):this.end,pt=pt.startOf(G,ye),Math.floor(pt.diff(Oe,G).get(G))+(pt.valueOf()!==this.end.valueOf())}hasSame(G){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,G))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(G){return!!this.isValid&&this.s>G}isBefore(G){return!!this.isValid&&this.e<=G}contains(G){return!!this.isValid&&this.s<=G&&this.e>G}set({start:G,end:ye}={}){return this.isValid?Ys.fromDateTimes(G||this.s,ye||this.e):this}splitAt(...G){if(!this.isValid)return[];const ye=G.map(es).filter(zt=>this.contains(zt)).sort((zt,vn)=>zt.toMillis()-vn.toMillis()),Oe=[];let{s:pt}=this,Ft=0;for(;pt<this.e;){const zt=ye[Ft]||this.e,vn=+zt>+this.e?this.e:zt;Oe.push(Ys.fromDateTimes(pt,vn)),pt=vn,Ft+=1}return Oe}splitBy(G){const ye=ws.fromDurationLike(G);if(!this.isValid||!ye.isValid||0===ye.as("milliseconds"))return[];let Ft,{s:Oe}=this,pt=1;const zt=[];for(;Oe<this.e;){const vn=this.start.plus(ye.mapUnits(xn=>xn*pt));Ft=+vn>+this.e?this.e:vn,zt.push(Ys.fromDateTimes(Oe,Ft)),Oe=Ft,pt+=1}return zt}divideEqually(G){return this.isValid?this.splitBy(this.length()/G).slice(0,G):[]}overlaps(G){return this.e>G.s&&this.s<G.e}abutsStart(G){return!!this.isValid&&+this.e==+G.s}abutsEnd(G){return!!this.isValid&&+G.e==+this.s}engulfs(G){return!!this.isValid&&this.s<=G.s&&this.e>=G.e}equals(G){return!(!this.isValid||!G.isValid)&&this.s.equals(G.s)&&this.e.equals(G.e)}intersection(G){if(!this.isValid)return this;const ye=this.s>G.s?this.s:G.s,Oe=this.e<G.e?this.e:G.e;return ye>=Oe?null:Ys.fromDateTimes(ye,Oe)}union(G){return this.isValid?Ys.fromDateTimes(this.s<G.s?this.s:G.s,this.e>G.e?this.e:G.e):this}static merge(G){const[ye,Oe]=G.sort((pt,Ft)=>pt.s-Ft.s).reduce(([pt,Ft],zt)=>Ft?Ft.overlaps(zt)||Ft.abutsStart(zt)?[pt,Ft.union(zt)]:[pt.concat([Ft]),zt]:[pt,zt],[[],null]);return Oe&&ye.push(Oe),ye}static xor(G){let ye=null,Oe=0;const pt=[],Ft=G.map(xn=>[{time:xn.s,type:"s"},{time:xn.e,type:"e"}]),vn=Array.prototype.concat(...Ft).sort((xn,cn)=>xn.time-cn.time);for(const xn of vn)Oe+="s"===xn.type?1:-1,1===Oe?ye=xn.time:(ye&&+ye!=+xn.time&&pt.push(Ys.fromDateTimes(ye,xn.time)),ye=null);return Ys.merge(pt)}difference(...G){return Ys.xor([this].concat(G)).map(ye=>this.intersection(ye)).filter(ye=>ye&&!ye.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Pa}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(G=z,ye={}){return this.isValid?Jn.create(this.s.loc.clone(ye),G).formatInterval(this):Pa}toISO(G){return this.isValid?`${this.s.toISO(G)}/${this.e.toISO(G)}`:Pa}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Pa}toISOTime(G){return this.isValid?`${this.s.toISOTime(G)}/${this.e.toISOTime(G)}`:Pa}toFormat(G,{separator:ye=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(G)}${ye}${this.e.toFormat(G)}`:Pa}toDuration(G,ye){return this.isValid?this.e.diff(this.s,G,ye):ws.invalid(this.invalidReason)}mapEndpoints(G){return Ys.fromDateTimes(G(this.s),G(this.e))}}class Do{static hasDST(G=xi.defaultZone){const ye=Yn.now().setZone(G).set({month:12});return!G.isUniversal&&ye.offset!==ye.set({month:6}).offset}static isValidIANAZone(G){return Xe.isValidZone(G)}static normalizeZone(G){return sn(G,xi.defaultZone)}static getStartOfWeek({locale:G=null,locObj:ye=null}={}){return(ye||De.create(G)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:G=null,locObj:ye=null}={}){return(ye||De.create(G)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:G=null,locObj:ye=null}={}){return(ye||De.create(G)).getWeekendDays().slice()}static months(G="long",{locale:ye=null,numberingSystem:Oe=null,locObj:pt=null,outputCalendar:Ft="gregory"}={}){return(pt||De.create(ye,Oe,Ft)).months(G)}static monthsFormat(G="long",{locale:ye=null,numberingSystem:Oe=null,locObj:pt=null,outputCalendar:Ft="gregory"}={}){return(pt||De.create(ye,Oe,Ft)).months(G,!0)}static weekdays(G="long",{locale:ye=null,numberingSystem:Oe=null,locObj:pt=null}={}){return(pt||De.create(ye,Oe,null)).weekdays(G)}static weekdaysFormat(G="long",{locale:ye=null,numberingSystem:Oe=null,locObj:pt=null}={}){return(pt||De.create(ye,Oe,null)).weekdays(G,!0)}static meridiems({locale:G=null}={}){return De.create(G).meridiems()}static eras(G="short",{locale:ye=null}={}){return De.create(ye,null,"gregory").eras(G)}static features(){return{relative:Ht(),localeWeek:oi()}}}function Nl(Ee,G){const ye=pt=>pt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Oe=ye(G)-ye(Ee);return Math.floor(ws.fromMillis(Oe).as("days"))}function Ts(Ee,G=ye=>ye){return{regex:Ee,deser:([ye])=>G(function Ot(Ee){let G=parseInt(Ee,10);if(isNaN(G)){G="";for(let ye=0;ye<Ee.length;ye++){const Oe=Ee.charCodeAt(ye);if(-1!==Ee[ye].search(Rn.hanidec))G+=ei.indexOf(Ee[ye]);else for(const pt in Kn){const[Ft,zt]=Kn[pt];Oe>=Ft&&Oe<=zt&&(G+=Oe-Ft)}}return parseInt(G,10)}return G}(ye))}}const zo=new RegExp("[ \xa0]","g");function Mo(Ee){return Ee.replace(/\./g,"\\.?").replace(zo,"[ \xa0]")}function Ar(Ee){return Ee.replace(/\./g,"").replace(zo," ").toLowerCase()}function Ra(Ee,G){return null===Ee?null:{regex:RegExp(Ee.map(Mo).join("|")),deser:([ye])=>Ee.findIndex(Oe=>Ar(ye)===Ar(Oe))+G}}function rl(Ee,G){return{regex:Ee,deser:([,ye,Oe])=>yn(ye,Oe),groups:G}}function Fa(Ee){return{regex:Ee,deser:([G])=>G}}function ac(Ee){return Ee.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Ha={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let mo=null;function ns(Ee,G){return Array.prototype.concat(...Ee.map(ye=>function ci(Ee,G){if(Ee.literal)return Ee;const Oe=na(Jn.macroTokenToFormatOpts(Ee.val),G);return null==Oe||Oe.includes(void 0)?Ee:Oe}(ye,G)))}class cr{constructor(G,ye){if(this.locale=G,this.format=ye,this.tokens=ns(Jn.parseFormat(ye),G),this.units=this.tokens.map(Oe=>function Oc(Ee,G){const ye=Tn(G),Oe=Tn(G,"{2}"),pt=Tn(G,"{3}"),Ft=Tn(G,"{4}"),zt=Tn(G,"{6}"),vn=Tn(G,"{1,2}"),xn=Tn(G,"{1,3}"),cn=Tn(G,"{1,6}"),wn=Tn(G,"{1,9}"),On=Tn(G,"{2,4}"),Zn=Tn(G,"{4,6}"),ss=Ka=>({regex:RegExp(ac(Ka.val)),deser:([Zi])=>Zi,literal:!0}),si=(Ka=>{if(Ee.literal)return ss(Ka);switch(Ka.val){case"G":return Ra(G.eras("short"),0);case"GG":return Ra(G.eras("long"),0);case"y":return Ts(cn);case"yy":case"kk":return Ts(On,Ai);case"yyyy":case"kkkk":return Ts(Ft);case"yyyyy":return Ts(Zn);case"yyyyyy":return Ts(zt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ts(vn);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ts(Oe);case"MMM":return Ra(G.months("short",!0),1);case"MMMM":return Ra(G.months("long",!0),1);case"LLL":return Ra(G.months("short",!1),1);case"LLLL":return Ra(G.months("long",!1),1);case"o":case"S":return Ts(xn);case"ooo":case"SSS":return Ts(pt);case"u":return Fa(wn);case"uu":return Fa(vn);case"uuu":case"E":case"c":return Ts(ye);case"a":return Ra(G.meridiems(),0);case"EEE":return Ra(G.weekdays("short",!1),1);case"EEEE":return Ra(G.weekdays("long",!1),1);case"ccc":return Ra(G.weekdays("short",!0),1);case"cccc":return Ra(G.weekdays("long",!0),1);case"Z":case"ZZ":return rl(new RegExp(`([+-]${vn.source})(?::(${Oe.source}))?`),2);case"ZZZ":return rl(new RegExp(`([+-]${vn.source})(${Oe.source})?`),2);case"z":return Fa(/[a-z_+-/]{1,256}?/i);case" ":return Fa(/[^\S\n\r]/);default:return ss(Ka)}})(Ee)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return si.token=Ee,si}(Oe,G)),this.disqualifyingUnit=this.units.find(Oe=>Oe.invalidReason),!this.disqualifyingUnit){const[Oe,pt]=function Ol(Ee){return[`^${Ee.map(ye=>ye.regex).reduce((ye,Oe)=>`${ye}(${Oe.source})`,"")}$`,Ee]}(this.units);this.regex=RegExp(Oe,"i"),this.handlers=pt}}explainFromTokens(G){if(this.isValid){const[ye,Oe]=function lr(Ee,G,ye){const Oe=Ee.match(G);if(Oe){const pt={};let Ft=1;for(const zt in ye)if(Qn(ye,zt)){const vn=ye[zt],xn=vn.groups?vn.groups+1:1;!vn.literal&&vn.token&&(pt[vn.token.val[0]]=vn.deser(Oe.slice(Ft,Ft+xn))),Ft+=xn}return[Oe,pt]}return[Oe,{}]}(G,this.regex,this.handlers),[pt,Ft,zt]=Oe?function ao(Ee){let Oe,ye=null;return nn(Ee.z)||(ye=Xe.create(Ee.z)),nn(Ee.Z)||(ye||(ye=new gt(Ee.Z)),Oe=Ee.Z),nn(Ee.q)||(Ee.M=3*(Ee.q-1)+1),nn(Ee.h)||(Ee.h<12&&1===Ee.a?Ee.h+=12:12===Ee.h&&0===Ee.a&&(Ee.h=0)),0===Ee.G&&Ee.y&&(Ee.y=-Ee.y),nn(Ee.u)||(Ee.S=Mn(Ee.u)),[Object.keys(Ee).reduce((Ft,zt)=>{const vn=(Ft=>{switch(Ft){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(zt);return vn&&(Ft[vn]=Ee[zt]),Ft},{}),ye,Oe]}(Oe):[null,null,void 0];if(Qn(Oe,"a")&&Qn(Oe,"H"))throw new e("Can't include meridiem when specifying 24-hour format");return{input:G,tokens:this.tokens,regex:this.regex,rawMatches:ye,matches:Oe,result:pt,zone:Ft,specificOffset:zt}}return{input:G,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function hr(Ee,G,ye){return new cr(Ee,ye).explainFromTokens(G)}function na(Ee,G){if(!Ee)return null;const Oe=Jn.create(G,Ee).dtFormatter(function Ps(){return mo||(mo=Yn.fromMillis(1555555555555)),mo}()),pt=Oe.formatToParts(),Ft=Oe.resolvedOptions();return pt.map(zt=>function vl(Ee,G,ye){const{type:Oe,value:pt}=Ee;if("literal"===Oe){const xn=/^\s+$/.test(pt);return{literal:!xn,val:xn?" ":pt}}let zt=Oe;"hour"===Oe&&(zt=null!=G.hour12?G.hour12?"hour12":"hour24":null!=G.hourCycle?"h11"===G.hourCycle||"h12"===G.hourCycle?"hour12":"hour24":ye.hour12?"hour12":"hour24");let vn=Ha[zt];if("object"==typeof vn&&(vn=vn[G[Oe]]),vn)return{literal:!1,val:vn}}(zt,Ee,Ft))}const Ge="Invalid DateTime",gn=864e13;function $e(Ee){return new wt("unsupported zone",`the zone "${Ee.name}" is not supported`)}function It(Ee){return null===Ee.weekData&&(Ee.weekData=Ti(Ee.c)),Ee.weekData}function at(Ee){return null===Ee.localWeekData&&(Ee.localWeekData=Ti(Ee.c,Ee.loc.getMinDaysInFirstWeek(),Ee.loc.getStartOfWeek())),Ee.localWeekData}function Sn(Ee,G){const ye={ts:Ee.ts,zone:Ee.zone,c:Ee.c,o:Ee.o,loc:Ee.loc,invalid:Ee.invalid};return new Yn({...ye,...G,old:ye})}function Ri(Ee,G,ye){let Oe=Ee-60*G*1e3;const pt=ye.offset(Oe);if(G===pt)return[Oe,G];Oe-=60*(pt-G)*1e3;const Ft=ye.offset(Oe);return pt===Ft?[Oe,pt]:[Ee-60*Math.min(pt,Ft)*1e3,Math.max(pt,Ft)]}function us(Ee,G){const ye=new Date(Ee+=60*G*1e3);return{year:ye.getUTCFullYear(),month:ye.getUTCMonth()+1,day:ye.getUTCDate(),hour:ye.getUTCHours(),minute:ye.getUTCMinutes(),second:ye.getUTCSeconds(),millisecond:ye.getUTCMilliseconds()}}function qi(Ee,G,ye){return Ri(Ji(Ee),G,ye)}function Tr(Ee,G){const ye=Ee.o,Oe=Ee.c.year+Math.trunc(G.years),pt=Ee.c.month+Math.trunc(G.months)+3*Math.trunc(G.quarters),Ft={...Ee.c,year:Oe,month:pt,day:Math.min(Ee.c.day,Ki(Oe,pt))+Math.trunc(G.days)+7*Math.trunc(G.weeks)},zt=ws.fromObject({years:G.years-Math.trunc(G.years),quarters:G.quarters-Math.trunc(G.quarters),months:G.months-Math.trunc(G.months),weeks:G.weeks-Math.trunc(G.weeks),days:G.days-Math.trunc(G.days),hours:G.hours,minutes:G.minutes,seconds:G.seconds,milliseconds:G.milliseconds}).as("milliseconds"),vn=Ji(Ft);let[xn,cn]=Ri(vn,ye,Ee.zone);return 0!==zt&&(xn+=zt,cn=Ee.zone.offset(xn)),{ts:xn,o:cn}}function Lr(Ee,G,ye,Oe,pt,Ft){const{setZone:zt,zone:vn}=ye;if(Ee&&0!==Object.keys(Ee).length||G){const xn=G||vn,cn=Yn.fromObject(Ee,{...ye,zone:xn,specificOffset:Ft});return zt?cn:cn.setZone(vn)}return Yn.invalid(new wt("unparsable",`the input "${pt}" can't be parsed as ${Oe}`))}function zr(Ee,G,ye=!0){return Ee.isValid?Jn.create(De.create("en-US"),{allowZ:ye,forceSimple:!0}).formatDateTimeFromString(Ee,G):null}function gr(Ee,G){const ye=Ee.c.year>9999||Ee.c.year<0;let Oe="";return ye&&Ee.c.year>=0&&(Oe+="+"),Oe+=ht(Ee.c.year,ye?6:4),G?(Oe+="-",Oe+=ht(Ee.c.month),Oe+="-",Oe+=ht(Ee.c.day)):(Oe+=ht(Ee.c.month),Oe+=ht(Ee.c.day)),Oe}function Js(Ee,G,ye,Oe,pt,Ft){let zt=ht(Ee.c.hour);return G?(zt+=":",zt+=ht(Ee.c.minute),(0!==Ee.c.millisecond||0!==Ee.c.second||!ye)&&(zt+=":")):zt+=ht(Ee.c.minute),(0!==Ee.c.millisecond||0!==Ee.c.second||!ye)&&(zt+=ht(Ee.c.second),(0!==Ee.c.millisecond||!Oe)&&(zt+=".",zt+=ht(Ee.c.millisecond,3))),pt&&(Ee.isOffsetFixed&&0===Ee.offset&&!Ft?zt+="Z":Ee.o<0?(zt+="-",zt+=ht(Math.trunc(-Ee.o/60)),zt+=":",zt+=ht(Math.trunc(-Ee.o%60))):(zt+="+",zt+=ht(Math.trunc(Ee.o/60)),zt+=":",zt+=ht(Math.trunc(Ee.o%60)))),Ft&&(zt+="["+Ee.zone.ianaName+"]"),zt}const nr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},al={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Xo={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Mi=["year","month","day","hour","minute","second","millisecond"],Hi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],se=["year","ordinal","hour","minute","second","millisecond"];function me(Ee){switch(Ee.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Se(Ee){const G={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Ee.toLowerCase()];if(!G)throw new w(Ee);return G}(Ee)}}function Je(Ee,G){const ye=sn(G.zone,xi.defaultZone);if(!ye.isValid)return Yn.invalid($e(ye));const Oe=De.fromObject(G);let pt,Ft;if(nn(Ee.year))pt=xi.now();else{for(const xn of Mi)nn(Ee[xn])&&(Ee[xn]=nr[xn]);const zt=Rt(Ee)||yt(Ee);if(zt)return Yn.invalid(zt);const vn=function Ie(Ee){if(void 0===an&&(an=xi.now()),"iana"!==Ee.type)return Ee.offset(an);const G=Ee.name;let ye=Pn.get(G);return void 0===ye&&(ye=Ee.offset(an),Pn.set(G,ye)),ye}(ye);[pt,Ft]=qi(Ee,vn,ye)}return new Yn({ts:pt,zone:ye,loc:Oe,o:Ft})}function Mt(Ee,G,ye){const Oe=!!nn(ye.round)||ye.round,pt=(zt,vn)=>(zt=hi(zt,Oe||ye.calendary?0:2,!0),G.loc.clone(ye).relFormatter(ye).format(zt,vn)),Ft=zt=>ye.calendary?G.hasSame(Ee,zt)?0:G.startOf(zt).diff(Ee.startOf(zt),zt).get(zt):G.diff(Ee,zt).get(zt);if(ye.unit)return pt(Ft(ye.unit),ye.unit);for(const zt of ye.units){const vn=Ft(zt);if(Math.abs(vn)>=1)return pt(vn,zt)}return pt(Ee>G?-0:0,ye.units[ye.units.length-1])}function St(Ee){let ye,G={};return Ee.length>0&&"object"==typeof Ee[Ee.length-1]?(G=Ee[Ee.length-1],ye=Array.from(Ee).slice(0,Ee.length-1)):ye=Array.from(Ee),[G,ye]}let an;const Pn=new Map;class Yn{constructor(G){const ye=G.zone||xi.defaultZone;let Oe=G.invalid||(Number.isNaN(G.ts)?new wt("invalid input"):null)||(ye.isValid?null:$e(ye));this.ts=nn(G.ts)?xi.now():G.ts;let pt=null,Ft=null;if(!Oe)if(G.old&&G.old.ts===this.ts&&G.old.zone.equals(ye))[pt,Ft]=[G.old.c,G.old.o];else{const vn=Vn(G.o)&&!G.old?G.o:ye.offset(this.ts);pt=us(this.ts,vn),Oe=Number.isNaN(pt.year)?new wt("invalid input"):null,pt=Oe?null:pt,Ft=Oe?null:vn}this._zone=ye,this.loc=G.loc||De.create(),this.invalid=Oe,this.weekData=null,this.localWeekData=null,this.c=pt,this.o=Ft,this.isLuxonDateTime=!0}static now(){return new Yn({})}static local(){const[G,ye]=St(arguments),[Oe,pt,Ft,zt,vn,xn,cn]=ye;return Je({year:Oe,month:pt,day:Ft,hour:zt,minute:vn,second:xn,millisecond:cn},G)}static utc(){const[G,ye]=St(arguments),[Oe,pt,Ft,zt,vn,xn,cn]=ye;return G.zone=gt.utcInstance,Je({year:Oe,month:pt,day:Ft,hour:zt,minute:vn,second:xn,millisecond:cn},G)}static fromJSDate(G,ye={}){const Oe=function qn(Ee){return"[object Date]"===Object.prototype.toString.call(Ee)}(G)?G.valueOf():NaN;if(Number.isNaN(Oe))return Yn.invalid("invalid input");const pt=sn(ye.zone,xi.defaultZone);return pt.isValid?new Yn({ts:Oe,zone:pt,loc:De.fromObject(ye)}):Yn.invalid($e(pt))}static fromMillis(G,ye={}){if(Vn(G))return G<-gn||G>gn?Yn.invalid("Timestamp out of range"):new Yn({ts:G,zone:sn(ye.zone,xi.defaultZone),loc:De.fromObject(ye)});throw new m(`fromMillis requires a numerical input, but received a ${typeof G} with value ${G}`)}static fromSeconds(G,ye={}){if(Vn(G))return new Yn({ts:1e3*G,zone:sn(ye.zone,xi.defaultZone),loc:De.fromObject(ye)});throw new m("fromSeconds requires a numerical input")}static fromObject(G,ye={}){G=G||{};const Oe=sn(ye.zone,xi.defaultZone);if(!Oe.isValid)return Yn.invalid($e(Oe));const pt=De.fromObject(ye),Ft=Fn(G,me),{minDaysInFirstWeek:zt,startOfWeek:vn}=zi(Ft,pt),xn=xi.now(),cn=nn(ye.specificOffset)?Oe.offset(xn):ye.specificOffset,wn=!nn(Ft.ordinal),On=!nn(Ft.year),Zn=!nn(Ft.month)||!nn(Ft.day),ss=On||Zn,Dr=Ft.weekYear||Ft.weekNumber;if((ss||wn)&&Dr)throw new e("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Zn&&wn)throw new e("Can't mix ordinal dates with month/day");const si=Dr||Ft.weekday&&!ss;let Ka,Zi,js=us(xn,cn);si?(Ka=Hi,Zi=al,js=Ti(js,zt,vn)):wn?(Ka=se,Zi=Xo,js=Vi(js)):(Ka=Mi,Zi=nr);let yr=!1;for(const ko of Ka)nn(Ft[ko])?Ft[ko]=yr?Zi[ko]:js[ko]:yr=!0;const Oo=si?function ls(Ee,G=4,ye=1){const Oe=ln(Ee.weekYear),pt=Be(Ee.weekNumber,1,$t(Ee.weekYear,G,ye)),Ft=Be(Ee.weekday,1,7);return Oe?pt?!Ft&&Wt("weekday",Ee.weekday):Wt("week",Ee.weekNumber):Wt("weekYear",Ee.weekYear)}(Ft,zt,vn):wn?function ut(Ee){const G=ln(Ee.year),ye=Be(Ee.ordinal,1,Nn(Ee.year));return G?!ye&&Wt("ordinal",Ee.ordinal):Wt("year",Ee.year)}(Ft):Rt(Ft),uu=Oo||yt(Ft);if(uu)return Yn.invalid(uu);const Bu=si?Dn(Ft,zt,vn):wn?ji(Ft):Ft,[Vu,Rd]=qi(Bu,cn,Oe),xo=new Yn({ts:Vu,zone:Oe,o:Rd,loc:pt});return Ft.weekday&&ss&&G.weekday!==xo.weekday?Yn.invalid("mismatched weekday",`you can't specify both a weekday of ${Ft.weekday} and a date of ${xo.toISO()}`):xo.isValid?xo:Yn.invalid(xo.invalid)}static fromISO(G,ye={}){const[Oe,pt]=function nl(Ee){return Es(Ee,[Ao,Ds],[Ca,ks],[ar,Yr],[hs,Er])}(G);return Lr(Oe,pt,ye,"ISO 8601",G)}static fromRFC2822(G,ye={}){const[Oe,pt]=function Yo(Ee){return Es(function io(Ee){return Ee.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Ee),[mr,ka])}(G);return Lr(Oe,pt,ye,"RFC 2822",G)}static fromHTTP(G,ye={}){const[Oe,pt]=function so(Ee){return Es(Ee,[Ia,vr],[Br,vr],[Bs,jr])}(G);return Lr(Oe,pt,ye,"HTTP",ye)}static fromFormat(G,ye,Oe={}){if(nn(G)||nn(ye))throw new m("fromFormat requires an input string and a format");const{locale:pt=null,numberingSystem:Ft=null}=Oe,zt=De.fromOpts({locale:pt,numberingSystem:Ft,defaultToEN:!0}),[vn,xn,cn,wn]=function Vr(Ee,G,ye){const{result:Oe,zone:pt,specificOffset:Ft,invalidReason:zt}=hr(Ee,G,ye);return[Oe,pt,Ft,zt]}(zt,G,ye);return wn?Yn.invalid(wn):Lr(vn,xn,Oe,`format ${ye}`,G,cn)}static fromString(G,ye,Oe={}){return Yn.fromFormat(G,ye,Oe)}static fromSQL(G,ye={}){const[Oe,pt]=function Pt(Ee){return Es(Ee,[ee,Ds],[Te,qe])}(G);return Lr(Oe,pt,ye,"SQL",G)}static invalid(G,ye=null){if(!G)throw new m("need to specify a reason the DateTime is invalid");const Oe=G instanceof wt?G:new wt(G,ye);if(xi.throwOnInvalid)throw new o(Oe);return new Yn({invalid:Oe})}static isDateTime(G){return G&&G.isLuxonDateTime||!1}static parseFormatForOpts(G,ye={}){const Oe=na(G,De.fromObject(ye));return Oe?Oe.map(pt=>pt?pt.val:null).join(""):null}static expandFormat(G,ye={}){return ns(Jn.parseFormat(G),De.fromObject(ye)).map(pt=>pt.val).join("")}static resetCache(){an=void 0,Pn.clear()}get(G){return this[G]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?It(this).weekYear:NaN}get weekNumber(){return this.isValid?It(this).weekNumber:NaN}get weekday(){return this.isValid?It(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?at(this).weekday:NaN}get localWeekNumber(){return this.isValid?at(this).weekNumber:NaN}get localWeekYear(){return this.isValid?at(this).weekYear:NaN}get ordinal(){return this.isValid?Vi(this.c).ordinal:NaN}get monthShort(){return this.isValid?Do.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Do.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Do.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Do.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const G=864e5,ye=6e4,Oe=Ji(this.c),pt=this.zone.offset(Oe-G),Ft=this.zone.offset(Oe+G),zt=this.zone.offset(Oe-pt*ye),vn=this.zone.offset(Oe-Ft*ye);if(zt===vn)return[this];const xn=Oe-zt*ye,cn=Oe-vn*ye,wn=us(xn,zt),On=us(cn,vn);return wn.hour===On.hour&&wn.minute===On.minute&&wn.second===On.second&&wn.millisecond===On.millisecond?[Sn(this,{ts:xn}),Sn(this,{ts:cn})]:[this]}get isInLeapYear(){return ri(this.year)}get daysInMonth(){return Ki(this.year,this.month)}get daysInYear(){return this.isValid?Nn(this.year):NaN}get weeksInWeekYear(){return this.isValid?$t(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?$t(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(G={}){const{locale:ye,numberingSystem:Oe,calendar:pt}=Jn.create(this.loc.clone(G),G).resolvedOptions(this);return{locale:ye,numberingSystem:Oe,outputCalendar:pt}}toUTC(G=0,ye={}){return this.setZone(gt.instance(G),ye)}toLocal(){return this.setZone(xi.defaultZone)}setZone(G,{keepLocalTime:ye=!1,keepCalendarTime:Oe=!1}={}){if((G=sn(G,xi.defaultZone)).equals(this.zone))return this;if(G.isValid){let pt=this.ts;if(ye||Oe){const Ft=G.offset(this.ts),zt=this.toObject();[pt]=qi(zt,Ft,G)}return Sn(this,{ts:pt,zone:G})}return Yn.invalid($e(G))}reconfigure({locale:G,numberingSystem:ye,outputCalendar:Oe}={}){return Sn(this,{loc:this.loc.clone({locale:G,numberingSystem:ye,outputCalendar:Oe})})}setLocale(G){return this.reconfigure({locale:G})}set(G){if(!this.isValid)return this;const ye=Fn(G,me),{minDaysInFirstWeek:Oe,startOfWeek:pt}=zi(ye,this.loc),Ft=!nn(ye.weekYear)||!nn(ye.weekNumber)||!nn(ye.weekday),zt=!nn(ye.ordinal),vn=!nn(ye.year),xn=!nn(ye.month)||!nn(ye.day);if((vn||xn||zt)&&(ye.weekYear||ye.weekNumber))throw new e("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(xn&&zt)throw new e("Can't mix ordinal dates with month/day");let On;Ft?On=Dn({...Ti(this.c,Oe,pt),...ye},Oe,pt):nn(ye.ordinal)?(On={...this.toObject(),...ye},nn(ye.day)&&(On.day=Math.min(Ki(On.year,On.month),On.day))):On=ji({...Vi(this.c),...ye});const[Zn,ss]=qi(On,this.o,this.zone);return Sn(this,{ts:Zn,o:ss})}plus(G){return this.isValid?Sn(this,Tr(this,ws.fromDurationLike(G))):this}minus(G){return this.isValid?Sn(this,Tr(this,ws.fromDurationLike(G).negate())):this}startOf(G,{useLocaleWeeks:ye=!1}={}){if(!this.isValid)return this;const Oe={},pt=ws.normalizeUnit(G);switch(pt){case"years":Oe.month=1;case"quarters":case"months":Oe.day=1;case"weeks":case"days":Oe.hour=0;case"hours":Oe.minute=0;case"minutes":Oe.second=0;case"seconds":Oe.millisecond=0}if("weeks"===pt)if(ye){const Ft=this.loc.getStartOfWeek(),{weekday:zt}=this;zt<Ft&&(Oe.weekNumber=this.weekNumber-1),Oe.weekday=Ft}else Oe.weekday=1;if("quarters"===pt){const Ft=Math.ceil(this.month/3);Oe.month=3*(Ft-1)+1}return this.set(Oe)}endOf(G,ye){return this.isValid?this.plus({[G]:1}).startOf(G,ye).minus(1):this}toFormat(G,ye={}){return this.isValid?Jn.create(this.loc.redefaultToEN(ye)).formatDateTimeFromString(this,G):Ge}toLocaleString(G=z,ye={}){return this.isValid?Jn.create(this.loc.clone(ye),G).formatDateTime(this):Ge}toLocaleParts(G={}){return this.isValid?Jn.create(this.loc.clone(G),G).formatDateTimeParts(this):[]}toISO({format:G="extended",suppressSeconds:ye=!1,suppressMilliseconds:Oe=!1,includeOffset:pt=!0,extendedZone:Ft=!1}={}){if(!this.isValid)return null;const zt="extended"===G;let vn=gr(this,zt);return vn+="T",vn+=Js(this,zt,ye,Oe,pt,Ft),vn}toISODate({format:G="extended"}={}){return this.isValid?gr(this,"extended"===G):null}toISOWeekDate(){return zr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:G=!1,suppressSeconds:ye=!1,includeOffset:Oe=!0,includePrefix:pt=!1,extendedZone:Ft=!1,format:zt="extended"}={}){return this.isValid?(pt?"T":"")+Js(this,"extended"===zt,ye,G,Oe,Ft):null}toRFC2822(){return zr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return zr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?gr(this,!0):null}toSQLTime({includeOffset:G=!0,includeZone:ye=!1,includeOffsetSpace:Oe=!0}={}){let pt="HH:mm:ss.SSS";return(ye||G)&&(Oe&&(pt+=" "),ye?pt+="z":G&&(pt+="ZZ")),zr(this,pt,!0)}toSQL(G={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(G)}`:null}toString(){return this.isValid?this.toISO():Ge}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(G={}){if(!this.isValid)return{};const ye={...this.c};return G.includeConfig&&(ye.outputCalendar=this.outputCalendar,ye.numberingSystem=this.loc.numberingSystem,ye.locale=this.loc.locale),ye}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(G,ye="milliseconds",Oe={}){if(!this.isValid||!G.isValid)return ws.invalid("created by diffing an invalid DateTime");const pt={locale:this.locale,numberingSystem:this.numberingSystem,...Oe},Ft=function Xt(Ee){return Array.isArray(Ee)?Ee:[Ee]}(ye).map(ws.normalizeUnit),zt=G.valueOf()>this.valueOf(),cn=function No(Ee,G,ye,Oe){let[pt,Ft,zt,vn]=function Ml(Ee,G,ye){const Oe=[["years",(xn,cn)=>cn.year-xn.year],["quarters",(xn,cn)=>cn.quarter-xn.quarter+4*(cn.year-xn.year)],["months",(xn,cn)=>cn.month-xn.month+12*(cn.year-xn.year)],["weeks",(xn,cn)=>{const wn=Nl(xn,cn);return(wn-wn%7)/7}],["days",Nl]],pt={},Ft=Ee;let zt,vn;for(const[xn,cn]of Oe)ye.indexOf(xn)>=0&&(zt=xn,pt[xn]=cn(Ee,G),vn=Ft.plus(pt),vn>G?(pt[xn]--,(Ee=Ft.plus(pt))>G&&(vn=Ee,pt[xn]--,Ee=Ft.plus(pt))):Ee=vn);return[Ee,pt,vn,zt]}(Ee,G,ye);const xn=G-pt,cn=ye.filter(On=>["hours","minutes","seconds","milliseconds"].indexOf(On)>=0);0===cn.length&&(zt<G&&(zt=pt.plus({[vn]:1})),zt!==pt&&(Ft[vn]=(Ft[vn]||0)+xn/(zt-pt)));const wn=ws.fromObject(Ft,Oe);return cn.length>0?ws.fromMillis(xn,Oe).shiftTo(...cn).plus(wn):wn}(zt?this:G,zt?G:this,Ft,pt);return zt?cn.negate():cn}diffNow(G="milliseconds",ye={}){return this.diff(Yn.now(),G,ye)}until(G){return this.isValid?Ys.fromDateTimes(this,G):this}hasSame(G,ye,Oe){if(!this.isValid)return!1;const pt=G.valueOf(),Ft=this.setZone(G.zone,{keepLocalTime:!0});return Ft.startOf(ye,Oe)<=pt&&pt<=Ft.endOf(ye,Oe)}equals(G){return this.isValid&&G.isValid&&this.valueOf()===G.valueOf()&&this.zone.equals(G.zone)&&this.loc.equals(G.loc)}toRelative(G={}){if(!this.isValid)return null;const ye=G.base||Yn.fromObject({},{zone:this.zone}),Oe=G.padding?this<ye?-G.padding:G.padding:0;let pt=["years","months","days","hours","minutes","seconds"],Ft=G.unit;return Array.isArray(G.unit)&&(pt=G.unit,Ft=void 0),Mt(ye,this.plus(Oe),{...G,numeric:"always",units:pt,unit:Ft})}toRelativeCalendar(G={}){return this.isValid?Mt(G.base||Yn.fromObject({},{zone:this.zone}),this,{...G,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...G){if(!G.every(Yn.isDateTime))throw new m("min requires all arguments be DateTimes");return Un(G,ye=>ye.valueOf(),Math.min)}static max(...G){if(!G.every(Yn.isDateTime))throw new m("max requires all arguments be DateTimes");return Un(G,ye=>ye.valueOf(),Math.max)}static fromFormatExplain(G,ye,Oe={}){const{locale:pt=null,numberingSystem:Ft=null}=Oe;return hr(De.fromOpts({locale:pt,numberingSystem:Ft,defaultToEN:!0}),G,ye)}static fromStringExplain(G,ye,Oe={}){return Yn.fromFormatExplain(G,ye,Oe)}static buildFormatParser(G,ye={}){const{locale:Oe=null,numberingSystem:pt=null}=ye,Ft=De.fromOpts({locale:Oe,numberingSystem:pt,defaultToEN:!0});return new cr(Ft,G)}static fromFormatParser(G,ye,Oe={}){if(nn(G)||nn(ye))throw new m("fromFormatParser requires an input string and a format parser");const{locale:pt=null,numberingSystem:Ft=null}=Oe,zt=De.fromOpts({locale:pt,numberingSystem:Ft,defaultToEN:!0});if(!zt.equals(ye.locale))throw new m(`fromFormatParser called with a locale of ${zt}, but the format parser was created for ${ye.locale}`);const{result:vn,zone:xn,specificOffset:cn,invalidReason:wn}=ye.explainFromTokens(G);return wn?Yn.invalid(wn):Lr(vn,xn,Oe,`format ${ye.format}`,G,cn)}static get DATE_SHORT(){return z}static get DATE_MED(){return u}static get DATE_MED_WITH_WEEKDAY(){return E}static get DATE_FULL(){return B}static get DATE_HUGE(){return V}static get TIME_SIMPLE(){return F}static get TIME_WITH_SECONDS(){return M}static get TIME_WITH_SHORT_OFFSET(){return W}static get TIME_WITH_LONG_OFFSET(){return y}static get TIME_24_SIMPLE(){return X}static get TIME_24_WITH_SECONDS(){return Z}static get TIME_24_WITH_SHORT_OFFSET(){return v}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return Q}static get DATETIME_SHORT_WITH_SECONDS(){return te}static get DATETIME_MED(){return N}static get DATETIME_MED_WITH_SECONDS(){return fe}static get DATETIME_MED_WITH_WEEKDAY(){return oe}static get DATETIME_FULL(){return R}static get DATETIME_FULL_WITH_SECONDS(){return Fe}static get DATETIME_HUGE(){return we}static get DATETIME_HUGE_WITH_SECONDS(){return We}}function es(Ee){if(Yn.isDateTime(Ee))return Ee;if(Ee&&Ee.valueOf&&Vn(Ee.valueOf()))return Yn.fromJSDate(Ee);if(Ee&&"object"==typeof Ee)return Yn.fromObject(Ee);throw new m(`Unknown datetime argument: ${Ee}, of type ${typeof Ee}`)}},4572:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>k,z:()=>g});var t=l(1985),o=l(3073),f=l(6648),A=l(3669),e=l(6450),w=l(9326),m=l(8496),D=l(4360),S=l(5225);function g(...u){const E=(0,w.lI)(u),B=(0,w.ms)(u),{args:V,keys:F}=(0,o.D)(u);if(0===V.length)return(0,f.H)([],E);const M=new t.c(k(V,E,F?W=>(0,m.e)(F,W):A.D));return B?M.pipe((0,e.I)(B)):M}function k(u,E,B=A.D){return V=>{z(E,()=>{const{length:F}=u,M=new Array(F);let W=F,y=F;for(let X=0;X<F;X++)z(E,()=>{const Z=(0,f.H)(u[X],E);let v=!1;Z.subscribe((0,D._)(V,L=>{M[X]=L,v||(v=!0,y--),y||V.next(B(M.slice()))},()=>{--W||V.complete()}))},V)},V)}}function z(u,E,B){u?(0,S.N)(B,u,E):E()}},4579:(ot,ve,l)=>{var t=l(6589);l(5437),l(812),(ot.exports=t.hmac=t.hmac||{}).create=function(){var f=null,A=null,e=null,w=null,m={start:function(D,S){if(null!==D)if("string"==typeof D){if(!((D=D.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+D+'"');A=t.md.algorithms[D].create()}else A=D;if(null===S)S=f;else{if("string"==typeof S)S=t.util.createBuffer(S);else if(t.util.isArray(S)){var g=S;S=t.util.createBuffer();for(var k=0;k<g.length;++k)S.putByte(g[k])}var z=S.length();for(z>A.blockLength&&(A.start(),A.update(S.bytes()),S=A.digest()),e=t.util.createBuffer(),w=t.util.createBuffer(),z=S.length(),k=0;k<z;++k)g=S.at(k),e.putByte(54^g),w.putByte(92^g);if(z<A.blockLength)for(g=A.blockLength-z,k=0;k<g;++k)e.putByte(54),w.putByte(92);f=S,e=e.bytes(),w=w.bytes()}A.start(),A.update(e)},update:function(D){A.update(D)},getMac:function(){var D=A.digest().bytes();return A.start(),A.update(w),A.update(D),A.digest()}};return m.digest=m.getMac,m}},4589:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>t});var t=function(o){return o[o.None=0]="None",o.Production="Production",o.NonProduction="Non-Production",o.Demo="Demo",o.Starter="Starter",o}(t||{})},4692:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>f});var t=l(1746),o=l(1360);let f=(()=>{class A{transform(w,m){return new t.w(w)}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275pipe=o.EJ8({name:"readOnlyValue",type:A,pure:!0,standalone:!1})}}return A})()},4701:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>Z});var t=l(6536),o=l(7263),f=l(1360),A=l(9417),e=l(8434),w=l(8698),m=l(9550),D=l(3860),S=l(7811),g=l(8018);const k=["claimsForm"];function z(v,L){if(1&v){const Q=f.RV6();f.j41(0,"input",12,1),f.bIt("keyup",function(){f.eBV(Q);const N=f.XpG().$implicit,fe=f.XpG();return f.Njj(fe.checkForPolicyClaimForm(N.type,N))}),f.mxI("ngModelChange",function(N){f.eBV(Q);const fe=f.XpG().$implicit;return f.DH7(fe.value,N)||(fe.value=N),f.Njj(N)}),f.k0s()}if(2&v){const Q=f.sdS(1),te=f.XpG(),N=te.$implicit,fe=te.index,oe=f.XpG();f.Mz_("id","claim-",fe,""),f.Y8G("name",N.type),f.R50("ngModel",N.value),f.Y8G("appClaimRegex",N.regex)("disabled",oe.notAllowedToEditClaim(N)&&!Q.dirty)}}function u(v,L){if(1&v){const Q=f.RV6();f.j41(0,"input",13,1),f.bIt("keyup",function(){f.eBV(Q);const N=f.XpG().$implicit,fe=f.XpG();return f.Njj(fe.checkForPolicyClaimForm(N.type,N))}),f.mxI("ngModelChange",function(N){f.eBV(Q);const fe=f.XpG().$implicit;return f.DH7(fe.value,N)||(fe.value=N),f.Njj(N)}),f.k0s()}if(2&v){const Q=f.sdS(1),te=f.XpG(),N=te.$implicit,fe=te.index,oe=f.XpG();f.Mz_("id","claim-",fe,""),f.Y8G("name",N.type),f.R50("ngModel",N.value),f.Y8G("disabled",oe.notAllowedToEditClaim(N)&&!Q.dirty)}}function E(v,L){if(1&v){const Q=f.RV6();f.j41(0,"app-form-toggle",14)(1,"input",15),f.bIt("keyup",function(){f.eBV(Q);const N=f.XpG().$implicit,fe=f.XpG();return f.Njj(fe.checkForPolicyClaimForm(N.type,N))})("ngModelChange",function(N){f.eBV(Q);const fe=f.XpG().$implicit;return f.Njj(fe.value=N?"true":"false")}),f.k0s()()}if(2&v){const Q=f.XpG(),te=Q.$implicit,N=Q.index,fe=f.XpG();f.Y8G("id","claim-"+N)("isTraffic",!0)("isAlt",!1),f.R7$(),f.Y8G("id","claim-"+N)("name",te.type)("disabled",fe.notAllowedToEditClaim(te)&&!fe.claimvalue.dirty)("ngModel","true"==te.value)}}function B(v,L){if(1&v){const Q=f.RV6();f.qex(0),f.j41(1,"app-date-time",18,1),f.mxI("ngModelChange",function(N){f.eBV(Q);const fe=f.XpG(2).$implicit;return f.DH7(fe.value,N)||(fe.value=N),f.Njj(N)}),f.bIt("keyup",function(){f.eBV(Q);const N=f.XpG(2).$implicit,fe=f.XpG();return f.Njj(fe.checkForPolicyClaimForm(N.type,N))})("change",function(){f.eBV(Q);const N=f.XpG(3);return f.Njj(N.makeFormDirty())}),f.k0s(),f.bVm()}if(2&v){const Q=f.sdS(2),te=f.XpG(2),N=te.$implicit,fe=te.index,oe=f.XpG();f.R7$(),f.Mz_("id","claim-",fe,""),f.Y8G("name",N.type),f.R50("ngModel",N.value),f.Y8G("disabled",oe.notAllowedToEditClaim(N)&&!Q.dirty)}}function V(v,L){if(1&v){const Q=f.RV6();f.qex(0),f.j41(1,"app-date-time",19,1),f.mxI("ngModelChange",function(N){f.eBV(Q);const fe=f.XpG(2).$implicit;return f.DH7(fe.value,N)||(fe.value=N),f.Njj(N)}),f.bIt("keyup",function(){f.eBV(Q);const N=f.XpG(2).$implicit,fe=f.XpG();return f.Njj(fe.checkForPolicyClaimForm(N.type,N))})("change",function(){f.eBV(Q);const N=f.XpG(3);return f.Njj(N.makeFormDirty())}),f.k0s(),f.bVm()}if(2&v){const Q=f.sdS(2),te=f.XpG(2),N=te.$implicit,fe=te.index,oe=f.XpG();f.R7$(),f.Mz_("id","claim-",fe,""),f.Y8G("name",N.type)("displayType",oe.dateTimeDisplayType.Date),f.R50("ngModel",N.value),f.Y8G("disabled",oe.notAllowedToEditClaim(N)&&!Q.dirty)}}function F(v,L){if(1&v&&(f.j41(0,"div",16),f.DNE(1,B,3,5,"ng-container",17)(2,V,3,6,"ng-container",17),f.k0s()),2&v){const Q=f.XpG().$implicit;f.R7$(),f.Y8G("ngIf","birthdate"!=Q.type),f.R7$(),f.Y8G("ngIf","birthdate"==Q.type)}}function M(v,L){if(1&v){const Q=f.RV6();f.j41(0,"div",20)(1,"app-enum-claim-type-input",21),f.bIt("valueChanged",function(N){f.eBV(Q);const fe=f.XpG().$implicit,oe=f.XpG();return fe.value=N,f.Njj(oe.makeFormDirty())})("keyupEvent",function(){f.eBV(Q);const N=f.XpG().$implicit,fe=f.XpG();return f.Njj(fe.checkForPolicyClaimForm(N.type,N))}),f.k0s()()}if(2&v){const Q=f.XpG(),te=Q.$implicit,N=Q.index,fe=f.XpG();f.R7$(),f.Y8G("id","claim-"+N)("typeId",fe.getClaimType(te).id)("value",te.value)("disabled",fe.notAllowedToEditClaim(te))}}function W(v,L){if(1&v&&(f.j41(0,"span",22),f.EFF(1),f.k0s()),2&v){const Q=f.XpG().$implicit;f.R7$(),f.JRh(Q.failureMessage)}}function y(v,L){if(1&v&&(f.j41(0,"span",11),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&v){const Q=f.XpG().$implicit,te=f.XpG();f.R7$(),f.JRh(f.i5U(2,1,"Claims.RequiredMultipleValuesWarning",te.valueCount(Q.type)))}}function X(v,L){if(1&v&&(f.j41(0,"app-form-row",4),f.DNE(1,z,2,6,"input",5)(2,u,2,5,"input",6)(3,E,2,7,"app-form-toggle",7)(4,F,3,2,"div",8)(5,M,2,4,"div",9)(6,W,2,1,"span",10)(7,y,3,4,"span",11),f.k0s()),2&v){const Q=L.$implicit,te=L.index,N=f.XpG();f.Y8G("id","claim-"+te)("label",N.getLabel(Q))("help",N.getHelpTextString(Q)),f.R7$(),f.Y8G("ngIf","String"==Q.format),f.R7$(),f.Y8G("ngIf","Int"==Q.format),f.R7$(),f.Y8G("ngIf","Boolean"==Q.format),f.R7$(),f.Y8G("ngIf","DateTime"==Q.format),f.R7$(),f.Y8G("ngIf","Enum"==Q.format),f.R7$(),f.Y8G("ngIf",N.claimDirtyAndInvalid(Q.type)),f.R7$(),f.vxM(N.valueCount(Q.type).count>1?7:-1)}}let Z=(()=>{class v{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=t.e}ngOnChanges(){this.requiredClaims=[];for(const Q of this.claimTypes??[])if(Q.required){let te="Boolean"===Q.valueType?"false":null,N=this.claims?.filter(oe=>oe.type===Q.name)??[];N.length>0&&!(0,o.hX)(N[0].value)&&(te=N[0].value);const fe={typeId:Q.id,format:Q.valueType,value:te,type:Q.name,displayName:Q.displayName,editing:!1,required:Q.required};Q.rule&&(fe.regex=Q.rule,fe.failureMessage=Q.ruleValidationFailureDescription),this.requiredClaims.push(fe)}}getHelpTextString(Q){return this.isPolicyClaim(Q)?"DateTime"==Q.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==Q.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(Q,te){this.notAllowedToEditClaim(te)&&this.claimsForm.form.controls[Q].setErrors({incorrect:!0})}isClaimInValid(Q){return this.claimsForm.form.get(Q)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(Q){let te=this.claimsForm.form.get(Q)??{invalid:!1,dirty:!1};return te.invalid&&te.dirty}resetForm(){this.claimsForm.reset()}getClaimType(Q){return this.claimTypes.find(te=>te.name===Q.type)}getLabel(Q){return(0,o.gP)(Q.displayName)?Q.type:Q.displayName}valueCount(Q){return{count:(this.claims?.filter(N=>N.type==Q)??[]).length}}static{this.\u0275fac=function(te){return new(te||v)}}static{this.\u0275cmp=f.VBU({type:v,selectors:[["app-required-claims-form"]],viewQuery:function(te,N){if(1&te&&f.GBs(k,7),2&te){let fe;f.mGM(fe=f.lsd())&&(N.claimsForm=fe.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},standalone:!1,features:[f.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["id","warn-msg",1,"tw-form-text-warning"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(te,N){1&te&&(f.j41(0,"form",2,0),f.DNE(2,X,8,10,"app-form-row",3),f.k0s()),2&te&&(f.R7$(2),f.Y8G("ngForOf",N.requiredClaims))},dependencies:[A.qT,A.me,A.Q0,A.Zm,A.BC,A.cb,A.YS,A.vS,A.cV,e.Sq,e.bT,t.Z,w.Y,m.m,D.$,S.j,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return v})()},4724:(ot,ve,l)=>{var t=l(6589);l(7097),l(4579),l(1817),l(8291),l(1347),l(1675),l(2880),l(8825),l(812),l(9436);var o=t.asn1,f=t.pki,A=ot.exports=t.pkcs12=t.pkcs12||{},e={name:"ContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},w={name:"PFX",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},e,{name:"PFX.macData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},m={name:"SafeBag",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},D={name:"Attribute",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,capture:"values"}]},S={name:"CertBag",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:o.Class.UNIVERSAL,type:o.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function g(V,F,M,W){for(var y=[],X=0;X<V.length;X++)for(var Z=0;Z<V[X].safeBags.length;Z++){var v=V[X].safeBags[Z];if(void 0===W||v.type===W){if(null===F){y.push(v);continue}void 0!==v.attributes[F]&&v.attributes[F].indexOf(M)>=0&&y.push(v)}}return y}function k(V){if(V.composed||V.constructed){for(var F=t.util.createBuffer(),M=0;M<V.value.length;++M)F.putBytes(V.value[M].value);V.composed=V.constructed=!1,V.value=F.getBytes()}return V}function u(V,F){var M={},W=[];if(!o.validate(V,t.pkcs7.asn1.encryptedDataValidator,M,W))throw(y=new Error("Cannot read EncryptedContentInfo.")).errors=W,y;var y,X=o.derToOid(M.contentType);if(X!==f.oids.data)throw(y=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=X,y;X=o.derToOid(M.encAlgorithm);var Z=f.pbe.getCipher(X,M.encParameter,F),v=k(M.encryptedContentAsn1),L=t.util.createBuffer(v.value);if(Z.update(L),!Z.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return Z.output.getBytes()}function E(V,F,M){if(!F&&0===V.length)return[];if((V=o.fromDer(V,F)).tagClass!==o.Class.UNIVERSAL||V.type!==o.Type.SEQUENCE||!0!==V.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var W=[],y=0;y<V.value.length;y++){var Z={},v=[];if(!o.validate(V.value[y],m,Z,v))throw(L=new Error("Cannot read SafeBag.")).errors=v,L;var Q={type:o.derToOid(Z.bagId),attributes:B(Z.bagAttributes)};W.push(Q);var te,N,fe=Z.bagValue.value[0];switch(Q.type){case f.oids.pkcs8ShroudedKeyBag:if(null===(fe=f.decryptPrivateKeyInfo(fe,M)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case f.oids.keyBag:try{Q.key=f.privateKeyFromAsn1(fe)}catch{Q.key=null,Q.asn1=fe}continue;case f.oids.certBag:te=S,N=function(){if(o.derToOid(Z.certId)!==f.oids.x509Certificate){var R=new Error("Unsupported certificate type, only X.509 supported.");throw R.oid=o.derToOid(Z.certId),R}var Fe=o.fromDer(Z.cert,F);try{Q.cert=f.certificateFromAsn1(Fe,!0)}catch{Q.cert=null,Q.asn1=Fe}};break;default:var L;throw(L=new Error("Unsupported PKCS#12 SafeBag type.")).oid=Q.type,L}if(void 0!==te&&!o.validate(fe,te,Z,v))throw(L=new Error("Cannot read PKCS#12 "+te.name)).errors=v,L;N()}return W}function B(V){var F={};if(void 0!==V)for(var M=0;M<V.length;++M){var W={},y=[];if(!o.validate(V[M],D,W,y)){var X=new Error("Cannot read PKCS#12 BagAttribute.");throw X.errors=y,X}var Z=o.derToOid(W.oid);if(void 0!==f.oids[Z]){F[f.oids[Z]]=[];for(var v=0;v<W.values.length;++v)F[f.oids[Z]].push(W.values[v].value)}}return F}A.pkcs12FromAsn1=function(V,F,M){"string"==typeof F?(M=F,F=!0):void 0===F&&(F=!0);var W={};if(!o.validate(V,w,W,[]))throw(X=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=X,X;var X,Z={version:W.version.charCodeAt(0),safeContents:[],getBags:function(we){var rt,We={};return"localKeyId"in we?rt=we.localKeyId:"localKeyIdHex"in we&&(rt=t.util.hexToBytes(we.localKeyIdHex)),void 0===rt&&!("friendlyName"in we)&&"bagType"in we&&(We[we.bagType]=g(Z.safeContents,null,null,we.bagType)),void 0!==rt&&(We.localKeyId=g(Z.safeContents,"localKeyId",rt,we.bagType)),"friendlyName"in we&&(We.friendlyName=g(Z.safeContents,"friendlyName",we.friendlyName,we.bagType)),We},getBagsByFriendlyName:function(we,We){return g(Z.safeContents,"friendlyName",we,We)},getBagsByLocalKeyId:function(we,We){return g(Z.safeContents,"localKeyId",we,We)}};if(3!==W.version.charCodeAt(0))throw(X=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=W.version.charCodeAt(0),X;if(o.derToOid(W.contentType)!==f.oids.data)throw(X=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=o.derToOid(W.contentType),X;var v=W.content.value[0];if(v.tagClass!==o.Class.UNIVERSAL||v.type!==o.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(v=k(v),W.mac){var L=null,Q=0,te=o.derToOid(W.macAlgorithm);switch(te){case f.oids.sha1:L=t.md.sha1.create(),Q=20;break;case f.oids.sha256:L=t.md.sha256.create(),Q=32;break;case f.oids.sha384:L=t.md.sha384.create(),Q=48;break;case f.oids.sha512:L=t.md.sha512.create(),Q=64;break;case f.oids.md5:L=t.md.md5.create(),Q=16}if(null===L)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+te);var N=new t.util.ByteBuffer(W.macSalt),fe="macIterations"in W?parseInt(t.util.bytesToHex(W.macIterations),16):1,oe=A.generateKey(M,N,3,fe,Q,L),R=t.hmac.create();if(R.start(L,oe),R.update(v.value),R.getMac().getBytes()!==W.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function z(V,F,M,W){if((F=o.fromDer(F,M)).tagClass!==o.Class.UNIVERSAL||F.type!==o.Type.SEQUENCE||!0!==F.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var y=0;y<F.value.length;y++){var Z={},v=[];if(!o.validate(F.value[y],e,Z,v))throw(L=new Error("Cannot read ContentInfo.")).errors=v,L;var Q={encrypted:!1},te=null,N=Z.content.value[0];switch(o.derToOid(Z.contentType)){case f.oids.data:if(N.tagClass!==o.Class.UNIVERSAL||N.type!==o.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");te=k(N).value;break;case f.oids.encryptedData:te=u(N,W),Q.encrypted=!0;break;default:var L;throw(L=new Error("Unsupported PKCS#12 contentType.")).contentType=o.derToOid(Z.contentType),L}Q.safeBags=E(te,M,W),V.safeContents.push(Q)}}(Z,v.value,F,M),Z},A.toPkcs12Asn1=function(V,F,M,W){(W=W||{}).saltSize=W.saltSize||8,W.count=W.count||2048,W.algorithm=W.algorithm||W.encAlgorithm||"aes128","useMac"in W||(W.useMac=!0),"localKeyId"in W||(W.localKeyId=null),"generateLocalKeyId"in W||(W.generateLocalKeyId=!0);var X,y=W.localKeyId;if(null!==y)y=t.util.hexToBytes(y);else if(W.generateLocalKeyId)if(F){var Z=t.util.isArray(F)?F[0]:F;"string"==typeof Z&&(Z=f.certificateFromPem(Z)),(v=t.md.sha1.create()).update(o.toDer(f.certificateToAsn1(Z)).getBytes()),y=v.digest().getBytes()}else y=t.random.getBytes(20);var L=[];null!==y&&L.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.localKeyId).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,y)])])),"friendlyName"in W&&L.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.friendlyName).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.BMPSTRING,!1,W.friendlyName)])])),L.length>0&&(X=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,L));var Q=[],te=[];null!==F&&(te=t.util.isArray(F)?F:[F]);for(var N=[],fe=0;fe<te.length;++fe){"string"==typeof(F=te[fe])&&(F=f.certificateFromPem(F));var oe=0===fe?X:void 0,R=f.certificateToAsn1(F),Fe=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.certBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.x509Certificate).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(R).getBytes())])])]),oe]);N.push(Fe)}if(N.length>0){var we=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,N),We=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(we).getBytes())])]);Q.push(We)}var rt=null;if(null!==V){var lt=f.wrapRsaPrivateKey(f.privateKeyToAsn1(V));rt=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,null===M?[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.keyBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[lt]),X]:[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.pkcs8ShroudedKeyBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[f.encryptPrivateKeyInfo(lt,M,W)]),X]);var vt=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[rt]),Ue=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(vt).getBytes())])]);Q.push(Ue)}var He,Ye=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,Q);if(W.useMac){var v=t.md.sha1.create(),it=new t.util.ByteBuffer(t.random.getBytes(W.saltSize)),Le=W.count,Ve=(V=A.generateKey(M,it,3,Le,20),t.hmac.create());Ve.start(v,V),Ve.update(o.toDer(Ye).getBytes());var Xe=Ve.getMac();He=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.sha1).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,Xe.getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,it.getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(Le).getBytes())])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(3).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(f.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(Ye).getBytes())])]),He])},A.generateKey=t.pbe.generatePkcs12Key},4754:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>f});var t=l(9361),o=l(1360);let f=(()=>{class A{constructor(w){this.document=w,this.modalList=[]}add(w){this.modalList.push(w)}remove(w){const m=this.modalList.indexOf(w);this.modalList.splice(m)}visibleModals(){return this.modalList.filter(w=>w.isVisible).length}showById(w,m){null!=m&&null!=m.nativeElement&&(this.lastClickedEl=m.nativeElement),this.modalList.find(S=>S.modalId===w).show()}hideById(w){const m=this.modalList.find(D=>D.modalId===w);m&&(m.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(m){return new(m||A)(o.KVO(t.q))}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},4761:(ot,ve,l)=>{"use strict";l.d(ve,{l:()=>o});const o=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4811:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>D});var t=l(983),o=l(6354),f=l(9437),A=l(8284),e=l(1360),w=l(5602),m=l(5424);let D=(()=>{class S{constructor(k,z){this.userService=k,this.errorService=z}resolve(k,z){return this.userService.getUser(k.params.id).pipe((0,o.T)(E=>(E&&this.userService.getCachedUser().next(E),E)),(0,f.W)((E,B)=>(404===E.status?this.errorService.resourceNotFound(A.v.user):this.errorService.handleError(E),(0,t.I)())))}static{this.\u0275fac=function(z){return new(z||S)(e.KVO(w.D),e.KVO(m.I))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},4814:(ot,ve,l)=>{"use strict";l.d(ve,{y:()=>S});var t=l(1594),o=l(6354),f=l(7380),A=l(1360),e=l(3853),w=l(5794),m=l(8018),D=l(2947);let S=(()=>{class g extends f.Q{constructor(z,u,E,B){super(B),this.licenseService=z,this.toastr=u,this.tranlate=E}canActivate(z,u){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,o.T)(E=>{if(!E.overUserLimit)return!0;{const B=this.tranlate.instant("Nav.Clients"),V=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:B}),F=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:B});this.toastr.warning(F,V,{timeOut:1e4}),super.redirectToView(z,u)}}))}static{this.\u0275fac=function(u){return new(u||g)(A.KVO(e.X),A.KVO(w.tw),A.KVO(m.c$),A.KVO(D.Ix))}}static{this.\u0275prov=A.jDH({token:g,factory:g.\u0275fac})}}return g})()},4846:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var o=ot.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=o,o.create=function(){m||function D(){f="\x80",f+=t.util.fillString("\0",64),A=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],e=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],w=new Array(64);for(var g=0;g<64;++g)w[g]=Math.floor(4294967296*Math.abs(Math.sin(g+1)));m=!0}();var g=null,k=t.util.createBuffer(),z=new Array(16),u={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var E=u.messageLengthSize/4,B=0;B<E;++B)u.fullMessageLength.push(0);return k=t.util.createBuffer(),g={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},u}};return u.start(),u.update=function(E,B){"utf8"===B&&(E=t.util.encodeUtf8(E));var V=E.length;u.messageLength+=V,V=[V/4294967296>>>0,V>>>0];for(var F=u.fullMessageLength.length-1;F>=0;--F)u.fullMessageLength[F]+=V[1],V[1]=V[0]+(u.fullMessageLength[F]/4294967296>>>0),u.fullMessageLength[F]=u.fullMessageLength[F]>>>0,V[0]=V[1]/4294967296>>>0;return k.putBytes(E),S(g,z,k),(k.read>2048||0===k.length())&&k.compact(),u},u.digest=function(){var E=t.util.createBuffer();E.putBytes(k.bytes()),E.putBytes(f.substr(0,u.blockLength-(u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize&u.blockLength-1)));for(var F,M=0,W=u.fullMessageLength.length-1;W>=0;--W)M=(F=8*u.fullMessageLength[W]+M)/4294967296>>>0,E.putInt32Le(F>>>0);var y={h0:g.h0,h1:g.h1,h2:g.h2,h3:g.h3};S(y,z,E);var X=t.util.createBuffer();return X.putInt32Le(y.h0),X.putInt32Le(y.h1),X.putInt32Le(y.h2),X.putInt32Le(y.h3),X},u};var f=null,A=null,e=null,w=null,m=!1;function S(g,k,z){for(var u,E,B,V,F,W,y,X=z.length();X>=64;){for(E=g.h0,B=g.h1,V=g.h2,F=g.h3,y=0;y<16;++y)k[y]=z.getInt32Le(),u=E+(F^B&(V^F))+w[y]+k[y],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;for(;y<32;++y)u=E+(V^F&(B^V))+w[y]+k[A[y]],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;for(;y<48;++y)u=E+(B^V^F)+w[y]+k[A[y]],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;for(;y<64;++y)u=E+(V^(B|~F))+w[y]+k[A[y]],E=F,F=V,V=B,B+=u<<(W=e[y])|u>>>32-W;g.h0=g.h0+E|0,g.h1=g.h1+B|0,g.h2=g.h2+V|0,g.h3=g.h3+F|0,X-=64}}},4861:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>t});let t=(()=>{class o{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return o})()},4866:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>o});var o,t=l(3806);!function(f){const A=new Map([[t.u.Minute,60],[t.u.Minutes,60],[t.u.Hour,3600],[t.u.Hours,3600],[t.u.Day,86400],[t.u.Days,86400],[t.u.Week,604800],[t.u.Weeks,604800],[t.u.Month,2629743],[t.u.Months,2629743],[t.u.Year,31556926],[t.u.Years,31556926],[t.u.Unlimited,null]]);f.getUnitMap=function e(){return A}}(o||(o={}))},5022:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>A});var t=l(1360),o=l(3165),f=l(9564);let A=(()=>{class e{constructor(m,D){this.http=m,this.headersService=D,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(m){const D=JSON.stringify(m);return this.http.put(this.actionUrl,D,{headers:this.headers})}static{this.\u0275fac=function(D){return new(D||e)(t.KVO(o.Qq),t.KVO(f.m))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})()},5055:(ot,ve,l)=>{"use strict";l.d(ve,{l:()=>f});var t=l(3494),o=l(8071);function f(A){return(0,o.T)(A[t.s])}},5060:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>f});var t=l(1985),o=l(5343);const f=new t.c(o.l)},5139:(ot,ve,l)=>{"use strict";l.d(ve,{xq:()=>Ve,XE:()=>ft,tl:()=>ge,QG:()=>Y,wY:()=>it});var t=l(1360),o=l(2947),f=l(9262),A=l(9350),e=l(7707),m=l(1985),D=l(1413),S=l(2771),g=l(7673),k=l(6648),z=l(17),u=l(4402),E=l(5964),B=l(9974),V=l(4360),M=l(6354),W=l(1397),y=l(980),X=l(9898),Z=l(8018),v=l(1482),L=l(9377),Q=l(8434),te=l(3165);const N=new t.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),fe=new t.nKC("RAW_ROUTES");var oe=function(q){return q.LocalStorage="LocalStorage",q.SessionStorage="SessionStorage",q.Cookie="Cookie",q}(oe||{});const R=new t.nKC("USE_CACHED_LANG"),Fe=new t.nKC("CACHE_MECHANISM"),we=new t.nKC("CACHE_NAME"),We=new t.nKC("COOKIE_FORMAT"),rt=new t.nKC("INITIAL_NAVIGATION"),lt=new t.nKC("DEFAULT_LANG_FUNCTION"),vt=new t.nKC("ALWAYS_SET_PREFIX");let it=(()=>{class q{constructor(De=!0,et=!0,gt=oe.LocalStorage,Kt="LOCALIZE_DEFAULT_LANGUAGE",sn=void 0,Rn="{{value}};{{expires}}",Kn=!1){this.useCachedLang=De,this.alwaysSetPrefix=et,this.cacheName=Kt,this.cookieFormat=Rn,this.initialNavigation=Kn,this.cacheMechanism=gt,this.defaultLangFunction=sn}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(R),t.KVO(vt),t.KVO(Fe),t.KVO(we),t.KVO(lt),t.KVO(We),t.KVO(rt))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})(),Ve=(()=>{class q{constructor(De,et,gt){this.translate=De,this.location=et,this.settings=gt}init(De){let et;if(this.routes=De,!this.locales||!this.locales.length)return Promise.resolve();const gt=this.getLocationLang(),Kt=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,Kt):this._cachedLang||Kt||this.locales[0],et=gt||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let sn=[];if(this.settings.alwaysSetPrefix){const Rn={path:"",redirectTo:this.defaultLang,pathMatch:"full"},Kn=De.findIndex(ei=>"**"===ei.path);-1!==Kn&&(this._wildcardRoute=De.splice(Kn,1)[0]),sn=this.routes.splice(0,this.routes.length,Rn)}else sn=[...this.routes];for(let Rn=sn.length-1;Rn>=0;Rn--)sn[Rn].data&&sn[Rn].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(sn[Rn]),(void 0===sn[Rn].redirectTo||!sn[Rn].data.skipRouteLocalization.localizeRedirectTo||"function"==typeof sn[Rn].redirectTo)&&sn.splice(Rn,1));return sn&&sn.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:sn},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function w(q,Ne){const De="object"==typeof Ne;return new Promise((et,gt)=>{const Kt=new e.Ms({next:sn=>{et(sn),Kt.unsubscribe()},error:gt,complete:()=>{De?et(Ne.defaultValue):gt(new A.G)}});q.subscribe(Kt)})}(this.translateRoutes(et))}initChildRoutes(De){return this._translateRouteTree(De),De}translateRoutes(De){return new m.c(et=>{this._cachedLang=De,this._languageRoute&&(this._languageRoute.path=De),this.translate.use(De).subscribe(gt=>{this._translationObject=gt,this.currentLang=De,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),et.next(void 0),et.complete()})})}_translateRouteTree(De,et){De.forEach(gt=>{const Kt=gt.data&&gt.data.skipRouteLocalization;if(gt.redirectTo&&(!Kt||Kt.localizeRedirectTo)&&"function"!=typeof gt.redirectTo){const Rn=0===gt.redirectTo.indexOf("/")||et;this._translateProperty(gt,"redirectTo",Rn)}Kt||(null!=gt.path&&this._translateProperty(gt,"path"),gt.children&&this._translateRouteTree(gt.children),gt.loadChildren&&gt._loadedRoutes?.length&&this._translateRouteTree(gt._loadedRoutes))})}_translateProperty(De,et,gt){const Kt=De.data=De.data||{};Kt.localizeRouter||(Kt.localizeRouter={}),Kt.localizeRouter[et]||(Kt.localizeRouter={...Kt.localizeRouter,[et]:De[et]});const sn=this.translateRoute(Kt.localizeRouter[et]);De[et]=gt?this.addPrefixToUrl(sn):sn}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(De){const et=De.split("?"),gt=1===et[0].length&&"/"===et[0];et[0]=et[0].replace(/\/$/,"");const Kt=et.join("?");return""===this.urlPrefix?Kt:Kt.startsWith("/")||gt?`/${this.urlPrefix}${Kt}`:`${this.urlPrefix}/${Kt}`}translateRoute(De){const et=De.split("?");if(et.length>2)throw Error("There should be only one query parameter block in the URL");return et[0].split("/").map(Kt=>Kt.length?this.translateText(Kt):Kt).join("/")+(et.length>1?`?${et[1]}`:"")}getLocationLang(De){const et=(De||this.location.path()).split(/[\?;]/);let gt=[];return et.length>0&&(gt=et[0].split("/")),gt.length>1&&-1!==this.locales.indexOf(gt[1])?gt[1]:gt.length&&-1!==this.locales.indexOf(gt[0])?gt[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===oe.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===oe.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===oe.Cookie)return this._cacheWithCookies()}}set _cachedLang(De){this.settings.useCachedLang&&(this.settings.cacheMechanism===oe.LocalStorage&&this._cacheWithLocalStorage(De),this.settings.cacheMechanism===oe.SessionStorage&&this._cacheWithSessionStorage(De),this.settings.cacheMechanism===oe.Cookie&&this._cacheWithCookies(De))}_cacheWithLocalStorage(De){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return De?void window.localStorage.setItem(this.settings.cacheName,De):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(De){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return De?void window.sessionStorage.setItem(this.settings.cacheName,De):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(De){try{if(typeof document>"u"||typeof document.cookie>"u")return;const et=encodeURIComponent(this.settings.cacheName);if(De){let sn=`${this.settings.cookieFormat}`;return sn=sn.replace("{{value}}",`${et}=${encodeURIComponent(De)}`).replace(/{{expires:?(\d+)?}}/g,(Rn,Kn)=>{const ei=void 0===Kn?30:parseInt(Kn,10),Ot=new Date;return Ot.setTime(Ot.getTime()+864e5*ei),`expires=${Ot.toUTCString()}`}),void(document.cookie=sn)}const Kt=new RegExp("(?:^"+et+"|;\\s*"+et+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(Kt[1])}catch{return}}_returnIfInLocales(De){return De&&-1!==this.locales.indexOf(De)?De:null}translateText(De){if(this.escapePrefix&&De.startsWith(this.escapePrefix))return De.replace(this.escapePrefix,"");{if(!this._translationObject)return De;const et=this.prefix+De,gt=this.translate.getParsedResult(this._translationObject,et);return gt!==et?gt:De}}chooseQueryParams(De,et){let gt;return De&&De.queryParams?gt=De.queryParams:et&&(gt=et),gt}formatQueryParams(De){return new te.Nl({fromObject:De}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(Z.c$),t.KVO(v.aZ),t.KVO(it))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})(),je=(()=>{class q extends Ve{load(De){return new Promise(et=>{this.init(De).then(et)})}static{this.\u0275fac=(()=>{let De;return function(gt){return(De||(De=t.xGo(q)))(gt||q)}})()}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})();function ct(q,Ne){if(q===Ne)return!0;if(null===q||null===Ne)return!1;if(q!=q&&Ne!=Ne)return!0;const De=typeof q;let gt,Kt,sn;if(De===typeof Ne&&"object"===De){if(!Array.isArray(q)){if(Array.isArray(Ne))return!1;for(Kt in sn=Object.create(null),q)if(q.hasOwnProperty(Kt)){if(!ct(q[Kt],Ne[Kt]))return!1;sn[Kt]=!0}for(Kt in Ne)if(Ne.hasOwnProperty(Kt)&&!(Kt in sn)&&typeof Ne[Kt]<"u")return!1;return!0}if(!Array.isArray(Ne))return!1;if((gt=q.length)===Ne.length){for(Kt=0;Kt<gt;Kt++)if(!ct(q[Kt],Ne[Kt]))return!1;return!0}}return!1}function Qe(q){const Ne=Array.isArray(q)?[]:{};for(const De in q)if(De){const et=q[De];Ne[De]="object"==typeof et?Qe(et):et}return Ne}let Y=(()=>{class q{constructor(De,et,gt,Kt){this.parser=De,this.settings=et,this.router=gt,this.route=Kt,this.routerEvents=new D.B;const sn=new S.m(1);this.hooks={_initializedSubject:sn,initialized:sn.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,E.p)(De=>De instanceof o.Z),function F(){return(0,B.N)((q,Ne)=>{let De,et=!1;q.subscribe((0,V._)(Ne,gt=>{const Kt=De;De=gt,et&&Ne.next([Kt,gt]),et=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(De,et,gt){if(De!==this.parser.currentLang){const Kt=this.router.routerState.snapshot.root;this.parser.translateRoutes(De).subscribe(()=>{let sn=this.traverseRouteSnapshot(Kt);if(sn=this.translateRoute(sn),!this.settings.alwaysSetPrefix){let ei=sn.split("/");const Ot=ei.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===Ot||1===Ot&&""===ei[0])&&(ei=ei.slice(0,Ot).concat(ei.slice(Ot+1)));else if(-1===Ot){const Gn=""===ei[0]?1:0;ei=ei.slice(0,Gn).concat(this.parser.currentLang,ei.slice(Gn))}sn=ei.join("/")}sn=sn.replace(/\/+/g,"/");const Rn=sn.lastIndexOf("/");Rn>0&&Rn===sn.length-1&&(sn=sn.slice(0,-1));const Kn=this.parser.chooseQueryParams(et,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=et,gt){const ei=et?{...et}:{};Kn&&(ei.queryParams=Kn),this.router.navigate([sn],ei)}else{let ei=this.parser.formatQueryParams(Kn);ei=ei?`?${ei}`:"",this.router.navigateByUrl(`${sn}${ei}`,et)}})}}traverseRouteSnapshot(De){return De.firstChild&&De.routeConfig?`${this.parseSegmentValue(De)}/${this.traverseRouteSnapshot(De.firstChild)}`:De.firstChild?this.traverseRouteSnapshot(De.firstChild):this.parseSegmentValue(De)}buildUrlFromSegments(De,et){return et.map((gt,Kt)=>0===gt.indexOf(":")?De.url[Kt].path:gt).join("/")}parseSegmentValue(De){if(De.routeConfig&&De.routeConfig.matcher){const et=this.parseSegmentValueMatcher(De);return this.buildUrlFromSegments(De,et)}if(De.data.localizeRouter){const gt=De.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(De,gt)}if(De.parent&&De.parent.parent){const gt=De.routeConfig.path.split("/");return this.buildUrlFromSegments(De,gt)}return""}parseSegmentValueMatcher(De){const et=De.data&&De.data.localizeMatcher&&De.data.localizeMatcher.params||{};return De.url.map(Kt=>{const sn=Kt.path,Rn=Kt.localizedParamName;return(Rn&&et[Rn]?et[Rn](sn):null)||`${this.parser.getEscapePrefix()}${sn}`})}translateRoute(De){if("string"==typeof De){const gt=this.parser.translateRoute(De);return De.indexOf("/")?gt:this.parser.addPrefixToUrl(gt)}const et=[];return De.forEach((gt,Kt)=>{if("string"==typeof gt){const sn=this.parser.translateRoute(gt);Kt||gt.indexOf("/")?et.push(sn):et.push(this.parser.addPrefixToUrl(sn))}else et.push(gt)}),et}_routeChanged(){return([De,et])=>{const gt=this.parser.getLocationLang(De.url)||this.parser.defaultLang,Kt=this.parser.getLocationLang(et.url)||this.parser.defaultLang,sn=this.lastExtras;Kt!==gt&&this.latestUrl!==et.url&&(this.latestUrl=et.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(Kt).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(et.url,sn),this.routerEvents.next(Kt)})),this.latestUrl=et.url}}cancelCurrentNavigation(){const De=this.router.getCurrentNavigation(),et=this.router.serializeUrl(De.extractedUrl);this.router.events.next(new o.j5(De.id,et,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(De){this.router.resetConfig(Qe(De))}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(Ve),t.KVO(it),t.KVO(o.Ix),t.KVO(o.nX))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})(),ge=(()=>{class q{constructor(De,et){this.localize=De,this._ref=et,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(De){if(!De||0===De.length||!this.localize.parser.currentLang)return De;if(ct(De,this.lastKey)&&ct(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=De,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(De),this.lastKey=De;const et=this._ref._view;return et&&128&et.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}static{this.\u0275fac=function(et){return new(et||q)(t.rXU(Y,16),t.rXU(t.gRc,16))}}static{this.\u0275pipe=t.EJ8({name:"localize",type:q,pure:!1})}}return q})();class s{constructor(){}shouldDetach(Ne){return!1}store(Ne,De){}shouldAttach(Ne){return!1}retrieve(Ne){return null}shouldReuseRoute(Ne,De){return!(!Ne||!De)&&this.getKey(Ne)===this.getKey(De)}getKey(Ne){if(Ne.firstChild&&Ne.firstChild.routeConfig&&Ne.firstChild.routeConfig.path&&-1!==Ne.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Ne.data.localizeRouter||Ne.parent&&Ne.parent.parent||Ne.data.skipRouteLocalization))return"LANG";if(Ne.routeConfig.matcher){let De=`${this.getKey(Ne.parent)}/${Ne.routeConfig.matcher.name}`;return Ne.data.discriminantPathKey&&(De=`${De}-${Ne.data.discriminantPathKey}`),De}if(Ne.data.localizeRouter){let De=`${this.getKey(Ne.parent)}/${Ne.data.localizeRouter.path}`;return Ne.data.discriminantPathKey&&(De=`${De}-${Ne.data.discriminantPathKey}`),De}{let De=Ne.routeConfig.path;return Ne.parent&&(De=`${this.getKey(Ne.parent)}/${Ne.routeConfig.path}`),Ne.data.discriminantPathKey&&(De=`${De}-${Ne.data.discriminantPathKey}`),De}}}let dt=(()=>{class q extends o.Ix{constructor(){super(),this.platformId=(0,t.WQX)(t.Agw),this.compiler=(0,t.WQX)(t.Ql9),this.localize=(0,t.WQX)(Ve),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(gt,Kt)=>function Wn(q){return(0,u.A)(q)?q:function st(q){return!!q&&"function"==typeof q.then}(q)?(0,k.H)(Promise.resolve(q)):(0,g.of)(q)}(Kt.loadChildren()).pipe((0,M.T)(Cn),(0,W.Z)(sn=>sn instanceof t.Co$||Array.isArray(sn)?(0,g.of)(sn):(0,k.H)(this.compiler.compileModuleAsync(sn))),(0,M.T)(sn=>{let Rn,Kn;if(this.onLoadEndListener&&this.onLoadEndListener(Kt),Array.isArray(sn))Kn=this.localize.initChildRoutes([].concat(...sn));else{Rn=sn.create(gt).injector;const Ot=Rn.get.bind(Rn);Rn.get=(Gn,Zt,Tn)=>{const In=Ot(Gn,Zt,Tn);return Gn===o.bw?this.localize.initChildRoutes([].concat(...In)):In},Kn=Rn.get(o.bw,[],{optional:!0,self:!0}).reduce((Gn,Zt)=>Gn.concat(Zt),[])}return{routes:Kn.map(_t),injector:Rn}})),((0,L.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadChildren=(gt,Kt)=>{if(this.childrenLoaders.get(Kt))return this.childrenLoaders.get(Kt);if(Kt._loadedRoutes)return(0,g.of)({routes:Kt._loadedRoutes,injector:Kt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Kt);const Rn=this.loadModuleFactoryOrRoutes(gt,Kt).pipe((0,y.j)(()=>{this.childrenLoaders.delete(Kt)})),Kn=new z.G(Rn,()=>new D.B).pipe((0,X.B)());return this.childrenLoaders.set(Kt,Kn),Kn}}static{this.\u0275fac=function(et){return new(et||q)}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})();function _t(q){const Ne=q.children&&q.children.map(_t),De=Ne?{...q,children:Ne}:{...q};return!De.component&&!De.loadComponent&&(Ne||De.loadChildren)&&De.outlet&&De.outlet!==o.Xk&&(De.component=o.we),De}function Cn(q){return function en(q){return q&&"object"==typeof q&&"default"in q}(q)?q.default:q}let tn=(()=>{class q{constructor(De){this.injector=De}appInitializer(){return this.parser.load(this.routes).then(()=>{const et=this.injector.get(Y),gt=this.injector.get(o.Ix),Kt=this.injector.get(it);if(et.init(),Kt.initialNavigation)return new Promise(sn=>{const Rn=gt.navigationTransitions.afterPreactivation;let Kn=!0;gt.navigationTransitions.afterPreactivation=()=>(Kn&&(sn(),Kn=!1,et.hooks._initializedSubject.next(!0),et.hooks._initializedSubject.complete()),Rn())});et.hooks._initializedSubject.next(!0),et.hooks._initializedSubject.complete()})}generateInitializer(De,et){return this.parser=De,this.routes=et.reduce((gt,Kt)=>gt.concat(Kt)),this.appInitializer}static{this.\u0275fac=function(et){return new(et||q)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac})}}return q})();function Ln(q,Ne,De){const et=Qe(De);return q.generateInitializer(Ne,et).bind(q)}function ni(q,Ne){return[{provide:o.Ix,useClass:dt},{provide:N,useFactory:Qt,deps:[[ft,new t.Xx1,new t.kdw]]},{provide:R,useValue:Ne.useCachedLang},{provide:vt,useValue:Ne.alwaysSetPrefix},{provide:we,useValue:Ne.cacheName},{provide:Fe,useValue:Ne.cacheMechanism},{provide:lt,useValue:Ne.defaultLangFunction},{provide:We,useValue:Ne.cookieFormat},{provide:rt,useValue:Ne.initialNavigation},it,Ne.parser||{provide:Ve,useClass:je},{provide:fe,multi:!0,useValue:q},Y,tn,{provide:t.hnV,multi:!0,useFactory:Ln,deps:[tn,Ve,fe]},{provide:o.b,useClass:s}]}let ft=(()=>{class q{static forRoot(De,et={}){return{ngModule:q,providers:ni(De,et)}}static forChild(De){return{ngModule:q,providers:[{provide:fe,multi:!0,useValue:De}]}}static{this.\u0275fac=function(et){return new(et||q)}}static{this.\u0275mod=t.$C({type:q})}static{this.\u0275inj=t.G2t({imports:[Q.MD,f.iI,Z.h]})}}return q})();function Qt(q){if(q)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},5175:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>e});var t=l(6701),o=l(4491),f=l(1360),A=l(455);let e=(()=>{class te{constructor(fe){this.cache=fe,this.defaultClientGrantTypeMap=new Map([[t.s.BrowserBased,o.$.AuthorizationCode],[t.s.ServerSidePKCE,o.$.AuthorizationCode],[t.s.ServerSide,o.$.Hybrid],[t.s.Native,o.$.Hybrid],[t.s.Machine,o.$.ClientCredentials],[t.s.CIBAMachine,o.$.CIBA],[t.s.Device,o.$.Device],[t.s.LegacyClientSide,o.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(oe=>{this.initClientViews(oe)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(fe){this.resetTabs(),this.isStandardClientFormat(fe)||fe.clientType===t.s.Saml||fe.clientType===t.s.WsFed?this.initUsingClientType(fe.clientType):0!==fe.allowedGrantTypes.length?this.initUsingGrantTypes(fe.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new w,this.details=new m,this.applicationUrls=new D,this.secrets=new S,this.resources=new g,this.tokens=new L,this.claims=new z,this.refreshTokens=new y,this.identityProviders=new E,this.properties=new B,this.other=new V,this.deviceFlow=new M,this.singleSignOut=new W,this.consent=new X,this.saml=new Z,this.wsFed=new v,this.ciba=new k,this.dpop=new Q}isStandardClientFormat(fe){if(fe.clientType===t.s.Unknown||fe.allowedGrantTypes.length>1)return!1;const oe=this.defaultClientGrantTypeMap.get(fe.clientType);return fe.allowedGrantTypes[0]===oe}initUsingClientType(fe){switch(fe){case t.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.s.ServerSide:case t.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.s.Native:case t.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case t.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case t.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case t.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case t.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(fe){this.saml.display=!1,this.wsFed.display=!1,fe.forEach(oe=>{switch(oe){case o.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case o.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case o.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case o.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case o.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case o.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case o.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(oe){return new(oe||te)(f.KVO(A.e))}}static{this.\u0275prov=f.jDH({token:te,factory:te.\u0275fac})}}return te})();class w{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class m{}class D{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class S{constructor(){this.display=!1}}class g{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class k{constructor(){this.display=!1}}class z{constructor(){this.display=!1}}class E{constructor(){this.display=!1}}class B{constructor(){this.display=!1}}class V{constructor(){this.display=!1,this.userSSOLifetime=!1}}class M{constructor(){this.display=!1}}class W{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class y{constructor(){this.display=!1}}class X{constructor(){this.display=!1}}class Z{constructor(){this.display=!1}}class v{constructor(){this.display=!1}}class L{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class Q{constructor(){this.display=!1}}},5196:(ot,ve,l)=>{"use strict";l.d(ve,{C:()=>f,U:()=>A});var t=l(1635),o=l(8071);function f(e){return(0,t.AQ)(this,arguments,function*(){const m=e.getReader();try{for(;;){const{value:D,done:S}=yield(0,t.N3)(m.read());if(S)return yield(0,t.N3)(void 0);yield yield(0,t.N3)(D)}}finally{m.releaseLock()}})}function A(e){return(0,o.T)(e?.getReader)}},5218:(ot,ve,l)=>{"use strict";l.d(ve,{FX:()=>M,If:()=>t,K2:()=>w,PZ:()=>F,hZ:()=>f,i0:()=>A,iF:()=>m,kY:()=>g,kp:()=>o,sf:()=>V,wk:()=>D});var t=function(W){return W[W.State=0]="State",W[W.Transition=1]="Transition",W[W.Sequence=2]="Sequence",W[W.Group=3]="Group",W[W.Animate=4]="Animate",W[W.Keyframes=5]="Keyframes",W[W.Style=6]="Style",W[W.Trigger=7]="Trigger",W[W.Reference=8]="Reference",W[W.AnimateChild=9]="AnimateChild",W[W.AnimateRef=10]="AnimateRef",W[W.Query=11]="Query",W[W.Stagger=12]="Stagger",W}(t||{});const o="*";function f(W,y){return{type:t.Trigger,name:W,definitions:y,options:{}}}function A(W,y=null){return{type:t.Animate,styles:y,timings:W}}function w(W,y=null){return{type:t.Sequence,steps:W,options:y}}function m(W){return{type:t.Style,styles:W,offset:null}}function D(W,y,X){return{type:t.State,name:W,styles:y,options:X}}function g(W,y,X=null){return{type:t.Transition,expr:W,animation:y,options:X}}class V{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(y=0,X=0){this.totalTime=y+X}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(y){this._position=this.totalTime?y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(y){const X="start"==y?this._onStartFns:this._onDoneFns;X.forEach(Z=>Z()),X.length=0}}class F{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(y){this.players=y;let X=0,Z=0,v=0;const L=this.players.length;0==L?queueMicrotask(()=>this._onFinish()):this.players.forEach(Q=>{Q.onDone(()=>{++X==L&&this._onFinish()}),Q.onDestroy(()=>{++Z==L&&this._onDestroy()}),Q.onStart(()=>{++v==L&&this._onStart()})}),this.totalTime=this.players.reduce((Q,te)=>Math.max(Q,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this.players.forEach(y=>y.init())}onStart(y){this._onStartFns.push(y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(y=>y()),this._onStartFns=[])}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(y=>y.play())}pause(){this.players.forEach(y=>y.pause())}restart(){this.players.forEach(y=>y.restart())}finish(){this._onFinish(),this.players.forEach(y=>y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(y=>y.destroy()),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this.players.forEach(y=>y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(y){const X=y*this.totalTime;this.players.forEach(Z=>{const v=Z.totalTime?Math.min(1,X/Z.totalTime):1;Z.setPosition(v)})}getPosition(){const y=this.players.reduce((X,Z)=>null===X||Z.totalTime>X.totalTime?Z:X,null);return null!=y?y.getPosition():0}beforeDestroy(){this.players.forEach(y=>{y.beforeDestroy&&y.beforeDestroy()})}triggerCallback(y){const X="start"==y?this._onStartFns:this._onDoneFns;X.forEach(Z=>Z()),X.length=0}}const M="!"},5225:(ot,ve,l)=>{"use strict";function t(o,f,A,e=0,w=!1){const m=f.schedule(function(){A(),w?o.add(this.schedule(null,e)):this.unsubscribe()},e);if(o.add(m),!w)return m}l.d(ve,{N:()=>t})},5291:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>Xe});var t=l(4549),o=l(7263),f=l(1413),A=l(8359),e=l(1594),w=l(9172),m=l(1397),D=l(8577),S=l(4252),g=l(1258),k=l(7185),z=l(2390);class u{constructor(ct,st,Qe,ne,Y,he){this.query=ct,this.page=st,this.pageSize=Qe,this.sortCriteria=ne,this.fromDate=Y,this.toDate=he}}class E{constructor(ct){this.query=ct.query,this.page=ct.page,this.pageSize=ct.pageSize,this.sortCriteria=ct.sortCriteria,this.fromDate=ct.fromDate?.toString(),this.toDate=ct.toDate?.toString()}}var B=function(je){return je.ByUser="user",je.ByUserDescending="-user",je.ByScheme="scheme",je.BySchemeDescending="-scheme",je.ByCreated="created",je.ByCreatedDescending="-created",je.ByExpires="expires",je.ByExpiresDescending="-expires",je.ByRenewed="renewed",je.ByRenewedDescending="-renewed",je}(B||{}),V=l(923),F=l(1360),M=l(4288),W=l(5139),y=l(2947),X=l(9417),Z=l(9812),v=l(4754),L=l(7883),Q=l(5424),te=l(3488),N=l(8434),fe=l(7156),oe=l(7384),R=l(6536),Fe=l(3899),we=l(8018);const We=je=>[je];function rt(je,ct){1&je&&(F.j41(0,"span",34),F.EFF(1),F.nI1(2,"translate"),F.k0s()),2&je&&(F.R7$(),F.SpI(" ",F.bMT(2,1,"Auditing.FromDateWarning")," "))}function lt(je,ct){1&je&&(F.j41(0,"span",35),F.EFF(1),F.nI1(2,"translate"),F.k0s()),2&je&&(F.R7$(),F.SpI(" ",F.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function vt(je,ct){1&je&&(F.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),F.nrm(4,"input",39,2),F.nI1(6,"translate"),F.nI1(7,"translate"),F.k0s()()()()),2&je&&(F.R7$(4),F.BMQ("placeholder",F.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",F.bMT(7,4,"Auditing.AddFilterTerm")))}function Ue(je,ct){1&je&&(F.j41(0,"p",40),F.nrm(1,"span",41),F.EFF(2),F.nI1(3,"translate"),F.k0s()),2&je&&(F.R7$(2),F.SpI(" ",F.bMT(3,1,"Auditing.UpdateWarning")," "))}function Ye(je,ct){1&je&&F.nrm(0,"app-simple-loader")}function He(je,ct){1&je&&(F.j41(0,"div",42)(1,"div"),F.EFF(2),F.nI1(3,"translate"),F.k0s()()),2&je&&(F.R7$(2),F.JRh(F.bMT(3,1,"SessionManagement.NoSessionsFound")))}function it(je,ct){if(1&je&&F.nrm(0,"app-data-table-column",48),2&je){const st=F.XpG(2);F.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",st.sortingEnum.None)}}function Le(je,ct){if(1&je&&(F.j41(0,"app-data-table",43),F.DNE(1,it,1,5,"app-data-table-column",44),F.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),F.k0s()),2&je){const st=F.XpG();F.Y8G("rows",st.pagedResult.results)("actions",st.dataTableActions),F.R7$(),F.Y8G("ngIf",!st.resourceOnly()),F.R7$(),F.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),F.R7$(),F.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",st.dateColumn(st.DatePipeNames.prettyDateTime)),F.R7$(),F.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",st.dateColumn(st.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",st.sortingEnum.Descending),F.R7$(),F.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",st.dateColumn(st.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function Ve(je,ct){if(1&je){const st=F.RV6();F.j41(0,"app-pager",49),F.bIt("onGoToPage",function(ne){F.eBV(st);const Y=F.XpG();return F.Njj(Y.goToPage(ne))}),F.k0s()}if(2&je){const st=F.XpG();F.Y8G("totalResults",null==st.pagedResult?null:st.pagedResult.totalCount)("currentPage",st.filterForm.get("page").value)("lastPage",null==st.pagedResult?null:st.pagedResult.pageCount)}}let Xe=(()=>{class je{resourceOnly(){return!(0,o.gP)(this.resourceName)}constructor(st,Qe,ne,Y,he,ge,s,dt,_t,en){this.sessionManagementService=st,this.localizeRouter=Qe,this.router=ne,this.fb=Y,this.activatedRoute=he,this.dataTableService=ge,this.modalService=s,this.securityService=dt,this.errorService=_t,this.systemClock=en,this.isLoading=!1,this.sortingEnum=z.u,this.filterHasChanged=!1,this.sessionStream=new f.B,this.dateColumn=(Cn,Wn)=>new D.$(Cn,Wn),this.DatePipeNames=V.N,this.dataTableActions=[S.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=g.N,this.deleteModalType=k.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new A.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,o.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[S.AA.Delete],this.activatedRoute.parent.url.pipe((0,e.$)()).subscribe({next:st=>{this.resourceName=st[1]?.path??"",this.initDataSource()},error:st=>this.errorService.handleError(st)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(st=>{this.sortResults(st)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(st=>{this.openDeleteModal(this.pagedResult.results[st])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,w.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,m.Z)(Qe=>(this.isLoading=!0,this.sessionManagementService.getSessions(Qe.query||"",Qe.fromDate?.toString(),Qe.toDate?.toString(),Qe.sortCriteria||"-when",Qe.page,Qe.pageSize,this.resourceOnly())))).subscribe(Qe=>{this.isLoading=!1,this.pagedResult={totalCount:Qe.totalCount,pageSize:Qe.pageSize,currentPage:Qe.currentPage,pageCount:Qe.pageCount,results:Qe.results.map(ne=>new z.j(ne,this.translatedRoute))}})}applyForm(st){st&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const Qe=this.filterForm.value;this.filterForm.patchValue({fromDate:Qe.fromDate,toDate:Qe.toDate}),this.sessionStream.next(Qe),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new E(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(st){this.filterForm.patchValue({page:st}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:B.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(st){this.sessionToDelete=st,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:st=>{this.errorService.handleError(st)}})}sortResults(st){const Qe=this.activatedRoute.snapshot.queryParams,ne=(0,o.gP)(Qe?.fromDate)?this.systemClock.now().minus({month:1}):t.c9.fromISO(Qe.fromDate),Y=(0,o.gP)(Qe?.toDate)?this.systemClock.now().plus({month:1}):t.c9.fromISO(Qe.toDate),he=new u(Qe.query,Qe.page,Qe.pageSize,this.getSortFromColumnName(st.prop,Qe.sortCriteria),ne,Y),ge=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:he.sortCriteria}),this.sessionStream.next(he),this.filterHasChanged=ge,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new E(he)}),this.dataTableService.sortCompletedEvent.next(st.prop)}getSortFromColumnName(st,Qe){switch(st){case"user":return Qe===B.ByUserDescending?B.ByUser:B.ByUserDescending;case"expires":return Qe===B.ByExpiresDescending?B.ByExpires:B.ByExpiresDescending;default:return B.ByExpiresDescending}}setupFilterForm(st){const Qe=(0,o.gP)(st?.fromDate)?this.systemClock.now().minus({month:1}):t.c9.fromISO(st.fromDate),ne=(0,o.gP)(st?.toDate)?this.systemClock.now().plus({month:1}):t.c9.fromISO(st.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[Qe,[o.TO]],toDate:[ne],query:[this.resourceName||""],page:[st?.page||1],pageSize:[st?.pageSize>1e3?1e3:st?.pageSize||25],sortCriteria:[st?.sortCriteria||B.ByExpiresDescending]},{validators:o.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(Qe){return new(Qe||je)(F.rXU(M.f),F.rXU(W.QG),F.rXU(y.Ix),F.rXU(X.ok),F.rXU(y.nX),F.rXU(Z.I),F.rXU(v.B),F.rXU(L.i),F.rXU(Q.I),F.rXU(te.F))}}static{this.\u0275cmp=F.VBU({type:je,selectors:[["app-sessionmanagement"]],standalone:!1,decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Qe,ne){if(1&Qe){const Y=F.RV6();F.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),F.EFF(7),F.nI1(8,"translate"),F.k0s(),F.j41(9,"div"),F.nrm(10,"app-date-time",10),F.DNE(11,rt,3,3,"span",11),F.k0s()()(),F.j41(12,"div",7)(13,"div",8)(14,"label",12),F.EFF(15),F.nI1(16,"translate"),F.k0s(),F.j41(17,"div"),F.nrm(18,"app-date-time",13),F.DNE(19,lt,3,3,"span",14),F.k0s()()(),F.j41(20,"div",15)(21,"div",8)(22,"label",16),F.EFF(23),F.nI1(24,"translate"),F.k0s(),F.j41(25,"div",17)(26,"select",18,0)(28,"option",19),F.EFF(29,"25 "),F.k0s(),F.j41(30,"option",19),F.EFF(31,"50"),F.k0s(),F.j41(32,"option",19),F.EFF(33,"100"),F.k0s()()()()()(),F.DNE(34,vt,8,6,"div",20),F.j41(35,"div",21),F.nrm(36,"input",22,1),F.j41(38,"button",23),F.bIt("click",function(){return F.eBV(Y),F.Njj(ne.applyForm(!0))}),F.EFF(39),F.nI1(40,"translate"),F.k0s(),F.j41(41,"button",24),F.bIt("click",function(){return F.eBV(Y),F.Njj(ne.resetForm())}),F.EFF(42),F.nI1(43,"translate"),F.k0s(),F.DNE(44,Ue,4,3,"p",25),F.k0s()()(),F.DNE(45,Ye,1,0,"app-simple-loader",26)(46,He,4,3,"div",27)(47,Le,6,19,"app-data-table",28)(48,Ve,1,3,"app-pager",29),F.k0s(),F.j41(49,"app-custom-modal",30),F.bIt("onCancel",function(){return F.eBV(Y),F.Njj(ne.closeDeleteModal())})("onDelete",function(){return F.eBV(Y),F.Njj(ne.removeSession())}),F.j41(50,"div",31)(51,"p",32),F.EFF(52),F.nI1(53,"translate"),F.k0s(),F.nrm(54,"p",33),F.nI1(55,"translate"),F.k0s()()}if(2&Qe){let Y;F.R7$(),F.Y8G("formGroup",ne.filterForm),F.R7$(6),F.JRh(F.bMT(8,26,"SessionManagement.Created")),F.R7$(3),F.Y8G("displayType","datetime"),F.R7$(),F.Y8G("ngIf",ne.filterForm.get("fromDate").hasError("dateInFuture")),F.R7$(4),F.JRh(F.bMT(16,28,"SessionManagement.Expires")),F.R7$(3),F.Y8G("displayType","datetime"),F.R7$(),F.Y8G("ngIf",ne.filterForm.hasError("fromDateIsAfterToDate")),F.R7$(4),F.JRh(F.bMT(24,30,"Auditing.ResultsPerPage")),F.R7$(5),F.Y8G("value",25),F.R7$(2),F.Y8G("value",50),F.R7$(2),F.Y8G("value",100),F.R7$(2),F.Y8G("ngIf",!ne.resourceOnly()),F.R7$(4),F.Y8G("disabled",(null==ne.filterForm?null:ne.filterForm.errors)||(null==(Y=ne.filterForm.get("fromDate"))?null:Y.hasError("dateInFuture"))),F.R7$(),F.SpI(" ",F.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),F.R7$(3),F.SpI(" ",F.bMT(43,34,"Auditing.Reset")," "),F.R7$(2),F.Y8G("ngIf",ne.filterHasChanged),F.R7$(),F.Y8G("ngIf",ne.isLoading),F.R7$(),F.Y8G("ngIf",(null==ne.pagedResult?null:ne.pagedResult.results.length)<1&&!ne.isLoading),F.R7$(),F.Y8G("ngIf",(null==ne.pagedResult?null:ne.pagedResult.results.length)>0),F.R7$(),F.Y8G("ngIf",(null==ne.pagedResult?null:ne.pagedResult.results.length)>0&&!ne.isLoading),F.R7$(),F.Y8G("title","Settings.Keys.DeleteKey")("modalId",ne.deleteModalId)("actions",F.eq3(40,We,ne.modelActions.Delete))("modalType",ne.deleteModalType),F.R7$(3),F.JRh(F.bMT(53,36,"Common.Delete.AreYouSureSimple")),F.R7$(2),F.Y8G("innerHTML",F.bMT(55,38,"Common.Delete.Warning"),F.npT)}},dependencies:[N.bT,fe.B,oe.d,X.qT,X.xH,X.y7,X.me,X.wz,X.BC,X.cb,X.j4,X.JD,R.Z,S.up,D.w,Fe.G,we.D9],encapsulation:2})}}return je})()},5302:(ot,ve,l)=>{"use strict";l.d(ve,{PC:()=>w});var t=l(3165),o=l(1360),f=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.headersService=g,this.actionUrl="users/reports",this.headers=this.headersService.setHeaders()}getReports(){return this.http.get(this.actionUrl,{headers:this.headers})}runReport(S,g,k){var z=this.actionUrl+"/"+S;let u=new t.Nl;return g&&(u=u.append("page",String(g))),k&&(u=u.append("pageSize",String(k))),this.http.get(z,{headers:this.headers,params:u})}static{this.\u0275fac=function(g){return new(g||m)(o.KVO(t.Qq),o.KVO(f.m))}}static{this.\u0275prov=o.jDH({token:m,factory:m.\u0275fac})}}return m})()},5312:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>o});const o={authServer:l(1410).y.Duende,production:!0}},5334:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>f});var t=l(1026),o=l(9270);function f(A){o.f.setTimeout(()=>{const{onUnhandledError:e}=t.$;if(!e)throw A;e(A)})}},5343:(ot,ve,l)=>{"use strict";function t(){}l.d(ve,{l:()=>t})},5397:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>f});var t=l(4761),o=l(8071);function f(A){return(0,o.T)(A?.[t.l])}},5404:(ot,ve,l)=>{"use strict";l.d(ve,{V:()=>S});var t=l(467),o=l(1360),f=l(3929),A=l(5794),e=l(8018),w=l(9417),m=l(8698);const D=["fileInput"];let S=(()=>{class g{constructor(z,u,E){this.certPickerService=z,this.toastr=u,this.translate=E,this.metadata="",this.dataExists=new o.bkB}ngOnInit(){}handleFileInput(z){this.fileToUpload=z.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var z=this;return(0,t.A)(function*(){let u="";if(z.fileToUpload){const B=z.fileToUpload.slice(0),V=new FileReader,M=new Promise(function(W,y){V.onloadend=function(){const Z=V.result.split("base64,");W(Z[1])}});V.readAsDataURL(B),u=yield M}else""!==z.metadata&&(u=z.metadata);const E=yield z.tryBuildCertModel(u);return z.resetForm(z),E})()}resetForm(z){z.fileToUpload=null,z.fileInput.nativeElement.value="",z.metadata="",z.dataExists.emit(z.hasData())}tryBuildCertModel(z){var u=this;return(0,t.A)(function*(){let E;try{const B=u.certPickerService.convertStringToArrayBuffer(z);E=yield u.certPickerService.buildCertModelFromArrayBuffer(B,z)}catch(B){throw u.toastr.error(u.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),u.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),B}return E})()}static{this.\u0275fac=function(u){return new(u||g)(o.rXU(f.V),o.rXU(A.tw),o.rXU(e.c$))}}static{this.\u0275cmp=o.VBU({type:g,selectors:[["app-cert-reader"]],viewQuery:function(u,E){if(1&u&&o.GBs(D,7),2&u){let B;o.mGM(B=o.lsd())&&(E.fileInput=B.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},standalone:!1,decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(u,E){if(1&u){const B=o.RV6();o.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),o.bIt("change",function(F){return o.eBV(B),o.Njj(E.handleFileInput(F.target.files))}),o.k0s()()(),o.j41(4,"div",4)(5,"span",5),o.EFF(6),o.nI1(7,"translate"),o.k0s()(),o.j41(8,"app-form-row",1)(9,"textarea",6),o.mxI("ngModelChange",function(F){return o.eBV(B),o.DH7(E.metadata,F)||(E.metadata=F),o.Njj(F)}),o.bIt("keyup",function(){return o.eBV(B),o.Njj(E.metaDataKeyDown())}),o.EFF(10,"  "),o.k0s()()}2&u&&(o.Y8G("id","fileInput")("label",E.uploadCert)("help",E.uploadCertHelp)("isLast",!0),o.R7$(2),o.Y8G("disabled",""!=E.metadata),o.R7$(4),o.JRh(o.bMT(7,12,"Common.Or")),o.R7$(2),o.Y8G("id","metaData")("label",E.certMetaData)("help",E.certMetaDataHelp)("isLast",!0),o.R7$(),o.Y8G("disabled",null!=E.fileToUpload),o.R50("ngModel",E.metadata))},dependencies:[w.me,w.BC,w.vS,m.Y,e.D9],encapsulation:2})}}return g})()},5424:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>S});var t=l(7263),o=l(8284),f=l(9957),A=l(1360),e=l(2947),w=l(5139),m=l(5794),D=l(8018);let S=(()=>{class g{constructor(z,u,E,B){this.router=z,this.localize=u,this.toast=E,this.translate=B}resourceNotFound(z){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+o.v[z])])}handleError(z,u,E){let B=f.I.NotHandled;const V=this.getDefaultNavigationPath(z);if(V){if(!0===u?.forceToast){const F=this.translate.instant("Notifications.SomethingWrong");return E?this.toast.error(z.statusText,F,E):this.toast.error(z.statusText,F),B|=f.I.Toast,B}this.router.navigate([this.localize.translateRoute(V)]),B|=f.I.Navigate}else{const F=this.getOptionsToastBody(z,u)||this.getDefaultToastBody(z),M=this.getOptionsToastTitle(z,u)||this.getDefaultToastTitle(z);F&&M&&(E?this.toast.error(F,M,E):this.toast.error(F,M),B|=f.I.Toast)}return B}getOptionsToastBody(z,u){if(!u)return;const E="number"==typeof z.status&&u.statusToastOptions?u.statusToastOptions[z.status]:u;return E&&E.toastBody}getOptionsToastTitle(z,u){if(!u)return;const E="number"==typeof z.status&&u.statusToastOptions?u.statusToastOptions[z.status]:u;return E&&E.toastTitle}getDefaultNavigationPath(z){switch(z.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(z){switch(z.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(z){return 500===z.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:z.error&&z.error.errors&&z.error.errors.length>0?z.error.errors[0]:(0,t.gP)(z._body)&&(0,t.gP)(z.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,t.gP)(z.error)?z._body:z.error}static{this.\u0275fac=function(u){return new(u||g)(A.KVO(e.Ix),A.KVO(w.QG),A.KVO(m.tw),A.KVO(D.c$))}}static{this.\u0275prov=A.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},5435:(ot,ve,l)=>{"use strict";l.d(ve,{if:()=>g});var t=l(1413),o=l(152),f=l(3294),A=l(5964),e=l(6354);class g{constructor(z,u,E){this.toastr=z,this.translate=u,this.canSearchEmptyString=E,this.searchTerm="",this.searchTermStream=new t.B,this.enterKeyStream=new t.B,this.searchSource=this.searchTermStream.pipe((0,o.B)(600),(0,f.F)(),(0,A.p)(B=>this.filterSearchTerm(B)),(0,e.T)(B=>this.mapSearchTerm(B))),this.enterKeySource=this.enterKeyStream.pipe((0,o.B)(600),(0,A.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,e.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(z){return this.canSearchEmptyString?z.length<50&&1!==z.length:!(z.length<2||z.length>50)&&""!==z.trim()}search(z){"Enter"===z.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},5437:(ot,ve,l)=>{var t=l(6589);ot.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}},5517:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>m});var t=l(1594),o=l(6354),f=l(1360),A=l(3853),e=l(2947),w=l(5139);let m=(()=>{class D{constructor(g,k,z){this.licenseService=g,this.router=k,this.localizeRouter=z}canActivate(g,k){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,o.T)(z=>{if(z.isStarterLicense())return!0;{const u=this.localizeRouter.translateRoute("/home");this.router.navigate([u])}}))}static{this.\u0275fac=function(k){return new(k||D)(f.KVO(A.X),f.KVO(e.Ix),f.KVO(w.QG))}}static{this.\u0275prov=f.jDH({token:D,factory:D.\u0275fac})}}return D})()},5558:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>A});var t=l(8750),o=l(9974),f=l(4360);function A(e,w){return(0,o.N)((m,D)=>{let S=null,g=0,k=!1;const z=()=>k&&!S&&D.complete();m.subscribe((0,f._)(D,u=>{S?.unsubscribe();let E=0;const B=g++;(0,t.Tg)(e(u,B)).subscribe(S=(0,f._)(D,V=>D.next(w?w(u,V,B,E++):V),()=>{S=null,z()}))},()=>{k=!0,z()}))})}},5568:function(ot,ve){!function(l){"use strict";function t(){for(var wt=arguments.length,Tt=Array(wt),xt=0;xt<wt;xt++)Tt[xt]=arguments[xt];if(Tt.length>1){Tt[0]=Tt[0].slice(0,-1);for(var Wt=Tt.length-1,un=1;un<Wt;++un)Tt[un]=Tt[un].slice(1,-1);return Tt[Wt]=Tt[Wt].slice(1),Tt.join("")}return Tt[0]}function o(wt){return"(?:"+wt+")"}function f(wt){return void 0===wt?"undefined":null===wt?"null":Object.prototype.toString.call(wt).split(" ").pop().split("]").shift().toLowerCase()}function A(wt){return wt.toUpperCase()}function m(wt){var Tt="[A-Za-z]",Wt="[0-9]",ii=t(Wt,"[A-Fa-f]"),Ti=o(o("%[EFef]"+ii+"%"+ii+ii+"%"+ii+ii)+"|"+o("%[89A-Fa-f]"+ii+"%"+ii+ii)+"|"+o("%"+ii+ii)),Vi="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ji=t("[\\:\\/\\?\\#\\[\\]\\@]",Vi),ls=wt?"[\\uE000-\\uF8FF]":"[]",ut=t(Tt,Wt,"[\\-\\.\\_\\~]",wt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Rt=o(Tt+t(Tt,Wt,"[\\+\\-\\.]")+"*"),yt=o(o(Ti+"|"+t(ut,Vi,"[\\:]"))+"*"),Vn=(o(o("25[0-5]")+"|"+o("2[0-4]"+Wt)+"|"+o("1"+Wt+Wt)+"|"+o("[1-9]"+Wt)+"|"+Wt),o(o("25[0-5]")+"|"+o("2[0-4]"+Wt)+"|"+o("1"+Wt+Wt)+"|"+o("0?[1-9]"+Wt)+"|0?0?"+Wt)),ln=o(Vn+"\\."+Vn+"\\."+Vn+"\\."+Vn),Xn=o(ii+"{1,4}"),qn=o(o(Xn+"\\:"+Xn)+"|"+ln),Ht=o(o(Xn+"\\:")+"{6}"+qn),oi=o("\\:\\:"+o(Xn+"\\:")+"{5}"+qn),Xt=o(o(Xn)+"?\\:\\:"+o(Xn+"\\:")+"{4}"+qn),Un=o(o(o(Xn+"\\:")+"{0,1}"+Xn)+"?\\:\\:"+o(Xn+"\\:")+"{3}"+qn),fn=o(o(o(Xn+"\\:")+"{0,2}"+Xn)+"?\\:\\:"+o(Xn+"\\:")+"{2}"+qn),Qn=o(o(o(Xn+"\\:")+"{0,3}"+Xn)+"?\\:\\:"+Xn+"\\:"+qn),vi=o(o(o(Xn+"\\:")+"{0,4}"+Xn)+"?\\:\\:"+qn),Be=o(o(o(Xn+"\\:")+"{0,5}"+Xn)+"?\\:\\:"+Xn),Ze=o(o(o(Xn+"\\:")+"{0,6}"+Xn)+"?\\:\\:"),ht=o([Ht,oi,Xt,Un,fn,Qn,vi,Be,Ze].join("|")),jt=o(o(ut+"|"+Ti)+"+"),Mn=(o(ht+"\\%25"+jt),o(ht+o("\\%25|\\%(?!"+ii+"{2})")+jt)),hi=o("[vV]"+ii+"+\\."+t(ut,Vi,"[\\:]")+"+"),ri=o("\\["+o(Mn+"|"+ht+"|"+hi)+"\\]"),Nn=o(o(Ti+"|"+t(ut,Vi))+"*"),Ki=o(ri+"|"+ln+"(?!"+Nn+")|"+Nn),Ji=o(Wt+"*"),Ms=o(o(yt+"@")+"?"+Ki+o("\\:"+Ji)+"?"),$t=o(Ti+"|"+t(ut,Vi,"[\\:\\@]")),Ai=o($t+"*"),Et=o($t+"+"),yn=o(o(Ti+"|"+t(ut,Vi,"[\\@]"))+"+"),Yt=o(o("\\/"+Ai)+"*"),Fn=o("\\/"+o(Et+Yt)+"?"),Qi=o(yn+Yt),Bt=o(Et+Yt),ue="(?!"+$t+")",ae=(o(Yt+"|"+Fn+"|"+Qi+"|"+Bt+"|"+ue),o(o($t+"|"+t("[\\/\\?]",ls))+"*")),Ce=o(o($t+"|[\\/\\?]")+"*"),Pe=o(o("\\/\\/"+Ms+Yt)+"|"+Fn+"|"+Bt+"|"+ue),At=o(Rt+"\\:"+Pe+o("\\?"+ae)+"?"+o("\\#"+Ce)+"?"),pn=o(o("\\/\\/"+Ms+Yt)+"|"+Fn+"|"+Qi+"|"+ue),Bn=o(pn+o("\\?"+ae)+"?"+o("\\#"+Ce)+"?");return o(At+"|"+Bn),o(Rt+"\\:"+Pe+o("\\?"+ae)+"?"),o(o("\\/\\/("+o("("+yt+")@")+"?("+Ki+")"+o("\\:("+Ji+")")+"?)")+"?("+Yt+"|"+Fn+"|"+Bt+"|"+ue+")"),o("\\?("+ae+")"),o("\\#("+Ce+")"),o(o("\\/\\/("+o("("+yt+")@")+"?("+Ki+")"+o("\\:("+Ji+")")+"?)")+"?("+Yt+"|"+Fn+"|"+Qi+"|"+ue+")"),o("\\?("+ae+")"),o("\\#("+Ce+")"),o(o("\\/\\/("+o("("+yt+")@")+"?("+Ki+")"+o("\\:("+Ji+")")+"?)")+"?("+Yt+"|"+Fn+"|"+Bt+"|"+ue+")"),o("\\?("+ae+")"),o("\\#("+Ce+")"),o("("+yt+")@"),o("\\:("+Ji+")"),{NOT_SCHEME:new RegExp(t("[^]",Tt,Wt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",ut,Vi),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",ut,Vi),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",ut,Vi),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",ut,Vi),"g"),NOT_QUERY:new RegExp(t("[^\\%]",ut,Vi,"[\\:\\@\\/\\?]",ls),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",ut,Vi,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",ut,Vi),"g"),UNRESERVED:new RegExp(ut,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",ut,ji),"g"),PCT_ENCODED:new RegExp(Ti,"g"),IPV4ADDRESS:new RegExp("^("+ln+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ht+")"+o(o("\\%25|\\%(?!"+ii+"{2})")+"("+jt+")")+"?\\]?$")}}var D=m(!1),S=m(!0),g=function(){return function(Tt,xt){if(Array.isArray(Tt))return Tt;if(Symbol.iterator in Object(Tt))return function wt(Tt,xt){var Wt=[],un=!0,ii=!1,Ei=void 0;try{for(var Ti,Ii=Tt[Symbol.iterator]();!(un=(Ti=Ii.next()).done)&&(Wt.push(Ti.value),!xt||Wt.length!==xt);un=!0);}catch(Dn){ii=!0,Ei=Dn}finally{try{!un&&Ii.return&&Ii.return()}finally{if(ii)throw Ei}}return Wt}(Tt,xt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),z=2147483647,u=36,X=/^xn--/,Z=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,N=String.fromCharCode;function fe(wt){throw new RangeError(L[wt])}function R(wt,Tt){var xt=wt.split("@"),Wt="";return xt.length>1&&(Wt=xt[0]+"@",wt=xt[1]),Wt+function oe(wt,Tt){for(var xt=[],Wt=wt.length;Wt--;)xt[Wt]=Tt(wt[Wt]);return xt}((wt=wt.replace(v,".")).split("."),Tt).join(".")}function Fe(wt){for(var Tt=[],xt=0,Wt=wt.length;xt<Wt;){var un=wt.charCodeAt(xt++);if(un>=55296&&un<=56319&&xt<Wt){var ii=wt.charCodeAt(xt++);56320==(64512&ii)?Tt.push(((1023&un)<<10)+(1023&ii)+65536):(Tt.push(un),xt--)}else Tt.push(un)}return Tt}var We=function(Tt){return Tt-48<10?Tt-22:Tt-65<26?Tt-65:Tt-97<26?Tt-97:u},rt=function(Tt,xt){return Tt+22+75*(Tt<26)-((0!=xt)<<5)},lt=function(Tt,xt,Wt){var un=0;for(Tt=Wt?te(Tt/700):Tt>>1,Tt+=te(Tt/xt);Tt>455;un+=u)Tt=te(Tt/35);return te(un+36*Tt/(Tt+38))},vt=function(Tt){var xt=[],Wt=Tt.length,un=0,ii=128,Ei=72,Ii=Tt.lastIndexOf("-");Ii<0&&(Ii=0);for(var Ti=0;Ti<Ii;++Ti)Tt.charCodeAt(Ti)>=128&&fe("not-basic"),xt.push(Tt.charCodeAt(Ti));for(var Dn=Ii>0?Ii+1:0;Dn<Wt;){for(var Vi=un,ji=1,zi=u;;zi+=u){Dn>=Wt&&fe("invalid-input");var ls=We(Tt.charCodeAt(Dn++));(ls>=u||ls>te((z-un)/ji))&&fe("overflow"),un+=ls*ji;var ut=zi<=Ei?1:zi>=Ei+26?26:zi-Ei;if(ls<ut)break;var Rt=u-ut;ji>te(z/Rt)&&fe("overflow"),ji*=Rt}var yt=xt.length+1;Ei=lt(un-Vi,yt,0==Vi),te(un/yt)>z-ii&&fe("overflow"),ii+=te(un/yt),un%=yt,xt.splice(un++,0,ii)}return String.fromCodePoint.apply(String,xt)},Ue=function(Tt){var xt=[],Wt=(Tt=Fe(Tt)).length,un=128,ii=0,Ei=72,Ii=!0,Ti=!1,Dn=void 0;try{for(var ji,Vi=Tt[Symbol.iterator]();!(Ii=(ji=Vi.next()).done);Ii=!0){var zi=ji.value;zi<128&&xt.push(N(zi))}}catch(Mn){Ti=!0,Dn=Mn}finally{try{!Ii&&Vi.return&&Vi.return()}finally{if(Ti)throw Dn}}var ls=xt.length,ut=ls;for(ls&&xt.push("-");ut<Wt;){var Rt=z,yt=!0,nn=!1,Vn=void 0;try{for(var Xn,ln=Tt[Symbol.iterator]();!(yt=(Xn=ln.next()).done);yt=!0){var qn=Xn.value;qn>=un&&qn<Rt&&(Rt=qn)}}catch(Mn){nn=!0,Vn=Mn}finally{try{!yt&&ln.return&&ln.return()}finally{if(nn)throw Vn}}var Ht=ut+1;Rt-un>te((z-ii)/Ht)&&fe("overflow"),ii+=(Rt-un)*Ht,un=Rt;var oi=!0,Xt=!1,Un=void 0;try{for(var Qn,fn=Tt[Symbol.iterator]();!(oi=(Qn=fn.next()).done);oi=!0){var vi=Qn.value;if(vi<un&&++ii>z&&fe("overflow"),vi==un){for(var Be=ii,Ze=u;;Ze+=u){var ht=Ze<=Ei?1:Ze>=Ei+26?26:Ze-Ei;if(Be<ht)break;var jt=Be-ht,Jt=u-ht;xt.push(N(rt(ht+jt%Jt,0))),Be=te(jt/Jt)}xt.push(N(rt(Be,0))),Ei=lt(ii,Ht,ut==ls),ii=0,++ut}}}catch(Mn){Xt=!0,Un=Mn}finally{try{!oi&&fn.return&&fn.return()}finally{if(Xt)throw Un}}++ii,++un}return xt.join("")},it_toASCII=function(Tt){return R(Tt,function(xt){return Z.test(xt)?"xn--"+Ue(xt):xt})},it_toUnicode=function(Tt){return R(Tt,function(xt){return X.test(xt)?vt(xt.slice(4).toLowerCase()):xt})},Le={};function Ve(wt){var Tt=wt.charCodeAt(0);return Tt<16?"%0"+Tt.toString(16).toUpperCase():Tt<128?"%"+Tt.toString(16).toUpperCase():Tt<2048?"%"+(Tt>>6|192).toString(16).toUpperCase()+"%"+(63&Tt|128).toString(16).toUpperCase():"%"+(Tt>>12|224).toString(16).toUpperCase()+"%"+(Tt>>6&63|128).toString(16).toUpperCase()+"%"+(63&Tt|128).toString(16).toUpperCase()}function Xe(wt){for(var Tt="",xt=0,Wt=wt.length;xt<Wt;){var un=parseInt(wt.substr(xt+1,2),16);if(un<128)Tt+=String.fromCharCode(un),xt+=3;else if(un>=194&&un<224){if(Wt-xt>=6){var ii=parseInt(wt.substr(xt+4,2),16);Tt+=String.fromCharCode((31&un)<<6|63&ii)}else Tt+=wt.substr(xt,6);xt+=6}else if(un>=224){if(Wt-xt>=9){var Ei=parseInt(wt.substr(xt+4,2),16),Ii=parseInt(wt.substr(xt+7,2),16);Tt+=String.fromCharCode((15&un)<<12|(63&Ei)<<6|63&Ii)}else Tt+=wt.substr(xt,9);xt+=9}else Tt+=wt.substr(xt,3),xt+=3}return Tt}function je(wt,Tt){function xt(Wt){var un=Xe(Wt);return un.match(Tt.UNRESERVED)?un:Wt}return wt.scheme&&(wt.scheme=String(wt.scheme).replace(Tt.PCT_ENCODED,xt).toLowerCase().replace(Tt.NOT_SCHEME,"")),void 0!==wt.userinfo&&(wt.userinfo=String(wt.userinfo).replace(Tt.PCT_ENCODED,xt).replace(Tt.NOT_USERINFO,Ve).replace(Tt.PCT_ENCODED,A)),void 0!==wt.host&&(wt.host=String(wt.host).replace(Tt.PCT_ENCODED,xt).toLowerCase().replace(Tt.NOT_HOST,Ve).replace(Tt.PCT_ENCODED,A)),void 0!==wt.path&&(wt.path=String(wt.path).replace(Tt.PCT_ENCODED,xt).replace(wt.scheme?Tt.NOT_PATH:Tt.NOT_PATH_NOSCHEME,Ve).replace(Tt.PCT_ENCODED,A)),void 0!==wt.query&&(wt.query=String(wt.query).replace(Tt.PCT_ENCODED,xt).replace(Tt.NOT_QUERY,Ve).replace(Tt.PCT_ENCODED,A)),void 0!==wt.fragment&&(wt.fragment=String(wt.fragment).replace(Tt.PCT_ENCODED,xt).replace(Tt.NOT_FRAGMENT,Ve).replace(Tt.PCT_ENCODED,A)),wt}function ct(wt){return wt.replace(/^0*(.*)/,"$1")||"0"}function st(wt,Tt){var xt=wt.match(Tt.IPV4ADDRESS)||[],un=g(xt,2)[1];return un?un.split(".").map(ct).join("."):wt}function Qe(wt,Tt){var xt=wt.match(Tt.IPV6ADDRESS)||[],Wt=g(xt,3),un=Wt[1],ii=Wt[2];if(un){for(var Ei=un.toLowerCase().split("::").reverse(),Ii=g(Ei,2),Ti=Ii[0],Dn=Ii[1],Vi=Dn?Dn.split(":").map(ct):[],ji=Ti.split(":").map(ct),zi=Tt.IPV4ADDRESS.test(ji[ji.length-1]),ls=zi?7:8,ut=ji.length-ls,Rt=Array(ls),yt=0;yt<ls;++yt)Rt[yt]=Vi[yt]||ji[ut+yt]||"";zi&&(Rt[ls-1]=st(Rt[ls-1],Tt));var Vn=Rt.reduce(function(Ht,oi,Xt){if(!oi||"0"===oi){var Un=Ht[Ht.length-1];Un&&Un.index+Un.length===Xt?Un.length++:Ht.push({index:Xt,length:1})}return Ht},[]).sort(function(Ht,oi){return oi.length-Ht.length})[0],ln=void 0;if(Vn&&Vn.length>1){var Xn=Rt.slice(0,Vn.index),qn=Rt.slice(Vn.index+Vn.length);ln=Xn.join(":")+"::"+qn.join(":")}else ln=Rt.join(":");return ii&&(ln+="%"+ii),ln}return wt}var ne=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function he(wt){var Tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xt={},Wt=!1!==Tt.iri?S:D;"suffix"===Tt.reference&&(wt=(Tt.scheme?Tt.scheme+":":"")+"//"+wt);var un=wt.match(ne);if(un){Y?(xt.scheme=un[1],xt.userinfo=un[3],xt.host=un[4],xt.port=parseInt(un[5],10),xt.path=un[6]||"",xt.query=un[7],xt.fragment=un[8],isNaN(xt.port)&&(xt.port=un[5])):(xt.scheme=un[1]||void 0,xt.userinfo=-1!==wt.indexOf("@")?un[3]:void 0,xt.host=-1!==wt.indexOf("//")?un[4]:void 0,xt.port=parseInt(un[5],10),xt.path=un[6]||"",xt.query=-1!==wt.indexOf("?")?un[7]:void 0,xt.fragment=-1!==wt.indexOf("#")?un[8]:void 0,isNaN(xt.port)&&(xt.port=wt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?un[4]:void 0)),xt.host&&(xt.host=Qe(st(xt.host,Wt),Wt)),xt.reference=void 0!==xt.scheme||void 0!==xt.userinfo||void 0!==xt.host||void 0!==xt.port||xt.path||void 0!==xt.query?void 0===xt.scheme?"relative":void 0===xt.fragment?"absolute":"uri":"same-document",Tt.reference&&"suffix"!==Tt.reference&&Tt.reference!==xt.reference&&(xt.error=xt.error||"URI is not a "+Tt.reference+" reference.");var ii=Le[(Tt.scheme||xt.scheme||"").toLowerCase()];if(Tt.unicodeSupport||ii&&ii.unicodeSupport)je(xt,Wt);else{if(xt.host&&(Tt.domainHost||ii&&ii.domainHost))try{xt.host=it_toASCII(xt.host.replace(Wt.PCT_ENCODED,Xe).toLowerCase())}catch(Ei){xt.error=xt.error||"Host's domain name can not be converted to ASCII via punycode: "+Ei}je(xt,D)}ii&&ii.parse&&ii.parse(xt,Tt)}else xt.error=xt.error||"URI can not be parsed.";return xt}var s=/^\.\.?\//,dt=/^\/\.(\/|$)/,_t=/^\/\.\.(\/|$)/,en=/^\/?(?:.|\n)*?(?=\/|$)/;function Cn(wt){for(var Tt=[];wt.length;)if(wt.match(s))wt=wt.replace(s,"");else if(wt.match(dt))wt=wt.replace(dt,"/");else if(wt.match(_t))wt=wt.replace(_t,"/"),Tt.pop();else if("."===wt||".."===wt)wt="";else{var xt=wt.match(en);if(!xt)throw new Error("Unexpected dot segment condition");var Wt=xt[0];wt=wt.slice(Wt.length),Tt.push(Wt)}return Tt.join("")}function Wn(wt){var Tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xt=Tt.iri?S:D,Wt=[],un=Le[(Tt.scheme||wt.scheme||"").toLowerCase()];if(un&&un.serialize&&un.serialize(wt,Tt),wt.host&&!xt.IPV6ADDRESS.test(wt.host)&&(Tt.domainHost||un&&un.domainHost))try{wt.host=Tt.iri?it_toUnicode(wt.host):it_toASCII(wt.host.replace(xt.PCT_ENCODED,Xe).toLowerCase())}catch(Ii){wt.error=wt.error||"Host's domain name can not be converted to "+(Tt.iri?"Unicode":"ASCII")+" via punycode: "+Ii}je(wt,xt),"suffix"!==Tt.reference&&wt.scheme&&(Wt.push(wt.scheme),Wt.push(":"));var ii=function ge(wt,Tt){var xt=!1!==Tt.iri?S:D,Wt=[];return void 0!==wt.userinfo&&(Wt.push(wt.userinfo),Wt.push("@")),void 0!==wt.host&&Wt.push(Qe(st(String(wt.host),xt),xt).replace(xt.IPV6ADDRESS,function(un,ii,Ei){return"["+ii+(Ei?"%25"+Ei:"")+"]"})),("number"==typeof wt.port||"string"==typeof wt.port)&&(Wt.push(":"),Wt.push(String(wt.port))),Wt.length?Wt.join(""):void 0}(wt,Tt);if(void 0!==ii&&("suffix"!==Tt.reference&&Wt.push("//"),Wt.push(ii),wt.path&&"/"!==wt.path.charAt(0)&&Wt.push("/")),void 0!==wt.path){var Ei=wt.path;!Tt.absolutePath&&(!un||!un.absolutePath)&&(Ei=Cn(Ei)),void 0===ii&&(Ei=Ei.replace(/^\/\//,"/%2F")),Wt.push(Ei)}return void 0!==wt.query&&(Wt.push("?"),Wt.push(wt.query)),void 0!==wt.fragment&&(Wt.push("#"),Wt.push(wt.fragment)),Wt.join("")}function tn(wt,Tt){var xt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},un={};return arguments[3]||(wt=he(Wn(wt,xt),xt),Tt=he(Wn(Tt,xt),xt)),!(xt=xt||{}).tolerant&&Tt.scheme?(un.scheme=Tt.scheme,un.userinfo=Tt.userinfo,un.host=Tt.host,un.port=Tt.port,un.path=Cn(Tt.path||""),un.query=Tt.query):(void 0!==Tt.userinfo||void 0!==Tt.host||void 0!==Tt.port?(un.userinfo=Tt.userinfo,un.host=Tt.host,un.port=Tt.port,un.path=Cn(Tt.path||""),un.query=Tt.query):(Tt.path?("/"===Tt.path.charAt(0)?un.path=Cn(Tt.path):(un.path=void 0===wt.userinfo&&void 0===wt.host&&void 0===wt.port||wt.path?wt.path?wt.path.slice(0,wt.path.lastIndexOf("/")+1)+Tt.path:Tt.path:"/"+Tt.path,un.path=Cn(un.path)),un.query=Tt.query):(un.path=wt.path,un.query=void 0!==Tt.query?Tt.query:wt.query),un.userinfo=wt.userinfo,un.host=wt.host,un.port=wt.port),un.scheme=wt.scheme),un.fragment=Tt.fragment,un}function pe(wt,Tt){return wt&&wt.toString().replace(Tt&&Tt.iri?S.PCT_ENCODED:D.PCT_ENCODED,Xe)}var de={scheme:"http",domainHost:!0,parse:function(Tt,xt){return Tt.host||(Tt.error=Tt.error||"HTTP URIs must have a host."),Tt},serialize:function(Tt,xt){var Wt="https"===String(Tt.scheme).toLowerCase();return(Tt.port===(Wt?443:80)||""===Tt.port)&&(Tt.port=void 0),Tt.path||(Tt.path="/"),Tt}},P={scheme:"https",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize};function q(wt){return"boolean"==typeof wt.secure?wt.secure:"wss"===String(wt.scheme).toLowerCase()}var Ne={scheme:"ws",domainHost:!0,parse:function(Tt,xt){var Wt=Tt;return Wt.secure=q(Wt),Wt.resourceName=(Wt.path||"/")+(Wt.query?"?"+Wt.query:""),Wt.path=void 0,Wt.query=void 0,Wt},serialize:function(Tt,xt){if((Tt.port===(q(Tt)?443:80)||""===Tt.port)&&(Tt.port=void 0),"boolean"==typeof Tt.secure&&(Tt.scheme=Tt.secure?"wss":"ws",Tt.secure=void 0),Tt.resourceName){var Wt=Tt.resourceName.split("?"),un=g(Wt,2),ii=un[0],Ei=un[1];Tt.path=ii&&"/"!==ii?ii:void 0,Tt.query=Ei,Tt.resourceName=void 0}return Tt.fragment=void 0,Tt}},De={scheme:"wss",domainHost:Ne.domainHost,parse:Ne.parse,serialize:Ne.serialize},et={},Kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",sn="[0-9A-Fa-f]",Rn=o(o("%[EFef]"+sn+"%"+sn+sn+"%"+sn+sn)+"|"+o("%[89A-Fa-f]"+sn+"%"+sn+sn)+"|"+o("%"+sn+sn)),Ot=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Zt=new RegExp(Kt,"g"),Tn=new RegExp(Rn,"g"),In=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Ot),"g"),rs=new RegExp(t("[^]",Kt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),_i=rs;function Bi(wt){var Tt=Xe(wt);return Tt.match(Zt)?Tt:wt}var Ni={scheme:"mailto",parse:function(Tt,xt){var Wt=Tt,un=Wt.to=Wt.path?Wt.path.split(","):[];if(Wt.path=void 0,Wt.query){for(var ii=!1,Ei={},Ii=Wt.query.split("&"),Ti=0,Dn=Ii.length;Ti<Dn;++Ti){var Vi=Ii[Ti].split("=");switch(Vi[0]){case"to":for(var ji=Vi[1].split(","),zi=0,ls=ji.length;zi<ls;++zi)un.push(ji[zi]);break;case"subject":Wt.subject=pe(Vi[1],xt);break;case"body":Wt.body=pe(Vi[1],xt);break;default:ii=!0,Ei[pe(Vi[0],xt)]=pe(Vi[1],xt)}}ii&&(Wt.headers=Ei)}Wt.query=void 0;for(var ut=0,Rt=un.length;ut<Rt;++ut){var yt=un[ut].split("@");if(yt[0]=pe(yt[0]),xt.unicodeSupport)yt[1]=pe(yt[1],xt).toLowerCase();else try{yt[1]=it_toASCII(pe(yt[1],xt).toLowerCase())}catch(nn){Wt.error=Wt.error||"Email address's domain name can not be converted to ASCII via punycode: "+nn}un[ut]=yt.join("@")}return Wt},serialize:function(Tt,xt){var Wt=Tt,un=function e(wt){return null!=wt?wt instanceof Array?wt:"number"!=typeof wt.length||wt.split||wt.setInterval||wt.call?[wt]:Array.prototype.slice.call(wt):[]}(Tt.to);if(un){for(var ii=0,Ei=un.length;ii<Ei;++ii){var Ii=String(un[ii]),Ti=Ii.lastIndexOf("@"),Dn=Ii.slice(0,Ti).replace(Tn,Bi).replace(Tn,A).replace(In,Ve),Vi=Ii.slice(Ti+1);try{Vi=xt.iri?it_toUnicode(Vi):it_toASCII(pe(Vi,xt).toLowerCase())}catch(ut){Wt.error=Wt.error||"Email address's domain name can not be converted to "+(xt.iri?"Unicode":"ASCII")+" via punycode: "+ut}un[ii]=Dn+"@"+Vi}Wt.path=un.join(",")}var ji=Tt.headers=Tt.headers||{};Tt.subject&&(ji.subject=Tt.subject),Tt.body&&(ji.body=Tt.body);var zi=[];for(var ls in ji)ji[ls]!==et[ls]&&zi.push(ls.replace(Tn,Bi).replace(Tn,A).replace(rs,Ve)+"="+ji[ls].replace(Tn,Bi).replace(Tn,A).replace(_i,Ve));return zi.length&&(Wt.query=zi.join("&")),Wt}},os=/^([^\:]+)\:(.*)/,zn={scheme:"urn",parse:function(Tt,xt){var Wt=Tt.path&&Tt.path.match(os),un=Tt;if(Wt){var ii=xt.scheme||un.scheme||"urn",Ei=Wt[1].toLowerCase(),Ii=Wt[2],Dn=Le[ii+":"+(xt.nid||Ei)];un.nid=Ei,un.nss=Ii,un.path=void 0,Dn&&(un=Dn.parse(un,xt))}else un.error=un.error||"URN can not be parsed.";return un},serialize:function(Tt,xt){var un=Tt.nid,Ei=Le[(xt.scheme||Tt.scheme||"urn")+":"+(xt.nid||un)];Ei&&(Tt=Ei.serialize(Tt,xt));var Ii=Tt;return Ii.path=(un||xt.nid)+":"+Tt.nss,Ii}},fs=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xi={scheme:"urn:uuid",parse:function(Tt,xt){var Wt=Tt;return Wt.uuid=Wt.nss,Wt.nss=void 0,!xt.tolerant&&(!Wt.uuid||!Wt.uuid.match(fs))&&(Wt.error=Wt.error||"UUID is not valid."),Wt},serialize:function(Tt,xt){var Wt=Tt;return Wt.nss=(Tt.uuid||"").toLowerCase(),Wt}};Le[de.scheme]=de,Le[P.scheme]=P,Le[Ne.scheme]=Ne,Le[De.scheme]=De,Le[Ni.scheme]=Ni,Le[zn.scheme]=zn,Le[xi.scheme]=xi,l.SCHEMES=Le,l.pctEncChar=Ve,l.pctDecChars=Xe,l.parse=he,l.removeDotSegments=Cn,l.serialize=Wn,l.resolveComponents=tn,l.resolve=function Ln(wt,Tt,xt){var Wt=function w(wt,Tt){var xt=wt;if(Tt)for(var Wt in Tt)xt[Wt]=Tt[Wt];return xt}({scheme:"null"},xt);return Wn(tn(he(wt,Wt),he(Tt,Wt),Wt,!0),Wt)},l.normalize=function ni(wt,Tt){return"string"==typeof wt?wt=Wn(he(wt,Tt),Tt):"object"===f(wt)&&(wt=he(Wn(wt,Tt),Tt)),wt},l.equal=function ft(wt,Tt,xt){return"string"==typeof wt?wt=Wn(he(wt,xt),xt):"object"===f(wt)&&(wt=Wn(wt,xt)),"string"==typeof Tt?Tt=Wn(he(Tt,xt),xt):"object"===f(Tt)&&(Tt=Wn(Tt,xt)),wt===Tt},l.escapeComponent=function Qt(wt,Tt){return wt&&wt.toString().replace(Tt&&Tt.iri?S.ESCAPE:D.ESCAPE,Ve)},l.unescapeComponent=pe,Object.defineProperty(l,"__esModule",{value:!0})}(ve)},5586:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>f});var t=l(2771),o=l(1360);let f=(()=>{class A{constructor(){this.cachedClaimTypes=new t.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(w){this.cachedClaimTypes.next(w)}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},5602:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>S});var t=l(3165),o=l(2771),f=l(7673),A=l(6354),e=l(9437),w=l(7263),m=l(1360),D=l(9564);let S=(()=>{class k{constructor(u,E){this.http=u,this.headersService=E,this.userSubject=new o.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,A.T)(()=>!0),(0,e.W)(E=>(0,f.of)(!1)))}getUser(u){return this.http.get(`${this.actionUrl}/${u}`,{headers:this.headers}).pipe((0,A.T)(B=>(this.userSubject.next(B),B),B=>(this.userSubject.error(B),B)))}setCachedUser(u){this.userSubject.next(u)}getCachedUser(){return this.userSubject}getUsers(u,E,B,V,F){let M=new t.Nl;return(0,w.gP)(u)||(M=M.append("q",u)),E&&(M=M.append("page",String(E))),B&&(M=M.append("pageSize",String(B))),V&&(M=M.append("state",V.toString())),F&&(M=M.append("sort",F.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:M})}getUsersLightweight(u,E,B,V,F){let M=new t.Nl;return(0,w.gP)(u)||(M=M.append("q",u)),E&&(M=M.append("page",String(E))),B&&(M=M.append("pageSize",String(B))),V&&(M=M.append("state",V.toString())),F&&(M=M.append("advancedFilters",F.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:M})}addUser(u){const E=`${this.actionUrl}/`,B=JSON.stringify(u);return this.http.post(E,B,{headers:this.headers,observe:"response"})}addInitialAdministrator(u){const E=`${this.actionUrl}/initialadmin`,B=JSON.stringify(u);return this.http.post(E,B,{headers:this.headers,observe:"response"})}getUserApps(u){return this.http.get(`${this.actionUrl}/${u}/apps`,{headers:this.headers})}revokeAllUserApps(u){return this.http.delete(`${this.actionUrl}/${u}/apps`,{headers:this.headers})}revokeSingleUserApp(u,E){return this.http.delete(`${this.actionUrl}/${u}/apps/${E}`,{headers:this.headers})}updateUser(u){const E=`${this.actionUrl}/${u.subject}`,B=JSON.stringify(u);return this.http.put(E,B,{headers:this.headers})}deleteUser(u){return this.http.delete(`${this.actionUrl}/${u.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(u,E){return this.http.post(`${this.actionUrl}/${u}/roles`,E,{headers:this.headers})}deleteUserRoles(u,E){return this.http.request("delete",`${this.actionUrl}/${u}/roles`,{headers:this.headers,body:E})}addUserClaim(u,E){return this.http.post(`${this.actionUrl}/${u}/claims`,E,{headers:this.headers})}updateUserClaim(u,E){return this.http.put(`${this.actionUrl}/${u}/claims`,E,{headers:this.headers})}deleteUserClaim(u,E){return this.http.request("delete",`${this.actionUrl}/${u}/claims`,{headers:this.headers,body:E})}resetPassword(u){return this.http.get(`${this.actionUrl}/${u}/password/reset`,{headers:this.headers})}resetMfa(u){return this.http.get(`${this.actionUrl}/${u}/mfa/reset`,{headers:this.headers})}getUserLogins(u){return this.http.get(`${this.actionUrl}/${u}/logins`,{headers:this.headers})}revokeUserLogin(u,E){return this.http.request("delete",`${this.actionUrl}/${u}/logins`,{headers:this.headers,body:E})}getLightweightUsersAndIfInRole(u,E,B,V,F){let M=new t.Nl;E&&(M=M.append("state",E.toString()));const W=`${this.actionUrl}/lightweight/isinrole/${u}`;return(0,w.gP)(B)||(M=M.append("searchTerm",B)),V&&(M=M.append("page",String(V))),F&&(M=M.append("pageSize",String(F))),this.http.get(W,{headers:this.headers,params:M})}MergeUser(u,E,B,V){return this.http.request("post",`${this.actionUrl}/${u}/merge`,{headers:this.headers,body:{destinationUserId:E,claimMergeActions:B,deleteAfterMerge:V}})}static{this.\u0275fac=function(E){return new(E||k)(m.KVO(t.Qq),m.KVO(D.m))}}static{this.\u0275prov=m.jDH({token:k,factory:k.\u0275fac})}}return k})()},5615:(ot,ve,l)=>{"use strict";l.d(ve,{J:()=>X,r:()=>y});var t=l(1924),o=l(9838),f=l(1360),A=l(9417),e=l(2947),w=l(9262),m=l(345),D=l(5893),S=l(526),g=l(8018),k=l(5586),z=l(8434),u=l(3680),E=l(5139);const B=(Z,v)=>({title:Z,link:v}),V=Z=>[Z],F=()=>["active"];function M(Z,v){1&Z&&(f.j41(0,"span",21),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Z&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Common.Disabled")," "))}function W(Z,v){1&Z&&(f.j41(0,"div",22),f.nrm(1,"router-outlet"),f.k0s())}function y(){return Object.assign(new t.P0,{closeOthers:!0})}let X=(()=>{class Z{constructor(L,Q,te,N,fe,oe,R,Fe){this.fb=L,this.route=Q,this.router=te,this.titleService=N,this.protectedResourceService=fe,this.claimTypesService=oe,this.translate=R,this.scopesClaimService=Fe}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(L=>{this.protectedResource=L;const Q=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+o.$9.SITE_TITLE;this.titleService.setTitle(Q)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:L=>{this.scopesClaimService.setClaimTypes(L)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(L){this.router.navigate([L],{relativeTo:this.route})}static{this.\u0275fac=function(Q){return new(Q||Z)(f.rXU(A.ze),f.rXU(e.nX),f.rXU(e.Ix),f.rXU(m.hE),f.rXU(D.x),f.rXU(S.X),f.rXU(g.c$),f.rXU(k.N))}}static{this.\u0275cmp=f.VBU({type:Z,selectors:[["app-view-protectedresource"]],standalone:!1,features:[f.Jv_([{provide:t.P0,useFactory:y}])],decls:53,vars:65,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","viewProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(Q,te){1&Q&&(f.j41(0,"app-title-bar",0),f.nI1(1,"translate"),f.nI1(2,"localize"),f.qex(3,1),f.j41(4,"div",2)(5,"label",3),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.j41(8,"div",4)(9,"select",5),f.bIt("change",function(fe){return te.mobRoute(fe.target.value)}),f.j41(10,"option",6),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"option",6),f.EFF(14),f.nI1(15,"translate"),f.k0s(),f.j41(16,"option",7),f.EFF(17),f.nI1(18,"translate"),f.k0s(),f.j41(19,"option",8),f.EFF(20),f.nI1(21,"translate"),f.k0s(),f.j41(22,"option",9),f.EFF(23),f.nI1(24,"translate"),f.k0s(),f.j41(25,"option",10),f.EFF(26),f.nI1(27,"translate"),f.k0s()()()(),f.j41(28,"ul",11),f.nI1(29,"translate"),f.j41(30,"li",12)(31,"button",13),f.EFF(32),f.nI1(33,"translate"),f.k0s()(),f.j41(34,"li",12)(35,"button",14),f.EFF(36),f.nI1(37,"translate"),f.k0s()(),f.j41(38,"li",12)(39,"button",15),f.EFF(40),f.nI1(41,"translate"),f.k0s()(),f.j41(42,"li",12)(43,"button",16),f.EFF(44),f.nI1(45,"translate"),f.k0s()(),f.j41(46,"li",12)(47,"button",17),f.EFF(48),f.nI1(49,"translate"),f.k0s()()(),f.bVm(),f.qex(50,18),f.DNE(51,M,3,3,"span",19),f.bVm(),f.k0s(),f.DNE(52,W,2,0,"div",20)),2&Q&&(f.Y8G("title",null==te.protectedResource?null:te.protectedResource.name)("crumbs",f.eq3(58,V,f.l_i(55,B,f.bMT(1,25,"ProtectedResources.Title"),f.bMT(2,27,"/protectedresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",te.protectedResource.nonEditable),f.R7$(6),f.JRh(f.bMT(7,29,"Nav.SubMenu")),f.R7$(5),f.SpI("",f.bMT(12,31,"Nav.SubMenu"),"..."),f.R7$(3),f.JRh(f.bMT(15,33,"Nav.Details")),f.R7$(3),f.JRh(f.bMT(18,35,"Nav.Scopes")),f.R7$(3),f.JRh(f.bMT(21,37,"Nav.Claims")),f.R7$(3),f.JRh(f.bMT(24,39,"Nav.Secrets")),f.R7$(3),f.JRh(f.bMT(27,41,"Nav.Properties")),f.R7$(2),f.BMQ("aria-label",f.bMT(29,43,"Nav.SubMenu")),f.R7$(3),f.Y8G("routerLinkActive",f.lJ4(60,F)),f.R7$(),f.JRh(f.bMT(33,45,"Nav.Details")),f.R7$(3),f.Y8G("routerLinkActive",f.lJ4(61,F)),f.R7$(),f.JRh(f.bMT(37,47,"Nav.Scopes")),f.R7$(3),f.Y8G("routerLinkActive",f.lJ4(62,F)),f.R7$(),f.JRh(f.bMT(41,49,"Nav.Claims")),f.R7$(3),f.Y8G("routerLinkActive",f.lJ4(63,F)),f.R7$(),f.JRh(f.bMT(45,51,"Nav.Secrets")),f.R7$(3),f.Y8G("routerLinkActive",f.lJ4(64,F)),f.R7$(),f.JRh(f.bMT(49,53,"Nav.Properties")),f.R7$(3),f.Y8G("ngIf",!te.protectedResource.enabled),f.R7$(),f.Y8G("ngIf",te.protectedResource))},dependencies:[z.bT,e.n3,w.Wk,w.wQ,u.z,g.D9,E.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Z})()},5663:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>w});var t=l(5794),o=l(2947),f=l(8018),A=l(1360),e=l(5139);let w=(()=>{class m{constructor(S){this.injector=S}handleError(S){if((0,A.naY)())console.log(S);else{const g=this.injector.get(o.Ix),k=this.injector.get(t.tw),z=this.injector.get(f.c$),u=this.injector.get(e.QG);k.info(z.instant("ServerDependent.Notifications.Support")),k.info(z.instant("Notifications.Apology"),z.instant("Notifications.Sorry"));const E=u.translateRoute("/home");g.navigateByUrl(E)}}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(A.zZn))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},5667:(ot,ve,l)=>{"use strict";l.d(ve,{g:()=>e});var t=l(8434),o=l(9417),f=l(8018),A=l(1360);let e=(()=>{class w{static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275mod=A.$C({type:w})}static{this.\u0275inj=A.G2t({imports:[t.MD,o.YN,f.h]})}}return w})()},5696:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>L});var t=l(1744),o=l(4414),f=l(6799),A=l(1360),e=l(5826),w=l(8018),m=l(8434);const D=(Q,te,N,fe,oe)=>({title:Q,editable:!0,header1:te,header2:N,header3:fe,data:oe}),S=(Q,te,N,fe,oe,R)=>({title:Q,editable:te,header1:N,header2:fe,header3:oe,data:R}),g=Q=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":Q});function k(Q,te){1&Q&&A.eu8(0)}function z(Q,te){if(1&Q&&(A.j41(0,"div"),A.DNE(1,k,1,0,"ng-container",12),A.nI1(2,"translate"),A.nI1(3,"translate"),A.nI1(4,"translate"),A.nI1(5,"translate"),A.k0s()),2&Q){const N=A.XpG(),fe=A.sdS(9);A.R7$(),A.Y8G("ngTemplateOutlet",fe)("ngTemplateOutletContext",A.s1E(10,D,A.bMT(2,2,"Nav.Clients"),A.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),A.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),A.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),N.clients))}}function u(Q,te){1&Q&&A.eu8(0)}function E(Q,te){if(1&Q&&(A.j41(0,"div",13),A.DNE(1,u,1,0,"ng-container",12),A.nI1(2,"translate"),A.nI1(3,"translate"),A.nI1(4,"translate"),A.nI1(5,"translate"),A.k0s()),2&Q){const N=A.XpG(),fe=A.sdS(9);A.R7$(),A.Y8G("ngTemplateOutlet",fe)("ngTemplateOutletContext",A.l4e(10,S,A.bMT(2,2,"Nav.Resources"),N.canEdit(N.resources),A.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),A.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),A.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),N.resources))}}function B(Q,te){1&Q&&A.eu8(0)}function V(Q,te){if(1&Q&&(A.j41(0,"div",13),A.DNE(1,B,1,0,"ng-container",12),A.nI1(2,"translate"),A.nI1(3,"translate"),A.nI1(4,"translate"),A.nI1(5,"translate"),A.k0s()),2&Q){const N=A.XpG(),fe=A.sdS(9);A.R7$(),A.Y8G("ngTemplateOutlet",fe)("ngTemplateOutletContext",A.l4e(10,S,A.bMT(2,2,"Nav.ClaimTypes"),N.canEdit(N.claims),A.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),A.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),A.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),N.claims))}}function F(Q,te){if(1&Q&&(A.qex(0),A.j41(1,"td",31),A.nrm(2,"span",32),A.k0s(),A.j41(3,"td")(4,"span",33),A.EFF(5),A.k0s()(),A.bVm()),2&Q){const N=A.XpG().$implicit,fe=A.XpG(2);A.R7$(5),A.JRh(fe.getConflicts(N))}}function M(Q,te){1&Q&&A.nrm(0,"span",37)}function W(Q,te){1&Q&&A.nrm(0,"span",38)}function y(Q,te){1&Q&&A.nrm(0,"span",32)}function X(Q,te){if(1&Q&&(A.qex(0),A.j41(1,"td",31),A.DNE(2,M,1,0,"span",34)(3,W,1,0,"span",35)(4,y,1,0,"span",36),A.k0s(),A.j41(5,"td")(6,"span",33),A.EFF(7),A.k0s()(),A.bVm()),2&Q){const N=A.XpG().$implicit,fe=A.XpG(2);A.R7$(2),A.Y8G("ngIf",N.resourceState==fe.resourceStates.New),A.R7$(),A.Y8G("ngIf",N.resourceState==fe.resourceStates.Duplicate),A.R7$(),A.Y8G("ngIf",N.conflictedByDependencies),A.R7$(2),A.AVh("tw-italic",N.resourceState===fe.resourceStates.Duplicate),A.R7$(),A.SpI(" ",fe.getResourceState(N)," ")}}function Z(Q,te){if(1&Q&&(A.j41(0,"tr",27)(1,"td",28)(2,"b"),A.EFF(3),A.k0s()(),A.j41(4,"td",29),A.EFF(5),A.k0s(),A.j41(6,"td",30),A.EFF(7),A.nI1(8,"translate"),A.k0s(),A.DNE(9,F,6,1,"ng-container",3)(10,X,8,6,"ng-container",3),A.k0s()),2&Q){const N=te.$implicit,fe=A.XpG(2);A.Y8G("ngClass",A.eq3(9,g,N.resourceState===fe.resourceStates.Duplicate)),A.R7$(),A.Y8G("title",N.displayName),A.R7$(2),A.JRh(N.displayName),A.R7$(2),A.SpI(" ",N.identifier," "),A.R7$(2),A.SpI(" ",A.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+N.displayType)," "),A.R7$(2),A.Y8G("ngIf",N.resourceState===fe.resourceStates.Conflicted&&!N.conflictedByDependencies),A.R7$(),A.Y8G("ngIf",N.resourceState!==fe.resourceStates.Conflicted||N.conflictedByDependencies)}}function v(Q,te){if(1&Q){const N=A.RV6();A.j41(0,"h2",14)(1,"span",15),A.EFF(2),A.k0s(),A.j41(3,"button",16),A.bIt("click",function(){const oe=A.eBV(N).data,R=A.XpG();return A.Njj(R.editResourceSummary(oe))}),A.nrm(4,"span",17),A.j41(5,"span",18),A.EFF(6),A.nI1(7,"translate"),A.k0s()()(),A.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),A.EFF(12),A.k0s(),A.j41(13,"th",21),A.EFF(14),A.k0s(),A.j41(15,"th",22),A.EFF(16),A.k0s(),A.nrm(17,"td",23),A.j41(18,"th",24)(19,"span",25),A.EFF(20),A.nI1(21,"translate"),A.k0s()()()(),A.j41(22,"tbody"),A.DNE(23,Z,11,11,"tr",26),A.k0s()()}if(2&Q){const N=te.title,fe=te.editable,oe=te.header1,R=te.header2,Fe=te.header3,we=te.data;A.R7$(2),A.JRh(N),A.R7$(),A.Y8G("disabled",!fe),A.R7$(3),A.JRh(A.bMT(7,8,"Common.Edit")),A.R7$(6),A.JRh(oe),A.R7$(2),A.JRh(R),A.R7$(2),A.JRh(Fe),A.R7$(4),A.JRh(A.bMT(21,10,"Common.Status")),A.R7$(3),A.Y8G("ngForOf",we)}}let L=(()=>{class Q extends f.P{constructor(N,fe){super(),this.importWizardService=N,this.translate=fe,this.resourceStates=t.jD,this.resourceTypes=t.ot}ngOnInit(){this.importWizardService.cache.subscribe(N=>{const fe=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],oe=N.filter(we=>we.resourceType===t.ot.Client&&(we.selected||we.resourceState===t.jD.Duplicate)),R=[],Fe=[];N.forEach(we=>{we.resourceType!==t.ot.Client&&oe.some(We=>we.dependantClients.some(rt=>rt.identifier===We.identifier))&&(we.resourceType===t.ot.ClaimType?R.push(we):Fe.push(we))}),this.clients=oe.sort((we,We)=>fe.indexOf(we.resourceState)-fe.indexOf(We.resourceState)),this.claims=R.sort((we,We)=>fe.indexOf(we.resourceState)-fe.indexOf(We.resourceState)),this.resources=Fe.sort((we,We)=>fe.indexOf(we.resourceState)-fe.indexOf(We.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(N,fe){N.stopPropagation(),this.openModal(o.M.summaryConflicts,fe)}getResourceState(N){return N.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[N.resourceState]}canEdit(N){return N.length>0&&N.some(fe=>fe.resourceState!==t.jD.Duplicate)}editResourceSummary(N){this.importWizardController.goToSummaryStep(N[0].resourceType)}getConflicts(N){let oe,fe=0;return N.conflicts.forEach(R=>{fe+=R.conflicts.length}),oe=this.translate.instant(1===fe?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),fe+" "+oe}static{this.\u0275fac=function(fe){return new(fe||Q)(A.rXU(e.o),A.rXU(w.c$))}}static{this.\u0275cmp=A.VBU({type:Q,selectors:[["app-import-summary-all"]],standalone:!1,features:[A.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(fe,oe){if(1&fe){const R=A.RV6();A.j41(0,"div",1)(1,"div",2)(2,"p"),A.EFF(3),A.nI1(4,"translate"),A.k0s()(),A.DNE(5,z,6,16,"div",3)(6,E,6,17,"div",4)(7,V,6,17,"div",4)(8,v,24,12,"ng-template",null,0,A.C5r),A.k0s(),A.nrm(10,"div",5),A.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),A.bIt("click",function(){return A.eBV(R),A.Njj(oe.goNext())}),A.EFF(15),A.nI1(16,"translate"),A.k0s(),A.j41(17,"button",10),A.bIt("click",function(){return A.eBV(R),A.Njj(oe.back())}),A.EFF(18),A.nI1(19,"translate"),A.k0s()(),A.j41(20,"button",11),A.bIt("click",function(){return A.eBV(R),A.Njj(oe.cancel())}),A.EFF(21),A.nI1(22,"translate"),A.k0s()()()}2&fe&&(A.R7$(3),A.JRh(A.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),A.R7$(2),A.Y8G("ngIf",(null==oe.clients?null:oe.clients.length)>0),A.R7$(),A.Y8G("ngIf",(null==oe.resources?null:oe.resources.length)>0),A.R7$(),A.Y8G("ngIf",(null==oe.claims?null:oe.claims.length)>0),A.R7$(7),A.Y8G("disabled",!oe.canNext()),A.R7$(),A.JRh(A.bMT(16,10,"Clients.Import.Import")),A.R7$(3),A.JRh(A.bMT(19,12,"Common.Back")),A.R7$(3),A.JRh(A.bMT(22,14,"Common.Cancel")))},dependencies:[m.YU,m.Sq,m.bT,m.T3,w.D9],encapsulation:2})}}return Q})()},5731:(ot,ve,l)=>{"use strict";l.d(ve,{i:()=>w});var t=l(8434),o=l(9262),f=l(1683),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,o.iI,f.Y,A.h]})}}return m})()},5749:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>S});var t=l(8434),o=l(8018),f=l(779),A=l(4193),e=l(8251),w=l(8389),m=l(7677),D=l(1360);let S=(()=>{class g{static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275mod=D.$C({type:g})}static{this.\u0275inj=D.G2t({imports:[f.Q_,o.h,t.MD,e.h,A.c,w.w,m.N]})}}return g})()},5794:(ot,ve,l)=>{"use strict";l.d(ve,{_B:()=>lt,tw:()=>Fe});var t=l(1360),o=l(5218),f=l(9361),A=l(8434),e=l(1413),w=l(345);const m=["toast-component",""];function D(it,Le){if(1&it){const Ve=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(Ve);const je=t.XpG();return t.Njj(je.remove())}),t.j41(1,"span",6),t.EFF(2,"\xd7"),t.k0s()()}}function S(it,Le){if(1&it&&(t.qex(0),t.EFF(1),t.bVm()),2&it){const Ve=t.XpG(2);t.R7$(),t.SpI("[",Ve.duplicatesCount+1,"]")}}function g(it,Le){if(1&it&&(t.j41(0,"div"),t.EFF(1),t.DNE(2,S,2,1,"ng-container",4),t.k0s()),2&it){const Ve=t.XpG();t.HbH(Ve.options.titleClass),t.BMQ("aria-label",Ve.title),t.R7$(),t.SpI(" ",Ve.title," "),t.R7$(),t.Y8G("ngIf",Ve.duplicatesCount)}}function k(it,Le){if(1&it&&t.nrm(0,"div",7),2&it){const Ve=t.XpG();t.HbH(Ve.options.messageClass),t.Y8G("innerHTML",Ve.message,t.npT)}}function z(it,Le){if(1&it&&(t.j41(0,"div",8),t.EFF(1),t.k0s()),2&it){const Ve=t.XpG();t.HbH(Ve.options.messageClass),t.BMQ("aria-label",Ve.message),t.R7$(),t.SpI(" ",Ve.message," ")}}function u(it,Le){if(1&it&&(t.j41(0,"div"),t.nrm(1,"div",9),t.k0s()),2&it){const Ve=t.XpG();t.R7$(),t.xc7("width",Ve.width()+"%")}}class X{_attachedHost;component;viewContainerRef;injector;constructor(Le,Ve){this.component=Le,this.injector=Ve}attach(Le,Ve){return this._attachedHost=Le,Le.attach(this,Ve)}detach(){const Le=this._attachedHost;if(Le)return this._attachedHost=void 0,Le.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Le){this._attachedHost=Le}}class Z{_attachedPortal;_disposeFn;attach(Le,Ve){return this._attachedPortal=Le,this.attachComponentPortal(Le,Ve)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Le){this._disposeFn=Le}}class v{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new e.B;_activate=new e.B;_manualClose=new e.B;_resetTimeout=new e.B;_countDuplicate=new e.B;constructor(Le){this._overlayRef=Le}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Le,Ve){Le&&this._resetTimeout.next(),Ve&&this._countDuplicate.next(++this.duplicatesCount)}}class L{toastId;config;message;title;toastType;toastRef;_onTap=new e.B;_onAction=new e.B;constructor(Le,Ve,Xe,je,ct,st){this.toastId=Le,this.config=Ve,this.message=Xe,this.title=je,this.toastType=ct,this.toastRef=st,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Le){this._onAction.next(Le)}onAction(){return this._onAction.asObservable()}}const te=new t.nKC("ToastConfig");class N extends Z{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Le,Ve,Xe){super(),this._hostDomElement=Le,this._componentFactoryResolver=Ve,this._appRef=Xe}attachComponentPortal(Le,Ve){const Xe=this._componentFactoryResolver.resolveComponentFactory(Le.component);let je;return je=Xe.create(Le.injector),this._appRef.attachView(je.hostView),this.setDisposeFn(()=>{this._appRef.detachView(je.hostView),je.destroy()}),Ve?this._hostDomElement.insertBefore(this._getComponentRootNode(je),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(je)),je}_getComponentRootNode(Le){return Le.hostView.rootNodes[0]}}let fe=(()=>{class it{_document=(0,t.WQX)(f.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ve=this._document.createElement("div");Ve.classList.add("overlay-container"),Ve.setAttribute("aria-live","polite"),this._document.body.appendChild(Ve),this._containerElement=Ve}static \u0275fac=function(Xe){return new(Xe||it)};static \u0275prov=t.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();class oe{_portalHost;constructor(Le){this._portalHost=Le}attach(Le,Ve=!0){return this._portalHost.attach(Le,Ve)}detach(){return this._portalHost.detach()}}let R=(()=>{class it{_overlayContainer=(0,t.WQX)(fe);_componentFactoryResolver=(0,t.WQX)(t.OM3);_appRef=(0,t.WQX)(t.o8S);_document=(0,t.WQX)(f.q);_paneElements=new Map;create(Ve,Xe){return this._createOverlayRef(this.getPaneElement(Ve,Xe))}getPaneElement(Ve="",Xe){return this._paneElements.get(Xe)||this._paneElements.set(Xe,{}),this._paneElements.get(Xe)[Ve]||(this._paneElements.get(Xe)[Ve]=this._createPaneElement(Ve,Xe)),this._paneElements.get(Xe)[Ve]}_createPaneElement(Ve,Xe){const je=this._document.createElement("div");return je.id="toast-container",je.classList.add(Ve),je.classList.add("toast-container"),Xe?Xe.getContainerElement().appendChild(je):this._overlayContainer.getContainerElement().appendChild(je),je}_createPortalHost(Ve){return new N(Ve,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ve){return new oe(this._createPortalHost(Ve))}static \u0275fac=function(Xe){return new(Xe||it)};static \u0275prov=t.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),Fe=(()=>{class it{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Ve,Xe,je,ct,st){this.overlay=Xe,this._injector=je,this.sanitizer=ct,this.ngZone=st,this.toastrConfig={...Ve.default,...Ve.config},Ve.config.iconClasses&&(this.toastrConfig.iconClasses={...Ve.default.iconClasses,...Ve.config.iconClasses})}show(Ve,Xe,je={},ct=""){return this._preBuildNotification(ct,Ve,Xe,this.applyConfig(je))}success(Ve,Xe,je={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ve,Xe,this.applyConfig(je))}error(Ve,Xe,je={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ve,Xe,this.applyConfig(je))}info(Ve,Xe,je={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ve,Xe,this.applyConfig(je))}warning(Ve,Xe,je={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ve,Xe,this.applyConfig(je))}clear(Ve){for(const Xe of this.toasts)if(void 0!==Ve){if(Xe.toastId===Ve)return void Xe.toastRef.manualClose()}else Xe.toastRef.manualClose()}remove(Ve){const Xe=this._findToast(Ve);if(!Xe||(Xe.activeToast.toastRef.close(),this.toasts.splice(Xe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const je=this.toasts[this.currentlyActive].toastRef;je.isInactive()||(this.currentlyActive=this.currentlyActive+1,je.activate())}return!0}findDuplicate(Ve="",Xe="",je,ct){const{includeTitleDuplicates:st}=this.toastrConfig;for(const Qe of this.toasts)if((!st||st&&Qe.title===Ve)&&Qe.message===Xe)return Qe.toastRef.onDuplicate(je,ct),Qe;return null}applyConfig(Ve={}){return{...this.toastrConfig,...Ve}}_findToast(Ve){for(let Xe=0;Xe<this.toasts.length;Xe++)if(this.toasts[Xe].toastId===Ve)return{index:Xe,activeToast:this.toasts[Xe]};return null}_preBuildNotification(Ve,Xe,je,ct){return ct.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ve,Xe,je,ct)):this._buildNotification(Ve,Xe,je,ct)}_buildNotification(Ve,Xe,je,ct){if(!ct.toastComponent)throw new Error("toastComponent required");const st=this.findDuplicate(je,Xe,this.toastrConfig.resetTimeoutOnDuplicate&&ct.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&je||Xe)&&this.toastrConfig.preventDuplicates&&null!==st)return st;this.previousToastMessage=Xe;let Qe=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Qe=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ne=this.overlay.create(ct.positionClass,this.overlayContainer);this.index=this.index+1;let Y=Xe;Xe&&ct.enableHtml&&(Y=this.sanitizer.sanitize(t.WPN.HTML,Xe));const he=new v(ne),ge=new L(this.index,ct,Y,je,Ve,he),dt=t.zZn.create({providers:[{provide:L,useValue:ge}],parent:this._injector}),_t=new X(ct.toastComponent,dt),en=ne.attach(_t,ct.newestOnTop);he.componentInstance=en.instance;const Cn={toastId:this.index,title:je||"",message:Xe||"",toastRef:he,onShown:he.afterActivate(),onHidden:he.afterClosed(),onTap:ge.onTap(),onAction:ge.onAction(),portal:en};return Qe||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Cn.toastRef.activate()})),this.toasts.push(Cn),Cn}static \u0275fac=function(Xe){return new(Xe||it)(t.KVO(te),t.KVO(R),t.KVO(t.zZn),t.KVO(w.up),t.KVO(t.SKi))};static \u0275prov=t.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();const We={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class it{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,t.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Ve,Xe,je){this.toastrService=Ve,this.toastPackage=Xe,this.ngZone=je,this.message=Xe.message,this.title=Xe.title,this.options=Xe.config,this.originalTimeout=Xe.config.timeOut,this.toastClasses=`${Xe.toastType} ${Xe.config.toastClass}`,this.sub=Xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Xe.toastRef.countDuplicate().subscribe(ct=>{this.duplicatesCount=ct}),this.state=(0,t.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(Ve=>({...Ve,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const Ve=(new Date).getTime();this.width.set((this.hideTime-Ve)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(je=>100-je),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(Ve=>({...Ve,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(Ve=>({...Ve,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ve,Xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ve),Xe)):this.timeout=setTimeout(()=>Ve(),Xe)}outsideInterval(Ve,Xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ve),Xe)):this.intervalId=setInterval(()=>Ve(),Xe)}runInsideAngular(Ve){this.ngZone?this.ngZone.run(()=>Ve()):Ve()}static \u0275fac=function(Xe){return new(Xe||it)(t.rXU(Fe),t.rXU(L),t.rXU(t.SKi))};static \u0275cmp=t.VBU({type:it,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Xe,je){1&Xe&&t.bIt("click",function(){return je.tapToast()})("mouseenter",function(){return je.stickAround()})("mouseleave",function(){return je.delayedHideToast()}),2&Xe&&(t.zvX("@flyInOut",je._state),t.HbH(je.toastClasses),t.xc7("display",je.displayStyle))},attrs:m,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Xe,je){1&Xe&&t.DNE(0,D,3,0,"button",0)(1,g,3,5,"div",1)(2,k,1,3,"div",2)(3,z,2,4,"div",3)(4,u,2,2,"div",4),2&Xe&&(t.Y8G("ngIf",je.options.closeButton),t.R7$(),t.Y8G("ngIf",je.title),t.R7$(),t.Y8G("ngIf",je.message&&je.options.enableHtml),t.R7$(),t.Y8G("ngIf",je.message&&!je.options.enableHtml),t.R7$(),t.Y8G("ngIf",je.options.progressBar))},dependencies:[A.bT],encapsulation:2,data:{animation:[(0,o.hZ)("flyInOut",[(0,o.wk)("inactive",(0,o.iF)({opacity:0})),(0,o.wk)("active",(0,o.iF)({opacity:1})),(0,o.wk)("removed",(0,o.iF)({opacity:0})),(0,o.kY)("inactive => active",(0,o.i0)("{{ easeTime }}ms {{ easing }}")),(0,o.kY)("active => removed",(0,o.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return it})()},rt=(it={})=>(0,t.EmA)([{provide:te,useValue:{default:We,config:it}}]);let lt=(()=>{class it{static forRoot(Ve={}){return{ngModule:it,providers:[rt(Ve)]}}static \u0275fac=function(Xe){return new(Xe||it)};static \u0275mod=t.$C({type:it});static \u0275inj=t.G2t({})}return it})()},5826:(ot,ve,l)=>{"use strict";l.d(ve,{o:()=>e});var t=l(1744),o=l(2771),f=l(1594),A=l(1360);let e=(()=>{class w{constructor(){this.importResourceTypeMap=new Map([[t.ot.Client,"Client"],[t.ot.ClaimType,"Claim Type"],[t.ot.ProtectedResource,"Protected Resource"],[t.ot.IdentityResource,"Identity Resource"]]),this.cache=new o.m(1),this.resetImport=new o.m(1)}updateSelectedClients(D){this.cache.pipe((0,f.$)()).subscribe(S=>{D=D.filter(g=>g.resourceType===t.ot.Client),S.forEach(g=>{const k=D.find(z=>z.identifier===g.identifier);void 0!==k&&(g.selected=k.selected)}),this.cache.next(S)})}selectResource(D){this.setResourcesSelected(D,!0)}deselectResource(D){this.setResourcesSelected(D,!1)}setResourcesSelected(D,S){this.cache.pipe((0,f.$)()).subscribe(g=>{let k;k=D.resourceType===t.ot.Client?[D.identifier]:D.dependantClients.filter(u=>u.state===t.XF.Importing).map(u=>u.identifier),k.forEach(z=>{g.find(u=>u.identifier===z&&u.resourceType===t.ot.Client).selected=S}),this.cache.next(g)})}downloadClientSecretsFromCache(){const D=new o.m;return this.cache.pipe((0,f.$)()).subscribe(S=>{const g=S.filter(E=>E.secrets&&E.secrets.length>0);let k="Type,Id,Name,Secret\r\n";g.forEach(E=>{E.secrets.forEach(B=>{const V=this.importResourceTypeMap.get(E.resourceType);k+=V+","+E.identifier+","+E.displayName+","+B.value+"\r\n"})});const z=new Blob([k],{type:"application/csv"}),u=document.createElement("a");u.download="import-secrets.csv",u.href=window.URL.createObjectURL(z),u.click(),u.remove(),D.next()}),D}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275prov=A.jDH({token:w,factory:w.\u0275fac})}}return w})()},5833:(ot,ve,l)=>{var t=l(6589);l(812),t.mgf=t.mgf||{},(ot.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{}).create=function(f){return{generate:function(e,w){for(var m=new t.util.ByteBuffer,D=Math.ceil(w/f.digestLength),S=0;S<D;S++){var g=new t.util.ByteBuffer;g.putInt32(S),f.start(),f.update(e+g.getBytes()),m.putBuffer(f.digest())}return m.truncate(m.length()-w),m.getBytes()}}}},5847:(ot,ve,l)=>{"use strict";l.d(ve,{a:()=>L});var t=l(1744),o=l(7728),f=l(2286),A=l(7629),e=l(6799),w=l(1360),m=l(5826),D=l(8018);let S=(()=>{class te extends e.P{set data(fe){null!==fe&&(this.resetOnClose=fe)}constructor(fe){super(),this.importWizardService=fe,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(oe){return new(oe||te)(w.rXU(m.o))}}static{this.\u0275cmp=w.VBU({type:te,selectors:[["app-import-close-warning"]],standalone:!1,features:[w.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(oe,R){1&oe&&(w.j41(0,"div",0)(1,"p"),w.EFF(2),w.nI1(3,"translate"),w.nI1(4,"translate"),w.k0s()(),w.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),w.bIt("click",function(){return R.no()}),w.EFF(9),w.nI1(10,"translate"),w.k0s()(),w.j41(11,"button",5),w.bIt("click",function(){return R.yes()}),w.EFF(12),w.nI1(13,"translate"),w.k0s()()()),2&oe&&(w.R7$(2),w.Lme("",w.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",w.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),w.R7$(7),w.JRh(w.bMT(10,8,"Notifications.StayHere")),w.R7$(3),w.JRh(w.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[D.D9],encapsulation:2})}}return te})();var g=l(4414),k=l(590),z=l(8434);function u(te,N){1&te&&(w.j41(0,"p"),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&te&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let E=(()=>{class te extends e.P{set data(fe){this.resource=fe,this.summaryDisplayType=k.n.getSummaryDisplayType(fe.resourceType)}constructor(fe){super(),this.importWizardService=fe,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(oe){return new(oe||te)(w.rXU(m.o))}}static{this.\u0275cmp=w.VBU({type:te,selectors:[["app-conflicts-confirmation"]],standalone:!1,features:[w.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(oe,R){1&oe&&(w.j41(0,"div",0)(1,"p"),w.EFF(2),w.nI1(3,"translate"),w.k0s(),w.DNE(4,u,3,3,"p",1),w.k0s(),w.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),w.bIt("click",function(){return R.no()}),w.EFF(9),w.nI1(10,"translate"),w.k0s()(),w.j41(11,"button",6),w.bIt("click",function(){return R.yes()}),w.EFF(12),w.nI1(13,"translate"),w.k0s()()()),2&oe&&(w.R7$(2),w.Lme("",w.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==R.resource?null:R.resource.displayName,""),w.R7$(2),w.Y8G("ngIf","Client"!==R.summaryDisplayType),w.R7$(5),w.JRh(w.bMT(10,7,"Clients.Import.Wizard.Warning.No")),w.R7$(3),w.JRh(w.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[z.bT,D.D9],encapsulation:2})}}return te})();var B=l(5696),V=l(1138),F=l(4406),M=l(2858),W=l(467),y=l(5404);const X=["certReader"],Z=["nextButton"];let v=(()=>{class te extends e.P{get data(){return this._subject}set data(fe){this._subject=fe}constructor(fe){super(),this.translate=fe}certificateDataLoaded(fe){this.nextButton.nativeElement.disabled=!fe}goNext(){var fe=this;return(0,W.A)(function*(){const oe=yield fe.certReaderComponent.getCertificateModel();fe.data.next(oe),fe.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(oe){return new(oe||te)(w.rXU(D.c$))}}static{this.\u0275cmp=w.VBU({type:te,selectors:[["app-import-certificate-picker"]],viewQuery:function(oe,R){if(1&oe&&(w.GBs(X,5),w.GBs(Z,5)),2&oe){let Fe;w.mGM(Fe=w.lsd())&&(R.certReaderComponent=Fe.first),w.mGM(Fe=w.lsd())&&(R.nextButton=Fe.first)}},standalone:!1,features:[w.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(oe,R){if(1&oe){const Fe=w.RV6();w.j41(0,"div",2)(1,"app-cert-reader",3,0),w.nI1(3,"translate"),w.nI1(4,"translate"),w.nI1(5,"translate"),w.nI1(6,"translate"),w.bIt("dataExists",function(We){return w.eBV(Fe),w.Njj(R.certificateDataLoaded(We))}),w.k0s()(),w.nrm(7,"div",4),w.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),w.bIt("click",function(){return w.eBV(Fe),w.Njj(R.goNext())}),w.EFF(13),w.nI1(14,"translate"),w.k0s(),w.j41(15,"button",9),w.bIt("click",function(){return w.eBV(Fe),w.Njj(R.back())}),w.EFF(16),w.nI1(17,"translate"),w.k0s()(),w.j41(18,"button",10),w.bIt("click",function(){return w.eBV(Fe),w.Njj(R.cancel())}),w.EFF(19),w.nI1(20,"translate"),w.k0s()()()}2&oe&&(w.R7$(),w.Y8G("uploadCert",w.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",w.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",w.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",w.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),w.R7$(12),w.SpI(" ",w.bMT(14,15,"Common.Add")," "),w.R7$(3),w.SpI(" ",w.bMT(17,17,"Common.Back")," "),w.R7$(3),w.SpI(" ",w.bMT(20,19,"Common.Cancel")," "))},dependencies:[y.V,D.D9],encapsulation:2})}}return te})(),L=(()=>{class te{constructor(){this.stepMap=new Map,this.stepMap.set(g.M.clientSummary,new Q(o.z,"Clients.Import.Wizard.Summary.Title.Client",[t.ot.Client])),this.stepMap.set(g.M.resourcesSummary,new Q(o.z,"Clients.Import.Wizard.Summary.Title.Resource",[t.ot.IdentityResource,t.ot.ProtectedResource])),this.stepMap.set(g.M.claimTypeSummary,new Q(o.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[t.ot.ClaimType])),this.stepMap.set(g.M.summaryConflicts,new Q(A.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(g.M.importComplete,new Q(f.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(g.M.importCloseWarning,new Q(S,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(g.M.summaryConflictsConfirmation,new Q(E,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(g.M.finalSummary,new Q(B.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(g.M.importDownloadWarning,new Q(F.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(g.M.importUploadCertificate,new Q(v,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(fe){return this.stepMap.get(fe)}getSecretStep(fe){return new Q(V.u,"Clients.Import.Wizard.Secrets.Title",fe)}getCertificateStep(fe){return new Q(M.zI,"Clients.Import.Wizard.Certificates.Title",fe)}static{this.\u0275fac=function(oe){return new(oe||te)}}static{this.\u0275prov=w.jDH({token:te,factory:te.\u0275fac})}}return te})();class Q{constructor(N,fe,oe,R=!1){this.component=N,this.stepTitle=fe,this.data=oe,this.isDeadEnd=R}}},5855:(ot,ve,l)=>{var t=l(6589);l(812),ot.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(f,A){var e=f;if("string"==typeof e&&(e=t.cipher.getAlgorithm(e))&&(e=e()),!e)throw new Error("Unsupported algorithm: "+f);return new t.cipher.BlockCipher({algorithm:e,key:A,decrypt:!1})},t.cipher.createDecipher=function(f,A){var e=f;if("string"==typeof e&&(e=t.cipher.getAlgorithm(e))&&(e=e()),!e)throw new Error("Unsupported algorithm: "+f);return new t.cipher.BlockCipher({algorithm:e,key:A,decrypt:!0})},t.cipher.registerAlgorithm=function(f,A){f=f.toUpperCase(),t.cipher.algorithms[f]=A},t.cipher.getAlgorithm=function(f){return(f=f.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[f]:null};var o=t.cipher.BlockCipher=function(f){this.algorithm=f.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=f.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=f.decrypt,this.algorithm.initialize(f)};o.prototype.start=function(f){f=f||{};var A={};for(var e in f)A[e]=f[e];A.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=f.output||t.util.createBuffer(),this.mode.start(A)},o.prototype.update=function(f){for(f&&this._input.putBuffer(f);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},o.prototype.finish=function(f){f&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(e){return f(this.blockSize,e,!1)},this.mode.unpad=function(e){return f(this.blockSize,e,!0)});var A={};return A.decrypt=this._decrypt,A.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,A)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,A))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,A))}},5866:(ot,ve,l)=>{"use strict";l.d(ve,{K:()=>m});var t=l(1594),o=l(6354),f=l(1360),A=l(9196),e=l(2947),w=l(5139);let m=(()=>{class D{constructor(g,k,z){this.configService=g,this.router=k,this.localizeRouter=z}canActivate(g,k){return this.configService.getConfig().pipe((0,t.$)(),(0,o.T)(z=>{if(z.featureFlagOptions.enableRoleClaims)return!0;{const u=this.localizeRouter.translateRoute("/home");this.router.navigate([u])}}))}static{this.\u0275fac=function(k){return new(k||D)(f.KVO(A.w),f.KVO(e.Ix),f.KVO(w.QG))}}static{this.\u0275prov=f.jDH({token:D,factory:D.\u0275fac})}}return D})()},5893:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>w});var t=l(3165),o=l(2771),f=l(7263),A=l(1360),e=l(9564);let w=(()=>{class D{constructor(g,k){this.http=g,this.headersService=k,this.protectedResourceSubject=new o.m(1),this.actionUrl="ProtectedResources",this.headers=k.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(g){let k=new t.Nl;return(0,f.gP)(g)||(k=k.set("name",g)),this.http.get(this.actionUrl,{headers:this.headers,params:k})}getResourcesPaginated(g,k,z){const u=`${this.actionUrl}/getPaginated`;let E=new t.Nl;return(0,f.gP)(g)||(E=E.set("name",g)),k&&(E=E.append("page",k)),z&&(E=E.append("pageSize",z)),this.http.get(u,{headers:this.headers,params:E})}addResource(g){const k=`${this.actionUrl}/`,z=JSON.stringify(g);return this.http.post(k,z,{headers:this.headers})}getResource(g){return this.http.get(`${this.actionUrl}/${g}`,{headers:this.headers})}updateResource(g){return this.http.put(`${this.actionUrl}/${g.id}`,g,{headers:this.headers})}updateResourceSecret(g,k){return this.http.put(`${this.actionUrl}/${g}/secrets/${k.id}`,k,{headers:this.headers})}removeResourceSecret(g,k){return this.http.delete(`${this.actionUrl}/${g}/secrets/${k}`,{headers:this.headers})}addResourceSecret(g,k){return this.http.post(`${this.actionUrl}/${g}/secrets`,k,{headers:this.headers})}updateResourceScope(g,k,z){const u=encodeURIComponent(z);return this.http.put(`${this.actionUrl}/${g}/scopes/${u}`,k,{headers:this.headers})}addResourceScope(g,k){return this.http.post(`${this.actionUrl}/${g}/scopes`,k,{headers:this.headers})}deleteProtectedResource(g){return this.http.delete(`${this.actionUrl}/${g}`,{headers:this.headers})}deleteScope(g,k){const z=encodeURIComponent(k);return this.http.delete(`${this.actionUrl}/${g}/scopes/${z}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(k){return new(k||D)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:D,factory:D.\u0275fac})}}return D})()},5955:(ot,ve)=>{"use strict";class o{static isArrayBuffer(E){return"[object ArrayBuffer]"===Object.prototype.toString.call(E)}static toArrayBuffer(E){return this.isArrayBuffer(E)?E:E.byteLength===E.buffer.byteLength||0===E.byteOffset&&E.byteLength===E.buffer.byteLength?E.buffer:this.toUint8Array(E.buffer).slice(E.byteOffset,E.byteOffset+E.byteLength).buffer}static toUint8Array(E){return this.toView(E,Uint8Array)}static toView(E,B){if(E.constructor===B)return E;if(this.isArrayBuffer(E))return new B(E);if(this.isArrayBufferView(E))return new B(E.buffer,E.byteOffset,E.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(E){return this.isArrayBufferView(E)||this.isArrayBuffer(E)}static isArrayBufferView(E){return ArrayBuffer.isView(E)||E&&this.isArrayBuffer(E.buffer)}static isEqual(E,B){const V=o.toUint8Array(E),F=o.toUint8Array(B);if(V.length!==F.byteLength)return!1;for(let M=0;M<V.length;M++)if(V[M]!==F[M])return!1;return!0}static concat(...E){let B;B=Array.isArray(E[0])&&!(E[1]instanceof Function)||Array.isArray(E[0])&&E[1]instanceof Function?E[0]:E[E.length-1]instanceof Function?E.slice(0,E.length-1):E;let V=0;for(const W of B)V+=W.byteLength;const F=new Uint8Array(V);let M=0;for(const W of B){const y=this.toUint8Array(W);F.set(y,M),M+=y.length}return E[E.length-1]instanceof Function?this.toView(F,E[E.length-1]):F.buffer}}const f="string",A=/^[0-9a-f\s]+$/i,e=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,w=/^[a-zA-Z0-9-_]+$/;class m{static fromString(E){const B=unescape(encodeURIComponent(E)),V=new Uint8Array(B.length);for(let F=0;F<B.length;F++)V[F]=B.charCodeAt(F);return V.buffer}static toString(E){const B=o.toUint8Array(E);let V="";for(let M=0;M<B.length;M++)V+=String.fromCharCode(B[M]);return decodeURIComponent(escape(V))}}class D{static toString(E,B=!1){const V=o.toArrayBuffer(E),F=new DataView(V);let M="";for(let W=0;W<V.byteLength;W+=2){const y=F.getUint16(W,B);M+=String.fromCharCode(y)}return M}static fromString(E,B=!1){const V=new ArrayBuffer(2*E.length),F=new DataView(V);for(let M=0;M<E.length;M++)F.setUint16(2*M,E.charCodeAt(M),B);return V}}let S=(()=>{class u{static isHex(B){return typeof B===f&&A.test(B)}static isBase64(B){return typeof B===f&&e.test(B)}static isBase64Url(B){return typeof B===f&&w.test(B)}static ToString(B,V="utf8"){const F=o.toUint8Array(B);switch(V.toLowerCase()){case"utf8":return this.ToUtf8String(F);case"binary":return this.ToBinary(F);case"hex":return this.ToHex(F);case"base64":return this.ToBase64(F);case"base64url":return this.ToBase64Url(F);case"utf16le":return D.toString(F,!0);case"utf16":case"utf16be":return D.toString(F);default:throw new Error(`Unknown type of encoding '${V}'`)}}static FromString(B,V="utf8"){if(!B)return new ArrayBuffer(0);switch(V.toLowerCase()){case"utf8":return this.FromUtf8String(B);case"binary":return this.FromBinary(B);case"hex":return this.FromHex(B);case"base64":return this.FromBase64(B);case"base64url":return this.FromBase64Url(B);case"utf16le":return D.fromString(B,!0);case"utf16":case"utf16be":return D.fromString(B);default:throw new Error(`Unknown type of encoding '${V}'`)}}static ToBase64(B){const V=o.toUint8Array(B);if(typeof btoa<"u"){const F=this.ToString(V,"binary");return btoa(F)}return Buffer.from(V).toString("base64")}static FromBase64(B){const V=this.formatString(B);if(!V)return new ArrayBuffer(0);if(!u.isBase64(V))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(V)):new Uint8Array(Buffer.from(V,"base64")).buffer}static FromBase64Url(B){const V=this.formatString(B);if(!V)return new ArrayBuffer(0);if(!u.isBase64Url(V))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(V.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(B){return this.ToBase64(B).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(B,V=u.DEFAULT_UTF8_ENCODING){switch(V){case"ascii":return this.FromBinary(B);case"utf8":return m.fromString(B);case"utf16":case"utf16be":return D.fromString(B);case"utf16le":case"usc2":return D.fromString(B,!0);default:throw new Error(`Unknown type of encoding '${V}'`)}}static ToUtf8String(B,V=u.DEFAULT_UTF8_ENCODING){switch(V){case"ascii":return this.ToBinary(B);case"utf8":return m.toString(B);case"utf16":case"utf16be":return D.toString(B);case"utf16le":case"usc2":return D.toString(B,!0);default:throw new Error(`Unknown type of encoding '${V}'`)}}static FromBinary(B){const V=B.length,F=new Uint8Array(V);for(let M=0;M<V;M++)F[M]=B.charCodeAt(M);return F.buffer}static ToBinary(B){const V=o.toUint8Array(B);let F="";for(let M=0;M<V.length;M++)F+=String.fromCharCode(V[M]);return F}static ToHex(B){const V=o.toUint8Array(B);let F="";const M=V.length;for(let W=0;W<M;W++){const y=V[W];y<16&&(F+="0"),F+=y.toString(16)}return F}static FromHex(B){let V=this.formatString(B);if(!V)return new ArrayBuffer(0);if(!u.isHex(V))throw new TypeError("Argument 'hexString' is not HEX encoded");V.length%2&&(V=`0${V}`);const F=new Uint8Array(V.length/2);for(let M=0;M<V.length;M+=2){const W=V.slice(M,M+2);F[M/2]=parseInt(W,16)}return F.buffer}static ToUtf16String(B,V=!1){return D.toString(B,V)}static FromUtf16String(B,V=!1){return D.fromString(B,V)}static Base64Padding(B){const V=4-B.length%4;if(V<4)for(let F=0;F<V;F++)B+="=";return B}static formatString(B){return B?.replace(/[\n\r\t ]/g,"")||""}}return u.DEFAULT_UTF8_ENCODING="utf8",u})();ve._H=o,ve.U$=S},5964:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>f});var t=l(9974),o=l(4360);function f(A,e){return(0,t.N)((w,m)=>{let D=0;w.subscribe((0,o._)(m,S=>A.call(e,S,D++)&&m.next(S)))})}},6026:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>t});let t=(()=>{class o{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return o})()},6037:(ot,ve,l)=>{"use strict";l.d(ve,{J:()=>F});var t=l(1594),o=l(1360),f=l(1715),A=l(6026);let e=(()=>{class M{constructor(){this.wizardCancel=new o.bkB,this.finish=new o.bkB,this.hide=new o.bkB,this.titleId=A.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(y){"Enter"===y.key&&this.canNext()&&this.nextTab()}get showProgress(){return!0}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}initialStep(){return this.index<=0}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const y=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(y.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const X=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,X),X.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(y=>{y?.destroy()}),this.components.clear()}get asAny(){return this}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275dir=o.FsC({type:M,viewQuery:function(X,Z){if(1&X&&o.GBs(f.t,7),2&X){let v;o.mGM(v=o.lsd())&&(Z.wizardHost=v.first)}},hostBindings:function(X,Z){1&X&&o.bIt("keydown",function(L){return Z.keydown(L)},!1,o.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return M})();var w=l(9417),m=l(8434),D=l(8018),S=l(2467);function g(M,W){if(1&M&&(o.j41(0,"span",17),o.EFF(1),o.k0s()),2&M){const y=W.$implicit;o.R7$(),o.JRh(y)}}function k(M,W){if(1&M){const y=o.RV6();o.j41(0,"tr",11)(1,"td",12),o.bIt("click",function(){o.eBV(y);const Z=o.XpG().$implicit,v=o.XpG();return o.Njj(v.jumpToTab(Z.stepName))}),o.j41(2,"b"),o.EFF(3),o.nI1(4,"keyToString"),o.nI1(5,"translate"),o.k0s()(),o.j41(6,"td",13),o.bIt("click",function(){o.eBV(y);const Z=o.XpG().$implicit,v=o.XpG();return o.Njj(v.jumpToTab(Z.stepName))}),o.DNE(7,g,2,1,"span",14),o.k0s(),o.j41(8,"td",12),o.bIt("click",function(){o.eBV(y);const Z=o.XpG().$implicit,v=o.XpG();return o.Njj(v.jumpToTab(Z.stepName))}),o.j41(9,"button",15),o.bIt("click",function(){o.eBV(y);const Z=o.XpG().$implicit,v=o.XpG();return o.Njj(v.jumpToTab(Z.stepName))}),o.nrm(10,"span",16),o.j41(11,"span",2),o.EFF(12),o.nI1(13,"translate"),o.k0s()()()()}if(2&M){const y=W.$implicit;o.R7$(3),o.JRh(o.bMT(5,5,o.bMT(4,3,y.key))),o.R7$(4),o.Y8G("ngForOf",y.value),o.R7$(5),o.JRh(o.bMT(13,7,"Common.Edit"))}}function z(M,W){if(1&M&&(o.qex(0),o.DNE(1,k,14,9,"tr",10),o.nI1(2,"keyvalue"),o.bVm()),2&M){const y=W.$implicit;o.R7$(),o.Y8G("ngForOf",o.bMT(2,1,y.stepData))}}function u(M,W){if(1&M&&(o.j41(0,"form",18)(1,"div",19),o.nrm(2,"input",20),o.j41(3,"label",21),o.EFF(4),o.nI1(5,"translate"),o.k0s()()()),2&M){const y=o.XpG();o.Y8G("formGroup",y.summaryForm),o.R7$(),o.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),o.R7$(3),o.JRh(o.bMT(5,3,"Common.Enabled"))}}let E=(()=>{class M{constructor(y){this.fb=y,this.askIfEnabled=!1,this.emitNavigate=new o.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(y){this.emitNavigate.emit(y)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(X){return new(X||M)(o.rXU(w.ze))}}static{this.\u0275cmp=o.VBU({type:M,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},standalone:!1,decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(X,Z){1&X&&(o.j41(0,"div",0)(1,"p"),o.EFF(2),o.nI1(3,"translate"),o.k0s()(),o.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),o.EFF(8),o.nI1(9,"translate"),o.k0s(),o.j41(10,"th"),o.EFF(11),o.nI1(12,"translate"),o.k0s(),o.j41(13,"th")(14,"span",2),o.EFF(15),o.nI1(16,"translate"),o.k0s()()()(),o.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),o.EFF(21),o.nI1(22,"translate"),o.k0s()(),o.j41(23,"td",5)(24,"span",6),o.EFF(25),o.nI1(26,"translate"),o.k0s()(),o.nrm(27,"td",7),o.k0s(),o.DNE(28,z,3,3,"ng-container",8),o.k0s()(),o.DNE(29,u,6,5,"form",9)),2&X&&(o.R7$(2),o.JRh(o.bMT(3,8,"Common.Wizards.Review")),o.R7$(6),o.JRh(o.bMT(9,10,"Common.Key")),o.R7$(3),o.JRh(o.bMT(12,12,"Common.Value")),o.R7$(4),o.JRh(o.bMT(16,14,"Common.Actions")),o.R7$(6),o.JRh(o.bMT(22,16,"Common.Type")),o.R7$(4),o.JRh(o.bMT(26,18,Z.summaryTitle)),o.R7$(3),o.Y8G("ngForOf",Z.summary),o.R7$(),o.Y8G("ngIf",Z.askIfEnabled))},dependencies:[m.YU,m.Sq,m.bT,w.qT,w.Zm,w.BC,w.cb,w.j4,w.JD,m.lG,D.D9,S.C],encapsulation:2})}}return M})();var B=l(5424),V=l(5794);let F=(()=>{class M extends e{constructor(y,X,Z){super(),this.errorService=y,this.toastr=X,this.translate=Z,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex(),this.setOrUpdateDtoSnapshot())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const y=[];this.wizardSteps.forEach((X,Z)=>{const L=this.components.get(Z).instance.getStepSummary();null!=L&&y.push({stepName:`ClientStep${Z}`,stepData:L})}),this.displaySummaryComponent(y)}displaySummaryComponent(y){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(E)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.setInput("askIfEnabled",this.askIfEnabled),this.summaryComponentRef.instance.summary=y,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,t.$)()).subscribe(X=>{this.index=y.findIndex(Z=>Z.stepName===X),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let y={};return this.wizardSteps.forEach((X,Z)=>{if(Z>=this.index)return;const L=this.components.get(Z).instance.getStepDTO();y=Object.assign({},y,L)}),y}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}setOrUpdateDtoSnapshot(){var y=this.components.get(this.index),X=this.getWizardDto();y.instance.dtoSnapshot=X}static{this.\u0275fac=function(X){return new(X||M)(o.rXU(B.I),o.rXU(V.tw),o.rXU(D.c$))}}static{this.\u0275dir=o.FsC({type:M,features:[o.Vt3]})}}return M})()},6129:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},6193:(ot,ve,l)=>{"use strict";l.d(ve,{V:()=>F});var t=l(1413),o=l(2771),f=l(4414),A=l(1594),e=l(1744),w=l(7728),m=l(5696),D=l(4406),S=l(1138),g=l(785),k=l(7263),z=l(2858),u=l(7212),E=l(1360),B=l(5847),V=l(5826);let F=(()=>{class M{constructor(y,X){this.importWizardProvider=y,this.importWizardService=X,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new t.B}setupInitialStep(){const y=this.importWizardProvider.getStep(f.M.clientSummary);this.stepsAhead.push(y)}goToNextStep(){const y=this.stepsAhead.pop();this.stepsCompleted.push(y),y.component===w.z&&y.data.includes(e.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(y.component===S.u&&y.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(y):y.component===z.zI&&y.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(y)),this.move.next(!1))}applyCertificateRememberDecision(y){const X=[];return this.stepsAhead.forEach(Z=>{Z.component!==z.zI||Z.data.existingHasCertificates!==y.data.existingHasCertificates||(y.data.certificateAction===z.AU.DoNotSet?Z.data.certificates=new u.D:y.data.certificateAction===z.AU.UseExisting&&(Z.data.certificates=new u.D,Z.data.useExistingCertificates=!0),X.push(Z),this.stepsCompleted.push(Z))}),this.stepsAhead.filter(Z=>!X.includes(Z))}applyRememberDecision(y){const X=[];return this.stepsAhead.forEach(Z=>{if(Z.component===S.u&&Z.data.resourceType===y.data.resourceType&&Z.data.existingHasSecrets===y.data.existingHasSecrets){if(y.data.secretsAction===S.r.DoNotSet)Z.data.secrets=[];else if(y.data.secretsAction===S.r.UseExistingSecret)Z.data.useExistingSecrets=!0;else if(y.data.secretsAction===S.r.Generate){const v=new g.z;v.value=(0,k.Nl)(),v.type="Shared Secret",v.description="",Z.data.secrets=[v]}X.push(Z),this.stepsCompleted.push(Z)}}),this.stepsAhead.filter(Z=>!X.includes(Z))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(f.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const X=this.stepsCompleted[this.stepsCompleted.length-1];if(X.component===S.u)this.goToLastRememberedDecision(X.component,Z=>Z.data.rememberSecretAction);else if(X.component===z.zI)this.goToLastRememberedDecision(X.component,Z=>Z.data.rememberCertificateAction&&Z.data.existingHasCertificates===X.data.existingHasCertificates);else{const Z=this.stepsCompleted.pop();this.stepsAhead.push(Z)}this.move.next(!1)}goToLastRememberedDecision(y,X){const Z=this.stepsCompleted.filter(v=>v.component===y);if(Z.length>1){const v=Z.filter(X);if(v){const Q=this.stepsCompleted.indexOf(v[v.length-1]),te=this.stepsCompleted.splice(Q,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...te.reverse()]}else{const L=this.stepsCompleted.pop();this.stepsAhead.push(L)}}else{const v=this.stepsCompleted.pop();this.stepsAhead.push(v)}}goToFinalSummary(){const y=this.stepsAhead.findIndex(Z=>Z.component===m.s),X=this.stepsAhead.splice(y+1);for(;X.length>0;){const Z=X.pop();this.stepsCompleted.push(Z)}this.move.next(!1)}goToSummaryStep(y){const X=this.stepsCompleted.findIndex(v=>v.component===w.z&&v.data.includes(y)),Z=this.stepsCompleted.splice(X);for(;Z.length>0;){const v=Z.pop();this.stepsAhead.push(v)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const y=this.getCurrentStep();y.component===D.X?this.quit():y.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(f.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(y,X){const Z=this.stepsAhead.pop();this.stepsCompleted.push(Z);const v=this.importWizardProvider.getStep(y);v.data=X,this.stepsAhead.push(v),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const y=new o.m;return this.importWizardService.cache.pipe((0,A.$)()).subscribe(X=>{this.stepsAhead.push(this.importWizardProvider.getStep(f.M.importComplete)),this.showFinalSummary(X)&&this.stepsAhead.push(this.importWizardProvider.getStep(f.M.finalSummary));const Z=this.sortImportResources(X),v=[],L=[];for(let Q=Z.length;Q>0;Q--){const te=Z[Q-1];let N=!1;te.resourceType===e.ot.ProtectedResource&&te.dependantClients.forEach(fe=>{N=X.some(oe=>oe.identifier===fe.identifier&&oe.resourceState!==e.jD.Duplicate)}),(te.selected||N)&&(te.existingHasSecrets&&v.push(this.importWizardProvider.getSecretStep(te)),te.hadSecrets&&!te.existingHasSecrets&&v.push(this.importWizardProvider.getSecretStep(te)),te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)),te.hadCertificates&&!te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)))}this.stepsAhead.push(...v),this.stepsAhead.push(...L),this.showClaimTypeSummary(X)&&this.stepsAhead.push(this.importWizardProvider.getStep(f.M.claimTypeSummary)),this.showResourceSummary(X)&&this.stepsAhead.push(this.importWizardProvider.getStep(f.M.resourcesSummary)),y.next()}),y}sortImportResources(y){y=(y=y.sort((Z,v)=>Z.displayName.toUpperCase().localeCompare(v.displayName.toUpperCase()))).sort((Z,v)=>+Z.conflictedByDependencies-+v.conflictedByDependencies);const X=[e.jD.Conflicted,e.jD.New,e.jD.Duplicate];return y.sort((Z,v)=>X.indexOf(Z.resourceState)-X.indexOf(v.resourceState))}showResourceSummary(y){const X=y.filter(v=>v.resourceType===e.ot.Client&&!0===v.selected).map(v=>v.identifier),Z=y.filter(v=>(v.resourceType===e.ot.IdentityResource||v.resourceType===e.ot.ProtectedResource)&&v.dependantClients.map(L=>L.identifier).some(L=>X.includes(L)));return Z.length>0&&Z.some(v=>v.resourceState===e.jD.Conflicted)}showClaimTypeSummary(y){const X=y.filter(v=>v.resourceType===e.ot.Client&&!0===v.selected).map(v=>v.identifier),Z=y.filter(v=>v.resourceType===e.ot.ClaimType&&v.dependantClients.map(L=>L.identifier).some(L=>X.includes(L)));return Z.length>0&&Z.some(v=>v.resourceState===e.jD.Conflicted)}showFinalSummary(y){return y.some(X=>X.resourceType!==e.ot.Client)}static{this.\u0275fac=function(X){return new(X||M)(E.KVO(B.a),E.KVO(V.o))}}static{this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac})}}return M})()},6199:(ot,ve,l)=>{var t=l(6589);l(812),t.cipher=t.cipher||{};var o=ot.exports=t.cipher.modes=t.cipher.modes||{};function f(w,m){if("string"==typeof w&&(w=t.util.createBuffer(w)),t.util.isArray(w)&&w.length>4){var D=w;w=t.util.createBuffer();for(var S=0;S<D.length;++S)w.putByte(D[S])}if(w.length()<m)throw new Error("Invalid IV length; got "+w.length()+" bytes and expected "+m+" bytes.");if(!t.util.isArray(w)){var g=[],k=m/4;for(S=0;S<k;++S)g.push(w.getInt32());w=g}return w}function A(w){w[w.length-1]=w[w.length-1]+1&4294967295}function e(w){return[w/4294967296|0,4294967295&w]}o.ecb=function(w){w=w||{},this.name="ECB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.ecb.prototype.start=function(w){},o.ecb.prototype.encrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=w.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._outBlock[S])},o.ecb.prototype.decrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=w.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._outBlock[S])},o.ecb.prototype.pad=function(w,m){var D=w.length()===this.blockSize?this.blockSize:this.blockSize-w.length();return w.fillWithByte(D,D),!0},o.ecb.prototype.unpad=function(w,m){if(m.overflow>0)return!1;var D=w.length(),S=w.at(D-1);return!(S>this.blockSize<<2||(w.truncate(S),0))},o.cbc=function(w){w=w||{},this.name="CBC",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.cbc.prototype.start=function(w){if(null===w.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=f(w.iv,this.blockSize),this._prev=this._iv.slice(0)}},o.cbc.prototype.encrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=this._prev[S]^w.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._outBlock[S]);this._prev=this._outBlock},o.cbc.prototype.decrypt=function(w,m,D){if(w.length()<this.blockSize&&!(D&&w.length()>0))return!0;for(var S=0;S<this._ints;++S)this._inBlock[S]=w.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),S=0;S<this._ints;++S)m.putInt32(this._prev[S]^this._outBlock[S]);this._prev=this._inBlock.slice(0)},o.cbc.prototype.pad=function(w,m){var D=w.length()===this.blockSize?this.blockSize:this.blockSize-w.length();return w.fillWithByte(D,D),!0},o.cbc.prototype.unpad=function(w,m){if(m.overflow>0)return!1;var D=w.length(),S=w.at(D-1);return!(S>this.blockSize<<2||(w.truncate(S),0))},o.cfb=function(w){w=w||{},this.name="CFB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},o.cfb.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=f(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.cfb.prototype.encrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)this._inBlock[g]=w.getInt32()^this._outBlock[g],m.putInt32(this._inBlock[g]);else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialBlock[g]=w.getInt32()^this._outBlock[g],this._partialOutput.putInt32(this._partialBlock[g]);if(k>0)w.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._partialBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}},o.cfb.prototype.decrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)this._inBlock[g]=w.getInt32(),m.putInt32(this._inBlock[g]^this._outBlock[g]);else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialBlock[g]=w.getInt32(),this._partialOutput.putInt32(this._partialBlock[g]^this._outBlock[g]);if(k>0)w.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._partialBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}},o.ofb=function(w){w=w||{},this.name="OFB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},o.ofb.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=f(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ofb.prototype.encrypt=function(w,m,D){var S=w.length();if(0===w.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)m.putInt32(w.getInt32()^this._outBlock[g]),this._inBlock[g]=this._outBlock[g];else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(w.getInt32()^this._outBlock[g]);if(k>0)w.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._outBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}},o.ofb.prototype.decrypt=o.ofb.prototype.encrypt,o.ctr=function(w){w=w||{},this.name="CTR",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},o.ctr.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=f(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ctr.prototype.encrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize)for(var g=0;g<this._ints;++g)m.putInt32(w.getInt32()^this._outBlock[g]);else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(w.getInt32()^this._outBlock[g]);if(k>0&&(w.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}A(this._inBlock)},o.ctr.prototype.decrypt=o.ctr.prototype.encrypt,o.gcm=function(w){w=w||{},this.name="GCM",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},o.gcm.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");var D,m=t.util.createBuffer(w.iv);if(this._cipherLength=0,D="additionalData"in w?t.util.createBuffer(w.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in w?w.tagLength:128,this._tag=null,w.decrypt&&(this._tag=t.util.createBuffer(w.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var S=m.length();if(12===S)this._j0=[m.getInt32(),m.getInt32(),m.getInt32(),1];else{for(this._j0=[0,0,0,0];m.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[m.getInt32(),m.getInt32(),m.getInt32(),m.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(e(8*S)))}this._inBlock=this._j0.slice(0),A(this._inBlock),this._partialBytes=0,D=t.util.createBuffer(D),this._aDataLength=e(8*D.length());var g=D.length()%this.blockSize;for(g&&D.fillWithByte(0,this.blockSize-g),this._s=[0,0,0,0];D.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[D.getInt32(),D.getInt32(),D.getInt32(),D.getInt32()])},o.gcm.prototype.encrypt=function(w,m,D){var S=w.length();if(0===S)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&S>=this.blockSize){for(var g=0;g<this._ints;++g)m.putInt32(this._outBlock[g]^=w.getInt32());this._cipherLength+=this.blockSize}else{var k=(this.blockSize-S)%this.blockSize;for(k>0&&(k=this.blockSize-k),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(w.getInt32()^this._outBlock[g]);if(k<=0||D){if(D){var z=S%this.blockSize;this._cipherLength+=z,this._partialOutput.truncate(this.blockSize-z)}else this._cipherLength+=this.blockSize;for(g=0;g<this._ints;++g)this._outBlock[g]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),k>0&&!D)return w.read-=this.blockSize,m.putBytes(this._partialOutput.getBytes(k-this._partialBytes)),this._partialBytes=k,!0;m.putBytes(this._partialOutput.getBytes(S-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),A(this._inBlock)},o.gcm.prototype.decrypt=function(w,m,D){var S=w.length();if(S<this.blockSize&&!(D&&S>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),A(this._inBlock),this._hashBlock[0]=w.getInt32(),this._hashBlock[1]=w.getInt32(),this._hashBlock[2]=w.getInt32(),this._hashBlock[3]=w.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var g=0;g<this._ints;++g)m.putInt32(this._outBlock[g]^this._hashBlock[g]);this._cipherLength+=S<this.blockSize?S%this.blockSize:this.blockSize},o.gcm.prototype.afterFinish=function(w,m){var D=!0;m.decrypt&&m.overflow&&w.truncate(this.blockSize-m.overflow),this.tag=t.util.createBuffer();var S=this._aDataLength.concat(e(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,S);var g=[];this.cipher.encrypt(this._j0,g);for(var k=0;k<this._ints;++k)this.tag.putInt32(this._s[k]^g[k]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),m.decrypt&&this.tag.bytes()!==this._tag&&(D=!1),D},o.gcm.prototype.multiply=function(w,m){for(var D=[0,0,0,0],S=m.slice(0),g=0;g<128;++g)w[g/32|0]&1<<31-g%32&&(D[0]^=S[0],D[1]^=S[1],D[2]^=S[2],D[3]^=S[3]),this.pow(S,S);return D},o.gcm.prototype.pow=function(w,m){for(var D=1&w[3],S=3;S>0;--S)m[S]=w[S]>>>1|(1&w[S-1])<<31;m[0]=w[0]>>>1,D&&(m[0]^=this._R)},o.gcm.prototype.tableMultiply=function(w){for(var m=[0,0,0,0],D=0;D<32;++D){var k=this._m[D][w[D/8|0]>>>4*(7-D%8)&15];m[0]^=k[0],m[1]^=k[1],m[2]^=k[2],m[3]^=k[3]}return m},o.gcm.prototype.ghash=function(w,m,D){return m[0]^=D[0],m[1]^=D[1],m[2]^=D[2],m[3]^=D[3],this.tableMultiply(m)},o.gcm.prototype.generateHashTable=function(w,m){for(var D=8/m,S=4*D,g=16*D,k=new Array(g),z=0;z<g;++z){var u=[0,0,0,0];u[z/S|0]=1<<m-1<<(S-1-z%S)*m,k[z]=this.generateSubHashTable(this.multiply(u,w),m)}return k},o.gcm.prototype.generateSubHashTable=function(w,m){var D=1<<m,S=D>>>1,g=new Array(D);g[S]=w.slice(0);for(var k=S>>>1;k>0;)this.pow(g[2*k],g[k]=[]),k>>=1;for(k=2;k<S;){for(var z=1;z<k;++z){var u=g[k],E=g[z];g[k+z]=[u[0]^E[0],u[1]^E[1],u[2]^E[2],u[3]^E[3]]}k*=2}for(g[0]=[0,0,0,0],k=S+1;k<D;++k){var B=g[k^S];g[k]=[w[0]^B[0],w[1]^B[1],w[2]^B[2],w[3]^B[3]]}return g}},6303:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>t});var t=function(o){return o[o.Single=0]="Single",o[o.Multi=1]="Multi",o[o.CommaSeparated=2]="CommaSeparated",o[o.LifetimePicker=3]="LifetimePicker",o}(t||{})},6354:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>f});var t=l(9974),o=l(4360);function f(A,e){return(0,t.N)((w,m)=>{let D=0;w.subscribe((0,o._)(m,S=>{m.next(A.call(e,S,D++))}))})}},6357:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{SettingsDuendeModule:()=>Ms});var t=l(5139),o=l(9262),f=l(8018),A=l(779),e=l(9417),w=l(8434),m=l(1683),D=l(2571),S=l(8455),g=l(367),k=l(8251),z=l(5731),u=l(7175),E=l(4193),B=l(1993),V=l(8389),F=l(4367),M=l(7677),W=l(275),y=l(2334),X=l(6599),Z=l(1594),v=l(6354),L=l(1258);class te{constructor(Ai,Et,yn,Yt){this.webhooks={MfaReset:Ai,PasswordReset:Et,UserRegistration:yn,ServerSideSessionDelete:Yt}}}var N=function($t){return $t.MFAReset="MfaReset",$t.PasswordReset="PasswordReset",$t.UserRegistration="UserRegistration",$t.ServerSideSessionDelete="ServerSideSessionDelete",$t}(N||{}),fe=l(5312),oe=l(1410),R=l(1360),Fe=l(2947),we=l(5424),We=l(5022),rt=l(5794),lt=l(4754),vt=l(7499),Ue=l(9196),Ye=l(6728),He=l(6406),it=l(3899),Le=l(8698),Ve=l(9550);function Xe($t,Ai){if(1&$t&&(R.j41(0,"option",11),R.EFF(1),R.k0s()),2&$t){const Et=Ai.$implicit;R.Y8G("ngValue",Et),R.R7$(),R.JRh(Et)}}let je=(()=>{class $t{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(yn){return new(yn||$t)}}static{this.\u0275cmp=R.VBU({type:$t,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},standalone:!1,decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(yn,Yt){1&yn&&(R.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),R.bIt("click",function(){return Yt.toggle()}),R.k0s()()(),R.j41(5,"app-form-row",5),R.nrm(6,"input",6),R.k0s(),R.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),R.DNE(10,Xe,2,2,"option",10),R.k0s()()()()()),2&yn&&(R.Y8G("formGroup",Yt.parentForm),R.R7$(),R.FS9("formGroupName",Yt.webhookName),R.R7$(),R.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),R.R7$(),R.Y8G("id","WebhookEnabled"+Yt.webhookName)("isTraffic",!0)("isAlt",!1),R.R7$(),R.Y8G("id","WebhookEnabled"+Yt.webhookName),R.R7$(),R.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),R.R7$(2),R.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),R.R7$(3),R.Y8G("ngForOf",Yt.scopeNames))},dependencies:[w.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,Le.Y,Ve.m],encapsulation:2})}}return $t})();var ct=l(6303),st=l(7921),Qe=l(8762);const ne=$t=>[$t];function Y($t,Ai){if(1&$t&&(R.j41(0,"app-form-row",3),R.nrm(1,"app-readonly",2),R.k0s(),R.j41(2,"app-form-row",1),R.nrm(3,"app-readonly",2),R.k0s()),2&$t){const Et=R.XpG();R.Y8G("id","WebhookUrl"+Et.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),R.R7$(),R.Y8G("id","WebhookUrl"+Et.webhookName)("fieldType",Et.ReadOnlyFieldType.Single)("values",R.eq3(12,ne,Et.webhookValues.url)),R.R7$(),R.Y8G("id","WebhookScope"+Et.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),R.R7$(),R.Y8G("id","WebhookScope"+Et.webhookName)("fieldType",Et.ReadOnlyFieldType.Single)("values",R.eq3(14,ne,Et.webhookValues.scopeName))}}let he=(()=>{class $t{get ReadOnlyFieldType(){return ct.t}constructor(){}ngOnChanges(){this.webhookValues=new st.b(this.webhook)}static{this.\u0275fac=function(yn){return new(yn||$t)}}static{this.\u0275cmp=R.VBU({type:$t,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},standalone:!1,features:[R.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(yn,Yt){1&yn&&(R.j41(0,"div",0)(1,"app-form-row",1),R.nrm(2,"app-readonly",2),R.k0s(),R.DNE(3,Y,4,16),R.k0s()),2&yn&&(R.R7$(),R.Y8G("id","WebhookEnabled"+Yt.webhookName)("label","Webhooks.EnableWebhook")("isLast",!Yt.webhook.enabled),R.R7$(),R.Y8G("id","WebhookEnabled"+Yt.webhookName)("fieldType",Yt.ReadOnlyFieldType.Single)("values",R.eq3(7,ne,Yt.webhookValues.enabled)),R.R7$(),R.vxM(Yt.webhook.enabled?3:-1))},dependencies:[Le.Y,Qe.O],encapsulation:2})}}return $t})();const ge=["save"];function s($t,Ai){if(1&$t&&(R.j41(0,"h2",5),R.EFF(1),R.nI1(2,"translate"),R.k0s(),R.nrm(3,"app-readonly-webhook",6)),2&$t){const Et=R.XpG(3);R.R7$(),R.JRh(R.bMT(2,3,"Webhooks.ServerSideSessionDeleteHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.ServerSideSessionDelete)("webhook",Et.webhooksForm.get(Et.webhookNames.ServerSideSessionDelete).value)}}function dt($t,Ai){if(1&$t&&(R.j41(0,"div",0)(1,"h2",5),R.EFF(2),R.nI1(3,"translate"),R.k0s(),R.nrm(4,"app-readonly-webhook",6),R.j41(5,"h2",5),R.EFF(6),R.nI1(7,"translate"),R.k0s(),R.nrm(8,"app-readonly-webhook",6),R.j41(9,"h2",5),R.EFF(10),R.nI1(11,"translate"),R.k0s(),R.nrm(12,"app-readonly-webhook",6),R.DNE(13,s,4,5),R.k0s()),2&$t){const Et=R.XpG(2);R.R7$(2),R.JRh(R.bMT(3,10,"Webhooks.MultiFactorHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.MFAReset)("webhook",Et.webhooksForm.get(Et.webhookNames.MFAReset).value),R.R7$(2),R.JRh(R.bMT(7,12,"Webhooks.PasswordResetHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.PasswordReset)("webhook",Et.webhooksForm.get(Et.webhookNames.PasswordReset).value),R.R7$(2),R.JRh(R.bMT(11,14,"Webhooks.UserRegistrationHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.UserRegistration)("webhook",Et.webhooksForm.get(Et.webhookNames.UserRegistration).value),R.R7$(),R.vxM(Et.duendeEnvironment?13:-1)}}function _t($t,Ai){if(1&$t&&(R.j41(0,"div",1)(1,"div")(2,"p",2),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.nrm(5,"p",3),R.nI1(6,"translate"),R.k0s()(),R.DNE(7,dt,14,16,"div",4)),2&$t){const Et=R.XpG();R.R7$(3),R.JRh(R.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),R.R7$(2),R.Y8G("innerHTML",R.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),R.npT),R.R7$(2),R.Y8G("ngIf",Et.webhookConfiguration)}}function en($t,Ai){if(1&$t&&(R.j41(0,"h2",5),R.EFF(1),R.nI1(2,"translate"),R.k0s(),R.nrm(3,"app-edit-webhook",12)),2&$t){const Et=R.XpG(3);R.R7$(),R.JRh(R.bMT(2,4,"Webhooks.ServerSideSessionDeleteHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.ServerSideSessionDelete)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm)}}function Cn($t,Ai){if(1&$t&&(R.j41(0,"div",0)(1,"form",11)(2,"h2",5),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.nrm(5,"app-edit-webhook",12),R.j41(6,"h2",5),R.EFF(7),R.nI1(8,"translate"),R.k0s(),R.nrm(9,"app-edit-webhook",12),R.j41(10,"h2",5),R.EFF(11),R.nI1(12,"translate"),R.k0s(),R.nrm(13,"app-edit-webhook",12),R.DNE(14,en,4,6),R.k0s()()),2&$t){const Et=R.XpG(2);R.R7$(),R.Y8G("formGroup",Et.webhooksForm),R.R7$(2),R.JRh(R.bMT(4,14,"Webhooks.MultiFactorHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.MFAReset)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm),R.R7$(2),R.JRh(R.bMT(8,16,"Webhooks.PasswordResetHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.PasswordReset)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm),R.R7$(2),R.JRh(R.bMT(12,18,"Webhooks.UserRegistrationHeading")),R.R7$(2),R.Y8G("webhookName",Et.webhookNames.UserRegistration)("scopeNames",Et.scopeNames)("parentForm",Et.webhooksForm),R.R7$(),R.vxM(Et.duendeEnvironment?14:-1)}}function Wn($t,Ai){if(1&$t){const Et=R.RV6();R.DNE(0,Cn,15,20,"div",4),R.j41(1,"app-custom-modal",7),R.bIt("onCancel",function(){R.eBV(Et);const Yt=R.XpG();return R.Njj(Yt.cancelWebhookUpdate())})("onSave",function(){R.eBV(Et);const Yt=R.XpG();return R.Njj(Yt.acceptClientCreation())}),R.j41(2,"h2",8),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.j41(5,"p",9),R.EFF(6),R.nI1(7,"translate"),R.k0s()(),R.j41(8,"app-custom-modal",7),R.bIt("onCancel",function(){R.eBV(Et);const Yt=R.XpG();return R.Njj(Yt.cancelWebhookUpdate())})("onSave",function(){R.eBV(Et);const Yt=R.XpG();return R.Njj(Yt.acceptClientCreation())}),R.j41(9,"h2",8),R.EFF(10),R.nI1(11,"translate"),R.k0s(),R.j41(12,"p",9),R.EFF(13),R.nI1(14,"translate"),R.k0s()(),R.j41(15,"app-button-bar")(16,"button",10),R.bIt("click",function(){R.eBV(Et);const Yt=R.XpG();return R.Njj(Yt.processWebhookConfigurationUpdate())}),R.EFF(17),R.nI1(18,"translate"),R.k0s()()}if(2&$t){const Et=R.XpG();R.Y8G("ngIf",Et.webhookConfiguration),R.R7$(),R.Y8G("saveText","Common.Continue")("actions",Et.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",Et.clientCreationConfirmationModalId),R.R7$(2),R.JRh(R.bMT(4,15,"Common.Warning")),R.R7$(3),R.SpI(" ",R.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),R.R7$(2),R.Y8G("saveText","Common.Continue")("actions",Et.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",Et.clientDeletionConfirmationModalId),R.R7$(2),R.JRh(R.bMT(11,19,"Common.Warning")),R.R7$(3),R.SpI(" ",R.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),R.R7$(3),R.Y8G("disabled",Et.saveLock),R.R7$(),R.SpI(" ",R.bMT(18,23,"Common.Save")," ")}}let tn=(()=>{class $t{constructor(Et,yn,Yt,Fn,Qi,Bt,ue,Ae,ae){this.activatedRoute=Et,this.errorService=yn,this.fb=Yt,this.webhookService=Fn,this.translate=Qi,this.toastr=Bt,this.modalService=ue,this.dialogService=Ae,this.uiConfig=ae,this.webhookNames=N,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[L.N.Save],this.isReadOnly=!1,this.duendeEnvironment=fe.c.authServer==oe.y.Duende}ngOnInit(){this.uiConfig.getConfig().pipe((0,Z.$)()).subscribe({next:Et=>{this.isReadOnly=!Et.webhookPersistence}}),this.activatedRoute.data.pipe((0,v.T)(Et=>Et?.webhookResolverObject)).subscribe({next:Et=>{this.webhookConfiguration=Et.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=Et.scopeNames,this.webhooksForm=this.fb.group({[N.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[N.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[N.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[N.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(yn=>{this.saveLock=!(this.webhooksForm.controls[N.MFAReset].valid&&this.webhooksForm.controls[N.PasswordReset].valid&&this.webhooksForm.controls[N.UserRegistration].valid&&this.webhooksForm.controls[N.ServerSideSessionDelete].valid)})},error:Et=>{this.errorService.handleError(Et)}})}createFormGroup(Et){return this.fb.group({url:[{value:Et.url,disabled:!Et.enabled},e.k0.required],scopeName:[{value:Et.scopeName,disabled:!Et.enabled}],enabled:[Et.enabled]})}processWebhookConfigurationUpdate(){const Et=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(Et)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(Et)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const Et=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(Et).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(yn=>{this.webhookConfiguration=yn,this.webhooksEnabled=this.checkWebhooksEnabled()},yn=>{this.errorService.handleError(yn)}),this.webhooksForm.markAsPristine()},yn=>{this.errorService.handleError(yn)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const Et=this.webhooksForm.getRawValue();return new te(Et.MfaReset,Et.PasswordReset,Et.UserRegistration,Et.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(Et){return Et.webhooks.PasswordReset.enabled||Et.webhooks.UserRegistration.enabled||Et.webhooks.MfaReset.enabled||Et.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(Et){return!(Et.webhooks.PasswordReset.enabled||Et.webhooks.UserRegistration.enabled||Et.webhooks.MfaReset.enabled||Et.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(yn){return new(yn||$t)(R.rXU(Fe.nX),R.rXU(we.I),R.rXU(e.ze),R.rXU(We.x),R.rXU(f.c$),R.rXU(rt.tw),R.rXU(lt.B),R.rXU(vt.o),R.rXU(Ue.w))}}static{this.\u0275cmp=R.VBU({type:$t,selectors:[["app-manage-webhooks"]],viewQuery:function(yn,Yt){if(1&yn&&R.GBs(ge,5),2&yn){let Fn;R.mGM(Fn=R.lsd())&&(Yt.saveButtonRef=Fn.first)}},standalone:!1,decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(yn,Yt){1&yn&&(R.j41(0,"div",0),R.DNE(1,_t,8,7)(2,Wn,19,25),R.k0s(),R.nrm(3,"app-can-deactivate")),2&yn&&(R.R7$(),R.vxM(Yt.isReadOnly?1:2))},dependencies:[w.bT,e.qT,e.cb,e.j4,Ye.E,He.z,it.G,je,he,f.D9],encapsulation:2})}}return $t})();class Ln{}var ni=l(4549),ft=l(3165),Qt=l(9564);let pe=(()=>{class $t{constructor(Et,yn){this.http=Et,this.headersService=yn,this.actionUrl="policy",this.headers=yn.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(Et){return this.http.put(this.actionUrl,Et,{headers:this.headers})}static{this.\u0275fac=function(yn){return new(yn||$t)(R.KVO(ft.Qq),R.KVO(Qt.m))}}static{this.\u0275prov=R.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();var de=l(6801),P=l(7156),q=l(7384),Ne=l(7294),De=l(7778);class et{constructor(Ai,Et,yn){this.isDateTime=!1,this.type=Ai,this.value=Et,this.permission=yn}}var gt=l(7811),Kt=l(6536);const sn=["addPolicyModal"],Rn=()=>({animated:!1,backdrop:"static"});function Kn($t,Ai){if(1&$t&&(R.j41(0,"option"),R.EFF(1),R.k0s()),2&$t){const Et=Ai.$implicit;R.R7$(),R.SpI(" ",null==Et?null:Et.name," ")}}function ei($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"input",31),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG();return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.k0s()}if(2&$t){const Et=R.XpG();R.R50("ngModel",Et.value)}}function Ot($t,Ai){if(1&$t&&(R.j41(0,"option"),R.EFF(1),R.k0s()),2&$t){const Et=Ai.$implicit;R.R7$(),R.SpI(" ",null==Et?null:Et.name," ")}}function Gn($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"div",11)(1,"select",32),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG();return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.DNE(2,Ot,2,1,"option",13),R.k0s()()}if(2&$t){const Et=R.XpG();R.R7$(),R.R50("ngModel",Et.value),R.R7$(),R.Y8G("ngForOf",Et.avaliableRoles)}}function Zt($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"input",31),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG();return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.k0s()}if(2&$t){const Et=R.XpG();R.R50("ngModel",Et.value)}}function Tn($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"input",33),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG();return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.k0s()}if(2&$t){const Et=R.XpG();R.R50("ngModel",Et.value)}}function In($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"div",11)(1,"select",32),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG();return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.j41(2,"option",34),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.j41(5,"option",35),R.EFF(6),R.nI1(7,"translate"),R.k0s()()()}if(2&$t){const Et=R.XpG();R.R7$(),R.R50("ngModel",Et.value),R.R7$(2),R.JRh(R.bMT(4,3,"Common.True")),R.R7$(3),R.JRh(R.bMT(7,5,"Common.False"))}}function rs($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"div",36)(1,"app-enum-claim-type-input",37),R.bIt("valueChanged",function(Yt){R.eBV(Et);const Fn=R.XpG();return R.Njj(Fn.value=Yt)}),R.k0s()()}if(2&$t){const Et=R.XpG();R.Y8G("id","value-for-"+Et.selectedClaimType.id),R.R7$(),R.Y8G("id","claimsFormInput")("typeId",Et.selectedClaimType.id)("hostingModal","addPolicyModal")("value",Et.value)}}function _i($t,Ai){if(1&$t){const Et=R.RV6();R.qex(0),R.j41(1,"app-date-time",40),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG(2);return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.k0s(),R.bVm()}if(2&$t){const Et=R.XpG(2);R.R7$(),R.R50("ngModel",Et.value)}}function Bi($t,Ai){if(1&$t){const Et=R.RV6();R.qex(0),R.j41(1,"app-date-time",41),R.mxI("ngModelChange",function(Yt){R.eBV(Et);const Fn=R.XpG(2);return R.DH7(Fn.value,Yt)||(Fn.value=Yt),R.Njj(Yt)}),R.k0s(),R.bVm()}if(2&$t){const Et=R.XpG(2);R.R7$(),R.R50("ngModel",Et.value),R.Y8G("displayType","date")}}function Ni($t,Ai){if(1&$t&&(R.j41(0,"div",38),R.DNE(1,_i,2,1,"ng-container",39)(2,Bi,2,2,"ng-container",39),R.k0s()),2&$t){const Et=R.XpG();R.R7$(),R.Y8G("ngIf","birthdate"!=Et.claimType),R.R7$(),R.Y8G("ngIf","birthdate"==Et.claimType)}}function os($t,Ai){if(1&$t&&(R.j41(0,"option",42),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&$t){const Et=Ai.$implicit;R.FS9("value",Et),R.R7$(),R.SpI(" ",R.bMT(2,2,"Permission."+Et)," ")}}let zn=(()=>{class $t{constructor(Et){this.toastr=Et,this.added=new R.bkB,this.addAnother=!1}keydown(Et){"Enter"===Et.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(Et=>Et.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const Et=new et(this.claimType,this.value,this.permission);this.added.next(Et),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(yn){return new(yn||$t)(R.rXU(rt.tw))}}static{this.\u0275cmp=R.VBU({type:$t,selectors:[["app-add-accesspolicy"]],viewQuery:function(yn,Yt){if(1&yn&&R.GBs(sn,7),2&yn){let Fn;R.mGM(Fn=R.lsd())&&(Yt.addPolicyModal=Fn.first)}},hostBindings:function(yn,Yt){1&yn&&R.bIt("keydown",function(Qi){return Yt.keydown(Qi)},!1,R.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},standalone:!1,decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(yn,Yt){if(1&yn){const Fn=R.RV6();R.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),R.EFF(6),R.nI1(7,"translate"),R.k0s(),R.j41(8,"button",6),R.bIt("click",function(){return R.eBV(Fn),R.Njj(Yt.hide())}),R.nrm(9,"span",7),R.j41(10,"span",8),R.EFF(11),R.nI1(12,"translate"),R.k0s()()(),R.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),R.mxI("ngModelChange",function(Bt){return R.eBV(Fn),R.DH7(Yt.claimType,Bt)||(Yt.claimType=Bt),R.Njj(Bt)}),R.bIt("ngModelChange",function(){return R.eBV(Fn),R.Njj(Yt.getClaimType())}),R.nrm(17,"option"),R.DNE(18,Kn,2,1,"option",13),R.k0s()()(),R.j41(19,"app-form-row",14),R.DNE(20,ei,1,1,"input",15)(21,Gn,3,2,"div",16)(22,Zt,1,1,"input",15)(23,Tn,1,1,"input",17)(24,In,8,7,"div",16)(25,rs,2,5,"div",18)(26,Ni,3,2,"div",19),R.k0s(),R.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),R.mxI("ngModelChange",function(Bt){return R.eBV(Fn),R.DH7(Yt.permission,Bt)||(Yt.permission=Bt),R.Njj(Bt)}),R.nrm(30,"option"),R.DNE(31,os,3,4,"option",22),R.k0s()()()(),R.nrm(32,"div",23),R.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),R.bIt("click",function(){return R.eBV(Fn),Yt.addPolicy(),R.Njj(Yt.hide())}),R.EFF(37),R.nI1(38,"translate"),R.k0s(),R.j41(39,"span",28)(40,"button",29),R.bIt("click",function(){return R.eBV(Fn),R.Njj(Yt.addAnotherPolicy())}),R.EFF(41),R.nI1(42,"translate"),R.k0s()()(),R.j41(43,"button",30),R.bIt("click",function(){return R.eBV(Fn),R.Njj(Yt.hide())}),R.EFF(44),R.nI1(45,"translate"),R.k0s()()()()()()}2&yn&&(R.Y8G("config",R.lJ4(37,Rn)),R.R7$(6),R.JRh(R.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),R.R7$(5),R.JRh(R.bMT(12,29,"Common.Close")),R.R7$(3),R.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),R.R7$(2),R.R50("ngModel",Yt.claimType),R.R7$(2),R.Y8G("ngForOf",Yt.avaliableClaimTypes),R.R7$(),R.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==Yt.selectedClaimType?null:Yt.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),R.R7$(),R.Y8G("ngIf",null==Yt.claimType||""==Yt.claimType),R.R7$(),R.Y8G("ngIf","role"==Yt.claimType),R.R7$(),R.Y8G("ngIf","String"==(null==Yt.selectedClaimType?null:Yt.selectedClaimType.valueType)&&"role"!=Yt.claimType),R.R7$(),R.Y8G("ngIf","Int"==(null==Yt.selectedClaimType?null:Yt.selectedClaimType.valueType)&&"role"!=Yt.claimType),R.R7$(),R.Y8G("ngIf","Boolean"==(null==Yt.selectedClaimType?null:Yt.selectedClaimType.valueType)&&"role"!=Yt.claimType),R.R7$(),R.Y8G("ngIf","Enum"==(null==Yt.selectedClaimType?null:Yt.selectedClaimType.valueType)),R.R7$(),R.Y8G("ngIf","DateTime"==(null==Yt.selectedClaimType?null:Yt.selectedClaimType.valueType)&&"role"!=Yt.claimType),R.R7$(),R.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),R.R7$(2),R.R50("ngModel",Yt.permission),R.R7$(2),R.Y8G("ngForOf",Yt.avaliablePermissions),R.R7$(5),R.Y8G("disabled",!Yt.isValid()),R.R7$(),R.JRh(R.bMT(38,31,"Common.Add")),R.R7$(3),R.Y8G("disabled",!Yt.isValid()),R.R7$(),R.JRh(R.bMT(42,33,"Common.AddAndAdd")),R.R7$(3),R.JRh(R.bMT(45,35,"Common.Cancel")))},dependencies:[w.Sq,w.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,A.hZ,Le.Y,gt.j,Kt.Z,f.D9],encapsulation:2})}}return $t})();var fs=l(1589);const xi=["deleteAccessPolicyModal"],wt=$t=>({"inactive disabled":$t}),Tt=($t,Ai)=>Ai.type+Ai.value+Ai.permission;function xt($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"app-action-bar"),R.qex(1,9),R.j41(2,"button",10),R.bIt("click",function(){R.eBV(Et),R.XpG();const Yt=R.sdS(1);return R.Njj(Yt.show())}),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.bVm(),R.k0s()}2&$t&&(R.R7$(3),R.SpI(" ",R.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function Wt($t,Ai){1&$t&&(R.j41(0,"div",5)(1,"div")(2,"p",11),R.EFF(3),R.nI1(4,"translate"),R.k0s(),R.nrm(5,"p",12),R.nI1(6,"translate"),R.k0s()()),2&$t&&(R.R7$(3),R.JRh(R.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),R.R7$(2),R.Y8G("innerHTML",R.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),R.npT))}function un($t,Ai){1&$t&&R.nrm(0,"app-simple-loader")}function ii($t,Ai){1&$t&&(R.j41(0,"th",17)(1,"span",18),R.EFF(2),R.nI1(3,"translate"),R.k0s()()),2&$t&&(R.R7$(2),R.JRh(R.bMT(3,1,"Common.Actions")))}function Ei($t,Ai){if(1&$t&&(R.j41(0,"td",24),R.EFF(1),R.k0s()),2&$t){const Et=R.XpG().$implicit;R.R7$(),R.SpI(" ",Et.value," ")}}function Ii($t,Ai){if(1&$t&&(R.j41(0,"td",24),R.EFF(1),R.nI1(2,"standardDate"),R.k0s()),2&$t){const Et=R.XpG().$implicit;R.R7$(),R.SpI(" ",R.bMT(2,1,Et.value)," ")}}function Ti($t,Ai){1&$t&&(R.j41(0,"span",23),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&$t&&(R.R7$(),R.SpI(" ",R.bMT(2,1,"Common.Reserved")," "))}function Dn($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"button",26),R.bIt("click",function(){R.eBV(Et);const Yt=R.XpG(2).$implicit,Fn=R.XpG(3);return R.Njj(Fn.openDeletePolicyConfirmation(Yt.type,Yt.value,Yt.permission))}),R.nrm(1,"span",27),R.j41(2,"span",18),R.EFF(3),R.nI1(4,"translate"),R.k0s()()}2&$t&&(R.R7$(3),R.SpI(" ",R.bMT(4,1,"Common.Remove.Title")," "))}function Vi($t,Ai){if(1&$t&&(R.j41(0,"td"),R.DNE(1,Dn,5,3,"button",25),R.k0s()),2&$t){const Et=R.XpG().$implicit,yn=R.XpG(3);R.R7$(),R.vxM(yn.isAdminUiAdmin(Et)?-1:1)}}function ji($t,Ai){if(1&$t&&(R.j41(0,"tr",19)(1,"td",20)(2,"b"),R.EFF(3),R.k0s()(),R.DNE(4,Ei,2,1,"td",21)(5,Ii,3,3,"ng-template",null,2,R.C5r),R.j41(7,"td",22),R.EFF(8),R.nI1(9,"translate"),R.k0s(),R.j41(10,"td"),R.DNE(11,Ti,3,3,"span",23),R.k0s(),R.DNE(12,Vi,2,1,"td"),R.k0s()),2&$t){const Et=Ai.$implicit,yn=R.sdS(6),Yt=R.XpG(3);R.Y8G("ngClass",R.eq3(9,wt,!Yt.persistenceSetup||Yt.isAdminUiAdmin(Et))),R.R7$(3),R.JRh(Et.type),R.R7$(),R.Y8G("ngIf",!Et.isDateTime)("ngIfElse",yn),R.R7$(4),R.SpI(" ",R.bMT(9,7,"Permission."+Et.permission)," "),R.R7$(3),R.vxM(Yt.isAdminUiAdmin(Et)?11:-1),R.R7$(),R.vxM(Yt.persistenceSetup?12:-1)}}function zi($t,Ai){if(1&$t&&(R.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",14),R.EFF(4),R.nI1(5,"translate"),R.k0s(),R.j41(6,"th",15),R.EFF(7),R.nI1(8,"translate"),R.k0s(),R.j41(9,"th",16),R.EFF(10),R.nI1(11,"translate"),R.k0s(),R.j41(12,"th",17)(13,"span",18),R.EFF(14),R.nI1(15,"translate"),R.k0s()(),R.DNE(16,ii,4,3,"th",17),R.k0s()(),R.j41(17,"tbody"),R.Z7z(18,ji,13,11,"tr",19,Tt),R.k0s(),R.nrm(20,"tbody"),R.k0s()),2&$t){const Et=R.XpG(2);R.R7$(4),R.JRh(R.bMT(5,5,"Settings.AccessPolicy.ClaimType")),R.R7$(3),R.JRh(R.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),R.R7$(3),R.JRh(R.bMT(11,9,"Settings.AccessPolicy.Permission")),R.R7$(4),R.JRh(R.bMT(15,11,"Common.Reserved")),R.R7$(2),R.vxM(Et.persistenceSetup?16:-1),R.R7$(2),R.Dyx(null==Et.accessPolicy?null:Et.accessPolicy.policyClaims)}}function ls($t,Ai){if(1&$t&&R.DNE(0,zi,21,13,"table",13),2&$t){const Et=R.XpG();R.Y8G("ngIf",(null==Et.accessPolicy||null==Et.accessPolicy.policyClaims?null:Et.accessPolicy.policyClaims.length)>0&&!Et.isLoading)}}function ut($t,Ai){if(1&$t&&R.nrm(0,"app-pager",7),2&$t){const Et=R.XpG();R.Y8G("totalResults",null==Et.accessPolicy||null==Et.accessPolicy.policyClaims?null:Et.accessPolicy.policyClaims.length)}}function Rt($t,Ai){if(1&$t){const Et=R.RV6();R.j41(0,"app-button-bar")(1,"button",28),R.bIt("click",function(){R.eBV(Et);const Yt=R.XpG();return R.Njj(Yt.updatePolicy())}),R.EFF(2),R.nI1(3,"translate"),R.k0s()()}if(2&$t){const Et=R.XpG();R.R7$(),R.Y8G("disabled",Et.saveDisabled),R.R7$(),R.SpI(" ",R.bMT(3,2,"Common.Save")," ")}}let yt=(()=>{class $t{constructor(Et,yn,Yt,Fn,Qi,Bt,ue,Ae){this.accessPolicyService=Et,this.translate=yn,this.toastr=Yt,this.errorService=Fn,this.healthCheckService=Qi,this.dialogService=Bt,this.activatedRoute=ue,this.configService=Ae,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(Et=>{this.accessPolicyResolverData=Et.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const yn=this.accessPolicyResolverData.accessPolicy.policyClaims.find(Yt=>"role"===Yt.type&&"AdminUI Administrator"===Yt.value&&"All"===Yt.permission);this.accessPolicy=new Ln,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((Yt,Fn)=>Yt===yn?-1:Fn===yn?1:0),this.accessPolicy.policyClaims.forEach(Yt=>{ni.c9.fromISO(Yt.value).isValid&&(Yt.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((Yt,Fn)=>Yt.name.toUpperCase()<Fn.name.toUpperCase()?-1:Yt.name.toUpperCase()>Fn.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:Et=>{this.persistenceSetup=Et.policyPersistence}})}isAdminUiAdmin(Et){return"role"===Et.type&&"AdminUI Administrator"===Et.value&&"All"===Et.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(Et=>Et.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(Et){this.hasChanged=!0,this.accessPolicy.policyClaims.push(Et),this.warnToSave()}openDeletePolicyConfirmation(Et,yn,Yt){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(Fn=>Fn.type===Et&&Fn.value===yn&&Fn.permission===Yt),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(Et){this.accessPolicy.policyClaims.splice(Et,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(Et=>{this.accessPolicy=Et;const yn=this.accessPolicy.policyClaims.find(Yt=>"role"===Yt.type&&"AdminUI Administrator"===Yt.value&&"All"===Yt.permission);this.accessPolicy.policyClaims.sort((Yt,Fn)=>Yt===yn?-1:Fn===yn?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},Et=>{"409"===Et.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(Et)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(yn){return new(yn||$t)(R.rXU(pe),R.rXU(f.c$),R.rXU(rt.tw),R.rXU(we.I),R.rXU(de.M),R.rXU(vt.o),R.rXU(Fe.nX),R.rXU(Ue.w))}}static{this.\u0275cmp=R.VBU({type:$t,selectors:[["app-update-accesspolicy"]],viewQuery:function(yn,Yt){if(1&yn&&R.GBs(xi,7),2&yn){let Fn;R.mGM(Fn=R.lsd())&&(Yt.deleteAccessPolicyModal=Fn.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},standalone:!1,decls:12,vars:12,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"]],template:function(yn,Yt){if(1&yn){const Fn=R.RV6();R.j41(0,"app-add-accesspolicy",3,0),R.bIt("added",function(Bt){return R.eBV(Fn),R.Njj(Yt.addPolicy(Bt))}),R.k0s(),R.j41(2,"div",4),R.DNE(3,xt,5,3,"app-action-bar")(4,Wt,7,6,"div",5)(5,un,1,0,"app-simple-loader")(6,ls,1,1,"table",6)(7,ut,1,1,"app-pager",7),R.k0s(),R.DNE(8,Rt,4,4,"app-button-bar"),R.j41(9,"app-delete-confirmation-modal",8,1),R.bIt("delete",function(){return R.eBV(Fn),R.Njj(Yt.removePolicy(Yt.indexToDelete))}),R.k0s(),R.nrm(11,"app-can-deactivate")}if(2&yn){const Fn=R.sdS(10);R.Y8G("avaliableClaimTypes",Yt.avaliableClaimTypes)("avaliableRoles",Yt.avaliableRoles)("avaliablePermissions",Yt.avaliablePermissions)("accessPolicy",Yt.accessPolicy),R.R7$(3),R.vxM(Yt.persistenceSetup&&!Yt.isLoading?3:-1),R.R7$(),R.vxM(Yt.persistenceSetup?-1:4),R.R7$(),R.vxM(Yt.isLoading?5:-1),R.R7$(),R.vxM((null==Yt.accessPolicy||null==Yt.accessPolicy.policyClaims?null:Yt.accessPolicy.policyClaims.length)>0&&!Yt.isLoading?6:-1),R.R7$(),R.vxM((null==Yt.accessPolicy||null==Yt.accessPolicy.policyClaims?null:Yt.accessPolicy.policyClaims.length)>0&&!Yt.isLoading?7:-1),R.R7$(),R.vxM(Yt.persistenceSetup?8:-1),R.R7$(),R.Y8G("modalId",Fn)("destructive",!1)}},dependencies:[w.YU,w.bT,Ye.E,P.B,q.d,Ne.n,He.z,De.w,zn,f.D9,fs.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return $t})();var nn=l(7468);class Vn{}var ln=l(526),Xn=l(7773),qn=l(3519);let Ht=(()=>{class $t{constructor(Et,yn,Yt,Fn,Qi){this.claimTypeService=Et,this.permissionService=yn,this.accessPolicyService=Yt,this.rolesService=Fn,this.errorService=Qi}resolve(){const Et=this.permissionService.getAvaliablePermissions(),yn=this.accessPolicyService.getAccessPolicy(),Yt=this.claimTypeService.getClaimTypes(),Fn=this.rolesService.getRoles();return(0,nn.p)([Et,yn,Yt,Fn]).pipe((0,v.T)(([Bt,ue,Ae,ae])=>{const Ce=new Vn;return Ce.permissions=Bt,Ce.claimTypes=Ae,Ce.accessPolicy=ue,Ce.roles=ae,Ce},Bt=>{this.errorService.handleError(Bt)}))}static{this.\u0275fac=function(yn){return new(yn||$t)(R.KVO(ln.X),R.KVO(Xn.n),R.KVO(pe),R.KVO(qn.P),R.KVO(we.I))}}static{this.\u0275prov=R.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();var oi=l(9437),Xt=l(3485);let Un=(()=>{class $t{constructor(Et,yn,Yt){this.webhookService=Et,this.baseWebhookScopesService=yn,this.errorService=Yt}resolve(){return(0,nn.p)({webhooks:this.webhookService.getWebhooks(),scopes:this.baseWebhookScopesService.getScopes()}).pipe((0,v.T)(Et=>{const yn=new fn;return yn.webhookConfiguration=Et.webhooks,yn.scopeNames=Et.scopes,yn}),(0,oi.W)(Et=>(this.errorService.handleError(Et),Et)))}static{this.\u0275fac=function(yn){return new(yn||$t)(R.KVO(We.x),R.KVO(Xt.L),R.KVO(we.I))}}static{this.\u0275prov=R.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();class fn{}var Qn=l(8416);const vi=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:yt,canDeactivate:[Qn.M],resolve:{accessPolicyObject:Ht}},{path:"webhooks",component:tn,canDeactivate:[Qn.M],resolve:{webhookResolverObject:Un}}];let Be=(()=>{class $t{static{this.\u0275fac=function(yn){return new(yn||$t)}}static{this.\u0275mod=R.$C({type:$t})}static{this.\u0275inj=R.G2t({imports:[f.h.forChild({extend:!0}),o.iI.forChild(vi),f.h,o.iI]})}}return $t})();var Ze=l(7883);let ht=(()=>{class $t{constructor(Et,yn){this.http=Et,this.headersService=yn,this.actionUrl="signingkey",this.headers=yn.setHeaders()}getKeys(){const Et=new ft.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:Et})}deleteKey(Et){return this.http.delete(`${this.actionUrl}/${Et}`,{headers:this.headers})}static{this.\u0275fac=function(yn){return new(yn||$t)(R.KVO(ft.Qq),R.KVO(Qt.m))}}static{this.\u0275prov=R.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}}return $t})();var jt=l(9812);let Jt=(()=>{class $t{static{this.\u0275fac=function(yn){return new(yn||$t)}}static{this.\u0275mod=R.$C({type:$t})}static{this.\u0275inj=R.G2t({providers:[Ht,pe,Ze.i,ln.X,qn.P,ht,Un,jt.I],imports:[Be,w.MD,e.YN,e.X1,A.Q_,f.h,m.Y,o.iI,D.A,S.p,t.XE,g.m,k.h,z.i,u.c,E.c,B.E,V.w,F.N,X.Y,W.W,y.ClaimTypesModule,M.N]})}}return $t})();var Mn=l(4252),hi=l(8577);const ri=["deleteKeyModal"],Ki=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:yt,canDeactivate:[Qn.M],resolve:{accessPolicyObject:Ht}},{path:"webhooks",component:tn,canDeactivate:[Qn.M],resolve:{webhookResolverObject:Un}},{path:"keys",component:(()=>{class $t{constructor(Et,yn,Yt,Fn){this.keyService=Et,this.toastr=yn,this.translate=Yt,this.dataTableService=Fn,this.keysDataTableActions=[Mn.AA.Delete],this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Et=>{this.startDeleteKey(Et)})}getSerializedKeys(){this.keyService.getKeys().subscribe(Et=>{this.keys=Et})}startDeleteKey(Et){this.keyToDelete=this.keys[Et],this.deleteModal.show()}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).subscribe({next:Et=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.deleteModal.closeModal()},error:Et=>{this.toastr.error(this.translate.instant("Settings.Keys.DeleteKeyError",{keyId:this.keyToDelete.id}),this.translate.instant("Notifications.Failed"))}})}resetDeleteModal(){this.keyToDelete=null}static{this.\u0275fac=function(yn){return new(yn||$t)(R.rXU(ht),R.rXU(rt.tw),R.rXU(f.c$),R.rXU(jt.I))}}static{this.\u0275cmp=R.VBU({type:$t,selectors:[["app-list-keys"]],viewQuery:function(yn,Yt){if(1&yn&&R.GBs(ri,7),2&yn){let Fn;R.mGM(Fn=R.lsd())&&(Yt.deleteModal=Fn.first)}},standalone:!1,decls:9,vars:28,consts:[["deleteKeyModal",""],["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"delete","close","modalId","title","resourceName"]],template:function(yn,Yt){if(1&yn){const Fn=R.RV6();R.j41(0,"div",1)(1,"app-data-table",2),R.nrm(2,"app-data-table-column",3)(3,"app-data-table-column",3)(4,"app-data-table-column",3)(5,"app-data-table-column",4)(6,"app-data-table-column",5),R.k0s()(),R.j41(7,"app-delete-confirmation-modal",6,0),R.bIt("delete",function(){return R.eBV(Fn),R.Njj(Yt.deleteKey())})("close",function(){return R.eBV(Fn),R.Njj(Yt.resetDeleteModal())}),R.k0s()}2&yn&&(R.R7$(),R.Y8G("rows",Yt.keys)("actions",Yt.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),R.R7$(),R.Y8G("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),R.R7$(),R.Y8G("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),R.R7$(),R.Y8G("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),R.R7$(),R.Y8G("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),R.R7$(),R.Y8G("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),R.R7$(),R.Y8G("modalId",Yt.deleteModalId)("title","Settings.Keys.DeleteKey")("resourceName",null==Yt.keyToDelete?null:Yt.keyToDelete.id))},dependencies:[Mn.up,hi.w,De.w],encapsulation:2})}}return $t})(),canDeactivate:[Qn.M]}];let Ji=(()=>{class $t{static{this.\u0275fac=function(yn){return new(yn||$t)}}static{this.\u0275mod=R.$C({type:$t})}static{this.\u0275inj=R.G2t({imports:[f.h.forChild({extend:!0}),o.iI.forChild(Ki),f.h,o.iI]})}}return $t})(),Ms=(()=>{class $t{static{this.\u0275fac=function(yn){return new(yn||$t)}}static{this.\u0275mod=R.$C({type:$t})}static{this.\u0275inj=R.G2t({providers:[ht],imports:[w.MD,e.YN,e.X1,A.Q_,f.h,m.Y,o.iI,D.A,S.p,t.XE,g.m,k.h,z.i,u.c,E.c,B.E,V.w,F.N,X.Y,W.W,y.ClaimTypesModule,M.N,Jt,Ji]})}}return $t})()},6365:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>f});var t=l(1397),o=l(3669);function f(A=1/0){return(0,t.Z)(o.D,A)}},6406:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>A});var t=l(1360);const o=["*",[["","right",""]]],f=["*","[right]"];let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-button-bar"]],standalone:!1,ngContentSelectors:f,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(D,S){1&D&&(t.NAR(o),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.SdG(4),t.k0s(),t.SdG(5,1),t.k0s()()())},encapsulation:2})}}return e})()},6411:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>t});class t{constructor(f){this.dialogService=f}canDeactivate(){return!this.unsavedChanges||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(f=>{f&&this.onDeactivate()}),this.dialogService.eventStream)}}},6450:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>A});var t=l(6354);const{isArray:o}=Array;function A(e){return(0,t.T)(w=>function f(e,w){return o(w)?e(...w):e(w)}(e,w))}},6494:(ot,ve,l)=>{"use strict";l.d(ve,{u:()=>o});var t=l(5435);class o extends t.if{constructor(A,e,w,m,D,S){super(A,e,w),this.activateRoute=m,this.securityService=D,this.router=S,this.parentRoute=!1}get hasEditPermission(){const w=this.securityService.userPermissions;return!(!w||0===w.length)&&((this.parentRoute?this.activateRoute.parent:this.activateRoute).snapshot.data?.editPermissions??[]).findIndex(m=>w.includes(m))>=0}navigate(A,e){let w=this.parentRoute?[".."]:[];(!this.hasEditPermission||this.resourceIsReadOnly(A))&&w.push("view"),this.router.navigate([...w,encodeURIComponent(e)],{relativeTo:this.activateRoute})}}},6520:(ot,ve,l)=>{"use strict";l.d(ve,{C:()=>y});var t=l(1360);class o{constructor(){this.key="",this.value=""}}class f extends o{constructor(){super()}}var A=l(4252),e=l(1258),w=l(5794),m=l(8018),D=l(4754),S=l(9812),g=l(8434),k=l(9417),z=l(8577),u=l(7294),E=l(3899),B=l(8698);const V=["addButton"];function F(X,Z){if(1&X){const v=t.RV6();t.j41(0,"app-action-bar"),t.qex(1,5),t.j41(2,"button",6,0),t.bIt("click",function(){t.eBV(v);const Q=t.XpG();return t.Njj(Q.openAddModal())}),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.bVm(),t.k0s()}2&X&&(t.R7$(2),t.Y8G("id","addClaim"),t.R7$(2),t.SpI(" ",t.bMT(5,2,"Clients.Properties.AddProperty")," "))}function M(X,Z){if(1&X){const v=t.RV6();t.j41(0,"app-custom-modal",7),t.bIt("onCancel",function(){t.eBV(v);const Q=t.XpG();return t.Njj(Q.closeAddAndReset())})("onSave",function(){t.eBV(v);const Q=t.XpG();return t.Njj(Q.addProperty())}),t.j41(1,"app-form-row",8)(2,"input",9),t.mxI("ngModelChange",function(Q){t.eBV(v);const te=t.XpG();return t.DH7(te.addProp.key,Q)||(te.addProp.key=Q),t.Njj(Q)}),t.k0s()(),t.j41(3,"app-form-row",10)(4,"input",11),t.mxI("ngModelChange",function(Q){t.eBV(v);const te=t.XpG();return t.DH7(te.addProp.value,Q)||(te.addProp.value=Q),t.Njj(Q)}),t.k0s()()()}if(2&X){const v=t.XpG();t.Y8G("title","Clients.Properties.AddProperty")("modalId",v.addModalId)("actions",v.addModalActions)("addDisabled",v.addProp.key.length<1||v.addProp.value.length<1),t.R7$(),t.Y8G("label","Common.Key")("id","propertyAddKey"),t.R7$(),t.R50("ngModel",v.addProp.key),t.R7$(),t.Y8G("label","Common.Value")("id","propertyAddValue")("isLast",!0),t.R7$(),t.R50("ngModel",v.addProp.value)}}function W(X,Z){if(1&X){const v=t.RV6();t.j41(0,"app-custom-modal",7),t.bIt("onCancel",function(){t.eBV(v);const Q=t.XpG();return t.Njj(Q.closeModalAndReset())})("onSave",function(){t.eBV(v);const Q=t.XpG();return t.Njj(Q.saveEdit())}),t.j41(1,"app-form-row",8)(2,"input",12),t.mxI("ngModelChange",function(Q){t.eBV(v);const te=t.XpG();return t.DH7(te.editProp.key,Q)||(te.editProp.key=Q),t.Njj(Q)}),t.k0s()(),t.j41(3,"app-form-row",10)(4,"input",13),t.mxI("ngModelChange",function(Q){t.eBV(v);const te=t.XpG();return t.DH7(te.editProp.value,Q)||(te.editProp.value=Q),t.Njj(Q)}),t.k0s()()()}if(2&X){const v=t.XpG();t.Y8G("title","Clients.Properties.EditProperty")("modalId",v.editModalId)("actions",v.editModalActions)("addDisabled",v.editProp.key.length<1||v.editProp.value.length<1),t.R7$(),t.Y8G("label","Common.Key")("id","propertyEditKey"),t.R7$(),t.R50("ngModel",v.editProp.key),t.R7$(),t.Y8G("label","Common.Value")("id","propertyEditValue")("isLast",!0),t.R7$(),t.R50("ngModel",v.editProp.value)}}let y=(()=>{class X{set properties(v){this._properties=v||[]}get properties(){return this._properties}set isReadOnly(v){this._isReadOnly=v||!1}get isReadOnly(){return this._isReadOnly}set modalId(v){this._addModalId="add_"+v,this._editModalId="edit_"+v}get addModalId(){return this._addModalId}get editModalId(){return this._editModalId}constructor(v,L,Q,te){this.toastr=v,this.translate=L,this.modalService=Q,this.dataTableService=te,this.propertiesChanged=new t.bkB,this.addProp=new o,this.editing=!1,this.editProp=new f,this.propertyDataTableActions=[A.AA.Delete,A.AA.Select],this.addModalActions=[e.N.Save],this.editModalActions=[e.N.Save],this._properties=[]}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(v=>{this.deleteProperty(v)})}ngOnDestroy(){this.dtsSubscription?.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}closeAddAndReset(){this.addProp=new o,this.modalService.hideById(this.addModalId)}editProperty(v){this.editProp=JSON.parse(JSON.stringify(v.data)),this.editProp.originalIndex=this.properties.indexOf(v.data),this.editing=!0,this.modalService.showById(this.editModalId,v.element)}closeModalAndReset(){this.editProp=new f,this.editing=!1,this.modalService.hideById(this.editModalId)}saveEdit(){const v=this.properties.slice(),L=v[this.editProp.originalIndex];L.key=this.editProp.key,L.value=this.editProp.value,this.updateProperties(v),this.closeModalAndReset()}addProperty(){if(this.properties.find(L=>L.key===this.addProp.key))return void this.toastr.error(this.translate.instant("Clients.UnableToAddProperty"),this.translate.instant("Notifications.Error"));if(null==this.addProp.key||""===this.addProp.key.trim())return void this.toastr.error("Key is Invalid",this.translate.instant("Notifications.Error"));if(null==this.addProp.value||""===this.addProp.value.trim())return void this.toastr.error("Value is Invalid",this.translate.instant("Notifications.Error"));const v=this.properties.slice();v.push(this.addProp),this.updateProperties(v),this.addProp=new o}deleteProperty(v){const L=this.properties.slice();L.splice(v,1),this.updateProperties(L)}updateProperties(v){this.properties=v,this.propertiesChanged.emit(this.properties)}static{this.\u0275fac=function(L){return new(L||X)(t.rXU(w.tw),t.rXU(m.c$),t.rXU(D.B),t.rXU(S.I))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["app-properties-editor"]],viewQuery:function(L,Q){if(1&L&&t.GBs(V,5),2&L){let te;t.mGM(te=t.lsd())&&(Q.addButtonRef=te.first)}},inputs:{properties:"properties",isReadOnly:"isReadOnly",modalId:"modalId"},outputs:{propertiesChanged:"propertiesChanged"},standalone:!1,decls:6,vars:15,consts:[["addButton",""],[4,"ngIf"],[3,"title","modalId","actions","addDisabled","onCancel","onSave",4,"ngIf"],[3,"onSelect","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses","cellClasses"],["right",""],[1,"tw-btn-success",3,"click","id"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"label","id"],["id","propertyAddKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],[3,"label","id","isLast"],["id","propertyAddValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],["id","propertyEditKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],["id","propertyEditValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"]],template:function(L,Q){1&L&&(t.DNE(0,F,6,4,"app-action-bar",1)(1,M,5,11,"app-custom-modal",2),t.j41(2,"app-data-table",3),t.bIt("onSelect",function(N){return Q.editProperty(N)}),t.nrm(3,"app-data-table-column",4)(4,"app-data-table-column",4),t.k0s(),t.DNE(5,W,5,11,"app-custom-modal",2)),2&L&&(t.Y8G("ngIf",!Q.isReadOnly),t.R7$(),t.Y8G("ngIf",!Q.isReadOnly),t.R7$(),t.Y8G("isReadOnly",Q.isReadOnly)("rows",Q.properties)("norowslabel","Clients.Properties.None")("actions",Q.propertyDataTableActions),t.R7$(),t.Y8G("prop","key")("title","Common.Key")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),t.R7$(),t.Y8G("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),t.R7$(),t.Y8G("ngIf",!Q.isReadOnly))},dependencies:[g.bT,k.me,k.BC,k.vS,A.up,z.w,u.n,E.G,B.Y,m.D9],encapsulation:2})}}return X})()},6536:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>M,e:()=>F});var t=l(1360),o=l(9417),f=l(4549),A=l(7263),e=l(8434);function w(W,y){1&W&&t.eu8(0)}function m(W,y){if(1&W&&(t.j41(0,"div",4),t.DNE(1,w,1,0,"ng-container",5),t.k0s()),2&W){t.XpG();const X=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",X)}}function D(W,y){1&W&&t.eu8(0)}function S(W,y){1&W&&t.eu8(0)}function g(W,y){if(1&W&&(t.j41(0,"div",6)(1,"div",7),t.DNE(2,D,1,0,"ng-container",5),t.k0s(),t.j41(3,"div",8),t.DNE(4,S,1,0,"ng-container",5),t.k0s()()),2&W){t.XpG();const X=t.sdS(5),Z=t.sdS(7);t.R7$(2),t.Y8G("ngTemplateOutlet",Z),t.R7$(2),t.Y8G("ngTemplateOutlet",X)}}function k(W,y){1&W&&t.eu8(0)}function z(W,y){if(1&W&&(t.j41(0,"div",6),t.DNE(1,k,1,0,"ng-container",5),t.k0s()),2&W){t.XpG();const X=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",X)}}function u(W,y){if(1&W&&(t.j41(0,"option",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&W){const X=y.index;t.Y8G("value",X),t.R7$(),t.JRh(t.i5U(2,2,X,"2.0"))}}function E(W,y){if(1&W&&(t.j41(0,"option",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&W){const X=y.index;t.Y8G("value",X),t.R7$(),t.JRh(t.i5U(2,2,X,"2.0"))}}function B(W,y){if(1&W){const X=t.RV6();t.j41(0,"label",9),t.EFF(1,"Hours"),t.k0s(),t.j41(2,"div",10)(3,"select",11),t.bIt("ngModelChange",function(v){t.eBV(X);const L=t.XpG();return t.Njj(L.onHoursChange(v))}),t.j41(4,"option",12),t.EFF(5,"HH"),t.k0s(),t.DNE(6,u,3,5,"option",13),t.k0s()(),t.j41(7,"span",14),t.EFF(8,":"),t.k0s(),t.j41(9,"label",9),t.EFF(10,"Minutes"),t.k0s(),t.j41(11,"div",10)(12,"select",11),t.bIt("ngModelChange",function(v){t.eBV(X);const L=t.XpG();return t.Njj(L.onMinutesChange(v))}),t.j41(13,"option",12),t.EFF(14,"MM"),t.k0s(),t.DNE(15,E,3,5,"option",13),t.k0s()()}if(2&W){const X=t.XpG();t.Y8G("for",X.id+"-time-hours"),t.R7$(3),t.Y8G("id",X.id+"-time-hours")("ngModel",X.hours),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Y8G("ngForOf",X.counter(23)),t.R7$(3),t.Y8G("for",X.id+"-time-minutes"),t.R7$(3),t.Y8G("id",X.id+"-time-minutes")("ngModel",X.minutes),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Y8G("ngForOf",X.counter(59))}}function V(W,y){if(1&W){const X=t.RV6();t.j41(0,"input",16),t.bIt("ngModelChange",function(v){t.eBV(X);const L=t.XpG();return t.Njj(L.onDateChange(v))})("keyup",function(v){t.eBV(X);const L=t.XpG();return t.Njj(L.onKeyUp(v))}),t.k0s()}if(2&W){const X=t.XpG();t.Y8G("id",X.id+"-date")("ngModel",X.stringDate),t.BMQ("required",X.required?"":null)("min",X.minDate)("max",X.maxDate)}}var F=function(W){return W.Date="date",W.Time="time",W.DateTime="datetime",W}(F||{});let M=(()=>{class W{constructor(){this.id=(0,A.Nl)(),this.displayType=F.DateTime,this.required=!1,this.disabled=!1,this.keyup=new t.bkB,this.onChange=X=>{},this.onTouched=()=>{}}set value(X){this.setDate(X)}set min(X){this.minDate=this.toMinMaxDateString(X)}set max(X){this.maxDate=this.toMinMaxDateString(X)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(X){this.setDate(X)}registerOnChange(X){this.onChange=X}registerOnTouched(X){this.onTouched=X}setDisabledState(X){this.disabled=X}get opacity(){return this.disabled?.25:1}validate(X){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(X){this.keyup.emit(X)}onHoursChange(X){this.date=this.date?this.date.set({hour:X}):f.c9.now().set({hour:X}),this.onChange(this.date.toString())}onMinutesChange(X){this.date=this.date?this.date.set({minute:X}):f.c9.now().set({minute:X}),this.onChange(this.date.toString())}onDateChange(X){this.stringDate=X;let Z=f.c9.fromFormat(X,"yyyy-MM-dd");Z.isValid&&(this.date=this.date?this.date.set({year:Z.year,month:Z.month,day:Z.day}):Z,this.onChange(this.date.toString()))}counter(X){return new Array(X+1)}setDate(X){if(X){if(X instanceof f.c9&&(this.date=X),"string"==typeof X){const Z=f.c9.fromISO(X);this.date=Z.isValid?Z:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(X){let Z;return Z=X instanceof f.c9?X:f.c9.fromISO(X.toString()),Z.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(Z){return new(Z||W)}}static{this.\u0275cmp=t.VBU({type:W,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(Z,v){2&Z&&t.xc7("opacity",v.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},standalone:!1,features:[t.Jv_([{provide:o.kq,useExisting:(0,t.Rfq)(()=>W),multi:!0},{provide:o.cz,useExisting:(0,t.Rfq)(()=>W),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(Z,v){1&Z&&(t.j41(0,"div"),t.DNE(1,m,2,1,"div",2)(2,g,5,2,"div",3)(3,z,2,1,"div",3)(4,B,16,10,"ng-template",null,0,t.C5r)(6,V,1,5,"ng-template",null,1,t.C5r),t.k0s()),2&Z&&(t.R7$(),t.Y8G("ngIf","time"==v.displayType),t.R7$(),t.Y8G("ngIf","datetime"==v.displayType),t.R7$(),t.Y8G("ngIf","date"==v.displayType))},dependencies:[e.Sq,e.bT,e.T3,o.xH,o.y7,o.me,o.wz,o.BC,o.vS,e.QX],encapsulation:2})}}return W})()},6589:ot=>{ot.exports={options:{usePureJavaScript:!1}}},6599:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>w});var t=l(8434),o=l(1683),f=l(8018),A=l(9417),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[t.MD,A.YN,o.Y,f.h]})}}return m})()},6609:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>w});var t=l(3165),o=l(6354),f=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.actionUrl="DynamicAuthentication",this.headers=g.setHeaders()}get(S,g,k,z){let u=new t.Nl;return(0,f.gP)(S)||(u=u.append("scheme",S)),g&&(u=u.append("page",g)),k&&(u=u.append("pageSize",k)),(0,f.gP)(z)||(u=u.append("filters",z)),this.http.get(this.actionUrl,{headers:this.headers,params:u})}createDynamicAuth(S){return this.http.post(this.actionUrl,S,{headers:this.headers})}getDynamicAuth(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}updateDynamicAuth(S){return this.http.put(`${this.actionUrl}/${S.scheme}`,S,{headers:this.headers})}deleteDynamicAuth(S){return this.http.delete(`${this.actionUrl}/${S}`,{headers:this.headers})}replaceSigningCert(S,g,k){return this.http.put(`${this.actionUrl}/${S}/saml/sp/signing-certificate`,{certBase64:g,certPassword:k},{headers:this.headers})}removeSigningCert(S){return this.http.delete(`${this.actionUrl}/${S}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(S,g,k){return this.http.put(`${this.actionUrl}/${S}/saml/sp/encryption-certificate`,{certBase64:g,certPassword:k},{headers:this.headers})}removeEncryptionCert(S){return this.http.delete(`${this.actionUrl}/${S}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,o.T)(g=>g.isValid??!1))}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},6648:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>L});var t=l(8750),o=l(5225),f=l(9974),A=l(4360);function e(Q,te=0){return(0,f.N)((N,fe)=>{N.subscribe((0,A._)(fe,oe=>(0,o.N)(fe,Q,()=>fe.next(oe),te),()=>(0,o.N)(fe,Q,()=>fe.complete(),te),oe=>(0,o.N)(fe,Q,()=>fe.error(oe),te)))})}function w(Q,te=0){return(0,f.N)((N,fe)=>{fe.add(Q.schedule(()=>N.subscribe(fe),te))})}var S=l(1985),k=l(4761),z=l(8071);function E(Q,te){if(!Q)throw new Error("Iterable cannot be null");return new S.c(N=>{(0,o.N)(N,te,()=>{const fe=Q[Symbol.asyncIterator]();(0,o.N)(N,te,()=>{fe.next().then(oe=>{oe.done?N.complete():N.next(oe.value)})},0,!0)})})}var B=l(5055),V=l(9858),F=l(7441),M=l(5397),W=l(7953),y=l(591),X=l(5196);function L(Q,te){return te?function v(Q,te){if(null!=Q){if((0,B.l)(Q))return function m(Q,te){return(0,t.Tg)(Q).pipe(w(te),e(te))}(Q,te);if((0,F.X)(Q))return function g(Q,te){return new S.c(N=>{let fe=0;return te.schedule(function(){fe===Q.length?N.complete():(N.next(Q[fe++]),N.closed||this.schedule())})})}(Q,te);if((0,V.y)(Q))return function D(Q,te){return(0,t.Tg)(Q).pipe(w(te),e(te))}(Q,te);if((0,W.T)(Q))return E(Q,te);if((0,M.x)(Q))return function u(Q,te){return new S.c(N=>{let fe;return(0,o.N)(N,te,()=>{fe=Q[k.l](),(0,o.N)(N,te,()=>{let oe,R;try{({value:oe,done:R}=fe.next())}catch(Fe){return void N.error(Fe)}R?N.complete():N.next(oe)},0,!0)}),()=>(0,z.T)(fe?.return)&&fe.return()})}(Q,te);if((0,X.U)(Q))return function Z(Q,te){return E((0,X.C)(Q),te)}(Q,te)}throw(0,y.L)(Q)}(Q,te):(0,t.Tg)(Q)}},6649:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>o});var t=l(4360);function o(f,A,e,w,m){return(D,S)=>{let g=e,k=A,z=0;D.subscribe((0,t._)(S,u=>{const E=z++;k=g?f(k,u,E):(g=!0,u),w&&S.next(k)},m&&(()=>{g&&S.next(k),S.complete()})))}}},6697:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>A});var t=l(983),o=l(9974),f=l(4360);function A(e){return e<=0?()=>t.w:(0,o.N)((w,m)=>{let D=0;w.subscribe((0,f._)(m,S=>{++D<=e&&(m.next(S),e<=D&&m.complete())}))})}},6701:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>t});var t=function(o){return o.Unknown="Unknown",o.ServerSide="ServerSide",o.Machine="Machine",o.CIBAMachine="CIBAMachine",o.Native="Native",o.Device="Device",o.Saml="Saml",o.WsFed="WsFed",o.BrowserBased="BrowserBased",o.LegacyClientSide="LegacyClientSide",o.ServerSidePKCE="ServerSidePKCE",o.NativePKCE="NativePKCE",o}(t||{})},6719:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>A});var t=l(1360),o=l(2947);const f=["*"];let A=(()=>{class e{constructor(m){this.activatedRoute=m,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const m=this.activatedRoute.snapshot;null!==m.firstChild&&null!==m.firstChild.routeConfig&&m.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(D){return new(D||e)(t.rXU(o.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-custom-tab"]],inputs:{title:[0,"tabTitle","title"],value:[0,"tabValue","value"],restrictedStarter:"restrictedStarter"},standalone:!1,ngContentSelectors:f,decls:1,vars:0,template:function(D,S){1&D&&(t.NAR(),t.SdG(0))},encapsulation:2})}}return e})()},6728:(ot,ve,l)=>{"use strict";l.d(ve,{E:()=>m});var t=l(1360),o=l(7499),f=l(8018),A=l(779);const e=["canDeactivate"],w=()=>({animated:!1,backdrop:"static"});let m=(()=>{class D{constructor(g,k){this.service=g,this.translate=k,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(g=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(k){return new(k||D)(t.rXU(o.o),t.rXU(f.c$))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-can-deactivate"]],viewQuery:function(k,z){if(1&k&&t.GBs(e,7),2&k){let u;t.mGM(u=t.lsd())&&(z.modal=u.first)}},standalone:!1,decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(k,z){if(1&k){const u=t.RV6();t.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return t.eBV(u),t.Njj(z.stay())}),t.nrm(9,"span",7),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",9)(14,"p"),t.EFF(15),t.nI1(16,"translate"),t.nI1(17,"translate"),t.k0s()(),t.nrm(18,"div",10),t.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),t.bIt("click",function(){return t.eBV(u),t.Njj(z.leave())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()(),t.j41(25,"button",15),t.bIt("click",function(){return t.eBV(u),t.Njj(z.stay())}),t.EFF(26),t.nI1(27,"translate"),t.k0s()()()()()()}2&k&&(t.Y8G("config",t.lJ4(19,w)),t.R7$(6),t.JRh(t.bMT(7,7,"Notifications.UnsavedChangesTitle")),t.R7$(5),t.JRh(t.bMT(12,9,"Common.Close")),t.R7$(4),t.Lme("",t.bMT(16,11,"Notifications.UnsavedChanges")," ",t.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),t.R7$(8),t.JRh(t.bMT(24,15,"Notifications.DiscardChanges")),t.R7$(3),t.JRh(t.bMT(27,17,"Notifications.StayHere")))},dependencies:[A.hZ,f.D9],encapsulation:2})}}return D})()},6772:(ot,ve,l)=>{"use strict";l.d(ve,{H:()=>t});var t=function(o){return o.Sliding="Sliding",o.Absolute="Absolute",o}(t||{})},6780:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>e});var t=l(8359);class o extends t.yU{constructor(m,D){super()}schedule(m,D=0){return this}}const f={setInterval(w,m,...D){const{delegate:S}=f;return S?.setInterval?S.setInterval(w,m,...D):setInterval(w,m,...D)},clearInterval(w){const{delegate:m}=f;return(m?.clearInterval||clearInterval)(w)},delegate:void 0};var A=l(7908);class e extends o{constructor(m,D){super(m,D),this.scheduler=m,this.work=D,this.pending=!1}schedule(m,D=0){var S;if(this.closed)return this;this.state=m;const g=this.id,k=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(k,g,D)),this.pending=!0,this.delay=D,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(k,this.id,D),this}requestAsyncId(m,D,S=0){return f.setInterval(m.flush.bind(m,this),S)}recycleAsyncId(m,D,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return D;null!=D&&f.clearInterval(D)}execute(m,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(m,D);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(m,D){let g,S=!1;try{this.work(m)}catch(k){S=!0,g=k||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),g}unsubscribe(){if(!this.closed){const{id:m,scheduler:D}=this,{actions:S}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.o)(S,this),null!=m&&(this.id=this.recycleAsyncId(D,m,null)),this.delay=null,super.unsubscribe()}}}},6799:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>t});class t{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(f){this._data=f}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(f,A){this.importWizardController.insertAndOpenStep(f,A)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},6801:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>A});var t=l(2771),o=l(1360),f=l(3165);let A=(()=>{class e{constructor(m){this.http=m,this.idsReady=!1,this.idsHealthCheckComplete=new t.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new t.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(D){return new(D||e)(o.KVO(f.Qq))}}static{this.\u0275prov=o.jDH({token:e,factory:e.\u0275fac})}}return e})()},6807:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>f});var t=l(1360),o=l(7883);let f=(()=>{class A{constructor(w){this.securityService=w}notAllowedToEditClaim(w){return!this.securityService.allView&&this.isPolicyClaim(w)}isPolicyClaim(w){if(void 0!==w){const m=this.securityService.policyClaims;for(let D=0;D<m.length;D++)if(m[D].type===w.type&&m[D].value===w.value)return!0;return!1}}static{this.\u0275fac=function(m){return new(m||A)(t.KVO(o.i))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac})}}return A})()},6829:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{UsersModule:()=>Bt});var t=l(8434),o=l(9417),f=l(9262),A=l(5139),e=l(779),w=l(534),m=l(1683),D=l(4811),S=l(2571),g=l(5663),k=l(8018),z=l(9475),u=l(367),E=l(5731),B=l(4193),V=l(3665),F=l(7175),M=l(8389),W=l(6599),y=l(2334),X=l(7677),Z=l(1594),v=l(1360),L=l(2947),Q=l(5424),te=l(9196),N=l(3853),fe=l(3680);const oe=(ue,Ae)=>({title:ue,link:Ae}),R=ue=>[ue],Fe=()=>["active"];function we(ue,Ae){1&ue&&(v.j41(0,"option",23),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ue&&(v.R7$(),v.JRh(v.bMT(2,1,"Nav.Audits")))}function We(ue,Ae){1&ue&&(v.j41(0,"option",24),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ue&&(v.R7$(),v.JRh(v.bMT(2,1,"Nav.SessionManagement")))}function rt(ue,Ae){1&ue&&(v.j41(0,"span",27)(1,"span",28),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.nrm(4,"span",29),v.k0s()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"StarterMode.RequiresUpgrade")))}function lt(ue,Ae){if(1&ue&&(v.j41(0,"li",14)(1,"button",25),v.EFF(2),v.nI1(3,"translate"),v.DNE(4,rt,5,3,"span",26),v.k0s()()),2&ue){const ae=v.XpG();v.R7$(),v.Y8G("routerLinkActive",v.lJ4(5,Fe)),v.R7$(),v.SpI(" ",v.bMT(3,3,"Nav.Audits")," "),v.R7$(2),v.Y8G("ngIf",null==ae.licenseInfo?null:ae.licenseInfo.isStarterLicense())}}function vt(ue,Ae){1&ue&&(v.j41(0,"li",14)(1,"button",30),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ue&&(v.R7$(),v.Y8G("routerLinkActive",v.lJ4(4,Fe)),v.R7$(),v.JRh(v.bMT(3,2,"Nav.SessionManagement")))}function Ue(ue,Ae){1&ue&&(v.j41(0,"div",31)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.nI1(4,"translate"),v.k0s()()),2&ue&&(v.R7$(2),v.Lme("",v.bMT(3,2,"Users.Delete.DeletedUser")," ",v.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let Ye=(()=>{class ue{constructor(ae,Ce,Pe,At,pn){this.r=ae,this.route=Ce,this.errorService=Pe,this.configService=At,this.licenseService=pn,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ae=>{this.user=ae.user},error:ae=>{this.errorService.handleError(ae)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ae=>{this.showSessionManagement=ae.featureFlagOptions.sessionManagementEnabled,this.enableAuditing=ae.enableAuditing},error:ae=>{this.errorService.handleError(ae)}}),this.licenseService.getLicenseInfo().pipe((0,Z.$)()).subscribe({next:ae=>{this.licenseInfo=ae}})}mobRoute(ae){this.r.navigate([ae],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Ce){return new(Ce||ue)(v.rXU(L.Ix),v.rXU(L.nX),v.rXU(Q.I),v.rXU(te.w),v.rXU(N.X))}}static{this.\u0275cmp=v.VBU({type:ue,selectors:[["ng-component"]],standalone:!1,decls:57,vars:67,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","apps"],["value","userlogins"],["value","useraudits",4,"ngIf"],["value","sessions",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","apps","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["value","useraudits"],["value","sessions"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Ce,Pe){1&Ce&&(v.j41(0,"app-title-bar",0),v.nI1(1,"translate"),v.nI1(2,"localize"),v.qex(3,1),v.j41(4,"div",2)(5,"label",3),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"div",4)(9,"select",5),v.bIt("change",function(pn){return Pe.mobRoute(pn.target.value)}),v.j41(10,"option",6),v.EFF(11),v.nI1(12,"translate"),v.k0s(),v.j41(13,"option",6),v.EFF(14),v.nI1(15,"translate"),v.k0s(),v.j41(16,"option",7),v.EFF(17),v.nI1(18,"translate"),v.k0s(),v.j41(19,"option",8),v.EFF(20),v.nI1(21,"translate"),v.k0s(),v.j41(22,"option",9),v.EFF(23),v.nI1(24,"translate"),v.k0s(),v.j41(25,"option",10),v.EFF(26),v.nI1(27,"translate"),v.k0s(),v.DNE(28,we,3,3,"option",11)(29,We,3,3,"option",12),v.k0s()()(),v.j41(30,"ul",13),v.nI1(31,"translate"),v.j41(32,"li",14)(33,"button",15),v.EFF(34),v.nI1(35,"translate"),v.k0s()(),v.j41(36,"li",14)(37,"button",16),v.EFF(38),v.nI1(39,"translate"),v.k0s()(),v.j41(40,"li",14)(41,"button",17),v.EFF(42),v.nI1(43,"translate"),v.k0s()(),v.j41(44,"li",14)(45,"button",18),v.EFF(46),v.nI1(47,"translate"),v.k0s()(),v.j41(48,"li",14)(49,"button",19),v.EFF(50),v.nI1(51,"translate"),v.k0s()(),v.DNE(52,lt,5,6,"li",20)(53,vt,4,5,"li",20),v.k0s(),v.bVm(),v.k0s(),v.j41(54,"div",21),v.DNE(55,Ue,5,6,"div",22),v.nrm(56,"router-outlet"),v.k0s()),2&Ce&&(v.Y8G("title",Pe.user.firstName+" "+Pe.user.lastName)("totpEnabled",Pe.user.totpEnabled)("crumbs",v.eq3(60,R,v.l_i(57,oe,v.bMT(1,27,"Nav.Users"),v.bMT(2,29,"/users"))))("hasTabs",!0),v.R7$(6),v.JRh(v.bMT(7,31,"Nav.SubMenu")),v.R7$(5),v.SpI("",v.bMT(12,33,"Nav.SubMenu"),"..."),v.R7$(3),v.JRh(v.bMT(15,35,"Nav.Details")),v.R7$(3),v.JRh(v.bMT(18,37,"Nav.Roles")),v.R7$(3),v.JRh(v.bMT(21,39,"Nav.Additional Details")),v.R7$(3),v.JRh(v.bMT(24,41,"Nav.Applications")),v.R7$(3),v.JRh(v.bMT(27,43,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",Pe.enableAuditing),v.R7$(),v.Y8G("ngIf",Pe.showSessionManagement),v.R7$(),v.BMQ("aria-label",v.bMT(31,45,"Nav.SubMenu")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(62,Fe)),v.R7$(),v.JRh(v.bMT(35,47,"Nav.Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(63,Fe)),v.R7$(),v.JRh(v.bMT(39,49,"Nav.Roles")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(64,Fe)),v.R7$(),v.JRh(v.bMT(43,51,"Nav.Additional Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(65,Fe)),v.R7$(),v.JRh(v.bMT(47,53,"Nav.Applications")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(66,Fe)),v.R7$(),v.JRh(v.bMT(51,55,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",Pe.enableAuditing),v.R7$(),v.Y8G("ngIf",Pe.showSessionManagement),v.R7$(2),v.Y8G("ngIf",Pe.user.isDeleted))},dependencies:[L.n3,f.Wk,f.wQ,t.bT,o.xH,o.y7,fe.z,k.D9,A.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ue})();var He=l(1413),it=l(6354),Le=l(8412),Ve=l(9172),Xe=l(1397),je=l(1655),ct=l(9838),st=l(9865),Qe=l(6494),ne=l(5602),Y=l(345),he=l(5794),ge=l(7883),s=l(7156),dt=l(7294),_t=l(7384),en=l(8698),Cn=l(9550),Wn=l(7263),tn=l(316),Ln=l(6697),ni=function(ue){return ue[ue.None=0]="None",ue[ue.Add=1]="Add",ue[ue.AddAnother=2]="AddAnother",ue[ue.AddAndConfigure=3]="AddAndConfigure",ue}(ni||{}),ft=l(4589),Qt=l(526),pe=l(6801),de=l(4701);const P=["claimsComponent"],q=["addUserModal"],Ne=()=>({animated:!1,backdrop:"static"});function De(ue,Ae){1&ue&&(v.j41(0,"h2",37),v.nrm(1,"span",38),v.j41(2,"span",24),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span")(6,"a",39),v.EFF(7),v.nI1(8,"translate"),v.k0s()()()),2&ue&&(v.R7$(3),v.JRh(v.bMT(4,2,"Users.Password.DemoTitle")),v.R7$(4),v.SpI(" ",v.bMT(8,4,"Users.Password.DemoLink")," "))}function et(ue,Ae){if(1&ue&&(v.j41(0,"div")(1,"div",33),v.DNE(2,De,9,6,"h2",34),v.j41(3,"app-form-row",16),v.nrm(4,"input",35),v.j41(5,"ul",36)(6,"li"),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"li"),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"li"),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"li"),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"li"),v.EFF(19),v.nI1(20,"translate"),v.k0s()()()()()),2&ue){const ae=v.XpG();v.R7$(2),v.Y8G("ngIf",ae.isDemo),v.R7$(),v.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),v.R7$(4),v.JRh(v.bMT(8,9,"Users.Password.Requirements.1")),v.R7$(3),v.JRh(v.bMT(11,11,"Users.Password.Requirements.2")),v.R7$(3),v.JRh(v.bMT(14,13,"Users.Password.Requirements.3")),v.R7$(3),v.JRh(v.bMT(17,15,"Users.Password.Requirements.4")),v.R7$(3),v.JRh(v.bMT(20,17,"Users.Password.Requirements.5"))}}function gt(ue,Ae){1&ue&&v.nrm(0,"span",40)}function Kt(ue,Ae){1&ue&&v.nrm(0,"span",40)}function sn(ue,Ae){1&ue&&v.nrm(0,"span",40)}let Rn=(()=>{class ue{constructor(ae,Ce,Pe,At,pn,Bn,Wi,Di,Li,li,Ui){this.userService=ae,this.claimTypesService=Ce,this.errorService=Pe,this.translate=At,this.router=pn,this.fb=Bn,this.toastr=Wi,this.localize=Di,this.securityService=Li,this.healthCheckService=li,this.configService=Ui,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.requireEmail=!0,this.onSubmitted=new v.bkB,this.inFlight=!1,this.addButtonClick=ni,this.addClicked=ni.None}keydown(ae){"Enter"===ae.key&&"addUserSubmit"!==ae.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.configService.getConfig().pipe((0,Ln.s)(1)).subscribe(ae=>{null!=ae.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ae.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===ft.G.Demo||this.securityService.licenseType===ft.G.Starter,this.isDemo&&(this.canCreatePassword=!0),this.requireEmail=ae.requireEmailInUsers,this.createForms()}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ae=>{this.claimTypes=ae},ae=>{this.errorService.handleError(ae)})}addAnotherUser(){this.addAnother=!0,this.addClicked=ni.AddAnother,this.addUser()}addUser(ae){let Ce;this.addClicked===ni.None&&(this.addClicked=ae?ni.AddAndConfigure:ni.Add),Ce=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(Ce,{claims:[]});for(const Pe of this.claimsComponent.requiredClaims){if(null===Pe.value)continue;let At=Pe.value;"DateTime"===Pe.format&&(At=Pe.value),"Int"===Pe.format&&(At=At.toString()),Ce.claims.push({claimTypeId:Pe.typeId,value:At,type:Pe.type})}!1===this.canCreatePassword&&(Ce.password=null),this.inFlight=!0,this.userService.addUser(Ce).subscribe(Pe=>{this.inFlight=!1,this.addClicked=ni.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const At=this.translate.instant("Notifications.AccountCreated"),pn=this.translate.instant("Users.Singular")+" "+Ce.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(At,pn),ae&&Pe.headers.get("location")?this.addUserAndConfigure(Pe.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},Pe=>{this.inFlight=!1,this.addClicked=ni.None,this.addAnother=!1,this.errorService.handleError(Pe)})}addUserAndConfigure(ae){const Ce=ae.lastIndexOf("/"),Pe=ae.substring(Ce+1),At=[this.localize.translateRoute("/users"),Pe];this.router.navigate(At)}createForms(){this.addUserForm=this.fb.group({username:["",[o.k0.required,(0,Wn.Zt)()]],email:["",this.requireEmail?tn.D:[]],firstName:["",o.k0.required],lastName:["",o.k0.required],password:["",o.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Ce){return new(Ce||ue)(v.rXU(ne.D),v.rXU(Qt.X),v.rXU(Q.I),v.rXU(k.c$),v.rXU(L.Ix),v.rXU(o.ze),v.rXU(he.tw),v.rXU(A.QG),v.rXU(ge.i),v.rXU(pe.M),v.rXU(te.w))}}static{this.\u0275cmp=v.VBU({type:ue,selectors:[["app-add-user"]],viewQuery:function(Ce,Pe){if(1&Ce&&(v.GBs(P,7),v.GBs(q,7)),2&Ce){let At;v.mGM(At=v.lsd())&&(Pe.claimsComponent=At.first),v.mGM(At=v.lsd())&&(Pe.addUserModal=At.first)}},hostBindings:function(Ce,Pe){1&Ce&&v.bIt("keydown",function(pn){return Pe.keydown(pn)},!1,v.EBC)},outputs:{onSubmitted:"onSubmitted"},standalone:!1,decls:49,vars:40,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn-secondary",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(Ce,Pe){if(1&Ce){const At=v.RV6();v.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"button",7),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.hide())}),v.nrm(9,"span",8),v.j41(10,"span",9),v.EFF(11),v.nI1(12,"translate"),v.k0s()()(),v.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),v.nrm(16,"input",13),v.k0s(),v.j41(17,"app-form-row",12),v.nrm(18,"input",14),v.k0s(),v.j41(19,"app-form-row",12),v.nrm(20,"input",15),v.k0s(),v.j41(21,"app-form-row",16),v.nrm(22,"input",17),v.k0s()(),v.nrm(23,"app-required-claims-form",18,1),v.j41(25,"form",19),v.DNE(26,et,21,19,"div",20),v.k0s()(),v.nrm(27,"div",21),v.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.addUser())}),v.EFF(33),v.nI1(34,"translate"),v.DNE(35,gt,1,0,"span",27),v.k0s()(),v.j41(36,"span",28)(37,"button",29),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.addUser(!0))}),v.EFF(38),v.nI1(39,"translate"),v.DNE(40,Kt,1,0,"span",27),v.k0s()(),v.j41(41,"span",30)(42,"button",31),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.addAnotherUser())}),v.EFF(43),v.nI1(44,"translate"),v.DNE(45,sn,1,0,"span",27),v.k0s()()(),v.j41(46,"button",32),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.hide())}),v.EFF(47),v.nI1(48,"translate"),v.k0s()()()()()()}if(2&Ce){const At=v.sdS(24);v.Y8G("config",v.lJ4(39,Ne)),v.R7$(6),v.JRh(v.bMT(7,27,"Users.NewUser")),v.R7$(5),v.JRh(v.bMT(12,29,"Common.Close")),v.R7$(3),v.Y8G("formGroup",Pe.addUserForm),v.R7$(),v.Y8G("id","FirstName")("label","Users.FirstName"),v.R7$(2),v.Y8G("id","LastName")("label","Users.LastName"),v.R7$(2),v.Y8G("id","Username")("label","Users.Username"),v.R7$(2),v.Y8G("id","Email")("label","Users.Email")("isLast",!Pe.canCreatePassword),v.R7$(),v.BMQ("Required",Pe.requireEmail),v.R7$(),v.Y8G("claimTypes",Pe.claimTypes),v.R7$(2),v.Y8G("formGroup",Pe.addUserForm),v.R7$(),v.Y8G("ngIf",Pe.canCreatePassword),v.R7$(6),v.Y8G("disabled",!Pe.addUserForm.valid||!At.isFormValid()||Pe.inFlight),v.R7$(),v.SpI(" ",v.bMT(34,31,"Common.Save")," "),v.R7$(2),v.Y8G("ngIf",Pe.inFlight&&Pe.addClicked===Pe.addButtonClick.Add),v.R7$(2),v.Y8G("disabled",Pe.addAnother||!Pe.addUserForm.valid||!At.isFormValid()||Pe.inFlight),v.R7$(),v.SpI(" ",v.bMT(39,33,"Common.SaveAndConfigure")," "),v.R7$(2),v.Y8G("ngIf",Pe.inFlight&&Pe.addClicked===Pe.addButtonClick.AddAndConfigure),v.R7$(2),v.Y8G("disabled",!Pe.addUserForm.valid||!At.isFormValid()||Pe.inFlight),v.R7$(),v.SpI(" ",v.bMT(44,35,"Common.SaveAndAdd")," "),v.R7$(2),v.Y8G("ngIf",Pe.inFlight&&Pe.addClicked===Pe.addButtonClick.AddAnother),v.R7$(2),v.JRh(v.bMT(48,37,"Common.Cancel"))}},dependencies:[t.bT,o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,e.hZ,en.Y,de.u,k.D9],encapsulation:2})}}return ue})();const Kn=["addUserModal"],ei=(ue,Ae)=>({"tw-alert":ue,"tw-alert-warning":Ae}),Ot=(ue,Ae)=>({limit:ue,type:"users",href:Ae});function Gn(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"app-add-user",30,1),v.bIt("onSubmitted",function(Pe){v.eBV(ae);const At=v.XpG();return v.Njj(At.onSubmitted(Pe))}),v.k0s()}}function Zt(ue,Ae){if(1&ue&&(v.j41(0,"div",31),v.nrm(1,"span",32),v.nI1(2,"translate"),v.k0s()),2&ue){const ae=v.XpG();v.Y8G("ngClass",v.l_i(5,ei,ae.limitReached,ae.overLimit)),v.R7$(),v.Y8G("innerHTML",v.i5U(2,2,"Common.QuotaLimit",v.l_i(8,Ot,ae.licenseInfo.maxUsers,"https://www."+ae.LinkConstants.AdminUIProviderDomain+".com/products/adminui/order-now?index=2&name=Enterprise")),v.npT)}}function Tn(ue,Ae){1&ue&&(v.j41(0,"span"),v.nrm(1,"span",33),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ue&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.ShowFilters")," "))}function In(ue,Ae){1&ue&&(v.j41(0,"span"),v.nrm(1,"span",34),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ue&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.HideFilters")," "))}function rs(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"div",38)(1,"label",39),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"select",40),v.mxI("ngModelChange",function(Pe){v.eBV(ae);const At=v.XpG(2);return v.DH7(At.pageSize,Pe)||(At.pageSize=Pe),v.Njj(Pe)}),v.bIt("change",function(){v.eBV(ae);const Pe=v.XpG(2);return v.Njj(Pe.setPageLength(+Pe.pageSize))}),v.j41(5,"option",41),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"option",42),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"option",43),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()}if(2&ue){const ae=v.XpG(2);v.R7$(2),v.Lme("",ae.pageSize," ",v.bMT(3,6,"Nav.PerPage"),""),v.R7$(2),v.R50("ngModel",ae.pageSize),v.R7$(2),v.SpI("25 ",v.bMT(7,8,"Nav.PerPage"),""),v.R7$(3),v.SpI("50 ",v.bMT(10,10,"Nav.PerPage"),""),v.R7$(3),v.SpI("100 ",v.bMT(13,12,"Nav.PerPage"),"")}}function _i(ue,Ae){if(1&ue){const ae=v.RV6();v.qex(0,37),v.j41(1,"button",44),v.bIt("click",function(){v.eBV(ae);const Pe=v.XpG(2);return v.Njj(Pe.addModal.show())}),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.bVm()}if(2&ue){const ae=v.XpG(2);v.R7$(),v.Y8G("disabled",ae.limitReached),v.R7$(),v.SpI(" ",v.bMT(3,2,"Users.AddUser")," ")}}function Bi(ue,Ae){if(1&ue&&(v.j41(0,"app-action-bar"),v.qex(1,35),v.DNE(2,rs,14,14,"div",36),v.bVm(),v.DNE(3,_i,4,4,"ng-container",37),v.k0s()),2&ue){const ae=v.XpG();v.R7$(2),v.Y8G("ngIf",(null==ae.pagedResult?null:ae.pagedResult.results.length)>0),v.R7$(),v.vxM(ae.hasEditPermission?3:-1)}}function Ni(ue,Ae){1&ue&&v.nrm(0,"app-simple-loader")}function os(ue,Ae){1&ue&&(v.j41(0,"div",45)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.NoUsersFound")))}function zn(ue,Ae){1&ue&&(v.j41(0,"span",64)(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.Filter.Deleted")))}function fs(ue,Ae){1&ue&&(v.j41(0,"span",65)(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.Filter.Blocked")))}function xi(ue,Ae){1&ue&&(v.j41(0,"span",66),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ue&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Users.Filter.Deleted")," "))}function wt(ue,Ae){1&ue&&(v.j41(0,"span",67),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ue&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Users.Filter.Blocked")," "))}function Tt(ue,Ae){1&ue&&(v.nrm(0,"span",68),v.j41(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.View")))}function xt(ue,Ae){1&ue&&(v.nrm(0,"span",69),v.j41(1,"span",9),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.Edit")))}function Wt(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"tr",53)(1,"td",54),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(Pe,Pe.subject))}),v.DNE(2,zn,4,3,"span",55)(3,fs,4,3,"span",56),v.j41(4,"b",57),v.EFF(5),v.k0s()(),v.j41(6,"td",58),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(Pe,Pe.subject))}),v.EFF(7),v.k0s(),v.j41(8,"td",59),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(Pe,Pe.subject))}),v.EFF(9),v.k0s(),v.j41(10,"td",60),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(Pe,Pe.subject))}),v.DNE(11,xi,3,3,"span",61)(12,wt,3,3,"span",62),v.k0s(),v.j41(13,"td",60),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(Pe,Pe.subject))}),v.j41(14,"button",63),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigate(Pe,Pe.subject))}),v.DNE(15,Tt,4,3)(16,xt,4,3),v.k0s()()()}if(2&ue){const ae=Ae.$implicit,Ce=v.XpG(2);v.AVh("inactive",ae.isBlocked||ae.isDeleted||Ce.overLimit),v.R7$(2),v.Y8G("ngIf",ae.isDeleted),v.R7$(),v.Y8G("ngIf",ae.isBlocked&&!ae.isDeleted),v.R7$(2),v.SpI(" ",ae.username," "),v.R7$(2),v.Lme(" ",ae.firstName," ",ae.lastName," "),v.R7$(2),v.SpI(" ",ae.email," "),v.R7$(2),v.Y8G("ngIf",ae.isDeleted),v.R7$(),v.Y8G("ngIf",ae.isBlocked&&!ae.isDeleted),v.R7$(3),v.vxM(Ce.resourceIsReadOnly(null)?15:16)}}function un(ue,Ae){if(1&ue&&(v.j41(0,"table",46)(1,"thead")(2,"tr")(3,"th",47),v.EFF(4),v.nI1(5,"translate"),v.k0s(),v.j41(6,"th",48),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"th",49),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"th",50)(13,"span",9),v.EFF(14),v.nI1(15,"translate"),v.k0s()(),v.j41(16,"th",50)(17,"span",9),v.EFF(18),v.nI1(19,"translate"),v.k0s()()()(),v.j41(20,"tbody",51),v.DNE(21,Wt,17,11,"tr",52),v.k0s()()),2&ue){const ae=v.XpG();v.R7$(4),v.SpI(" ",v.bMT(5,6,"Users.Username")," "),v.R7$(3),v.SpI(" ",v.bMT(8,8,"Users.FullName")," "),v.R7$(3),v.SpI(" ",v.bMT(11,10,"Users.Email")," "),v.R7$(4),v.JRh(v.bMT(15,12,"Common.Status")),v.R7$(4),v.JRh(v.bMT(19,14,"Common.Actions")),v.R7$(3),v.Y8G("ngForOf",ae.pagedResult.results)}}function ii(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"app-pager",70),v.bIt("onGoToPage",function(Pe){v.eBV(ae);const At=v.XpG();return v.Njj(At.goToPage(Pe))}),v.k0s()}if(2&ue){const ae=v.XpG();v.Y8G("totalResults",null==ae.pagedResult?null:ae.pagedResult.totalCount)("currentPage",ae.page)("lastPage",null==ae.pagedResult?null:ae.pagedResult.pageCount)}}let Ei=(()=>{class ue extends Qe.u{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ae,Ce,Pe,At,pn,Bn,Wi,Di,Li,li){super(Di,Wi,!0,li,Li,Bn),this.userService=ae,this.errorService=Ce,this.titleService=Pe,this.localize=At,this.licenseService=pn,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new He.B,this.advancedFilterStream=new He.B,this.pageStream=new He.B,this.pageSizeStream=new He.B,this.LinkConstants=st.e,this.parentRoute=!0,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${ct.$9.SITE_TITLE}`),this.isLoading=!0;const ae=this.pageStream.pipe((0,it.T)(Bn=>(this.page=Bn,{searchTerm:this.term,page:Bn,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}))),Ce=this.pageSizeStream.pipe((0,it.T)(Bn=>(this.pageSize=Bn,{searchTerm:this.term,page:this.page,pageSize:Bn,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}))),Pe=this.filterStream.pipe((0,it.T)(Bn=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Bn,advancedFilters:this.activeAdvancedFilters}))),At=this.advancedFilterStream.pipe((0,it.T)(Bn=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Bn})));ae.pipe((0,Le.X)(Ce),(0,Le.X)(this.searchSource),(0,Le.X)(Pe),(0,Le.X)(At),(0,Le.X)(this.enterKeySource),(0,Ve.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,Xe.Z)(Bn=>(this.isLoading=!0,this.userService.getUsersLightweight(Bn.searchTerm,Bn.page,Bn.pageSize,Bn.filters,Bn.advancedFilters).pipe((0,je.c)(200))))).subscribe({next:Bn=>{this.pagedResult=Bn,this.isLoading=!1},error:Bn=>{500===Bn.status?this.handleInternalServerError():this.errorService.handleError(Bn),this.isLoading=!1}}),this.licenseService.getLicenseInfo().subscribe({next:Bn=>{this.licenseInfo=Bn}})}mapSearchTerm(ae){return this.term=ae,{searchTerm:ae,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}goToPage(ae){this.pageStream.next(ae)}setPageLength(ae){this.page=1,this.pageSizeStream.next(ae)}filter(ae){if(this.activeFilters.includes(ae)){const Ce=this.activeFilters.indexOf(ae);this.activeFilters.splice(Ce,1)}else this.activeFilters.push(ae);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ae){if(this.activeAdvancedFilters.includes(ae)){const Ce=this.activeAdvancedFilters.indexOf(ae);this.activeAdvancedFilters.splice(Ce,1)}else this.activeAdvancedFilters.push(ae);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ae){return this.activeFilters.includes(ae)}onSubmitted(ae){ae&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}resourceIsReadOnly(ae){return!this.hasEditPermission||this.overLimit}static{this.\u0275fac=function(Ce){return new(Ce||ue)(v.rXU(ne.D),v.rXU(Q.I),v.rXU(Y.hE),v.rXU(A.QG),v.rXU(N.X),v.rXU(L.Ix),v.rXU(k.c$),v.rXU(he.tw),v.rXU(ge.i),v.rXU(L.nX))}}static{this.\u0275cmp=v.VBU({type:ue,selectors:[["ng-component"]],viewQuery:function(Ce,Pe){if(1&Ce&&v.GBs(Kn,5),2&Ce){let At;v.mGM(At=v.lsd())&&(Pe.addModal=At.first)}},standalone:!1,features:[v.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Ce,Pe){if(1&Ce){const At=v.RV6();v.DNE(0,Gn,2,0,"app-add-user",2),v.j41(1,"div",3),v.DNE(2,Zt,3,11,"div",4),v.j41(3,"div",5)(4,"div",6)(5,"label",7),v.nrm(6,"span",8),v.j41(7,"span",9),v.EFF(8),v.nI1(9,"translate"),v.k0s()(),v.j41(10,"input",10,0),v.nI1(12,"translate"),v.mxI("ngModelChange",function(Bn){return v.eBV(At),v.DH7(Pe.searchTerm,Bn)||(Pe.searchTerm=Bn),v.Njj(Bn)}),v.bIt("keyup",function(Bn){return v.eBV(At),v.Njj(Pe.search(Bn))}),v.k0s()(),v.j41(13,"button",11),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.showAdvancedFilters=!Pe.showAdvancedFilters)}),v.DNE(14,Tn,4,3,"span",12)(15,In,4,3,"span",12),v.k0s(),v.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.advancedFilter("claims"))}),v.k0s()()()()(),v.j41(23,"div",20)(24,"p",21),v.EFF(25),v.nI1(26,"translate"),v.k0s(),v.j41(27,"ul",22)(28,"li",23)(29,"button",24),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.filter("active"))}),v.EFF(30),v.nI1(31,"translate"),v.k0s()(),v.j41(32,"li",23)(33,"button",25),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.filter("blocked"))}),v.EFF(34),v.nI1(35,"translate"),v.k0s()(),v.j41(36,"li")(37,"button",26),v.bIt("click",function(){return v.eBV(At),v.Njj(Pe.filter("deleted"))}),v.EFF(38),v.nI1(39,"translate"),v.k0s()()()()(),v.nrm(40,"hr"),v.k0s()(),v.DNE(41,Bi,4,2,"app-action-bar",12)(42,Ni,1,0,"app-simple-loader",12)(43,os,4,3,"div",27)(44,un,22,16,"table",28)(45,ii,1,3,"app-pager",29),v.k0s()}2&Ce&&(v.Y8G("ngIf",!Pe.resourceIsReadOnly(null)),v.R7$(2),v.Y8G("ngIf",Pe.limitReached),v.R7$(6),v.JRh(v.bMT(9,25,"Common.Search")),v.R7$(2),v.FS9("placeholder",v.bMT(12,27,"Users.SearchPlaceholder")),v.R50("ngModel",Pe.searchTerm),v.R7$(4),v.Y8G("ngIf",!Pe.showAdvancedFilters),v.R7$(),v.Y8G("ngIf",Pe.showAdvancedFilters),v.R7$(),v.Y8G("hidden",!Pe.showAdvancedFilters),v.R7$(4),v.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),v.R7$(),v.Y8G("id","includeClaims"),v.R7$(4),v.JRh(v.bMT(26,29,"Auditing.Showing")),v.R7$(4),v.Y8G("ngClass",Pe.isShowing("active")?"tw-btn":"tw-btn-link"),v.R7$(),v.SpI(" ",v.bMT(31,31,"Users.Filter.Active")," "),v.R7$(3),v.Y8G("ngClass",Pe.isShowing("blocked")?"tw-btn":"tw-btn-link"),v.R7$(),v.SpI(" ",v.bMT(35,33,"Users.Filter.Blocked")," "),v.R7$(3),v.Y8G("ngClass",Pe.isShowing("deleted")?"tw-btn":"tw-btn-link"),v.R7$(),v.SpI(" ",v.bMT(39,35,"Users.Filter.Deleted")," "),v.R7$(3),v.Y8G("ngIf",!Pe.isLoading),v.R7$(),v.Y8G("ngIf",Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)<1&&!Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)>0&&!Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)>0&&!Pe.isLoading))},dependencies:[t.YU,t.Sq,t.bT,o.xH,o.y7,o.me,o.wz,o.BC,o.vS,s.B,dt.n,_t.d,en.Y,Cn.m,Rn,k.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ue})();const Ii=()=>["active"];function Ti(ue,Ae){1&ue&&(v.j41(0,"li",10)(1,"button",15),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ue&&(v.R7$(),v.Y8G("routerLinkActive",v.lJ4(4,Ii)),v.R7$(),v.JRh(v.bMT(3,2,"Nav.SessionManagement")))}let Dn=(()=>{class ue{constructor(ae,Ce,Pe){this.r=ae,this.route=Ce,this.configService=Pe}ngOnInit(){this.configService.getConfig().subscribe(ae=>{this.showSessionManagement=ae.featureFlagOptions.sessionManagementEnabled})}mobRoute(ae){this.r.navigate([ae],{relativeTo:this.route})}static{this.\u0275fac=function(Ce){return new(Ce||ue)(v.rXU(L.Ix),v.rXU(L.nX),v.rXU(te.w))}}static{this.\u0275cmp=v.VBU({type:ue,selectors:[["app-users-nav"]],standalone:!1,decls:34,vars:33,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["value","reports"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["type","button","routerLink","reports","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userRoutes"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(Ce,Pe){1&Ce&&(v.j41(0,"app-title-bar",0),v.nI1(1,"translate"),v.qex(2,1),v.j41(3,"div",2)(4,"label",3),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.j41(7,"div",4)(8,"select",5),v.bIt("change",function(pn){return Pe.mobRoute(pn.target.value)}),v.j41(9,"option",6),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"option",6),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"option",7),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"option",8),v.EFF(19),v.nI1(20,"translate"),v.k0s()()()(),v.j41(21,"ul",9),v.nI1(22,"translate"),v.j41(23,"li",10)(24,"button",11),v.EFF(25),v.nI1(26,"translate"),v.k0s()(),v.DNE(27,Ti,4,5,"li",12),v.j41(28,"li",10)(29,"button",13),v.EFF(30),v.nI1(31,"translate"),v.k0s()()(),v.bVm(),v.k0s(),v.j41(32,"div",14),v.nrm(33,"router-outlet"),v.k0s()),2&Ce&&(v.Y8G("hasTabs",!0)("title",v.bMT(1,13,"Nav.Users")),v.R7$(5),v.JRh(v.bMT(6,15,"Nav.SubMenu")),v.R7$(5),v.SpI("",v.bMT(11,17,"Nav.SubMenu"),"..."),v.R7$(3),v.JRh(v.bMT(14,19,"Nav.Users")),v.R7$(3),v.JRh(v.bMT(17,21,"Nav.SessionManagement")),v.R7$(3),v.JRh(v.bMT(20,23,"Nav.Reports")),v.R7$(2),v.BMQ("aria-label",v.bMT(22,25,"Nav.SubMenu")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(31,Ii)),v.R7$(),v.JRh(v.bMT(26,27,"Nav.Users")),v.R7$(2),v.Y8G("ngIf",Pe.showSessionManagement),v.R7$(2),v.Y8G("routerLinkActive",v.lJ4(32,Ii)),v.R7$(),v.JRh(v.bMT(31,29,"Nav.Reports")))},dependencies:[L.n3,f.Wk,f.wQ,t.bT,o.xH,o.y7,fe.z,k.D9],encapsulation:2})}}return ue})();const Vi=(ue,Ae)=>({title:ue,link:Ae}),ji=ue=>[ue],zi=()=>["active"];function ls(ue,Ae){1&ue&&(v.j41(0,"span",24),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ue&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Users.Filter.Blocked")," "))}function ut(ue,Ae){1&ue&&(v.j41(0,"option",25),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ue&&(v.R7$(),v.JRh(v.bMT(2,1,"Nav.Audits")))}function Rt(ue,Ae){1&ue&&(v.j41(0,"span",28)(1,"span",29),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.nrm(4,"span",30),v.k0s()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"StarterMode.RequiresUpgrade")))}function yt(ue,Ae){if(1&ue&&(v.j41(0,"li",15)(1,"button",26),v.EFF(2),v.nI1(3,"translate"),v.DNE(4,Rt,5,3,"span",27),v.k0s()()),2&ue){const ae=v.XpG();v.R7$(),v.Y8G("routerLinkActive",v.lJ4(5,zi)),v.R7$(),v.SpI(" ",v.bMT(3,3,"Nav.Audits")," "),v.R7$(2),v.Y8G("ngIf",ae.licenseInfo.isStarterLicense())}}function nn(ue,Ae){1&ue&&(v.j41(0,"div",31)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.nI1(4,"translate"),v.k0s()()),2&ue&&(v.R7$(2),v.Lme("",v.bMT(3,2,"Users.Delete.DeletedUser")," ",v.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let Vn=(()=>{class ue{constructor(ae,Ce,Pe,At,pn,Bn){this.route=ae,this.router=Ce,this.errorService=Pe,this.licenseService=At,this.configService=pn,this.translate=Bn,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ae=>{this.user=ae.user},ae=>{this.errorService.handleError(ae)}),this.licenseService.getLicenseInfo().pipe((0,Z.$)()).subscribe({next:ae=>{this.licenseInfo=ae}}),this.configService.getConfig().pipe((0,Z.$)()).subscribe({next:ae=>{this.enableAuditing=ae.enableAuditing}})}mobRoute(ae){this.router.navigate([ae],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Ce){return new(Ce||ue)(v.rXU(L.nX),v.rXU(L.Ix),v.rXU(Q.I),v.rXU(N.X),v.rXU(te.w),v.rXU(k.c$))}}static{this.\u0275cmp=v.VBU({type:ue,selectors:[["ng-component"]],standalone:!1,decls:57,vars:66,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","apps"],["value","userlogins"],["value","useraudits",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","apps","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["value","useraudits"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Ce,Pe){1&Ce&&(v.j41(0,"app-title-bar",0),v.nI1(1,"translate"),v.nI1(2,"localize"),v.qex(3,1),v.DNE(4,ls,3,3,"span",2),v.bVm(),v.qex(5,3),v.j41(6,"div",4)(7,"label",5),v.EFF(8),v.nI1(9,"translate"),v.k0s(),v.j41(10,"div",6)(11,"select",7),v.bIt("change",function(pn){return Pe.mobRoute(pn.target.value)}),v.j41(12,"option",8),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"option",8),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"option",9),v.EFF(19),v.nI1(20,"translate"),v.k0s(),v.j41(21,"option",10),v.EFF(22),v.nI1(23,"translate"),v.k0s(),v.j41(24,"option",11),v.EFF(25),v.nI1(26,"translate"),v.k0s(),v.j41(27,"option",12),v.EFF(28),v.nI1(29,"translate"),v.k0s(),v.DNE(30,ut,3,3,"option",13),v.k0s()()(),v.j41(31,"ul",14),v.nI1(32,"translate"),v.j41(33,"li",15)(34,"button",16),v.EFF(35),v.nI1(36,"translate"),v.k0s()(),v.j41(37,"li",15)(38,"button",17),v.EFF(39),v.nI1(40,"translate"),v.k0s()(),v.j41(41,"li",15)(42,"button",18),v.EFF(43),v.nI1(44,"translate"),v.k0s()(),v.j41(45,"li",15)(46,"button",19),v.EFF(47),v.nI1(48,"translate"),v.k0s()(),v.j41(49,"li",15)(50,"button",20),v.EFF(51),v.nI1(52,"translate"),v.k0s()(),v.DNE(53,yt,5,6,"li",21),v.k0s(),v.bVm(),v.k0s(),v.j41(54,"div",22),v.DNE(55,nn,5,6,"div",23),v.nrm(56,"router-outlet"),v.k0s()),2&Ce&&(v.Y8G("title",Pe.user.firstName+" "+Pe.user.lastName)("crumbs",v.eq3(59,ji,v.l_i(56,Vi,v.bMT(1,26,"Nav.Users"),v.bMT(2,28,"/users"))))("hasTabs",!0)("isReadOnly",!0),v.R7$(4),v.Y8G("ngIf",Pe.user.isBlocked),v.R7$(4),v.JRh(v.bMT(9,30,"Nav.SubMenu")),v.R7$(5),v.SpI("",v.bMT(14,32,"Nav.SubMenu"),"..."),v.R7$(3),v.JRh(v.bMT(17,34,"Nav.Details")),v.R7$(3),v.JRh(v.bMT(20,36,"Nav.Roles")),v.R7$(3),v.JRh(v.bMT(23,38,"Nav.Additional Details")),v.R7$(3),v.JRh(v.bMT(26,40,"Nav.Applications")),v.R7$(3),v.JRh(v.bMT(29,42,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",Pe.enableAuditing),v.R7$(),v.BMQ("aria-label",v.bMT(32,44,"Nav.SubMenu")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(61,zi)),v.R7$(),v.JRh(v.bMT(36,46,"Nav.Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(62,zi)),v.R7$(),v.JRh(v.bMT(40,48,"Nav.Roles")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(63,zi)),v.R7$(),v.JRh(v.bMT(44,50,"Nav.Additional Details")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(64,zi)),v.R7$(),v.JRh(v.bMT(48,52,"Nav.Applications")),v.R7$(3),v.Y8G("routerLinkActive",v.lJ4(65,zi)),v.R7$(),v.JRh(v.bMT(52,54,"Nav.External Logins")),v.R7$(2),v.Y8G("ngIf",Pe.enableAuditing),v.R7$(2),v.Y8G("ngIf",Pe.user.isDeleted))},dependencies:[L.n3,f.Wk,f.wQ,t.bT,fe.z,k.D9,A.tl],encapsulation:2})}}return ue})();var ln=l(3178),Xn=l(5291),qn=l(3218),Ht=l(2892),oi=l(4446),Xt=l(4814),Un=l(4549),fn=l(5302),Qn=l(1589);function vi(ue,Ae){if(1&ue&&(v.j41(0,"option",11),v.EFF(1),v.k0s()),2&ue){const ae=Ae.$implicit,Ce=v.XpG(2);v.Y8G("value",ae.identifier)("selected",Ce.identifier===ae.identifier),v.R7$(),v.JRh(ae.displayName)}}function Be(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"app-action-bar"),v.qex(1,5),v.j41(2,"div",6)(3,"select",7),v.mxI("ngModelChange",function(Pe){v.eBV(ae);const At=v.XpG();return v.DH7(At.identifier,Pe)||(At.identifier=Pe),v.Njj(Pe)}),v.j41(4,"option",8),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.DNE(7,vi,2,3,"option",9),v.k0s()(),v.j41(8,"button",10),v.bIt("click",function(){v.eBV(ae);const Pe=v.XpG();return v.Njj(Pe.runReport(Pe.identifier))}),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.bVm(),v.k0s()}if(2&ue){const ae=v.XpG();v.R7$(3),v.R50("ngModel",ae.identifier),v.R7$(2),v.JRh(v.bMT(6,4,"Reports.SelectReport")),v.R7$(2),v.Y8G("ngForOf",ae.availableReports),v.R7$(2),v.SpI(" ",v.bMT(10,6,"Reports.RunReport")," ")}}function Ze(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"div",13)(1,"label",14),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"select",15),v.mxI("ngModelChange",function(Pe){v.eBV(ae);const At=v.XpG(2);return v.DH7(At.pageSize,Pe)||(At.pageSize=Pe),v.Njj(Pe)}),v.bIt("change",function(){v.eBV(ae);const Pe=v.XpG(2);return v.Njj(Pe.setPageLength(+Pe.pageSize))}),v.j41(5,"option",16),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"option",17),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"option",18),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()}if(2&ue){const ae=v.XpG(2);v.R7$(2),v.Lme("",ae.pageSize," ",v.bMT(3,6,"Nav.PerPage"),""),v.R7$(2),v.R50("ngModel",ae.pageSize),v.R7$(2),v.SpI("25 ",v.bMT(7,8,"Nav.PerPage"),""),v.R7$(3),v.SpI("50 ",v.bMT(10,10,"Nav.PerPage"),""),v.R7$(3),v.SpI("100 ",v.bMT(13,12,"Nav.PerPage"),"")}}function ht(ue,Ae){if(1&ue&&(v.j41(0,"app-action-bar"),v.qex(1,5),v.DNE(2,Ze,14,14,"div",12),v.bVm(),v.k0s()),2&ue){const ae=v.XpG();v.R7$(2),v.Y8G("ngIf",(null==ae.pagedResult?null:ae.pagedResult.results.length)>0)}}function jt(ue,Ae){1&ue&&v.nrm(0,"app-simple-loader")}function Jt(ue,Ae){1&ue&&(v.j41(0,"div",19)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Users.NoUsersFound")))}function Mn(ue,Ae){if(1&ue&&(v.j41(0,"div")(1,"b"),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.EFF(4),v.nI1(5,"standardDateTime"),v.nrm(6,"br")(7,"br"),v.k0s()),2&ue){const ae=v.XpG();v.R7$(2),v.SpI("",v.bMT(3,3,"Reports.ShowingReport")," :"),v.R7$(2),v.Lme(" ",ae.identifierDisplay," - ",v.bMT(5,5,ae.reportRunTime)," ")}}function hi(ue,Ae){1&ue&&(v.nrm(0,"span",35),v.j41(1,"span",25),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.View")))}function ri(ue,Ae){1&ue&&(v.nrm(0,"span",36),v.j41(1,"span",25),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ue&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.Edit")))}function Nn(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"tr",28)(1,"td",29),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(Pe.id))}),v.j41(2,"b",30),v.EFF(3),v.k0s()(),v.j41(4,"td",31),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(Pe.id))}),v.EFF(5),v.k0s(),v.j41(6,"td",32),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(Pe.id))}),v.EFF(7),v.k0s(),v.j41(8,"td",33),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(Pe.id))}),v.j41(9,"button",34),v.bIt("click",function(){const Pe=v.eBV(ae).$implicit,At=v.XpG(2);return v.Njj(At.navigateUser(Pe.id))}),v.DNE(10,hi,4,3)(11,ri,4,3),v.k0s()()()}if(2&ue){const ae=Ae.$implicit,Ce=v.XpG(2);v.R7$(3),v.SpI(" ",ae.username," "),v.R7$(2),v.SpI(" ",ae.fullName," "),v.R7$(2),v.SpI(" ",ae.email," "),v.R7$(3),v.vxM(Ce.resourceIsReadOnly(null)?10:11)}}function Ki(ue,Ae){if(1&ue&&(v.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),v.EFF(4),v.nI1(5,"translate"),v.k0s(),v.j41(6,"th",22),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"th",23),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"th",24)(13,"span",25),v.EFF(14),v.nI1(15,"translate"),v.k0s()()()(),v.j41(16,"tbody",26),v.DNE(17,Nn,12,4,"tr",27),v.k0s()()),2&ue){const ae=v.XpG();v.R7$(4),v.SpI(" ",v.bMT(5,5,"Users.Username")," "),v.R7$(3),v.SpI(" ",v.bMT(8,7,"Users.FullName")," "),v.R7$(3),v.SpI(" ",v.bMT(11,9,"Users.Email")," "),v.R7$(4),v.JRh(v.bMT(15,11,"Common.Actions")),v.R7$(3),v.Y8G("ngForOf",ae.pagedResult.results)}}function Ji(ue,Ae){if(1&ue){const ae=v.RV6();v.j41(0,"app-pager",37),v.bIt("onGoToPage",function(Pe){v.eBV(ae);const At=v.XpG();return v.Njj(At.goToPage(Pe))}),v.k0s()}if(2&ue){const ae=v.XpG();v.Y8G("totalResults",null==ae.pagedResult?null:ae.pagedResult.totalCount)("currentPage",ae.page)("lastPage",null==ae.pagedResult?null:ae.pagedResult.pageCount)}}let Et=(()=>{class ue extends Qe.u{constructor(ae,Ce,Pe,At,pn,Bn,Wi,Di,Li){super(Wi,Bn,!0,Li,Di,pn),this.reportsService=ae,this.errorService=Ce,this.titleService=Pe,this.localize=At,this.activatedRoute=Li,this.pageSize=25,this.page=1,this.pageStream=new He.B,this.pageSizeStream=new He.B,this.identifierStream=new He.B,this.availableReportsStream=new He.B,this.pagedResultStream=new He.B,this.parentRoute=!0,this.mapSearchTerm=this.mapSearchTerm.bind(this)}runReport(ae){this.page=1,this.identifierStream.next(ae),this.updateRouter(ae)}updateRouter(ae){var Ce=this.router.url.split("?")[0],Pe=Ce.split("/"),At=Pe.pop(),pn={page:this.page,pageSize:this.pageSize};if("reports"==At)this.router.navigate([Ce+"/"+ae],{queryParams:pn});else{var Bn=Pe.join("/");this.router.navigate([Bn+"/"+ae],{queryParams:pn})}}navigateUser(ae){var Ce=this.router.url.split("/")[1];this.router.navigate(["/"+Ce+"/users/"+ae],{})}resourceIsReadOnly(ae){return!this.hasEditPermission}mapSearchTerm(ae){throw new Error("Method not implemented.")}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Reports")+` - ${ct.$9.SITE_TITLE}`),this.isLoading=!0;var ae=this.router.url.split("?")[0].split("/").pop();this.identifier="reports"!==ae?ae:"";var Ce=this.activatedRoute.snapshot.queryParams,Pe=Ce.page;null!=Pe&&(this.page=Pe);var At=Ce.pageSize;null!=At&&(this.pageSize=At);const pn=this.pageStream.pipe((0,it.T)(Li=>(this.page=Li,{identifier:this.identifier,page:Li,pageSize:this.pageSize}))),Bn=this.pageSizeStream.pipe((0,it.T)(Li=>(this.pageSize=Li,{identifier:this.identifier,page:this.page,pageSize:Li}))),Di=this.identifierStream.pipe((0,it.T)(Li=>(this.identifier=Li,this.identifierDisplay=this.availableReports.find(li=>li.identifier==this.identifier).displayName,{identifier:Li,page:this.page,pageSize:this.pageSize}))).pipe((0,Le.X)(pn),(0,Le.X)(Bn),(0,Ve.Z)({identifier:this.identifier,page:this.page,pageSize:this.pageSize}),(0,Xe.Z)(Li=>(this.isLoading=!0,this.reportRunTime=Un.c9.local(),this.reportsService.runReport(this.identifier,this.page,this.pageSize).pipe((0,je.c)(200)))));this.reportsService.getReports().pipe().subscribe({next:Li=>{this.availableReports=Li.reports,this.identifierDisplay=Li.reports.find(li=>li.identifier==this.identifier).displayName}}),Di.subscribe({next:Li=>{this.pagedResult=Li.users,this.isLoading=!1},error:Li=>{500===Li.status?this.handleInternalServerError():this.errorService.handleError(Li),this.isLoading=!1}})}goToPage(ae){this.pageStream.next(ae),this.updateRouter(this.identifier)}setPageLength(ae){this.page=1,this.pageSizeStream.next(ae),this.updateRouter(this.identifier)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(Ce){return new(Ce||ue)(v.rXU(fn.PC),v.rXU(Q.I),v.rXU(Y.hE),v.rXU(A.QG),v.rXU(L.Ix),v.rXU(k.c$),v.rXU(he.tw),v.rXU(ge.i),v.rXU(L.nX))}}static{this.\u0275cmp=v.VBU({type:ue,selectors:[["ng-component"]],standalone:!1,features:[v.Vt3],decls:8,vars:7,consts:[["id","userReportList",1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],[1,"tw-hidden","tw-form-select","sm:tw-block","tw-px-2"],["required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"tw-btn-success",3,"click"],[3,"value","selected"],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","usersTable"],["class","group userRow",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Ce,Pe){1&Ce&&(v.j41(0,"div",0),v.DNE(1,Be,11,8,"app-action-bar",1)(2,ht,3,1,"app-action-bar",1)(3,jt,1,0,"app-simple-loader",1)(4,Jt,4,3,"div",2)(5,Mn,8,7,"div",1)(6,Ki,18,13,"table",3)(7,Ji,1,3,"app-pager",4),v.k0s()),2&Ce&&(v.R7$(),v.Y8G("ngIf",!Pe.isLoading),v.R7$(),v.Y8G("ngIf",!Pe.isLoading),v.R7$(),v.Y8G("ngIf",Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)<1&&!Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)>0&&!Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)>0&&!Pe.isLoading),v.R7$(),v.Y8G("ngIf",(null==Pe.pagedResult?null:Pe.pagedResult.results.length)>0&&!Pe.isLoading))},dependencies:[t.Sq,t.bT,o.xH,o.y7,o.wz,o.BC,o.YS,o.vS,s.B,dt.n,_t.d,Qn.r7,k.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ue})();const yn=[{path:"users",component:Dn,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Ei},{path:"sessions",component:Xn.Z,canActivate:[qn.O]},{path:"reports",component:Et},{path:"reports/:identifier",component:Et}],canActivate:[Ht.h,oi._],data:{permissions:[ln.a[ln.a.UserManager],ln.a[ln.a.UserManagerReadOnly],ln.a[ln.a.AllReadOnly],ln.a[ln.a.All]],editPermissions:[ln.a[ln.a.UserManager],ln.a[ln.a.All]]}},{path:"users/:id",component:Ye,loadChildren:()=>Promise.all([l.e(76),l.e(688)]).then(l.bind(l,1688)).then(ue=>ue.EditUsersModule),resolve:{user:D.M},canActivate:[Ht.h,oi._,Xt.y],data:{permissions:[ln.a[ln.a.UserManager],ln.a[ln.a.All]]}},{path:"users/view/:id",loadChildren:()=>Promise.all([l.e(76),l.e(855)]).then(l.bind(l,4855)).then(ue=>ue.ViewUserModule),component:Vn,canActivate:[Ht.h,oi._],resolve:{user:D.M},data:{permissions:[ln.a[ln.a.UserManager],ln.a[ln.a.UserManagerReadOnly],ln.a[ln.a.AllReadOnly],ln.a[ln.a.All]]}}];let Yt=(()=>{class ue{static{this.\u0275fac=function(Ce){return new(Ce||ue)}}static{this.\u0275mod=v.$C({type:ue})}static{this.\u0275inj=v.G2t({imports:[f.iI.forChild(yn),A.XE.forChild(yn),f.iI]})}}return ue})();var Fn=l(4367),Qi=l(9973);let Bt=(()=>{class ue{static{this.\u0275fac=function(Ce){return new(Ce||ue)}}static{this.\u0275mod=v.$C({type:ue})}static{this.\u0275inj=v.G2t({providers:[D.M,g.Q,fn.PC],imports:[Yt,t.MD,o.YN,o.X1,e.Q_,m.Y,k.h,S.A,w.Ss,A.XE,z.F,u.m,E.i,B.c,V.t,F.c,M.w,W.Y,f.iI,y.ClaimTypesModule,X.N,Fn.N,X.N,Qi.s]})}}return ue})()},6843:(ot,ve,l)=>{"use strict";l.d(ve,{l:()=>g});var t=l(8434),o=l(1683),f=l(8018),A=l(8251),e=l(4193),w=l(4367),m=l(9417),D=l(8389),S=l(1360);let g=(()=>{class k{static{this.\u0275fac=function(E){return new(E||k)}}static{this.\u0275mod=S.$C({type:k})}static{this.\u0275inj=S.G2t({imports:[t.MD,m.YN,o.Y,f.h,A.h,e.c,w.N,D.w]})}}return k})()},6888:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>o});var t=l(1360);let o=(()=>{class f{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const e=this.storage.getItem(this.countKey);let w=e?Number(e):0;return w=isNaN(w)?0:w,w}set retryCount(e){(e=isNaN(e)?0:e)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,e.toString())}static{this.\u0275fac=function(w){return new(w||f)}}static{this.\u0275prov=t.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},6923:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>D});var t=l(1594),o=l(6354),f=l(6976),A=l(1360),e=l(3853),w=l(2947),m=l(5139);let D=(()=>{class S{constructor(k,z,u){this.licenseService=k,this.router=z,this.localizeRouter=u,this.featureMap=new Map([["dynamic-auth",f.p.DynamicAuthentication],["auditing",f.p.Auditing],["clientaudits",f.p.Auditing],["useraudits",f.p.Auditing]])}canActivate(k,z){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,o.T)(u=>{if(!u.isStarterLicense())return!0;{const E=this.localizeRouter.translateRoute("/starter-mode/teaser");let B=f.p.None,V=z.url;for(let F of this.featureMap.entries())if(V.includes(F[0])){B=F[1];break}this.router.navigate([E],{queryParams:{feature:B}})}}))}static{this.\u0275fac=function(z){return new(z||S)(A.KVO(e.X),A.KVO(w.Ix),A.KVO(m.QG))}}static{this.\u0275prov=A.jDH({token:S,factory:S.\u0275fac})}}return S})()},6932:(ot,ve,l)=>{"use strict";l.d(ve,{Li:()=>D});var t=l(1360),o=l(2806),f=l(2865),A=l(9361);class w{constructor(g,k,z){this.nodes=g,this.viewRef=k,this.componentRef=z}}class m{constructor(g,k,z,u,E,B,V,F,M){this._viewContainerRef=g,this._renderer=k,this._elementRef=z,this._injector=u,this._componentFactoryResolver=E,this._ngZone=B,this._applicationRef=V,this._posService=F,this._document=M,this.onBeforeShow=new t.bkB,this.onShown=new t.bkB,this.onBeforeHide=new t.bkB,this.onHidden=new t.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(g){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(g),this}to(g){return this.container=g||this.container,this}position(g){return g?(this.attachment=g.attachment||this.attachment,this._elementRef=g.target||this._elementRef,this):this}provide(g){return this._providers.push(g),this}show(g={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(g.content,g.context,g.initialState);const k=t.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(k,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,g),this.container instanceof t.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const z=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!z)return;z.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(g.id?{id:g.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(g){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const k=this._componentRef.location.nativeElement;return k.parentNode?.removeChild(k),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(g?{id:g}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(g){this.triggers=g.triggers||this.triggers,this._listenOpts.outsideClick=g.outsideClick,this._listenOpts.outsideEsc=g.outsideEsc,g.target=g.target||this._elementRef?.nativeElement;const k=this._listenOpts.hide=()=>g.hide?g.hide():void this.hide(),z=this._listenOpts.show=E=>{g.show?g.show(E):this.show(E),E()};return this._renderer&&(this._unregisterListenersFn=(0,o.GL)(this._renderer,{target:g.target,triggers:g.triggers,show:z,hide:k,toggle:E=>{this.isShown?k():z(E)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(g,k){return g&&k&&(this._inlineViewRef=g.createEmbeddedView(k)),this}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let g=Function.prototype,k=Function.prototype;if(this._listenOpts.outsideClick){const z=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(g=(0,o.Xt)(this._renderer,{targets:[z,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(k=(0,o.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})),this._globalListener=()=>{g(),k()}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(g,k,z){if(!g)return new w([]);if(g instanceof t.C4Q){if(this._viewContainerRef){const B=this._viewContainerRef.createEmbeddedView(g,k);return B.markForCheck(),new w([B.rootNodes],B)}const E=g.createEmbeddedView({});return this._applicationRef.attachView(E),new w([E.rootNodes],E)}if("function"==typeof g){const E=this._componentFactoryResolver.resolveComponentFactory(g),B=t.zZn.create({providers:this._providers,parent:this._injector}),V=E.create(B);return Object.assign(V.instance,z),this._applicationRef.attachView(V.hostView),new w([[V.location.nativeElement]],V.hostView,V)}const u=this._renderer?[this._renderer.createText(`${g}`)]:[];return new w([u])}}let D=(()=>{class S{constructor(k,z,u,E,B,V){this._componentFactoryResolver=k,this._ngZone=z,this._injector=u,this._posService=E,this._applicationRef=B,this._document=V}createLoader(k,z,u){return new m(z,u,k,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(z){return new(z||S)(t.KVO(t.OM3),t.KVO(t.SKi),t.KVO(t.zZn),t.KVO(f.DF),t.KVO(t.o8S),t.KVO(A.q))}}static{this.\u0275prov=t.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},6976:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>t});var t=function(o){return o[o.None=0]="None",o[o.DynamicAuthentication=1]="DynamicAuthentication",o[o.Auditing=2]="Auditing",o[o.ImportExportClients=3]="ImportExportClients",o[o.ExtraClientFlows=4]="ExtraClientFlows",o}(t||{})},6977:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>e});var t=l(9974),o=l(4360),f=l(8750),A=l(5343);function e(w){return(0,t.N)((m,D)=>{(0,f.Tg)(w).subscribe((0,o._)(D,()=>D.complete(),A.l)),!D.closed&&m.subscribe(D)})}},7097:(ot,ve,l)=>{var t=l(6589);l(812),l(1817);var o=ot.exports=t.asn1=t.asn1||{};function f(m,D,S){if(S>D){var g=new Error("Too few bytes to parse DER.");throw g.available=m.length(),g.remaining=D,g.requested=S,g}}function e(m,D,S,g){var k;f(m,D,2);var z=m.getByte();D--;var u=192&z,E=31&z;k=m.length();var B=function(m,D){var S=m.getByte();if(D--,128!==S){var g;if(128&S){var z=127&S;f(m,D,z),g=m.getInt(z<<3)}else g=S;if(g<0)throw new Error("Negative length: "+g);return g}}(m,D);if(D-=k-m.length(),void 0!==B&&B>D){if(g.strict){var V=new Error("Too few bytes to read ASN.1 value.");throw V.available=m.length(),V.remaining=D,V.requested=B,V}B=D}var F,M,W=!(32&~z);if(W)if(F=[],void 0===B)for(;;){if(f(m,D,2),"\0\0"===m.bytes(2)){m.getBytes(2),D-=2;break}k=m.length(),F.push(e(m,D,S+1,g)),D-=k-m.length()}else for(;B>0;)k=m.length(),F.push(e(m,B,S+1,g)),D-=k-m.length(),B-=k-m.length();if(void 0===F&&u===o.Class.UNIVERSAL&&E===o.Type.BITSTRING&&(M=m.bytes(B)),void 0===F&&g.decodeBitStrings&&u===o.Class.UNIVERSAL&&E===o.Type.BITSTRING&&B>1){var y=m.read,X=D,Z=0;if(E===o.Type.BITSTRING&&(f(m,D,1),Z=m.getByte(),D--),0===Z)try{k=m.length();var L=e(m,D,S+1,{strict:!0,decodeBitStrings:!0}),Q=k-m.length();D-=Q,E==o.Type.BITSTRING&&Q++;var te=L.tagClass;Q===B&&(te===o.Class.UNIVERSAL||te===o.Class.CONTEXT_SPECIFIC)&&(F=[L])}catch{}void 0===F&&(m.read=y,D=X)}if(void 0===F){if(void 0===B){if(g.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");B=D}if(E===o.Type.BMPSTRING)for(F="";B>0;B-=2)f(m,D,2),F+=String.fromCharCode(m.getInt16()),D-=2;else F=m.getBytes(B),D-=B}return o.create(u,E,W,F,void 0===M?null:{bitStringContents:M})}o.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},o.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},o.create=function(m,D,S,g,k){if(t.util.isArray(g)){for(var z=[],u=0;u<g.length;++u)void 0!==g[u]&&z.push(g[u]);g=z}var E={tagClass:m,type:D,constructed:S,composed:S||t.util.isArray(g),value:g};return k&&"bitStringContents"in k&&(E.bitStringContents=k.bitStringContents,E.original=o.copy(E)),E},o.copy=function(m,D){var S;if(t.util.isArray(m)){S=[];for(var g=0;g<m.length;++g)S.push(o.copy(m[g],D));return S}return"string"==typeof m?m:(S={tagClass:m.tagClass,type:m.type,constructed:m.constructed,composed:m.composed,value:o.copy(m.value,D)},D&&!D.excludeBitStringContents&&(S.bitStringContents=m.bitStringContents),S)},o.equals=function(m,D,S){if(t.util.isArray(m)){if(!t.util.isArray(D)||m.length!==D.length)return!1;for(var g=0;g<m.length;++g)if(!o.equals(m[g],D[g]))return!1;return!0}if(typeof m!=typeof D)return!1;if("string"==typeof m)return m===D;var k=m.tagClass===D.tagClass&&m.type===D.type&&m.constructed===D.constructed&&m.composed===D.composed&&o.equals(m.value,D.value);return S&&S.includeBitStringContents&&(k=k&&m.bitStringContents===D.bitStringContents),k},o.getBerValueLength=function(m){var D=m.getByte();if(128!==D)return 128&D?m.getInt((127&D)<<3):D},o.fromDer=function(m,D){void 0===D&&(D={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof D&&(D={strict:D,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in D||(D.strict=!0),"parseAllBytes"in D||(D.parseAllBytes=!0),"decodeBitStrings"in D||(D.decodeBitStrings=!0),"string"==typeof m&&(m=t.util.createBuffer(m));var S=m.length(),g=e(m,m.length(),0,D);if(D.parseAllBytes&&0!==m.length()){var k=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw k.byteCount=S,k.remaining=m.length(),k}return g},o.toDer=function(m){var D=t.util.createBuffer(),S=m.tagClass|m.type,g=t.util.createBuffer(),k=!1;if("bitStringContents"in m&&(k=!0,m.original&&(k=o.equals(m,m.original))),k)g.putBytes(m.bitStringContents);else if(m.composed){m.constructed?S|=32:g.putByte(0);for(var z=0;z<m.value.length;++z)void 0!==m.value[z]&&g.putBuffer(o.toDer(m.value[z]))}else if(m.type===o.Type.BMPSTRING)for(z=0;z<m.value.length;++z)g.putInt16(m.value.charCodeAt(z));else!(m.type===o.Type.INTEGER&&m.value.length>1)||(0!==m.value.charCodeAt(0)||128&m.value.charCodeAt(1))&&(255!==m.value.charCodeAt(0)||128&~m.value.charCodeAt(1))?g.putBytes(m.value):g.putBytes(m.value.substr(1));if(D.putByte(S),g.length()<=127)D.putByte(127&g.length());else{var u=g.length(),E="";do{E+=String.fromCharCode(255&u),u>>>=8}while(u>0);for(D.putByte(128|E.length),z=E.length-1;z>=0;--z)D.putByte(E.charCodeAt(z))}return D.putBuffer(g),D},o.oidToDer=function(m){var D=m.split("."),S=t.util.createBuffer();S.putByte(40*parseInt(D[0],10)+parseInt(D[1],10));for(var g,k,z,u,E=2;E<D.length;++E){g=!0,k=[],z=parseInt(D[E],10);do{u=127&z,z>>>=7,g||(u|=128),k.push(u),g=!1}while(z>0);for(var B=k.length-1;B>=0;--B)S.putByte(k[B])}return S},o.derToOid=function(m){var D;"string"==typeof m&&(m=t.util.createBuffer(m));var S=m.getByte();D=Math.floor(S/40)+"."+S%40;for(var g=0;m.length()>0;)g<<=7,128&(S=m.getByte())?g+=127&S:(D+="."+(g+S),g=0);return D},o.utcTimeToDate=function(m){var D=new Date,S=parseInt(m.substr(0,2),10);S=S>=50?1900+S:2e3+S;var g=parseInt(m.substr(2,2),10)-1,k=parseInt(m.substr(4,2),10),z=parseInt(m.substr(6,2),10),u=parseInt(m.substr(8,2),10),E=0;if(m.length>11){var B=m.charAt(10),V=10;"+"!==B&&"-"!==B&&(E=parseInt(m.substr(10,2),10),V+=2)}if(D.setUTCFullYear(S,g,k),D.setUTCHours(z,u,E,0),V&&("+"===(B=m.charAt(V))||"-"===B)){var W=60*parseInt(m.substr(V+1,2),10)+parseInt(m.substr(V+4,2),10);W*=6e4,D.setTime("+"===B?+D-W:+D+W)}return D},o.generalizedTimeToDate=function(m){var D=new Date,S=parseInt(m.substr(0,4),10),g=parseInt(m.substr(4,2),10)-1,k=parseInt(m.substr(6,2),10),z=parseInt(m.substr(8,2),10),u=parseInt(m.substr(10,2),10),E=parseInt(m.substr(12,2),10),B=0,V=0,F=!1;"Z"===m.charAt(m.length-1)&&(F=!0);var M=m.length-5,W=m.charAt(M);return"+"!==W&&"-"!==W||(V=60*parseInt(m.substr(M+1,2),10)+parseInt(m.substr(M+4,2),10),V*=6e4,"+"===W&&(V*=-1),F=!0),"."===m.charAt(14)&&(B=1e3*parseFloat(m.substr(14),10)),F?(D.setUTCFullYear(S,g,k),D.setUTCHours(z,u,E,B),D.setTime(+D+V)):(D.setFullYear(S,g,k),D.setHours(z,u,E,B)),D},o.dateToUtcTime=function(m){if("string"==typeof m)return m;var D="",S=[];S.push((""+m.getUTCFullYear()).substr(2)),S.push(""+(m.getUTCMonth()+1)),S.push(""+m.getUTCDate()),S.push(""+m.getUTCHours()),S.push(""+m.getUTCMinutes()),S.push(""+m.getUTCSeconds());for(var g=0;g<S.length;++g)S[g].length<2&&(D+="0"),D+=S[g];return D+"Z"},o.dateToGeneralizedTime=function(m){if("string"==typeof m)return m;var D="",S=[];S.push(""+m.getUTCFullYear()),S.push(""+(m.getUTCMonth()+1)),S.push(""+m.getUTCDate()),S.push(""+m.getUTCHours()),S.push(""+m.getUTCMinutes()),S.push(""+m.getUTCSeconds());for(var g=0;g<S.length;++g)S[g].length<2&&(D+="0"),D+=S[g];return D+"Z"},o.integerToDer=function(m){var D=t.util.createBuffer();if(m>=-128&&m<128)return D.putSignedInt(m,8);if(m>=-32768&&m<32768)return D.putSignedInt(m,16);if(m>=-8388608&&m<8388608)return D.putSignedInt(m,24);if(m>=-2147483648&&m<2147483648)return D.putSignedInt(m,32);var S=new Error("Integer too large; max is 32-bits.");throw S.integer=m,S},o.derToInteger=function(m){"string"==typeof m&&(m=t.util.createBuffer(m));var D=8*m.length();if(D>32)throw new Error("Integer too large; max is 32-bits.");return m.getSignedInt(D)},o.validate=function(m,D,S,g){var k=!1;if((m.tagClass===D.tagClass||typeof D.tagClass>"u")&&(m.type===D.type||typeof D.type>"u"))if(m.constructed===D.constructed||typeof D.constructed>"u"){if(k=!0,D.value&&t.util.isArray(D.value))for(var z=0,u=0;k&&u<D.value.length;++u)k=D.value[u].optional||!1,m.value[z]&&((k=o.validate(m.value[z],D.value[u],S,g))?++z:D.value[u].optional&&(k=!0)),!k&&g&&g.push("["+D.name+'] Tag class "'+D.tagClass+'", type "'+D.type+'" expected value length "'+D.value.length+'", got "'+m.value.length+'"');if(k&&S&&(D.capture&&(S[D.capture]=m.value),D.captureAsn1&&(S[D.captureAsn1]=m),D.captureBitStringContents&&"bitStringContents"in m&&(S[D.captureBitStringContents]=m.bitStringContents),D.captureBitStringValue&&"bitStringContents"in m))if(m.bitStringContents.length<2)S[D.captureBitStringValue]="";else{if(0!==m.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");S[D.captureBitStringValue]=m.bitStringContents.slice(1)}}else g&&g.push("["+D.name+'] Expected constructed "'+D.constructed+'", got "'+m.constructed+'"');else g&&(m.tagClass!==D.tagClass&&g.push("["+D.name+'] Expected tag class "'+D.tagClass+'", got "'+m.tagClass+'"'),m.type!==D.type&&g.push("["+D.name+'] Expected type "'+D.type+'", got "'+m.type+'"'));return k};var w=/[^\\u0000-\\u00ff]/;o.prettyPrint=function(m,D,S){var g="";S=S||2,(D=D||0)>0&&(g+="\n");for(var k="",z=0;z<D*S;++z)k+=" ";switch(g+=k+"Tag: ",m.tagClass){case o.Class.UNIVERSAL:g+="Universal:";break;case o.Class.APPLICATION:g+="Application:";break;case o.Class.CONTEXT_SPECIFIC:g+="Context-Specific:";break;case o.Class.PRIVATE:g+="Private:"}if(m.tagClass===o.Class.UNIVERSAL)switch(g+=m.type,m.type){case o.Type.NONE:g+=" (None)";break;case o.Type.BOOLEAN:g+=" (Boolean)";break;case o.Type.INTEGER:g+=" (Integer)";break;case o.Type.BITSTRING:g+=" (Bit string)";break;case o.Type.OCTETSTRING:g+=" (Octet string)";break;case o.Type.NULL:g+=" (Null)";break;case o.Type.OID:g+=" (Object Identifier)";break;case o.Type.ODESC:g+=" (Object Descriptor)";break;case o.Type.EXTERNAL:g+=" (External or Instance of)";break;case o.Type.REAL:g+=" (Real)";break;case o.Type.ENUMERATED:g+=" (Enumerated)";break;case o.Type.EMBEDDED:g+=" (Embedded PDV)";break;case o.Type.UTF8:g+=" (UTF8)";break;case o.Type.ROID:g+=" (Relative Object Identifier)";break;case o.Type.SEQUENCE:g+=" (Sequence)";break;case o.Type.SET:g+=" (Set)";break;case o.Type.PRINTABLESTRING:g+=" (Printable String)";break;case o.Type.IA5String:g+=" (IA5String (ASCII))";break;case o.Type.UTCTIME:g+=" (UTC time)";break;case o.Type.GENERALIZEDTIME:g+=" (Generalized time)";break;case o.Type.BMPSTRING:g+=" (BMP String)"}else g+=m.type;if(g+="\n",g+=k+"Constructed: "+m.constructed+"\n",m.composed){var u=0,E="";for(z=0;z<m.value.length;++z)void 0!==m.value[z]&&(u+=1,E+=o.prettyPrint(m.value[z],D+1,S),z+1<m.value.length&&(E+=","));g+=k+"Sub values: "+u+E}else{if(g+=k+"Value: ",m.type===o.Type.OID){var B=o.derToOid(m.value);g+=B,t.pki&&t.pki.oids&&B in t.pki.oids&&(g+=" ("+t.pki.oids[B]+") ")}if(m.type===o.Type.INTEGER)try{g+=o.derToInteger(m.value)}catch{g+="0x"+t.util.bytesToHex(m.value)}else if(m.type===o.Type.BITSTRING){if(g+=m.value.length>1?"0x"+t.util.bytesToHex(m.value.slice(1)):"(none)",m.value.length>0){var V=m.value.charCodeAt(0);1==V?g+=" (1 unused bit shown)":V>1&&(g+=" ("+V+" unused bits shown)")}}else if(m.type===o.Type.OCTETSTRING)w.test(m.value)||(g+="("+m.value+") "),g+="0x"+t.util.bytesToHex(m.value);else if(m.type===o.Type.UTF8)try{g+=t.util.decodeUtf8(m.value)}catch(F){if("URI malformed"!==F.message)throw F;g+="0x"+t.util.bytesToHex(m.value)+" (malformed UTF8)"}else m.type===o.Type.PRINTABLESTRING||m.type===o.Type.IA5String?g+=m.value:w.test(m.value)?g+="0x"+t.util.bytesToHex(m.value):g+=0===m.value.length?"[null]":m.value}return g}},7156:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>m});var t=l(1360),o=l(8434),f=l(8018);function A(D,S){if(1&D&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&D){const g=t.XpG();t.R7$(),t.JRh(g.pageXofX)}}function e(D,S){1&D&&(t.j41(0,"span",7),t.EFF(1,"\u2022"),t.k0s())}function w(D,S){if(1&D){const g=t.RV6();t.j41(0,"nav",8),t.nI1(1,"translate"),t.j41(2,"ul",9)(3,"li")(4,"button",10),t.bIt("click",function(){t.eBV(g);const z=t.XpG();return t.Njj(z.goToPage(1))}),t.j41(5,"span"),t.nrm(6,"span",11),t.k0s(),t.j41(7,"span",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"li",13)(11,"button",14),t.bIt("click",function(){t.eBV(g);const z=t.XpG();return t.Njj(z.goToPage(z.currentPage-1))}),t.j41(12,"span"),t.nrm(13,"span",15),t.k0s(),t.j41(14,"span",12),t.EFF(15),t.nI1(16,"translate"),t.k0s()()(),t.j41(17,"li",13)(18,"button",16),t.bIt("click",function(){t.eBV(g);const z=t.XpG();return t.Njj(z.goToPage(z.currentPage+1))}),t.j41(19,"span"),t.nrm(20,"span",17),t.k0s(),t.j41(21,"span",12),t.EFF(22),t.nI1(23,"translate"),t.k0s()()(),t.j41(24,"li",13)(25,"button",18),t.bIt("click",function(){t.eBV(g);const z=t.XpG();return t.Njj(z.goToPage(z.lastPage))}),t.j41(26,"span"),t.nrm(27,"span",19),t.k0s(),t.j41(28,"span",12),t.EFF(29),t.nI1(30,"translate"),t.k0s()()()()()}if(2&D){const g=t.XpG();t.BMQ("aria-label",t.bMT(1,9,"Nav.Page")),t.R7$(4),t.Y8G("disabled",1==g.currentPage),t.R7$(4),t.JRh(t.bMT(9,11,"Nav.First")),t.R7$(3),t.Y8G("disabled",1==g.currentPage),t.R7$(4),t.JRh(t.bMT(16,13,"Nav.Previous")),t.R7$(3),t.Y8G("disabled",g.currentPage==g.lastPage),t.R7$(4),t.JRh(t.bMT(23,15,"Nav.Next")),t.R7$(3),t.Y8G("disabled",g.currentPage==g.lastPage),t.R7$(4),t.JRh(t.bMT(30,17,"Nav.Last"))}}let m=(()=>{class D{constructor(g,k){this.translate=g,this.decimalPipe=k,this.onGoToPage=new t.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let g=this.translate.instant("Nav.PageXofX");g=g.replace("{0}",this.decimalPipe.transform(this.currentPage)),g=g.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=g}goToPage(g){void 0!==this.onGoToPage&&(g<1?g=1:g>this.lastPage&&(g=this.lastPage),this.onGoToPage.emit(g))}static{this.\u0275fac=function(k){return new(k||D)(t.rXU(f.c$),t.rXU(o.QX))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},standalone:!1,features:[t.Jv_([o.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(k,z){1&k&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,A,2,1,"span",2)(3,e,2,0,"span",3),t.j41(4,"span",4),t.EFF(5),t.nI1(6,"number"),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,w,31,19,"nav",5),t.k0s()),2&k&&(t.R7$(2),t.Y8G("ngIf",!z.hidePager),t.R7$(),t.Y8G("ngIf",!z.hidePager),t.R7$(2),t.Lme("",t.bMT(6,5,z.totalResults)," ",t.bMT(7,7,"Nav.ResultsFound"),""),t.R7$(3),t.Y8G("ngIf",!z.hidePager))},dependencies:[o.bT,o.QX,f.D9],encapsulation:2})}}return D})()},7175:(ot,ve,l)=>{"use strict";l.d(ve,{c:()=>w});var t=l(9417),o=l(8434),f=l(9262),A=l(8018),e=l(1360);let w=(()=>{class m{static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275mod=e.$C({type:m})}static{this.\u0275inj=e.G2t({imports:[o.MD,f.iI,A.h,t.YN]})}}return m})()},7185:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>t});var t=function(o){return o.Default="Default",o.Warning="Warning",o}(t||{})},7212:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>t});class t{constructor(){this.SigningCertificates=[]}}},7263:(ot,ve,l)=>{"use strict";l.d(ve,{$N:()=>y,$_:()=>v,AB:()=>F,Dh:()=>S,KU:()=>e,Li:()=>Z,Nj:()=>f,Nl:()=>V,TO:()=>W,Yt:()=>E,Zt:()=>M,_U:()=>u,gP:()=>D,hX:()=>w,hr:()=>A,kI:()=>g,mk:()=>Q,tb:()=>L,uf:()=>z,zG:()=>te});var t=l(3178),o=l(4549);function f(R,Fe=" "){return w(R)?"":R.join(Fe)}function A(R,Fe=" "){return D(R)?[]:R.split(Fe)}function e(R,Fe){return`${o.c9.fromISO(R).toFormat(Fe)} UTC`}function w(R){return null==R}function D(R){return null==R||"string"!=typeof R||""===R||null!==R.match(/^ *$/)}function S(R){return(R.value||"").trim().length?null:{whitespace:!0}}function g(R){const Fe=document.createElement("a");return Fe.href=R,Fe.protocol+"//"+decodeURIComponent(Fe.host)}function z(R){const we=new RegExp("(^https?://|urn:|tcp://)").exec(R);if(we){if("urn:"===we[0])return!1}else R="http://"+R;const We=R.split("/");return R.endsWith("/")?We.length>4:We.length>3}function u(R){const we=new RegExp("https?://|urn:|tcp://").exec(R);return we?we[0]:null}function E(R,Fe){const we=JSON.parse(JSON.stringify(R));return Fe.forEach(We=>{let rt=we.length;for(;rt--;)we[rt].name===We.name&&we.splice(rt,1)}),we}function V(){let R=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(R+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(Fe){const we=(R+16*Math.random())%16|0;return R=Math.floor(R/16),("x"===Fe?we:3&we|8).toString(16)})}function F(R){return Fe=>R.test(Fe.value)?null:{regex:{value:Fe.value}}}function M(){return R=>0===(R.value||"").trim().length?{whitespace:{value:R.value}}:null}function W(R){const Fe=o.c9.now();return o.c9.fromISO(R.value).diff(Fe).milliseconds>1?{dateInFuture:!0}:null}function y(R){const Fe=o.c9.fromISO(R.get("fromDate").value);return o.c9.fromISO(R.get("toDate").value).diff(Fe,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function Z(R){if(R&&R.size>0){const Fe={};return R.forEach((we,We)=>{Fe[We]=we}),Fe}return{}}function v(){const R=document.getElementsByTagName("base")[0].attributes.href.value;return D(R)?"/":R.endsWith("/")?R:`${R}/`}function L(R){return!(!R||0===R.length)&&(R.includes(t.a.AuthorizationServerManagerReadOnly)||R.includes(t.a.AllReadOnly))&&!(R.includes(t.a.AuthorizationServerManager)||R.includes(t.a.All))}function Q(R){return!(!R||0===R.length)&&(R.includes(t.a.AuthorizationServerManager)||R.includes(t.a.All))}function te(R){return!(!R||0===R.length)&&(R.includes(t.a.UserManagerReadOnly)||R.includes(t.a.AllReadOnly))&&!(R.includes(t.a.UserManager)||R.includes(t.a.All))}},7294:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>A});var t=l(1360);const o=[[["","left",""]],[["","right",""]]],f=["[left]","[right]"];let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-action-bar"]],standalone:!1,ngContentSelectors:f,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(D,S){1&D&&(t.NAR(o),t.j41(0,"div",0),t.SdG(1),t.j41(2,"div",1),t.SdG(3,1),t.k0s()())},encapsulation:2})}}return e})()},7329:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>t});class t{constructor(f,A){this.component=f,this.data=A,A||(A={})}}},7380:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>t});class t{constructor(f){this.router=f}redirectToView(f,A){const e=A.url.replace(`/${f.params.id}`,`/view/${f.params.id}`);this.router.navigate([e])}}},7384:(ot,ve,l)=>{"use strict";l.d(ve,{d:()=>w});var t=l(1360),o=l(8434),f=l(8018);function A(m,D){1&m&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&m&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.LoadingPleaseWait")))}function e(m,D){if(1&m&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&m){const S=t.XpG();t.R7$(),t.JRh(S.text)}}let w=(()=>{class m{constructor(){this.text=""}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["app-simple-loader"]],inputs:{text:"text"},standalone:!1,decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(g,k){1&g&&(t.j41(0,"div",0),t.nrm(1,"span",1),t.DNE(2,A,3,3,"span",2)(3,e,2,1,"span",2),t.k0s()),2&g&&(t.R7$(2),t.Y8G("ngIf",""==k.text),t.R7$(),t.Y8G("ngIf",""!=k.text))},dependencies:[o.bT,f.D9],encapsulation:2})}}return m})()},7441:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>t});const t=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7468:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>D});var t=l(1985),o=l(3073),f=l(8750),A=l(9326),e=l(4360),w=l(6450),m=l(8496);function D(...S){const g=(0,A.ms)(S),{args:k,keys:z}=(0,o.D)(S),u=new t.c(E=>{const{length:B}=k;if(!B)return void E.complete();const V=new Array(B);let F=B,M=B;for(let W=0;W<B;W++){let y=!1;(0,f.Tg)(k[W]).subscribe((0,e._)(E,X=>{y||(y=!0,M--),V[W]=X},()=>F--,void 0,()=>{(!F||!y)&&(M||E.next(z?(0,m.e)(z,V):V),E.complete())}))}});return g?u.pipe((0,w.I)(g)):u}},7499:(ot,ve,l)=>{"use strict";l.d(ve,{o:()=>f});var t=l(1413),o=l(1360);let f=(()=>{class A{constructor(){this.emitter=new t.B,this.eventStream=new t.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},7548:(ot,ve,l)=>{"use strict";l.d(ve,{Q0:()=>e,jc:()=>f,lH:()=>o,yx:()=>A});var t=l(308);function o(m){return{...m,type:t.EX[m.type]}}function f(m){return{...m,type:t.EX[m.type]}}function A(m){return JSON.parse(m)}function e(m){return JSON.parse(m)}},7553:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>m});var t=l(1594),o=l(6354),f=l(978),A=l(1360),e=l(2947),w=l(9196);let m=(()=>{class D{constructor(g,k){this.router=g,this.config=k}canActivate(g,k){return this.config.getConfig().pipe((0,t.$)(),(0,o.T)(z=>z?.featureFlagOptions?.dynamicAuthenticationFlag!=f.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(k){return new(k||D)(A.KVO(e.Ix),A.KVO(w.w))}}static{this.\u0275prov=A.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},7594:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>D});var t=l(3165),o=l(2771),f=l(6701),A=l(7263);class e{constructor(g,k){this.http=g,this.headersService=k,this.headers=k.setHeaders()}create(g){return this.http.post(this.actionUrl,g,{headers:this.headers})}clone(g,k){return this.http.post(`${this.actionUrl}/${g}/clone`,k,{headers:this.headers,observe:"response"})}delete(g){return this.http.delete(`${this.actionUrl}/${g}`,{headers:this.headers})}getByResourceId(g){return this.http.get(`${this.actionUrl}/${g}`,{headers:this.headers})}find(g,k,z,u){let E=new t.Nl;return(0,A.gP)(g)||(E=E.append("query",g)),k&&(E=E.append("page",k)),z&&(E=E.append("pageSize",z)),u&&(E=E.append("filters",u.join(" "))),this.http.get(this.actionUrl,{headers:this.headers,params:E})}update(g,k){return this.http.put(`${this.actionUrl}/${g}`,k,{headers:this.headers})}}var w=l(1360),m=l(9564);let D=(()=>{class S extends e{constructor(k,z){super(k,z),this.actionUrl="clients",this.clientSubject=new o.m(1)}getClients(k,z,u){let E=new t.Nl;return(0,A.gP)(k)||(E=E.append("name",k)),z&&(E=E.append("page",z)),u&&(E=E.append("pageSize",u)),this.http.get(this.actionUrl,{headers:this.headers,params:E})}getClient(k){return this.getByResourceId(k)}getCachedClient(){return this.clientSubject}addClient(k){switch(k.clientType){case f.s.Saml:this.headers=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case f.s.WsFed:this.headers=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:this.headers=this.headersService.setHeaders()}return this.create(k)}updateClient(k){return this.update(k.id,k)}addClientSecret(k,z){return this.http.post(`${this.actionUrl}/${k}/secrets`,z,{headers:this.headers})}removeClientSecret(k,z){return this.http.delete(`${this.actionUrl}/${k}/secrets/${z.id}`,{headers:this.headers})}deleteClient(k){return this.delete(k)}cloneClient(k,z){return this.headers=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json"),this.clone(k,z)}static{this.\u0275fac=function(z){return new(z||S)(w.KVO(t.Qq),w.KVO(m.m))}}static{this.\u0275prov=w.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},7629:(ot,ve,l)=>{"use strict";l.d(ve,{oG:()=>De});var t=l(1744),o=l(4414),f=l(7263),A=l(590),e=l(6799);let w=(()=>{class Ot{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return Ot})();var m=l(1360),D=l(5826),S=l(8018),g=l(5139),k=l(8434);let z=(()=>{class Ot{transform(Zt){if(Zt){const Tn=[...Zt];let In="",rs="";for(let _i=0;_i<Tn.length;_i++){const Bi=Tn[_i];if(0===In.length)In=Bi.toUpperCase();else if(_i+1===Tn.length)rs===rs.toUpperCase()||Bi===Bi.toLowerCase()?In+=Bi:In+=`${Bi}`;else if(Bi===Bi.toUpperCase()){const Ni=rs===rs.toUpperCase(),os=Tn[_i+1];Ni?os===os.toLowerCase()?In+=` ${Bi}`:In+=Bi:In+=` ${Bi}`}else In+=Bi;rs=Bi}Zt=In}return Zt}static{this.\u0275fac=function(Tn){return new(Tn||Ot)}}static{this.\u0275pipe=m.EJ8({name:"beautifyPropertyName",type:Ot,pure:!0,standalone:!1})}}return Ot})();const u=["importSummaryConflictsModal"];function E(Ot,Gn){1&Ot&&m.nrm(0,"span",25)}function B(Ot,Gn){1&Ot&&m.nrm(0,"span",26)}function V(Ot,Gn){1&Ot&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function F(Ot,Gn){if(1&Ot&&(m.j41(0,"li",34)(1,"span"),m.EFF(2),m.k0s(),m.DNE(3,V,2,0,"span",35),m.k0s()),2&Ot){const Zt=Gn.$implicit,Tn=Gn.last;m.R7$(2),m.JRh(Zt.displayName),m.R7$(),m.Y8G("ngIf",!Tn)}}function M(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",30)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd")(5,"ul",32),m.DNE(6,F,4,2,"li",33),m.k0s()()()),2&Ot){const Zt=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),m.R7$(4),m.Y8G("ngForOf",Zt.linkedNewClients)}}function W(Ot,Gn){1&Ot&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function y(Ot,Gn){if(1&Ot&&(m.j41(0,"li",34)(1,"a",38),m.EFF(2),m.k0s(),m.DNE(3,W,2,0,"span",35),m.k0s()),2&Ot){const Zt=Gn.$implicit,Tn=Gn.last,In=m.XpG(4);m.R7$(),m.Y8G("href",In.buildHref(Zt.existingIdentifier),m.B4B),m.R7$(),m.SpI(" ",Zt.displayName," "),m.R7$(),m.Y8G("ngIf",!Tn)}}function X(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",37)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",34)(5,"ul",32),m.DNE(6,y,4,3,"li",33),m.k0s()()()),2&Ot){const Zt=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),m.R7$(4),m.Y8G("ngForOf",Zt.linkedExistingClients)}}function Z(Ot,Gn){if(1&Ot&&(m.j41(0,"div",27),m.DNE(1,M,7,4,"dl",28)(2,X,7,4,"dl",29),m.k0s()),2&Ot){const Zt=m.XpG(2);m.R7$(),m.Y8G("ngIf",Zt.linkedNewClients.length>0),m.R7$(),m.Y8G("ngIf",Zt.linkedExistingClients.length>0)}}function v(Ot,Gn){if(1&Ot){const Zt=m.RV6();m.j41(0,"div",18)(1,"div",19)(2,"button",20),m.bIt("click",function(){m.eBV(Zt);const In=m.XpG();return m.Njj(In.toggleDisplayLinkedClientsDropdown())}),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s(),m.j41(6,"span",21),m.DNE(7,E,1,0,"span",22)(8,B,1,0,"span",23),m.k0s()(),m.DNE(9,Z,3,2,"div",24),m.k0s()()}if(2&Ot){const Zt=m.XpG();m.AVh("tw-alert-warning",Zt.linkedExistingClients.length>0),m.R7$(4),m.JRh(m.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),m.R7$(3),m.Y8G("ngIf",Zt.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",!Zt.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",Zt.displayLinkedClientsDropdown)}}function L(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.previous," ")}}function Q(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function te(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.new," ")}}function N(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function fe(Ot,Gn){if(1&Ot){const Zt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Zt);const In=m.XpG(2);return m.Njj(In.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,L,2,1,"span",44)(6,Q,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,te,2,1,"span",46)(9,N,3,3,"i",45),m.k0s()()}if(2&Ot){const Zt=Gn.$implicit,Tn=m.XpG(2);m.R7$(2),m.JRh(m.bMT(3,5,Zt.propertyName)),m.R7$(3),m.Y8G("ngIf",Tn.hasValue(Zt.previous)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.previous)),m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.new)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.new))}}function oe(Ot,Gn){if(1&Ot&&(m.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),m.EFF(5),m.nI1(6,"translate"),m.k0s(),m.j41(7,"th",41),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s()()(),m.j41(13,"tbody"),m.DNE(14,fe,10,7,"tr",42),m.k0s()()()),2&Ot){const Zt=m.XpG();m.R7$(5),m.JRh(m.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Zt.fieldConflicts?null:Zt.fieldConflicts.conflicts)}}function R(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.previous," ")}}function Fe(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function we(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.new," ")}}function We(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function rt(Ot,Gn){if(1&Ot){const Zt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Zt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.k0s(),m.j41(3,"td"),m.DNE(4,R,2,1,"span",44)(5,Fe,3,3,"i",45),m.k0s(),m.j41(6,"td"),m.DNE(7,we,2,1,"span",46)(8,We,3,3,"i",45),m.k0s()()}if(2&Ot){const Zt=Gn.$implicit,Tn=m.XpG(3);m.R7$(2),m.JRh(Zt.propertyName),m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.previous)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.previous)),m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.new)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.new))}}function lt(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,rt,9,5,"tr",42),m.k0s()()()),2&Ot){const Zt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Zt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Zt?null:Zt.conflicts)}}function vt(Ot,Gn){if(1&Ot&&(m.j41(0,"div",50),m.DNE(1,lt,18,13,"div",51),m.k0s()),2&Ot){const Zt=m.XpG();m.R7$(),m.Y8G("ngForOf",Zt.clientKeyValueConflicts)}}function Ue(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.previous," ")}}function Ye(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function He(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.new," ")}}function it(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Le(Ot,Gn){if(1&Ot){const Zt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Zt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,Ue,2,1,"span",44)(6,Ye,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,He,2,1,"span",46)(9,it,3,3,"i",45),m.k0s()()}if(2&Ot){const Zt=Gn.$implicit,Tn=m.XpG(3);m.R7$(2),m.JRh(m.bMT(3,5,Zt.propertyName)),m.R7$(3),m.Y8G("ngIf",Tn.hasValue(Zt.previous)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.previous)),m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.new)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.new))}}function Ve(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Le,10,7,"tr",42),m.k0s()()()),2&Ot){const Zt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Zt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Zt?null:Zt.conflicts)}}function Xe(Ot,Gn){if(1&Ot&&(m.j41(0,"div",54)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,Ve,18,13,"div",51),m.k0s()),2&Ot){const Zt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),m.R7$(2),m.Y8G("ngForOf",Zt.scopeConflicts)}}function je(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Zt.propertyName))}}function ct(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.JRh(Zt.propertyName)}}function st(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",62),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",62),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",47),m.EFF(15),m.k0s()()),2&Ot){const Zt=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Zt.previous.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Zt.previous.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Zt.previous.index)}}function Qe(Ot,Gn){1&Ot&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&Ot&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ne(Ot,Gn){if(1&Ot&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",63),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",63),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",49),m.EFF(15),m.k0s()()),2&Ot){const Zt=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Zt.new.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Zt.new.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Zt.new.index)}}function Y(Ot,Gn){1&Ot&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&Ot&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function he(Ot,Gn){if(1&Ot&&(m.qex(0),m.j41(1,"td"),m.DNE(2,st,16,12,"dl",59)(3,Qe,4,3,"dl",57),m.k0s(),m.j41(4,"td"),m.DNE(5,ne,16,12,"dl",59)(6,Y,4,3,"dl",57),m.k0s(),m.bVm()),2&Ot){const Zt=m.XpG().$implicit,Tn=m.XpG(3);m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.previous)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.previous)),m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.new)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.new))}}function ge(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Zt.previous," ")}}function s(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function dt(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Zt.new," ")}}function _t(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function en(Ot,Gn){if(1&Ot&&(m.j41(0,"td",64),m.DNE(1,ge,2,1,"span",44)(2,s,3,3,"i",45),m.k0s(),m.j41(3,"td",64),m.DNE(4,dt,2,1,"span",46)(5,_t,3,3,"i",45),m.k0s()),2&Ot){const Zt=m.XpG().$implicit,Tn=m.XpG(3);m.R7$(),m.Y8G("ngIf",Tn.hasValue(Zt.previous)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.previous)),m.R7$(2),m.Y8G("ngIf",Tn.hasValue(Zt.new)),m.R7$(),m.Y8G("ngIf",!Tn.hasValue(Zt.new))}}function Cn(Ot,Gn){if(1&Ot){const Zt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Zt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.DNE(1,je,3,3,"td",57)(2,ct,2,1,"td",57)(3,he,7,4,"ng-container",58)(4,en,6,4,"ng-template",null,0,m.C5r),m.k0s()}if(2&Ot){const Zt=m.sdS(5),Tn=m.XpG().$implicit,In=m.XpG(2);m.R7$(),m.Y8G("ngIf",Tn.identifier!=In.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",Tn.identifier==In.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",Tn.identifier==In.summaryConflictsConstants.sloProperty||Tn.identifier==In.summaryConflictsConstants.acsProperty)("ngIfElse",Zt)}}function Wn(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Cn,6,4,"tr",42),m.k0s()()()),2&Ot){const Zt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Zt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Zt?null:Zt.conflicts)}}function tn(Ot,Gn){if(1&Ot&&(m.j41(0,"div",56)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,Wn,18,13,"div",51),m.k0s()),2&Ot){const Zt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),m.R7$(2),m.Y8G("ngForOf",Zt.serviceProviderConflicts)}}function Ln(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Zt.propertyName))}}function ni(Ot,Gn){if(1&Ot&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.JRh(Zt.propertyName)}}function ft(Ot,Gn){if(1&Ot&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.previous," ")}}function Qt(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function pe(Ot,Gn){if(1&Ot&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&Ot){const Zt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Zt.new," ")}}function de(Ot,Gn){1&Ot&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&Ot&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function P(Ot,Gn){if(1&Ot){const Zt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Zt);const In=m.XpG(3);return m.Njj(In.setupTableHeadings())}),m.DNE(1,Ln,3,3,"td",57)(2,ni,2,1,"td",57),m.j41(3,"td",64),m.DNE(4,ft,2,1,"span",44)(5,Qt,3,3,"i",45),m.k0s(),m.j41(6,"td",64),m.DNE(7,pe,2,1,"span",46)(8,de,3,3,"i",45),m.k0s()()}if(2&Ot){const Zt=Gn.$implicit,Tn=m.XpG().$implicit,In=m.XpG(2);m.R7$(),m.Y8G("ngIf",Tn.identifier!=In.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(),m.Y8G("ngIf",Tn.identifier==In.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(2),m.Y8G("ngIf",In.hasValue(Zt.previous)),m.R7$(),m.Y8G("ngIf",!In.hasValue(Zt.previous)),m.R7$(2),m.Y8G("ngIf",In.hasValue(Zt.new)),m.R7$(),m.Y8G("ngIf",!In.hasValue(Zt.new))}}function q(Ot,Gn){if(1&Ot&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,P,9,6,"tr",42),m.k0s()()()),2&Ot){const Zt=Gn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Zt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Zt?null:Zt.conflicts)}}function Ne(Ot,Gn){if(1&Ot&&(m.j41(0,"div",65)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,q,18,13,"div",51),m.k0s()),2&Ot){const Zt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),m.R7$(2),m.Y8G("ngForOf",Zt.relyingPartyConflicts)}}let De=(()=>{class Ot extends e.P{set data(Zt){const Tn=JSON.parse(JSON.stringify(Zt));this.resource=Tn,this.summaryDisplayType=A.n.getSummaryDisplayType(Tn.resourceType),this.setupLinkedClients(Tn),this.resource.resourceType===t.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(In=>In.identifier===w.ClaimTypes)),this.resource.resourceType===t.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(In=>In.identifier===w.IdentityResources)),this.resource.resourceType===t.ot.Client&&(this.initClient(),this.resource.displayType===w.SamlDisplayType?this.initServiceProvider():this.resource.displayType===w.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===t.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(In=>In.identifier===w.ProtectedResources),this.initScopeConflicts())}constructor(Zt,Tn,In){super(),this.importWizardService=Zt,this.translate=Tn,this.localizeRouterService=In,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=w}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===A.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(o.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Zt){null!==Zt.dependantClients&&0!==Zt.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Zt.dependantClients.filter(Tn=>Tn.state===t.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Zt.dependantClients.filter(Tn=>Tn.state===t.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Zt){return Zt.sort((Tn,In)=>Tn.displayName.localeCompare(In.displayName))}buildHref(Zt){return this.localizeRouterService.translateRoute(`/clients/${Zt}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Zt){return!(null==Zt||(0,f.gP)(Zt.toString()))}initClient(){const Zt=this.resource.conflicts.find(rs=>rs.identifier===w.Client),Tn=this.resource.conflicts.find(rs=>rs.identifier===w.ClaimsProperty),In=this.resource.conflicts.find(rs=>rs.identifier===w.PropertiesProperty);Zt&&(this.fieldConflicts=Zt),Tn&&this.clientKeyValueConflicts.push(Tn),In&&this.clientKeyValueConflicts.push(In)}initRelyingParty(){const Zt=this.resource.conflicts.find(In=>In.identifier===w.RelyingPartyProperty),Tn=this.resource.conflicts.find(In=>In.identifier===w.ClaimMappingsKey);Zt&&this.relyingPartyConflicts.push(Zt),Tn&&this.relyingPartyConflicts.push(Tn)}initServiceProvider(){const Zt=this.resource.conflicts.find(_i=>_i.identifier===w.ServiceProviderProperty),Tn=this.resource.conflicts.find(_i=>_i.identifier===w.ClaimMappingsKey),In=this.resource.conflicts.find(_i=>_i.identifier===w.acsProperty),rs=this.resource.conflicts.find(_i=>_i.identifier===w.sloProperty);Zt&&this.serviceProviderConflicts.push(Zt),Tn&&this.serviceProviderConflicts.push(Tn),In&&this.serviceProviderConflicts.push(In),rs&&this.serviceProviderConflicts.push(rs)}initScopeConflicts(){const Zt=this.resource.conflicts.filter(Tn=>Tn.identifier!==w.ProtectedResources);void 0!==Zt&&(Zt.forEach(Tn=>{const In=Tn.conflicts.find(rs=>rs.propertyName===w.UserClaimsProperty);In&&(In.new=In.new.join(", "),In.previous=In.previous.join(", "))}),this.scopeConflicts=Zt)}static{this.\u0275fac=function(Tn){return new(Tn||Ot)(m.rXU(D.o),m.rXU(S.c$),m.rXU(g.QG))}}static{this.\u0275cmp=m.VBU({type:Ot,selectors:[["app-import-summary-conflicts"]],viewQuery:function(Tn,In){if(1&Tn&&m.GBs(u,7),2&Tn){let rs;m.mGM(rs=m.lsd())&&(In.importSummaryConflictsModal=rs.first)}},standalone:!1,features:[m.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(Tn,In){1&Tn&&(m.j41(0,"div",1)(1,"h2",2)(2,"span",3),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s()(),m.j41(7,"div",4)(8,"p"),m.EFF(9),m.nI1(10,"translate"),m.k0s()(),m.DNE(11,v,10,8,"div",5)(12,oe,15,10,"div",6)(13,vt,2,1,"div",7)(14,Xe,5,4,"div",8)(15,tn,5,4,"div",9)(16,Ne,5,4,"div",10),m.k0s(),m.nrm(17,"div",11),m.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),m.bIt("click",function(){return In.accept()}),m.EFF(22),m.nI1(23,"translate"),m.k0s(),m.j41(24,"button",16),m.bIt("click",function(){return In.decline()}),m.EFF(25),m.nI1(26,"translate"),m.k0s()(),m.j41(27,"button",17),m.bIt("click",function(){return In.back()}),m.EFF(28),m.nI1(29,"translate"),m.k0s()()()),2&Tn&&(m.R7$(3),m.SpI("",m.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+In.summaryDisplayType),":"),m.R7$(3),m.JRh(null==In.resource?null:In.resource.displayName),m.R7$(3),m.JRh(m.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+In.summaryDisplayType)),m.R7$(2),m.Y8G("ngIf",In.displayLinkedClients),m.R7$(),m.Y8G("ngIf",In.fieldConflicts&&In.fieldConflicts.conflicts.length>0),m.R7$(),m.Y8G("ngIf",In.clientKeyValueConflicts.length>0),m.R7$(),m.Y8G("ngIf",In.scopeConflicts.length>0),m.R7$(),m.Y8G("ngIf",In.serviceProviderConflicts.length>0),m.R7$(),m.Y8G("ngIf",In.relyingPartyConflicts.length>0),m.R7$(6),m.JRh(m.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),m.R7$(3),m.JRh(m.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),m.R7$(3),m.JRh(m.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[k.Sq,k.bT,S.D9,z],encapsulation:2})}}return Ot})()},7648:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>g});var t=l(6354),o=l(9437),f=l(983),A=l(8284),e=l(7548),w=l(1360),m=l(6609),D=l(3583),S=l(5424);let g=(()=>{class k{constructor(u,E,B){this.dynamicAuthService=u,this.changeCachingService=E,this.errorService=B}resolve(u,E){return this.dynamicAuthService.getDynamicAuth(u.params.Scheme).pipe((0,t.T)(V=>{let F;return V&&(F=(0,e.lH)(V),this.changeCachingService.unsavedCache.next(F)),F}),(0,o.W)((V,F)=>(404===V.status?this.errorService.resourceNotFound(A.v.dynamicAuth):this.errorService.handleError(V),(0,f.I)())))}static{this.\u0275fac=function(E){return new(E||k)(w.KVO(m.v),w.KVO(D.t),w.KVO(S.I))}}static{this.\u0275prov=w.jDH({token:k,factory:k.\u0275fac})}}return k})()},7673:(ot,ve,l)=>{"use strict";l.d(ve,{of:()=>f});var t=l(9326),o=l(6648);function f(...A){const e=(0,t.lI)(A);return(0,o.H)(A,e)}},7677:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>A});var t=l(8434),o=l(8018),f=l(1360);let A=(()=>{class e{static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({imports:[o.h,t.MD]})}}return e})()},7707:(ot,ve,l)=>{"use strict";l.d(ve,{Ms:()=>V,vU:()=>z});var t=l(8071),o=l(8359),f=l(1026),A=l(5334),e=l(5343);const w=S("C",void 0,void 0);function S(X,Z,v){return{kind:X,value:Z,error:v}}var g=l(9270),k=l(9786);class z extends o.yU{constructor(Z){super(),this.isStopped=!1,Z?(this.destination=Z,(0,o.Uv)(Z)&&Z.add(this)):this.destination=y}static create(Z,v,L){return new V(Z,v,L)}next(Z){this.isStopped?W(function D(X){return S("N",X,void 0)}(Z),this):this._next(Z)}error(Z){this.isStopped?W(function m(X){return S("E",void 0,X)}(Z),this):(this.isStopped=!0,this._error(Z))}complete(){this.isStopped?W(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Z){this.destination.next(Z)}_error(Z){try{this.destination.error(Z)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const u=Function.prototype.bind;function E(X,Z){return u.call(X,Z)}class B{constructor(Z){this.partialObserver=Z}next(Z){const{partialObserver:v}=this;if(v.next)try{v.next(Z)}catch(L){F(L)}}error(Z){const{partialObserver:v}=this;if(v.error)try{v.error(Z)}catch(L){F(L)}else F(Z)}complete(){const{partialObserver:Z}=this;if(Z.complete)try{Z.complete()}catch(v){F(v)}}}class V extends z{constructor(Z,v,L){let Q;if(super(),(0,t.T)(Z)||!Z)Q={next:Z??void 0,error:v??void 0,complete:L??void 0};else{let te;this&&f.$.useDeprecatedNextContext?(te=Object.create(Z),te.unsubscribe=()=>this.unsubscribe(),Q={next:Z.next&&E(Z.next,te),error:Z.error&&E(Z.error,te),complete:Z.complete&&E(Z.complete,te)}):Q=Z}this.destination=new B(Q)}}function F(X){f.$.useDeprecatedSynchronousErrorHandling?(0,k.l)(X):(0,A.m)(X)}function W(X,Z){const{onStoppedNotification:v}=f.$;v&&g.f.setTimeout(()=>v(X,Z))}const y={closed:!0,next:e.l,error:function M(X){throw X},complete:e.l}},7728:(ot,ve,l)=>{"use strict";l.d(ve,{z:()=>te});var t=l(1744),o=l(4414),f=l(590),A=l(6799),e=l(1360),w=l(5826),m=l(8018),D=l(8434),S=l(9417);const g=N=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":N});function k(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"th",21)(1,"label",22)(2,"input",23),e.mxI("ngModelChange",function(Fe){e.eBV(oe);const we=e.XpG();return e.DH7(we.allSelected,Fe)||(we.allSelected=Fe),e.Njj(Fe)}),e.bIt("change",function(){e.eBV(oe);const Fe=e.XpG();return e.Njj(Fe.toggleAllSelected())}),e.k0s()()()}if(2&N){const oe=e.XpG();e.R7$(2),e.R50("ngModel",oe.allSelected)}}function z(N,fe){if(1&N&&(e.j41(0,"th",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&N){const oe=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+oe.summaryDisplayType))}}function u(N,fe){1&N&&(e.j41(0,"th",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&N&&(e.R7$(),e.SpI("",e.bMT(2,1,"Nav.Clients")," *"))}function E(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"label",22)(1,"input",23),e.nI1(2,"translate"),e.mxI("ngModelChange",function(Fe){e.eBV(oe);const we=e.XpG(2).$implicit;return e.DH7(we.selected,Fe)||(we.selected=Fe),e.Njj(Fe)}),e.bIt("change",function(){e.eBV(oe);const Fe=e.XpG(3);return e.Njj(Fe.selectionChanged())}),e.k0s()()}if(2&N){const oe=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",oe.selected),e.BMQ("aria-label",e.bMT(2,2,"Common.Add"))}}function B(N,fe){if(1&N&&(e.j41(0,"td",21),e.DNE(1,E,3,4,"label",32),e.k0s()),2&N){const oe=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",oe.isSelectable)}}function V(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"td",33),e.bIt("click",function(){e.eBV(oe);const Fe=e.XpG().$implicit,we=e.XpG();return e.Njj(we.toggle(Fe))}),e.EFF(1),e.k0s()}if(2&N){const oe=e.XpG().$implicit;e.Y8G("title",oe.identifier),e.R7$(),e.SpI(" ",oe.identifier," ")}}function F(N,fe){if(1&N&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&N){const oe=e.XpG().$implicit,R=e.XpG();e.R7$(),e.SpI(" ",R.displayLinkedClients(oe)," ")}}function M(N,fe){1&N&&e.nrm(0,"span",40)}function W(N,fe){if(1&N){const oe=e.RV6();e.qex(0),e.j41(1,"td",35),e.bIt("click",function(Fe){e.eBV(oe);const we=e.XpG().$implicit,We=e.XpG();return e.Njj(We.viewConflicts(Fe,we))}),e.DNE(2,M,1,0,"span",36),e.k0s(),e.j41(3,"td",37),e.bIt("click",function(Fe){e.eBV(oe);const we=e.XpG().$implicit,We=e.XpG();return e.Njj(We.viewConflicts(Fe,we))}),e.j41(4,"button",38),e.bIt("click",function(Fe){e.eBV(oe);const we=e.XpG().$implicit,We=e.XpG();return e.Njj(We.viewConflicts(Fe,we))}),e.j41(5,"span",39),e.EFF(6),e.k0s()()(),e.bVm()}if(2&N){const oe=e.XpG().$implicit,R=e.XpG();e.R7$(2),e.Y8G("ngIf",oe.resourceState==R.resourceStates.Conflicted),e.R7$(4),e.JRh(R.getConflicts(oe))}}function y(N,fe){1&N&&e.nrm(0,"span",45)}function X(N,fe){1&N&&e.nrm(0,"span",46)}function Z(N,fe){1&N&&e.nrm(0,"span",40)}function v(N,fe){if(1&N){const oe=e.RV6();e.qex(0),e.j41(1,"td",41),e.bIt("click",function(){e.eBV(oe);const Fe=e.XpG().$implicit,we=e.XpG();return e.Njj(we.toggle(Fe))}),e.DNE(2,y,1,0,"span",42)(3,X,1,0,"span",43)(4,Z,1,0,"span",36),e.k0s(),e.j41(5,"td",44),e.bIt("click",function(){e.eBV(oe);const Fe=e.XpG().$implicit,we=e.XpG();return e.Njj(we.toggle(Fe))}),e.j41(6,"span",39),e.EFF(7),e.k0s()(),e.bVm()}if(2&N){const oe=e.XpG().$implicit,R=e.XpG();e.R7$(2),e.Y8G("ngIf",oe.resourceState==R.resourceStates.New),e.R7$(),e.Y8G("ngIf",oe.resourceState==R.resourceStates.Duplicate),e.R7$(),e.Y8G("ngIf",oe.conflictedByDependencies),e.R7$(2),e.AVh("tw-italic",!oe.isSelectable),e.R7$(),e.SpI(" ",R.getResourceState(oe)," ")}}function L(N,fe){if(1&N){const oe=e.RV6();e.j41(0,"tr",26),e.DNE(1,B,2,1,"td",3),e.j41(2,"td",27),e.bIt("click",function(){const Fe=e.eBV(oe).$implicit,we=e.XpG();return e.Njj(we.toggle(Fe))}),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.DNE(5,V,2,2,"td",28),e.j41(6,"td",29),e.bIt("click",function(){const Fe=e.eBV(oe).$implicit,we=e.XpG();return e.Njj(we.toggle(Fe))}),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.DNE(9,F,2,1,"td",30)(10,W,7,2,"ng-container",31)(11,v,8,6,"ng-container",31),e.k0s()}if(2&N){const oe=fe.$implicit,R=e.XpG();e.Y8G("ngClass",e.eq3(11,g,oe.resourceState===R.resourceStates.Duplicate)),e.R7$(),e.Y8G("ngIf",R.showSelectAll()),e.R7$(),e.Y8G("title",oe.displayName),e.R7$(2),e.JRh(oe.displayName),e.R7$(),e.Y8G("ngIf","ClaimType"!==R.summaryDisplayType),e.R7$(2),e.SpI(" ",e.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+oe.displayType)," "),e.R7$(2),e.Y8G("ngIf","Client"!==R.summaryDisplayType),e.R7$(),e.Y8G("ngIf",oe.resourceState===R.resourceStates.Conflicted&&!oe.conflictedByDependencies),e.R7$(),e.Y8G("ngIf",oe.resourceState!==R.resourceStates.Conflicted||oe.conflictedByDependencies)}}function Q(N,fe){1&N&&(e.j41(0,"p",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&N&&(e.R7$(),e.SpI(" * ",e.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let te=(()=>{class N extends A.P{get data(){return this._importResourceType}set data(oe){this._importResourceType=oe}constructor(oe,R){super(),this.importWizardService=oe,this.translate=R,this.resourceStates=t.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=f.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(oe=>{oe.every(Fe=>Fe.resourceType===t.ot.Client)&&(this.nextImport=!0);let R=oe.filter(Fe=>this.data.includes(Fe.resourceType));if(!this.data.includes(t.ot.Client)){const Fe=oe.filter(we=>we.resourceType===t.ot.Client&&!0===we.selected).map(we=>we.identifier);R=R.filter(we=>we.dependantClients.map(We=>We.identifier).some(We=>Fe.includes(We)))}if(1===this.data.length&&this.data.includes(t.ot.Client)){const Fe=R.filter(We=>We.resourceState===t.jD.Duplicate),we=oe.filter(We=>We.resourceType!==t.ot.Client&&We.dependantClients.length>0&&We.resourceState===t.jD.Conflicted);Fe.forEach(We=>{we.filter(lt=>lt.dependantClients.some(vt=>vt.identifier===We.identifier)).length>0&&(We.resourceState=t.jD.Conflicted,We.selected=!0,We.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(R),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(oe=>oe.selected)||this.displayData.every(oe=>!1===oe.isSelectable)&&this.summaryDisplayType!==f.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===f.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(oe=>oe.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(oe=>oe.resourceState!==this.resourceStates.Duplicate).every(oe=>!0===oe.selected)}toggle(oe){oe.isSelectable&&(oe.selected=!oe.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(oe=>oe.selected=this.allSelected),this.selectionChanged()}getConflicts(oe){let Fe,R=0;return oe.conflicts.forEach(we=>{R+=we.conflicts.length}),Fe=this.translate.instant(1===R?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),R+" "+Fe}viewConflicts(oe,R){oe.stopPropagation(),this.openModal(o.M.summaryConflicts,R)}showSelectAll(){return this.displayData.some(oe=>oe.isSelectable)&&!this.displayData.every(oe=>oe.resourceState===t.jD.Duplicate)}displayLinkedClients(oe){return null===oe.dependantClients||0===oe.dependantClients.length?"-":oe.dependantClients.length.toString()}getResourceState(oe){return oe.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[oe.resourceState]}static{this.\u0275fac=function(R){return new(R||N)(e.rXU(w.o),e.rXU(m.c$))}}static{this.\u0275cmp=e.VBU({type:N,selectors:[["app-import-summary"]],standalone:!1,features:[e.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(R,Fe){1&R&&(e.j41(0,"div",0)(1,"div",1)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",2)(6,"thead")(7,"tr"),e.DNE(8,k,3,1,"th",3),e.j41(9,"th",4),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,z,3,3,"th",5),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,u,3,3,"th",7),e.nrm(17,"td",8),e.j41(18,"th",9)(19,"span",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,L,12,13,"tr",12),e.k0s()(),e.DNE(24,Q,3,3,"p",13),e.k0s(),e.nrm(25,"div",14),e.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),e.bIt("click",function(){return Fe.goNext()}),e.EFF(30),e.k0s(),e.j41(31,"button",19),e.bIt("click",function(){return Fe.goBack()}),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"button",20),e.bIt("click",function(){return Fe.cancel()}),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()),2&R&&(e.R7$(3),e.JRh(e.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Fe.summaryDisplayType)),e.R7$(2),e.AVh("selectable",Fe.showSelectAll()),e.R7$(3),e.Y8G("ngIf",Fe.showSelectAll()),e.R7$(2),e.JRh(e.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Fe.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf","ClaimType"!==Fe.summaryDisplayType),e.R7$(2),e.JRh(e.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Fe.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf","Client"!==Fe.summaryDisplayType),e.R7$(4),e.JRh(e.bMT(21,21,"Common.Status")),e.R7$(3),e.Y8G("ngForOf",Fe.displayData),e.R7$(),e.Y8G("ngIf","Client"!==Fe.summaryDisplayType),e.R7$(5),e.Y8G("disabled",!Fe.canNext()),e.R7$(),e.JRh(Fe.getNextText()),e.R7$(2),e.JRh(e.bMT(33,23,"Common.Back")),e.R7$(3),e.JRh(e.bMT(36,25,"Common.Cancel")))},dependencies:[D.YU,D.Sq,D.bT,S.Zm,S.BC,S.vS,m.D9],encapsulation:2})}}return N})()},7767:(ot,ve,l)=>{"use strict";l.d(ve,{g:()=>f});var t=l(1360),o=l(5794);let f=(()=>{class A{constructor(w){this.inner=w}success_noduplicate(w,m){return this.showToast(w,m,(D,S)=>this.inner.success(D,S))}error_noduplicate(w,m){return this.showToast(w,m,(D,S)=>this.inner.error(D,S))}showToast(w,m,D){var S=this.inner.findDuplicate(m,w,!1,!1);return S&&this.inner.remove(S.toastId),D(w,m)}static{this.\u0275fac=function(m){return new(m||A)(t.KVO(o.tw))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},7773:(ot,ve,l)=>{"use strict";l.d(ve,{n:()=>f});var t=l(3165),o=l(1360);let f=(()=>{class A{constructor(w){this.http=w,this.headers=new t.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||A)(o.KVO(t.Qq))}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},7778:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>k});var t=l(1360),o=l(8434),f=l(8114),A=l(8018);const e=["deleteConfirmationModal"];function w(z,u){1&z&&(t.j41(0,"p",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&z&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function m(z,u){if(1&z&&(t.j41(0,"p",6),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5,"?"),t.k0s()),2&z){const E=t.XpG();t.R7$(),t.SpI("",t.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),t.R7$(3),t.JRh(E.resourceName)}}function D(z,u){1&z&&(t.nrm(0,"p",7),t.nI1(1,"translate")),2&z&&t.Y8G("innerHTML",t.bMT(1,1,"Common.Delete.Warning"),t.npT)}function S(z,u){if(1&z&&(t.nrm(0,"p",7),t.nI1(1,"translate")),2&z){const E=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,E.danger),t.npT)}}function g(z,u){if(1&z&&(t.nrm(0,"p",8),t.nI1(1,"translate")),2&z){const E=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,E.warning),t.npT)}}let k=(()=>{class z{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new t.bkB,this.close=new t.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(B){return new(B||z)}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(B,V){if(1&B&&t.GBs(e,7),2&B){let F;t.mGM(F=t.lsd())&&(V.deleteModal=F.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},standalone:!1,decls:8,vars:11,consts:[["deleteConfirmationModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(B,V){if(1&B){const F=t.RV6();t.j41(0,"app-confirmation-modal",1,0),t.bIt("confirm",function(){return t.eBV(F),t.Njj(V.delete.emit())}),t.qex(2,2),t.DNE(3,w,3,3,"p",3)(4,m,6,4,"p",3)(5,D,2,3,"p",4)(6,S,2,3,"p",4)(7,g,2,3,"p",5),t.bVm(),t.k0s()}2&B&&(t.Y8G("modalId",V.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),t.R7$(3),t.Y8G("ngIf",!V.resourceName),t.R7$(),t.Y8G("ngIf",V.resourceName),t.R7$(),t.Y8G("ngIf",V.destructive&&null===V.warning&&null===V.danger),t.R7$(),t.Y8G("ngIf",V.destructive&&V.danger),t.R7$(),t.Y8G("ngIf",V.destructive&&V.warning))},dependencies:[o.bT,f.B,A.D9],encapsulation:2})}}return z})()},7786:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>w});var t=l(6365),o=l(8750),f=l(983),A=l(9326),e=l(6648);function w(...m){const D=(0,A.lI)(m),S=(0,A.R0)(m,1/0),g=m;return g.length?1===g.length?(0,o.Tg)(g[0]):(0,t.U)(S)((0,e.H)(g,D)):f.w}},7811:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>y});var t=l(1360),o=l(1413),f=l(1985),A=l(5558),e=l(6354),w=l(7673),m=l(1584),D=l(526),S=l(9417),g=l(8400),k=l(8434),z=l(8018);function u(X,Z){if(1&X&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&X){const v=Z.$implicit;t.Y8G("value",v),t.R7$(),t.JRh(v)}}function E(X,Z){if(1&X){const v=t.RV6();t.j41(0,"select",9,1),t.bIt("ngModelChange",function(Q){t.eBV(v);const te=t.XpG();return t.Njj(te.valueChanged.emit(Q))})("keyup",function(){t.eBV(v);const Q=t.XpG();return t.Njj(Q.keyupEvent.emit())}),t.DNE(2,u,2,2,"option",10),t.k0s()}if(2&X){const v=t.sdS(1),L=t.XpG();t.Y8G("id",L.forId)("ngModel",L.value)("disabled",L.disabled&&!v.dirty),t.R7$(2),t.Y8G("ngForOf",L.allowedValues)}}function B(X,Z){if(1&X){const v=t.RV6();t.j41(0,"input",12,1),t.nI1(2,"translate"),t.bIt("ngModelChange",function(Q){t.eBV(v);const te=t.XpG();return t.Njj(te.valueChanged.emit(Q))})("focus",function(Q){t.eBV(v);const te=t.XpG();return t.Njj(te.onFocus(Q))}),t.k0s()}if(2&X){const v=t.sdS(1),L=t.XpG(),Q=t.sdS(5);t.FS9("placeholder",t.bMT(2,9,"ClaimTypes.TypeaheadHelp")),t.Y8G("id",L.forId)("container",L.hostingModal)("ngModel",L.value)("typeahead",L.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Q)("disabled",L.disabled&&!v.dirty)}}function V(X,Z){if(1&X&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"slice"),t.k0s()),2&X){const v=Z.item;t.R7$(),t.JRh(v.length>20?t.brH(2,1,v,0,20)+"...":v)}}function F(X,Z){1&X&&(t.j41(0,"div",13),t.nrm(1,"span",14),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&X&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.LoadingPleaseWait")))}function M(X,Z){1&X&&(t.j41(0,"div",15),t.nrm(1,"span",16),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&X&&(t.R7$(3),t.JRh(t.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function W(X,Z){if(1&X&&(t.j41(0,"div",17),t.nrm(1,"span",16),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&X){const v=t.XpG();t.R7$(3),t.Lme("",t.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",v.totalValues,")")}}let y=(()=>{class X{set hostingModal(v){this._hostingModal=v}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(v){this._typeId=v,this.typeIdSub.next(v)}get typeId(){return this._typeId}constructor(v){this.claimTypesService=v,this.valueChanged=new t.bkB,this.disabled=!1,this.keyupEvent=new t.bkB,this.typeIdSub=new o.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(L=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(Q=>{this.totalValues=Q.totalAllowedValues,this.allowedValues=Q.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new f.c(v=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,v.next(this.value)}).pipe((0,A.n)(v=>v?this.claimTypesService.getAllowedValues(this.typeId,v,this.threshold).pipe((0,e.T)(L=>(this.totalValues=L.totalAllowedValues,this.allowedValues=L.allowedValues,this.loading=!1,this.nothingFound=L.totalAllowedValues<=0,this.tooManyResults=L.totalAllowedValues>=this.threshold,L.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,w.of)([]))))}onFocus(v){v.stopPropagation(),(0,m.O)(1).subscribe(()=>{const L=new Event("input");v.target?.dispatchEvent(L)})}static{this.\u0275fac=function(L){return new(L||X)(t.rXU(D.X))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[0,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},standalone:!1,decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(L,Q){1&L&&(t.j41(0,"div",2),t.DNE(1,E,3,4,"select",3),t.k0s(),t.j41(2,"div",4),t.DNE(3,B,3,11,"input",5),t.k0s(),t.DNE(4,V,3,5,"ng-template",null,0,t.C5r)(6,F,5,3,"div",6)(7,M,5,3,"div",7)(8,W,5,4,"div",8)),2&L&&(t.R7$(),t.Y8G("ngIf",!Q.typeahead),t.R7$(2),t.Y8G("ngIf",Q.typeahead),t.R7$(3),t.Y8G("ngIf",Q.typeahead&&Q.loading),t.R7$(),t.Y8G("ngIf",Q.typeahead&&Q.nothingFound),t.R7$(),t.Y8G("ngIf",Q.typeahead&&Q.tooManyResults))},dependencies:[S.xH,S.y7,S.me,S.wz,S.BC,S.YS,S.vS,g.Xi,k.Sq,k.bT,k.P9,z.D9],encapsulation:2})}}return X})()},7830:(ot,ve,l)=>{"use strict";l.d(ve,{Q:()=>S});var t=l(1068),o=l(1360),f=l(8434),A=l(9417),e=l(8018);const w=()=>({standalone:!0});function m(g,k){if(1&g&&(o.j41(0,"option",11),o.EFF(1),o.k0s()),2&g){const z=k.$implicit;o.Y8G("value",z),o.R7$(),o.JRh(z)}}function D(g,k){if(1&g){const z=o.RV6();o.j41(0,"li",12)(1,"button",13),o.bIt("click",function(){const E=o.eBV(z).$implicit,B=o.XpG();return o.Njj(B.removeAlgorithm(E))}),o.nrm(2,"span",14),o.j41(3,"span"),o.EFF(4),o.k0s()()()}if(2&g){const z=k.$implicit;o.R7$(),o.BMQ("aria-label",z),o.R7$(3),o.JRh(z)}}let S=(()=>{class g{constructor(){this.allowedAlgorithms=["ES256","ES384","ES512","PS256","PS384","PS512","RS256","RS384","RS512"]}ngAfterContentInit(){this.allowedAlgorithms=t.FF(this.allowedAlgorithms,...this.form.get(this.algorithmControlName).value),this.selectedAlgorithm=this.allowedAlgorithms[0]}addAlgorithm(){const z=this.form.get(this.algorithmControlName);z.setValue([...z.value,this.selectedAlgorithm]);const u=this.allowedAlgorithms.indexOf(this.selectedAlgorithm);this.allowedAlgorithms.splice(u,1),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}removeAlgorithm(z){const u=this.form.get(this.algorithmControlName),E=u.value.indexOf(z);u.value.splice(E,1),this.allowedAlgorithms.push(z),this.allowedAlgorithms.sort(),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275cmp=o.VBU({type:g,selectors:[["app-signing-algorithm-picker"]],inputs:{form:"form",algorithmControlName:"algorithmControlName"},standalone:!1,decls:15,vars:9,consts:[[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex"],[1,"tw-form-select"],["id","client-token-signing-algorithm",1,"tw-form-control","tw-mr-1","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],["id","signing-algorithm-add-button",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-pill","id","signing-algorithm-added-algorithms",4,"ngFor","ngForOf"],[3,"value"],["id","signing-algorithm-added-algorithms",1,"tw-pill"],[3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(u,E){1&u&&(o.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),o.mxI("ngModelChange",function(V){return o.DH7(E.selectedAlgorithm,V)||(E.selectedAlgorithm=V),V}),o.DNE(7,m,2,2,"option",6),o.k0s()(),o.j41(8,"button",7),o.bIt("click",function(){return E.addAlgorithm()}),o.nrm(9,"span",8),o.j41(10,"span",9),o.EFF(11),o.nI1(12,"translate"),o.k0s()()()()()(),o.j41(13,"ul"),o.DNE(14,D,5,2,"li",10),o.k0s()()),2&u&&(o.R7$(6),o.R50("ngModel",E.selectedAlgorithm),o.Y8G("ngModelOptions",o.lJ4(8,w)),o.R7$(),o.Y8G("ngForOf",E.allowedAlgorithms),o.R7$(),o.Y8G("disabled",0==E.allowedAlgorithms.length),o.R7$(3),o.JRh(o.bMT(12,6,"Common.Add")),o.R7$(3),o.Y8G("ngForOf",E.form.get(E.algorithmControlName).value))},dependencies:[f.Sq,A.xH,A.y7,A.wz,A.BC,A.vS,e.D9],encapsulation:2})}}return g})()},7883:(ot,ve,l)=>{"use strict";l.d(ve,{i:()=>y});var t=l(1413);class o extends t.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(Z){const{hasError:v,_hasValue:L,_value:Q,thrownError:te,isStopped:N,_isComplete:fe}=this;v?Z.error(te):(N||fe)&&(L&&Z.next(Q),Z.complete())}next(Z){this.isStopped||(this._value=Z,this._hasValue=!0)}complete(){const{_hasValue:Z,_value:v,_isComplete:L}=this;L||(this._isComplete=!0,Z&&super.next(v),super.complete())}}var f=l(7468),A=l(3178),e=l(6354),w=l(6697),m=l(7263),D=l(9838),S=l(4589),g=l(1360),k=l(2947),z=l(5139),u=l(9196),E=l(1339),B=l(7773),V=l(3853),F=l(5424),M=l(6888),W=l(8018);let y=(()=>{class X{constructor(v,L,Q,te,N,fe,oe,R,Fe){this.router=v,this.localize=L,this.configService=Q,this.authService=te,this.permissionService=N,this.licenseService=fe,this.errorService=oe,this.loginTrackingService=R,this.translate=Fe,this.userPermissions$=new o,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.authorizationServerManagerView=!1,this.authorizationServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(v){let Q=v??this.router.url;Q=Q.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",Q),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(v){if(v.isAuthenticated){let L=this.storage.getItem("redirectUrl");null==L&&(L="/home");const Q=this.localize.translateRoute(L);this.handleSuccessfulAuthorization(Q)}else this.handleUnsuccessfulAuthorization(v.username)}handleSuccessfulAuthorization(v){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(v)},L=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(L,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:D.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(v){if((0,m.gP)(v))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:D.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const L=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(L)}isNonProd(){return this.licenseType===S.G.Demo||this.licenseType===S.G.NonProduction}init(){const v=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,f.p)(v)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,e.T)(v=>{this.userPermissions=v.permissions,this.policyClaims=v.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(A.a[A.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.authorizationServerManagerView=!0,this.authorizationServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(A.a[A.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.authorizationServerManagerView=!1,this.authorizationServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(A.a[A.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(A.a[A.a.UserManagerReadOnly]),this.authorizationServerManagerView=this.userPermissions.includes(A.a[A.a.AuthorizationServerManager]),this.authorizationServerManagerReadOnlyView=this.userPermissions.includes(A.a[A.a.AuthorizationServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(A.a[A.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.authorizationServerManagerView||this.authorizationServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(v.permissions),this.userPermissions$.complete()},v=>{this.errorService.handleError(v)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,e.T)(v=>{this.licenseType=v.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=S.G.NonProduction),v.isStarterLicense()&&(this.licenseType=S.G.Starter),this.nonProduction=v.licenseType!==S.G.Production,this.organisation=v.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,w.s)(1))}static{this.\u0275fac=function(L){return new(L||X)(g.KVO(k.Ix),g.KVO(z.QG),g.KVO(u.w),g.KVO(E.u),g.KVO(B.n),g.KVO(V.X),g.KVO(F.I),g.KVO(M.W),g.KVO(W.c$))}}static{this.\u0275prov=g.jDH({token:X,factory:X.\u0275fac})}}return X})()},7908:(ot,ve,l)=>{"use strict";function t(o,f){if(o){const A=o.indexOf(f);0<=A&&o.splice(A,1)}}l.d(ve,{o:()=>t})},7921:(ot,ve,l)=>{"use strict";l.d(ve,{b:()=>o});var t=l(1746);class o{constructor(A){Object.keys(A).forEach(w=>{this[w]=o.toReadOnlyValue(A[w])})}}(o||(o={})).toReadOnlyValue=function A(e){let w=e;return"boolean"==typeof e&&(w=w?"Yes":"No"),e instanceof Date&&(w=w?"Yes":"No"),e instanceof Array&&(w=e.join(", ").trimEnd()),new t.w(w)}},7953:(ot,ve,l)=>{"use strict";l.d(ve,{T:()=>o});var t=l(8071);function o(f){return Symbol.asyncIterator&&(0,t.T)(f?.[Symbol.asyncIterator])}},7957:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>t});class t{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(f){return this.nameComponentMap.get(f)}getWizardTitle(f){return this.nameTitleMap.get(f)}}},7970:(ot,ve,l)=>{"use strict";l.d(ve,{j:()=>e});var t=l(1360),o=l(7263),f=l(8434);function A(w,m){if(1&w){const D=t.RV6();t.j41(0,"li",2)(1,"input",3),t.bIt("click",function(){const g=t.eBV(D).index,k=t.XpG();return t.Njj(k.selectValue(g))}),t.k0s(),t.j41(2,"label",4),t.bIt("click",function(){const g=t.eBV(D).index,k=t.XpG();return t.Njj(k.selectValue(g))}),t.j41(3,"span",5),t.EFF(4),t.k0s()()()}if(2&w){const D=m.$implicit,S=m.index,g=t.XpG();t.R7$(),t.FCK("id","",g.id,"-enum-val-",S,""),t.Mz_("name","",g.id,"-state"),t.Y8G("checked",D===g.value),t.R7$(),t.STu("tw-state-toggle-btn ",g.borderStyle(S)," ",g.isSelected(D),""),t.FCK("for","",g.id,"-enum-val-",S,""),t.BMQ("aria-label",g.enumValues),t.R7$(2),t.JRh(D)}}let e=(()=>{class w{get id(){return this._id}set id(D){this._id=D||(0,o.Nl)()}constructor(){this.readonly=!1,this.newValue=new t.bkB}selectValue(D){this.readonly||this.newValue.emit(this.options[D])}borderStyle(D){return 0===D?"tw-rounded-l-lg":D>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(D){return D===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(S){return new(S||w)}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},standalone:!1,decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(S,g){1&S&&(t.j41(0,"ul",0),t.DNE(1,A,5,15,"li",1),t.k0s()),2&S&&(t.FS9("id",g.id+"-enumValues-select"),t.R7$(),t.Y8G("ngForOf",g.options))},dependencies:[f.Sq],encapsulation:2})}}return w})()},8018:(ot,ve,l)=>{"use strict";l.d(ve,{D9:()=>Ye,Wr:()=>z,c$:()=>vt,h:()=>Le});var t=l(1360),o=l(7673),f=l(4402),A=l(7468),e=l(8793),w=l(9030),m=l(6697),D=l(9568),S=l(6354),g=l(274),k=l(5558);class z{}let u=(()=>{class Ve extends z{getTranslation(je){return(0,o.of)({})}static \u0275fac=(()=>{let je;return function(st){return(je||(je=t.xGo(Ve)))(st||Ve)}})();static \u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();class E{}let B=(()=>{class Ve{handle(je){return je.key}static \u0275fac=function(ct){return new(ct||Ve)};static \u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();function V(Ve,Xe){if(Ve===Xe)return!0;if(null===Ve||null===Xe)return!1;if(Ve!=Ve&&Xe!=Xe)return!0;const je=typeof Ve;let st,Qe,ne;if(je==typeof Xe&&"object"==je){if(!Array.isArray(Ve)){if(Array.isArray(Xe))return!1;for(Qe in ne=Object.create(null),Ve){if(!V(Ve[Qe],Xe[Qe]))return!1;ne[Qe]=!0}for(Qe in Xe)if(!(Qe in ne)&&typeof Xe[Qe]<"u")return!1;return!0}if(!Array.isArray(Xe))return!1;if((st=Ve.length)==Xe.length){for(Qe=0;Qe<st;Qe++)if(!V(Ve[Qe],Xe[Qe]))return!1;return!0}}return!1}function F(Ve){return typeof Ve<"u"&&null!==Ve}function M(Ve){return W(Ve)&&!y(Ve)&&null!==Ve}function W(Ve){return"object"==typeof Ve}function y(Ve){return Array.isArray(Ve)}function X(Ve){return"string"==typeof Ve}function v(Ve,Xe){const je=Object.assign({},Ve);return W(Ve)?(W(Ve)&&W(Xe)&&Object.keys(Xe).forEach(ct=>{M(Xe[ct])?ct in Ve?je[ct]=v(Ve[ct],Xe[ct]):Object.assign(je,{[ct]:Xe[ct]}):Object.assign(je,{[ct]:Xe[ct]})}),je):v({},Xe)}function L(Ve,Xe){const je=Xe.split(".");Xe="";do{Xe+=je.shift(),F(Ve)&&F(Ve[Xe])&&(M(Ve[Xe])||y(Ve[Xe])||!je.length)?(Ve=Ve[Xe],Xe=""):je.length?Xe+=".":Ve=void 0}while(je.length);return Ve}class te{}let N=(()=>{class Ve extends te{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(je,ct){return X(je)?this.interpolateString(je,ct):function Z(Ve){return"function"==typeof Ve}(je)?this.interpolateFunction(je,ct):void 0}interpolateFunction(je,ct){return je(ct)}interpolateString(je,ct){return ct?je.replace(this.templateMatcher,(st,Qe)=>{const ne=L(ct,Qe);return F(ne)?ne:st}):je}static \u0275fac=(()=>{let je;return function(st){return(je||(je=t.xGo(Ve)))(st||Ve)}})();static \u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();class fe{}let oe=(()=>{class Ve extends fe{compile(je,ct){return je}compileTranslations(je,ct){return je}static \u0275fac=(()=>{let je;return function(st){return(je||(je=t.xGo(Ve)))(st||Ve)}})();static \u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();class R{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new t.bkB;onLangChange=new t.bkB;onDefaultLangChange=new t.bkB}const Fe=new t.nKC("ISOLATE_TRANSLATE_SERVICE"),we=new t.nKC("USE_DEFAULT_LANG"),We=new t.nKC("DEFAULT_LANGUAGE"),rt=new t.nKC("USE_EXTEND"),lt=Ve=>(0,f.A)(Ve)?Ve:(0,o.of)(Ve);let vt=(()=>{class Ve{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(je){this.store.defaultLang=je}get currentLang(){return this.store.currentLang}set currentLang(je){this.store.currentLang=je}get langs(){return this.store.langs}set langs(je){this.store.langs=je}get translations(){return this.store.translations}set translations(je){this.store.translations=je}constructor(je,ct,st,Qe,ne,Y=!0,he=!1,ge=!1,s){this.store=je,this.currentLoader=ct,this.compiler=st,this.parser=Qe,this.missingTranslationHandler=ne,this.useDefaultLang=Y,this.extend=ge,he&&(this.store=new R),s&&this.setDefaultLang(s)}setDefaultLang(je){if(je===this.defaultLang)return;const ct=this.retrieveTranslations(je);typeof ct<"u"?(null==this.defaultLang&&(this.defaultLang=je),ct.pipe((0,m.s)(1)).subscribe(()=>{this.changeDefaultLang(je)})):this.changeDefaultLang(je)}getDefaultLang(){return this.defaultLang}use(je){if(this.lastUseLanguage=je,je===this.currentLang)return(0,o.of)(this.translations[je]);this.currentLang||(this.currentLang=je);const ct=this.retrieveTranslations(je);return(0,f.A)(ct)?(ct.pipe((0,m.s)(1)).subscribe(()=>{this.changeLang(je)}),ct):(this.changeLang(je),(0,o.of)(this.translations[je]))}changeLang(je){je===this.lastUseLanguage&&(this.currentLang=je,this.onLangChange.emit({lang:je,translations:this.translations[je]}),null==this.defaultLang&&this.changeDefaultLang(je))}retrieveTranslations(je){if(typeof this.translations[je]>"u"||this.extend)return this._translationRequests[je]=this._translationRequests[je]||this.loadAndCompileTranslations(je),this._translationRequests[je]}getTranslation(je){return this.loadAndCompileTranslations(je)}loadAndCompileTranslations(je){this.pending=!0;const ct=this.currentLoader.getTranslation(je).pipe((0,D.t)(1),(0,m.s)(1));return this.loadingTranslations=ct.pipe((0,S.T)(st=>this.compiler.compileTranslations(st,je)),(0,D.t)(1),(0,m.s)(1)),this.loadingTranslations.subscribe({next:st=>{this.translations[je]=this.extend&&this.translations[je]?{...st,...this.translations[je]}:st,this.updateLangs(),this.pending=!1},error:st=>{this.pending=!1}}),ct}setTranslation(je,ct,st=!1){const Qe=this.compiler.compileTranslations(ct,je);this.translations[je]=(st||this.extend)&&this.translations[je]?v(this.translations[je],Qe):Qe,this.updateLangs(),this.onTranslationChange.emit({lang:je,translations:this.translations[je]})}getLangs(){return this.langs}addLangs(je){const ct=je.filter(st=>!this.langs.includes(st));ct.length>0&&(this.langs=[...this.langs,...ct])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(je,ct,st){let Qe;if(je&&(Qe=this.runInterpolation(L(je,ct),st)),void 0===Qe&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Qe=this.runInterpolation(L(this.translations[this.defaultLang],ct),st)),void 0===Qe){const ne={key:ct,translateService:this};typeof st<"u"&&(ne.interpolateParams=st),Qe=this.missingTranslationHandler.handle(ne)}return void 0!==Qe?Qe:ct}runInterpolation(je,ct){if(y(je))return je.map(st=>this.runInterpolation(st,ct));if(M(je)){const st={};for(const Qe in je){const ne=this.runInterpolation(je[Qe],ct);void 0!==ne&&(st[Qe]=ne)}return st}return this.parser.interpolate(je,ct)}getParsedResult(je,ct,st){if(ct instanceof Array){const Qe={};let ne=!1;for(const he of ct)Qe[he]=this.getParsedResultForKey(je,he,st),ne=ne||(0,f.A)(Qe[he]);if(!ne)return Qe;const Y=ct.map(he=>lt(Qe[he]));return(0,A.p)(Y).pipe((0,S.T)(he=>{const ge={};return he.forEach((s,dt)=>{ge[ct[dt]]=s}),ge}))}return this.getParsedResultForKey(je,ct,st)}get(je,ct){if(!F(je)||!je.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,g.H)(st=>lt(this.getParsedResult(st,je,ct)))):lt(this.getParsedResult(this.translations[this.currentLang],je,ct))}getStreamOnTranslationChange(je,ct){if(!F(je)||!je.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,e.x)((0,w.v)(()=>this.get(je,ct)),this.onTranslationChange.pipe((0,k.n)(st=>{const Qe=this.getParsedResult(st.translations,je,ct);return lt(Qe)})))}stream(je,ct){if(!F(je)||!je.length)throw new Error('Parameter "key" required');return(0,e.x)((0,w.v)(()=>this.get(je,ct)),this.onLangChange.pipe((0,k.n)(st=>{const Qe=this.getParsedResult(st.translations,je,ct);return lt(Qe)})))}instant(je,ct){if(!F(je)||0===je.length)throw new Error('Parameter "key" is required and cannot be empty');const st=this.getParsedResult(this.translations[this.currentLang],je,ct);return(0,f.A)(st)?Array.isArray(je)?je.reduce((Qe,ne)=>(Qe[ne]=ne,Qe),{}):je:st}set(je,ct,st=this.currentLang){(function Q(Ve,Xe,je){const ct=Xe.split(".");let st=Ve;for(let Qe=0;Qe<ct.length;Qe++){const ne=ct[Qe];Qe===ct.length-1?st[ne]=je:((!st[ne]||!M(st[ne]))&&(st[ne]={}),st=st[ne])}})(this.translations[st],je,X(ct)?this.compiler.compile(ct,st):this.compiler.compileTranslations(ct,st)),this.updateLangs(),this.onTranslationChange.emit({lang:st,translations:this.translations[st]})}changeDefaultLang(je){this.defaultLang=je,this.onDefaultLangChange.emit({lang:je,translations:this.translations[je]})}reloadLang(je){return this.resetLang(je),this.loadAndCompileTranslations(je)}resetLang(je){delete this._translationRequests[je],delete this.translations[je]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const je=this.getBrowserCultureLang();return je?je.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(ct){return new(ct||Ve)(t.KVO(R),t.KVO(z),t.KVO(fe),t.KVO(te),t.KVO(E),t.KVO(we),t.KVO(Fe),t.KVO(rt),t.KVO(We))};static \u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),Ye=(()=>{class Ve{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(je,ct){this.translate=je,this._ref=ct}updateValue(je,ct,st){const Qe=ne=>{this.value=void 0!==ne?ne:je,this.lastKey=je,this._ref.markForCheck()};if(st){const ne=this.translate.getParsedResult(st,je,ct);(0,f.A)(ne)?ne.subscribe(Qe):Qe(ne)}this.translate.get(je,ct).subscribe(Qe)}transform(je,...ct){if(!je||!je.length)return je;if(V(je,this.lastKey)&&V(ct,this.lastParams))return this.value;let st;if(F(ct[0])&&ct.length)if(X(ct[0])&&ct[0].length){const Qe=ct[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{st=JSON.parse(Qe)}catch(ne){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ct[0]}`)}}else M(ct[0])&&(st=ct[0]);return this.lastKey=je,this.lastParams=ct,this.updateValue(je,st),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Qe=>{this.lastKey&&Qe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(je,st,Qe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Qe=>{this.lastKey&&(this.lastKey=null,this.updateValue(je,st,Qe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(je,st))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(ct){return new(ct||Ve)(t.rXU(vt,16),t.rXU(t.gRc,16))};static \u0275pipe=t.EJ8({name:"translate",type:Ve,pure:!1});static \u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})(),Le=(()=>{class Ve{static forRoot(je={}){return{ngModule:Ve,providers:[je.loader||{provide:z,useClass:u},je.compiler||{provide:fe,useClass:oe},je.parser||{provide:te,useClass:N},je.missingTranslationHandler||{provide:E,useClass:B},R,{provide:Fe,useValue:je.isolate},{provide:we,useValue:je.useDefaultLang},{provide:rt,useValue:je.extend},{provide:We,useValue:je.defaultLanguage},vt]}}static forChild(je={}){return{ngModule:Ve,providers:[je.loader||{provide:z,useClass:u},je.compiler||{provide:fe,useClass:oe},je.parser||{provide:te,useClass:N},je.missingTranslationHandler||{provide:E,useClass:B},{provide:Fe,useValue:je.isolate},{provide:we,useValue:je.useDefaultLang},{provide:rt,useValue:je.extend},{provide:We,useValue:je.defaultLanguage},vt]}}static \u0275fac=function(ct){return new(ct||Ve)};static \u0275mod=t.$C({type:Ve});static \u0275inj=t.G2t({})}return Ve})()},8040:(ot,ve,l)=>{var t=l(6589);l(5833),ot.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1},8044:(ot,ve,l)=>{"use strict";var t=l(1482),o=l(9377),f=l(9361),A=l(8434),e=l(1360);const w=new e.nKC("");let m=(()=>{class h{_zone;_plugins;_eventNameToPlugin=new Map;constructor(a,p){this._zone=p,a.forEach(C=>{C.manager=this}),this._plugins=a.slice().reverse()}addEventListener(a,p,C,x){return this._findPluginFor(p).addEventListener(a,p,C,x)}getZone(){return this._zone}_findPluginFor(a){let p=this._eventNameToPlugin.get(a);if(p)return p;if(p=this._plugins.find(x=>x.supports(a)),!p)throw new e.wOt(5101,!1);return this._eventNameToPlugin.set(a,p),p}static \u0275fac=function(p){return new(p||h)(e.KVO(w),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();class D{_doc;constructor(b){this._doc=b}manager}const S="ng-app-id";function g(h){for(const b of h)b.remove()}function k(h,b){const a=b.createElement("style");return a.textContent=h,a}function u(h,b){const a=b.createElement("link");return a.setAttribute("rel","stylesheet"),a.setAttribute("href",h),a}let E=(()=>{class h{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(a,p,C,x={}){this.doc=a,this.appId=p,this.nonce=C,this.isServer=(0,o.Vy)(x),function z(h,b,a,p){const C=h.head?.querySelectorAll(`style[${S}="${b}"],link[${S}="${b}"]`);if(C)for(const x of C)x.removeAttribute(S),x instanceof HTMLLinkElement?p.set(x.href.slice(x.href.lastIndexOf("/")+1),{usage:0,elements:[x]}):x.textContent&&a.set(x.textContent,{usage:0,elements:[x]})}(a,p,this.inline,this.external),this.hosts.add(a.head)}addStyles(a,p){for(const C of a)this.addUsage(C,this.inline,k);p?.forEach(C=>this.addUsage(C,this.external,u))}removeStyles(a,p){for(const C of a)this.removeUsage(C,this.inline);p?.forEach(C=>this.removeUsage(C,this.external))}addUsage(a,p,C){const x=p.get(a);x?x.usage++:p.set(a,{usage:1,elements:[...this.hosts].map(le=>this.addElement(le,C(a,this.doc)))})}removeUsage(a,p){const C=p.get(a);C&&(C.usage--,C.usage<=0&&(g(C.elements),p.delete(a)))}ngOnDestroy(){for(const[,{elements:a}]of[...this.inline,...this.external])g(a);this.hosts.clear()}addHost(a){this.hosts.add(a);for(const[p,{elements:C}]of this.inline)C.push(this.addElement(a,k(p,this.doc)));for(const[p,{elements:C}]of this.external)C.push(this.addElement(a,u(p,this.doc)))}removeHost(a){this.hosts.delete(a)}addElement(a,p){return this.nonce&&p.setAttribute("nonce",this.nonce),this.isServer&&p.setAttribute(S,this.appId),a.appendChild(p)}static \u0275fac=function(p){return new(p||h)(e.KVO(f.q),e.KVO(e.sZ2),e.KVO(e.BIS,8),e.KVO(e.Agw))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const B={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},V=/%COMP%/g,W="%COMP%",y=`_nghost-${W}`,X=`_ngcontent-${W}`,v=new e.nKC("",{providedIn:"root",factory:()=>!0});function te(h,b){return b.map(a=>a.replace(V,h))}let fe=(()=>{class h{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(a,p,C,x,le,ke,tt,Ct=null,Lt=null){this.eventManager=a,this.sharedStylesHost=p,this.appId=C,this.removeStylesOnCompDestroy=x,this.doc=le,this.platformId=ke,this.ngZone=tt,this.nonce=Ct,this.tracingService=Lt,this.platformIsServer=(0,o.Vy)(ke),this.defaultRenderer=new oe(a,le,tt,this.platformIsServer,this.tracingService)}createRenderer(a,p){if(!a||!p)return this.defaultRenderer;this.platformIsServer&&p.encapsulation===e.gXe.ShadowDom&&(p={...p,encapsulation:e.gXe.Emulated});const C=this.getOrCreateRenderer(a,p);return C instanceof lt?C.applyToHost(a):C instanceof rt&&C.applyStyles(),C}getOrCreateRenderer(a,p){const C=this.rendererByCompId;let x=C.get(p.id);if(!x){const le=this.doc,ke=this.ngZone,tt=this.eventManager,Ct=this.sharedStylesHost,Lt=this.removeStylesOnCompDestroy,En=this.platformIsServer,jn=this.tracingService;switch(p.encapsulation){case e.gXe.Emulated:x=new lt(tt,Ct,p,this.appId,Lt,le,ke,En,jn);break;case e.gXe.ShadowDom:return new We(tt,Ct,a,p,le,ke,this.nonce,En,jn);default:x=new rt(tt,Ct,p,Lt,le,ke,En,jn)}C.set(p.id,x)}return x}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(a){this.rendererByCompId.delete(a)}static \u0275fac=function(p){return new(p||h)(e.KVO(m),e.KVO(E),e.KVO(e.sZ2),e.KVO(v),e.KVO(f.q),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(e.BIS),e.KVO(e.Lf2,8))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();class oe{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(b,a,p,C,x){this.eventManager=b,this.doc=a,this.ngZone=p,this.platformIsServer=C,this.tracingService=x}destroy(){}destroyNode=null;createElement(b,a){return a?this.doc.createElementNS(B[a]||a,b):this.doc.createElement(b)}createComment(b){return this.doc.createComment(b)}createText(b){return this.doc.createTextNode(b)}appendChild(b,a){(we(b)?b.content:b).appendChild(a)}insertBefore(b,a,p){b&&(we(b)?b.content:b).insertBefore(a,p)}removeChild(b,a){a.remove()}selectRootElement(b,a){let p="string"==typeof b?this.doc.querySelector(b):b;if(!p)throw new e.wOt(-5104,!1);return a||(p.textContent=""),p}parentNode(b){return b.parentNode}nextSibling(b){return b.nextSibling}setAttribute(b,a,p,C){if(C){a=C+":"+a;const x=B[C];x?b.setAttributeNS(x,a,p):b.setAttribute(a,p)}else b.setAttribute(a,p)}removeAttribute(b,a,p){if(p){const C=B[p];C?b.removeAttributeNS(C,a):b.removeAttribute(`${p}:${a}`)}else b.removeAttribute(a)}addClass(b,a){b.classList.add(a)}removeClass(b,a){b.classList.remove(a)}setStyle(b,a,p,C){C&(e.czy.DashCase|e.czy.Important)?b.style.setProperty(a,p,C&e.czy.Important?"important":""):b.style[a]=p}removeStyle(b,a,p){p&e.czy.DashCase?b.style.removeProperty(a):b.style[a]=""}setProperty(b,a,p){null!=b&&(b[a]=p)}setValue(b,a){b.nodeValue=a}listen(b,a,p,C){if("string"==typeof b&&!(b=(0,t.rb)().getGlobalEventTarget(this.doc,b)))throw new e.wOt(5102,!1);let x=this.decoratePreventDefault(p);return this.tracingService?.wrapEventListener&&(x=this.tracingService.wrapEventListener(b,a,x)),this.eventManager.addEventListener(b,a,x,C)}decoratePreventDefault(b){return a=>{if("__ngUnwrap__"===a)return b;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>b(a)):b(a))&&a.preventDefault()}}}function we(h){return"TEMPLATE"===h.tagName&&void 0!==h.content}class We extends oe{sharedStylesHost;hostEl;shadowRoot;constructor(b,a,p,C,x,le,ke,tt,Ct){super(b,x,le,tt,Ct),this.sharedStylesHost=a,this.hostEl=p,this.shadowRoot=p.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Lt=C.styles;Lt=te(C.id,Lt);for(const jn of Lt){const Hn=document.createElement("style");ke&&Hn.setAttribute("nonce",ke),Hn.textContent=jn,this.shadowRoot.appendChild(Hn)}const En=C.getExternalStyles?.();if(En)for(const jn of En){const Hn=u(jn,x);ke&&Hn.setAttribute("nonce",ke),this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot(b){return b===this.hostEl?this.shadowRoot:b}appendChild(b,a){return super.appendChild(this.nodeOrShadowRoot(b),a)}insertBefore(b,a,p){return super.insertBefore(this.nodeOrShadowRoot(b),a,p)}removeChild(b,a){return super.removeChild(null,a)}parentNode(b){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(b)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends oe{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(b,a,p,C,x,le,ke,tt,Ct){super(b,x,le,ke,tt),this.sharedStylesHost=a,this.removeStylesOnCompDestroy=C;let Lt=p.styles;this.styles=Ct?te(Ct,Lt):Lt,this.styleUrls=p.getExternalStyles?.(Ct)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class lt extends rt{contentAttr;hostAttr;constructor(b,a,p,C,x,le,ke,tt,Ct){const Lt=C+"-"+p.id;super(b,a,p,x,le,ke,tt,Ct,Lt),this.contentAttr=function L(h){return X.replace(V,h)}(Lt),this.hostAttr=function Q(h){return y.replace(V,h)}(Lt)}applyToHost(b){this.applyStyles(),this.setAttribute(b,this.hostAttr,"")}createElement(b,a){const p=super.createElement(b,a);return super.setAttribute(p,this.contentAttr,""),p}}class vt extends t.qj{supportsDOMEvents=!0;static makeCurrent(){(0,t.ig)(new vt)}onAndCancel(b,a,p,C){return b.addEventListener(a,p,C),()=>{b.removeEventListener(a,p,C)}}dispatchEvent(b,a){b.dispatchEvent(a)}remove(b){b.remove()}createElement(b,a){return(a=a||this.getDefaultDocument()).createElement(b)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(b){return b.nodeType===Node.ELEMENT_NODE}isShadowRoot(b){return b instanceof DocumentFragment}getGlobalEventTarget(b,a){return"window"===a?window:"document"===a?b:"body"===a?b.body:null}getBaseHref(b){const a=function Ye(){return Ue=Ue||document.querySelector("base"),Ue?Ue.getAttribute("href"):null}();return null==a?null:function He(h){return new URL(h,document.baseURI).pathname}(a)}resetBaseElement(){Ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(b){return(0,o.bS)(document.cookie,b)}}let Ue=null,Le=(()=>{class h{build(){return new XMLHttpRequest}static \u0275fac=function(p){return new(p||h)};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})(),Ve=(()=>{class h extends D{constructor(a){super(a)}supports(a){return!0}addEventListener(a,p,C,x){return a.addEventListener(p,C,x),()=>this.removeEventListener(a,p,C,x)}removeEventListener(a,p,C,x){return a.removeEventListener(p,C,x)}static \u0275fac=function(p){return new(p||h)(e.KVO(f.q))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const Xe=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={alt:h=>h.altKey,control:h=>h.ctrlKey,meta:h=>h.metaKey,shift:h=>h.shiftKey};let st=(()=>{class h extends D{constructor(a){super(a)}supports(a){return null!=h.parseEventName(a)}addEventListener(a,p,C,x){const le=h.parseEventName(p),ke=h.eventCallback(le.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.rb)().onAndCancel(a,le.domEventName,ke,x))}static parseEventName(a){const p=a.toLowerCase().split("."),C=p.shift();if(0===p.length||"keydown"!==C&&"keyup"!==C)return null;const x=h._normalizeKey(p.pop());let le="",ke=p.indexOf("code");if(ke>-1&&(p.splice(ke,1),le="code."),Xe.forEach(Ct=>{const Lt=p.indexOf(Ct);Lt>-1&&(p.splice(Lt,1),le+=Ct+".")}),le+=x,0!=p.length||0===x.length)return null;const tt={};return tt.domEventName=C,tt.fullKey=le,tt}static matchEventFullKeyCode(a,p){let C=je[a.key]||a.key,x="";return p.indexOf("code.")>-1&&(C=a.code,x="code."),!(null==C||!C)&&(C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),Xe.forEach(le=>{le!==C&&(0,ct[le])(a)&&(x+=le+".")}),x+=C,x===p)}static eventCallback(a,p,C){return x=>{h.matchEventFullKeyCode(x,a)&&C.runGuarded(()=>p(x))}}static _normalizeKey(a){return"esc"===a?"escape":a}static \u0275fac=function(p){return new(p||h)(e.KVO(f.q))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const en=(0,e.oH4)(e.fpN,"browser",[{provide:e.Agw,useValue:o.Zn},{provide:e.PLl,useValue:function ge(){vt.makeCurrent()},multi:!0},{provide:f.q,useFactory:function dt(){return(0,e.TL$)(document),document}}]),Wn=[{provide:e.e01,useClass:class it{addToWindow(b){e.JZv.getAngularTestability=(p,C=!0)=>{const x=b.findTestabilityInTree(p,C);if(null==x)throw new e.wOt(5103,!1);return x},e.JZv.getAllAngularTestabilities=()=>b.getAllTestabilities(),e.JZv.getAllAngularRootElements=()=>b.getAllRootElements(),e.JZv.frameworkStabilizers||(e.JZv.frameworkStabilizers=[]),e.JZv.frameworkStabilizers.push(p=>{const C=e.JZv.getAllAngularTestabilities();let x=C.length;const le=function(){x--,0==x&&p()};C.forEach(ke=>{ke.whenStable(le)})})}findTestabilityInTree(b,a,p){return null==a?null:b.getTestability(a)??(p?(0,t.rb)().isShadowRoot(a)?this.findTestabilityInTree(b,a.host,!0):this.findTestabilityInTree(b,a.parentElement,!0):null)}}},{provide:e.WHO,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]},{provide:e.NYb,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]}],tn=[{provide:e.H8p,useValue:"root"},{provide:e.zcH,useFactory:function s(){return new e.zcH}},{provide:w,useClass:Ve,multi:!0,deps:[f.q]},{provide:w,useClass:st,multi:!0,deps:[f.q]},fe,E,m,{provide:e._9s,useExisting:fe},{provide:o.N0,useClass:Le},[]];let Ln=(()=>{class h{constructor(){}static \u0275fac=function(p){return new(p||h)};static \u0275mod=e.$C({type:h});static \u0275inj=e.G2t({providers:[...tn,...Wn],imports:[A.MD,e.Hbi]})}return h})();var ni=l(5312),ft=l(9417),Qt=l(3165),pe=l(5218);function P(h){return new e.wOt(3e3,!1)}function ji(h){switch(h.length){case 0:return new pe.sf;case 1:return h[0];default:return new pe.PZ(h)}}function zi(h,b,a=new Map,p=new Map){const C=[],x=[];let le=-1,ke=null;if(b.forEach(tt=>{const Ct=tt.get("offset"),Lt=Ct==le,En=Lt&&ke||new Map;tt.forEach((jn,Hn)=>{let gi=Hn,mi=jn;if("offset"!==Hn)switch(gi=h.normalizePropertyName(gi,C),mi){case pe.FX:mi=a.get(Hn);break;case pe.kp:mi=p.get(Hn);break;default:mi=h.normalizeStyleValue(Hn,gi,mi,C)}En.set(gi,mi)}),Lt||x.push(En),ke=En,le=Ct}),C.length)throw function xi(){return new e.wOt(3502,!1)}();return x}function ls(h,b,a,p){switch(b){case"start":h.onStart(()=>p(a&&ut(a,"start",h)));break;case"done":h.onDone(()=>p(a&&ut(a,"done",h)));break;case"destroy":h.onDestroy(()=>p(a&&ut(a,"destroy",h)))}}function ut(h,b,a){const x=Rt(h.element,h.triggerName,h.fromState,h.toState,b||h.phaseName,a.totalTime??h.totalTime,!!a.disabled),le=h._data;return null!=le&&(x._data=le),x}function Rt(h,b,a,p,C="",x=0,le){return{element:h,triggerName:b,fromState:a,toState:p,phaseName:C,totalTime:x,disabled:!!le}}function yt(h,b,a){let p=h.get(b);return p||h.set(b,p=a),p}function nn(h){const b=h.indexOf(":");return[h.substring(1,b),h.slice(b+1)]}const Vn=typeof document>"u"?null:document.documentElement;function ln(h){const b=h.parentNode||h.host||null;return b===Vn?null:b}let qn=null,Ht=!1;function fn(h,b){for(;b;){if(b===h)return!0;b=ln(b)}return!1}function Qn(h,b,a){if(a)return Array.from(h.querySelectorAll(b));const p=h.querySelector(b);return p?[p]:[]}const ht="ng-enter",jt="ng-leave",Jt="ng-trigger",Mn=".ng-trigger",hi="ng-animating",ri=".ng-animating";function Nn(h){if("number"==typeof h)return h;const b=h.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:Ki(parseFloat(b[1]),b[2])}function Ki(h,b){return"s"===b?1e3*h:h}function Ji(h,b,a){return h.hasOwnProperty("duration")?h:function Ms(h,b,a){let C,x=0,le="";if("string"==typeof h){const ke=h.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ke)return b.push(P()),{duration:0,delay:0,easing:""};C=Ki(parseFloat(ke[1]),ke[2]);const tt=ke[3];null!=tt&&(x=Ki(parseFloat(tt),ke[4]));const Ct=ke[5];Ct&&(le=Ct)}else C=h;if(!a){let ke=!1,tt=b.length;C<0&&(b.push(function q(){return new e.wOt(3100,!1)}()),ke=!0),x<0&&(b.push(function Ne(){return new e.wOt(3101,!1)}()),ke=!0),ke&&b.splice(tt,0,P())}return{duration:C,delay:x,easing:le}}(h,b,a)}function Et(h,b,a){b.forEach((p,C)=>{const x=ae(C);a&&!a.has(C)&&a.set(C,h.style[x]),h.style[x]=p})}function yn(h,b){b.forEach((a,p)=>{const C=ae(p);h.style[C]=""})}function Yt(h){return Array.isArray(h)?1==h.length?h[0]:(0,pe.K2)(h):h}const Qi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bt(h){let b=[];if("string"==typeof h){let a;for(;a=Qi.exec(h);)b.push(a[1]);Qi.lastIndex=0}return b}function ue(h,b,a){const p=`${h}`,C=p.replace(Qi,(x,le)=>{let ke=b[le];return null==ke&&(a.push(function et(){return new e.wOt(3003,!1)}()),ke=""),ke.toString()});return C==p?h:C}const Ae=/-+([a-z0-9])/g;function ae(h){return h.replace(Ae,(...b)=>b[1].toUpperCase())}function pn(h,b,a){switch(b.type){case pe.If.Trigger:return h.visitTrigger(b,a);case pe.If.State:return h.visitState(b,a);case pe.If.Transition:return h.visitTransition(b,a);case pe.If.Sequence:return h.visitSequence(b,a);case pe.If.Group:return h.visitGroup(b,a);case pe.If.Animate:return h.visitAnimate(b,a);case pe.If.Keyframes:return h.visitKeyframes(b,a);case pe.If.Style:return h.visitStyle(b,a);case pe.If.Reference:return h.visitReference(b,a);case pe.If.AnimateChild:return h.visitAnimateChild(b,a);case pe.If.AnimateRef:return h.visitAnimateRef(b,a);case pe.If.Query:return h.visitQuery(b,a);case pe.If.Stagger:return h.visitStagger(b,a);default:throw function gt(){return new e.wOt(3004,!1)}()}}function Bn(h,b){return window.getComputedStyle(h)[b]}let Wi=(()=>{class h{validateStyleProperty(a){return function oi(h){qn||(qn=function Un(){return typeof document<"u"?document.body:null}()||{},Ht=!!qn.style&&"WebkitAppearance"in qn.style);let b=!0;return qn.style&&!function Xn(h){return"ebkit"==h.substring(1,6)}(h)&&(b=h in qn.style,!b&&Ht&&(b="Webkit"+h.charAt(0).toUpperCase()+h.slice(1)in qn.style)),b}(a)}containsElement(a,p){return fn(a,p)}getParentElement(a){return ln(a)}query(a,p,C){return Qn(a,p,C)}computeStyle(a,p,C){return C||""}animate(a,p,C,x,le,ke=[],tt){return new pe.sf(C,x)}static \u0275fac=function(p){return new(p||h)};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();class Di{static NOOP=new Wi}class Li{}const Ui=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yi extends Li{normalizePropertyName(b,a){return ae(b)}normalizeStyleValue(b,a,p,C){let x="";const le=p.toString().trim();if(Ui.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)x="px";else{const ke=p.match(/^[+-]?[\d\.]+([a-z]*)$/);ke&&0==ke[1].length&&C.push(function Kt(){return new e.wOt(3005,!1)}())}return le+x}}const yi=new Set(["true","1"]),fi=new Set(["false","0"]);function Us(h,b){const a=yi.has(h)||fi.has(h),p=yi.has(b)||fi.has(b);return(C,x)=>{let le="*"==h||h==C,ke="*"==b||b==x;return!le&&a&&"boolean"==typeof C&&(le=C?yi.has(h):fi.has(h)),!ke&&p&&"boolean"==typeof x&&(ke=x?yi.has(b):fi.has(b)),le&&ke}}const xr=new RegExp("s*:selfs*,?","g");function xs(h,b,a,p){return new Ci(h).build(b,a,p)}class Ci{_driver;constructor(b){this._driver=b}build(b,a,p){const C=new Oa(a);return this._resetContextStyleTimingState(C),pn(this,Yt(b),C)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,a){let p=a.queryCount=0,C=a.depCount=0;const x=[],le=[];return"@"==b.name.charAt(0)&&a.errors.push(function sn(){return new e.wOt(3006,!1)}()),b.definitions.forEach(ke=>{if(this._resetContextStyleTimingState(a),ke.type==pe.If.State){const tt=ke,Ct=tt.name;Ct.toString().split(/\s*,\s*/).forEach(Lt=>{tt.name=Lt,x.push(this.visitState(tt,a))}),tt.name=Ct}else if(ke.type==pe.If.Transition){const tt=this.visitTransition(ke,a);p+=tt.queryCount,C+=tt.depCount,le.push(tt)}else a.errors.push(function Rn(){return new e.wOt(3007,!1)}())}),{type:pe.If.Trigger,name:b.name,states:x,transitions:le,queryCount:p,depCount:C,options:null}}visitState(b,a){const p=this.visitStyle(b.styles,a),C=b.options&&b.options.params||null;if(p.containsDynamicStyles){const x=new Set,le=C||{};p.styles.forEach(ke=>{ke instanceof Map&&ke.forEach(tt=>{Bt(tt).forEach(Ct=>{le.hasOwnProperty(Ct)||x.add(Ct)})})}),x.size&&a.errors.push(function Kn(){return new e.wOt(3008,!1)}(0,x.values()))}return{type:pe.If.State,name:b.name,style:p,options:C?{params:C}:null}}visitTransition(b,a){a.queryCount=0,a.depCount=0;const p=pn(this,Yt(b.animation),a),C=function Vt(h,b){const a=[];return"string"==typeof h?h.split(/\s*,\s*/).forEach(p=>function mn(h,b,a){if(":"==h[0]){const tt=function Jn(h,b){switch(h){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return b.push(function Ni(){return new e.wOt(3016,!1)}()),"* => *"}}(h,a);if("function"==typeof tt)return void b.push(tt);h=tt}const p=h.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function Bi(){return new e.wOt(3015,!1)}()),b;const C=p[1],x=p[2],le=p[3];b.push(Us(C,le)),"<"==x[0]&&("*"!=C||"*"!=le)&&b.push(Us(le,C))}(p,a,b)):a.push(h),a}(b.expr,a.errors);return{type:pe.If.Transition,matchers:C,animation:p,queryCount:a.queryCount,depCount:a.depCount,options:ma(b.options)}}visitSequence(b,a){return{type:pe.If.Sequence,steps:b.steps.map(p=>pn(this,p,a)),options:ma(b.options)}}visitGroup(b,a){const p=a.currentTime;let C=0;const x=b.steps.map(le=>{a.currentTime=p;const ke=pn(this,le,a);return C=Math.max(C,a.currentTime),ke});return a.currentTime=C,{type:pe.If.Group,steps:x,options:ma(b.options)}}visitAnimate(b,a){const p=function fo(h,b){if(h.hasOwnProperty("duration"))return h;if("number"==typeof h)return Sr(Ji(h,b).duration,0,"");const a=h;if(a.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=Sr(0,0,"");return x.dynamic=!0,x.strValue=a,x}const C=Ji(a,b);return Sr(C.duration,C.delay,C.easing)}(b.timings,a.errors);a.currentAnimateTimings=p;let C,x=b.styles?b.styles:(0,pe.iF)({});if(x.type==pe.If.Keyframes)C=this.visitKeyframes(x,a);else{let le=b.styles,ke=!1;if(!le){ke=!0;const Ct={};p.easing&&(Ct.easing=p.easing),le=(0,pe.iF)(Ct)}a.currentTime+=p.duration+p.delay;const tt=this.visitStyle(le,a);tt.isEmptyStep=ke,C=tt}return a.currentAnimateTimings=null,{type:pe.If.Animate,timings:p,style:C,options:null}}visitStyle(b,a){const p=this._makeStyleAst(b,a);return this._validateStyleAst(p,a),p}_makeStyleAst(b,a){const p=[],C=Array.isArray(b.styles)?b.styles:[b.styles];for(let ke of C)"string"==typeof ke?ke===pe.kp?p.push(ke):a.errors.push(new e.wOt(3002,!1)):p.push(new Map(Object.entries(ke)));let x=!1,le=null;return p.forEach(ke=>{if(ke instanceof Map&&(ke.has("easing")&&(le=ke.get("easing"),ke.delete("easing")),!x))for(let tt of ke.values())if(tt.toString().indexOf("{{")>=0){x=!0;break}}),{type:pe.If.Style,styles:p,easing:le,offset:b.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(b,a){const p=a.currentAnimateTimings;let C=a.currentTime,x=a.currentTime;p&&x>0&&(x-=p.duration+p.delay),b.styles.forEach(le=>{"string"!=typeof le&&le.forEach((ke,tt)=>{const Ct=a.collectedStyles.get(a.currentQuerySelector),Lt=Ct.get(tt);let En=!0;Lt&&(x!=C&&x>=Lt.startTime&&C<=Lt.endTime&&(a.errors.push(function Ot(){return new e.wOt(3010,!1)}()),En=!1),x=Lt.startTime),En&&Ct.set(tt,{startTime:x,endTime:C}),a.options&&function Fn(h,b,a){const p=b.params||{},C=Bt(h);C.length&&C.forEach(x=>{p.hasOwnProperty(x)||a.push(function De(){return new e.wOt(3001,!1)}())})}(ke,a.options,a.errors)})})}visitKeyframes(b,a){const p={type:pe.If.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Gn(){return new e.wOt(3011,!1)}()),p;let x=0;const le=[];let ke=!1,tt=!1,Ct=0;const Lt=b.steps.map(ys=>{const cs=this._makeStyleAst(ys,a);let Xs=null!=cs.offset?cs.offset:function da(h){if("string"==typeof h)return null;let b=null;if(Array.isArray(h))h.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;b=parseFloat(p.get("offset")),p.delete("offset")}});else if(h instanceof Map&&h.has("offset")){const a=h;b=parseFloat(a.get("offset")),a.delete("offset")}return b}(cs.styles),ps=0;return null!=Xs&&(x++,ps=cs.offset=Xs),tt=tt||ps<0||ps>1,ke=ke||ps<Ct,Ct=ps,le.push(ps),cs});tt&&a.errors.push(function Zt(){return new e.wOt(3012,!1)}()),ke&&a.errors.push(function Tn(){return new e.wOt(3200,!1)}());const En=b.steps.length;let jn=0;x>0&&x<En?a.errors.push(function In(){return new e.wOt(3202,!1)}()):0==x&&(jn=1/(En-1));const Hn=En-1,gi=a.currentTime,mi=a.currentAnimateTimings,Xi=mi.duration;return Lt.forEach((ys,cs)=>{const Xs=jn>0?cs==Hn?1:jn*cs:le[cs],ps=Xs*Xi;a.currentTime=gi+mi.delay+ps,mi.duration=ps,this._validateStyleAst(ys,a),ys.offset=Xs,p.styles.push(ys)}),p}visitReference(b,a){return{type:pe.If.Reference,animation:pn(this,Yt(b.animation),a),options:ma(b.options)}}visitAnimateChild(b,a){return a.depCount++,{type:pe.If.AnimateChild,options:ma(b.options)}}visitAnimateRef(b,a){return{type:pe.If.AnimateRef,animation:this.visitReference(b.animation,a),options:ma(b.options)}}visitQuery(b,a){const p=a.currentQuerySelector,C=b.options||{};a.queryCount++,a.currentQuery=b;const[x,le]=function Ir(h){const b=!!h.split(/\s*,\s*/).find(a=>":self"==a);return b&&(h=h.replace(xr,"")),h=h.replace(/@\*/g,Mn).replace(/@\w+/g,a=>Mn+"-"+a.slice(1)).replace(/:animating/g,ri),[h,b]}(b.selector);a.currentQuerySelector=p.length?p+" "+x:x,yt(a.collectedStyles,a.currentQuerySelector,new Map);const ke=pn(this,Yt(b.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:pe.If.Query,selector:x,limit:C.limit||0,optional:!!C.optional,includeSelf:le,animation:ke,originalSelector:b.selector,options:ma(b.options)}}visitStagger(b,a){a.currentQuery||a.errors.push(function rs(){return new e.wOt(3013,!1)}());const p="full"===b.timings?{duration:0,delay:0,easing:"full"}:Ji(b.timings,a.errors,!0);return{type:pe.If.Stagger,animation:pn(this,Yt(b.animation),a),timings:p,options:null}}}class Oa{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(b){this.errors=b}}function ma(h){return h?(h={...h}).params&&(h.params=function qr(h){return h?{...h}:null}(h.params)):h={},h}function Sr(h,b,a){return{duration:h,delay:b,easing:a}}function kr(h,b,a,p,C,x,le=null,ke=!1){return{type:1,element:h,keyframes:b,preStyleProps:a,postStyleProps:p,duration:C,delay:x,totalTime:C+x,easing:le,subTimeline:ke}}class Wr{_map=new Map;get(b){return this._map.get(b)||[]}append(b,a){let p=this._map.get(b);p||this._map.set(b,p=[]),p.push(...a)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const ha=new RegExp(":enter","g"),fr=new RegExp(":leave","g");function Fr(h,b,a,p,C,x=new Map,le=new Map,ke,tt,Ct=[]){return(new Wo).buildKeyframes(h,b,a,p,C,x,le,ke,tt,Ct)}class Wo{buildKeyframes(b,a,p,C,x,le,ke,tt,Ct,Lt=[]){Ct=Ct||new Wr;const En=new xa(b,a,Ct,C,x,Lt,[]);En.options=tt;const jn=tt.delay?Nn(tt.delay):0;En.currentTimeline.delayNextStep(jn),En.currentTimeline.setStyles([le],null,En.errors,tt),pn(this,p,En);const Hn=En.timelines.filter(gi=>gi.containsAnimation());if(Hn.length&&ke.size){let gi;for(let mi=Hn.length-1;mi>=0;mi--){const Xi=Hn[mi];if(Xi.element===a){gi=Xi;break}}gi&&!gi.allowOnlyTimelineStyles()&&gi.setStyles([ke],null,En.errors,tt)}return Hn.length?Hn.map(gi=>gi.buildKeyframes()):[kr(a,[],[],[],0,jn,"",!1)]}visitTrigger(b,a){}visitState(b,a){}visitTransition(b,a){}visitAnimateChild(b,a){const p=a.subInstructions.get(a.element);if(p){const C=a.createSubContext(b.options),x=a.currentTimeline.currentTime,le=this._visitSubInstructions(p,C,C.options);x!=le&&a.transformIntoNewTimeline(le)}a.previousNode=b}visitAnimateRef(b,a){const p=a.createSubContext(b.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],a,p),this.visitReference(b.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=b}_applyAnimationRefDelays(b,a,p){for(const C of b){const x=C?.delay;if(x){const le="number"==typeof x?x:Nn(ue(x,C?.params??{},a.errors));p.delayNextStep(le)}}}_visitSubInstructions(b,a,p){let x=a.currentTimeline.currentTime;const le=null!=p.duration?Nn(p.duration):null,ke=null!=p.delay?Nn(p.delay):null;return 0!==le&&b.forEach(tt=>{const Ct=a.appendInstructionToTimeline(tt,le,ke);x=Math.max(x,Ct.duration+Ct.delay)}),x}visitReference(b,a){a.updateOptions(b.options,!0),pn(this,b.animation,a),a.previousNode=b}visitSequence(b,a){const p=a.subContextCount;let C=a;const x=b.options;if(x&&(x.params||x.delay)&&(C=a.createSubContext(x),C.transformIntoNewTimeline(),null!=x.delay)){C.previousNode.type==pe.If.Style&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=ta);const le=Nn(x.delay);C.delayNextStep(le)}b.steps.length&&(b.steps.forEach(le=>pn(this,le,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>p&&C.transformIntoNewTimeline()),a.previousNode=b}visitGroup(b,a){const p=[];let C=a.currentTimeline.currentTime;const x=b.options&&b.options.delay?Nn(b.options.delay):0;b.steps.forEach(le=>{const ke=a.createSubContext(b.options);x&&ke.delayNextStep(x),pn(this,le,ke),C=Math.max(C,ke.currentTimeline.currentTime),p.push(ke.currentTimeline)}),p.forEach(le=>a.currentTimeline.mergeTimelineCollectedStyles(le)),a.transformIntoNewTimeline(C),a.previousNode=b}_visitTiming(b,a){if(b.dynamic){const p=b.strValue;return Ji(a.params?ue(p,a.params,a.errors):p,a.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,a){const p=a.currentAnimateTimings=this._visitTiming(b.timings,a),C=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),C.snapshotCurrentStyles());const x=b.style;x.type==pe.If.Keyframes?this.visitKeyframes(x,a):(a.incrementTime(p.duration),this.visitStyle(x,a),C.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=b}visitStyle(b,a){const p=a.currentTimeline,C=a.currentAnimateTimings;!C&&p.hasCurrentStyleProperties()&&p.forwardFrame();const x=C&&C.easing||b.easing;b.isEmptyStep?p.applyEmptyStep(x):p.setStyles(b.styles,x,a.errors,a.options),a.previousNode=b}visitKeyframes(b,a){const p=a.currentAnimateTimings,C=a.currentTimeline.duration,x=p.duration,ke=a.createSubContext().currentTimeline;ke.easing=p.easing,b.styles.forEach(tt=>{ke.forwardTime((tt.offset||0)*x),ke.setStyles(tt.styles,tt.easing,a.errors,a.options),ke.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(ke),a.transformIntoNewTimeline(C+x),a.previousNode=b}visitQuery(b,a){const p=a.currentTimeline.currentTime,C=b.options||{},x=C.delay?Nn(C.delay):0;x&&(a.previousNode.type===pe.If.Style||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ta);let le=p;const ke=a.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!C.optional,a.errors);a.currentQueryTotal=ke.length;let tt=null;ke.forEach((Ct,Lt)=>{a.currentQueryIndex=Lt;const En=a.createSubContext(b.options,Ct);x&&En.delayNextStep(x),Ct===a.element&&(tt=En.currentTimeline),pn(this,b.animation,En),En.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,En.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(le),tt&&(a.currentTimeline.mergeTimelineCollectedStyles(tt),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=b}visitStagger(b,a){const p=a.parentContext,C=a.currentTimeline,x=b.timings,le=Math.abs(x.duration),ke=le*(a.currentQueryTotal-1);let tt=le*a.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":tt=ke-tt;break;case"full":tt=p.currentStaggerTime}const Lt=a.currentTimeline;tt&&Lt.delayNextStep(tt);const En=Lt.currentTime;pn(this,b.animation,a),a.previousNode=b,p.currentStaggerTime=C.currentTime-En+(C.startTime-p.currentTimeline.startTime)}}const ta={};class xa{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ta;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(b,a,p,C,x,le,ke,tt){this._driver=b,this.element=a,this.subInstructions=p,this._enterClassName=C,this._leaveClassName=x,this.errors=le,this.timelines=ke,this.currentTimeline=tt||new ja(this._driver,a,0),ke.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,a){if(!b)return;const p=b;let C=this.options;null!=p.duration&&(C.duration=Nn(p.duration)),null!=p.delay&&(C.delay=Nn(p.delay));const x=p.params;if(x){let le=C.params;le||(le=this.options.params={}),Object.keys(x).forEach(ke=>{(!a||!le.hasOwnProperty(ke))&&(le[ke]=ue(x[ke],le,this.errors))})}}_copyOptions(){const b={};if(this.options){const a=this.options.params;if(a){const p=b.params={};Object.keys(a).forEach(C=>{p[C]=a[C]})}}return b}createSubContext(b=null,a,p){const C=a||this.element,x=new xa(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,p||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(b),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(b){return this.previousNode=ta,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,a,p){const C={duration:a??b.duration,delay:this.currentTimeline.currentTime+(p??0)+b.delay,easing:""},x=new Ur(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,C,b.stretchStartingKeyframe);return this.timelines.push(x),C}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,a,p,C,x,le){let ke=[];if(C&&ke.push(this.element),b.length>0){b=(b=b.replace(ha,"."+this._enterClassName)).replace(fr,"."+this._leaveClassName);let Ct=this._driver.query(this.element,b,1!=p);0!==p&&(Ct=p<0?Ct.slice(Ct.length+p,Ct.length):Ct.slice(0,p)),ke.push(...Ct)}return!x&&0==ke.length&&le.push(function _i(){return new e.wOt(3014,!1)}()),ke}}class ja{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(b,a,p,C){this._driver=b,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=C,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+b),a&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,a){return this.applyStylesToKeyframe(),new ja(this._driver,b,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,a){this._localTimelineStyles.set(b,a),this._globalTimelineStyles.set(b,a),this._styleSummary.set(b,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||pe.kp),this._currentKeyframe.set(a,pe.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,a,p,C){a&&this._previousKeyframe.set("easing",a);const x=C&&C.params||{},le=function ka(h,b){const a=new Map;let p;return h.forEach(C=>{if("*"===C){p??=b.keys();for(let x of p)a.set(x,pe.kp)}else for(let[x,le]of C)a.set(x,le)}),a}(b,this._globalTimelineStyles);for(let[ke,tt]of le){const Ct=ue(tt,x,p);this._pendingStyles.set(ke,Ct),this._localTimelineStyles.has(ke)||this._backFill.set(ke,this._globalTimelineStyles.get(ke)??pe.kp),this._updateStyle(ke,Ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,a)=>{this._currentKeyframe.set(a,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,b)}))}snapshotCurrentStyles(){for(let[b,a]of this._localTimelineStyles)this._pendingStyles.set(b,a),this._updateStyle(b,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let a in this._currentKeyframe)b.push(a);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((a,p)=>{const C=this._styleSummary.get(p);(!C||a.time>C.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((ke,tt)=>{const Ct=new Map([...this._backFill,...ke]);Ct.forEach((Lt,En)=>{Lt===pe.FX?b.add(En):Lt===pe.kp&&a.add(En)}),p||Ct.set("offset",tt/this.duration),C.push(Ct)});const x=[...b.values()],le=[...a.values()];if(p){const ke=C[0],tt=new Map(ke);ke.set("offset",0),tt.set("offset",1),C=[ke,tt]}return kr(this.element,C,x,le,this.duration,this.startTime,this.easing,!1)}}class Ur extends ja{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(b,a,p,C,x,le,ke=!1){super(b,a,le.delay),this.keyframes=p,this.preStyleProps=C,this.postStyleProps=x,this._stretchStartingKeyframe=ke,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:a,duration:p,easing:C}=this.timings;if(this._stretchStartingKeyframe&&a){const x=[],le=p+a,ke=a/le,tt=new Map(b[0]);tt.set("offset",0),x.push(tt);const Ct=new Map(b[0]);Ct.set("offset",mr(ke)),x.push(Ct);const Lt=b.length-1;for(let En=1;En<=Lt;En++){let jn=new Map(b[En]);const Hn=jn.get("offset");jn.set("offset",mr((a+Hn*p)/le)),x.push(jn)}p=le,a=0,C="",b=x}return kr(this.element,b,this.preStyleProps,this.postStyleProps,p,a,C,!0)}}function mr(h,b=3){const a=Math.pow(10,b-1);return Math.round(h*a)/a}function io(h,b,a,p,C,x,le,ke,tt,Ct,Lt,En,jn){return{type:0,element:h,triggerName:b,isRemovalTransition:C,fromState:a,fromStyles:x,toState:p,toStyles:le,timelines:ke,queriedElements:tt,preStyleProps:Ct,postStyleProps:Lt,totalTime:En,errors:jn}}const Ia={};class Br{_triggerName;ast;_stateStyles;constructor(b,a,p){this._triggerName=b,this.ast=a,this._stateStyles=p}match(b,a,p,C){return function vr(h,b,a,p,C){return h.some(x=>x(b,a,p,C))}(this.ast.matchers,b,a,p,C)}buildStyles(b,a,p){let C=this._stateStyles.get("*");return void 0!==b&&(C=this._stateStyles.get(b?.toString())||C),C?C.buildStyles(a,p):new Map}build(b,a,p,C,x,le,ke,tt,Ct,Lt){const En=[],jn=this.ast.options&&this.ast.options.params||Ia,gi=this.buildStyles(p,ke&&ke.params||Ia,En),mi=tt&&tt.params||Ia,Xi=this.buildStyles(C,mi,En),ys=new Set,cs=new Map,Xs=new Map,ps="void"===C,ir={params:jr(mi,jn),delay:this.ast.options?.delay},Qs=Lt?[]:Fr(b,a,this.ast.animation,x,le,gi,Xi,ir,Ct,En);let er=0;return Qs.forEach(tr=>{er=Math.max(tr.duration+tr.delay,er)}),En.length?io(a,this._triggerName,p,C,ps,gi,Xi,[],[],cs,Xs,er,En):(Qs.forEach(tr=>{const la=tr.element,ca=yt(cs,la,new Set);tr.preStyleProps.forEach(eo=>ca.add(eo));const qa=yt(Xs,la,new Set);tr.postStyleProps.forEach(eo=>qa.add(eo)),la!==a&&ys.add(la)}),io(a,this._triggerName,p,C,ps,gi,Xi,Qs,[...ys.values()],cs,Xs,er))}}function jr(h,b){const a={...b};return Object.entries(h).forEach(([p,C])=>{null!=C&&(a[p]=C)}),a}class Ao{styles;defaultParams;normalizer;constructor(b,a,p){this.styles=b,this.defaultParams=a,this.normalizer=p}buildStyles(b,a){const p=new Map,C=jr(b,this.defaultParams);return this.styles.styles.forEach(x=>{"string"!=typeof x&&x.forEach((le,ke)=>{le&&(le=ue(le,C,a));const tt=this.normalizer.normalizePropertyName(ke,a);le=this.normalizer.normalizeStyleValue(ke,tt,le,a),p.set(ke,le)})}),p}}class ar{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(b,a,p){this.name=b,this.ast=a,this._normalizer=p,a.states.forEach(C=>{this.states.set(C.name,new Ao(C.style,C.options&&C.options.params||{},p))}),Ds(this.states,"true","1"),Ds(this.states,"false","0"),a.transitions.forEach(C=>{this.transitionFactories.push(new Br(b,C,this.states))}),this.fallbackTransition=function hs(h,b){return new Br(h,{type:pe.If.Transition,animation:{type:pe.If.Sequence,steps:[],options:null},matchers:[(le,ke)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,a,p,C){return this.transitionFactories.find(le=>le.match(b,a,p,C))||null}matchStyles(b,a,p){return this.fallbackTransition.buildStyles(b,a,p)}}function Ds(h,b,a){h.has(b)?h.has(a)||h.set(a,h.get(b)):h.has(a)&&h.set(b,h.get(a))}const ks=new Wr;class Yr{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(b,a,p){this.bodyNode=b,this._driver=a,this._normalizer=p}register(b,a){const p=[],x=xs(this._driver,a,p,[]);if(p.length)throw function wt(){return new e.wOt(3503,!1)}();this._animations.set(b,x)}_buildPlayer(b,a,p){const C=b.element,x=zi(this._normalizer,b.keyframes,a,p);return this._driver.animate(C,x,b.duration,b.delay,b.easing,[],!0)}create(b,a,p={}){const C=[],x=this._animations.get(b);let le;const ke=new Map;if(x?(le=Fr(this._driver,a,x,ht,jt,new Map,new Map,p,ks,C),le.forEach(Lt=>{const En=yt(ke,Lt.element,new Map);Lt.postStyleProps.forEach(jn=>En.set(jn,null))})):(C.push(function Tt(){return new e.wOt(3300,!1)}()),le=[]),C.length)throw function xt(){return new e.wOt(3504,!1)}();ke.forEach((Lt,En)=>{Lt.forEach((jn,Hn)=>{Lt.set(Hn,this._driver.computeStyle(En,Hn,pe.kp))})});const Ct=ji(le.map(Lt=>{const En=ke.get(Lt.element);return this._buildPlayer(Lt,new Map,En)}));return this._playersById.set(b,Ct),Ct.onDestroy(()=>this.destroy(b)),this.players.push(Ct),Ct}destroy(b){const a=this._getPlayer(b);a.destroy(),this._playersById.delete(b);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(b){const a=this._playersById.get(b);if(!a)throw function Wt(){return new e.wOt(3301,!1)}();return a}listen(b,a,p,C){const x=Rt(a,"","","");return ls(this._getPlayer(b),p,x,C),()=>{}}command(b,a,p,C){if("register"==p)return void this.register(b,C[0]);if("create"==p)return void this.create(b,a,C[0]||{});const x=this._getPlayer(b);switch(p){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(b)}}}const Er="ng-animate-queued",Yo="ng-animate-disabled",ie=[],ee={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Te={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qe="__ng_removed";class Pt{namespaceId;value;options;get params(){return this.options.params}constructor(b,a=""){this.namespaceId=a;const p=b&&b.hasOwnProperty("value");if(this.value=function ga(h){return h??null}(p?b.value:b),p){const{value:x,...le}=b;this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const a=b.params;if(a){const p=this.options.params;Object.keys(a).forEach(C=>{null==p[C]&&(p[C]=a[C])})}}}const bn="void",ai=new Pt(bn);class ts{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(b,a,p){this.id=b,this.hostElement=a,this._engine=p,this._hostClassName="ng-tns-"+b,ws(a,this._hostClassName)}listen(b,a,p,C){if(!this._triggers.has(a))throw function un(){return new e.wOt(3302,!1)}();if(null==p||0==p.length)throw function ii(){return new e.wOt(3303,!1)}();if(!function Rr(h){return"start"==h||"done"==h}(p))throw function Ei(){return new e.wOt(3400,!1)}();const x=yt(this._elementListeners,b,[]),le={name:a,phase:p,callback:C};x.push(le);const ke=yt(this._engine.statesByElement,b,new Map);return ke.has(a)||(ws(b,Jt),ws(b,Jt+"-"+a),ke.set(a,ai)),()=>{this._engine.afterFlush(()=>{const tt=x.indexOf(le);tt>=0&&x.splice(tt,1),this._triggers.has(a)||ke.delete(a)})}}register(b,a){return!this._triggers.has(b)&&(this._triggers.set(b,a),!0)}_getTrigger(b){const a=this._triggers.get(b);if(!a)throw function Ii(){return new e.wOt(3401,!1)}();return a}trigger(b,a,p,C=!0){const x=this._getTrigger(a),le=new Zs(this.id,a,b);let ke=this._engine.statesByElement.get(b);ke||(ws(b,Jt),ws(b,Jt+"-"+a),this._engine.statesByElement.set(b,ke=new Map));let tt=ke.get(a);const Ct=new Pt(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&tt&&Ct.absorbOptions(tt.options),ke.set(a,Ct),tt||(tt=ai),Ct.value!==bn&&tt.value===Ct.value){if(!function Nl(h,b){const a=Object.keys(h),p=Object.keys(b);if(a.length!=p.length)return!1;for(let C=0;C<a.length;C++){const x=a[C];if(!b.hasOwnProperty(x)||h[x]!==b[x])return!1}return!0}(tt.params,Ct.params)){const mi=[],Xi=x.matchStyles(tt.value,tt.params,mi),ys=x.matchStyles(Ct.value,Ct.params,mi);mi.length?this._engine.reportError(mi):this._engine.afterFlush(()=>{yn(b,Xi),Et(b,ys)})}return}const jn=yt(this._engine.playersByElement,b,[]);jn.forEach(mi=>{mi.namespaceId==this.id&&mi.triggerName==a&&mi.queued&&mi.destroy()});let Hn=x.matchTransition(tt.value,Ct.value,b,Ct.params),gi=!1;if(!Hn){if(!C)return;Hn=x.fallbackTransition,gi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:a,transition:Hn,fromState:tt,toState:Ct,player:le,isFallbackTransition:gi}),gi||(ws(b,Er),le.onStart(()=>{Pa(b,Er)})),le.onDone(()=>{let mi=this.players.indexOf(le);mi>=0&&this.players.splice(mi,1);const Xi=this._engine.playersByElement.get(b);if(Xi){let ys=Xi.indexOf(le);ys>=0&&Xi.splice(ys,1)}}),this.players.push(le),jn.push(le),le}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(a=>a.delete(b)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(C=>C.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const a=this._engine.playersByElement.get(b);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,a){const p=this._engine.driver.query(b,Mn,!0);p.forEach(C=>{if(C[qe])return;const x=this._engine.fetchNamespacesByElement(C);x.size?x.forEach(le=>le.triggerLeaveAnimation(C,a,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(b,a,p,C){const x=this._engine.statesByElement.get(b),le=new Map;if(x){const ke=[];if(x.forEach((tt,Ct)=>{if(le.set(Ct,tt.value),this._triggers.has(Ct)){const Lt=this.trigger(b,Ct,bn,C);Lt&&ke.push(Lt)}}),ke.length)return this._engine.markElementAsRemoved(this.id,b,!0,a,le),p&&ji(ke).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const a=this._elementListeners.get(b),p=this._engine.statesByElement.get(b);if(a&&p){const C=new Set;a.forEach(x=>{const le=x.name;if(C.has(le))return;C.add(le);const tt=this._triggers.get(le).fallbackTransition,Ct=p.get(le)||ai,Lt=new Pt(bn),En=new Zs(this.id,le,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:le,transition:tt,fromState:Ct,toState:Lt,player:En,isFallbackTransition:!0})})}}removeNode(b,a){const p=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,a),this.triggerLeaveAnimation(b,a,!0))return;let C=!1;if(p.totalAnimations){const x=p.players.length?p.playersByQueriedElement.get(b):[];if(x&&x.length)C=!0;else{let le=b;for(;le=le.parentNode;)if(p.statesByElement.get(le)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(b),C)p.markElementAsRemoved(this.id,b,!1,a);else{const x=b[qe];(!x||x===ee)&&(p.afterFlush(()=>this.clearElementCache(b)),p.destroyInnerAnimations(b),p._onRemovalComplete(b,a))}}insertNode(b,a){ws(b,this._hostClassName)}drainQueuedTransitions(b){const a=[];return this._queue.forEach(p=>{const C=p.player;if(C.destroyed)return;const x=p.element,le=this._elementListeners.get(x);le&&le.forEach(ke=>{if(ke.name==p.triggerName){const tt=Rt(x,p.triggerName,p.fromState.value,p.toState.value);tt._data=b,ls(p.player,ke.phase,tt,ke.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):a.push(p)}),this._queue=[],a.sort((p,C)=>{const x=p.transition.ast.depCount,le=C.transition.ast.depCount;return 0==x||0==le?x-le:this._engine.driver.containsElement(p.element,C.element)?1:-1})}destroy(b){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}}class $i{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(b,a)=>{};_onRemovalComplete(b,a){this.onRemovalComplete(b,a)}constructor(b,a,p){this.bodyNode=b,this.driver=a,this._normalizer=p}get queuedPlayers(){const b=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&b.push(p)})}),b}createNamespace(b,a){const p=new ts(b,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[b]=p}_balanceNamespaceList(b,a){const p=this._namespaceList,C=this.namespacesByHostElement;if(p.length-1>=0){let le=!1,ke=this.driver.getParentElement(a);for(;ke;){const tt=C.get(ke);if(tt){const Ct=p.indexOf(tt);p.splice(Ct+1,0,b),le=!0;break}ke=this.driver.getParentElement(ke)}le||p.unshift(b)}else p.push(b);return C.set(a,b),b}register(b,a){let p=this._namespaceLookup[b];return p||(p=this.createNamespace(b,a)),p}registerTrigger(b,a,p){let C=this._namespaceLookup[b];C&&C.register(a,p)&&this.totalAnimations++}destroy(b,a){b&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(b);this.namespacesByHostElement.delete(p.hostElement);const C=this._namespaceList.indexOf(p);C>=0&&this._namespaceList.splice(C,1),p.destroy(a),delete this._namespaceLookup[b]}))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const a=new Set,p=this.statesByElement.get(b);if(p)for(let C of p.values())if(C.namespaceId){const x=this._fetchNamespace(C.namespaceId);x&&a.add(x)}return a}trigger(b,a,p,C){if($a(a)){const x=this._fetchNamespace(b);if(x)return x.trigger(a,p,C),!0}return!1}insertNode(b,a,p,C){if(!$a(a))return;const x=a[qe];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const le=this.collectedLeaveElements.indexOf(a);le>=0&&this.collectedLeaveElements.splice(le,1)}if(b){const le=this._fetchNamespace(b);le&&le.insertNode(a,p)}C&&this.collectEnterElement(a)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,a){a?this.disabledNodes.has(b)||(this.disabledNodes.add(b),ws(b,Yo)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),Pa(b,Yo))}removeNode(b,a,p){if($a(a)){const C=b?this._fetchNamespace(b):null;C?C.removeNode(a,p):this.markElementAsRemoved(b,a,!1,p);const x=this.namespacesByHostElement.get(a);x&&x.id!==b&&x.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(b,a,p,C,x){this.collectedLeaveElements.push(a),a[qe]={namespaceId:b,setForRemoval:C,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:x}}listen(b,a,p,C,x){return $a(a)?this._fetchNamespace(b).listen(a,p,C,x):()=>{}}_buildInstruction(b,a,p,C,x){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,p,C,b.fromState.options,b.toState.options,a,x)}destroyInnerAnimations(b){let a=this.driver.query(b,Mn,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(b,ri,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(b){const a=this.playersByElement.get(b);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(b){const a=this.playersByQueriedElement.get(b);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return ji(this.players).onDone(()=>b());b()})}processLeaveNode(b){const a=b[qe];if(a&&a.setForRemoval){if(b[qe]=ee,a.namespaceId){this.destroyInnerAnimations(b);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(b)}this._onRemovalComplete(b,a.setForRemoval)}b.classList?.contains(Yo)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(b=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,C)=>this._balanceNamespaceList(p,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)ws(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,b)}finally{for(let C=0;C<p.length;C++)p[C]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?ji(a).onDone(()=>{p.forEach(C=>C())}):p.forEach(C=>C())}}reportError(b){throw function Ti(){return new e.wOt(3402,!1)}()}_flushAnimations(b,a){const p=new Wr,C=[],x=new Map,le=[],ke=new Map,tt=new Map,Ct=new Map,Lt=new Set;this.disabledNodes.forEach(Gi=>{Lt.add(Gi);const as=this.driver.query(Gi,".ng-animate-queued",!0);for(let Ss=0;Ss<as.length;Ss++)Lt.add(as[Ss])});const En=this.bodyNode,jn=Array.from(this.statesByElement.keys()),Hn=Mc(jn,this.collectedEnterElements),gi=new Map;let mi=0;Hn.forEach((Gi,as)=>{const Ss=ht+mi++;gi.set(as,Ss),Gi.forEach(Ks=>ws(Ks,Ss))});const Xi=[],ys=new Set,cs=new Set;for(let Gi=0;Gi<this.collectedLeaveElements.length;Gi++){const as=this.collectedLeaveElements[Gi],Ss=as[qe];Ss&&Ss.setForRemoval&&(Xi.push(as),ys.add(as),Ss.hasAnimation?this.driver.query(as,".ng-star-inserted",!0).forEach(Ks=>ys.add(Ks)):cs.add(as))}const Xs=new Map,ps=Mc(jn,Array.from(ys));ps.forEach((Gi,as)=>{const Ss=jt+mi++;Xs.set(as,Ss),Gi.forEach(Ks=>ws(Ks,Ss))}),b.push(()=>{Hn.forEach((Gi,as)=>{const Ss=gi.get(as);Gi.forEach(Ks=>Pa(Ks,Ss))}),ps.forEach((Gi,as)=>{const Ss=Xs.get(as);Gi.forEach(Ks=>Pa(Ks,Ss))}),Xi.forEach(Gi=>{this.processLeaveNode(Gi)})});const ir=[],Qs=[];for(let Gi=this._namespaceList.length-1;Gi>=0;Gi--)this._namespaceList[Gi].drainQueuedTransitions(a).forEach(Ss=>{const Ks=Ss.player,wa=Ss.element;if(ir.push(Ks),this.collectedEnterElements.length){const Jr=wa[qe];if(Jr&&Jr.setForMove){if(Jr.previousTriggersValues&&Jr.previousTriggersValues.has(Ss.triggerName)){const Ro=Jr.previousTriggersValues.get(Ss.triggerName),Qr=this.statesByElement.get(Ss.element);if(Qr&&Qr.has(Ss.triggerName)){const vf=Qr.get(Ss.triggerName);vf.value=Ro,Qr.set(Ss.triggerName,vf)}}return void Ks.destroy()}}const Dl=!En||!this.driver.containsElement(En,wa),La=Xs.get(wa),sc=gi.get(wa),rr=this._buildInstruction(Ss,p,sc,La,Dl);if(rr.errors&&rr.errors.length)return void Qs.push(rr);if(Dl)return Ks.onStart(()=>yn(wa,rr.fromStyles)),Ks.onDestroy(()=>Et(wa,rr.toStyles)),void C.push(Ks);if(Ss.isFallbackTransition)return Ks.onStart(()=>yn(wa,rr.fromStyles)),Ks.onDestroy(()=>Et(wa,rr.toStyles)),void C.push(Ks);const _l=[];rr.timelines.forEach(Jr=>{Jr.stretchStartingKeyframe=!0,this.disabledNodes.has(Jr.element)||_l.push(Jr)}),rr.timelines=_l,p.append(wa,rr.timelines),le.push({instruction:rr,player:Ks,element:wa}),rr.queriedElements.forEach(Jr=>yt(ke,Jr,[]).push(Ks)),rr.preStyleProps.forEach((Jr,Ro)=>{if(Jr.size){let Qr=tt.get(Ro);Qr||tt.set(Ro,Qr=new Set),Jr.forEach((vf,lu)=>Qr.add(lu))}}),rr.postStyleProps.forEach((Jr,Ro)=>{let Qr=Ct.get(Ro);Qr||Ct.set(Ro,Qr=new Set),Jr.forEach((vf,lu)=>Qr.add(lu))})});if(Qs.length){const Gi=[];Qs.forEach(as=>{Gi.push(function Dn(){return new e.wOt(3505,!1)}())}),ir.forEach(as=>as.destroy()),this.reportError(Gi)}const er=new Map,tr=new Map;le.forEach(Gi=>{const as=Gi.element;p.has(as)&&(tr.set(as,as),this._beforeAnimationBuild(Gi.player.namespaceId,Gi.instruction,er))}),C.forEach(Gi=>{const as=Gi.element;this._getPreviousPlayers(as,!1,Gi.namespaceId,Gi.triggerName,null).forEach(Ks=>{yt(er,as,[]).push(Ks),Ks.destroy()})});const la=Xi.filter(Gi=>Ml(Gi,tt,Ct)),ca=new Map;ro(ca,this.driver,cs,Ct,pe.kp).forEach(Gi=>{Ml(Gi,tt,Ct)&&la.push(Gi)});const eo=new Map;Hn.forEach((Gi,as)=>{ro(eo,this.driver,new Set(Gi),tt,pe.FX)}),la.forEach(Gi=>{const as=ca.get(Gi),Ss=eo.get(Gi);ca.set(Gi,new Map([...as?.entries()??[],...Ss?.entries()??[]]))});const to=[],Dc=[],ou={};le.forEach(Gi=>{const{element:as,player:Ss,instruction:Ks}=Gi;if(p.has(as)){if(Lt.has(as))return Ss.onDestroy(()=>Et(as,Ks.toStyles)),Ss.disabled=!0,Ss.overrideTotalTime(Ks.totalTime),void C.push(Ss);let wa=ou;if(tr.size>1){let La=as;const sc=[];for(;La=La.parentNode;){const rr=tr.get(La);if(rr){wa=rr;break}sc.push(La)}sc.forEach(rr=>tr.set(rr,wa))}const Dl=this._buildAnimation(Ss.namespaceId,Ks,er,x,eo,ca);if(Ss.setRealPlayer(Dl),wa===ou)to.push(Ss);else{const La=this.playersByElement.get(wa);La&&La.length&&(Ss.parentPlayer=ji(La)),C.push(Ss)}}else yn(as,Ks.fromStyles),Ss.onDestroy(()=>Et(as,Ks.toStyles)),Dc.push(Ss),Lt.has(as)&&C.push(Ss)}),Dc.forEach(Gi=>{const as=x.get(Gi.element);if(as&&as.length){const Ss=ji(as);Gi.setRealPlayer(Ss)}}),C.forEach(Gi=>{Gi.parentPlayer?Gi.syncPlayerEvents(Gi.parentPlayer):Gi.destroy()});for(let Gi=0;Gi<Xi.length;Gi++){const as=Xi[Gi],Ss=as[qe];if(Pa(as,jt),Ss&&Ss.hasAnimation)continue;let Ks=[];if(ke.size){let Dl=ke.get(as);Dl&&Dl.length&&Ks.push(...Dl);let La=this.driver.query(as,ri,!0);for(let sc=0;sc<La.length;sc++){let rr=ke.get(La[sc]);rr&&rr.length&&Ks.push(...rr)}}const wa=Ks.filter(Dl=>!Dl.destroyed);wa.length?sl(this,as,wa):this.processLeaveNode(as)}return Xi.length=0,to.forEach(Gi=>{this.players.push(Gi),Gi.onDone(()=>{Gi.destroy();const as=this.players.indexOf(Gi);this.players.splice(as,1)}),Gi.play()}),to}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,a,p,C,x){let le=[];if(a){const ke=this.playersByQueriedElement.get(b);ke&&(le=ke)}else{const ke=this.playersByElement.get(b);if(ke){const tt=!x||x==bn;ke.forEach(Ct=>{Ct.queued||!tt&&Ct.triggerName!=C||le.push(Ct)})}}return(p||C)&&(le=le.filter(ke=>!(p&&p!=ke.namespaceId||C&&C!=ke.triggerName))),le}_beforeAnimationBuild(b,a,p){const x=a.element,le=a.isRemovalTransition?void 0:b,ke=a.isRemovalTransition?void 0:a.triggerName;for(const tt of a.timelines){const Ct=tt.element,Lt=Ct!==x,En=yt(p,Ct,[]);this._getPreviousPlayers(Ct,Lt,le,ke,a.toState).forEach(Hn=>{const gi=Hn.getRealPlayer();gi.beforeDestroy&&gi.beforeDestroy(),Hn.destroy(),En.push(Hn)})}yn(x,a.fromStyles)}_buildAnimation(b,a,p,C,x,le){const ke=a.triggerName,tt=a.element,Ct=[],Lt=new Set,En=new Set,jn=a.timelines.map(gi=>{const mi=gi.element;Lt.add(mi);const Xi=mi[qe];if(Xi&&Xi.removedBeforeQueried)return new pe.sf(gi.duration,gi.delay);const ys=mi!==tt,cs=function Ys(h){const b=[];return Do(h,b),b}((p.get(mi)||ie).map(er=>er.getRealPlayer())).filter(er=>!!er.element&&er.element===mi),Xs=x.get(mi),ps=le.get(mi),ir=zi(this._normalizer,gi.keyframes,Xs,ps),Qs=this._buildPlayer(gi,ir,cs);if(gi.subTimeline&&C&&En.add(mi),ys){const er=new Zs(b,ke,mi);er.setRealPlayer(Qs),Ct.push(er)}return Qs});Ct.forEach(gi=>{yt(this.playersByQueriedElement,gi.element,[]).push(gi),gi.onDone(()=>function $r(h,b,a){let p=h.get(b);if(p){if(p.length){const C=p.indexOf(a);p.splice(C,1)}0==p.length&&h.delete(b)}return p}(this.playersByQueriedElement,gi.element,gi))}),Lt.forEach(gi=>ws(gi,hi));const Hn=ji(jn);return Hn.onDestroy(()=>{Lt.forEach(gi=>Pa(gi,hi)),Et(tt,a.toStyles)}),En.forEach(gi=>{yt(C,gi,[]).push(Hn)}),Hn}_buildPlayer(b,a,p){return a.length>0?this.driver.animate(b.element,a,b.duration,b.delay,b.easing,p):new pe.sf(b.duration,b.delay)}}class Zs{namespaceId;triggerName;element;_player=new pe.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(b,a,p){this.namespaceId=b,this.triggerName=a,this.element=p}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((a,p)=>{a.forEach(C=>ls(b,p,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const a=this._player;a.triggerCallback&&b.onStart(()=>a.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,a){yt(this._queuedCallbacks,b,[]).push(a)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const a=this._player;a.triggerCallback&&a.triggerCallback(b)}}function $a(h){return h&&1===h.nodeType}function Ga(h,b){const a=h.style.display;return h.style.display=b??"none",a}function ro(h,b,a,p,C){const x=[];a.forEach(tt=>x.push(Ga(tt)));const le=[];p.forEach((tt,Ct)=>{const Lt=new Map;tt.forEach(En=>{const jn=b.computeStyle(Ct,En,C);Lt.set(En,jn),(!jn||0==jn.length)&&(Ct[qe]=Te,le.push(Ct))}),h.set(Ct,Lt)});let ke=0;return a.forEach(tt=>Ga(tt,x[ke++])),le}function Mc(h,b){const a=new Map;if(h.forEach(ke=>a.set(ke,[])),0==b.length)return a;const C=new Set(b),x=new Map;function le(ke){if(!ke)return 1;let tt=x.get(ke);if(tt)return tt;const Ct=ke.parentNode;return tt=a.has(Ct)?Ct:C.has(Ct)?1:le(Ct),x.set(ke,tt),tt}return b.forEach(ke=>{const tt=le(ke);1!==tt&&a.get(tt).push(ke)}),a}function ws(h,b){h.classList?.add(b)}function Pa(h,b){h.classList?.remove(b)}function sl(h,b,a){ji(a).onDone(()=>h.processLeaveNode(b))}function Do(h,b){for(let a=0;a<h.length;a++){const p=h[a];p instanceof pe.PZ?Do(p.players,b):b.push(p)}}function Ml(h,b,a){const p=a.get(h);if(!p)return!1;let C=b.get(h);return C?p.forEach(x=>C.add(x)):b.set(h,p),a.delete(h),!0}class No{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(b,a)=>{};constructor(b,a,p){this._driver=a,this._normalizer=p,this._transitionEngine=new $i(b.body,a,p),this._timelineEngine=new Yr(b.body,a,p),this._transitionEngine.onRemovalComplete=(C,x)=>this.onRemovalComplete(C,x)}registerTrigger(b,a,p,C,x){const le=b+"-"+C;let ke=this._triggerCache[le];if(!ke){const tt=[],Lt=xs(this._driver,x,tt,[]);if(tt.length)throw function fs(){return new e.wOt(3404,!1)}();ke=function Ca(h,b,a){return new ar(h,b,a)}(C,Lt,this._normalizer),this._triggerCache[le]=ke}this._transitionEngine.registerTrigger(a,C,ke)}register(b,a){this._transitionEngine.register(b,a)}destroy(b,a){this._transitionEngine.destroy(b,a)}onInsert(b,a,p,C){this._transitionEngine.insertNode(b,a,p,C)}onRemove(b,a,p){this._transitionEngine.removeNode(b,a,p)}disableAnimations(b,a){this._transitionEngine.markElementAsDisabled(b,a)}process(b,a,p,C){if("@"==p.charAt(0)){const[x,le]=nn(p);this._timelineEngine.command(x,a,le,C)}else this._transitionEngine.trigger(b,a,p,C)}listen(b,a,p,C,x){if("@"==p.charAt(0)){const[le,ke]=nn(p);return this._timelineEngine.listen(le,a,ke,x)}return this._transitionEngine.listen(b,a,p,C,x)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let Ts=(()=>{class h{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(a,p,C){this._element=a,this._startStyles=p,this._endStyles=C;let x=h.initialStylesByElement.get(a);x||h.initialStylesByElement.set(a,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&Et(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Et(this._element,this._initialStyles),this._endStyles&&(Et(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(h.initialStylesByElement.delete(this._element),this._startStyles&&(yn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yn(this._element,this._endStyles),this._endStyles=null),Et(this._element,this._initialStyles),this._state=3)}}return h})();function _a(h){let b=null;return h.forEach((a,p)=>{(function va(h){return"display"===h||"position"===h})(p)&&(b=b||new Map,b.set(p,a))}),b}class zo{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(b,a,p,C){this.element=b,this.keyframes=a,this.options=p,this._specialStyles=C,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const a=[];return b.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(b,a,p){return b.animate(this._convertKeyframesToObject(a),p)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,C)=>{"offset"!==C&&b.set(C,this._finished?p:Bn(this.element,C))}),this.currentSnapshot=b}triggerCallback(b){const a="start"===b?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class Mo{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}containsElement(b,a){return fn(b,a)}getParentElement(b){return ln(b)}query(b,a,p){return Qn(b,a,p)}computeStyle(b,a,p){return Bn(b,a)}animate(b,a,p,C,x,le=[]){const tt={duration:p,delay:C,fill:0==C?"both":"forwards"};x&&(tt.easing=x);const Ct=new Map,Lt=le.filter(Hn=>Hn instanceof zo);(function Pe(h,b){return 0===h||0===b})(p,C)&&Lt.forEach(Hn=>{Hn.currentSnapshot.forEach((gi,mi)=>Ct.set(mi,gi))});let En=function $t(h){return h.length?h[0]instanceof Map?h:h.map(b=>new Map(Object.entries(b))):[]}(a).map(Hn=>new Map(Hn));En=function At(h,b,a){if(a.size&&b.length){let p=b[0],C=[];if(a.forEach((x,le)=>{p.has(le)||C.push(le),p.set(le,x)}),C.length)for(let x=1;x<b.length;x++){let le=b[x];C.forEach(ke=>le.set(ke,Bn(h,ke)))}}return b}(b,En,Ct);const jn=function Gr(h,b){let a=null,p=null;return Array.isArray(b)&&b.length?(a=_a(b[0]),b.length>1&&(p=_a(b[b.length-1]))):b instanceof Map&&(a=_a(b)),a||p?new Ts(h,a,p):null}(b,En);return new zo(b,En,tt,jn)}}const Fa="@.disabled";class ac{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(b,a,p,C){this.namespaceId=b,this.delegate=a,this.engine=p,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(b){this.delegate.destroyNode?.(b)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(b,a){return this.delegate.createElement(b,a)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,a){this.delegate.appendChild(b,a),this.engine.onInsert(this.namespaceId,a,b,!1)}insertBefore(b,a,p,C=!0){this.delegate.insertBefore(b,a,p),this.engine.onInsert(this.namespaceId,a,b,C)}removeChild(b,a,p){this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(b,a){return this.delegate.selectRootElement(b,a)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,a,p,C){this.delegate.setAttribute(b,a,p,C)}removeAttribute(b,a,p){this.delegate.removeAttribute(b,a,p)}addClass(b,a){this.delegate.addClass(b,a)}removeClass(b,a){this.delegate.removeClass(b,a)}setStyle(b,a,p,C){this.delegate.setStyle(b,a,p,C)}removeStyle(b,a,p){this.delegate.removeStyle(b,a,p)}setProperty(b,a,p){"@"==a.charAt(0)&&a==Fa?this.disableAnimations(b,!!p):this.delegate.setProperty(b,a,p)}setValue(b,a){this.delegate.setValue(b,a)}listen(b,a,p,C){return this.delegate.listen(b,a,p,C)}disableAnimations(b,a){this.engine.disableAnimations(b,a)}}class Oc extends ac{factory;constructor(b,a,p,C,x){super(a,p,C,x),this.factory=b,this.namespaceId=a}setProperty(b,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Fa?this.disableAnimations(b,p=void 0===p||!!p):this.engine.process(this.namespaceId,b,a.slice(1),p):this.delegate.setProperty(b,a,p)}listen(b,a,p,C){if("@"==a.charAt(0)){const x=function Ha(h){switch(h){case"body":return document.body;case"document":return document;case"window":return window;default:return h}}(b);let le=a.slice(1),ke="";return"@"!=le.charAt(0)&&([le,ke]=function vl(h){const b=h.indexOf(".");return[h.substring(0,b),h.slice(b+1)]}(le)),this.engine.listen(this.namespaceId,x,le,ke,tt=>{this.factory.scheduleListenerCallback(tt._data||-1,p,tt)})}return this.delegate.listen(b,a,p,C)}}class Ol{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(b,a,p){this.delegate=b,this.engine=a,this._zone=p,a.onRemovalComplete=(C,x)=>{x?.removeChild(null,C)}}createRenderer(b,a){const C=this.delegate.createRenderer(b,a);if(!b||!a?.data?.animation){const Ct=this._rendererCache;let Lt=Ct.get(C);return Lt||(Lt=new ac("",C,this.engine,()=>Ct.delete(C)),Ct.set(C,Lt)),Lt}const x=a.id,le=a.id+"-"+this._currentId;this._currentId++,this.engine.register(le,b);const ke=Ct=>{Array.isArray(Ct)?Ct.forEach(ke):this.engine.registerTrigger(x,le,b,Ct.name,Ct)};return a.data.animation.forEach(ke),new Oc(this,le,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(b,a,p){if(b>=0&&b<this._microtaskId)return void this._zone.run(()=>a(p));const C=this._animationCallbacksBuffer;0==C.length&&queueMicrotask(()=>{this._zone.run(()=>{C.forEach(x=>{const[le,ke]=x;le(ke)}),this._animationCallbacksBuffer=[]})}),C.push([a,p])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(b){this.engine.flush(),this.delegate.componentReplaced?.(b)}}let lr=(()=>{class h extends No{constructor(a,p,C){super(a,p,C)}ngOnDestroy(){this.flush()}static \u0275fac=function(p){return new(p||h)(e.KVO(f.q),e.KVO(Di),e.KVO(Li))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac})}return h})();const Ps=[{provide:Li,useFactory:function ao(){return new Yi}},{provide:No,useClass:lr},{provide:e._9s,useFactory:function mo(h,b,a){return new Ol(h,b,a)},deps:[fe,No,e.SKi]}],ci=[{provide:Di,useClass:Wi},{provide:e.bc$,useValue:"NoopAnimations"},...Ps],ns=[{provide:Di,useFactory:()=>new Mo},{provide:e.bc$,useFactory:()=>"BrowserAnimations"},...Ps];let cr=(()=>{class h{static withConfig(a){return{ngModule:h,providers:a.disableAnimations?ci:ns}}static \u0275fac=function(p){return new(p||h)};static \u0275mod=e.$C({type:h});static \u0275inj=e.G2t({providers:ns,imports:[Ln]})}return h})();var Ge=l(5794),gn=l(9767),$e=l(978),It=l(7883),at=l(2947),Sn=l(3853),Ri=l(9196),us=l(4549),qi=l(1594),Tr=l(5964),Lr=l(6697),zr=l(7468),gr=l(7263);const Js="10.2.0";var h,nr=l(9838),al=l(4861),Xo=l(1258),Mi=l(3178),Hi=l(8018),se=l(5139),Se=l(9262),me=l(6801),Ie=l(1339),Je=l(5602),Mt=l(4754),Pn="user-agent",rn="function",Ee="undefined",G="object",ye="string",Oe="browser",pt="cpu",Ft="device",zt="engine",vn="os",xn="result",cn="name",wn="type",On="vendor",Zn="version",ss="architecture",Dr="major",si="model",Ka="console",Zi="mobile",js="tablet",yr="smarttv",Oo="wearable",Bu="embedded",Vu="inapp",Rd="brands",xo="formFactors",ko="fullVersionList",Po="platform",Ad="platformVersion",du="bitness",xl="sec-ch-ua",Rs=xl+"-full-version-list",hu=xl+"-arch",pu=xl+"-"+du,gp=xl+"-form-factors",sr=xl+"-"+Zi,yl=xl+"-"+si,Dd=xl+"-"+Po,$s=Dd+"-version",Lu=[Rd,ko,Zi,si,Po,Ad,ss,xo,du],oc="Amazon",Sa="Apple",Jo="BlackBerry",go="Google",_o="Microsoft",Uu="Motorola",fu="Nvidia",ju="OnePlus",xc="OPPO",kc="Samsung",cc="Sony",mu="Xiaomi",Qo="Zebra",Gu="Chromium",bl="Chromecast",Ea="Firefox",Pc="Opera",gu="Facebook",Fc="Mobile ",Hu=" Browser",Ku="Windows",vo=typeof window!==Ee&&window.navigator?window.navigator:void 0,Pl=vo&&vo.userAgentData?vo.userAgentData:void 0,xd=function(h){for(var b={},a=0;a<h.length;a++)b[h[a].toUpperCase()]=h[a];return b},Ih=function(h,b){if(typeof h===G&&h.length>0){for(var a in h)if(Fl(h[a])==Fl(b))return!0;return!1}return!!ms(h)&&-1!==Fl(b).indexOf(Fl(h))},kn=function(h,b){for(var a in h)return/^(browser|cpu|device|engine|os)$/.test(a)||!!b&&kn(h[a])},ms=function(h){return typeof h===ye},Rh=function(h){if(h){for(var b=[],a=Vl(/\\?\"/g,h).split(","),p=0;p<a.length;p++)if(a[p].indexOf(";")>-1){var C=_n(a[p]).split(";v=");b[p]={brand:C[0],version:C[1]}}else b[p]=_n(a[p]);return b}},Fl=function(h){return ms(h)?h.toLowerCase():h},Gs=function(h){return ms(h)?Vl(/[^\d\.]/g,h).split(".")[0]:void 0},Bl=function(h){for(var b in h){var a=h[b];typeof a==G&&2==a.length?this[a[0]]=a[1]:this[a]=void 0}return this},Vl=function(h,b){return ms(b)?b.replace(h,""):b},ce=function(h){return Vl(/\\?\"/g,h)},_n=function(h,b){if(ms(h))return h=Vl(/^\s\s*/,h),typeof b===Ee?h:h.substring(0,500)},j=function(h,b){if(h&&b)for(var p,C,x,le,ke,tt,a=0;a<b.length&&!ke;){var Ct=b[a],Lt=b[a+1];for(p=C=0;p<Ct.length&&!ke&&Ct[p];)if(ke=Ct[p++].exec(h))for(x=0;x<Lt.length;x++)tt=ke[++C],typeof(le=Lt[x])===G&&le.length>0?2===le.length?this[le[0]]=typeof le[1]==rn?le[1].call(this,tt):le[1]:3===le.length?this[le[0]]=typeof le[1]!==rn||le[1].exec&&le[1].test?tt?tt.replace(le[1],le[2]):void 0:tt?le[1].call(this,tt,le[2]):void 0:4===le.length&&(this[le[0]]=tt?le[3].call(this,tt.replace(le[1],le[2])):void 0):this[le]=tt||void 0;a+=2}},be=function(h,b){for(var a in b)if(typeof b[a]===G&&b[a].length>0){for(var p=0;p<b[a].length;p++)if(Ih(b[a][p],h))return"?"===a?void 0:a}else if(Ih(b[a],h))return"?"===a?void 0:a;return b.hasOwnProperty("*")?b["*"]:h},Re={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ut={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},ki={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Zn,[cn,Fc+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Zn,[cn,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[cn,Zn],[/opios[\/ ]+([\w\.]+)/i],[Zn,[cn,Pc+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Zn,[cn,Pc+" GX"]],[/\bopr\/([\w\.]+)/i],[Zn,[cn,Pc]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Zn,[cn,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Zn,[cn,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[cn,Zn],[/quark(?:pc)?\/([-\w\.]+)/i],[Zn,[cn,"Quark"]],[/\bddg\/([\w\.]+)/i],[Zn,[cn,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Zn,[cn,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Zn,[cn,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Zn,[cn,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Zn,[cn,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Zn,[cn,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Zn,[cn,"Smart Lenovo"+Hu]],[/(avast|avg)\/([\w\.]+)/i],[[cn,/(.+)/,"$1 Secure"+Hu],Zn],[/\bfocus\/([\w\.]+)/i],[Zn,[cn,Ea+" Focus"]],[/\bopt\/([\w\.]+)/i],[Zn,[cn,Pc+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Zn,[cn,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Zn,[cn,"Dolphin"]],[/coast\/([\w\.]+)/i],[Zn,[cn,Pc+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Zn,[cn,"MIUI"+Hu]],[/fxios\/([\w\.-]+)/i],[Zn,[cn,Fc+Ea]],[/\bqihoobrowser\/?([\w\.]*)/i],[Zn,[cn,"360"]],[/\b(qq)\/([\w\.]+)/i],[[cn,/(.+)/,"$1Browser"],Zn],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[cn,/(.+)/,"$1"+Hu],Zn],[/samsungbrowser\/([\w\.]+)/i],[Zn,[cn,kc+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Zn,[cn,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[cn,"Sogou Mobile"],Zn],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[cn,Zn],[/(lbbrowser|rekonq)/i],[cn],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Zn,cn],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[cn,gu],Zn,[wn,Vu]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[cn,Zn,[wn,Vu]],[/\bgsa\/([\w\.]+) .*safari\//i],[Zn,[cn,"GSA"],[wn,Vu]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Zn,[cn,"TikTok"],[wn,Vu]],[/\[(linkedin)app\]/i],[cn,[wn,Vu]],[/(chromium)[\/ ]([-\w\.]+)/i],[cn,Zn],[/headlesschrome(?:\/([\w\.]+)| )/i],[Zn,[cn,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[cn,"Chrome WebView"],Zn],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Zn,[cn,"Android"+Hu]],[/chrome\/([\w\.]+) mobile/i],[Zn,[cn,Fc+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[cn,Zn],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[Zn,[cn,Fc+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[cn,Fc+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[Zn,cn],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[cn,[Zn,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[cn,Zn],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[cn,Fc+Ea],Zn],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[cn,"Netscape"],Zn],[/(wolvic|librewolf)\/([\w\.]+)/i],[cn,Zn],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Zn,[cn,Ea+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[cn,[Zn,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[cn,[Zn,/[^\d\.]+./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[ss,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[ss,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[ss,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[ss,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[ss,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[ss,/ower/,"",Fl]],[/ sun4\w[;\)]/i],[[ss,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[ss,Fl]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[si,[On,kc],[wn,js]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[si,[On,kc],[wn,Zi]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[si,[On,Sa],[wn,Zi]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[si,[On,Sa],[wn,js]],[/(macintosh);/i],[si,[On,Sa]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[si,[On,"Sharp"],[wn,Zi]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[si,[On,"Honor"],[wn,js]],[/honor([-\w ]+)[;\)]/i],[si,[On,"Honor"],[wn,Zi]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[si,[On,"Huawei"],[wn,js]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[si,[On,"Huawei"],[wn,Zi]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[si,/_/g," "],[On,mu],[wn,js]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[si,/_/g," "],[On,mu],[wn,Zi]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[si,[On,xc],[wn,Zi]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[si,[On,be,{OnePlus:["304","403","203"],"*":xc}],[wn,js]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[si,[On,"BLU"],[wn,Zi]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[si,[On,"Vivo"],[wn,Zi]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[si,[On,"Realme"],[wn,Zi]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[si,[On,Uu],[wn,Zi]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[si,[On,Uu],[wn,js]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[si,[On,"LG"],[wn,js]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[si,[On,"LG"],[wn,Zi]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[si,[On,"Lenovo"],[wn,js]],[/(nokia) (t[12][01])/i],[On,si,[wn,js]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[si,/_/g," "],[wn,Zi],[On,"Nokia"]],[/(pixel (c|tablet))\b/i],[si,[On,go],[wn,js]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[si,[On,go],[wn,Zi]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[si,[On,cc],[wn,Zi]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[si,"Xperia Tablet"],[On,cc],[wn,js]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[si,[On,ju],[wn,Zi]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[si,[On,oc],[wn,js]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[si,/(.+)/g,"Fire Phone $1"],[On,oc],[wn,Zi]],[/(playbook);[-\w\),; ]+(rim)/i],[si,On,[wn,js]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[si,[On,Jo],[wn,Zi]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[si,[On,"ASUS"],[wn,js]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[si,[On,"ASUS"],[wn,Zi]],[/(nexus 9)/i],[si,[On,"HTC"],[wn,js]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[On,[si,/_/g," "],[wn,Zi]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[si,[On,"TCL"],[wn,js]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[si,[On,"TCL"],[wn,Zi]],[/(itel) ((\w+))/i],[[On,Fl],si,[wn,be,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[si,[On,"Acer"],[wn,js]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[si,[On,"Meizu"],[wn,Zi]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[si,[On,"Ulefone"],[wn,Zi]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[si,[On,"Energizer"],[wn,Zi]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[si,[On,"Cat"],[wn,Zi]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[si,[On,"Smartfren"],[wn,Zi]],[/droid.+; (a(?:015|06[35]|142p?))/i],[si,[On,"Nothing"],[wn,Zi]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[si,[On,"Archos"],[wn,js]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[si,[On,"Archos"],[wn,Zi]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[On,si,[wn,js]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[On,si,[wn,Zi]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[On,si,[wn,js]],[/(surface duo)/i],[si,[On,_o],[wn,js]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[si,[On,"Fairphone"],[wn,Zi]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[si,[On,fu],[wn,js]],[/(sprint) (\w+)/i],[On,si,[wn,Zi]],[/(kin\.[onetw]{3})/i],[[si,/\./g," "],[On,_o],[wn,Zi]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[si,[On,Qo],[wn,js]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[si,[On,Qo],[wn,Zi]],[/smart-tv.+(samsung)/i],[On,[wn,yr]],[/hbbtv.+maple;(\d+)/i],[[si,/^/,"SmartTV"],[On,kc],[wn,yr]],[/tcast.+(lg)e?. ([-\w]+)/i],[On,si,[wn,yr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[On,"LG"],[wn,yr]],[/(apple) ?tv/i],[On,[si,Sa+" TV"],[wn,yr]],[/crkey.*devicetype\/chromecast/i],[[si,bl+" Third Generation"],[On,go],[wn,yr]],[/crkey.*devicetype\/([^/]*)/i],[[si,/^/,"Chromecast "],[On,go],[wn,yr]],[/fuchsia.*crkey/i],[[si,bl+" Nest Hub"],[On,go],[wn,yr]],[/crkey/i],[[si,bl],[On,go],[wn,yr]],[/(portaltv)/i],[si,[On,gu],[wn,yr]],[/droid.+aft(\w+)( bui|\))/i],[si,[On,oc],[wn,yr]],[/(shield \w+ tv)/i],[si,[On,fu],[wn,yr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[si,[On,"Sharp"],[wn,yr]],[/(bravia[\w ]+)( bui|\))/i],[si,[On,cc],[wn,yr]],[/(mi(tv|box)-?\w+) bui/i],[si,[On,mu],[wn,yr]],[/Hbbtv.*(technisat) (.*);/i],[On,si,[wn,yr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[On,_n],[si,_n],[wn,yr]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[si,[wn,yr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[wn,yr]],[/(ouya)/i,/(nintendo) (\w+)/i],[On,si,[wn,Ka]],[/droid.+; (shield)( bui|\))/i],[si,[On,fu],[wn,Ka]],[/(playstation \w+)/i],[si,[On,cc],[wn,Ka]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[si,[On,_o],[wn,Ka]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[si,[On,kc],[wn,Oo]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[On,si,[wn,Oo]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[si,[On,xc],[wn,Oo]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[si,[On,Sa],[wn,Oo]],[/(opwwe\d{3})/i],[si,[On,ju],[wn,Oo]],[/(moto 360)/i],[si,[On,Uu],[wn,Oo]],[/(smartwatch 3)/i],[si,[On,cc],[wn,Oo]],[/(g watch r)/i],[si,[On,"LG"],[wn,Oo]],[/droid.+; (wt63?0{2,3})\)/i],[si,[On,Qo],[wn,Oo]],[/droid.+; (glass) \d/i],[si,[On,go],[wn,"xr"]],[/(pico) (4|neo3(?: link|pro)?)/i],[On,si,[wn,"xr"]],[/(quest( \d| pro)?s?).+vr/i],[si,[On,gu],[wn,"xr"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[On,[wn,Bu]],[/(aeobc)\b/i],[si,[On,oc],[wn,Bu]],[/(homepod).+mac os/i],[si,[On,Sa],[wn,Bu]],[/windows iot/i],[[wn,Bu]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[si,[wn,be,{mobile:"Mobile",xr:"VR","*":js}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[wn,js]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[wn,Zi]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[si,[On,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Zn,[cn,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[cn,Zn],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Zn,[cn,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[cn,Zn],[/ladybird\//i],[[cn,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Zn,cn]],os:[[/microsoft (windows) (vista|xp)/i],[cn,Zn],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[cn,[Zn,be,Re]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Zn,be,Re],[cn,Ku]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Zn,/_/g,"."],[cn,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[cn,"macOS"],[Zn,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[Zn,[cn,bl+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[Zn,[cn,bl+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[Zn,[cn,bl+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[Zn,[cn,bl+" Linux"]],[/crkey\/([\d\.]+)/i],[Zn,[cn,bl]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Zn,cn],[/(ubuntu) ([\w\.]+) like android/i],[[cn,/(.+)/,"$1 Touch"],Zn],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[cn,Zn],[/\(bb(10);/i],[Zn,[cn,Jo]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[Zn,[cn,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Zn,[cn,Ea+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Zn,[cn,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Zn,[cn,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[cn,"Chrome OS"],Zn],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[cn,Zn],[/(sunos) ?([\w\.\d]*)/i],[[cn,"Solaris"],Zn],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[cn,Zn]]},zs=(Bl.call((h={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[Oe,[cn,Zn,Dr,wn]],[pt,[ss]],[Ft,[wn,si,On]],[zt,[cn,Zn]],[vn,[cn,Zn]]]),Bl.call(h.isIgnore,[[Oe,[Zn,Dr]],[zt,[Zn]],[vn,[Zn]]]),Bl.call(h.isIgnoreRgx,[[Oe,/ ?browser$/i],[vn,/ ?os$/i]]),Bl.call(h.toString,[[Oe,[cn,Zn]],[pt,[ss]],[Ft,[On,si]],[zt,[cn,Zn]],[vn,[cn,Zn]]]),h),ya=function(h,b){var a=zs.init[b],p=zs.isIgnore[b]||0,C=zs.isIgnoreRgx[b]||0,x=zs.toString[b]||0;function le(){Bl.call(this,a)}return le.prototype.getItem=function(){return h},le.prototype.withClientHints=function(){return Pl?Pl.getHighEntropyValues(Lu).then(function(ke){return h.setCH(new Ba(ke,!1)).parseCH().get()}):h.parseCH().get()},le.prototype.withFeatureCheck=function(){return h.detectFeature().get()},b!=xn&&(le.prototype.is=function(ke){var tt=!1;for(var Ct in this)if(this.hasOwnProperty(Ct)&&!Ih(p,Ct)&&Fl(C?Vl(C,this[Ct]):this[Ct])==Fl(C?Vl(C,ke):ke)){if(tt=!0,ke!=Ee)break}else if(ke==Ee&&tt){tt=!tt;break}return tt},le.prototype.toString=function(){var ke="";for(var tt in x)typeof this[x[tt]]!==Ee&&(ke+=(ke?" ":"")+this[x[tt]]);return ke||Ee}),Pl||(le.prototype.then=function(ke){var tt=this,Ct=function(){for(var En in tt)tt.hasOwnProperty(En)&&(this[En]=tt[En])};Ct.prototype={is:le.prototype.is,toString:le.prototype.toString};var Lt=new Ct;return ke(Lt),Lt}),new le};function Ba(h,b){if(h=h||{},Bl.call(this,Lu),b)Bl.call(this,[[Rd,Rh(h[xl])],[ko,Rh(h[Rs])],[Zi,/\?1/.test(h[sr])],[si,ce(h[yl])],[Po,ce(h[Dd])],[Ad,ce(h[$s])],[ss,ce(h[hu])],[xo,Rh(h[gp])],[du,ce(h[pu])]]);else for(var a in h)this.hasOwnProperty(a)&&typeof h[a]!==Ee&&(this[a]=h[a])}function ol(h,b,a,p){return this.get=function(C){return C?this.data.hasOwnProperty(C)?this.data[C]:void 0:this.data},this.set=function(C,x){return this.data[C]=x,this},this.setCH=function(C){return this.uaCH=C,this},this.detectFeature=function(){if(vo&&vo.userAgent==this.ua)switch(this.itemType){case Oe:vo.brave&&typeof vo.brave.isBrave==rn&&this.set(cn,"Brave");break;case Ft:!this.get(wn)&&Pl&&Pl[Zi]&&this.set(wn,Zi),"Macintosh"==this.get(si)&&vo&&typeof vo.standalone!==Ee&&vo.maxTouchPoints&&vo.maxTouchPoints>2&&this.set(si,"iPad").set(wn,js);break;case vn:!this.get(cn)&&Pl&&Pl[Po]&&this.set(cn,Pl[Po]);break;case xn:var C=this.data,x=function(le){return C[le].getItem().detectFeature().get()};this.set(Oe,x(Oe)).set(pt,x(pt)).set(Ft,x(Ft)).set(zt,x(zt)).set(vn,x(vn))}return this},this.parseUA=function(){return this.itemType!=xn&&j.call(this.data,this.ua,this.rgxMap),this.itemType==Oe&&this.set(Dr,Gs(this.get(Zn))),this},this.parseCH=function(){var C=this.uaCH,x=this.rgxMap;switch(this.itemType){case Oe:case zt:var ke,le=C[ko]||C[Rd];if(le)for(var tt in le){var Ct=le[tt].brand||le[tt],Lt=le[tt].version;this.itemType==Oe&&!/not.a.brand/i.test(Ct)&&(!ke||/chrom/i.test(ke)&&Ct!=Gu)&&(Ct=be(Ct,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(cn,Ct).set(Zn,Lt).set(Dr,Gs(Lt)),ke=Ct),this.itemType==zt&&Ct==Gu&&this.set(Zn,Lt)}break;case pt:var En=C[ss];En&&(En&&"64"==C[du]&&(En+="64"),j.call(this.data,En+";",x));break;case Ft:if(C[Zi]&&this.set(wn,Zi),C[si]&&(this.set(si,C[si]),!this.get(wn)||!this.get(On))){var jn={};j.call(jn,"droid 9; "+C[si]+")",x),!this.get(wn)&&jn.type&&this.set(wn,jn.type),!this.get(On)&&jn.vendor&&this.set(On,jn.vendor)}if(C[xo]){var Hn;if("string"!=typeof C[xo])for(var gi=0;!Hn&&gi<C[xo].length;)Hn=be(C[xo][gi++],Ut);else Hn=be(C[xo],Ut);this.set(wn,Hn)}break;case vn:var mi=C[Po];if(mi){var Xi=C[Ad];mi==Ku&&(Xi=parseInt(Gs(Xi),10)>=13?"11":"10"),this.set(cn,mi).set(Zn,Xi)}this.get(cn)==Ku&&"Xbox"==C[si]&&this.set(cn,"Xbox").set(Zn,void 0);break;case xn:var ys=this.data,cs=function(Xs){return ys[Xs].getItem().setCH(C).parseCH().get()};this.set(Oe,cs(Oe)).set(pt,cs(pt)).set(Ft,cs(Ft)).set(zt,cs(zt)).set(vn,cs(vn))}return this},Bl.call(this,[["itemType",h],["ua",b],["uaCH",p],["rgxMap",a],["data",ya(this,h)]]),this}function ll(h,b,a){if(typeof h===G?(kn(h,!0)?(typeof b===G&&(a=b),b=h):(a=h,b=void 0),h=void 0):typeof h===ye&&!kn(b,!0)&&(a=b,b=void 0),a&&typeof a.append===rn){var p={};a.forEach(function(tt,Ct){p[Ct]=tt}),a=p}if(!(this instanceof ll))return new ll(h,b,a).getResult();var C=typeof h===ye?h:a&&a[Pn]?a[Pn]:vo&&vo.userAgent?vo.userAgent:"",x=new Ba(a,!0),le=b?function(h,b){var a={},p=b;if(!kn(b))for(var C in p={},b)for(var x in b[C])p[x]=b[C][x].concat(p[x]?p[x]:[]);for(var le in h)a[le]=p[le]&&p[le].length%2==0?p[le].concat(h[le]):h[le];return a}(ki,b):ki,ke=function(tt){return tt==xn?function(){return new ol(tt,C,le,x).set("ua",C).set(Oe,this.getBrowser()).set(pt,this.getCPU()).set(Ft,this.getDevice()).set(zt,this.getEngine()).set(vn,this.getOS()).get()}:function(){return new ol(tt,C,le[tt],x).parseUA().get()}};return Bl.call(this,[["getBrowser",ke(Oe)],["getCPU",ke(pt)],["getDevice",ke(Ft)],["getEngine",ke(zt)],["getOS",ke(vn)],["getResult",ke(xn)],["getUA",function(){return C}],["setUA",function(tt){return ms(tt)&&(C=tt.length>500?_n(tt,500):tt),this}]]).setUA(C),this}ll.VERSION="2.0.3",ll.BROWSER=xd([cn,Zn,Dr,wn]),ll.CPU=xd([ss]),ll.DEVICE=xd([si,On,wn,Ka,Zi,yr,js,Oo,Bu]),ll.ENGINE=ll.OS=xd([cn,Zn]);let Fo=(()=>{class h{constructor(){let a=new ll(window.navigator.userAgent),p=a.getBrowser(),C=a.getOS();this.browserName=p.name,this.browserVersion=p.major,this.browserVersionToInt=parseInt(p.major),this.operatingSystem=C.name,this.operatingSystemVersion=C.version}validBrowser(){switch(this.browserName){case Nr.InternetExplorer:return this.verifyInternetExplorer();case Nr.Edge:return this.verifyEdge();case Nr.Firefox:case Nr.MobileFirefox:return this.verifyFirefox();case Nr.Chrome:case Nr.MobileChrome:return this.verifyChrome();case Nr.Safari:case Nr.MobileSafari:return this.verifySafari();case Nr.Opera:case Nr.OperaMobile:return this.verifyOpera();case Nr.SamsungInternet:return this.verifySamsungInternet();case Nr.DuckDuckGo:return this.verifyDuckDuckGo()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Bo.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Bo.Android||this.operatingSystem==Bo.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Bo.Android||this.operatingSystem==Bo.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const a=parseFloat(this.operatingSystemVersion);return this.browserName==Nr.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&a>=10.14}verifyOpera(){return this.browserName==Nr.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}verifyDuckDuckGo(){if(this.operatingSystem==Bo.AppleMac){const a=parseFloat(this.operatingSystemVersion);return this.browserVersionToInt>14||this.browserVersionToInt>=12&&a>=10.14}return this.operatingSystem==Bo.ApplePhone?this.browserVersionToInt>=12:this.operatingSystem==Bo.Android?this.browserVersionToInt>51:this.operatingSystem==Bo.Windows&&this.browserVersionToInt>16}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})(),Nr=(()=>{class h{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.MobileFirefox="Mobile Firefox"}static{this.Chrome="Chrome"}static{this.MobileChrome="Mobile Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}static{this.DuckDuckGo="DuckDuckGo"}}return h})(),Bo=(()=>{class h{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}static{this.AppleMac="macOS"}}return h})();var Ll=l(2972),vp=l(1985),oo=l(6977),Vc=l(983),Ul=l(7673),yo=l(1413),pr=l(3726),jl=l(1584),br=l(8750),If=l(2326),Pd=l(4360);function uc(...h){return 1===(h=(0,If.K)(h)).length?(0,br.Tg)(h[0]):new vp.c(function Lc(h){return b=>{let a=[];for(let p=0;a&&!b.closed&&p<h.length;p++)a.push((0,br.Tg)(h[p]).subscribe((0,Pd._)(b,C=>{if(a){for(let x=0;x<a.length;x++)x!==p&&a[x].unsubscribe();a=null}b.next(C)})))}}(h))}l(7786);var Yu=l(9326);function cl(...h){const b=(0,Yu.ms)(h),a=(0,If.K)(h);return a.length?new vp.c(p=>{let C=a.map(()=>[]),x=a.map(()=>!1);p.add(()=>{C=x=null});for(let le=0;!p.closed&&le<a.length;le++)(0,br.Tg)(a[le]).subscribe((0,Pd._)(p,ke=>{if(C[le].push(ke),C.every(tt=>tt.length)){const tt=C.map(Ct=>Ct.shift());p.next(b?b(...tt):tt),C.some((Ct,Lt)=>!Ct.length&&x[Lt])&&p.complete()}},()=>{x[le]=!0,!C[le].length&&p.complete()}));return()=>{C=x=null}}):Vc.w}var $l=l(8793),dc=l(8141),Ya=l(6354),Fd=l(3993),Dh=l(1655),Bd=l(5558),bp=l(9172);l(3294);var Nh={left:"right",right:"left",bottom:"top",top:"bottom"};function Vd(h){return h.replace(/left|right|bottom|top/g,function(b){return Nh[b]})}function bo(h){return h.split("-")[0]}var fg={start:"end",end:"start"};function _u(h){return h.replace(/start|end/g,function(b){return fg[b]})}var Zo="top",co="bottom",uo="right",Aa="left",Gl="auto",ul=[Zo,co,uo,Aa],Hl="start",Ld="end",Kl="viewport",Cl="popper",Ju=ul.reduce(function(h,b){return h.concat([b+"-"+Hl,b+"-"+Ld])},[]),Wl=[].concat(ul,[Gl]).reduce(function(h,b){return h.concat([b,b+"-"+Hl,b+"-"+Ld])},[]),Sp=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Co(h){if(null==h)return window;if("[object Window]"!==h.toString()){var b=h.ownerDocument;return b&&b.defaultView||window}return h}function Yl(h){return h instanceof Co(h).Element||h instanceof Element}function dl(h){return h instanceof Co(h).HTMLElement||h instanceof HTMLElement}function Ep(h){return!(typeof ShadowRoot>"u")&&(h instanceof Co(h).ShadowRoot||h instanceof ShadowRoot)}function So(h){return((Yl(h)?h.ownerDocument:h.document)||window.document).documentElement}var Vo=Math.max,Tp=Math.min,jc=Math.round;function Sl(){var h=navigator.userAgentData;return null!=h&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function pc(){return!/^((?!chrome|android).)*safari/i.test(Sl())}function El(h,b,a){void 0===b&&(b=!1),void 0===a&&(a=!1);var p=h.getBoundingClientRect(),C=1,x=1;b&&dl(h)&&(C=h.offsetWidth>0&&jc(p.width)/h.offsetWidth||1,x=h.offsetHeight>0&&jc(p.height)/h.offsetHeight||1);var ke=(Yl(h)?Co(h):window).visualViewport,tt=!pc()&&a,Ct=(p.left+(tt&&ke?ke.offsetLeft:0))/C,Lt=(p.top+(tt&&ke?ke.offsetTop:0))/x,En=p.width/C,jn=p.height/x;return{width:En,height:jn,top:Lt,right:Ct+En,bottom:Lt+jn,left:Ct,x:Ct,y:Lt}}function wp(h){var b=Co(h);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function fc(h){return El(So(h)).left+wp(h).scrollLeft}function Cr(h){return Co(h).getComputedStyle(h)}function Xa(h){return h?(h.nodeName||"").toLowerCase():null}function $c(h){return"html"===Xa(h)?h:h.assignedSlot||h.parentNode||(Ep(h)?h.host:null)||So(h)}function $d(h){var b=Cr(h);return/auto|scroll|overlay|hidden/.test(b.overflow+b.overflowY+b.overflowX)}function Gd(h){return["html","body","#document"].indexOf(Xa(h))>=0?h.ownerDocument.body:dl(h)&&$d(h)?h:Gd($c(h))}function Lo(h,b){var a;void 0===b&&(b=[]);var p=Gd(h),C=p===(null==(a=h.ownerDocument)?void 0:a.body),x=Co(p),le=C?[x].concat(x.visualViewport||[],$d(p)?p:[]):p,ke=b.concat(le);return C?ke:ke.concat(Lo($c(le)))}function Oh(h){return["table","td","th"].indexOf(Xa(h))>=0}function qu(h){return dl(h)&&"fixed"!==Cr(h).position?h.offsetParent:null}function Gc(h){for(var b=Co(h),a=qu(h);a&&Oh(a)&&"static"===Cr(a).position;)a=qu(a);return a&&("html"===Xa(a)||"body"===Xa(a)&&"static"===Cr(a).position)?b:a||function Rf(h){var b=/firefox/i.test(Sl());if(/Trident/i.test(Sl())&&dl(h)&&"fixed"===Cr(h).position)return null;var C=$c(h);for(Ep(C)&&(C=C.host);dl(C)&&["html","body"].indexOf(Xa(C))<0;){var x=Cr(C);if("none"!==x.transform||"none"!==x.perspective||"paint"===x.contain||-1!==["transform","perspective"].indexOf(x.willChange)||b&&"filter"===x.willChange||b&&x.filter&&"none"!==x.filter)return C;C=C.parentNode}return null}(h)||b}function ed(h,b){var a=b.getRootNode&&b.getRootNode();if(h.contains(b))return!0;if(a&&Ep(a)){var p=b;do{if(p&&h.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function td(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function Hc(h,b,a){return b===Kl?td(function vu(h,b){var a=Co(h),p=So(h),C=a.visualViewport,x=p.clientWidth,le=p.clientHeight,ke=0,tt=0;if(C){x=C.width,le=C.height;var Ct=pc();(Ct||!Ct&&"fixed"===b)&&(ke=C.offsetLeft,tt=C.offsetTop)}return{width:x,height:le,x:ke+fc(h),y:tt}}(h,a)):Yl(b)?function p_(h,b){var a=El(h,!1,"fixed"===b);return a.top=a.top+h.clientTop,a.left=a.left+h.clientLeft,a.bottom=a.top+h.clientHeight,a.right=a.left+h.clientWidth,a.width=h.clientWidth,a.height=h.clientHeight,a.x=a.left,a.y=a.top,a}(b,a):td(function Zu(h){var b,a=So(h),p=wp(h),C=null==(b=h.ownerDocument)?void 0:b.body,x=Vo(a.scrollWidth,a.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),le=Vo(a.scrollHeight,a.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),ke=-p.scrollLeft+fc(h),tt=-p.scrollTop;return"rtl"===Cr(C||a).direction&&(ke+=Vo(a.clientWidth,C?C.clientWidth:0)-x),{width:x,height:le,x:ke,y:tt}}(So(h)))}function ho(h){return h.split("-")[1]}function mc(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function _g(h){var tt,b=h.reference,a=h.element,p=h.placement,C=p?bo(p):null,x=p?ho(p):null,le=b.x+b.width/2-a.width/2,ke=b.y+b.height/2-a.height/2;switch(C){case Zo:tt={x:le,y:b.y-a.height};break;case co:tt={x:le,y:b.y+b.height};break;case uo:tt={x:b.x+b.width,y:ke};break;case Aa:tt={x:b.x-a.width,y:ke};break;default:tt={x:b.x,y:b.y}}var Ct=C?mc(C):null;if(null!=Ct){var Lt="y"===Ct?"height":"width";switch(x){case Hl:tt[Ct]=tt[Ct]-(b[Lt]/2-a[Lt]/2);break;case Ld:tt[Ct]=tt[Ct]+(b[Lt]/2-a[Lt]/2)}}return tt}function id(h){return Object.assign({},{top:0,right:0,bottom:0,left:0},h)}function sd(h,b){return b.reduce(function(a,p){return a[p]=h,a},{})}function pa(h,b){void 0===b&&(b={});var p=b.placement,C=void 0===p?h.placement:p,x=b.strategy,le=void 0===x?h.strategy:x,ke=b.boundary,tt=void 0===ke?"clippingParents":ke,Ct=b.rootBoundary,Lt=void 0===Ct?Kl:Ct,En=b.elementContext,jn=void 0===En?Cl:En,Hn=b.altBoundary,gi=void 0!==Hn&&Hn,mi=b.padding,Xi=void 0===mi?0:mi,ys=id("number"!=typeof Xi?Xi:sd(Xi,ul)),Xs=h.rects.popper,ps=h.elements[gi?jn===Cl?"reference":Cl:jn],ir=function Hd(h,b,a,p){var C="clippingParents"===b?function nd(h){var b=Lo($c(h)),p=["absolute","fixed"].indexOf(Cr(h).position)>=0&&dl(h)?Gc(h):h;return Yl(p)?b.filter(function(C){return Yl(C)&&ed(C,p)&&"body"!==Xa(C)}):[]}(h):[].concat(b),x=[].concat(C,[a]),ke=x.reduce(function(tt,Ct){var Lt=Hc(h,Ct,p);return tt.top=Vo(Lt.top,tt.top),tt.right=Tp(Lt.right,tt.right),tt.bottom=Tp(Lt.bottom,tt.bottom),tt.left=Vo(Lt.left,tt.left),tt},Hc(h,x[0],p));return ke.width=ke.right-ke.left,ke.height=ke.bottom-ke.top,ke.x=ke.left,ke.y=ke.top,ke}(Yl(ps)?ps:ps.contextElement||So(h.elements.popper),tt,Lt,le),Qs=El(h.elements.reference),er=_g({reference:Qs,element:Xs,strategy:"absolute",placement:C}),tr=td(Object.assign({},Xs,er)),la=jn===Cl?tr:Qs,ca={top:ir.top-la.top+ys.top,bottom:la.bottom-ir.bottom+ys.bottom,left:ir.left-la.left+ys.left,right:la.right-ir.right+ys.right},qa=h.modifiersData.offset;if(jn===Cl&&qa){var eo=qa[C];Object.keys(ca).forEach(function(to){var Dc=[uo,co].indexOf(to)>=0?1:-1,ou=[Zo,co].indexOf(to)>=0?"y":"x";ca[to]+=eo[ou]*Dc})}return ca}const Kd={name:"flip",enabled:!0,phase:"main",fn:function Ip(h){var b=h.state,a=h.options,p=h.name;if(!b.modifiersData[p]._skip){for(var C=a.mainAxis,x=void 0===C||C,le=a.altAxis,ke=void 0===le||le,tt=a.fallbackPlacements,Ct=a.padding,Lt=a.boundary,En=a.rootBoundary,jn=a.altBoundary,Hn=a.flipVariations,gi=void 0===Hn||Hn,mi=a.allowedAutoPlacements,Xi=b.options.placement,ys=bo(Xi),Xs=tt||(ys!==Xi&&gi?function Af(h){if(bo(h)===Gl)return[];var b=Vd(h);return[_u(h),b,_u(b)]}(Xi):[Vd(Xi)]),ps=[Xi].concat(Xs).reduce(function(rr,_l){return rr.concat(bo(_l)===Gl?function Fy(h,b){void 0===b&&(b={});var C=b.boundary,x=b.rootBoundary,le=b.padding,ke=b.flipVariations,tt=b.allowedAutoPlacements,Ct=void 0===tt?Wl:tt,Lt=ho(b.placement),En=Lt?ke?Ju:Ju.filter(function(gi){return ho(gi)===Lt}):ul,jn=En.filter(function(gi){return Ct.indexOf(gi)>=0});0===jn.length&&(jn=En);var Hn=jn.reduce(function(gi,mi){return gi[mi]=pa(h,{placement:mi,boundary:C,rootBoundary:x,padding:le})[bo(mi)],gi},{});return Object.keys(Hn).sort(function(gi,mi){return Hn[gi]-Hn[mi]})}(b,{placement:_l,boundary:Lt,rootBoundary:En,padding:Ct,flipVariations:gi,allowedAutoPlacements:mi}):_l)},[]),ir=b.rects.reference,Qs=b.rects.popper,er=new Map,tr=!0,la=ps[0],ca=0;ca<ps.length;ca++){var qa=ps[ca],eo=bo(qa),to=ho(qa)===Hl,Dc=[Zo,co].indexOf(eo)>=0,ou=Dc?"width":"height",Gi=pa(b,{placement:qa,boundary:Lt,rootBoundary:En,altBoundary:jn,padding:Ct}),as=Dc?to?uo:Aa:to?co:Zo;ir[ou]>Qs[ou]&&(as=Vd(as));var Ss=Vd(as),Ks=[];if(x&&Ks.push(Gi[eo]<=0),ke&&Ks.push(Gi[as]<=0,Gi[Ss]<=0),Ks.every(function(rr){return rr})){la=qa,tr=!1;break}er.set(qa,Ks)}if(tr)for(var Dl=function(_l){var Hr=ps.find(function(Jr){var Ro=er.get(Jr);if(Ro)return Ro.slice(0,_l).every(function(Qr){return Qr})});if(Hr)return la=Hr,"break"},La=gi?3:1;La>0&&"break"!==Dl(La);La--);b.placement!==la&&(b.modifiersData[p]._skip=!0,b.placement=la,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gc(h,b,a){return Vo(h,Tp(b,a))}function Uo(h){var b=El(h),a=h.offsetWidth,p=h.offsetHeight;return Math.abs(b.width-a)<=1&&(a=b.width),Math.abs(b.height-p)<=1&&(p=b.height),{x:h.offsetLeft,y:h.offsetTop,width:a,height:p}}const Rp={name:"preventOverflow",enabled:!0,phase:"main",fn:function Kc(h){var b=h.state,a=h.options,p=h.name,C=a.mainAxis,x=void 0===C||C,le=a.altAxis,ke=void 0!==le&&le,jn=a.tether,Hn=void 0===jn||jn,gi=a.tetherOffset,mi=void 0===gi?0:gi,Xi=pa(b,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),ys=bo(b.placement),cs=ho(b.placement),Xs=!cs,ps=mc(ys),ir=function hl(h){return"x"===h?"y":"x"}(ps),Qs=b.modifiersData.popperOffsets,er=b.rects.reference,tr=b.rects.popper,la="function"==typeof mi?mi(Object.assign({},b.rects,{placement:b.placement})):mi,ca="number"==typeof la?{mainAxis:la,altAxis:la}:Object.assign({mainAxis:0,altAxis:0},la),qa=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,eo={x:0,y:0};if(Qs){if(x){var to,Dc="y"===ps?Zo:Aa,ou="y"===ps?co:uo,Gi="y"===ps?"height":"width",as=Qs[ps],Ss=as+Xi[Dc],Ks=as-Xi[ou],wa=Hn?-tr[Gi]/2:0,Dl=cs===Hl?er[Gi]:tr[Gi],La=cs===Hl?-tr[Gi]:-er[Gi],sc=b.elements.arrow,rr=Hn&&sc?Uo(sc):{width:0,height:0},_l=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hr=_l[Dc],Jr=_l[ou],Ro=gc(0,er[Gi],rr[Gi]),Qr=Xs?er[Gi]/2-wa-Ro-Hr-ca.mainAxis:Dl-Ro-Hr-ca.mainAxis,vf=Xs?-er[Gi]/2+wa+Ro+Jr+ca.mainAxis:La+Ro+Jr+ca.mainAxis,lu=b.elements.arrow&&Gc(b.elements.arrow),gy=lu?"y"===ps?lu.clientTop||0:lu.clientLeft||0:0,_y=null!=(to=qa?.[ps])?to:0,uE=as+vf-_y,sC=gc(Hn?Tp(Ss,as+Qr-_y-gy):Ss,as,Hn?Vo(Ks,uE):Ks);Qs[ps]=sC,eo[ps]=sC-as}if(ke){var ig,pp=Qs[ir],fp="y"===ir?"height":"width",vy=pp+Xi["x"===ps?Zo:Aa],rC=pp-Xi["x"===ps?co:uo],yy=-1!==[Zo,Aa].indexOf(ys),pE=null!=(ig=qa?.[ir])?ig:0,aC=yy?vy:pp-er[fp]-tr[fp]-pE+ca.altAxis,z1=yy?pp+er[fp]+tr[fp]-pE-ca.altAxis:rC,oC=Hn&&yy?function xh(h,b,a){var p=gc(h,b,a);return p>a?a:p}(aC,pp,z1):gc(Hn?aC:vy,pp,Hn?z1:rC);Qs[ir]=oC,eo[ir]=oC-pp}b.modifiersData[p]=eo}},requiresIfExists:["offset"]},yg={name:"arrow",enabled:!0,phase:"main",fn:function Wc(h){var b,a=h.state,p=h.name,C=h.options,x=a.elements.arrow,le=a.modifiersData.popperOffsets,ke=bo(a.placement),tt=mc(ke),Lt=[Aa,uo].indexOf(ke)>=0?"height":"width";if(x&&le){var En=function(b,a){return id("number"!=typeof(b="function"==typeof b?b(Object.assign({},a.rects,{placement:a.placement})):b)?b:sd(b,ul))}(C.padding,a),jn=Uo(x),Hn="y"===tt?Zo:Aa,gi="y"===tt?co:uo,mi=a.rects.reference[Lt]+a.rects.reference[tt]-le[tt]-a.rects.popper[Lt],Xi=le[tt]-a.rects.reference[tt],ys=Gc(x),cs=ys?"y"===tt?ys.clientHeight||0:ys.clientWidth||0:0,Qs=cs/2-jn[Lt]/2+(mi/2-Xi/2),er=gc(En[Hn],Qs,cs-jn[Lt]-En[gi]);a.modifiersData[p]=((b={})[tt]=er,b.centerOffset=er-Qs,b)}},effect:function yu(h){var b=h.state,p=h.options.element,C=void 0===p?"[data-popper-arrow]":p;null!=C&&("string"==typeof C&&!(C=b.elements.popper.querySelector(C))||ed(b.elements.popper,C)&&(b.elements.arrow=C))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bu(h,b,a){void 0===a&&(a=!1);var p=dl(b),C=dl(b)&&function Yc(h){var b=h.getBoundingClientRect(),a=jc(b.width)/h.offsetWidth||1,p=jc(b.height)/h.offsetHeight||1;return 1!==a||1!==p}(b),x=So(b),le=El(h,C,a),ke={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(p||!p&&!a)&&(("body"!==Xa(b)||$d(x))&&(ke=function pl(h){return h!==Co(h)&&dl(h)?function kh(h){return{scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}}(h):wp(h)}(b)),dl(b)?((tt=El(b,!0)).x+=b.clientLeft,tt.y+=b.clientTop):x&&(tt.x=fc(x))),{x:le.left+ke.scrollLeft-tt.x,y:le.top+ke.scrollTop-tt.y,width:le.width,height:le.height}}function Ph(h){var b=new Map,a=new Set,p=[];function C(x){a.add(x.name),[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(ke){if(!a.has(ke)){var tt=b.get(ke);tt&&C(tt)}}),p.push(x)}return h.forEach(function(x){b.set(x.name,x)}),h.forEach(function(x){a.has(x.name)||C(x)}),p}function Yd(h){var b;return function(){return b||(b=new Promise(function(a){Promise.resolve().then(function(){b=void 0,a(h())})})),b}}var rd={placement:"bottom",modifiers:[],strategy:"absolute"};function ur(){for(var h=arguments.length,b=new Array(h),a=0;a<h;a++)b[a]=arguments[a];return!b.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function f_(h){void 0===h&&(h={});var a=h.defaultModifiers,p=void 0===a?[]:a,C=h.defaultOptions,x=void 0===C?rd:C;return function(ke,tt,Ct){void 0===Ct&&(Ct=x);var Lt={placement:"bottom",orderedModifiers:[],options:Object.assign({},rd,x),modifiersData:{},elements:{reference:ke,popper:tt},attributes:{},styles:{}},En=[],jn=!1,Hn={state:Lt,setOptions:function(ys){var cs="function"==typeof ys?ys(Lt.options):ys;mi(),Lt.options=Object.assign({},x,Lt.options,cs),Lt.scrollParents={reference:Yl(ke)?Lo(ke):ke.contextElement?Lo(ke.contextElement):[],popper:Lo(tt)};var Xs=function By(h){var b=Ph(h);return Sp.reduce(function(a,p){return a.concat(b.filter(function(C){return C.phase===p}))},[])}(function zc(h){var b=h.reduce(function(a,p){var C=a[p.name];return a[p.name]=C?Object.assign({},C,p,{options:Object.assign({},C.options,p.options),data:Object.assign({},C.data,p.data)}):p,a},{});return Object.keys(b).map(function(a){return b[a]})}([].concat(p,Lt.options.modifiers)));return Lt.orderedModifiers=Xs.filter(function(ps){return ps.enabled}),function gi(){Lt.orderedModifiers.forEach(function(Xi){var cs=Xi.options,ps=Xi.effect;if("function"==typeof ps){var ir=ps({state:Lt,name:Xi.name,instance:Hn,options:void 0===cs?{}:cs});En.push(ir||function(){})}})}(),Hn.update()},forceUpdate:function(){if(!jn){var ys=Lt.elements,cs=ys.reference,Xs=ys.popper;if(ur(cs,Xs)){Lt.rects={reference:bu(cs,Gc(Xs),"fixed"===Lt.options.strategy),popper:Uo(Xs)},Lt.reset=!1,Lt.placement=Lt.options.placement,Lt.orderedModifiers.forEach(function(ca){return Lt.modifiersData[ca.name]=Object.assign({},ca.data)});for(var ps=0;ps<Lt.orderedModifiers.length;ps++)if(!0!==Lt.reset){var ir=Lt.orderedModifiers[ps],Qs=ir.fn,er=ir.options;"function"==typeof Qs&&(Lt=Qs({state:Lt,options:void 0===er?{}:er,name:ir.name,instance:Hn})||Lt)}else Lt.reset=!1,ps=-1}}},update:Yd(function(){return new Promise(function(Xi){Hn.forceUpdate(),Xi(Lt)})}),destroy:function(){mi(),jn=!0}};if(!ur(ke,tt))return Hn;function mi(){En.forEach(function(Xi){return Xi()}),En=[]}return Hn.setOptions(Ct).then(function(Xi){!jn&&Ct.onFirstUpdate&&Ct.onFirstUpdate(Xi)}),Hn}}var Ap={passive:!0};const _c={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Cu(h){var b=h.state,a=h.instance,p=h.options,C=p.scroll,x=void 0===C||C,le=p.resize,ke=void 0===le||le,tt=Co(b.elements.popper),Ct=[].concat(b.scrollParents.reference,b.scrollParents.popper);return x&&Ct.forEach(function(Lt){Lt.addEventListener("scroll",a.update,Ap)}),ke&&tt.addEventListener("resize",a.update,Ap),function(){x&&Ct.forEach(function(Lt){Lt.removeEventListener("scroll",a.update,Ap)}),ke&&tt.removeEventListener("resize",a.update,Ap)}},data:{}},Jc={name:"popperOffsets",enabled:!0,phase:"read",fn:function Xc(h){var b=h.state;b.modifiersData[h.name]=_g({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}};var Nf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ad(h){var b,a=h.popper,p=h.popperRect,C=h.placement,x=h.variation,le=h.offsets,ke=h.position,tt=h.gpuAcceleration,Ct=h.adaptive,Lt=h.roundOffsets,En=h.isFixed,jn=le.x,Hn=void 0===jn?0:jn,gi=le.y,mi=void 0===gi?0:gi,Xi="function"==typeof Lt?Lt({x:Hn,y:mi}):{x:Hn,y:mi};Hn=Xi.x,mi=Xi.y;var ys=le.hasOwnProperty("x"),cs=le.hasOwnProperty("y"),Xs=Aa,ps=Zo,ir=window;if(Ct){var Qs=Gc(a),er="clientHeight",tr="clientWidth";Qs===Co(a)&&"static"!==Cr(Qs=So(a)).position&&"absolute"===ke&&(er="scrollHeight",tr="scrollWidth"),(C===Zo||(C===Aa||C===uo)&&x===Ld)&&(ps=co,mi-=(En&&Qs===ir&&ir.visualViewport?ir.visualViewport.height:Qs[er])-p.height,mi*=tt?1:-1),C!==Aa&&(C!==Zo&&C!==co||x!==Ld)||(Xs=uo,Hn-=(En&&Qs===ir&&ir.visualViewport?ir.visualViewport.width:Qs[tr])-p.width,Hn*=tt?1:-1)}var to,qa=Object.assign({position:ke},Ct&&Nf),eo=!0===Lt?function Mf(h,b){var p=h.y,C=b.devicePixelRatio||1;return{x:jc(h.x*C)/C||0,y:jc(p*C)/C||0}}({x:Hn,y:mi},Co(a)):{x:Hn,y:mi};return Hn=eo.x,mi=eo.y,Object.assign({},qa,tt?((to={})[ps]=cs?"0":"",to[Xs]=ys?"0":"",to.transform=(ir.devicePixelRatio||1)<=1?"translate("+Hn+"px, "+mi+"px)":"translate3d("+Hn+"px, "+mi+"px, 0)",to):((b={})[ps]=cs?mi+"px":"",b[Xs]=ys?Hn+"px":"",b.transform="",b))}const zl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function zd(h){var b=h.state,a=h.options,p=a.gpuAcceleration,C=void 0===p||p,x=a.adaptive,le=void 0===x||x,ke=a.roundOffsets,tt=void 0===ke||ke,Ct={placement:bo(b.placement),variation:ho(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:C,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,ad(Object.assign({},Ct,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:le,roundOffsets:tt})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,ad(Object.assign({},Ct,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:tt})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}};var Dp=[_c,Jc,zl,{name:"applyStyles",enabled:!0,phase:"write",fn:function Ja(h){var b=h.state;Object.keys(b.elements).forEach(function(a){var p=b.styles[a]||{},C=b.attributes[a]||{},x=b.elements[a];!dl(x)||!Xa(x)||(Object.assign(x.style,p),Object.keys(C).forEach(function(le){var ke=C[le];!1===ke?x.removeAttribute(le):x.setAttribute(le,!0===ke?"":ke)}))})},effect:function m_(h){var b=h.state,a={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,a.popper),b.styles=a,b.elements.arrow&&Object.assign(b.elements.arrow.style,a.arrow),function(){Object.keys(b.elements).forEach(function(p){var C=b.elements[p],x=b.attributes[p]||{},ke=Object.keys(b.styles.hasOwnProperty(p)?b.styles[p]:a[p]).reduce(function(tt,Ct){return tt[Ct]="",tt},{});!dl(C)||!Xa(C)||(Object.assign(C.style,ke),Object.keys(x).forEach(function(tt){C.removeAttribute(tt)}))})}},requires:["computeStyles"]}],Np=f_({defaultModifiers:Dp});const g_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Sg(h){var b=h.state,p=h.name,C=h.options.offset,x=void 0===C?[0,0]:C,le=Wl.reduce(function(Lt,En){return Lt[En]=function Cg(h,b,a){var p=bo(h),C=[Aa,Zo].indexOf(p)>=0?-1:1,x="function"==typeof a?a(Object.assign({},b,{placement:h})):a,le=x[0],ke=x[1];return le=le||0,ke=(ke||0)*C,[Aa,uo].indexOf(p)>=0?{x:ke,y:le}:{x:le,y:ke}}(En,b.rects,x),Lt},{}),ke=le[b.placement],Ct=ke.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=ke.x,b.modifiersData.popperOffsets.y+=Ct),b.modifiersData[p]=le}},od=["*"],Ig=["dialog"],Xf={animation:!0,transitionTimerDelayMs:5};let Eu=(()=>{class h{constructor(){this.animation=Xf.animation}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function th(h){return"string"==typeof h}function Jl(h){return null!=h}function Gh(h){return(h||document.body).getBoundingClientRect()}function Fg(h=document){const b=h?.activeElement;return b?b.shadowRoot?Fg(b.shadowRoot):b:null}const Hp=()=>{},{transitionTimerDelayMs:Kp}=Xf,Zc=new Map,Eo=(h,b,a,p)=>{let C=p.context||{};const x=Zc.get(b);if(x)switch(p.runningTransition){case"continue":return Vc.w;case"stop":h.run(()=>x.transition$.complete()),C=Object.assign(x.context,C),Zc.delete(b)}const le=a(b,p.animation,C)||Hp;if(!p.animation||"none"===window.getComputedStyle(b).transitionProperty)return h.run(()=>le()),(0,Ul.of)(void 0).pipe(function Hh(h){return b=>new vp.c(a=>b.subscribe({next:le=>h.run(()=>a.next(le)),error:le=>h.run(()=>a.error(le)),complete:()=>h.run(()=>a.complete())}))}(h));const ke=new yo.B,tt=new yo.B,Ct=ke.pipe(function zu(...h){return b=>(0,$l.x)(b,(0,Ul.of)(...h))}(!0));Zc.set(b,{transition$:ke,complete:()=>{tt.next(),tt.complete()},context:C});const Lt=function N_(h){const{transitionDelay:b,transitionDuration:a}=window.getComputedStyle(h);return 1e3*(parseFloat(b)+parseFloat(a))}(b);return h.runOutsideAngular(()=>{const En=(0,pr.R)(b,"transitionend").pipe((0,oo.Q)(Ct),(0,Tr.p)(({target:Hn})=>Hn===b));uc((0,jl.O)(Lt+Kp).pipe((0,oo.Q)(Ct)),En,tt).pipe((0,oo.Q)(Ct)).subscribe(()=>{Zc.delete(b),h.run(()=>{le(),ke.next(),ke.complete()})})}),ke.asObservable()};let Ql=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),nh=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Zf=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),k_=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})();const rm=(h,b)=>!!b&&b.some(a=>a.contains(h)),Kg=(h,b)=>!b||null!=function Jf(h,b){return!b||typeof h.closest>"u"?null:h.closest(b)}(h,b),B_=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Yg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function V_(h){const b=Array.from(h.querySelectorAll(Yg)).filter(a=>-1!==a.tabIndex);return[b[0],b[b.length-1]]}let Xh=(()=>{class h{constructor(){this._element=(0,e.WQX)(f.q).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const zg=/\s+/,Xg=/  +/gi,s0={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},UC=/^left/,jC=/^right/,Zp=/^start/,U_=/^end/;function am({placement:h,baseClass:b},a){let p=Array.isArray(h)?h:h.split(zg),x=p.findIndex(Ct=>"auto"===Ct);x>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Ct){null==p.find(Lt=>-1!==Lt.search("^"+Ct))&&p.splice(x++,1,Ct)});const le=p.map(Ct=>function r0(h,b){const[a,p]=s0[h];return b&&p||a}(Ct,a.isRTL()));return{placement:le.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!b,phase:"write",fn({state:Ct}){const Lt=new RegExp(b+"(-[a-z]+)*","gi"),En=Ct.elements.popper,jn=Ct.placement;let Hn=En.className;Hn=Hn.replace(Lt,""),Hn+=` ${function Sc(h,b){let[a,p]=b.split("-");const C=a.replace(UC,"start").replace(jC,"end");let x=[C];if(p){let le=p;("left"===a||"right"===a)&&(le=le.replace(Zp,"top").replace(U_,"bottom")),x.push(`${C}-${le}`)}return h&&(x=x.map(le=>`${h}-${le}`)),x.join(" ")}(b,jn)}`,Hn=Hn.trim().replace(Xg," "),En.className=Hn}},Kd,Rp,yg,{enabled:!0,name:"flip",options:{fallbackPlacements:le}}]}}function Jh(h){return h}new Date(1882,10,12),new Date(2174,10,25);let s1=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),w0=(()=>{class h{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=a=>a,this.container=null}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),ph=(()=>{class h{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(a){this._disabled=""===a||!0===a}get disabled(){return this._disabled}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(p,C){2&p&&(e.Mr5("tabIndex",C.disabled?-1:C.tabindex),e.AVh("disabled",C.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"}})}}return h})(),tf=(()=>{class h{constructor(){this.item=(0,e.WQX)(ph)}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(p,C){2&p&&e.Mr5("disabled",C.item.disabled)}})}}return h})(),vm=(()=>{class h{constructor(){this.dropdown=(0,e.WQX)(ym),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(p,C,x){if(1&p&&e.wni(x,ph,4),2&p){let le;e.mGM(le=e.lsd())&&(C.menuItems=le)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(p,C){1&p&&e.bIt("keydown.ArrowUp",function(le){return C.dropdown.onKeyDown(le)})("keydown.ArrowDown",function(le){return C.dropdown.onKeyDown(le)})("keydown.Home",function(le){return C.dropdown.onKeyDown(le)})("keydown.End",function(le){return C.dropdown.onKeyDown(le)})("keydown.Enter",function(le){return C.dropdown.onKeyDown(le)})("keydown.Space",function(le){return C.dropdown.onKeyDown(le)})("keydown.Tab",function(le){return C.dropdown.onKeyDown(le)})("keydown.Shift.Tab",function(le){return C.dropdown.onKeyDown(le)}),2&p&&e.AVh("show",C.dropdown.isOpen())}})}}return h})(),nf=(()=>{class h{constructor(){this.dropdown=(0,e.WQX)(ym),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(p,C){2&p&&(e.BMQ("aria-expanded",C.dropdown.isOpen()),e.AVh("show",C.dropdown.isOpen()))}})}}return h})(),r1=(()=>{class h extends nf{static{this.\u0275fac=(()=>{let a;return function(C){return(a||(a=e.xGo(h)))(C||h)}})()}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(p,C){1&p&&e.bIt("click",function(){return C.dropdown.toggle()})("keydown.ArrowUp",function(le){return C.dropdown.onKeyDown(le)})("keydown.ArrowDown",function(le){return C.dropdown.onKeyDown(le)})("keydown.Home",function(le){return C.dropdown.onKeyDown(le)})("keydown.End",function(le){return C.dropdown.onKeyDown(le)})("keydown.Tab",function(le){return C.dropdown.onKeyDown(le)})("keydown.Shift.Tab",function(le){return C.dropdown.onKeyDown(le)}),2&p&&(e.BMQ("aria-expanded",C.dropdown.isOpen()),e.AVh("show",C.dropdown.isOpen()))},features:[e.Jv_([{provide:nf,useExisting:(0,e.Rfq)(()=>h)}]),e.Vt3]})}}return h})(),ym=(()=>{class h{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(w0),this._document=(0,e.WQX)(f.q),this._injector=(0,e.WQX)(e.zZn),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new yo.B,this._bodyContainer=null,this._positioning=function a0(){const h=(0,e.WQX)(Xh);let b=null;return{createPopper(a){if(!b){let C=(a.updatePopperOptions||Jh)(am(a,h));b=Np(a.hostElement,a.targetElement,C)}},update(){b&&b.update()},setOptions(a){if(b){let C=(a.updatePopperOptions||Jh)(am(a,h));b.setOptions(C)}},destroy(){b&&(b.destroy(),b=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){(0,e.mal)({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(a){if(a.container&&this._open&&this._applyContainer(this.container),a.placement&&!a.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),a.dropdownClass){const{currentValue:p,previousValue:C}=a.dropdownClass;this._applyCustomDropdownClass(p,C)}a.autoClose&&this._open&&(this.autoClose=a.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:a=>this.popperOptions(function Ru(h){return b=>(b.modifiers.push(g_,{name:"offset",options:{offset:()=>h}}),b)}([0,2])(a))}),this._applyPlacementClasses(),this._afterRenderRef=(0,e.Tzd)({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Wg(h,b,a,p,C,x,le,ke){a&&h.runOutsideAngular((h=>B_?()=>setTimeout(()=>h(),100):h)(()=>{const Ct=(0,pr.R)(b,"keydown").pipe((0,oo.Q)(C),(0,Tr.p)(jn=>"Escape"===jn.key),(0,dc.M)(jn=>jn.preventDefault())),Lt=(0,pr.R)(b,"mousedown").pipe((0,Ya.T)(jn=>{const Hn=jn.target;return 2!==jn.button&&!rm(Hn,le)&&("inside"===a?rm(Hn,x)&&Kg(Hn,ke):"outside"===a?!rm(Hn,x):Kg(Hn,ke)||!rm(Hn,x))}),(0,oo.Q)(C)),En=(0,pr.R)(b,"mouseup").pipe((0,Fd.E)(Lt),(0,Tr.p)(([jn,Hn])=>Hn),(0,Dh.c)(0),(0,oo.Q)(C));uc([Ct.pipe((0,Ya.T)(jn=>0)),En.pipe((0,Ya.T)(jn=>1))]).subscribe(jn=>h.run(()=>p(jn)))}))}(this._ngZone,this._document,this.autoClose,a=>{this.close(),0===a&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(a){const{key:p}=a,C=this._getMenuElements();let x=-1,le=null;const ke=this._isEventFromToggle(a);if(!ke&&C.length&&C.forEach((tt,Ct)=>{tt.contains(a.target)&&(le=tt),tt===Fg(this._document)&&(x=Ct)})," "!==p&&"Enter"!==p){if("Tab"!==p){if(ke||le){if(this.open(),C.length){switch(p){case"ArrowDown":x=Math.min(x+1,C.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===x){x=C.length-1;break}x=Math.max(x-1,0);break;case"Home":x=0;break;case"End":x=C.length-1}C[x].focus()}a.preventDefault()}}else if(a.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===a.target)return void("body"!==this.container||a.shiftKey?a.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const tt=this._menu.nativeElement.querySelectorAll(Yg);a.shiftKey&&a.target===tt[0]?(this._anchor.nativeElement.focus(),a.preventDefault()):!a.shiftKey&&a.target===tt[tt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,pr.R)(a.target,"focusout").pipe((0,Lr.s)(1)).subscribe(({relatedTarget:tt})=>{this._nativeElement.contains(tt)||this.close()})}}else le&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,pr.R)(le,"click").pipe((0,Lr.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(a){return this._anchor.nativeElement.contains(a.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:a})=>!a).map(({nativeElement:a})=>a):[]}_positionMenu(){const a=this._menu;this.isOpen()&&a&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(a){return Array.isArray(a)?a[0]:a.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(a=null){if(this._resetContainer(),"body"===a){const p=this._menu.nativeElement,C=this._bodyContainer=this._bodyContainer||this._document.createElement("div");C.style.position="absolute",p.style.position="static",C.style.zIndex="1055",C.appendChild(p),this._document.body.appendChild(C)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(a,p){const C="body"===this.container?this._bodyContainer:this._nativeElement;C&&(p&&C.classList.remove(p),a&&C.classList.add(a))}_applyPlacementClasses(a){if(this._menu){a||(a=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const p=-1!==a.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(p),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(p))}}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275dir=e.FsC({type:h,selectors:[["","ngbDropdown",""]],contentQueries:function(p,C,x){if(1&p&&(e.wni(x,vm,5),e.wni(x,nf,5)),2&p){let le;e.mGM(le=e.lsd())&&(C._menu=le.first),e.mGM(le=e.lsd())&&(C._anchor=le.first)}},hostVars:2,hostBindings:function(p,C){2&p&&e.AVh("show",C.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[e.OA$]})}}return h})(),bm=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),oS=(()=>{class h{constructor(){this._ngbConfig=(0,e.WQX)(Eu),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(a){this._animation=a}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();class wc{constructor(b,a,p){this.nodes=b,this.viewRef=a,this.componentRef=p}}let R0=(()=>{class h{constructor(){this._document=(0,e.WQX)(f.q)}hide(){const a=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),p=this._document.body,C=p.style,{overflow:x,paddingRight:le}=C;if(a>0){const ke=parseFloat(window.getComputedStyle(p).paddingRight);C.paddingRight=`${ke+a}px`}return C.overflow="hidden",()=>{a>0&&(C.paddingRight=le),C.overflow=x}}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),A0=(()=>{class h{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi),this._injector=(0,e.WQX)(e.zZn)}ngOnInit(){(0,e.mal)({mixedReadWrite:()=>Eo(this._zone,this._nativeElement,(a,p)=>{p&&Gh(a),a.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Eo(this._zone,this._nativeElement,({classList:a})=>a.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(p,C){2&p&&(e.HbH("modal-backdrop"+(C.backdropClass?" "+C.backdropClass:"")),e.AVh("show",!C.animation)("fade",C.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(p,C){},encapsulation:2})}}return h})();class a1{update(b){}close(b){}dismiss(b){}}const D0=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],N0=["animation","backdropClass"];class M0{_applyWindowOptions(b,a){D0.forEach(p=>{Jl(a[p])&&(b[p]=a[p])})}_applyBackdropOptions(b,a){N0.forEach(p=>{Jl(a[p])&&(b[p]=a[p])})}update(b){this._applyWindowOptions(this._windowCmptRef.instance,b),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,b)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,oo.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,oo.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(b,a,p,C){this._windowCmptRef=b,this._contentRef=a,this._backdropCmptRef=p,this._beforeDismiss=C,this._closed=new yo.B,this._dismissed=new yo.B,this._hidden=new yo.B,b.instance.dismissEvent.subscribe(x=>{this.dismiss(x)}),this.result=new Promise((x,le)=>{this._resolve=x,this._reject=le}),this.result.then(null,()=>{})}close(b){this._windowCmptRef&&(this._closed.next(b),this._resolve(b),this._removeModalElements())}_dismiss(b){this._dismissed.next(b),this._reject(b),this._removeModalElements()}dismiss(b){if(this._windowCmptRef)if(this._beforeDismiss){const a=this._beforeDismiss();!function Pg(h){return h&&h.then}(a)?!1!==a&&this._dismiss(b):a.then(p=>{!1!==p&&this._dismiss(b)},()=>{})}else this._dismiss(b)}_removeModalElements(){const b=this._windowCmptRef.instance.hide(),a=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ul.of)(void 0);b.subscribe(()=>{const{nativeElement:p}=this._windowCmptRef.location;p.parentNode.removeChild(p),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),a.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:p}=this._backdropCmptRef.location;p.parentNode.removeChild(p),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cl(b,a).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var o1=function(h){return h[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",h}(o1||{});let O0=(()=>{class h{constructor(){this._document=(0,e.WQX)(f.q),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._injector=(0,e.WQX)(e.zZn),this._closed$=new yo.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new e.bkB,this.shown=new yo.B,this.hidden=new yo.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":th(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(a){this.dismissEvent.emit(a)}ngOnInit(){this._elWithFocus=this._document.activeElement,(0,e.mal)({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:a}=this._elRef,p={animation:this.animation,runningTransition:"stop"},le=cl(Eo(this._zone,a,()=>a.classList.remove("show"),p),Eo(this._zone,this._dialogEl.nativeElement,()=>{},p));return le.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),le}_show(){const a={animation:this.animation,runningTransition:"continue"};cl(Eo(this._zone,this._elRef.nativeElement,(x,le)=>{le&&Gh(x),x.classList.add("show")},a),Eo(this._zone,this._dialogEl.nativeElement,()=>{},a)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:a}=this._elRef;this._zone.runOutsideAngular(()=>{(0,pr.R)(a,"keydown").pipe((0,oo.Q)(this._closed$),(0,Tr.p)(C=>"Escape"===C.key)).subscribe(C=>{this.keyboard?requestAnimationFrame(()=>{C.defaultPrevented||this._zone.run(()=>this.dismiss(o1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let p=!1;(0,pr.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,oo.Q)(this._closed$),(0,dc.M)(()=>p=!1),(0,Bd.n)(()=>(0,pr.R)(a,"mouseup").pipe((0,oo.Q)(this._closed$),(0,Lr.s)(1))),(0,Tr.p)(({target:C})=>a===C)).subscribe(()=>{p=!0}),(0,pr.R)(a,"click").pipe((0,oo.Q)(this._closed$)).subscribe(({target:C})=>{a===C&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!p&&this._zone.run(()=>this.dismiss(o1.BACKDROP_CLICK))),p=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:a}=this._elRef;if(!a.contains(document.activeElement)){const p=a.querySelector("[ngbAutofocus]"),C=V_(a)[0];(p||C||a).focus()}}_restoreFocus(){const a=this._document.body,p=this._elWithFocus;let C;C=p&&p.focus&&a.contains(p)?p:a,this._zone.runOutsideAngular(()=>{setTimeout(()=>C.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Eo(this._zone,this._elRef.nativeElement,({classList:a})=>(a.add("modal-static"),()=>a.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(p,C){if(1&p&&e.GBs(Ig,7),2&p){let x;e.mGM(x=e.lsd())&&(C._dialogEl=x.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(p,C){2&p&&(e.BMQ("aria-modal",!0)("aria-labelledby",C.ariaLabelledBy)("aria-describedby",C.ariaDescribedBy)("role",C.role),e.HbH("modal d-block"+(C.windowClass?" "+C.windowClass:"")),e.AVh("fade",C.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:od,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(p,C){1&p&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&p&&e.HbH("modal-dialog"+(C.size?" modal-"+C.size:"")+(C.centered?" modal-dialog-centered":"")+C.fullscreenClass+(C.scrollable?" modal-dialog-scrollable":"")+(C.modalDialogClass?" "+C.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return h})(),x0=(()=>{class h{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(f.q),this._scrollBar=(0,e.WQX)(R0),this._activeWindowCmptHasChanged=new yo.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const a=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((h,b,a,p=!1)=>{h.runOutsideAngular(()=>{const C=(0,pr.R)(b,"focusin").pipe((0,oo.Q)(a),(0,Ya.T)(x=>x.target));(0,pr.R)(b,"keydown").pipe((0,oo.Q)(a),(0,Tr.p)(x=>"Tab"===x.key),(0,Fd.E)(C)).subscribe(([x,le])=>{const[ke,tt]=V_(b);(le===ke||le===b)&&x.shiftKey&&(tt.focus(),x.preventDefault()),le===tt&&!x.shiftKey&&(ke.focus(),x.preventDefault())}),p&&(0,pr.R)(b,"click").pipe((0,oo.Q)(a),(0,Fd.E)(C),(0,Ya.T)(x=>x[1])).subscribe(x=>x.focus())})})(a,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const a=this._scrollBarRestoreFn;a&&(this._scrollBarRestoreFn=null,a())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(a,p,C){const x=C.container instanceof HTMLElement?C.container:Jl(C.container)?this._document.querySelector(C.container):this._document.body;if(!x)throw new Error(`The specified modal container "${C.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const le=new a1,ke=(a=C.injector||a).get(e.uvJ,null)||this._environmentInjector,tt=this._getContentRef(a,ke,p,le,C);let Ct=!1!==C.backdrop?this._attachBackdrop(x):void 0,Lt=this._attachWindowComponent(x,tt.nodes),En=new M0(Lt,tt,Ct,C.beforeDismiss);return this._registerModalRef(En),this._registerWindowCmpt(Lt),En.hidden.pipe((0,Lr.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),le.close=jn=>{En.close(jn)},le.dismiss=jn=>{En.dismiss(jn)},le.update=jn=>{En.update(jn)},En.update(C),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),Ct&&Ct.instance&&Ct.changeDetectorRef.detectChanges(),Lt.changeDetectorRef.detectChanges(),En}get activeInstances(){return this._activeInstances}dismissAll(a){this._modalRefs.forEach(p=>p.dismiss(a))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(a){let p=(0,e.a0P)(A0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(p.hostView),a.appendChild(p.location.nativeElement),p}_attachWindowComponent(a,p){let C=(0,e.a0P)(O0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:p});return this._applicationRef.attachView(C.hostView),a.appendChild(C.location.nativeElement),C}_getContentRef(a,p,C,x,le){return C?C instanceof e.C4Q?this._createFromTemplateRef(C,x):th(C)?this._createFromString(C):this._createFromComponent(a,p,C,x,le):new wc([])}_createFromTemplateRef(a,p){const x=a.createEmbeddedView({$implicit:p,close(le){p.close(le)},dismiss(le){p.dismiss(le)}});return this._applicationRef.attachView(x),new wc([x.rootNodes],x)}_createFromString(a){const p=this._document.createTextNode(`${a}`);return new wc([[p]])}_createFromComponent(a,p,C,x,le){const ke=e.zZn.create({providers:[{provide:a1,useValue:x}],parent:a}),tt=(0,e.a0P)(C,{environmentInjector:p,elementInjector:ke}),Ct=tt.location.nativeElement;return le.scrollable&&Ct.classList.add("component-host-scrollable"),this._applicationRef.attachView(tt.hostView),new wc([[Ct]],tt.hostView,tt)}_setAriaHidden(a){const p=a.parentElement;p&&a!==this._document.body&&(Array.from(p.children).forEach(C=>{C!==a&&"SCRIPT"!==C.nodeName&&(this._ariaHiddenValues.set(C,C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))}),this._setAriaHidden(p))}_revertAriaHidden(){this._ariaHiddenValues.forEach((a,p)=>{a?p.setAttribute("aria-hidden",a):p.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(a){const p=()=>{const C=this._modalRefs.indexOf(a);C>-1&&(this._modalRefs.splice(C,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(a),this._activeInstances.emit(this._modalRefs),a.result.then(p,p)}_registerWindowCmpt(a){this._windowCmpts.push(a),this._activeWindowCmptHasChanged.next(),a.onDestroy(()=>{const p=this._windowCmpts.indexOf(a);p>-1&&(this._windowCmpts.splice(p,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),l1=(()=>{class h{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(x0),this._config=(0,e.WQX)(oS)}open(a,p={}){const C={...this._config,animation:this._config.animation,...p};return this._modalStack.open(this._injector,a,C)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(a){this._modalStack.dismissAll(a)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),k0=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({providers:[l1]})}}return h})(),u1=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),ev=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Im=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),p1=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),f1=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),_d=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),mh=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),y1=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Nu=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let pv=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})(),Nm=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({})}}return h})();const ib=[Ql,nh,Zf,k_,s1,bm,k0,u1,Nm,ev,Im,p1,f1,_d,mh,y1,Nu,pv];let gv=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[ib,Ql,nh,Zf,k_,s1,bm,k0,u1,Nm,ev,Im,p1,f1,_d,mh,y1,Nu,pv]})}}return h})();var Mm=l(3899);const _v=h=>[h],gh=h=>({showUpgrade:h});function _h(h,b){1&h&&e.eu8(0)}function S1(h,b){if(1&h&&(e.j41(0,"button",5),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,_h,1,0,"ng-container",6),e.k0s()),2&h){const a=e.XpG(2),p=e.sdS(2);e.HbH(a.btnClasses),e.Y8G("routerLinkActive",a.activeClass)("routerLink",e.eq3(9,_v,e.bMT(1,7,a.route))),e.R7$(2),e.SpI(" ",a.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",p)("ngTemplateOutletContext",e.eq3(11,gh,a.showUpgrade))}}function E1(h,b){1&h&&e.eu8(0)}function sb(h,b){if(1&h&&(e.j41(0,"button",7),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,E1,1,0,"ng-container",6),e.k0s()),2&h){const a=e.XpG(2),p=e.sdS(2);e.HbH(a.btnClasses),e.Y8G("routerLinkActive",a.activeClass)("routerLink",e.eq3(9,_v,e.bMT(1,7,a.route))),e.R7$(2),e.SpI(" ",a.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",p)("ngTemplateOutletContext",e.eq3(11,gh,a.showUpgrade))}}function Om(h,b){if(1&h&&(e.j41(0,"li",2),e.DNE(1,S1,4,13,"button",3)(2,sb,4,13,"button",4),e.k0s()),2&h){const a=e.XpG();e.HbH(a.classes),e.Y8G("id",a.id),e.R7$(),e.vxM(a.sub?1:2)}}function vd(h,b){1&h&&(e.j41(0,"div",8)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",10),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function ep(h,b){1&h&&e.DNE(0,vd,5,3,"div",8),2&h&&e.vxM(b.showUpgrade?0:-1)}let xm=(()=>{class h{constructor(){this.showUpgrade=!1}get btnClasses(){const a="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${a} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${a} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},standalone:!1,decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],[3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(p,C){1&p&&e.DNE(0,Om,3,4,"li",1)(1,ep,1,1,"ng-template",null,0,e.C5r),2&p&&e.vxM(C.display?0:-1)},dependencies:[A.T3,Se.Wk,Se.wQ,ph,tf,Hi.D9,se.tl],encapsulation:2})}}return h})();const vv=["sameSiteBrowserNotification"],yv=["defaultUserResolveButton"],bv=[[["","navigation",""]]],yd=["[navigation]"],tp=(h,b)=>({text:h,check:b}),km=(h,b)=>({"tw-opacity-75":h,"tw-pill-info":b}),Pm=h=>[h],T1=(h,b)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":h,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":b});function w1(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(a);const C=e.XpG(2);return e.Njj(C.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&h&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function Cv(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(a);const C=e.XpG(2);return e.Njj(C.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&h&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function Sv(h,b){if(1&h&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&h){const a=e.XpG(2);e.R7$(6),e.SpI(" ",a.licenseIsInStarterModeMessage," ")}}function Ev(h,b){if(1&h&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&h){const a=e.XpG(2);e.R7$(6),e.SpI(" ",a.licenseIsInGracePeriodMessage," ")}}function Tv(h,b){if(1&h&&(e.j41(0,"div",15),e.DNE(1,w1,13,6,"div",16)(2,Cv,13,6,"div",17)(3,Sv,7,1,"div",18)(4,Ev,7,1,"div",19),e.k0s()),2&h){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",a.defaultUserExists),e.R7$(),e.Y8G("ngIf",a.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",a.licenseIsInGracePeriod)}}function I1(h,b){if(1&h&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&h){const a=e.XpG(2);e.Y8G("ngClass",e.l_i(2,km,a.securityService.isNonProd(),!a.securityService.isNonProd())),e.R7$(),e.SpI(" ",a.securityService.licenseType," ")}}function wv(h,b){if(1&h){const a=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,I1,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&h){const a=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=a.securityService.organisation),e.R7$(4),e.JRh(a.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function Fm(h,b){1&h&&e.nrm(0,"span",53)}function vh(h,b){1&h&&e.nrm(0,"span",54)}function Iv(h,b){1&h&&e.nrm(0,"div",61)}function R1(h,b){if(1&h&&(e.nrm(0,"app-nav-item",62),e.nI1(1,"translate")),2&h){const a=e.XpG(3);e.Y8G("id","app-nav-item-auditing")("title",e.bMT(1,6,"Nav.Auditing"))("activeClass","tw-nav-active")("route","/auditing")("display",a.securityService.auditerView)("showUpgrade",a.licenseIsInStarterMode)}}function A1(h,b){if(1&h){const a=e.RV6();e.j41(0,"nav",55),e.DNE(1,Iv,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.DNE(12,R1,2,8,"app-nav-item",58),e.nrm(13,"app-nav-item",57),e.nI1(14,"translate"),e.j41(15,"li",59)(16,"button",60),e.bIt("click",function(){e.eBV(a);const C=e.XpG(2);return e.Njj(C.logoff())}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&h){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",!a.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,29,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,31,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",a.securityService.userManagerView||a.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,33,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",a.securityService.userManagerView||a.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,35,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",a.securityService.userManagerView||a.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("ngIf",a.enableAuditing),e.R7$(),e.Y8G("id","app-nav-item-settings")("title",e.bMT(14,37,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings")("display",a.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(18,39,"Logout")," ")}}function Bm(h,b){if(1&h){const a=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,Fm,1,0,"span",50)(18,vh,1,0,"span",51),e.k0s()(),e.DNE(19,A1,19,41,"nav",52),e.k0s()()()}if(2&h){const a=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,Pm,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",a.openMenu),e.BMQ("aria-expanded",1==a.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!a.openMenu),e.R7$(),e.Y8G("ngIf",a.openMenu),e.R7$(),e.Y8G("ngIf",a.openMenu&&a.appComponentViewConfig.showNav&&!a.expectingStarterModeConsent)}}function rb(h,b){1&h&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Rv(h,b){if(1&h&&(e.j41(0,"li",64)(1,"button",65),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,rb,5,3,"div",66),e.k0s()()),2&h){const a=e.XpG(),p=a.title,C=a.classes,x=a.activeClass,le=a.sub,ke=a.route,tt=a.starterUpgrade,Ct=a.id,Lt=e.XpG();e.HbH(C),e.Y8G("id",Ct),e.R7$(),e.Y8G("ngClass",e.l_i(10,T1,le,!le))("routerLinkActive",x)("routerLink",e.eq3(13,Pm,e.bMT(2,8,ke))),e.R7$(2),e.SpI(" ",p," "),e.R7$(),e.Y8G("ngIf",tt&&Lt.licenseIsInStarterMode)}}function ab(h,b){1&h&&e.DNE(0,Rv,5,15,"li",63),2&h&&e.Y8G("ngIf",b.display)}function ob(h,b){1&h&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function np(h,b){if(1&h&&(e.j41(0,"li",64)(1,"button",69),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,ob,5,3,"div",66),e.k0s()()),2&h){const a=e.XpG(),p=a.title,C=a.classes,x=a.activeClass,le=a.sub,ke=a.route,tt=a.starterUpgrade,Ct=a.id,Lt=e.XpG();e.HbH(C),e.Y8G("id",Ct),e.R7$(),e.Y8G("ngClass",e.l_i(10,T1,le,!le))("routerLinkActive",x)("routerLink",e.eq3(13,Pm,e.bMT(2,8,ke))),e.R7$(2),e.SpI(" ",p," "),e.R7$(),e.Y8G("ngIf",tt&&Lt.licenseIsInStarterMode)}}function Vm(h,b){1&h&&e.DNE(0,np,5,15,"li",63),2&h&&e.Y8G("ngIf",b.display)}function Av(h,b){1&h&&(e.j41(0,"div",70)(1,"div",71)(2,"div")(3,"h1",72),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&h&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function Dv(h,b){1&h&&e.nrm(0,"router-outlet")}function lb(h,b){1&h&&e.eu8(0)}function Nv(h,b){if(1&h&&(e.j41(0,"div",74)(1,"div",75),e.nrm(2,"span",76),e.j41(3,"span",77)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&h){const a=e.XpG(),p=a.text;e.Y8G("@fadeInOut",a.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",p," ")}}function Mv(h,b){1&h&&e.DNE(0,Nv,8,5,"div",73),2&h&&e.Y8G("ngIf",b.check)}function Ov(h,b){if(1&h){const a=e.RV6();e.j41(0,"footer",78)(1,"button",79),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.jumpToTop())}),e.nrm(2,"span",80),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",81)(7,"div",82)(8,"p",83)(9,"span",84),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",85),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",86)(16,"li",87)(17,"a",88),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",89),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",90),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&h){const a=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",a.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",a.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let xv=(()=>{class h{constructor(a,p,C,x,le,ke,tt,Ct,Lt,En,jn,Hn,gi){this.securityService=a,this.translate=p,this.localizeRouter=C,this.toastr=x,this.router=le,this.healthCheckService=ke,this.authService=tt,this.userService=Ct,this.modalService=Lt,this.browserSameSiteService=En,this.appComponentViewService=jn,this.licenseService=Hn,this.configService=gi,this.adminuiProvider=ni.c.authServer.toString(),this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.enableAuditing=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Xo.N.Save],this.subscriptions=[],us.wB.defaultLocale="utc",us.wB.defaultZone="utc";const mi=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",mi),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const p={link:nr.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",p),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}this.configService.getConfig().pipe((0,qi.$)()).subscribe({next:p=>{this.enableAuditing=p.enableAuditing}})}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(a=>a.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,Tr.p)(a=>a instanceof at.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Js}),this.router.events.subscribe({next:a=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:a=>{this.appComponentViewConfig=a}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,Lr.s)(1)).subscribe({next:a=>this.uiHealthCheckSuccess(a),error:a=>this.uiHealthCheckFailed(a)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,Lr.s)(1)).subscribe({next:a=>this.idsHealthCheckSuccess(),error:a=>this.idsHealthCheckFailed(a)})}uiHealthCheckSuccess(a){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof a&&!(0,gr.gP)(a)&&this.toastr.warning(a,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,zr.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(p=>{p.authentication.isAuthenticated&&p.authentication.username!=al.M.DefaultAdministratorUsername&&p.permissions.includes(Mi.a[Mi.a.All])&&this.userService.defaultUserExists().subscribe(C=>{this.defaultUserExists=C})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(p=>{if(this.licenseIsInStarterMode=p.isStarterLicense(),this.expectingStarterModeConsent=p.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=p.isInGracePeriod,this.licenseIsInGracePeriod){const C=(0,gr.KU)(p.gracePeriodExpiry,"ccc LLL dd yyyy, T");let x=this.translate.instant("Common.LicenseIsInGracePeriod");x=x.replace("{0}",C),this.licenseIsInGracePeriodMessage=x}})}uiHealthCheckFailed(a){this.healthCheckService.uiHealthCheckComplete.next(!0);const p=this.getHealthCheckError(a);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:p?` (${p})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(a){this.healthCheckService.idsHealthCheckComplete.next(!0);const p=this.getHealthCheckError(a);this.toastr.error(this.translate.instant("ServerDependent.LandingPage.IdentityServerError",{link:nr.$9.checkHealthIdentityServerDocs,error:p?` (${p})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:a=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:a=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(a,p=!1){return this.router.isActive(a,p)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const a=window.matchMedia("(min-width: 1024px)");a.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!a.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(a){if(!a)return"";const p=a.error;if(p){if("string"==typeof p)return p;if(p.errors&&p.errors.length>0)return p.errors[0]}return a.message?a.message:a.statusText?a.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(It.i),e.rXU(Hi.c$),e.rXU(se.QG),e.rXU(Ge.tw),e.rXU(at.Ix),e.rXU(me.M),e.rXU(Ie.u),e.rXU(Je.D),e.rXU(Mt.B),e.rXU(Fo),e.rXU(Ll.X),e.rXU(Sn.X),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-shared-base"]],viewQuery:function(p,C){if(1&p&&(e.GBs(vv,5),e.GBs(yv,5)),2&p){let x;e.mGM(x=e.lsd())&&(C.sameSiteBrowserNotification=x.first),e.mGM(x=e.lsd())&&(C.defaultUserResolveButton=x.first)}},standalone:!1,ngContentSelectors:yd,decls:20,vars:19,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[3,"id","title","classes","activeClass","route","display","showUpgrade",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"id","title","classes","activeClass","route","display","showUpgrade"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],["id","loadingMessage",1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(p,C){if(1&p){const x=e.RV6();e.NAR(bv),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Tv,5,4,"div",6)(4,wv,14,8,"nav",7)(5,Bm,20,20,"header",8)(6,ab,1,1,"ng-template",null,0,e.C5r)(8,Vm,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(x),e.Njj(C.removeDefaultUser())})("onCancel",function(){return e.eBV(x),e.Njj(C.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,Av,9,6,"div",11)(15,Dv,1,0,"router-outlet",12),e.k0s(),e.DNE(16,lb,1,0,"ng-container",13)(17,Mv,1,1,"ng-template",null,2,e.C5r)(19,Ov,26,14,"footer",14)}if(2&p){const x=e.sdS(18);e.Y8G("href",C.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",C.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",C.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",C.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",C.resolveModalActions)("title","Remove Default Administrator")("modalId",C.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",C.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!C.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(16,tp,C.adminuiProvider,!C.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",C.appComponentViewConfig.showFooter)}},dependencies:[A.YU,A.bT,A.T3,ph,tf,Mm.G,at.n3,Se.Wk,Se.wQ,xm,Hi.D9,se.tl],encapsulation:2,data:{animation:[(0,gn.l1)(),(0,gn.Ws)()]}})}}return h})();const kv=["resourcesMenu"];function D1(h,b){if(1&h&&(e.j41(0,"li",4)(1,"button",5)(2,"span",6),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",7),e.k0s(),e.j41(6,"div",8),e.nI1(7,"translate"),e.j41(8,"ul",9),e.nrm(9,"app-nav-item",10),e.nI1(10,"translate"),e.nrm(11,"app-nav-item",10),e.nI1(12,"translate"),e.k0s()()()),2&h){const a=e.XpG();e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",a.isActiveResourceRoute()),e.R7$(2),e.JRh(e.bMT(4,19,"Nav.Resources")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,21,"Nav.Resources")),e.R7$(3),e.Y8G("id","app-nav-item-identityresources")("title",e.bMT(10,23,"Nav.IdentityResources"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/identityresources")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-protectedresources")("title",e.bMT(12,25,"Nav.ProtectedResources"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/protectedresources")("display",!0)}}let N1=(()=>{class h{constructor(a,p,C,x){this.securityService=a,this.router=p,this.licenseService=C,this.configService=x,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.configService.getConfig().subscribe({next:a=>{this.dynamicAuthEnabled=a.featureFlagOptions.dynamicAuthenticationFlag!=$e.U.Disabled}}),this.licenseService.getLicenseInfo().subscribe(a=>{this.licenseIsInStarterMode=a.isStarterLicense()}))}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(It.i),e.rXU(at.Ix),e.rXU(Sn.X),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-root"]],viewQuery:function(p,C){if(1&p&&e.GBs(kv,5),2&p){let x;e.mGM(x=e.lsd())&&(C.resourcesMenu=x.first)}},standalone:!1,decls:7,vars:18,consts:[["navigation",""],[3,"id","title","classes","activeClass","route","display"],["class","","ngbDropdown","",3,"autoClose",4,"ngIf"],[3,"id","title","classes","activeClass","route","display","showUpgrade"],["ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuResourcesToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"id","title","classes","activeClass","sub","route","display"]],template:function(p,C){1&p&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.nrm(2,"app-nav-item",1),e.nI1(3,"translate"),e.DNE(4,D1,13,27,"li",2),e.nrm(5,"app-nav-item",3),e.nI1(6,"translate"),e.bVm(),e.k0s()),2&p&&(e.R7$(2),e.Y8G("id","app-nav-item-clients")("title",e.bMT(3,14,"Nav.Clients"))("classes","")("activeClass","tw-nav-active")("route","/clients")("display",C.securityService.authorizationServerManagerView||C.securityService.authorizationServerManagerReadOnlyView),e.R7$(2),e.Y8G("ngIf",C.securityService.authorizationServerManagerView||C.securityService.authorizationServerManagerReadOnlyView),e.R7$(),e.Y8G("id","tabDynamicAuth")("title",e.bMT(6,16,"Nav.DynamicAuth"))("classes","")("activeClass","tw-nav-active")("route","/dynamic-auth")("display",(C.securityService.authorizationServerManagerView||C.securityService.authorizationServerManagerReadOnlyView)&&C.dynamicAuthEnabled)("showUpgrade",C.licenseIsInStarterMode))},dependencies:[xv,A.bT,ym,r1,vm,xm,Hi.D9],encapsulation:2,data:{animation:[(0,gn.l1)(),(0,gn.Ws)()]}})}}return h})();var tu=l(534),ec=l(1924),tc=l(3816),bd=l(779),af=l(8416),lf=l(9437),Lm=l(8284),nu=l(8261),Ac=l(5424);let cf=(()=>{class h{constructor(a,p){this.identityResourceService=a,this.errorService=p}resolve(a,p){const C=a.paramMap.get("id");return this.identityResourceService.getResource(C).pipe((0,Ya.T)(x=>(x&&this.identityResourceService.getCachedIdentityResource().next(x),x)),(0,lf.W)((x,le)=>(404===x.status?this.errorService.resourceNotFound(Lm.v.identityResource):this.errorService.handleError(x),Vc.w)))}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(nu.A),e.KVO(Ac.I))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var gl=l(5893);let Um=(()=>{class h{constructor(a,p){this.protectedResourceService=a,this.errorService=p}resolve(a,p){const C=a.paramMap.get("id");return this.protectedResourceService.getResource(C).pipe((0,Ya.T)(x=>(x&&this.protectedResourceService.getCachedProtectedResource().next(x),x)),(0,lf.W)((x,le)=>(404===x.status?this.errorService.resourceNotFound(Lm.v.protectedResource):this.errorService.handleError(x),Vc.w)))}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(gl.x),e.KVO(Ac.I))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var sa=l(2892),jm=l(1397),$m=l(6494),Ta=l(345),iu=l(3680),Cd=l(7156),Gm=l(7294),Hm=l(2510),wo=l(7384),ip=l(1068),su=l(526),nc=l(4112),Sd=l(8698);const Pv=["IdentityResourcePicker"],Fv=["tabs"],uf=["addIdentityResourceModal"],Km=()=>({animated:!1,backdrop:"static"});function Bv(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function cb(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.AssignClaims")))}function _S(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const a=e.XpG();e.Y8G("disabled",a.identityResourceForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function ub(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const a=e.XpG();e.Y8G("disabled",0==a.assignedClaims.length),e.R7$(),e.JRh(e.bMT(2,2,"Common.Save"))}}let Vv=(()=>{class h{constructor(a,p,C,x,le,ke){this.claimTypesService=a,this.errorService=p,this.identityResourceService=C,this.translate=x,this.fb=le,this.toastr=ke,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.bkB}keydown(a){"Enter"===a.key&&this.identityResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:a=>{this.availableClaims=a,this.allAvailableClaims=a},error:a=>{this.errorService.handleError(a)}}),this.identityResourceForm=this.fb.group({name:["",ft.k0.required],displayName:["",ft.k0.required],description:["",ft.k0.maxLength(1e3)]})}ngAfterViewInit(){this.resourcesPicker.assignedStream.subscribe(a=>{this.availableClaims=(0,gr.Yt)(this.availableClaims.slice(),a);const p=this.assignedClaims.slice();this.assignedClaims=p.concat(a)}),this.resourcesPicker.unAssignedStream.subscribe(a=>{const p=this.availableClaims;this.assignedClaims=(0,gr.Yt)(this.assignedClaims.slice(),a),this.availableClaims=p.concat(a)})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const a=(0,ip.kH)(this.assignedClaims,function(C){return C.name}),p=Object.assign(this.identityResourceForm.value,{allowedClaims:a});this.identityResourceService.addResource(p).subscribe(C=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.resetWizard(),this.hide(),this.onSubmit.emit()},C=>{let x;C.error.errors.length>0&&(x=C.error.errors[0]),this.toastr.error(x,this.translate.instant("Common.Error"))})}resetWizard(){this.identityResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvailableClaims}hide(){this.addIdentityResourceModal.hide()}show(){this.addIdentityResourceModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(su.X),e.rXU(Ac.I),e.rXU(nu.A),e.rXU(Hi.c$),e.rXU(ft.ze),e.rXU(Ge.tw))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-add-identityresource"]],viewQuery:function(p,C){if(1&p&&(e.GBs(Pv,7),e.GBs(Fv,7),e.GBs(uf,7)),2&p){let x;e.mGM(x=e.lsd())&&(C.resourcesPicker=x.first),e.mGM(x=e.lsd())&&(C.tabComponent=x.first),e.mGM(x=e.lsd())&&(C.addIdentityResourceModal=x.first)}},hostBindings:function(p,C){1&p&&e.bIt("keydown",function(le){return C.keydown(le)},!1,e.EBC)},outputs:{onSubmit:"onSubmit"},standalone:!1,decls:47,vars:36,consts:[["addIdentityResourceModal","bs-modal"],["progressBar",""],["tabs",""],["IdentityResourcePicker",""],["bsModal","","id","addIdentityModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"disabled","click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",9),e.bIt("click",function(){return e.eBV(x),e.Njj(C.hide())}),e.nrm(9,"span",10),e.j41(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",12)(14,"div",13,1)(16,"span",11),e.EFF(17),e.k0s()()(),e.j41(18,"div",14)(19,"div",15),e.DNE(20,Bv,3,3,"p",16)(21,cb,3,3,"p",16),e.k0s(),e.j41(22,"tabset",17,2)(24,"tab")(25,"form",18)(26,"app-form-row",19),e.nrm(27,"input",20),e.k0s(),e.j41(28,"app-form-row",19),e.nrm(29,"input",21),e.k0s(),e.j41(30,"app-form-row",22)(31,"textarea",23),e.bIt("focus",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)})("blur",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)}),e.k0s()()()(),e.j41(32,"tab"),e.nrm(33,"app-common-picker",24,3),e.k0s()()(),e.nrm(35,"div",25),e.j41(36,"div",26)(37,"div",27)(38,"div",28),e.DNE(39,_S,3,4,"button",29)(40,ub,3,4,"button",30),e.j41(41,"button",31),e.bIt("click",function(){return e.eBV(x),e.Njj(C.previousTab())}),e.EFF(42),e.nI1(43,"translate"),e.k0s()(),e.j41(44,"button",32),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()}2&p&&(e.Y8G("config",e.lJ4(35,Km)),e.R7$(6),e.JRh(e.bMT(7,27,"IdentityResources.Create")),e.R7$(5),e.JRh(e.bMT(12,29,"Common.Close")),e.R7$(3),e.xc7("width",C.progressPercent+"%"),e.R7$(3),e.JRh(C.progressPercent+"%"),e.R7$(3),e.Y8G("ngIf",C.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",C.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",C.identityResourceForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.R7$(3),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",C.tabIndex<C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",C.tabIndex==C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==C.tabIndex),e.R7$(),e.JRh(e.bMT(43,31,"Common.Back")),e.R7$(3),e.JRh(e.bMT(46,33,"Common.Cancel")))},dependencies:[A.bT,ft.qT,ft.me,ft.BC,ft.cb,ft.tU,ft.j4,ft.JD,tc.V6,tc.fw,nc.f,bd.hZ,Sd.Y,Hi.D9],encapsulation:2})}}return h})();function db(h,b){if(1&h){const a=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(a),e.XpG();const C=e.sdS(3);return e.Njj(C.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&h&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Resources.AddResource")," "))}function Lv(h,b){1&h&&e.nrm(0,"app-simple-loader")}function hb(h,b){1&h&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"IdentityResources.NoIdentityResources")))}function Uv(h,b){1&h&&(e.j41(0,"span",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function jv(h,b){1&h&&(e.nrm(0,"span",28),e.j41(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.View")))}function pb(h,b){1&h&&(e.nrm(0,"span",29),e.j41(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Edit")))}function Ou(h,b){if(1&h){const a=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",22),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(5),e.k0s(),e.j41(6,"td",23),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(7),e.k0s(),e.j41(8,"td",24),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(9,Uv,3,3,"span",25),e.k0s(),e.j41(10,"td",24),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(11,"button",26),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(12,jv,4,3)(13,pb,4,3),e.k0s()()()}if(2&h){const a=b.$implicit,p=e.XpG(2);e.AVh("inactive",!a.enabled||(null==a?null:a.nonEditable)),e.R7$(2),e.AVh("tw-text-blue-500",!a.nonEditable),e.R7$(),e.JRh(a.displayName),e.R7$(2),e.SpI(" ",a.name," "),e.R7$(2),e.SpI(" ",a.description," "),e.R7$(2),e.Y8G("ngIf",a.nonEditable),e.R7$(3),e.vxM(p.resourceIsReadOnly(a)?12:13)}}function sp(h,b){if(1&h&&(e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",14),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",15),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",16)(13,"span",17),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",16)(17,"span",17),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",18),e.DNE(21,Ou,14,9,"tr",19),e.k0s()()),2&h){const a=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.ID")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",a.resources)}}function Wm(h,b){if(1&h&&e.nrm(0,"app-pager",30),2&h){const a=e.XpG();e.Y8G("totalResults",null==a.resources?null:a.resources.length)}}let df=(()=>{class h extends $m.u{constructor(a,p,C,x,le,ke,tt,Ct,Lt){super(Ct,p,!0,Lt,tt,ke),this.identityResourceService=a,this.translate=p,this.errorService=C,this.localize=x,this.titleService=le,this.term="",this.resources=[],this.isLoading=!0,this.mapSearchTerm=this.mapSearchTerm.bind(this)}mapSearchTerm(a){return this.term=a,{searchTerm:this.term}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.IdentityResources")+` - ${nr.$9.SITE_TITLE}`),this.searchSource.pipe((0,bp.Z)({searchTerm:this.term}),(0,jm.Z)(p=>this.identityResourceService.getIdentityResources(p.searchTerm))).subscribe({next:p=>{this.sortResources(p),this.isLoading=!1},error:p=>{this.errorService.handleError(p),this.isLoading=!1}})}sortResources(a){a.sort((p,C)=>Number(C.nonEditable)-Number(p.nonEditable)),this.resources=a}refreshList(){this.ngOnInit()}resourceIsReadOnly(a){return!this.hasEditPermission||a.nonEditable}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(nu.A),e.rXU(Hi.c$),e.rXU(Ac.I),e.rXU(se.QG),e.rXU(Ta.hE),e.rXU(at.Ix),e.rXU(It.i),e.rXU(Ge.tw),e.rXU(at.nX))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,features:[e.Vt3],decls:12,vars:12,consts:[["addIdentityResourcesModal",""],[3,"title"],[3,"onSubmit"],["id","identityResourceList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],["hidePager","true",3,"totalResults"]],template:function(p,C){if(1&p){const x=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-identityresource",2,0),e.bIt("onSubmit",function(){return e.eBV(x),e.Njj(C.refreshList())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.mxI("searchTermChange",function(ke){return e.eBV(x),e.DH7(C.searchTerm,ke)||(C.searchTerm=ke),e.Njj(ke)}),e.bIt("onSearch",function(ke){return e.eBV(x),e.Njj(C.search(ke))}),e.k0s(),e.DNE(7,db,5,3,"app-action-bar",5)(8,Lv,1,0,"app-simple-loader",5)(9,hb,4,3,"div",6)(10,sp,22,16,"table",7)(11,Wm,1,1,"app-pager",8),e.k0s()}2&p&&(e.Y8G("title",e.bMT(1,8,"Nav.IdentityResources")),e.R7$(5),e.R50("searchTerm",C.searchTerm),e.Y8G("placeholder",e.bMT(6,10,"Resources.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!C.isLoading&&C.hasEditPermission),e.R7$(),e.Y8G("ngIf",C.isLoading),e.R7$(),e.Y8G("ngIf",(!C.resources||C.resources.length<=0)&&!C.isLoading),e.R7$(),e.Y8G("ngIf",C.resources&&C.resources.length>0&&!C.isLoading),e.R7$(),e.Y8G("ngIf",C.resources&&C.resources.length>0&&!C.isLoading))},dependencies:[A.Sq,A.bT,iu.z,Cd.B,Gm.n,Hm.S,wo.d,Vv,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var ru=l(5586);const rp=(h,b)=>({title:h,link:b}),M1=h=>[h],O1=()=>["active"];let hf=(()=>{class h{constructor(a,p,C,x,le,ke,tt,Ct){this.fb=a,this.route=p,this.router=C,this.titleService=x,this.identityResourceService=le,this.translate=ke,this.claimTypesService=tt,this.scopesClaimService=Ct}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(a=>{this.identityResource=a,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${nr.$9.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:a=>{this.scopesClaimService.setClaimTypes(a)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(a){this.router.navigate([a],{relativeTo:this.route})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(ft.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(Ta.hE),e.rXU(nu.A),e.rXU(Hi.c$),e.rXU(su.X),e.rXU(ru.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:37,vars:43,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editIdentityResource",1,"tw-container","mx-auto"]],template:function(p,C){1&p&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(le){return C.mobRoute(le.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.k0s()()()(),e.j41(21,"ul",9),e.nI1(22,"translate"),e.j41(23,"li",10)(24,"button",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"li",10)(28,"button",12),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"li",10)(32,"button",13),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.bVm(),e.k0s(),e.j41(35,"div",14),e.nrm(36,"router-outlet"),e.k0s()),2&p&&(e.Y8G("title",null==C.identityResource?null:C.identityResource.name)("crumbs",e.eq3(38,M1,e.l_i(35,rp,e.bMT(1,15,"IdentityResources.Title"),e.bMT(2,17,"/identityresources"))))("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,19,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,21,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,23,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,25,"Nav.Claims")),e.R7$(3),e.JRh("Nav.Properties | translate"),e.R7$(),e.BMQ("aria-label",e.bMT(22,27,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(40,O1)),e.R7$(),e.JRh(e.bMT(26,29,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(41,O1)),e.R7$(),e.JRh(e.bMT(30,31,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(42,O1)),e.R7$(),e.JRh(e.bMT(34,33,"Nav.Properties")))},dependencies:[at.n3,Se.Wk,Se.wQ,ft.xH,ft.y7,iu.z,Hi.D9,se.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var Ym=l(8412);const x1=["ClaimPicker"],yh=["tabs"],zm=["addProtectedModal"],fb=()=>({animated:!1,backdrop:"static"});function mb(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function $v(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"ProtectedResources.AssignClaims")))}function Gv(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const a=e.XpG();e.Y8G("disabled",a.protectedResourceForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function gb(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}let _b=(()=>{class h{constructor(a,p,C,x,le,ke,tt){this.claimTypesService=a,this.errorService=p,this.protectedResourceService=C,this.translate=x,this.fb=le,this.toastr=ke,this.titleService=tt,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.resourceSecrets=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.bkB}keydown(a){"Enter"===a.key&&this.protectedResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:a=>{this.availableClaims=a,this.allAvailableClaims=a},error:a=>{this.errorService.handleError(a)}}),this.protectedResourceForm=this.fb.group({name:["",[ft.k0.required,ft.k0.pattern(/^\S*$/)]],displayName:["",ft.k0.required],description:["",ft.k0.maxLength(1e3)]})}ngAfterViewInit(){this.handleClaims()}handleClaims(){this.claimPicker.assignedStream.subscribe(a=>{this.availableClaims=(0,gr.Yt)(this.availableClaims.slice(),a);const p=this.assignedClaims.slice();this.assignedClaims=p.concat(a)}),this.claimPicker.unAssignedStream.subscribe(a=>{const p=this.availableClaims;this.assignedClaims=(0,gr.Yt)(this.assignedClaims.slice(),a),this.availableClaims=p.concat(a)})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const a=(0,ip.kH)(this.assignedClaims,function(C){return C.name}),p=Object.assign(this.protectedResourceForm.value,{allowedClaims:a},{resourceSecrets:this.resourceSecrets});this.protectedResourceService.addResource(p).subscribe(C=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.onSubmit.emit(),this.resetWizard(),this.hide()},C=>{this.errorService.handleError(C)})}resetWizard(){this.protectedResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.resourceSecrets=[],this.availableClaims=this.allAvailableClaims}hide(){this.addProtectedModal.hide()}show(){this.addProtectedModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(su.X),e.rXU(Ac.I),e.rXU(gl.x),e.rXU(Hi.c$),e.rXU(ft.ze),e.rXU(Ge.tw),e.rXU(Ta.hE))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-add-protectedresource"]],viewQuery:function(p,C){if(1&p&&(e.GBs(x1,7),e.GBs(yh,7),e.GBs(zm,7)),2&p){let x;e.mGM(x=e.lsd())&&(C.claimPicker=x.first),e.mGM(x=e.lsd())&&(C.tabComponent=x.first),e.mGM(x=e.lsd())&&(C.addProtectedModal=x.first)}},hostBindings:function(p,C){1&p&&e.bIt("keydown",function(le){return C.keydown(le)},!1,e.EBC)},outputs:{onSubmit:"onSubmit"},standalone:!1,decls:45,vars:34,consts:[["addProtectedModal","bs-modal"],["progressBar",""],["tabs",""],["ClaimPicker",""],["bsModal","","id","addProtectedModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",9),e.bIt("click",function(){return e.eBV(x),e.Njj(C.hide())}),e.nrm(9,"span",10),e.j41(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",12),e.nrm(14,"div",13,1),e.k0s(),e.j41(16,"div",14)(17,"div",15),e.DNE(18,mb,3,3,"p",16)(19,$v,3,3,"p",16),e.k0s(),e.j41(20,"tabset",17,2)(22,"tab")(23,"form",18)(24,"app-form-row",19),e.nrm(25,"input",20),e.k0s(),e.j41(26,"app-form-row",19),e.nrm(27,"input",21),e.k0s(),e.j41(28,"app-form-row",19)(29,"textarea",22),e.bIt("focus",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)})("blur",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)}),e.k0s()()()(),e.j41(30,"tab"),e.nrm(31,"app-common-picker",23,3),e.k0s()()(),e.nrm(33,"div",24),e.j41(34,"div",25)(35,"div",26)(36,"div",27),e.DNE(37,Gv,3,4,"button",28)(38,gb,3,3,"button",29),e.j41(39,"button",30),e.bIt("click",function(){return e.eBV(x),e.Njj(C.previousTab())}),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"button",31),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.EFF(43),e.nI1(44,"translate"),e.k0s()()()()()()}2&p&&(e.Y8G("config",e.lJ4(33,fb)),e.R7$(6),e.JRh(e.bMT(7,25,"ProtectedResources.Create")),e.R7$(5),e.JRh(e.bMT(12,27,"Common.Close")),e.R7$(3),e.xc7("width",C.progressPercent+"%"),e.R7$(4),e.Y8G("ngIf",C.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",C.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",C.protectedResourceForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(3),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",C.tabIndex<C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",C.tabIndex==C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==C.tabIndex),e.R7$(),e.JRh(e.bMT(41,29,"Common.Back")),e.R7$(3),e.JRh(e.bMT(44,31,"Common.Cancel")))},dependencies:[A.bT,ft.qT,ft.me,ft.BC,ft.cb,ft.tU,ft.j4,ft.JD,tc.V6,tc.fw,nc.f,bd.hZ,Sd.Y,Hi.D9],encapsulation:2})}}return h})();function vb(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",13)(1,"label",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",15),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG(2);return e.DH7(x.pageSize,C)||(x.pageSize=C),e.Njj(C)}),e.bIt("change",function(){e.eBV(a);const C=e.XpG(2);return e.Njj(C.setPageLength(+C.pageSize))}),e.j41(5,"option",16),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",17),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&h){const a=e.XpG(2);e.R7$(2),e.Lme("",a.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",a.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function ap(h,b){if(1&h){const a=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.DNE(2,vb,14,14,"div",10),e.bVm(),e.qex(3,11),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(a),e.XpG();const C=e.sdS(3);return e.Njj(C.show())}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&h){const a=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==a.pagedResult?null:a.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Resources.AddResource")," ")}}function yb(h,b){1&h&&e.nrm(0,"app-simple-loader")}function Hv(h,b){1&h&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"ProtectedResources.NoneFound")))}function Kv(h,b){1&h&&(e.j41(0,"span",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function pf(h,b){1&h&&(e.nrm(0,"span",36),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.View")))}function k1(h,b){1&h&&(e.nrm(0,"span",37),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Edit")))}function P1(h,b){if(1&h){const a=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",30),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(5),e.k0s(),e.j41(6,"td",31),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.EFF(7),e.k0s(),e.j41(8,"td",32),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(9,Kv,3,3,"span",33),e.k0s(),e.j41(10,"td",32),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.j41(11,"button",34),e.bIt("click",function(){const C=e.eBV(a).$implicit,x=e.XpG(2);return e.Njj(x.navigate(C,C.id))}),e.DNE(12,pf,4,3)(13,k1,4,3),e.k0s()()()}if(2&h){const a=b.$implicit,p=e.XpG(2);e.AVh("inactive",!a.enabled||(null==a?null:a.nonEditable)),e.R7$(2),e.AVh("tw-text-blue-500",!a.nonEditable),e.R7$(),e.JRh(a.displayName),e.R7$(2),e.SpI(" ",a.name," "),e.R7$(2),e.SpI(" ",a.description," "),e.R7$(2),e.Y8G("ngIf",a.nonEditable),e.R7$(3),e.vxM(p.resourceIsReadOnly(a)?12:13)}}function F1(h,b){if(1&h&&(e.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",24)(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",24)(17,"span",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",26),e.DNE(21,P1,14,9,"tr",27),e.k0s()()),2&h){const a=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.ID")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",a.pagedResult.results)}}function bh(h,b){if(1&h){const a=e.RV6();e.j41(0,"app-pager",38),e.bIt("onGoToPage",function(C){e.eBV(a);const x=e.XpG();return e.Njj(x.goToPage(C))}),e.k0s()}if(2&h){const a=e.XpG();e.Y8G("totalResults",null==a.pagedResult?null:a.pagedResult.totalCount)("currentPage",a.page)("lastPage",null==a.pagedResult?null:a.pagedResult.pageCount)}}let B1=(()=>{class h extends $m.u{constructor(a,p,C,x,le,ke,tt,Ct,Lt){super(tt,le,!0,Lt,Ct,ke),this.protectedResourcesService=a,this.errorService=p,this.localize=C,this.titleService=x,this.translate=le,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new yo.B,this.pageSizeStream=new yo.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(a){return this.term=a,this.page=1,{searchTerm:a,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ProtectedResources")+` - ${nr.$9.SITE_TITLE}`);const a=this.pageStream.pipe((0,Ya.T)(x=>(this.page=x,{searchTerm:this.term,page:x,pageSize:this.pageSize}))),p=this.pageSizeStream.pipe((0,Ya.T)(x=>(this.pageSize=x,{searchTerm:this.term,page:this.page,pageSize:x})));a.pipe((0,Ym.X)(p),(0,Ym.X)(this.searchSource),(0,Ym.X)(this.enterKeySource),(0,bp.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,jm.Z)(x=>(this.isLoading=!0,this.protectedResourcesService.getResourcesPaginated(x.searchTerm,x.page,x.pageSize).pipe((0,Dh.c)(200))))).subscribe({next:x=>{this.pagedResult=x,this.isLoading=!1},error:x=>{this.errorService.handleError(x),this.isLoading=!1}})}goToPage(a){this.pageStream.next(a)}setPageLength(a){this.page=1,this.pageSizeStream.next(a)}refreshList(){this.ngOnInit()}resourceIsReadOnly(a){return!this.hasEditPermission||a.nonEditable}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(gl.x),e.rXU(Ac.I),e.rXU(se.QG),e.rXU(Ta.hE),e.rXU(Hi.c$),e.rXU(at.Ix),e.rXU(Ge.tw),e.rXU(It.i),e.rXU(at.nX))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,features:[e.Vt3],decls:12,vars:12,consts:[["listProtectedResourcesModal",""],[3,"title"],[3,"onSubmit"],["id","protectedResourcesList",1,"tw-container","tw-mx-auto"],[3,"searchTermChange","onSearch","searchTerm","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],[1,"tw-pill"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(p,C){if(1&p){const x=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-protectedresource",2,0),e.bIt("onSubmit",function(){return e.eBV(x),e.Njj(C.refreshList())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.mxI("searchTermChange",function(ke){return e.eBV(x),e.DH7(C.searchTerm,ke)||(C.searchTerm=ke),e.Njj(ke)}),e.bIt("onSearch",function(ke){return e.eBV(x),e.Njj(C.search(ke))}),e.k0s(),e.DNE(7,ap,7,4,"app-action-bar",5)(8,yb,1,0,"app-simple-loader",5)(9,Hv,4,3,"div",6)(10,F1,22,16,"table",7)(11,bh,1,3,"app-pager",8),e.k0s()}2&p&&(e.Y8G("title",e.bMT(1,8,"ProtectedResources.TitlePlural")),e.R7$(5),e.R50("searchTerm",C.searchTerm),e.Y8G("placeholder",e.bMT(6,10,"Resources.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!C.isLoading&&C.hasEditPermission),e.R7$(),e.Y8G("ngIf",C.isLoading),e.R7$(),e.Y8G("ngIf",(!C.pagedResult||C.pagedResult.results.length<=0)&&!C.isLoading),e.R7$(),e.Y8G("ngIf",C.pagedResult&&C.pagedResult.results.length>0&&!C.isLoading),e.R7$(),e.Y8G("ngIf",(null==C.pagedResult?null:C.pagedResult.results.length)>0&&!C.isLoading))},dependencies:[A.Sq,A.bT,ft.xH,ft.y7,ft.wz,ft.BC,ft.vS,iu.z,Cd.B,Gm.n,Hm.S,wo.d,_b,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();const Xm=(h,b)=>({title:h,link:b}),ff=h=>[h],op=()=>["active"];function Wv(h,b){1&h&&(e.j41(0,"div",19),e.nrm(1,"router-outlet"),e.k0s())}function V1(){return Object.assign(new ec.P0,{closeOthers:!0})}let bb=(()=>{class h{constructor(a,p,C,x,le,ke,tt,Ct){this.fb=a,this.route=p,this.router=C,this.titleService=x,this.protectedResourceService=le,this.claimTypesService=ke,this.translate=tt,this.scopesClaimService=Ct}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(a=>{this.protectedResource=a;const p=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+nr.$9.SITE_TITLE;this.titleService.setTitle(p)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:a=>{this.scopesClaimService.setClaimTypes(a)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(a){this.router.navigate([a],{relativeTo:this.route})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(ft.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(Ta.hE),e.rXU(gl.x),e.rXU(su.X),e.rXU(Hi.c$),e.rXU(ru.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-edit-protectedresource"]],standalone:!1,features:[e.Jv_([{provide:ec.P0,useFactory:V1}])],decls:51,vars:62,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],["id","editProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(p,C){1&p&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(le){return C.mobRoute(le.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"option",9),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"option",10),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.j41(28,"ul",11),e.nI1(29,"translate"),e.j41(30,"li",12)(31,"button",13),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"li",12)(35,"button",14),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.j41(38,"li",12)(39,"button",15),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"li",12)(43,"button",16),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"li",12)(47,"button",17),e.EFF(48),e.nI1(49,"translate"),e.k0s()()(),e.bVm(),e.k0s(),e.DNE(50,Wv,2,0,"div",18)),2&p&&(e.Y8G("title",null==C.protectedResource?null:C.protectedResource.name)("crumbs",e.eq3(55,ff,e.l_i(52,Xm,e.bMT(1,22,"ProtectedResources.Title"),e.bMT(2,24,"/protectedresources"))))("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,26,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,28,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,30,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,32,"Nav.Scopes")),e.R7$(3),e.JRh(e.bMT(21,34,"Nav.Claims")),e.R7$(3),e.JRh(e.bMT(24,36,"Nav.Secrets")),e.R7$(3),e.JRh(e.bMT(27,38,"Nav.Properties")),e.R7$(2),e.BMQ("aria-label",e.bMT(29,40,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(57,op)),e.R7$(),e.JRh(e.bMT(33,42,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(58,op)),e.R7$(),e.JRh(e.bMT(37,44,"Nav.Scopes")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(59,op)),e.R7$(),e.JRh(e.bMT(41,46,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(60,op)),e.R7$(),e.JRh(e.bMT(45,48,"Nav.Secrets")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(61,op)),e.R7$(),e.JRh(e.bMT(49,50,"Nav.Properties")),e.R7$(2),e.Y8G("ngIf",C.protectedResource))},dependencies:[A.bT,at.n3,Se.Wk,Se.wQ,ft.xH,ft.y7,iu.z,Hi.D9,se.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var L1=l(467),Yv=l(9350);function lp(h,b){const a="object"==typeof b;return new Promise((p,C)=>{let le,x=!1;h.subscribe({next:ke=>{le=ke,x=!0},error:C,complete:()=>{x?p(le):a?p(b.defaultValue):C(new Yv.G)}})})}var Ed=l(6303),Jm=l(6411),mf=l(7499),zv=l(6728),cp=l(6406),Ch=l(9550),Qm=l(8762),U1=l(7778),Zm=l(4692);const qm=h=>[h];let U=(()=>{class h extends Jm.A{get ReadOnlyFieldType(){return Ed.t}constructor(a,p,C,x,le,ke,tt,Ct,Lt){super(Lt),this.fb=a,this.route=p,this.router=C,this.titleService=x,this.identityResourceService=le,this.toastr=ke,this.translate=tt,this.localize=Ct}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(a=>{this.identityResource=a,this.buildForm(),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${nr.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}get unsavedChanges(){return!this.identityResourceForm.pristine}onDeactivate(){}buildForm(){this.identityResourceForm=this.fb.group({id:[this.identityResource.id],name:[this.identityResource.name,ft.k0.required],displayName:[this.identityResource.displayName,ft.k0.required],description:[this.identityResource.description,[ft.k0.required,ft.k0.maxLength(1e3)]],showInDiscoveryDocument:[this.identityResource.showInDiscoveryDocument],emphasize:[this.identityResource.emphasize],required:[this.identityResource.required],enabled:[this.identityResource.enabled]})}submit(){var a=this;return(0,L1.A)(function*(){const p=Object.assign(a.identityResourceForm.value,{allowedClaims:a.identityResource.allowedClaims});try{yield lp(a.identityResourceService.deleteIdentityResource(a.identityResource.id)),a.identityResourceForm.markAsPristine(),a.identityResource=p,a.identityResourceService.getCachedIdentityResource().next(p),a.toastr.success(a.translate.instant("IdentityResources.UpdatedResource"),a.translate.instant("Notifications.Success"))}catch{a.toastr.error(a.translate.instant("Resources.UpdateResource"),a.translate.instant("Notifications.Failed"))}})()}delete(){var a=this;return(0,L1.A)(function*(){try{yield lp(a.identityResourceService.deleteIdentityResource(a.identityResource.id)),a.toastr.success(a.translate.instant("Resources.RemovedResource"),a.translate.instant("Notifications.Success"));const C=a.localize.translateRoute("/identityresources");a.router.navigate([C])}catch{a.toastr.error(a.translate.instant("Resources.RemovedResource"),a.translate.instant("Notifications.Failed"))}})()}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(ft.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(Ta.hE),e.rXU(nu.A),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(se.QG),e.rXU(mf.o))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-identityresource-details"]],standalone:!1,features:[e.Vt3],decls:31,vars:41,consts:[["deleteIdentityResource",""],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["id","displayNameInput","name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","Required","formControlName","required","type","checkbox",1,"tw-form-switch__input"],["id","showInDiscoveryDocument","formControlName","showInDiscoveryDocument","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","emphasize","formControlName","emphasize","type","checkbox",1,"tw-form-switch__input"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"form",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-readonly",6),e.nI1(6,"readOnlyValue"),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"input",7),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"textarea",8),e.k0s(),e.j41(11,"app-form-row",5)(12,"app-form-toggle",9),e.nrm(13,"input",10),e.k0s()(),e.j41(14,"app-form-row",5)(15,"app-form-toggle",9),e.nrm(16,"input",11),e.k0s()(),e.j41(17,"app-form-row",12)(18,"app-form-toggle",9),e.nrm(19,"input",13),e.k0s()()(),e.j41(20,"app-button-bar")(21,"button",14),e.bIt("click",function(){return e.eBV(x),e.Njj(C.submit())}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.qex(24,15),e.j41(25,"button",16),e.bIt("click",function(){e.eBV(x);const ke=e.sdS(29);return e.Njj(ke.show())}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(28,"app-delete-confirmation-modal",17,0),e.bIt("delete",function(){return e.eBV(x),e.Njj(C.delete())}),e.k0s(),e.nrm(30,"app-can-deactivate")}2&p&&(e.Y8G("formGroup",C.identityResourceForm),e.R7$(),e.Y8G("id","Status")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Status")("isTraffic",!0),e.R7$(2),e.Y8G("id","ResourceID")("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.R7$(),e.Y8G("fieldType",C.ReadOnlyFieldType.Single)("values",e.eq3(39,qm,e.bMT(6,33,C.identityResource.id))),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(2),e.Y8G("id","Required")("label","Common.Required")("help","IdentityResources.ConsentResource"),e.R7$(),e.Y8G("id","Required"),e.R7$(2),e.Y8G("id","showInDiscoveryDocument")("label","IdentityResources.ShowInDiscoveryDocument")("help","IdentityResources.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("id","showInDiscoveryDocument"),e.R7$(2),e.Y8G("id","emphasize")("label","Common.Emphasize")("help","IdentityResources.ConsentScreen")("isLast",!0),e.R7$(),e.Y8G("id","emphasize"),e.R7$(3),e.Y8G("disabled",C.identityResourceForm.pristine),e.R7$(),e.SpI(" ",e.bMT(23,35,"Common.Save")," "),e.R7$(4),e.SpI(" ",e.bMT(27,37,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("resourceName",null==C.identityResource?null:C.identityResource.displayName))},dependencies:[ft.qT,ft.me,ft.Zm,ft.BC,ft.cb,ft.YS,ft.j4,ft.JD,zv.E,cp.z,Sd.Y,Ch.m,Qm.O,U1.w,Hi.D9,Zm.u],encapsulation:2})}}return h})();var H=l(140);class d{}const T=["ClaimsPicker"];let $=(()=>{class h{constructor(a,p,C,x,le){this.titleService=a,this.identityResourceService=p,this.scopeClaimService=C,this.toastr=x,this.translate=le,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().pipe((0,H.v)(this.scopeClaimService.cachedClaimTypes$),(0,Ya.T)(([a,p])=>({resource:a,claimTypes:p})),(0,qi.$)()).subscribe({next:a=>{this.identityResource=a.resource,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${nr.$9.SITE_TITLE}`),this.originalClaims=a.claimTypes.slice(),this.identityResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(a.claimTypes):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(a.claimTypes)}})}convertOriginalClaimTypesToPickerClaimTypes(a){let p=[];return a.map(C=>{const x=new d;x.name=C.displayName?C.displayName:C.name,p.push(x)}),p}convertPickerClaimsToClaim(a){let p=[];return a.map(C=>{p.push(this.originalClaims.find(x=>x.displayName===C.name||x.name===C.name))}),p}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(a=>{this.toSendClaims=this.assignedClaims.concat(a),this.submit().then(p=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,gr.Yt)(this.availableClaims.slice(),a)})}),this.claimsPicker.unAssignedStream.subscribe(a=>{this.toSendClaims=(0,gr.Yt)(this.assignedClaims,a),this.submit().then(p=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(a)})})}submit(){const a=(0,ip.kH)(this.convertPickerClaimsToClaim(this.toSendClaims),function(C){return C.name}),p=Object.assign(this.identityResource,{allowedClaims:a});return this.identityResourceService.updateResource(p).toPromise().then(C=>{this.identityResource=p,this.identityResourceService.getCachedIdentityResource().next(p),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(a){let p=[],C=a.filter(x=>(p.push(x),this.identityResource.allowedClaims.some(le=>le===x.name)));p=(0,gr.Yt)(p,C),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(p),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(C)}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ta.hE),e.rXU(nu.A),e.rXU(ru.N),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-identity-resource-claims"]],viewQuery:function(p,C){if(1&p&&e.GBs(T,7),2&p){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first)}},standalone:!1,decls:6,vars:5,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput"]],template:function(p,C){1&p&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&p&&(e.R7$(2),e.JRh(e.bMT(3,3,"IdentityResources.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims))},dependencies:[nc.f,Hi.D9],encapsulation:2})}}return h})();var _e=l(7830);const xe=h=>[h];let ze=(()=>{class h extends Jm.A{get ReadOnlyFieldType(){return Ed.t}constructor(a,p,C,x,le,ke,tt){super(tt),this.protectedResourceService=a,this.fb=p,this.toastr=C,this.translate=x,this.router=le,this.localize=ke}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(a=>{this.protectedResource=a,this.buildForm()})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}get unsavedChanges(){return!this.protectedResourceForm.pristine}onDeactivate(){}buildForm(){const a={id:[this.protectedResource.id],name:[this.protectedResource.name,ft.k0.required],displayName:[this.protectedResource.displayName,ft.k0.required],description:[this.protectedResource.description,[ft.k0.maxLength(1e3)]],enabled:[this.protectedResource.enabled],allowedAccessTokenSigningAlgorithms:[this.protectedResource.allowedAccessTokenSigningAlgorithms]};a.requireResourceIndicator=[this.protectedResource.requireResourceIndicator],this.protectedResourceForm=this.fb.group(a)}submit(){const a={...this.protectedResourceForm.value,allowedClaims:this.protectedResource.allowedClaims,secrets:this.protectedResource.secrets,scopes:this.protectedResource.scopes,properties:this.protectedResource.properties};this.protectedResourceService.updateResource(a).subscribe({next:p=>{this.protectedResourceForm.markAsPristine(),this.protectedResource=a,this.protectedResourceService.getCachedProtectedResource().next(a),this.toastr.success(this.translate.instant("Resources.UpdatedSuccess"),this.translate.instant("Notifications.Success"))},error:p=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}delete(){var a=this;return(0,L1.A)(function*(){try{yield lp(a.protectedResourceService.deleteProtectedResource(a.protectedResource.id));const C=a.localize.translateRoute("/protectedresources");a.router.navigate([C]),a.toastr.success(a.translate.instant("Resources.RemovedResource"),a.translate.instant("Notifications.Success"))}catch{a.toastr.error("Removed Resource","Failed!")}})()}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(gl.x),e.rXU(ft.ze),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(at.Ix),e.rXU(se.QG),e.rXU(mf.o))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-details"]],standalone:!1,features:[e.Vt3],decls:27,vars:37,consts:[["deleteProtectedResource",""],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","requireResourceIndicatorInput","type","checkbox","name","requireResourceIndicator","formControlName","requireResourceIndicator",1,"tw-form-switch__input"],[3,"id","label","isLast"],[3,"form","algorithmControlName"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"form",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-readonly",6),e.nI1(6,"readOnlyValue"),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"input",7),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"textarea",8),e.k0s(),e.j41(11,"app-form-row",5)(12,"app-form-toggle",9),e.nrm(13,"input",10),e.k0s()(),e.j41(14,"app-form-row",11),e.nrm(15,"app-signing-algorithm-picker",12),e.k0s()(),e.j41(16,"app-button-bar")(17,"button",13),e.bIt("click",function(){return e.eBV(x),e.Njj(C.submit())}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.qex(20,14),e.j41(21,"button",15),e.bIt("click",function(){e.eBV(x);const ke=e.sdS(25);return e.Njj(ke.show())}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(24,"app-delete-confirmation-modal",16,0),e.bIt("delete",function(){return e.eBV(x),e.Njj(C.delete())}),e.k0s(),e.nrm(26,"app-can-deactivate")}2&p&&(e.Y8G("formGroup",C.protectedResourceForm),e.R7$(),e.Y8G("id","Status")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Status")("isTraffic",!0),e.R7$(2),e.Y8G("id","ResourceID")("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.R7$(),e.Y8G("fieldType",C.ReadOnlyFieldType.Single)("values",e.eq3(35,xe,e.bMT(6,29,C.protectedResource.id))),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","Resources.ResourceName"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.ResourceDescription"),e.R7$(2),e.Y8G("id","requireResourceIndicatorInput")("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.R7$(),e.Y8G("id","requireResourceIndicatorInput"),e.R7$(2),e.Y8G("id","allowedAccessTokenSigningAlgorithms")("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.R7$(),e.Y8G("form",C.protectedResourceForm)("algorithmControlName","allowedAccessTokenSigningAlgorithms"),e.R7$(2),e.Y8G("disabled",!(C.protectedResourceForm.dirty&&C.protectedResourceForm.valid)),e.R7$(),e.SpI(" ",e.bMT(19,31,"Common.Save")," "),e.R7$(4),e.SpI(" ",e.bMT(23,33,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("resourceName",null==C.protectedResource?null:C.protectedResource.displayName))},dependencies:[ft.qT,ft.me,ft.Zm,ft.BC,ft.cb,ft.j4,ft.JD,zv.E,cp.z,Sd.Y,Ch.m,_e.Q,Qm.O,U1.w,Hi.D9,Zm.u],encapsulation:2})}}return h})();var nt=l(8359),bt=l(632),Gt=l(6520);const qt=["ClaimPicker"],An=["tabs"];let hn=(()=>{class h{set scope(a){this._scope=a||new bt.H}get scope(){return this._scope}constructor(a,p,C,x,le){this.fb=a,this.claimsService=p,this.translate=C,this.dialogService=x,this.scopesClaimService=le,this._scope=new bt.H,this.isEdit=!0,this.submit=new e.bkB,this.delete=new e.bkB,this.availableClaims=[],this.assignedClaims=[],this.properties=[]}ngOnInit(){this.buildForm(),this.scopesClaimService.cachedClaimTypes$.subscribe(a=>{const p=a.slice();this.scope.userClaims.length>0?this.sortClaims(p):this.availableClaims=p}),this.properties=this.scope.properties}buildForm(){this.scopeForm=this.fb.group({id:[this.scope.id],name:[this.scope.name,ft.k0.required],displayName:[this.scope.displayName,ft.k0.required],description:[this.scope.description,[ft.k0.required,ft.k0.maxLength(1e3)]],showInDiscoveryDocument:[this.scope.showInDiscoveryDocument],emphasize:[this.scope.emphasize],required:[this.scope.required],enabled:[this.scope.enabled]})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(a=>{this.assignClaims(a)}),this.claimsPicker.unAssignedStream.subscribe(a=>{this.unassignClaims(a)})}unassignClaims(a){const p=a.map(ke=>ke.name),C=this.assignedClaims.map(ke=>ke.name),x=(0,ip.R9)(C,p),le=Object.assign(this.scopeForm.value,{userClaims:x});this.submit.emit(le)}assignClaims(a){const p=[...this.assignedClaims,...a].map(x=>x.name),C={...this.scopeForm.value,userClaims:p};this.submit.emit(C)}submitForm(){const a=this.assignedClaims.map(C=>C.name),p=Object.assign(this.scopeForm.value,{userClaims:a},{properties:this.properties});this.submit.emit(p)}deleteScope(){this.delete.emit(this.scope)}sortClaims(a){const p=[];this.scope.userClaims.forEach(C=>{a.forEach((x,le)=>{x.name===C&&(a.splice(le,1),p.push(x))})}),this.availableClaims=a,this.assignedClaims=p}onPropertiesChanged(a){this.properties=a}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(ft.ze),e.rXU(su.X),e.rXU(Hi.c$),e.rXU(mf.o),e.rXU(ru.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-api-scope"]],viewQuery:function(p,C){if(1&p&&(e.GBs(qt,7),e.GBs(An,7)),2&p){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first),e.mGM(x=e.lsd())&&(C.tabsComponent=x.first)}},inputs:{scope:"scope",isEdit:"isEdit"},outputs:{submit:"submit",delete:"delete"},standalone:!1,decls:37,vars:55,consts:[["tabs",""],["ClaimPicker",""],[3,"heading"],[1,"tw-pt-5",3,"formGroup"],[3,"id","label","help"],["type","text","readonly","",1,"tw-form-control",3,"id","value"],["name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control",3,"id"],["name","descriptionInput","type","text","formControlName","description","required","",1,"tw-form-control",3,"id"],[3,"id"],["type","checkbox","formControlName","required",1,"tw-form-switch__input",3,"id"],["type","checkbox","formControlName","showInDiscoveryDocument",1,"tw-form-switch__input",3,"id"],[3,"id","label","help","isLast"],["type","checkbox","formControlName","emphasize",1,"tw-form-switch__input",3,"id"],[1,"tw-flex","tw-items-center","tw-border-t","tw-border-grey-300","tw-mt-20","tw-pt-5"],[1,"tw-btn-success",3,"click"],["data-toggle","modal","id","deleteBtn",1,"tw-btn-danger","tw-ml-auto",3,"click"],[1,"cms","tw-pt-5"],[3,"assignedInput","availableInput","availableSearch"],["id","propertiesEditor",3,"propertiesChanged","modalId","properties"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"tabset",null,0)(2,"tab",2),e.nI1(3,"translate"),e.j41(4,"div")(5,"form",3)(6,"app-form-row",4),e.nrm(7,"input",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"input",6),e.k0s(),e.j41(10,"app-form-row",4),e.nrm(11,"textarea",7),e.k0s(),e.j41(12,"app-form-row",4)(13,"app-form-toggle",8),e.nrm(14,"input",9),e.k0s()(),e.j41(15,"app-form-row",4)(16,"app-form-toggle",8),e.nrm(17,"input",10),e.k0s()(),e.j41(18,"app-form-row",11)(19,"app-form-toggle",8),e.nrm(20,"input",12),e.k0s()()(),e.j41(21,"div",13)(22,"button",14),e.bIt("click",function(){return e.eBV(x),e.Njj(C.submitForm())}),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"button",15),e.bIt("click",function(){return e.eBV(x),e.Njj(C.deleteScope())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.j41(28,"tab",2)(29,"div",16)(30,"p"),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.nrm(33,"app-common-picker",17,1),e.k0s(),e.j41(35,"tab",2)(36,"app-properties-editor",18),e.bIt("propertiesChanged",function(ke){return e.eBV(x),e.Njj(C.onPropertiesChanged(ke))}),e.k0s()()()}2&p&&(e.R7$(2),e.Y8G("heading",e.bMT(3,47,"Nav.Details")),e.R7$(3),e.Y8G("formGroup",C.scopeForm),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Id")("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Id"),e.Y8G("value",C.scope.name),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Name")("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Name"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Description")("label","Common.Description")("help","Resources.Scope.Description"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Description"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Required")("label","Common.Required")("help","Resources.Scope.Consent"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Required"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Required"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Discovery")("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Discovery"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Discovery"),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Emphasise")("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.R7$(),e.Y8G("id","scope"+C.scope.id+"Emphasise"),e.R7$(),e.Mz_("id","scope",C.scope.id,"Emphasise"),e.R7$(3),e.JRh(e.bMT(24,49,"Common.Save")),e.R7$(3),e.JRh(e.bMT(27,51,"Common.Remove.Title")),e.R7$(2),e.Y8G("heading","Claims"),e.R7$(3),e.JRh(e.bMT(32,53,"Resources.Scope.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(2),e.Y8G("heading","Properties"),e.R7$(),e.Y8G("modalId",C.scope.id)("properties",C.scope.properties))},dependencies:[nc.f,ft.qT,ft.me,ft.Zm,ft.BC,ft.cb,ft.YS,ft.j4,ft.JD,tc.V6,tc.fw,Sd.Y,Ch.m,Gt.C,Hi.D9],encapsulation:2,changeDetection:0})}}return h})();const di=["ClaimPicker"],Pi=["tabs"];function wi(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function ui(h,b){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.AssignClaims")))}function gs(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&h){const a=e.XpG();e.Y8G("disabled",a.scopeForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function pi(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.addScope())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}let Fi=(()=>{class h{constructor(a,p,C,x,le,ke,tt){this.fb=a,this.claimsService=p,this.protectedResourceService=C,this.toastr=x,this.translate=le,this.scopesClaimService=ke,this.errorService=tt,this.submitConfirmed=new e.bkB,this.cancelOut=new e.bkB,this.scope=new bt.H,this.allAvaliableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1}keydown(a){"Enter"===a.key&&this.scopeForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.scopeForm=this.fb.group({name:[this.scope.name,[ft.k0.required,ft.k0.pattern(/^\S*$/)]],displayName:[this.scope.displayName,ft.k0.required],description:[this.scope.description,[ft.k0.required,ft.k0.maxLength(1e3)]],showInDiscoveryDocument:[!0],emphasize:[!1],required:[!1]}),this.claimsSubscription=this.scopesClaimService.cachedClaimTypes$.subscribe(a=>{const p=a.slice();this.scope.userClaims.length>0?this.sortClaims(p):(this.availableClaims=p,this.allAvaliableClaims=p)})}ngOnDestroy(){this.claimsSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(a=>{this.availableClaims=(0,gr.Yt)(this.availableClaims.slice(),a);const p=this.assignedClaims.slice();this.assignedClaims=p.concat(a)}),this.claimsPicker.unAssignedStream.subscribe(a=>{const p=this.availableClaims;this.assignedClaims=(0,gr.Yt)(this.assignedClaims.slice(),a),this.availableClaims=p.concat(a)})}sortClaims(a){const p=[];this.scope.userClaims.forEach(C=>{a.forEach((x,le)=>{x.name===C&&(a.splice(le,1),p.push(x))})}),this.availableClaims=a,this.assignedClaims=p}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.cancelOut.emit(!0)}addScope(){const a=(0,ip.kH)(this.assignedClaims,C=>C.name),p=Object.assign(this.scopeForm.value,{userClaims:a});this.protectedResourceService.addResourceScope(this.resource.id,p).subscribe(C=>{this.submitConfirmed.emit(),this.resetWizard(),this.toastr.success(this.translate.instant("Resources.Scope.ScopeAdded"),this.translate.instant("Notifications.Success"))},C=>{this.errorService.handleError(C)})}resetWizard(){this.scopeForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvaliableClaims,this.scopeForm.controls.showInDiscoveryDocument.setValue(!0),this.scopeForm.controls.emphasize.setValue(!1),this.scopeForm.controls.required.setValue(!1)}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(ft.ze),e.rXU(su.X),e.rXU(gl.x),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(ru.N),e.rXU(Ac.I))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-add-protectedresource-scope"]],viewQuery:function(p,C){if(1&p&&(e.GBs(di,7),e.GBs(Pi,7)),2&p){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first),e.mGM(x=e.lsd())&&(C.tabComponent=x.first)}},hostBindings:function(p,C){1&p&&e.bIt("keydown",function(le){return C.keydown(le)},!1,e.EBC)},inputs:{resource:"resource"},outputs:{submitConfirmed:"submitConfirmed",cancelOut:"cancelOut"},standalone:!1,decls:43,vars:34,consts:[["progressBar",""],["tabs",""],["ClaimPicker",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["data-dismiss","modal","class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["data-dismiss","modal","id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h5",6),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"button",7),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.nrm(7,"span",8),e.j41(8,"span",9),e.EFF(9),e.nI1(10,"translate"),e.k0s()()(),e.j41(11,"div",10),e.nrm(12,"div",11,0),e.k0s(),e.j41(14,"div",12)(15,"div",13),e.DNE(16,wi,3,3,"p",14)(17,ui,3,3,"p",14),e.k0s(),e.j41(18,"tabset",15,1)(20,"tab")(21,"form",16)(22,"app-form-row",17),e.nrm(23,"input",18),e.k0s(),e.j41(24,"app-form-row",17),e.nrm(25,"input",19),e.k0s(),e.j41(26,"app-form-row",20)(27,"textarea",21),e.bIt("focus",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)})("blur",function(){return e.eBV(x),e.Njj(C.descFocus=!C.descFocus)}),e.k0s()()()(),e.j41(28,"tab"),e.nrm(29,"app-common-picker",22,2),e.k0s()()(),e.nrm(31,"div",23),e.j41(32,"div",24)(33,"div",25)(34,"div",26),e.DNE(35,gs,3,4,"button",27)(36,pi,3,3,"button",28),e.j41(37,"button",29),e.bIt("click",function(){return e.eBV(x),e.Njj(C.previousTab())}),e.EFF(38),e.nI1(39,"translate"),e.k0s()(),e.j41(40,"button",30),e.bIt("click",function(){return e.eBV(x),e.Njj(C.cancel())}),e.EFF(41),e.nI1(42,"translate"),e.k0s()()()()()}2&p&&(e.R7$(4),e.Lme("",e.bMT(5,26,"Resources.Scope.NewScope")," ",C.resource.name,""),e.R7$(5),e.JRh(e.bMT(10,28,"Common.Close")),e.R7$(3),e.xc7("width",C.progressPercent+"%"),e.R7$(4),e.Y8G("ngIf",C.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",C.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",C.scopeForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.Scope.Description")("isLast",!0),e.R7$(3),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",C.tabIndex<C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",C.tabIndex==C.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==C.tabIndex),e.R7$(),e.JRh(e.bMT(39,30,"Common.Back")),e.R7$(3),e.JRh(e.bMT(42,32,"Common.Cancel")))},dependencies:[A.bT,ft.qT,ft.me,ft.BC,ft.cb,ft.tU,ft.j4,ft.JD,tc.V6,tc.fw,nc.f,Sd.Y,Hi.D9],encapsulation:2})}}return h})();const Oi=["createScope"],is=["addScope"],Is=["deleteScopeModal"],Cs=["scopePicker"],Ns=()=>({animated:!1,backdrop:"static"});function ra(h,b){if(1&h){const a=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.addSharedScopeShow())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"ProtectedResources.AddSharedScope")))}function Io(h,b){if(1&h&&e.nrm(0,"app-common-picker",37,3),2&h){const a=e.XpG();e.Y8G("assignedInput",a.pickerScopes.assignedScopes)("availableInput",a.pickerScopes.availableScopes)("availableSearch",!0)}}function dr(h,b){1&h&&(e.j41(0,"div",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.DisplayName")," "))}function ba(h,b){if(1&h){const a=e.RV6();e.j41(0,"accordion-group",null,4)(2,"button",39)(3,"b",40),e.EFF(4),e.k0s(),e.j41(5,"div",41),e.nrm(6,"span",42),e.k0s()(),e.j41(7,"div")(8,"app-api-scope",43),e.bIt("delete",function(C){e.eBV(a);const x=e.XpG();return e.Njj(x.deleteScopeConfirm(C))})("submit",function(C){e.eBV(a);const x=e.XpG();return e.Njj(x.submitScopeClaims(C))}),e.k0s()()()}if(2&h){const a=b.$implicit;e.R7$(4),e.JRh(a.displayName),e.R7$(4),e.Y8G("scope",a)}}function xu(h,b){if(1&h&&e.nrm(0,"app-pager",44),2&h){const a=e.XpG();e.Y8G("totalResults",null==a.protectedResource.scopes?null:a.protectedResource.scopes.length)}}function Ho(h,b){1&h&&(e.nrm(0,"p",45),e.nI1(1,"translate")),2&h&&e.Y8G("innerHTML",e.bMT(1,1,"Common.Delete.FinalScopeOnResourceWarning"),e.npT)}class up{constructor(b,a){this.availableScopes=[],this.assignedScopes=[],this.availableScopes=b,this.assignedScopes=a}}let ku=(()=>{class h{set content(a){this.pickerScopes&&(this.sharedScopePicker=a,this.pageSubscriptions.add(this.sharedScopePicker.assignedStream.subscribe(p=>{this.pickerScopes.assignedScopes.push(...p),p.forEach(C=>{let x=this.pickerScopes.availableScopes.findIndex(le=>le.name==C.name);this.pickerScopes.availableScopes.splice(x,1)})})),this.pageSubscriptions.add(this.sharedScopePicker.unAssignedStream.subscribe(p=>{this.pickerScopes.availableScopes.push(...p),p.forEach(C=>{let x=this.pickerScopes.assignedScopes.findIndex(le=>le.name==C.name);this.pickerScopes.assignedScopes.splice(x,1)})})))}constructor(a,p,C,x,le){this.protectedResourceService=a,this.fb=p,this.toastr=C,this.translate=x,this.configService=le,this.pageSubscriptions=new nt.yU}ngOnInit(){this.configService.getConfig().pipe((0,qi.$)()).subscribe(a=>{this.sharedScopesEnabled=a.featureFlagOptions.enableSharedScopes}),this.pageSubscriptions.add(this.protectedResourceService.getCachedProtectedResource().subscribe(a=>{this.protectedResource=a,this.refreshScopes(a)}))}ngOnDestroy(){this.pageSubscriptions?.unsubscribe()}refreshResource(){this.createScopeModal.isShown&&this.createScopeModal.hide(),this.existingScopeModal.isShown&&this.existingScopeModal.hide(),this.protectedResourceService.getResource(this.protectedResource.id).subscribe(a=>{this.protectedResource=a,this.protectedResourceService.getCachedProtectedResource().next(a),this.refreshScopes(a)})}refreshScopes(a){this.protectedResourceService.getAllScopes().subscribe(p=>{const C=a.scopes;this.pickerScopes=new up(p.filter(x=>-1===C.findIndex(le=>le.name==x.name)),[])})}submitScopeClaims(a){this.protectedResourceService.updateResourceScope(this.protectedResource.id,a,a.name).subscribe(p=>{this.refreshResource(),this.toastr.success(this.translate.instant("Resources.Scope.Updated"),this.translate.instant("Notifications.Saving Success Title"))},p=>{this.toastr.error(this.translate.instant("Resources.Scope.Failed"),this.translate.instant("Common.Error"))})}deleteScopeConfirm(a){this.scopeToDelete=a,this.deleteScopeConfirmModal.show()}deleteScope(a){return this.protectedResourceService.deleteScope(this.protectedResource.id,a).toPromise().then(p=>{this.refreshResource(),this.deleteScopeConfirmModal.hide(),this.toastr.success(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Success"))},p=>{this.toastr.error(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Failed"))})}commitScopeChanges(){return this.protectedResource.scopes.push(...this.pickerScopes.assignedScopes),this.protectedResourceService.updateResource(this.protectedResource).subscribe({next:()=>{this.refreshResource(),this.existingScopeModal.hide(),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))},error:()=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}createScopeShow(){this.createScopeModal.show()}addSharedScopeShow(){this.existingScopeModal.show()}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(gl.x),e.rXU(ft.ze),e.rXU(Ge.tw),e.rXU(Hi.c$),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-scopes"]],viewQuery:function(p,C){if(1&p&&(e.GBs(Oi,7),e.GBs(is,7),e.GBs(Is,7),e.GBs(Cs,5)),2&p){let x;e.mGM(x=e.lsd())&&(C.createScopeModal=x.first),e.mGM(x=e.lsd())&&(C.existingScopeModal=x.first),e.mGM(x=e.lsd())&&(C.deleteScopeConfirmModal=x.first),e.mGM(x=e.lsd())&&(C.content=x.first)}},standalone:!1,features:[e.Jv_([{provide:ec.P0,useFactory:V1}])],decls:75,vars:51,consts:[["createScope","bs-modal"],["addScope","bs-modal"],["deleteScopeModal","bs-modal"],["scopePicker",""],["group",""],["right",""],[1,"tw-btn-success",3,"click"],["id","assignSharedScopesBtn","class","tw-btn ml-2",3,"click",4,"ngIf"],["bsModal","","id","createScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"cancelOut","submitConfirmed","resource"],["bsModal","","id","addScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"assignedInput","availableInput","availableSearch",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex"],[1,"tw-mr-auto"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","deleteScope","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],[1,"tw-flex","tw-item-center"],[1,"tw-btn-danger",3,"click"],["id","assignSharedScopesBtn",1,"tw-btn","ml-2",3,"click"],[3,"assignedInput","availableInput","availableSearch"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","tw-transition-all","tw-ease-in-out"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"delete","submit","scope"],["hidePager","true",3,"totalResults"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(p,C){if(1&p){const x=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,5),e.j41(2,"button",6),e.bIt("click",function(){return e.eBV(x),e.Njj(C.createScopeShow())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,ra,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"div",8,0)(8,"app-add-protectedresource-scope",9),e.bIt("cancelOut",function(){return e.eBV(x),e.Njj(C.createScopeModal.hide())})("submitConfirmed",function(){return e.eBV(x),e.Njj(C.refreshResource())}),e.k0s()(),e.j41(9,"div",10,1)(11,"div",11)(12,"div",12)(13,"div",13)(14,"h5",14),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",15),e.bIt("click",function(){e.eBV(x);const ke=e.sdS(10);return e.Njj(ke.hide())}),e.nrm(18,"span",16),e.j41(19,"span",17),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"div",18),e.DNE(23,Io,2,3,"app-common-picker",19),e.k0s(),e.nrm(24,"div",20),e.j41(25,"div",21)(26,"div",22)(27,"div",23)(28,"button",6),e.bIt("click",function(){return e.eBV(x),e.Njj(C.commitScopeChanges())}),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"button",24),e.bIt("click",function(){e.eBV(x);const ke=e.sdS(10);return e.Njj(ke.hide())}),e.EFF(32),e.nI1(33,"translate"),e.k0s()()()()()(),e.j41(34,"div",25),e.DNE(35,dr,3,3,"div",26),e.j41(36,"accordion"),e.DNE(37,ba,9,2,"accordion-group",27),e.k0s(),e.DNE(38,xu,1,1,"app-pager",28),e.k0s(),e.j41(39,"div",29,2)(41,"div",30)(42,"div",12)(43,"div",13)(44,"h5",14),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"button",15),e.bIt("click",function(){e.eBV(x);const ke=e.sdS(40);return e.Njj(ke.hide())}),e.nrm(48,"span",16),e.j41(49,"span",17),e.EFF(50),e.nI1(51,"translate"),e.k0s()()(),e.j41(52,"div",31)(53,"p",32),e.EFF(54),e.nI1(55,"translate"),e.j41(56,"strong"),e.EFF(57),e.k0s(),e.EFF(58),e.nI1(59,"translate"),e.j41(60,"strong"),e.EFF(61),e.k0s(),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.DNE(64,Ho,2,3,"p",33),e.k0s(),e.nrm(65,"div",20),e.j41(66,"div",21)(67,"div",34)(68,"div",23)(69,"button",35),e.bIt("click",function(){return e.eBV(x),e.Njj(C.deleteScope(C.scopeToDelete.name))}),e.EFF(70),e.nI1(71,"translate"),e.k0s()(),e.j41(72,"button",24),e.bIt("click",function(){e.eBV(x);const ke=e.sdS(40);return e.Njj(ke.hide())}),e.EFF(73),e.nI1(74,"translate"),e.k0s()()()()()()}2&p&&(e.R7$(3),e.JRh(e.bMT(4,24,"ProtectedResources.AddScope")),e.R7$(2),e.Y8G("ngIf",C.sharedScopesEnabled),e.R7$(),e.Y8G("config",e.lJ4(48,Ns)),e.R7$(2),e.Y8G("resource",C.protectedResource),e.R7$(),e.Y8G("config",e.lJ4(49,Ns)),e.R7$(6),e.SpI(" ",e.bMT(16,26,"ProtectedResources.AddSharedScope")," "),e.R7$(5),e.JRh(e.bMT(21,28,"Common.Close")),e.R7$(3),e.Y8G("ngIf",C.pickerScopes),e.R7$(6),e.JRh(e.bMT(30,30,"Common.Save")),e.R7$(3),e.JRh(e.bMT(33,32,"Common.Cancel")),e.R7$(3),e.Y8G("ngIf",C.protectedResource.scopes.length>0),e.R7$(2),e.Y8G("ngForOf",C.protectedResource.scopes),e.R7$(),e.Y8G("ngIf",(null==C.protectedResource.scopes?null:C.protectedResource.scopes.length)>0),e.R7$(),e.Y8G("config",e.lJ4(50,Ns)),e.R7$(6),e.SpI(" ",e.bMT(46,34,"Common.Delete.Confirm")," "),e.R7$(5),e.JRh(e.bMT(51,36,"Common.Close")),e.R7$(4),e.SpI("",e.bMT(55,38,"Common.Delete.AreYouSureSimple2")," "),e.R7$(3),e.JRh(null==C.scopeToDelete?null:C.scopeToDelete.displayName),e.R7$(),e.SpI(" ",e.bMT(59,40,"Resources.Scope.ScopeFor")," "),e.R7$(3),e.JRh(C.protectedResource.displayName),e.R7$(),e.SpI(" ",e.bMT(63,42,"ProtectedResources.ProtectedResource"),""),e.R7$(2),e.Y8G("ngIf",null==C.scopeToDelete?null:C.scopeToDelete.isFinalInstanceOnResource),e.R7$(6),e.JRh(e.bMT(71,44,"Common.Delete.Title")),e.R7$(3),e.JRh(e.bMT(74,46,"Common.Delete.No")))},dependencies:[A.Sq,A.bT,nc.f,ec.Mj,ec.kt,bd.hZ,hn,Cd.B,Gm.n,Fi,Hi.D9],encapsulation:2})}}return h})();const Rl=["ClaimsPicker"];let Za=(()=>{class h{constructor(a,p,C,x){this.protectedResourceService=a,this.scopeClaimService=p,this.toastr=C,this.translate=x,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().pipe((0,H.v)(this.scopeClaimService.cachedClaimTypes$),(0,Ya.T)(([a,p])=>({resource:a,claimTypes:p})),(0,qi.$)()).subscribe({next:a=>{this.protectedResource=a.resource,this.originalClaims=a.claimTypes.slice();const p=a.claimTypes.slice();this.protectedResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(p):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(p)}})}convertOriginalClaimTypesToPickerClaimTypes(a){let p=[];return a.map(C=>{let x=new d;x.name=C.displayName?C.displayName:C.name,p.push(x)}),p}convertPickerClaimsToClaim(a){let p=[];return a.map(C=>{p.push(this.originalClaims.find(x=>x.displayName===C.name||x.name===C.name))}),p}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(a=>{this.toSendClaims=this.assignedClaims.concat(a),this.submit().then(p=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,gr.Yt)(this.availableClaims.slice(),a)})}),this.claimsPicker.unAssignedStream.subscribe(a=>{this.toSendClaims=(0,gr.Yt)(this.assignedClaims,a),this.submit().then(p=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(a)})})}submit(){const a=(0,ip.kH)(this.convertPickerClaimsToClaim(this.toSendClaims),function(C){return C.name}),p=Object.assign(this.protectedResource,{allowedClaims:a});return this.protectedResourceService.updateResource(p).toPromise().then(C=>{this.protectedResource=p,this.protectedResourceService.getCachedProtectedResource().next(p),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(a){let p=[],C=a.filter(x=>(p.push(x),this.protectedResource.allowedClaims.some(le=>le===x.name)));p=(0,gr.Yt)(p,C),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(p),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(C)}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(gl.x),e.rXU(ru.N),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-claims"]],viewQuery:function(p,C){if(1&p&&e.GBs(Rl,7),2&p){let x;e.mGM(x=e.lsd())&&(C.claimsPicker=x.first)}},standalone:!1,decls:6,vars:6,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput","availableSearch"]],template:function(p,C){1&p&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&p&&(e.R7$(2),e.JRh(e.bMT(3,4,"ProtectedResources.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",C.assignedClaims)("availableInput",C.availableClaims)("availableSearch",!0))},dependencies:[nc.f,Hi.D9],encapsulation:2})}}return h})();var aa=l(9764);const _s=["SecretPicker"];let Ls=(()=>{class h{constructor(a){this.protectedResourceService=a,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(a=>{this.protectedResource=a,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.secretPicker.secretsAddStream.subscribe(a=>{a.id?this.editSecret(a):this.submitSecret(a)}),this.secretPicker.secretsRemoveStream.subscribe(a=>{this.removeSecret(a)})}submitSecret(a){this.protectedResourceService.addResourceSecret(this.protectedResource.id,a).subscribe(p=>{this.refreshResource()})}editSecret(a){this.protectedResourceService.updateResourceSecret(this.protectedResource.id,a).subscribe(p=>{this.refreshResource()})}removeSecret(a){this.protectedResourceService.removeResourceSecret(this.protectedResource.id,a.id).subscribe(p=>{this.refreshResource()})}refreshResource(){this.protectedResourceService.getResource(this.protectedResource.id).subscribe(a=>{this.protectedResource=a,this.resourceSecrets=this.protectedResource.secrets,this.protectedResourceService.getCachedProtectedResource().next(a)})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(gl.x))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protectedresource-secrets"]],viewQuery:function(p,C){if(1&p&&e.GBs(_s,7),2&p){let x;e.mGM(x=e.lsd())&&(C.secretPicker=x.first)}},standalone:!1,decls:2,vars:2,consts:[["SecretPicker",""],[3,"clientSecrets","nonModelCertPicker"]],template:function(p,C){1&p&&e.nrm(0,"app-secret-picker",1,0),2&p&&e.Y8G("clientSecrets",C.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[aa.s],encapsulation:2})}}return h})(),ds=(()=>{class h{constructor(a,p,C,x){this.titleService=a,this.identityResourceService=p,this.toastr=C,this.translate=x,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(a=>{this.identityResource=a,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${nr.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(a){this.properties=a;const p=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(p).pipe((0,Lr.s)(1)).subscribe(C=>{this.identityResource=p,this.identityResourceService.getCachedIdentityResource().next(p),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ta.hE),e.rXU(nu.A),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-identity-resource-properties"]],standalone:!1,decls:1,vars:2,consts:[[3,"propertiesChanged","modalId","properties"]],template:function(p,C){1&p&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(le){return C.onPropertiesChanged(le)}),e.k0s()),2&p&&e.Y8G("modalId",C.identityResource.id)("properties",C.properties)},dependencies:[Gt.C],encapsulation:2})}}return h})(),qs=(()=>{class h{constructor(a,p,C,x){this.titleService=a,this.protectedResourceService=p,this.toastr=C,this.translate=x,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(a=>{this.protectedResource=a,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${nr.$9.SITE_TITLE}`),this.modalId=this.protectedResource.id})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}onPropertiesChanged(a){this.properties=a;const p=Object.assign(this.protectedResource,{properties:this.properties});this.protectedResourceService.updateResource(p).pipe((0,Lr.s)(1)).subscribe(C=>{this.protectedResource=p,this.protectedResourceService.getCachedProtectedResource().next(p),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ta.hE),e.rXU(gl.x),e.rXU(Ge.tw),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-protected-resource-properties"]],standalone:!1,decls:1,vars:2,consts:[[3,"propertiesChanged","modalId","properties"]],template:function(p,C){1&p&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(le){return C.onPropertiesChanged(le)}),e.k0s()),2&p&&e.Y8G("modalId",C.modalId)("properties",C.properties)},dependencies:[Gt.C],encapsulation:2})}}return h})();const wr=(h,b)=>({title:h,link:b}),Na=h=>[h],Al=()=>["active"];function oa(h,b){1&h&&(e.j41(0,"span",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let or=(()=>{class h{constructor(a,p,C,x,le,ke,tt,Ct){this.fb=a,this.route=p,this.router=C,this.titleService=x,this.identityResourceService=le,this.translate=ke,this.claimTypesService=tt,this.scopesClaimService=Ct}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(a=>{this.identityResource=a,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${nr.$9.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:a=>{this.scopesClaimService.setClaimTypes(a)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(a){this.router.navigate([a],{relativeTo:this.route})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(ft.ze),e.rXU(at.nX),e.rXU(at.Ix),e.rXU(Ta.hE),e.rXU(nu.A),e.rXU(Hi.c$),e.rXU(su.X),e.rXU(ru.N))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:39,vars:46,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewIdentityResource",1,"tw-container","mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(p,C){1&p&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(le){return C.mobRoute(le.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.k0s()()()(),e.j41(21,"ul",9),e.nI1(22,"translate"),e.j41(23,"li",10)(24,"button",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"li",10)(28,"button",12),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"li",10)(32,"button",13),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.bVm(),e.qex(35,14),e.DNE(36,oa,3,3,"span",15),e.bVm(),e.k0s(),e.j41(37,"div",16),e.nrm(38,"router-outlet"),e.k0s()),2&p&&(e.Y8G("title",null==C.identityResource?null:C.identityResource.name)("crumbs",e.eq3(41,Na,e.l_i(38,wr,e.bMT(1,18,"IdentityResources.Title"),e.bMT(2,20,"/identityresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",C.identityResource.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,24,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,26,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,28,"Nav.Claims")),e.R7$(3),e.JRh("Nav.Properties | translate"),e.R7$(),e.BMQ("aria-label",e.bMT(22,30,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(43,Al)),e.R7$(),e.JRh(e.bMT(26,32,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(44,Al)),e.R7$(),e.JRh(e.bMT(30,34,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(45,Al)),e.R7$(),e.JRh(e.bMT(34,36,"Nav.Properties")),e.R7$(3),e.Y8G("ngIf",!C.identityResource.enabled))},dependencies:[A.bT,at.n3,Se.Wk,Se.wQ,iu.z,Hi.D9,se.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var vs=l(5615),au=l(7553);class Pu extends se.xq{constructor(b,a,p,C,x="assets/locales.json"){super(b,a,p),this.http=C,this.path=x}load(b){return new Promise(a=>{this.http.get(`${this.path}`).subscribe(p=>{this.locales=p.locales,this.prefix=p.prefix||"",this.escapePrefix=p.escapePrefix||"",this.init(b).then(a)})})}}var ic=l(6923),Hs=l(4446),Xv=l(6648),Fu=l(9865),j1=l(6888);class Jv{constructor(){this.rss=new eg,this.rss.channel=new vS,this.rss.channel.item=new Array}}class eg{}class vS{}class yS{}var MT=l(1108);const bS=(h,b)=>({"tw-bg-white":h,"tw-bg-grey-100":b});function Sh(h,b){1&h&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function tg(h,b){if(1&h&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&h){const a=b.$implicit,p=e.XpG(2);e.R7$(),e.Y8G("href",p.domSanitizer.bypassSecurityTrustUrl(a.link),e.B4B),e.R7$(2),e.JRh(a.title),e.R7$(2),e.JRh(a.pubDate),e.R7$(2),e.JRh(a.description)}}function Qv(h,b){if(1&h&&(e.j41(0,"ul"),e.DNE(1,tg,8,4,"li",7),e.k0s()),2&h){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",null==a.dto?null:a.dto.rss.channel.item)}}let dp=(()=>{class h{constructor(a,p,C){this.http=a,this.domSanitizer=p,this.translate=C,this.rssURL=`https://www.${Fu.e.AdminUIProviderDomain}.com/rss`,this.versionNumber="",this.altTheme=!1,this.errorEntry=new yS}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new Qt.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(a=>{this.dto=(new MT).xml2js(a),Object.setPrototypeOf(this.dto,Jv.prototype),this.dto.rss.channel.item.forEach(p=>{p.pubDate=this.formatDate(p.pubDate)}),this.isLoading=!1},a=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Jv,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(a){return a?us.c9.fromHTTP(a).toFormat("DD"):""}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Qt.Qq),e.rXU(Ta.up),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},standalone:!1,decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(p,C){1&p&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,Sh,2,0,"div",4)(8,Qv,2,1,"ul",5),e.k0s()()),2&p&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,bS,!C.altTheme,C.altTheme)),e.R7$(),e.Y8G("ngIf",C.isLoading),e.R7$(),e.Y8G("ngIf",!C.isLoading))},dependencies:[A.YU,A.Sq,A.bT,wo.d,Hi.D9],encapsulation:2})}}return h})();function Zv(h,b){1&h&&e.nrm(0,"span",27)}let gf=(()=>{class h{get LinkConstants(){return Fu.e}constructor(a,p,C,x,le,ke,tt){this.authService=a,this.securityService=p,this.titleService=C,this.healthCheckService=x,this.localizeRouter=le,this.router=ke,this.loginTrackingService=tt,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${nr.$9.SITE_TITLE}`),this.versionNumber=Js;const Ct=new Date;this.appCopyright=2017!==Ct.getFullYear()?"2017 - "+Ct.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const a=this.healthCheckService.idsHealthCheckComplete.pipe((0,qi.$)()),p=this.healthCheckService.uiHealthCheckComplete.pipe((0,qi.$)());(0,zr.p)([a,p]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const a=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,Xv.H)(this.router.navigate([a]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ie.u),e.rXU(It.i),e.rXU(Ta.hE),e.rXU(me.M),e.rXU(se.QG),e.rXU(at.Ix),e.rXU(j1.W))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-landing-page"]],standalone:!1,decls:49,vars:30,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(p,C){1&p&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return C.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Zv,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&p&&(e.R7$(6),e.SpI("v",C.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,16,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,18,"ServerDependent.LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,20,"LandingPage.IntroParagraph2")," "),e.R7$(2),e.Y8G("href",C.LinkConstants.SalesLink,e.B4B),e.R7$(),e.SpI(" sales@",C.LinkConstants.AdminUIProviderDomain,".com "),e.R7$(2),e.Y8G("disabled",!C.loginAllowed||C.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,22,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",C.startLogin),e.R7$(3),e.FS9("href",C.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,24,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",C.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,26,"Common.Documentation")," "),e.R7$(5),e.FS9("href",C.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,28,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",C.appCopyright,""))},dependencies:[A.bT,dp,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})(),Cb=(()=>{class h{constructor(a,p,C){this.authService=a,this.securityService=p,this.appComponentViewService=C}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(a=>{this.authService.user=a.username,this.authService.isAuthenticated=a.isAuthenticated,a.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(a)})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ie.u),e.rXU(It.i),e.rXU(Ll.X))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-auth"]],standalone:!1,decls:0,vars:0,template:function(p,C){},encapsulation:2})}}return h})(),qv=(()=>{class h{constructor(a){this.translate=a}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(p,C){1&p&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&p&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[Hi.D9],encapsulation:2})}}return h})(),CS=(()=>{class h{constructor(a){this.translate=a}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(p,C){1&p&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&p&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[Hi.D9],encapsulation:2})}}return h})(),SS=(()=>{class h{constructor(a,p){this.route=a,this.translate=p}ngOnInit(){const a=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=a in Lm.v?a:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(at.nX),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(p,C){1&p&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&p&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[Hi.D9],encapsulation:2})}}return h})();function ES(h,b){1&h&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function TS(h,b){1&h&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let wS=(()=>{class h{constructor(a){this.isEnforcerCompilationError=!1,this.getNavigationState(a)}getNavigationState(a){const p=a.getCurrentNavigation();if(null!=p&&null!=p.extras.state){const C=p.extras.state;C.enforcer&&(this.isEnforcerCompilationError=C.enforcer)}}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(at.Ix))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-component"]],standalone:!1,decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(p,C){if(1&p&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,ES,3,3,"p",5)(8,TS,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&p){const x=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",C.isEnforcerCompilationError)("ngIfElse",x)}},dependencies:[A.bT,Hi.D9],encapsulation:2})}}return h})();var Sb=l(4589);const Eb=(h,b)=>({title:h,link:b,icon:"fad fa-file fa-swap-opacity"}),Tb=(h,b)=>({title:h,link:b,icon:"fad fa-file-code fa-swap-opacity"}),wb=(h,b)=>({title:h,link:b,icon:"fad fa-envelope fa-swap-opacity"}),Ib=(h,b)=>({"tw-pill":h,"tw-pill-info":b});function IS(h,b){if(1&h&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&h){const a=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",a.securityService.organisation," ")}}function RS(h,b){if(1&h&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,IS,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&h){const a=e.XpG();e.R7$(5),e.Y8G("ngIf",a.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Ib,a.isNonProd(),!a.isNonProd())),e.R7$(),e.SpI(" ",a.securityService.licenseType," ")}}function AS(h,b){1&h&&e.eu8(0)}function DS(h,b){1&h&&e.eu8(0)}function NS(h,b){1&h&&e.eu8(0)}function OT(h,b){if(1&h&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&h){const a=b.title,p=b.link,C=b.icon;e.R7$(),e.Y8G("href",p,e.B4B),e.R7$(),e.ZvI("",C," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(a)}}let Rb=(()=>{class h{get LinkConstants(){return Fu.e}constructor(a,p){this.titleService=a,this.securityService=p,this.titleService.setTitle(`Home - ${nr.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===Sb.G.Demo}isNonProd(){return this.securityService.licenseType!==Sb.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ta.hE),e.rXU(It.i))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-index"]],standalone:!1,decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(p,C){if(1&p&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,RS,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,AS,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,DS,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,NS,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,OT,5,5,"ng-template",null,0,e.C5r)),2&p){const x=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!C.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(16,Eb,e.bMT(9,10,"Common.Documentation"),C.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(19,Tb,e.bMT(11,12,"LandingPage.APIDocs"),C.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",e.l_i(22,wb,e.bMT(13,14,"Nav.Support"),C.LinkConstants.SupportLink))}},dependencies:[A.YU,A.bT,A.T3,dp,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var Ab=l(316),Db=l(6536);const MS=["requiredClaimsForm"];function OS(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&h&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"ServerDependent.InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function xT(h,b){1&h&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function xS(h,b){1&h&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&h&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function kS(h,b){if(1&h){const a=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s()}if(2&h){const a=e.XpG(),p=a.$implicit;e.Mz_("id","claim-",a.index,""),e.R50("ngModel",p.value)}}function PS(h,b){if(1&h){const a=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s()}if(2&h){const a=e.XpG(),p=a.$implicit;e.Mz_("id","claim-",a.index,""),e.R50("ngModel",p.value)}}function ng(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&h){const a=e.XpG(),p=a.$implicit,C=a.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",p.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function FS(h,b){if(1&h){const a=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG(2).$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s(),e.bVm()}if(2&h){const a=e.XpG(2),p=a.$implicit,C=a.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",p.value)}}function BS(h,b){if(1&h){const a=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG(2).$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.k0s(),e.bVm()}if(2&h){const a=e.XpG(2),p=a.$implicit,C=a.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",p.value),e.Y8G("displayType","date")}}function $1(h,b){if(1&h&&(e.j41(0,"div",56),e.DNE(1,FS,2,3,"ng-container",57)(2,BS,2,4,"ng-container",57),e.k0s()),2&h){const a=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=a.name),e.R7$(),e.Y8G("ngIf","birthdate"==a.name)}}function VS(h,b){if(1&h&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&h){const a=b.$implicit;e.Y8G("value",a),e.R7$(),e.JRh(a)}}function LS(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(C){e.eBV(a);const x=e.XpG().$implicit;return e.DH7(x.value,C)||(x.value=C),e.Njj(C)}),e.DNE(2,VS,2,2,"option",61),e.k0s()()}if(2&h){const a=e.XpG(),p=a.$implicit,C=a.index;e.R7$(),e.Mz_("id","claim-",C,""),e.R50("ngModel",p.value),e.R7$(),e.Y8G("ngForOf",p.allowedValues)}}function Nb(h,b){if(1&h&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&h){const a=e.XpG().$implicit;e.R7$(),e.SpI(" ",a.failureMessage," ")}}function Mb(h,b){if(1&h&&(e.j41(0,"app-form-row",44),e.DNE(1,kS,1,3,"input",45)(2,PS,1,3,"input",46)(3,ng,8,9,"div",47)(4,$1,3,2,"div",48)(5,LS,3,4,"div",47)(6,Nb,2,1,"span",49),e.k0s()),2&h){const a=b.$implicit,p=b.index,C=e.XpG(3);e.Y8G("id","claim-"+p)("label",a.name)("help","DateTime"==a.format?"Common.Dates.UTCWarning":"")("isLast",p===C.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==a.format),e.R7$(),e.Y8G("ngIf","Int"==a.format),e.R7$(),e.Y8G("ngIf","Boolean"==a.format),e.R7$(),e.Y8G("ngIf","DateTime"==a.format),e.R7$(),e.Y8G("ngIf","Enum"==a.format),e.R7$(),e.Y8G("ngIf",null!=a.failureMessage)}}function ey(h,b){if(1&h&&(e.j41(0,"div",42),e.DNE(1,Mb,7,10,"app-form-row",43),e.k0s()),2&h){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.displayClaims)}}function Ob(h,b){1&h&&e.nrm(0,"span",64)}function US(h,b){if(1&h){const a=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,xT,2,0,"span",28)(27,xS,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,ey,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(a);const C=e.XpG();return e.Njj(C.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,Ob,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&h){const a=e.sdS(29),p=e.XpG();e.R7$(2),e.JRh(e.bMT(3,28,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,30,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,32,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",p.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(),e.BMQ("Required",p.requireEmail),e.R7$(),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",p.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",p.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",p.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!p.addUserForm.valid||!a.form.valid||p.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,34,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",p.inFlight),e.R7$(3),e.FS9("href",p.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,36,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,38,"Common.Documentation")," "),e.R7$(5),e.Y8G("href",p.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(53,40,"Nav.Support")," ")}}let xb=(()=>{class h{constructor(a,p,C,x,le,ke,tt,Ct,Lt){this.authService=a,this.titleService=p,this.toastr=C,this.fb=x,this.userService=le,this.errorService=ke,this.claimTypesService=tt,this.configService=Ct,this.appComponentViewService=Lt,this.versionNumber="",this.createdAdmin=!1,this.requireEmail=!0,this.displayClaims=[],this.checkPasswords=jn=>jn.get("password").value===jn.get("confirmPassword").value?null:{notSame:!0},this.LinkConstants=Fu.e,this.titleService.setTitle(`${nr.$9.SITE_TITLE}`),this.versionNumber=Js;const En=new Date;this.appCopyright=2017!==En.getFullYear()?"2017 - "+En.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.configService.getConfig(!0).pipe((0,qi.$)()).subscribe(a=>{this.requireEmail=a.requireEmailInUsers,this.createForms()}),this.claimTypesService.getClaimTypes(null,null).subscribe(a=>{this.claimTypes=a;for(const C of this.claimTypes)C.required&&this.displayClaims.push({claimTypeId:C.id,format:C.valueType,name:C.name,value:null,failureMessage:C.ruleValidationFailureDescription,allowedValues:C.allowedValues})},a=>{this.errorService.handleError(a)})}addUser(){let a;a=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(a,{claims:[]});for(const p of this.displayClaims){if(null===p.value)continue;let C=p.value;"DateTime"===p.format&&(C=p.value),"Int"===p.format&&(C=C.toString()),a.claims.push({claimTypeId:p.claimTypeId,value:C,type:p.name})}this.inFlight=!0,this.userService.addInitialAdministrator(a).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},p=>{this.inFlight=!1,this.errorService.handleError(p)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[ft.k0.required,(0,gr.Zt)()]],email:["",this.requireEmail?Ab.D:[]],firstName:["",ft.k0.required],lastName:["",ft.k0.required],password:["",ft.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ie.u),e.rXU(Ta.hE),e.rXU(Ge.tw),e.rXU(ft.ze),e.rXU(Je.D),e.rXU(Ac.I),e.rXU(su.X),e.rXU(Ri.w),e.rXU(Ll.X))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-initial-admin-creation"]],viewQuery:function(p,C){if(1&p&&e.GBs(MS,5),2&p){let x;e.mGM(x=e.lsd())&&(C.requiredClaimsForm=x.first)}},standalone:!1,decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(p,C){1&p&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,OS,16,12,"div",8)(9,US,54,42,"div",9),e.k0s()()),2&p&&(e.R7$(6),e.SpI("v",C.versionNumber,""),e.R7$(2),e.Y8G("ngIf",C.createdAdmin),e.R7$(),e.Y8G("ngIf",!C.createdAdmin&&C.addUserForm))},dependencies:[A.Sq,A.bT,ft.qT,ft.xH,ft.y7,ft.me,ft.Q0,ft.wz,ft.BC,ft.cb,ft.YS,ft.vS,ft.cV,ft.j4,ft.JD,Sd.Y,Db.Z,Hi.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return h})();var ty=l(5517),ny=l(1796),kb=l(2771),Pb=l(2734),iy=l(9564);let jS=(()=>{class h extends Pb.x{constructor(a,p){super(),this.http=a,this.headersService=p,this.userSubject=new kb.m(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(a,p,C,x,le,ke,tt){const Ct=this.buildParams(a,C,p,x,le,ke,tt);return this.http.get(this.actionUrl,{headers:this.headers,params:Ct})}getResourceAudits(a,p,C,x,le,ke,tt,Ct,Lt){throw new Error("AuditingService doesn't support getResourceAudits method")}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(Qt.Qq),e.KVO(iy.m))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var sy=l(9861);let ry=(()=>{class h{constructor(a,p){a.setTitle(p.instant("Nav.Auditing")+` - ${nr.$9.SITE_TITLE}`)}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ta.hE),e.rXU(Hi.c$))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-all-audits"]],standalone:!1,features:[e.Jv_([{provide:Pb.x,useClass:jS}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(p,C){1&p&&(e.nrm(0,"app-title-bar",0),e.nI1(1,"translate"),e.j41(2,"div",1),e.nrm(3,"app-audits-list"),e.k0s()),2&p&&e.Y8G("title",e.bMT(1,1,"Nav.Auditing"))},dependencies:[sy.k,iu.z,Hi.D9],encapsulation:2})}}return h})();const Fb=[{path:"",component:gf},{path:"initial-admin-creation",component:xb,canActivate:[sa.h],data:{permissions:[Mi.a[Mi.a.All]]}},{path:"home",component:Rb,canActivate:[sa.h,Hs._]},{path:"users",loadChildren:()=>Promise.resolve().then(l.bind(l,6829)).then(h=>h.UsersModule),canActivate:[sa.h,Hs._]},{path:"roles",loadChildren:()=>Promise.resolve().then(l.bind(l,76)).then(h=>h.RolesModule),canActivate:[sa.h,Hs._]},{path:"claim-types",loadChildren:()=>Promise.resolve().then(l.bind(l,2334)).then(h=>h.ClaimTypesModule),canActivate:[sa.h,Hs._]},{path:"auditing",component:ry,canActivate:[sa.h,ny.S,Hs._,ic.q],data:{permissions:[Mi.a[Mi.a.Auditer],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]]}},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(l.bind(l,9624)).then(h=>h.StarterModeModule),canActivate:[sa.h,ty.H]},{path:"unauthorized",component:wS},{path:"forbidden",component:qv},{path:"auth",component:Cb,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:SS,canActivate:[sa.h,Hs._]},{path:"**",component:CS,canActivate:[sa.h,Hs._]}];let ay=(()=>{class h{constructor(a,p,C){this.router=a,this.config=p,this.localizeRouter=C}canActivate(a,p){return this.config.getConfig().pipe((0,qi.$)(),(0,Ya.T)(C=>{if("accesspolicy"!=a.firstChild.routeConfig.path||!C.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const x=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([x])}}))}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(at.Ix),e.KVO(Ri.w),e.KVO(se.QG))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const oy=[[["","extraOptions",""]],[["","extraTabs",""]]],$S=["[extraOptions]","[extraTabs]"],Bb=()=>["active"];function GS(h,b){1&h&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function HS(h,b){1&h&&(e.j41(0,"li",14)(1,"button",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&h&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,Bb)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}let Vb=(()=>{class h{constructor(a,p,C){this.titleService=a,this.translate=p,this.configService=C,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,qi.$)()).subscribe(a=>{this.hideAccessPolicy=a.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${nr.$9.SITE_TITLE}`)}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ta.hE),e.rXU(Hi.c$),e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-settings"]],standalone:!1,ngContentSelectors:$S,decls:26,vars:23,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["value","Access Policy"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"]],template:function(p,C){1&p&&(e.NAR(oy),e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,GS,3,3,"option",7),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.SdG(16),e.k0s()()(),e.j41(17,"ul",9),e.nI1(18,"translate"),e.DNE(19,HS,4,5,"li",10),e.j41(20,"li",11)(21,"button",12),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.SdG(24,1),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&p&&(e.Y8G("title",e.bMT(1,10,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,12,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,14,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!C.hideAccessPolicy),e.R7$(2),e.JRh(e.bMT(15,16,"Nav.Webhooks")),e.R7$(3),e.BMQ("aria-label",e.bMT(18,18,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!C.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(22,Bb)),e.R7$(),e.JRh(e.bMT(23,20,"Nav.Webhooks")))},dependencies:[at.n3,Se.Wk,Se.wQ,A.bT,ft.xH,ft.y7,iu.z,Hi.D9],encapsulation:2})}}return h})();const ly=()=>["active"];let cy=(()=>{class h{constructor(a){this.configService=a}ngOnInit(){this.configService.getConfig().pipe((0,qi.$)()).subscribe(a=>{})}static{this.\u0275fac=function(p){return new(p||h)(e.rXU(Ri.w))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-settings-duende"]],standalone:!1,decls:8,vars:8,consts:[["extraOptions","","value","Keys"],["extraTabs","","id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(p,C){1&p&&(e.j41(0,"app-settings")(1,"option",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li",1)(5,"button",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,3,"Nav.Keys")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(7,ly)),e.R7$(),e.JRh(e.bMT(7,5,"Nav.Keys")))},dependencies:[ft.xH,ft.y7,Se.Wk,Se.wQ,Vb,Hi.D9],encapsulation:2})}}return h})();class Lb{constructor(b,a=[{prefix:"./resources/",suffix:".json"}]){this.http=b,this.resources=a}getTranslation(b){return(0,zr.p)(this.resources.map(a=>this.http.get(`${a.prefix}${b}${a.suffix}`))).pipe((0,Ya.T)(a=>a.reduce((p,C)=>Object.assign(p,C))))}}const uy=[...Fb,{path:"identityresources",component:df,canActivate:[sa.h,Hs._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]],editPermissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"identityresources/:id",component:hf,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:U,canDeactivate:[af.M]},{path:"claims",component:$},{path:"properties",component:ds}],resolve:{resource:cf},canActivate:[sa.h,Hs._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"identityresources/view/:id",component:or,loadChildren:()=>l.e(822).then(l.bind(l,7822)).then(h=>h.ViewIdentityResourcesModule),resolve:{resource:cf},canActivate:[sa.h,Hs._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]]}},{path:"protectedresources",component:B1,canActivate:[sa.h,Hs._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]],editPermissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"protectedresources/:id",component:bb,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ze,canDeactivate:[af.M]},{path:"scopes",component:ku},{path:"claims",component:Za},{path:"secrets",component:Ls},{path:"properties",component:qs}],resolve:{resource:Um},canActivate:[sa.h,Hs._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.All]]}},{path:"protectedresources/view/:id",component:vs.J,loadChildren:()=>l.e(708).then(l.bind(l,8708)).then(h=>h.ViewProtectedResourceModule),resolve:{resource:Um},canActivate:[sa.h,Hs._],data:{permissions:[Mi.a[Mi.a.AuthorizationServerManager],Mi.a[Mi.a.AuthorizationServerManagerReadOnly],Mi.a[Mi.a.AllReadOnly],Mi.a[Mi.a.All]]}},{path:"clients",loadChildren:()=>Promise.resolve().then(l.bind(l,1082)).then(h=>h.ClientModule),canActivate:[sa.h,Hs._]},{path:"dynamic-auth",loadChildren:()=>Promise.resolve().then(l.bind(l,2999)).then(h=>h.DynamicAuthModule),canActivate:[sa.h,Hs._,au.F,ic.q]},{path:"settings",component:cy,loadChildren:()=>Promise.resolve().then(l.bind(l,6357)).then(h=>h.SettingsDuendeModule),canActivate:[sa.h,Hs._,ay],canDeactivate:[af.M],data:{permissions:[Mi.a[Mi.a.All]]}}];function Ub(h,b,a,p){return new Pu(h,b,a,p,"resources/locales.json?cb="+Js)}function KS(h){return new Lb(h,[{prefix:"./resources/",suffix:".json"},{prefix:"./resources-duende/",suffix:".json"}])}let jb=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[Se.iI.forRoot(uy,{scrollPositionRestoration:"enabled"}),Se.iI]})}}return h})();var G1=l(1683),H1=l(3519),K1=l(8455),dy=l(2571),$b=l(4179),W1=l(8521),hy=l(367),Gb=l(5731),WS=l(4193),kT=l(3665),Hb=l(7175),PT=l(1993),Kb=l(8389),FT=l(9945),BT=l(6843),VT=l(7677),Wb=l(4367);let Yb=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({providers:[cf,Um,ru.N],imports:[A.MD,Se.iI,Hi.h,ft.YN,G1.Y,ft.X1,tc.jr,tu.Ss,$b.z,dy.A,K1.p,ec.h6,bd.Q_,W1.P,se.XE,hy.m,Gb.i,WS.c,kT.t,Hb.c,PT.E,Kb.w,FT.f,BT.l,VT.N,Wb.N]})}}return h})();var zb=l(1082),YS=l(4811),zS=l(8580),XS=l(8939),JS=l(7773),QS=l(6807),ZS=l(967),qS=l(9686),eE=l(8251);let LT=(()=>{class h{intercept(a,p){if(a.url.startsWith("https://"))return p.handle(a);const C=(0,gr.$_)(),x=a.clone({url:`${C}${a.url}`});return p.handle(x)}static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var Xb=l(5022),Eh=l(6599),_f=l(5060),tE=l(8810);let nE=(()=>{class h{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return h})(),Jb=(()=>{class h{constructor(a,p,C,x){this.router=a,this.localizeRouterService=p,this.appComponentViewService=C,this.securityService=x}intercept(a,p){return p.handle(a).pipe((0,lf.W)(C=>{if(C.status===nE.ExpiredTokenRedirect)return this.securityService.startLogin(),_f.t;if(C.status===nE.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const x=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([x],{state:{enforcer:!0}}),_f.t}return(0,tE.$)(()=>C)}))}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(at.Ix),e.KVO(se.QG),e.KVO(Ll.X),e.KVO(It.i))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})();var Qb=l(3488),UT=l(2999),iE=l(7648),Zb=l(7767),qb=l(9624),Y1=l(9962),py=l(4814),sE=l(2334),eC=l(76),tC=l(6829);let rE=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[A.MD,Se.iI,G1.Y,Hi.h,se.XE,bm]})}}return h})();var aE=l(9475);let hp=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({imports:[Hi.h,aE.F,Se.iI,hy.m,Eh.Y]})}}return h})(),nC=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h})}static{this.\u0275inj=e.G2t({providers:[Qb.F,JS.n,Je.D,It.i,sa.h,ny.S,Hs._,ic.q,Y1.m,py.y,H1.P,iy.m,su.X,nr.Vk,YS.M,zS.v,XS.R,se.QG,me.M,Fo,Hi.c$,Sn.X,Ri.w,QS.B,Ac.I,qS.D,Xb.x,Zb.g,(0,Qt.$R)((0,Qt.Sx)())],imports:[A.MD,ft.YN,ft.X1,cr,G1.Y,tC.UsersModule,eC.RolesModule,qb.StarterModeModule,K1.p,W1.P,bd.Q_.forRoot(),tc.jr.forRoot(),tu.Ss.forRoot(),ec.h6.forRoot(),sE.ClaimTypesModule,Ge._B.forRoot(),ZS.M,gv,Hb.c,eE.h,Wb.N,Kb.w,Eh.Y,Hi.h,Se.iI,se.XE,rE,bm,hp]})}}return h})();var oE=l(6357),lE=l(3485);let fy=(()=>{class h extends lE.L{constructor(a){super(),this.protectedResourceService=a}getScopes(){return this.protectedResourceService.getProtectedResources().pipe((0,Ya.T)(a=>{const p=[];return a.forEach(C=>{p.push(...C.scopes)}),p.map(C=>C.name).sort()}))}static{this.\u0275fac=function(p){return new(p||h)(e.KVO(gl.x))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac})}}return h})(),my=(()=>{class h{static{this.\u0275fac=function(p){return new(p||h)}}static{this.\u0275mod=e.$C({type:h,bootstrap:[N1]})}static{this.\u0275inj=e.G2t({providers:[Qb.F,JS.n,Je.D,It.i,sa.h,Hs._,ic.q,Y1.m,py.y,H1.P,iy.m,su.X,nr.Vk,YS.M,zS.v,XS.R,iE.q,nu.A,gl.x,se.QG,me.M,Fo,Hi.c$,Sn.X,Ri.w,QS.B,Ac.I,qS.D,Xb.x,Zb.g,{provide:lE.L,useClass:fy},{provide:Qt.a7,useClass:LT,multi:!0},{provide:Qt.a7,useClass:Jb,multi:!0},(0,Qt.$R)((0,Qt.Sx)())],imports:[jb,nC,A.MD,ft.YN,ft.X1,cr,G1.Y,zb.ClientModule,UT.DynamicAuthModule,qb.StarterModeModule,Yb,K1.p,W1.P,Hi.h.forRoot({loader:{provide:Hi.Wr,useFactory:KS,deps:[Qt.Qq]}}),se.XE.forRoot(uy,{parser:{provide:se.xq,useFactory:Ub,deps:[Hi.c$,t.aZ,se.wY,Qt.Qq]}}),bd.Q_.forRoot(),tc.jr.forRoot(),tu.Ss.forRoot(),ec.h6.forRoot(),Ge._B.forRoot(),ZS.M,gv,Hb.c,eE.h,Wb.N,Kb.w,Eh.Y,rE,bm,oE.SettingsDuendeModule,se.XE]})}}return h})();var cE=l(1410);ni.c.authServer=cE.y.Duende,ni.c.production&&(0,e.SmG)(),en().bootstrapModule(my)},8071:(ot,ve,l)=>{"use strict";function t(o){return"function"==typeof o}l.d(ve,{T:()=>t})},8114:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>S});var t=l(1360),o=l(8434),f=l(9216),A=l(8018);const e=["confirmModal"],w=[[["","body",""]]],m=["[body]"];function D(g,k){1&g&&t.nrm(0,"span",9)}let S=(()=>{class g{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.disableSpinner=!1,this.confirm=new t.bkB,this.close=new t.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-confirmation-modal"]],viewQuery:function(u,E){if(1&u&&t.GBs(e,7),2&u){let B;t.mGM(B=t.lsd())&&(E.confirmModal=B.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight",disableSpinner:"disableSpinner"},outputs:{confirm:"confirm",close:"close"},standalone:!1,ngContentSelectors:m,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(u,E){if(1&u){const B=t.RV6();t.NAR(w),t.j41(0,"app-simple-modal",1,0),t.bIt("close",function(){return t.eBV(B),t.Njj(E.close.emit())}),t.qex(2,2),t.SdG(3),t.bVm(),t.qex(4,3),t.j41(5,"div",4)(6,"div",5)(7,"button",6),t.bIt("click",function(){return t.eBV(B),t.Njj(E.ok())}),t.EFF(8),t.nI1(9,"translate"),t.DNE(10,D,1,0,"span",7),t.k0s()(),t.j41(11,"button",8),t.bIt("click",function(){return t.eBV(B),t.Njj(E.closeModal())}),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.bVm(),t.k0s()}2&u&&(t.Y8G("modalId",E.modalId)("title",E.title)("type",E.type),t.R7$(7),t.ZvI("tw-btn",E.buttonType?"-"+E.buttonType:"",""),t.Y8G("id",E.modalId+"-confirmBtn")("disabled",E.inFlight),t.R7$(),t.SpI(" ",t.bMT(9,12,E.okText)," "),t.R7$(2),t.Y8G("ngIf",E.inFlight&&!E.disableSpinner),t.R7$(),t.Y8G("id",E.modalId+"-cancelBtn"),t.R7$(),t.JRh(t.bMT(13,14,E.cancelText)))},dependencies:[o.bT,f.R,A.D9],encapsulation:2})}}return g})()},8141:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>e});var t=l(8071),o=l(9974),f=l(4360),A=l(3669);function e(w,m,D){const S=(0,t.T)(w)||m||D?{next:w,error:m,complete:D}:w;return S?(0,o.N)((g,k)=>{var z;null===(z=S.subscribe)||void 0===z||z.call(S);let u=!0;g.subscribe((0,f._)(k,E=>{var B;null===(B=S.next)||void 0===B||B.call(S,E),k.next(E)},()=>{var E;u=!1,null===(E=S.complete)||void 0===E||E.call(S),k.complete()},E=>{var B;u=!1,null===(B=S.error)||void 0===B||B.call(S,E),k.error(E)},()=>{var E,B;u&&(null===(E=S.unsubscribe)||void 0===E||E.call(S)),null===(B=S.finalize)||void 0===B||B.call(S)}))}):A.D}},8251:(ot,ve,l)=>{"use strict";l.d(ve,{h:()=>m});var t=l(8018),o=l(8434),f=l(534),A=l(1683),e=l(9812),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({providers:[e.I],imports:[o.MD,t.h,f.Ss,A.Y]})}}return D})()},8261:(ot,ve,l)=>{"use strict";l.d(ve,{A:()=>w});var t=l(3165),o=l(2771),f=l(7263),A=l(1360),e=l(9564);let w=(()=>{class m{constructor(S,g){this.http=S,this.headersService=g,this.identityResourceSubject=new o.m(1),this.actionUrl="IdentityResources",this.headers=g.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(S){let g=new t.Nl;return(0,f.gP)(S)||(g=g.append("name",S)),this.http.get(this.actionUrl,{headers:this.headers,params:g})}addResource(S){const g=`${this.actionUrl}/`,k=JSON.stringify(S);return this.http.post(g,k,{headers:this.headers})}getResource(S){return this.http.get(`${this.actionUrl}/${S}`,{headers:this.headers})}updateResource(S){return this.http.put(`${this.actionUrl}/${S.id}`,S,{headers:this.headers})}deleteIdentityResource(S){return this.http.delete(`${this.actionUrl}/${S}`,{headers:this.headers})}static{this.\u0275fac=function(g){return new(g||m)(A.KVO(t.Qq),A.KVO(e.m))}}static{this.\u0275prov=A.jDH({token:m,factory:m.\u0275fac})}}return m})()},8284:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>t});var t=function(o){return o[o.user=0]="user",o[o.role=1]="role",o[o.claimType=2]="claimType",o[o.client=3]="client",o[o.identityResource=4]="identityResource",o[o.protectedResource=5]="protectedResource",o[o.serviceProvider=6]="serviceProvider",o[o.relyingParty=7]="relyingParty",o[o.dynamicAuth=8]="dynamicAuth",o[o.scope=9]="scope",o[o.api=10]="api",o}(t||{})},8291:(ot,ve,l)=>{var t=l(6589);l(7097),l(812);var o=t.asn1,f=ot.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=f;var A={name:"ContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};f.contentInfoValidator=A;var e={name:"EncryptedContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};f.envelopedDataValidator={name:"EnvelopedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(e)},f.encryptedDataValidator={name:"EncryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"}].concat(e)},f.signedDataValidator={name:"SignedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},A,{name:"SignedData.Certificates",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},f.recipientInfoValidator={name:"RecipientInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},8321:(ot,ve,l)=>{var t=l(6589);l(812),l(1675),l(3364),ot.exports=t.kem=t.kem||{};var o=t.jsbn.BigInteger;function f(A,e,w,m){A.generate=function(D,S){for(var g=new t.util.ByteBuffer,k=Math.ceil(S/m)+w,z=new t.util.ByteBuffer,u=w;u<k;++u){z.putInt32(u),e.start(),e.update(D+z.getBytes());var E=e.digest();g.putBytes(E.getBytes(m))}return g.truncate(g.length()-S),g.getBytes()}}t.kem.rsa={},t.kem.rsa.create=function(A,e){var w=(e=e||{}).prng||t.random;return{encrypt:function(D,S){var k,g=Math.ceil(D.n.bitLength()/8);do{k=new o(t.util.bytesToHex(w.getBytesSync(g)),16).mod(D.n)}while(k.compareTo(o.ONE)<=0);var z=g-(k=t.util.hexToBytes(k.toString(16))).length;return z>0&&(k=t.util.fillString("\0",z)+k),{encapsulation:D.encrypt(k,"NONE"),key:A.generate(k,S)}},decrypt:function(D,S,g){var k=D.decrypt(S,"NONE");return A.generate(k,g)}}},t.kem.kdf1=function(A,e){f(this,A,0,e||A.digestLength)},t.kem.kdf2=function(A,e){f(this,A,1,e||A.digestLength)}},8359:(ot,ve,l)=>{"use strict";l.d(ve,{Kn:()=>w,yU:()=>e,Uv:()=>m});var t=l(8071);const f=(0,l(1853).L)(S=>function(k){S(this),this.message=k?`${k.length} errors occurred during unsubscription:\n${k.map((z,u)=>`${u+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=k});var A=l(7908);class e{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const E of k)E.remove(this);else k.remove(this);const{initialTeardown:z}=this;if((0,t.T)(z))try{z()}catch(E){g=E instanceof f?E.errors:[E]}const{_finalizers:u}=this;if(u){this._finalizers=null;for(const E of u)try{D(E)}catch(B){g=g??[],B instanceof f?g=[...g,...B.errors]:g.push(B)}}if(g)throw new f(g)}}add(g){var k;if(g&&g!==this)if(this.closed)D(g);else{if(g instanceof e){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(g)}}_hasParent(g){const{_parentage:k}=this;return k===g||Array.isArray(k)&&k.includes(g)}_addParent(g){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(g),k):k?[k,g]:g}_removeParent(g){const{_parentage:k}=this;k===g?this._parentage=null:Array.isArray(k)&&(0,A.o)(k,g)}remove(g){const{_finalizers:k}=this;k&&(0,A.o)(k,g),g instanceof e&&g._removeParent(this)}}e.EMPTY=(()=>{const S=new e;return S.closed=!0,S})();const w=e.EMPTY;function m(S){return S instanceof e||S&&"closed"in S&&(0,t.T)(S.remove)&&(0,t.T)(S.add)&&(0,t.T)(S.unsubscribe)}function D(S){(0,t.T)(S)?S():S.unsubscribe()}},8389:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>k});var t=l(8434),o=l(8018),f=l(8400),A=l(9417),e=l(6599),w=l(4367),m=l(7677),D=l(1683),S=l(3843),g=l(1360);let k=(()=>{class z{static{this.\u0275fac=function(B){return new(B||z)}}static{this.\u0275mod=g.$C({type:z})}static{this.\u0275inj=g.G2t({imports:[A.YN,A.X1,f.qP,t.MD,o.h,e.Y,w.N,m.N,D.Y,S.G]})}}return z})()},8400:(ot,ve,l)=>{"use strict";l.d(ve,{Xi:()=>st,qP:()=>Qe});var t=l(1360),o=l(2806),f=l(2865),A=l(8359),e=l(4402),w=l(983),m=l(6648),D=l(5218),S=l(8434),g=l(9417),k=l(6932),z=l(152),u=l(8141),E=l(5558),B=l(1397),V=l(5964),F=l(6649),M=l(9974);const y=(ne,Y)=>(ne.push(Y),ne);const Z=["ulElement"],v=["liElements"],L=(ne,Y,he,ge)=>({matches:ne,itemTemplate:Y,query:he,$implicit:ge}),Q=(ne,Y,he,ge)=>({item:ne,index:Y,match:he,query:ge});function te(ne,Y){}function N(ne,Y){if(1&ne&&t.nrm(0,"span",4),2&ne){const he=Y.match,ge=Y.query,s=t.XpG();t.Y8G("innerHtml",s.highlight(he,ge),t.npT)}}function fe(ne,Y){if(1&ne&&(t.j41(0,"h6",8),t.EFF(1),t.k0s()),2&ne){const he=t.XpG().$implicit;t.R7$(),t.JRh(he)}}function oe(ne,Y){}function R(ne,Y){if(1&ne){const he=t.RV6();t.j41(0,"button",9,2),t.bIt("click",function(s){t.eBV(he);const dt=t.XpG().$implicit,_t=t.XpG(2);return t.Njj(_t.selectMatch(dt,s))})("mouseenter",function(){t.eBV(he);const s=t.XpG().$implicit,dt=t.XpG(2);return t.Njj(dt.selectActive(s))}),t.DNE(2,oe,0,0,"ng-template",3),t.k0s()}if(2&ne){const he=t.XpG(),ge=he.$implicit,s=he.index,dt=t.XpG(2),_t=t.sdS(2);t.AVh("active",dt.isActive(ge)),t.Y8G("id",dt.popupId+"-"+s)("@typeaheadAnimation",dt.animationState),t.R7$(2),t.Y8G("ngTemplateOutlet",dt.itemTemplate||_t)("ngTemplateOutletContext",t.ziG(6,Q,ge.item,s,ge,dt.query))}}function Fe(ne,Y){if(1&ne&&t.DNE(0,fe,2,1,"h6",6)(1,R,3,11,"ng-template",7),2&ne){const he=Y.$implicit;t.Y8G("ngIf",he.isHeader()),t.R7$(),t.Y8G("ngIf",!he.isHeader())}}function we(ne,Y){if(1&ne&&t.DNE(0,Fe,2,2,"ng-template",5),2&ne){const he=t.XpG();t.Y8G("ngForOf",he.matches)}}const We={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class lt{constructor(Y,he=Y,ge=!1){this.item=Y,this.value=he,this.header=ge}isHeader(){return this.header}toString(){return this.value}}function vt(ne){return ne?ne.replace(/[^A-Za-z0-9[\] ]/g,function(Y){return We[Y]||Y}):""}function Ye(ne,Y=" ",he="",ge){let s=[];if(ge){const _t=ne.split(new RegExp(`([${ge}]+)`,"g")),en=_t[_t.length-1];en>""&&(Y&&he?s=He(en,Y,he):s.push(en))}else s=He(ne,Y,he);return s}function He(ne,Y,he){const ge=[],dt=ne.split(new RegExp(`(?:[${he}])([^${he}]+)(?:[${he}])|([^${Y}]+)`,"g")),_t=dt.length;let en;const Cn=new RegExp(`[${he}]+`,"g");for(let Wn=0;Wn<_t;Wn+=1)en=dt[Wn],en&&en.length&&en!==Y&&ge.push(en.replace(Cn,""));return ge}function it(ne,Y){if(!Y||"object"!=typeof ne)return ne.toString();if(Y.endsWith("()"))return ne[Y.slice(0,Y.length-2)]().toString();const ge=Y.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const s of ge)s in ne&&(ne=ne[s]);return ne?ne.toString():""}const Le="220ms cubic-bezier(0, 0, 0.2, 1)",Ve=(0,D.hZ)("typeaheadAnimation",[(0,D.wk)("animated-down",(0,D.iF)({height:"*",overflow:"hidden"})),(0,D.kY)("* => animated-down",[(0,D.iF)({height:0,overflow:"hidden"}),(0,D.i0)(Le)]),(0,D.wk)("animated-up",(0,D.iF)({height:"*",overflow:"hidden"})),(0,D.kY)("* => animated-up",[(0,D.iF)({height:"*",overflow:"hidden"}),(0,D.i0)(Le)]),(0,D.kY)("* => unanimated",(0,D.i0)("0s"))]);let Xe=0,je=(()=>{class ne{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(he,ge,s,dt){this.positionService=he,this.renderer=ge,this.element=s,this.changeDetectorRef=dt,this.activeChangeEvent=new t.bkB,this.isFocused=!1,this.positionServiceSubscription=new A.yU,this.height=0,this.popupId="ngb-typeahead-"+Xe++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(he){this._active=he,this.activeChanged()}get matches(){return this._matches}set matches(he){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=he,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const ge=this._matches.find(s=>s.value===this._active?.value);if(ge)return void this.selectActive(ge);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(he){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&he&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const he=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${he}`)}prevActiveMatch(){if(!this._active)return;const he=this.matches.indexOf(this._active);this.setActive(this.matches[he-1<0?this.matches.length-1:he-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(he)}nextActiveMatch(){const he=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[he+1>this.matches.length-1?0:he+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(he)}selectActive(he){this.isFocused=!0,this.setActive(he)}highlight(he,ge){let _t,en,s=he.value,dt=(this.parent&&this.parent.typeaheadLatinize?vt(s):s).toLowerCase();if("object"==typeof ge){const Cn=ge.length;for(let Wn=0;Wn<Cn;Wn+=1)_t=dt.indexOf(ge[Wn]),en=ge[Wn].length,_t>=0&&en>0&&(s=`${s.substring(0,_t)}<strong>${s.substring(_t,_t+en)}</strong>${s.substring(_t+en)}`,dt=`${dt.substring(0,_t)}????????${"??".repeat(en)}??????????${dt.substring(_t+en)}`)}else ge&&(_t=dt.indexOf(ge),en=ge.length,_t>=0&&en>0&&(s=`${s.substring(0,_t)}<strong>${s.substring(_t,_t+en)}</strong>${s.substring(_t+en)}`));return s}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(he){return this.active===he}selectMatch(he,ge){return ge&&(ge.stopPropagation(),ge.preventDefault()),this.parent?.changeModel(he),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(he),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const he=o.Aq.getStyles(this.ulElement.nativeElement),ge=o.Aq.getStyles(this.liElements.first.nativeElement),s=parseFloat((he["padding-bottom"]?he["padding-bottom"]:"").replace("px","")),dt=parseFloat((he["padding-top"]?he["padding-top"]:"0").replace("px","")),_t=parseFloat((ge.height?ge.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*_t+dt+s}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(he){if(0!==he){if(this.liElements&&this.ulElement){const ge=this.liElements.toArray()[he-1];ge&&!this.isScrolledIntoView(ge.nativeElement)&&(this.ulElement.nativeElement.scrollTop=ge.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(he){if(he+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const ge=this.liElements.toArray()[he+1];ge&&!this.isScrolledIntoView(ge.nativeElement)&&(this.ulElement.nativeElement.scrollTop=ge.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(ge.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(he){let ge;this._active=he,null==this._active||this._active.isHeader()||(ge=he),this.parent?.typeaheadOnPreview.emit(ge)}isScrolledIntoView(he){if(!this.ulElement)return!1;const ge=this.ulElement.nativeElement.scrollTop,s=ge+Number(this.ulElement.nativeElement.offsetHeight),dt=he.offsetTop;return dt+he.offsetHeight<=s&&dt>=ge}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(ge){return new(ge||ne)(t.rXU(f.DF),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:ne,selectors:[["typeahead-container"]],viewQuery:function(ge,s){if(1&ge&&(t.GBs(Z,5),t.GBs(v,5)),2&ge){let dt;t.mGM(dt=t.lsd())&&(s.ulElement=dt.first),t.mGM(dt=t.lsd())&&(s.liElements=dt)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(ge,s){1&ge&&t.bIt("mouseleave",function(){return s.focusLost()})("blur",function(){return s.focusLost()}),2&ge&&(t.BMQ("role","listbox"),t.xc7("height",s.needScrollbar?s.guiHeight:"auto")("visibility","inherit"),t.AVh("dropup",s.dropup))},outputs:{activeChangeEvent:"activeChange"},features:[t.Jv_([f.DF])],decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(ge,s){if(1&ge&&t.DNE(0,te,0,0,"ng-template",3)(1,N,1,1,"ng-template",null,0,t.C5r)(3,we,1,1,"ng-template",null,1,t.C5r),2&ge){const dt=t.sdS(2),_t=t.sdS(4);t.Y8G("ngTemplateOutlet",s.optionsListTemplate||_t)("ngTemplateOutletContext",t.ziG(2,L,s.matches,s.itemTemplate||dt,s.query,s.typeaheadTemplateMethods))}},dependencies:[S.T3,S.Sq,S.bT],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[Ve]}})}}return ne})(),ct=(()=>{class ne{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(ge){return new(ge||ne)}}static{this.\u0275prov=t.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})(),st=(()=>{class ne{constructor(he,ge,s,dt,_t,en,Cn){this.changeDetection=s,this.element=dt,this.ngControl=_t,this.renderer=en,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new t.bkB,this.typeaheadNoResults=new t.bkB,this.typeaheadOnSelect=new t.bkB,this.typeaheadOnPreview=new t.bkB,this.typeaheadOnBlur=new t.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new t.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=he.createLoader(dt,Cn,en).provide({provide:ct,useValue:ge}),Object.assign(this,{typeaheadHideResultsOnBlur:ge.hideResultsOnBlur,cancelRequestOnFocusLost:ge.cancelRequestOnFocusLost,typeaheadSelectFirstItem:ge.selectFirstItem,typeaheadIsFirstItemActive:ge.isFirstItemActive,typeaheadMinLength:ge.minLength,adaptivePosition:ge.adaptivePosition,isAnimated:ge.isAnimated,selectItemOnBlur:ge.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,e.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,e.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(he){const ge=void 0!==he.target.value?he.target.value:void 0!==he.target.textContent?he.target.textContent:he.target.innerText;null!=ge&&ge.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(he.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(he){if(this._container){if(27===he.keyCode||"Escape"===he.key)return void this.hide();if(38===he.keyCode||"ArrowUp"===he.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===he.keyCode||"ArrowDown"===he.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===he.keyCode||"Enter"===he.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new lt(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(he){if(this._container&&((9===he.keyCode||"Tab"===he.key)&&this.onBlur(),9===he.keyCode||"Tab"===he.key||13===he.keyCode||"Enter"===he.key)){if(he.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(he){if(!he)return;let ge;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const s=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=s.slice(0,s.length-1).concat(he.value).join(""),ge=this._allEnteredValue}else ge=he.value;this.ngControl.viewToModelUpdate(ge),this.ngControl.control?.setValue(ge),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(je).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",ge=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(ge.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(ge.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const he=(this.typeaheadLatinize?vt(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(he),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(ge=>{this.activeDescendant=ge,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const he of this._subscriptions)he.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,z.B)(this.typeaheadWaitMs),(0,u.M)(he=>this._allEnteredValue=he),(0,E.n)(()=>this.typeahead?this.typeahead:w.w)).subscribe(he=>{this.finalizeAsyncCall(he)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,z.B)(this.typeaheadWaitMs),(0,B.Z)(he=>{this._allEnteredValue=he;const ge=this.normalizeQuery(he);return this.typeahead?((0,e.A)(this.typeahead)?this.typeahead:(0,m.H)(this.typeahead)).pipe((0,V.p)(dt=>!!dt&&this.testMatch(this.normalizeOption(dt),ge)),function X(){return(0,M.N)((ne,Y)=>{(function W(ne,Y){return(0,M.N)((0,F.S)(ne,Y,arguments.length>=2,!1,!0))})(y,[])(ne).subscribe(Y)})}()):w.w})).subscribe(he=>{this.finalizeAsyncCall(he)}))}normalizeOption(he){const ge=it(he,this.typeaheadOptionField);return(this.typeaheadLatinize?vt(ge):ge).toLowerCase()}tokenizeQuery(he){let ge=he;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(ge=Ye(ge,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):ge=this.typeaheadSingleWords?Ye(ge,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Ye(ge,void 0,void 0,this.typeaheadMultipleSearchDelimiters),ge}normalizeQuery(he){let ge=(this.typeaheadLatinize?vt(he):he).toString().toLowerCase();return ge=this.tokenizeQuery(ge),ge}testMatch(he,ge){let s;if("object"==typeof ge){s=ge.length;for(let dt=0;dt<s;dt+=1)if(ge[dt].length>0&&he.indexOf(ge[dt])<0)return!1;return!0}return he.indexOf(ge)>=0}finalizeAsyncCall(he){if(this.prepareMatches(he||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const s=((this.typeaheadLatinize?vt(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(s),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(he){const ge=he.slice(0,this.typeaheadOptionsLimit),s=this.typeaheadOrderBy?this.orderMatches(ge):ge;if(this.typeaheadGroupField){let dt=[];s.map(en=>it(en,this.typeaheadGroupField)).filter((en,Cn,Wn)=>Wn.indexOf(en)===Cn).forEach(en=>{dt.push(new lt(en,en,!0)),dt=dt.concat(s.filter(Cn=>it(Cn,this.typeaheadGroupField)===en).map(Cn=>new lt(Cn,it(Cn,this.typeaheadOptionField))))}),this._matches=dt}else this._matches=s.map(dt=>new lt(dt,it(dt,this.typeaheadOptionField)))}orderMatches(he){if(!he.length)return he;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),he;const{field:ge,direction:s}=this.typeaheadOrderBy||{};return!s||"asc"!==s&&"desc"!==s?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),he):"string"==typeof he[0]?"asc"===s?he.sort():he.sort().reverse():ge&&"string"==typeof ge?he.sort((dt,_t)=>{const en=it(dt,ge),Cn=it(_t,ge);return en<Cn?"asc"===s?-1:1:en>Cn?"asc"===s?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),he)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(he,ge){for(let s=0;s<he.length;s++)if(he.charAt(s).indexOf(ge)>-1)return!0;return!1}static{this.\u0275fac=function(ge){return new(ge||ne)(t.rXU(k.Li),t.rXU(ct),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(g.vO),t.rXU(t.sFG),t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:ne,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(ge,s){1&ge&&t.bIt("input",function(_t){return s.onInput(_t)})("keyup",function(_t){return s.onChange(_t)})("click",function(){return s.onFocus()})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("keydown",function(_t){return s.onKeydown(_t)}),2&ge&&t.BMQ("aria-activedescendant",s.activeDescendant)("aria-owns",s.isOpen?s._container.popupId:null)("aria-expanded",s.isOpen)("aria-autocomplete",s.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"],features:[t.Jv_([k.Li,f.DF])]})}}return ne})(),Qe=(()=>{class ne{static forRoot(){return{ngModule:ne,providers:[]}}static{this.\u0275fac=function(ge){return new(ge||ne)}}static{this.\u0275mod=t.$C({type:ne})}static{this.\u0275inj=t.G2t({imports:[S.MD]})}}return ne})()},8412:(ot,ve,l)=>{"use strict";l.d(ve,{X:()=>o});var t=l(1716);function o(...f){return(0,t.h)(...f)}},8416:(ot,ve,l)=>{"use strict";l.d(ve,{M:()=>o});var t=l(1360);let o=(()=>{class f{canDeactivate(e){return!e.canDeactivate||e.canDeactivate()}static{this.\u0275fac=function(w){return new(w||f)}}static{this.\u0275prov=t.jDH({token:f,factory:f.\u0275fac})}}return f})()},8434:(ot,ve,l)=>{"use strict";l.d(ve,{MD:()=>Bt,P9:()=>Fn,Pc:()=>Be,QX:()=>$t,Sq:()=>un,T3:()=>Vn,YU:()=>wt,Yq:()=>Le,bT:()=>Ii,fw:()=>f,lG:()=>Ji});var t=l(1360),o=l(1482);let f=(()=>{class ue extends o.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(ae,Ce){super(),this._platformLocation=ae,null!=Ce&&(this._baseHref=Ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ae){this._removeListenerFns.push(this._platformLocation.onPopState(ae),this._platformLocation.onHashChange(ae))}getBaseHref(){return this._baseHref}path(ae=!1){const Ce=this._platformLocation.hash??"#";return Ce.length>0?Ce.substring(1):Ce}prepareExternalUrl(ae){const Ce=(0,o.om)(this._baseHref,ae);return Ce.length>0?"#"+Ce:Ce}pushState(ae,Ce,Pe,At){const pn=this.prepareExternalUrl(Pe+(0,o.Q)(At))||this._platformLocation.pathname;this._platformLocation.pushState(ae,Ce,pn)}replaceState(ae,Ce,Pe,At){const pn=this.prepareExternalUrl(Pe+(0,o.Q)(At))||this._platformLocation.pathname;this._platformLocation.replaceState(ae,Ce,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ae=0){this._platformLocation.historyGo?.(ae)}static \u0275fac=function(Ce){return new(Ce||ue)(t.KVO(o.Vw),t.KVO(o.kB,8))};static \u0275prov=t.jDH({token:ue,factory:ue.\u0275fac})}return ue})();var e=function(ue){return ue[ue.Decimal=0]="Decimal",ue[ue.Percent=1]="Percent",ue[ue.Currency=2]="Currency",ue[ue.Scientific=3]="Scientific",ue}(e||{}),m=function(ue){return ue[ue.Format=0]="Format",ue[ue.Standalone=1]="Standalone",ue}(m||{}),D=function(ue){return ue[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue}(D||{}),S=function(ue){return ue[ue.Short=0]="Short",ue[ue.Medium=1]="Medium",ue[ue.Long=2]="Long",ue[ue.Full=3]="Full",ue}(S||{});const g={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W(ue,Ae){return We((0,t.H5H)(ue)[t.KH2.DateFormat],Ae)}function y(ue,Ae){return We((0,t.H5H)(ue)[t.KH2.TimeFormat],Ae)}function X(ue,Ae){return We((0,t.H5H)(ue)[t.KH2.DateTimeFormat],Ae)}function Z(ue,Ae){const ae=(0,t.H5H)(ue),Ce=ae[t.KH2.NumberSymbols][Ae];if(typeof Ce>"u"){if(Ae===g.CurrencyDecimal)return ae[t.KH2.NumberSymbols][g.Decimal];if(Ae===g.CurrencyGroup)return ae[t.KH2.NumberSymbols][g.Group]}return Ce}function oe(ue){if(!ue[t.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ue[t.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function We(ue,Ae){for(let ae=Ae;ae>-1;ae--)if(typeof ue[ae]<"u")return ue[ae];throw new Error("Locale data API: locale data undefined")}function rt(ue){const[Ae,ae]=ue.split(":");return{hours:+Ae,minutes:+ae}}const Ye=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,He={},it=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Le(ue,Ae,ae,Ce){let Pe=function pe(ue){if(P(ue))return ue;if("number"==typeof ue&&!isNaN(ue))return new Date(ue);if("string"==typeof ue){if(ue=ue.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ue)){const[Pe,At=1,pn=1]=ue.split("-").map(Bn=>+Bn);return Ve(Pe,At-1,pn)}const ae=parseFloat(ue);if(!isNaN(ue-ae))return new Date(ae);let Ce;if(Ce=ue.match(Ye))return function de(ue){const Ae=new Date(0);let ae=0,Ce=0;const Pe=ue[8]?Ae.setUTCFullYear:Ae.setFullYear,At=ue[8]?Ae.setUTCHours:Ae.setHours;ue[9]&&(ae=Number(ue[9]+ue[10]),Ce=Number(ue[9]+ue[11])),Pe.call(Ae,Number(ue[1]),Number(ue[2])-1,Number(ue[3]));const pn=Number(ue[4]||0)-ae,Bn=Number(ue[5]||0)-Ce,Wi=Number(ue[6]||0),Di=Math.floor(1e3*parseFloat("0."+(ue[7]||0)));return At.call(Ae,pn,Bn,Wi,Di),Ae}(Ce)}const Ae=new Date(ue);if(!P(Ae))throw new Error(`Unable to convert "${ue}" into a date`);return Ae}(ue);Ae=Xe(ae,Ae)||Ae;let Bn,pn=[];for(;Ae;){if(Bn=it.exec(Ae),!Bn){pn.push(Ae);break}{pn=pn.concat(Bn.slice(1));const Li=pn.pop();if(!Li)break;Ae=Li}}let Wi=Pe.getTimezoneOffset();Ce&&(Wi=ni(Ce,Wi),Pe=function Qt(ue,Ae){const Pe=ue.getTimezoneOffset();return function ft(ue,Ae){return(ue=new Date(ue.getTime())).setMinutes(ue.getMinutes()+Ae),ue}(ue,-1*(ni(Ae,Pe)-Pe))}(Pe,Ce));let Di="";return pn.forEach(Li=>{const li=function Ln(ue){if(tn[ue])return tn[ue];let Ae;switch(ue){case"G":case"GG":case"GGG":Ae=Y(3,D.Abbreviated);break;case"GGGG":Ae=Y(3,D.Wide);break;case"GGGGG":Ae=Y(3,D.Narrow);break;case"y":Ae=Qe(0,1,0,!1,!0);break;case"yy":Ae=Qe(0,2,0,!0,!0);break;case"yyy":Ae=Qe(0,3,0,!1,!0);break;case"yyyy":Ae=Qe(0,4,0,!1,!0);break;case"Y":Ae=Wn(1);break;case"YY":Ae=Wn(2,!0);break;case"YYY":Ae=Wn(3);break;case"YYYY":Ae=Wn(4);break;case"M":case"L":Ae=Qe(1,1,1);break;case"MM":case"LL":Ae=Qe(1,2,1);break;case"MMM":Ae=Y(2,D.Abbreviated);break;case"MMMM":Ae=Y(2,D.Wide);break;case"MMMMM":Ae=Y(2,D.Narrow);break;case"LLL":Ae=Y(2,D.Abbreviated,m.Standalone);break;case"LLLL":Ae=Y(2,D.Wide,m.Standalone);break;case"LLLLL":Ae=Y(2,D.Narrow,m.Standalone);break;case"w":Ae=Cn(1);break;case"ww":Ae=Cn(2);break;case"W":Ae=Cn(1,!0);break;case"d":Ae=Qe(2,1);break;case"dd":Ae=Qe(2,2);break;case"c":case"cc":Ae=Qe(7,1);break;case"ccc":Ae=Y(1,D.Abbreviated,m.Standalone);break;case"cccc":Ae=Y(1,D.Wide,m.Standalone);break;case"ccccc":Ae=Y(1,D.Narrow,m.Standalone);break;case"cccccc":Ae=Y(1,D.Short,m.Standalone);break;case"E":case"EE":case"EEE":Ae=Y(1,D.Abbreviated);break;case"EEEE":Ae=Y(1,D.Wide);break;case"EEEEE":Ae=Y(1,D.Narrow);break;case"EEEEEE":Ae=Y(1,D.Short);break;case"a":case"aa":case"aaa":Ae=Y(0,D.Abbreviated);break;case"aaaa":Ae=Y(0,D.Wide);break;case"aaaaa":Ae=Y(0,D.Narrow);break;case"b":case"bb":case"bbb":Ae=Y(0,D.Abbreviated,m.Standalone,!0);break;case"bbbb":Ae=Y(0,D.Wide,m.Standalone,!0);break;case"bbbbb":Ae=Y(0,D.Narrow,m.Standalone,!0);break;case"B":case"BB":case"BBB":Ae=Y(0,D.Abbreviated,m.Format,!0);break;case"BBBB":Ae=Y(0,D.Wide,m.Format,!0);break;case"BBBBB":Ae=Y(0,D.Narrow,m.Format,!0);break;case"h":Ae=Qe(3,1,-12);break;case"hh":Ae=Qe(3,2,-12);break;case"H":Ae=Qe(3,1);break;case"HH":Ae=Qe(3,2);break;case"m":Ae=Qe(4,1);break;case"mm":Ae=Qe(4,2);break;case"s":Ae=Qe(5,1);break;case"ss":Ae=Qe(5,2);break;case"S":Ae=Qe(6,1);break;case"SS":Ae=Qe(6,2);break;case"SSS":Ae=Qe(6,3);break;case"Z":case"ZZ":case"ZZZ":Ae=ge(0);break;case"ZZZZZ":Ae=ge(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ae=ge(1);break;case"OOOO":case"ZZZZ":case"zzzz":Ae=ge(2);break;default:return null}return tn[ue]=Ae,Ae}(Li);Di+=li?li(Pe,ae,Wi):"''"===Li?"'":Li.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Di}function Ve(ue,Ae,ae){const Ce=new Date(0);return Ce.setFullYear(ue,Ae,ae),Ce.setHours(0,0,0),Ce}function Xe(ue,Ae){const ae=function z(ue){return(0,t.H5H)(ue)[t.KH2.LocaleId]}(ue);if(He[ae]??={},He[ae][Ae])return He[ae][Ae];let Ce="";switch(Ae){case"shortDate":Ce=W(ue,S.Short);break;case"mediumDate":Ce=W(ue,S.Medium);break;case"longDate":Ce=W(ue,S.Long);break;case"fullDate":Ce=W(ue,S.Full);break;case"shortTime":Ce=y(ue,S.Short);break;case"mediumTime":Ce=y(ue,S.Medium);break;case"longTime":Ce=y(ue,S.Long);break;case"fullTime":Ce=y(ue,S.Full);break;case"short":const Pe=Xe(ue,"shortTime"),At=Xe(ue,"shortDate");Ce=je(X(ue,S.Short),[Pe,At]);break;case"medium":const pn=Xe(ue,"mediumTime"),Bn=Xe(ue,"mediumDate");Ce=je(X(ue,S.Medium),[pn,Bn]);break;case"long":const Wi=Xe(ue,"longTime"),Di=Xe(ue,"longDate");Ce=je(X(ue,S.Long),[Wi,Di]);break;case"full":const Li=Xe(ue,"fullTime"),li=Xe(ue,"fullDate");Ce=je(X(ue,S.Full),[Li,li])}return Ce&&(He[ae][Ae]=Ce),Ce}function je(ue,Ae){return Ae&&(ue=ue.replace(/\{([^}]+)}/g,function(ae,Ce){return null!=Ae&&Ce in Ae?Ae[Ce]:ae})),ue}function ct(ue,Ae,ae="-",Ce,Pe){let At="";(ue<0||Pe&&ue<=0)&&(Pe?ue=1-ue:(ue=-ue,At=ae));let pn=String(ue);for(;pn.length<Ae;)pn="0"+pn;return Ce&&(pn=pn.slice(pn.length-Ae)),At+pn}function Qe(ue,Ae,ae=0,Ce=!1,Pe=!1){return function(At,pn){let Bn=function ne(ue,Ae){switch(ue){case 0:return Ae.getFullYear();case 1:return Ae.getMonth();case 2:return Ae.getDate();case 3:return Ae.getHours();case 4:return Ae.getMinutes();case 5:return Ae.getSeconds();case 6:return Ae.getMilliseconds();case 7:return Ae.getDay();default:throw new Error(`Unknown DateType value "${ue}".`)}}(ue,At);if((ae>0||Bn>-ae)&&(Bn+=ae),3===ue)0===Bn&&-12===ae&&(Bn=12);else if(6===ue)return function st(ue,Ae){return ct(ue,3).substring(0,Ae)}(Bn,Ae);const Wi=Z(pn,g.MinusSign);return ct(Bn,Ae,Wi,Ce,Pe)}}function Y(ue,Ae,ae=m.Format,Ce=!1){return function(Pe,At){return function he(ue,Ae,ae,Ce,Pe,At){switch(ae){case 2:return function B(ue,Ae,ae){const Ce=(0,t.H5H)(ue),At=We([Ce[t.KH2.MonthsFormat],Ce[t.KH2.MonthsStandalone]],Ae);return We(At,ae)}(Ae,Pe,Ce)[ue.getMonth()];case 1:return function E(ue,Ae,ae){const Ce=(0,t.H5H)(ue),At=We([Ce[t.KH2.DaysFormat],Ce[t.KH2.DaysStandalone]],Ae);return We(At,ae)}(Ae,Pe,Ce)[ue.getDay()];case 0:const pn=ue.getHours(),Bn=ue.getMinutes();if(At){const Di=function R(ue){const Ae=(0,t.H5H)(ue);return oe(Ae),(Ae[t.KH2.ExtraData][2]||[]).map(Ce=>"string"==typeof Ce?rt(Ce):[rt(Ce[0]),rt(Ce[1])])}(Ae),Li=function Fe(ue,Ae,ae){const Ce=(0,t.H5H)(ue);oe(Ce);const At=We([Ce[t.KH2.ExtraData][0],Ce[t.KH2.ExtraData][1]],Ae)||[];return We(At,ae)||[]}(Ae,Pe,Ce),li=Di.findIndex(Ui=>{if(Array.isArray(Ui)){const[Yi,Os]=Ui,Fs=pn>=Yi.hours&&Bn>=Yi.minutes,Or=pn<Os.hours||pn===Os.hours&&Bn<Os.minutes;if(Yi.hours<Os.hours){if(Fs&&Or)return!0}else if(Fs||Or)return!0}else if(Ui.hours===pn&&Ui.minutes===Bn)return!0;return!1});if(-1!==li)return Li[li]}return function u(ue,Ae,ae){const Ce=(0,t.H5H)(ue),At=We([Ce[t.KH2.DayPeriodsFormat],Ce[t.KH2.DayPeriodsStandalone]],Ae);return We(At,ae)}(Ae,Pe,Ce)[pn<12?0:1];case 3:return function V(ue,Ae){return We((0,t.H5H)(ue)[t.KH2.Eras],Ae)}(Ae,Ce)[ue.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ae}`)}}(Pe,At,ue,Ae,ae,Ce)}}function ge(ue){return function(Ae,ae,Ce){const Pe=-1*Ce,At=Z(ae,g.MinusSign),pn=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch(ue){case 0:return(Pe>=0?"+":"")+ct(pn,2,At)+ct(Math.abs(Pe%60),2,At);case 1:return"GMT"+(Pe>=0?"+":"")+ct(pn,1,At);case 2:return"GMT"+(Pe>=0?"+":"")+ct(pn,2,At)+":"+ct(Math.abs(Pe%60),2,At);case 3:return 0===Ce?"Z":(Pe>=0?"+":"")+ct(pn,2,At)+":"+ct(Math.abs(Pe%60),2,At);default:throw new Error(`Unknown zone width "${ue}"`)}}}const s=0,dt=4;function en(ue){const Ae=ue.getDay(),ae=0===Ae?-3:dt-Ae;return Ve(ue.getFullYear(),ue.getMonth(),ue.getDate()+ae)}function Cn(ue,Ae=!1){return function(ae,Ce){let Pe;if(Ae){const At=new Date(ae.getFullYear(),ae.getMonth(),1).getDay()-1,pn=ae.getDate();Pe=1+Math.floor((pn+At)/7)}else{const At=en(ae),pn=function _t(ue){const Ae=Ve(ue,s,1).getDay();return Ve(ue,0,1+(Ae<=dt?dt:dt+7)-Ae)}(At.getFullYear()),Bn=At.getTime()-pn.getTime();Pe=1+Math.round(Bn/6048e5)}return ct(Pe,ue,Z(Ce,g.MinusSign))}}function Wn(ue,Ae=!1){return function(ae,Ce){return ct(en(ae).getFullYear(),ue,Z(Ce,g.MinusSign),Ae)}}const tn={};function ni(ue,Ae){ue=ue.replace(/:/g,"");const ae=Date.parse("Jan 01, 1970 00:00:00 "+ue)/6e4;return isNaN(ae)?Ae:ae}function P(ue){return ue instanceof Date&&!isNaN(ue.valueOf())}const q=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bi(ue){const Ae=parseInt(ue);if(isNaN(Ae))throw new Error("Invalid integer literal when parsing "+ue);return Ae}const fs=/\s+/,xi=[];let wt=(()=>{class ue{_ngEl;_renderer;initialClasses=xi;rawClass;stateMap=new Map;constructor(ae,Ce){this._ngEl=ae,this._renderer=Ce}set klass(ae){this.initialClasses=null!=ae?ae.trim().split(fs):xi}set ngClass(ae){this.rawClass="string"==typeof ae?ae.trim().split(fs):ae}ngDoCheck(){for(const Ce of this.initialClasses)this._updateState(Ce,!0);const ae=this.rawClass;if(Array.isArray(ae)||ae instanceof Set)for(const Ce of ae)this._updateState(Ce,!0);else if(null!=ae)for(const Ce of Object.keys(ae))this._updateState(Ce,!!ae[Ce]);this._applyStateDiff()}_updateState(ae,Ce){const Pe=this.stateMap.get(ae);void 0!==Pe?(Pe.enabled!==Ce&&(Pe.changed=!0,Pe.enabled=Ce),Pe.touched=!0):this.stateMap.set(ae,{enabled:Ce,changed:!0,touched:!0})}_applyStateDiff(){for(const ae of this.stateMap){const Ce=ae[0],Pe=ae[1];Pe.changed?(this._toggleClass(Ce,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(Ce,!1),this.stateMap.delete(Ce)),Pe.touched=!1}}_toggleClass(ae,Ce){(ae=ae.trim()).length>0&&ae.split(fs).forEach(Pe=>{Ce?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static \u0275fac=function(Ce){return new(Ce||ue)(t.rXU(t.aKT),t.rXU(t.sFG))};static \u0275dir=t.FsC({type:ue,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return ue})();class Wt{$implicit;ngForOf;index;count;constructor(Ae,ae,Ce,Pe){this.$implicit=Ae,this.ngForOf=ae,this.index=Ce,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let un=(()=>{class ue{_viewContainer;_template;_differs;set ngForOf(ae){this._ngForOf=ae,this._ngForOfDirty=!0}set ngForTrackBy(ae){this._trackByFn=ae}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(ae,Ce,Pe){this._viewContainer=ae,this._template=Ce,this._differs=Pe}set ngForTemplate(ae){ae&&(this._template=ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ae=this._ngForOf;!this._differ&&ae&&(this._differ=this._differs.find(ae).create(this.ngForTrackBy))}if(this._differ){const ae=this._differ.diff(this._ngForOf);ae&&this._applyChanges(ae)}}_applyChanges(ae){const Ce=this._viewContainer;ae.forEachOperation((Pe,At,pn)=>{if(null==Pe.previousIndex)Ce.createEmbeddedView(this._template,new Wt(Pe.item,this._ngForOf,-1,-1),null===pn?void 0:pn);else if(null==pn)Ce.remove(null===At?void 0:At);else if(null!==At){const Bn=Ce.get(At);Ce.move(Bn,pn),ii(Bn,Pe)}});for(let Pe=0,At=Ce.length;Pe<At;Pe++){const Bn=Ce.get(Pe).context;Bn.index=Pe,Bn.count=At,Bn.ngForOf=this._ngForOf}ae.forEachIdentityChange(Pe=>{ii(Ce.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(ae,Ce){return!0}static \u0275fac=function(Ce){return new(Ce||ue)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))};static \u0275dir=t.FsC({type:ue,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return ue})();function ii(ue,Ae){ue.context.$implicit=Ae.item}let Ii=(()=>{class ue{_viewContainer;_context=new Ti;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(ae,Ce){this._viewContainer=ae,this._thenTemplateRef=Ce}set ngIf(ae){this._context.$implicit=this._context.ngIf=ae,this._updateView()}set ngIfThen(ae){Dn(ae),this._thenTemplateRef=ae,this._thenViewRef=null,this._updateView()}set ngIfElse(ae){Dn(ae),this._elseTemplateRef=ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(ae,Ce){return!0}static \u0275fac=function(Ce){return new(Ce||ue)(t.rXU(t.c1b),t.rXU(t.C4Q))};static \u0275dir=t.FsC({type:ue,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return ue})();class Ti{$implicit=null;ngIf=null}function Dn(ue,Ae){if(ue&&!ue.createEmbeddedView)throw new t.wOt(2020,!1)}let Vn=(()=>{class ue{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(ae){this._viewContainerRef=ae}ngOnChanges(ae){if(this._shouldRecreateView(ae)){const Ce=this._viewContainerRef;if(this._viewRef&&Ce.remove(Ce.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Pe=this._createContextForwardProxy();this._viewRef=Ce.createEmbeddedView(this.ngTemplateOutlet,Pe,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ae){return!!ae.ngTemplateOutlet||!!ae.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ae,Ce,Pe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ce,Pe),get:(ae,Ce,Pe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ce,Pe)}})}static \u0275fac=function(Ce){return new(Ce||ue)(t.rXU(t.c1b))};static \u0275dir=t.FsC({type:ue,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[t.OA$]})}return ue})();function Xn(ue,Ae){return new t.wOt(2100,!1)}let Be=(()=>{class ue{transform(ae){if(null==ae)return null;if("string"!=typeof ae)throw Xn();return ae.toUpperCase()}static \u0275fac=function(Ce){return new(Ce||ue)};static \u0275pipe=t.EJ8({name:"uppercase",type:ue,pure:!0})}return ue})(),Ji=(()=>{class ue{differs;constructor(ae){this.differs=ae}differ;keyValues=[];compareFn=Ms;transform(ae,Ce=Ms){if(!ae||!(ae instanceof Map)&&"object"!=typeof ae)return null;this.differ??=this.differs.find(ae).create();const Pe=this.differ.diff(ae),At=Ce!==this.compareFn;return Pe&&(this.keyValues=[],Pe.forEachItem(pn=>{this.keyValues.push(function Ki(ue,Ae){return{key:ue,value:Ae}}(pn.key,pn.currentValue))})),(Pe||At)&&(Ce&&this.keyValues.sort(Ce),this.compareFn=Ce),this.keyValues}static \u0275fac=function(Ce){return new(Ce||ue)(t.rXU(t.MKu,16))};static \u0275pipe=t.EJ8({name:"keyvalue",type:ue,pure:!1})}return ue})();function Ms(ue,Ae){const ae=ue.key,Ce=Ae.key;if(ae===Ce)return 0;if(null==ae)return 1;if(null==Ce)return-1;if("string"==typeof ae&&"string"==typeof Ce)return ae<Ce?-1:1;if("number"==typeof ae&&"number"==typeof Ce)return ae-Ce;if("boolean"==typeof ae&&"boolean"==typeof Ce)return ae<Ce?-1:1;const Pe=String(ae),At=String(Ce);return Pe==At?0:Pe<At?-1:1}let $t=(()=>{class ue{_locale;constructor(ae){this._locale=ae}transform(ae,Ce,Pe){if(!function yn(ue){return!(null==ue||""===ue||ue!=ue)}(ae))return null;Pe||=this._locale;try{return function Zt(ue,Ae,ae){return function ei(ue,Ae,ae,Ce,Pe,At,pn=!1){let Bn="",Wi=!1;if(isFinite(ue)){let Di=function rs(ue){let Ce,Pe,At,pn,Bn,Ae=Math.abs(ue)+"",ae=0;for((Pe=Ae.indexOf("."))>-1&&(Ae=Ae.replace(".","")),(At=Ae.search(/e/i))>0?(Pe<0&&(Pe=At),Pe+=+Ae.slice(At+1),Ae=Ae.substring(0,At)):Pe<0&&(Pe=Ae.length),At=0;"0"===Ae.charAt(At);At++);if(At===(Bn=Ae.length))Ce=[0],Pe=1;else{for(Bn--;"0"===Ae.charAt(Bn);)Bn--;for(Pe-=At,Ce=[],pn=0;At<=Bn;At++,pn++)Ce[pn]=Number(Ae.charAt(At))}return Pe>22&&(Ce=Ce.splice(0,21),ae=Pe-1,Pe=1),{digits:Ce,exponent:ae,integerLen:Pe}}(ue);pn&&(Di=function In(ue){if(0===ue.digits[0])return ue;const Ae=ue.digits.length-ue.integerLen;return ue.exponent?ue.exponent+=2:(0===Ae?ue.digits.push(0,0):1===Ae&&ue.digits.push(0),ue.integerLen+=2),ue}(Di));let Li=Ae.minInt,li=Ae.minFrac,Ui=Ae.maxFrac;if(At){const Dt=At.match(q);if(null===Dt)throw new Error(`${At} is not a valid digit info`);const dn=Dt[1],Vt=Dt[3],mn=Dt[5];null!=dn&&(Li=Bi(dn)),null!=Vt&&(li=Bi(Vt)),null!=mn?Ui=Bi(mn):null!=Vt&&li>Ui&&(Ui=li)}!function _i(ue,Ae,ae){if(Ae>ae)throw new Error(`The minimum number of digits after fraction (${Ae}) is higher than the maximum (${ae}).`);let Ce=ue.digits,Pe=Ce.length-ue.integerLen;const At=Math.min(Math.max(Ae,Pe),ae);let pn=At+ue.integerLen,Bn=Ce[pn];if(pn>0){Ce.splice(Math.max(ue.integerLen,pn));for(let li=pn;li<Ce.length;li++)Ce[li]=0}else{Pe=Math.max(0,Pe),ue.integerLen=1,Ce.length=Math.max(1,pn=At+1),Ce[0]=0;for(let li=1;li<pn;li++)Ce[li]=0}if(Bn>=5)if(pn-1<0){for(let li=0;li>pn;li--)Ce.unshift(0),ue.integerLen++;Ce.unshift(1),ue.integerLen++}else Ce[pn-1]++;for(;Pe<Math.max(0,At);Pe++)Ce.push(0);let Wi=0!==At;const Di=Ae+ue.integerLen,Li=Ce.reduceRight(function(li,Ui,Yi,Os){return Os[Yi]=(Ui+=li)<10?Ui:Ui-10,Wi&&(0===Os[Yi]&&Yi>=Di?Os.pop():Wi=!1),Ui>=10?1:0},0);Li&&(Ce.unshift(Li),ue.integerLen++)}(Di,li,Ui);let Yi=Di.digits,Os=Di.integerLen;const Fs=Di.exponent;let Or=[];for(Wi=Yi.every(Dt=>!Dt);Os<Li;Os++)Yi.unshift(0);for(;Os<0;Os++)Yi.unshift(0);Os>0?Or=Yi.splice(Os,Yi.length):(Or=Yi,Yi=[0]);const Zr=[];for(Yi.length>=Ae.lgSize&&Zr.unshift(Yi.splice(-Ae.lgSize,Yi.length).join(""));Yi.length>Ae.gSize;)Zr.unshift(Yi.splice(-Ae.gSize,Yi.length).join(""));Yi.length&&Zr.unshift(Yi.join("")),Bn=Zr.join(Z(ae,Ce)),Or.length&&(Bn+=Z(ae,Pe)+Or.join("")),Fs&&(Bn+=Z(ae,g.Exponential)+"+"+Fs)}else Bn=Z(ae,g.Infinity);return Bn=ue<0&&!Wi?Ae.negPre+Bn+Ae.negSuf:Ae.posPre+Bn+Ae.posSuf,Bn}(ue,function Tn(ue,Ae="-"){const ae={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ce=ue.split(";"),Pe=Ce[0],At=Ce[1],pn=-1!==Pe.indexOf(".")?Pe.split("."):[Pe.substring(0,Pe.lastIndexOf("0")+1),Pe.substring(Pe.lastIndexOf("0")+1)],Bn=pn[0],Wi=pn[1]||"";ae.posPre=Bn.substring(0,Bn.indexOf("#"));for(let Li=0;Li<Wi.length;Li++){const li=Wi.charAt(Li);"0"===li?ae.minFrac=ae.maxFrac=Li+1:"#"===li?ae.maxFrac=Li+1:ae.posSuf+=li}const Di=Bn.split(",");if(ae.gSize=Di[1]?Di[1].length:0,ae.lgSize=Di[2]||Di[1]?(Di[2]||Di[1]).length:0,At){const Li=Pe.length-ae.posPre.length-ae.posSuf.length,li=At.indexOf("#");ae.negPre=At.substring(0,li).replace(/'/g,""),ae.negSuf=At.slice(li+Li).replace(/'/g,"")}else ae.negPre=Ae+ae.posPre,ae.negSuf=ae.posSuf;return ae}(function v(ue,Ae){return(0,t.H5H)(ue)[t.KH2.NumberFormats][Ae]}(Ae,e.Decimal),Z(Ae,g.MinusSign)),Ae,g.Group,g.Decimal,ae)}(function Yt(ue){if("string"==typeof ue&&!isNaN(Number(ue)-parseFloat(ue)))return Number(ue);if("number"!=typeof ue)throw new Error(`${ue} is not a number`);return ue}(ae),Pe,Ce)}catch(At){throw Xn()}}static \u0275fac=function(Ce){return new(Ce||ue)(t.rXU(t.xe9,16))};static \u0275pipe=t.EJ8({name:"number",type:ue,pure:!0})}return ue})();let Fn=(()=>{class ue{transform(ae,Ce,Pe){if(null==ae)return null;if("string"!=typeof ae&&!Array.isArray(ae))throw Xn();return ae.slice(Ce,Pe)}static \u0275fac=function(Ce){return new(Ce||ue)};static \u0275pipe=t.EJ8({name:"slice",type:ue,pure:!1})}return ue})(),Bt=(()=>{class ue{static \u0275fac=function(Ce){return new(Ce||ue)};static \u0275mod=t.$C({type:ue});static \u0275inj=t.G2t({})}return ue})()},8455:(ot,ve,l)=>{"use strict";l.d(ve,{p:()=>m});var t=l(779),o=l(8416),f=l(7499),A=l(8018),e=l(8434),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({providers:[o.M,f.o],imports:[e.MD,t.Q_,A.h]})}}return D})()},8496:(ot,ve,l)=>{"use strict";function t(o,f){return o.reduce((A,e,w)=>(A[e]=f[w],A),{})}l.d(ve,{e:()=>t})},8521:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>g});var t=l(9417),o=l(534),f=l(3816),A=l(8018),e=l(8434),w=l(2571),m=l(8389),D=l(6843),S=l(1360);let g=(()=>{class k{static{this.\u0275fac=function(E){return new(E||k)}}static{this.\u0275mod=S.$C({type:k})}static{this.\u0275inj=S.G2t({imports:[e.MD,w.A,t.X1,f.jr,A.h,o.Ss,m.w,D.l]})}}return k})()},8556:(ot,ve,l)=>{"use strict";l.d(ve,{S:()=>w});var t=l(1594),o=l(1360),f=l(9156),A=l(9069),e=l(5424);let w=(()=>{class m{constructor(S,g,k){this.serviceProviderService=S,this.cache=g,this.errorService=k}uploadFile(S,g){return this.serviceProviderService.addSigningCertificateViaFile(S,g)}uploadViaMetaData(S,g){return this.serviceProviderService.addSigningCertificateViaMetadata(S,g)}updateCertCache(S){this.serviceProviderService.getServiceProvider(S).subscribe(g=>{this.cache.unsavedCache$.pipe((0,t.$)()).subscribe(k=>{k.signingCertificates=g.signingCertificates,this.cache.unsavedCache.next(k)})},g=>{this.errorService.handleError(g)})}static{this.\u0275fac=function(g){return new(g||m)(o.KVO(f.s),o.KVO(A.d),o.KVO(e.I))}}static{this.\u0275prov=o.jDH({token:m,factory:m.\u0275fac})}}return m})()},8575:(ot,ve,l)=>{"use strict";l.d(ve,{J:()=>t});class t{constructor(f,A){this.setupTitle=f,this.summaryTitle=A}}},8577:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>w,w:()=>m});var t=l(1360),o=l(1589),f=l(2390),A=l(923),e=l(9812);class w{get datePipe(){return this._datePipe}constructor(S=A.N.standardDate,g="Common.NoDateSet"){this._datePipe=new o.El,this.noDateLabel=g??"Common.NoDateSet",this._datePipe=(()=>{switch(S){case A.N.standardDate:return new o.El;case A.N.standardDateTime:return new o.r7;case A.N.prettyDateTime:return new o.sp;default:return new o.El}})()}}let m=(()=>{class D{constructor(g){this.dataTableService=g,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new t.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(g=>{null!=this.sort&&this.setSort(g)})}get dateColumn(){return"boolean"==typeof this.date?new w:this.date}format(g){return void 0!==this.formatter?this.formatter(g):g}get sortClass(){if(null==this.sort)return"";switch(this.sort){case f.u.None:return"fad fa-sort";case f.u.Ascending:return"fas fa-caret-up";case f.u.Descending:return"fas fa-caret-down"}}setSort(g){this.sort=g==this.prop?this.sort==f.u.Descending?f.u.Ascending:f.u.Descending:f.u.None}static{this.\u0275fac=function(k){return new(k||D)(t.rXU(e.I))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},standalone:!1,decls:0,vars:0,template:function(k,z){},encapsulation:2})}}return D})()},8580:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>S});var t=l(983),o=l(6354),f=l(9437),A=l(8284),e=l(1360),w=l(3519),m=l(2947),D=l(5424);let S=(()=>{class g{constructor(z,u,E){this.roleService=z,this.router=u,this.errorService=E}resolve(z,u){const E=z.paramMap.get("id");return this.roleService.getRole(E).pipe((0,o.T)(B=>(B&&this.roleService.getCachedRole().next(B),B)),(0,f.W)((B,V)=>(404===B.status?this.errorService.resourceNotFound(A.v.role):this.errorService.handleError(B),(0,t.I)())))}static{this.\u0275fac=function(u){return new(u||g)(e.KVO(w.P),e.KVO(m.Ix),e.KVO(D.I))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},8588:(ot,ve,l)=>{var t=l(6589);l(1675),l(812),(ot.exports=t.pss=t.pss||{}).create=function(f){3===arguments.length&&(f={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var D,A=f.md,e=f.mgf,w=A.digestLength,m=f.salt||null;if("string"==typeof m&&(m=t.util.createBuffer(m)),"saltLength"in f)D=f.saltLength;else{if(null===m)throw new Error("Salt length not specified or specific salt not given.");D=m.length()}if(null!==m&&m.length()!==D)throw new Error("Given salt length does not match length of given salt.");var S=f.prng||t.random;return{encode:function(k,z){var u,F,E=z-1,B=Math.ceil(E/8),V=k.digest().getBytes();if(B<w+D+2)throw new Error("Message is too long to encrypt.");F=null===m?S.getBytesSync(D):m.bytes();var M=new t.util.ByteBuffer;M.fillWithByte(0,8),M.putBytes(V),M.putBytes(F),A.start(),A.update(M.getBytes());var W=A.digest().getBytes(),y=new t.util.ByteBuffer;y.fillWithByte(0,B-D-w-2),y.putByte(1),y.putBytes(F);var X=y.getBytes(),Z=B-w-1,v=e.generate(W,Z),L="";for(u=0;u<Z;u++)L+=String.fromCharCode(X.charCodeAt(u)^v.charCodeAt(u));var Q=65280>>8*B-E&255;return(L=String.fromCharCode(L.charCodeAt(0)&~Q)+L.substr(1))+W+"\xbc"},verify:function(k,z,u){var E,B=u-1,V=Math.ceil(B/8);if(z=z.substr(-V),V<w+D+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==z.charCodeAt(V-1))throw new Error("Encoded message does not end in 0xBC.");var F=V-w-1,M=z.substr(0,F),W=z.substr(F,w),y=65280>>8*V-B&255;if(M.charCodeAt(0)&y)throw new Error("Bits beyond keysize not zero as expected.");var X=e.generate(W,F),Z="";for(E=0;E<F;E++)Z+=String.fromCharCode(M.charCodeAt(E)^X.charCodeAt(E));Z=String.fromCharCode(Z.charCodeAt(0)&~y)+Z.substr(1);var v=V-w-D-2;for(E=0;E<v;E++)if(0!==Z.charCodeAt(E))throw new Error("Leftmost octets not zero as expected");if(1!==Z.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=Z.substr(-D),Q=new t.util.ByteBuffer;return Q.fillWithByte(0,8),Q.putBytes(k),Q.putBytes(L),A.start(),A.update(Q.getBytes()),W===A.digest().getBytes()}}}},8645:(ot,ve,l)=>{var t=l(6589);l(57),l(7097),l(3674),l(1817),l(9368),l(8291),l(1675),l(812),l(9436);var o=t.asn1,f=ot.exports=t.pkcs7=t.pkcs7||{};function A(V){var F={},M=[];if(!o.validate(V,f.asn1.recipientInfoValidator,F,M)){var W=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw W.errors=M,W}return{version:F.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(F.issuer),serialNumber:t.util.createBuffer(F.serial).toHex(),encryptedContent:{algorithm:o.derToOid(F.encAlgorithm),parameter:F.encParameter?F.encParameter.value:void 0,content:F.encKey}}}function e(V){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(V.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:V.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.util.hexToBytes(V.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.encryptedContent.algorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,V.encryptedContent.content)])}function m(V){for(var F=[],M=0;M<V.length;++M)F.push(e(V[M]));return F}function S(V){var F=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(V.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:V.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.util.hexToBytes(V.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.digestAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])]);if(V.authenticatedAttributesAsn1&&F.value.push(V.authenticatedAttributesAsn1),F.value.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.signatureAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),F.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,V.signature)),V.unauthenticatedAttributes.length>0){for(var M=o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[]),W=0;W<V.unauthenticatedAttributes.length;++W)M.values.push(z(V.unauthenticatedAttributes[W]));F.value.push(M)}return F}function z(V){var F;if(V.type===t.pki.oids.contentType)F=o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.value).getBytes());else if(V.type===t.pki.oids.messageDigest)F=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,V.value.bytes());else if(V.type===t.pki.oids.signingTime){var M=new Date("1950-01-01T00:00:00Z"),W=new Date("2050-01-01T00:00:00Z"),y=V.value;if("string"==typeof y){var X=Date.parse(y);y=isNaN(X)?13===y.length?o.utcTimeToDate(y):o.generalizedTimeToDate(y):new Date(X)}F=y>=M&&y<W?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(y)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(y))}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[F])])}function u(V){return[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.pki.oids.data).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.algorithm).getBytes()),V.parameter?o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,V.parameter.getBytes()):void 0]),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,V.content.getBytes())])]}function E(V,F,M){var W={};if(!o.validate(F,M,W,[])){var X=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw X.errors=X,X}if(o.derToOid(W.contentType)!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(W.encryptedContent){var v="";if(t.util.isArray(W.encryptedContent))for(var L=0;L<W.encryptedContent.length;++L){if(W.encryptedContent[L].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");v+=W.encryptedContent[L].value}else v=W.encryptedContent;V.encryptedContent={algorithm:o.derToOid(W.encAlgorithm),parameter:t.util.createBuffer(W.encParameter.value),content:t.util.createBuffer(v)}}if(W.content){if(v="",t.util.isArray(W.content))for(L=0;L<W.content.length;++L){if(W.content[L].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");v+=W.content[L].value}else v=W.content;V.content=t.util.createBuffer(v)}return V.version=W.version.charCodeAt(0),V.rawCapture=W,W}function B(V){if(void 0===V.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===V.content){var F;switch(V.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:F=t.aes.createDecryptionCipher(V.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:F=t.des.createDecryptionCipher(V.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+V.encryptedContent.algorithm)}if(F.start(V.encryptedContent.parameter),F.update(V.encryptedContent.content),!F.finish())throw new Error("Symmetric decryption failed.");V.content=F.output}}f.messageFromPem=function(V){var F=t.pem.decode(V)[0];if("PKCS7"!==F.type){var M=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw M.headerType=F.type,M}if(F.procType&&"ENCRYPTED"===F.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var W=o.fromDer(F.body);return f.messageFromAsn1(W)},f.messageToPem=function(V,F){var M={type:"PKCS7",body:o.toDer(V.toAsn1()).getBytes()};return t.pem.encode(M,{maxline:F})},f.messageFromAsn1=function(V){var F={},M=[];if(!o.validate(V,f.asn1.contentInfoValidator,F,M)){var W=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw W.errors=M,W}var X,y=o.derToOid(F.contentType);switch(y){case t.pki.oids.envelopedData:X=f.createEnvelopedData();break;case t.pki.oids.encryptedData:X=f.createEncryptedData();break;case t.pki.oids.signedData:X=f.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+y+" is not (yet) supported.")}return X.fromAsn1(F.content.value[0]),X},f.createSignedData=function(){var V=null;return V={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(W){if(E(V,W,f.asn1.signedDataValidator),V.certificates=[],V.crls=[],V.digestAlgorithmIdentifiers=[],V.contentInfo=null,V.signerInfos=[],V.rawCapture.certificates)for(var y=V.rawCapture.certificates.value,X=0;X<y.length;++X)V.certificates.push(t.pki.certificateFromAsn1(y[X]))},toAsn1:function(){V.contentInfo||V.sign();for(var W=[],y=0;y<V.certificates.length;++y)W.push(t.pki.certificateToAsn1(V.certificates[y]));var X=[],Z=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(V.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,V.digestAlgorithmIdentifiers),V.contentInfo])]);return W.length>0&&Z.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,W)),X.length>0&&Z.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,X)),Z.value[0].value.push(o.create(o.Class.UNIVERSAL,o.Type.SET,!0,V.signerInfos)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.type).getBytes()),Z])},addSigner:function(W){var y=W.issuer,X=W.serialNumber;if(W.certificate){var Z=W.certificate;"string"==typeof Z&&(Z=t.pki.certificateFromPem(Z)),y=Z.issuer.attributes,X=Z.serialNumber}var v=W.key;if(!v)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof v&&(v=t.pki.privateKeyFromPem(v));var L=W.digestAlgorithm||t.pki.oids.sha1;switch(L){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var Q=W.authenticatedAttributes||[];if(Q.length>0){for(var te=!1,N=!1,fe=0;fe<Q.length;++fe){var oe=Q[fe];if(te||oe.type!==t.pki.oids.contentType){if(N||oe.type!==t.pki.oids.messageDigest);else if(N=!0,te)break}else if(te=!0,N)break}if(!te||!N)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}V.signers.push({key:v,version:1,issuer:y,serialNumber:X,digestAlgorithm:L,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:Q,unauthenticatedAttributes:[]})},sign:function(W){var y;if(W=W||{},"object"==typeof V.content&&null!==V.contentInfo||(V.contentInfo=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.pki.oids.data).getBytes())]),!("content"in V))||(V.content instanceof t.util.ByteBuffer?y=V.content.bytes():"string"==typeof V.content&&(y=t.util.encodeUtf8(V.content)),W.detached?V.detachedContent=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,y):V.contentInfo.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,y)]))),0!==V.signers.length){var X=function F(){for(var W={},y=0;y<V.signers.length;++y){var X=V.signers[y];(Z=X.digestAlgorithm)in W||(W[Z]=t.md[t.pki.oids[Z]].create()),X.md=0===X.authenticatedAttributes.length?W[Z]:t.md[t.pki.oids[Z]].create()}for(var Z in V.digestAlgorithmIdentifiers=[],W)V.digestAlgorithmIdentifiers.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(Z).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return W}();!function M(W){var y;if(V.detachedContent?y=V.detachedContent:y=(y=V.contentInfo.value[1]).value[0],!y)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var X=o.derToOid(V.contentInfo.value[0].value),Z=o.toDer(y);for(var v in Z.getByte(),o.getBerValueLength(Z),Z=Z.getBytes(),W)W[v].start().update(Z);for(var L=new Date,Q=0;Q<V.signers.length;++Q){var te=V.signers[Q];if(0===te.authenticatedAttributes.length){if(X!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{te.authenticatedAttributesAsn1=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var N=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[]),fe=0;fe<te.authenticatedAttributes.length;++fe){var oe=te.authenticatedAttributes[fe];oe.type===t.pki.oids.messageDigest?oe.value=W[te.digestAlgorithm].digest():oe.type===t.pki.oids.signingTime&&(oe.value||(oe.value=L)),N.value.push(z(oe)),te.authenticatedAttributesAsn1.value.push(z(oe))}Z=o.toDer(N).getBytes(),te.md.start().update(Z)}te.signature=te.key.sign(te.md,"RSASSA-PKCS1-V1_5")}V.signerInfos=function k(V){for(var F=[],M=0;M<V.length;++M)F.push(S(V[M]));return F}(V.signers)}(X)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(W){"string"==typeof W&&(W=t.pki.certificateFromPem(W)),V.certificates.push(W)},addCertificateRevokationList:function(W){throw new Error("PKCS#7 CRL support not yet implemented.")}}},f.createEncryptedData=function(){var V=null;return V={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(F){E(V,F,f.asn1.encryptedDataValidator)},decrypt:function(F){void 0!==F&&(V.encryptedContent.key=F),B(V)}}},f.createEnvelopedData=function(){var V=null;return V={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(F){var M=E(V,F,f.asn1.envelopedDataValidator);V.recipients=function w(V){for(var F=[],M=0;M<V.length;++M)F.push(A(V[M]));return F}(M.recipientInfos.value)},toAsn1:function(){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(V.type).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(V.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,m(V.recipients)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,u(V.encryptedContent))])])])},findRecipient:function(F){for(var M=F.issuer.attributes,W=0;W<V.recipients.length;++W){var y=V.recipients[W],X=y.issuer;if(y.serialNumber===F.serialNumber&&X.length===M.length){for(var Z=!0,v=0;v<M.length;++v)if(X[v].type!==M[v].type||X[v].value!==M[v].value){Z=!1;break}if(Z)return y}}return null},decrypt:function(F,M){if(void 0===V.encryptedContent.key&&void 0!==F&&void 0!==M)switch(F.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var W=M.decrypt(F.encryptedContent.content);V.encryptedContent.key=t.util.createBuffer(W);break;default:throw new Error("Unsupported asymmetric cipher, OID "+F.encryptedContent.algorithm)}B(V)},addRecipient:function(F){V.recipients.push({version:0,issuer:F.issuer.attributes,serialNumber:F.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:F.publicKey}})},encrypt:function(F,M){if(void 0===V.encryptedContent.content){var W,y,X;switch(F=F||V.encryptedContent.key,M=M||V.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:W=16,y=16,X=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:W=24,y=16,X=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:W=32,y=16,X=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:W=24,y=8,X=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+M)}if(void 0===F)F=t.util.createBuffer(t.random.getBytes(W));else if(F.length()!=W)throw new Error("Symmetric key has wrong length; got "+F.length()+" bytes, expected "+W+".");V.encryptedContent.algorithm=M,V.encryptedContent.key=F,V.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(y));var Z=X(F);if(Z.start(V.encryptedContent.parameter.copy()),Z.update(V.content),!Z.finish())throw new Error("Symmetric encryption failed.");V.encryptedContent.content=Z.output}for(var v=0;v<V.recipients.length;++v){var L=V.recipients[v];if(void 0===L.encryptedContent.content){if(L.encryptedContent.algorithm!==t.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm);L.encryptedContent.content=L.encryptedContent.key.encrypt(V.encryptedContent.key.data)}}}}}},8698:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>g});var t=l(1360),o=l(8434),f=l(8018);const A=["*"],e=k=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":k});function w(k,z){if(1&k&&(t.nrm(0,"span",7),t.nI1(1,"translate")),2&k){const u=t.XpG(2);t.Y8G("innerHtml",t.bMT(1,1,u.helpText),t.npT)}}function m(k,z){if(1&k&&(t.j41(0,"label",4)(1,"span",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,w,2,3,"span",6),t.k0s()),2&k){const u=t.XpG();t.Y8G("for",u.idFor),t.R7$(2),t.JRh(t.bMT(3,3,u.labelText)),t.R7$(2),t.Y8G("ngIf",u.showHelpText)}}function D(k,z){if(1&k&&(t.nrm(0,"span",7),t.nI1(1,"translate")),2&k){const u=t.XpG(2);t.Y8G("innerHtml",t.bMT(1,1,u.helpText),t.npT)}}function S(k,z){if(1&k&&(t.j41(0,"p",8)(1,"span",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,D,2,3,"span",6),t.k0s()),2&k){const u=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,u.labelText)),t.R7$(2),t.Y8G("ngIf",u.showHelpText)}}let g=(()=>{class k{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(E){return new(E||k)}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["app-form-row"]],inputs:{idFor:[0,"id","idFor"],labelText:[0,"label","labelText"],helpText:[0,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},standalone:!1,ngContentSelectors:A,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(E,B){1&E&&(t.NAR(),t.j41(0,"div",0),t.DNE(1,m,5,5,"label",1)(2,S,5,4,"p",2),t.j41(3,"div",3),t.SdG(4),t.k0s()()),2&E&&(t.Y8G("ngClass",t.eq3(3,e,B.isLast)),t.R7$(),t.Y8G("ngIf",B.idFor&&B.hasLabel),t.R7$(),t.Y8G("ngIf",!B.idFor&&B.hasLabel))},dependencies:[o.YU,o.bT,f.D9],encapsulation:2})}}return k})()},8750:(ot,ve,l)=>{"use strict";l.d(ve,{Tg:()=>u});var t=l(1635),o=l(7441),f=l(9858),A=l(1985),e=l(5055),w=l(7953),m=l(591),D=l(5397),S=l(5196),g=l(8071),k=l(5334),z=l(3494);function u(X){if(X instanceof A.c)return X;if(null!=X){if((0,e.l)(X))return function E(X){return new A.c(Z=>{const v=X[z.s]();if((0,g.T)(v.subscribe))return v.subscribe(Z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(X);if((0,o.X)(X))return function B(X){return new A.c(Z=>{for(let v=0;v<X.length&&!Z.closed;v++)Z.next(X[v]);Z.complete()})}(X);if((0,f.y)(X))return function V(X){return new A.c(Z=>{X.then(v=>{Z.closed||(Z.next(v),Z.complete())},v=>Z.error(v)).then(null,k.m)})}(X);if((0,w.T)(X))return M(X);if((0,D.x)(X))return function F(X){return new A.c(Z=>{for(const v of X)if(Z.next(v),Z.closed)return;Z.complete()})}(X);if((0,S.U)(X))return function W(X){return M((0,S.C)(X))}(X)}throw(0,m.L)(X)}function M(X){return new A.c(Z=>{(function y(X,Z){var v,L,Q,te;return(0,t.sH)(this,void 0,void 0,function*(){try{for(v=(0,t.xN)(X);!(L=yield v.next()).done;)if(Z.next(L.value),Z.closed)return}catch(N){Q={error:N}}finally{try{L&&!L.done&&(te=v.return)&&(yield te.call(v))}finally{if(Q)throw Q.error}}Z.complete()})})(X,Z).catch(v=>Z.error(v))})}},8762:(ot,ve,l)=>{"use strict";l.d(ve,{O:()=>te});var t=l(6303),o=l(1088),f=l(1360),A=l(8434),e=l(8018);function w(N,fe){if(1&N&&(f.j41(0,"div")(1,"p",4),f.EFF(2),f.k0s()()),2&N){const oe=f.XpG(3);f.R7$(2),f.JRh(oe.displayValue)}}function m(N,fe){if(1&N&&(f.j41(0,"div"),f.DNE(1,w,3,1,"div",2),f.k0s()),2&N){const oe=f.XpG(2),R=f.sdS(2);f.R7$(),f.Y8G("ngIf",oe.displayValue)("ngIfElse",R)}}function D(N,fe){if(1&N&&(f.j41(0,"div",10),f.EFF(1),f.j41(2,"small",11),f.EFF(3),f.k0s()()),2&N){const oe=f.XpG(),R=oe.$implicit;f.Y8G("id","multiMainText"+oe.i),f.R7$(),f.SpI(" ",R.MainText," "),f.R7$(2),f.JRh(R.HelpText)}}function S(N,fe){if(1&N&&(f.j41(0,"li",8),f.DNE(1,D,4,3,"div",9),f.k0s()),2&N){const oe=fe.$implicit;f.XpG(3);const R=f.sdS(2);f.R7$(),f.Y8G("ngIf",oe.MainText)("ngIfElse",R)}}function g(N,fe){if(1&N&&(f.j41(0,"div")(1,"div",5)(2,"ul",6),f.DNE(3,S,2,2,"li",7),f.k0s()()()),2&N){const oe=f.XpG(2);f.R7$(3),f.Y8G("ngForOf",oe.filteredValues)}}function k(N,fe){1&N&&f.nrm(0,"div")}function z(N,fe){if(1&N&&(f.j41(0,"p",22),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.years," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.years,"Year"))," ")}}function u(N,fe){if(1&N&&(f.j41(0,"p",23),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.months," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.months,"Month"))," ")}}function E(N,fe){if(1&N&&(f.j41(0,"p",24),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.weeks," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.weeks,"Week"))," ")}}function B(N,fe){if(1&N&&(f.j41(0,"p",25),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.days," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.days,"Day"))," ")}}function V(N,fe){if(1&N&&(f.j41(0,"p",26),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.hours," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.hours,"Hour"))," ")}}function F(N,fe){if(1&N&&(f.j41(0,"p",27),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.minutes," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.minutes,"Minute"))," ")}}function M(N,fe){if(1&N&&(f.j41(0,"span",28),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&N){const oe=f.XpG(5);f.R7$(),f.Lme(" ",oe.timeSpan.seconds," ",f.bMT(2,2,oe.displayTimeSpanUnit(oe.timeSpan.seconds,"Second"))," ")}}function W(N,fe){if(1&N&&(f.j41(0,"div")(1,"div",13),f.DNE(2,z,3,4,"p",14)(3,u,3,4,"p",15)(4,E,3,4,"p",16)(5,B,3,4,"p",17)(6,V,3,4,"p",18)(7,F,3,4,"p",19)(8,M,3,4,"span",20),f.k0s(),f.j41(9,"small",21),f.EFF(10),f.k0s()()),2&N){const oe=f.XpG(4);f.R7$(2),f.Y8G("ngIf",oe.timeSpan.years>0),f.R7$(),f.Y8G("ngIf",oe.timeSpan.months>0),f.R7$(),f.Y8G("ngIf",oe.timeSpan.weeks>0),f.R7$(),f.Y8G("ngIf",oe.timeSpan.days>0),f.R7$(),f.Y8G("ngIf",oe.timeSpan.hours>0),f.R7$(),f.Y8G("ngIf",oe.timeSpan.minutes>0),f.R7$(),f.Y8G("ngIf",oe.timeSpan.seconds>0),f.R7$(2),f.JRh(oe.values[0].MainText)}}function y(N,fe){1&N&&(f.j41(0,"div")(1,"p",29),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&N&&(f.R7$(2),f.Lme("",0," ",f.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function X(N,fe){1&N&&(f.j41(0,"div")(1,"p",30),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&N&&(f.R7$(2),f.JRh(f.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function Z(N,fe){if(1&N&&f.DNE(0,W,11,8,"div",3)(1,y,4,4,"div",3)(2,X,4,3,"div",3),2&N){const oe=f.XpG(3);f.Y8G("ngIf","Unlimited"!=oe.values[0].MainText&&0!==oe.values[0].MainText&&"0"!==oe.values[0].MainText),f.R7$(),f.Y8G("ngIf",0===oe.values[0].MainText||"0"===oe.values[0].MainText),f.R7$(),f.Y8G("ngIf","Unlimited"==oe.values[0].MainText)}}function v(N,fe){if(1&N&&(f.j41(0,"div"),f.DNE(1,k,1,0,"div",12)(2,Z,3,3,"ng-template",null,1,f.C5r),f.k0s()),2&N){const oe=f.sdS(3),R=f.XpG(2),Fe=f.sdS(2);f.R7$(),f.Y8G("ngIf",null==R.values[0].MainText)("ngIfThen",Fe)("ngIfElse",oe)}}function L(N,fe){if(1&N&&(f.j41(0,"div"),f.DNE(1,m,2,2,"div",3)(2,g,4,1,"div",3)(3,v,4,3,"div",3),f.k0s()),2&N){const oe=f.XpG();f.R7$(),f.Y8G("ngIf",oe.fieldType==oe.ReadOnlyFieldType.Single||oe.fieldType==oe.ReadOnlyFieldType.CommaSeparated),f.R7$(),f.Y8G("ngIf",oe.fieldType==oe.ReadOnlyFieldType.Multi),f.R7$(),f.Y8G("ngIf",oe.fieldType==oe.ReadOnlyFieldType.LifetimePicker)}}function Q(N,fe){if(1&N&&(f.j41(0,"div")(1,"p",31),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&N){const oe=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,1,oe.noValueString)," ")}}let te=(()=>{class N{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(oe){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==t.t.Single||this.fieldType==t.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(oe=>null!=oe),this.filteredValues.length<1)||(this.fieldType===t.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===t.t.CommaSeparated?this.displayValue=this.filteredValues.map(oe=>oe.MainText).join(", ").trimEnd():this.fieldType===t.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new o.Q(+this.values[0].MainText)))}displayTimeSpanUnit(oe,R){return"Clients.Tokens.Durations."+R+(oe>1?"s":"")}get ReadOnlyFieldType(){return t.t}static{this.\u0275fac=function(R){return new(R||N)}}static{this.\u0275cmp=f.VBU({type:N,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},standalone:!1,features:[f.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(R,Fe){if(1&R&&f.DNE(0,L,4,3,"div",2)(1,Q,4,3,"ng-template",null,0,f.C5r),2&R){const we=f.sdS(2);f.Y8G("ngIf",(null==Fe.filteredValues?null:Fe.filteredValues.length)>0)("ngIfElse",we)}},dependencies:[A.Sq,A.bT,e.D9],encapsulation:2})}}return N})()},8788:(ot,ve,l)=>{var t=l(6589);l(812),l(1675),l(8825);var o=ot.exports=t.pkcs1=t.pkcs1||{};function f(A,e,w){w||(w=t.md.sha1.create());for(var m="",D=Math.ceil(e/w.digestLength),S=0;S<D;++S){var g=String.fromCharCode(S>>24&255,S>>16&255,S>>8&255,255&S);w.start(),w.update(A+g),m+=w.digest().getBytes()}return m.substring(0,e)}o.encode_rsa_oaep=function(A,e,w){var m,D,S,g;"string"==typeof w?(m=w,D=arguments[3]||void 0,S=arguments[4]||void 0):w&&(m=w.label||void 0,D=w.seed||void 0,S=w.md||void 0,w.mgf1&&w.mgf1.md&&(g=w.mgf1.md)),S?S.start():S=t.md.sha1.create(),g||(g=S);var k=Math.ceil(A.n.bitLength()/8),z=k-2*S.digestLength-2;if(e.length>z)throw(u=new Error("RSAES-OAEP input message length is too long.")).length=e.length,u.maxLength=z,u;m||(m=""),S.update(m,"raw");for(var E=S.digest(),B="",V=z-e.length,F=0;F<V;F++)B+="\0";var M=E.getBytes()+B+"\x01"+e;if(D){if(D.length!==S.digestLength){var u;throw(u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=D.length,u.digestLength=S.digestLength,u}}else D=t.random.getBytes(S.digestLength);var W=f(D,k-S.digestLength-1,g),y=t.util.xorBytes(M,W,M.length),X=f(y,S.digestLength,g);return"\0"+t.util.xorBytes(D,X,D.length)+y},o.decode_rsa_oaep=function(A,e,w){var m,D,S;"string"==typeof w?(m=w,D=arguments[3]||void 0):w&&(m=w.label||void 0,D=w.md||void 0,w.mgf1&&w.mgf1.md&&(S=w.mgf1.md));var g=Math.ceil(A.n.bitLength()/8);if(e.length!==g)throw(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,y.expectedLength=g,y;if(void 0===D?D=t.md.sha1.create():D.start(),S||(S=D),g<2*D.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");m||(m=""),D.update(m,"raw");for(var k=D.digest().getBytes(),z=e.charAt(0),u=e.substring(1,D.digestLength+1),E=e.substring(1+D.digestLength),B=f(E,D.digestLength,S),F=f(t.util.xorBytes(u,B,u.length),g-D.digestLength-1,S),M=t.util.xorBytes(E,F,E.length),W=M.substring(0,D.digestLength),y="\0"!==z,X=0;X<D.digestLength;++X)y|=k.charAt(X)!==W.charAt(X);for(var Z=1,v=D.digestLength,L=D.digestLength;L<M.length;L++){var Q=M.charCodeAt(L);y|=Q&(Z?65534:0),v+=Z&=1&Q^1}if(y||1!==M.charCodeAt(v))throw new Error("Invalid RSAES-OAEP padding.");return M.substring(v+1)}},8793:(ot,ve,l)=>{"use strict";l.d(ve,{x:()=>e});var t=l(6365),f=l(9326),A=l(6648);function e(...w){return function o(){return(0,t.U)(1)}()((0,A.H)(w,(0,f.lI)(w)))}},8810:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>f});var t=l(1985),o=l(8071);function f(A,e){const w=(0,o.T)(A)?A:()=>A,m=D=>D.error(w());return new t.c(e?D=>e.schedule(m,0,D):m)}},8825:(ot,ve,l)=>{var t=l(6589);l(5437),l(812);var o=ot.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=o,o.create=function(){A||function e(){f="\x80",f+=t.util.fillString("\0",64),A=!0}();var m=null,D=t.util.createBuffer(),S=new Array(80),g={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){g.messageLength=0,g.fullMessageLength=g.messageLength64=[];for(var k=g.messageLengthSize/4,z=0;z<k;++z)g.fullMessageLength.push(0);return D=t.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},g}};return g.start(),g.update=function(k,z){"utf8"===z&&(k=t.util.encodeUtf8(k));var u=k.length;g.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var E=g.fullMessageLength.length-1;E>=0;--E)g.fullMessageLength[E]+=u[1],u[1]=u[0]+(g.fullMessageLength[E]/4294967296>>>0),g.fullMessageLength[E]=g.fullMessageLength[E]>>>0,u[0]=u[1]/4294967296>>>0;return D.putBytes(k),w(m,S,D),(D.read>2048||0===D.length())&&D.compact(),g},g.digest=function(){var k=t.util.createBuffer();k.putBytes(D.bytes()),k.putBytes(f.substr(0,g.blockLength-(g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize&g.blockLength-1)));for(var E,V=8*g.fullMessageLength[0],F=0;F<g.fullMessageLength.length-1;++F)k.putInt32((V+=(E=8*g.fullMessageLength[F+1])/4294967296>>>0)>>>0),V=E>>>0;k.putInt32(V);var M={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3,h4:m.h4};w(M,S,k);var W=t.util.createBuffer();return W.putInt32(M.h0),W.putInt32(M.h1),W.putInt32(M.h2),W.putInt32(M.h3),W.putInt32(M.h4),W},g};var f=null,A=!1;function w(m,D,S){for(var g,k,z,u,E,B,F,M=S.length();M>=64;){for(k=m.h0,z=m.h1,u=m.h2,E=m.h3,B=m.h4,F=0;F<16;++F)g=S.getInt32(),D[F]=g,g=(k<<5|k>>>27)+(E^z&(u^E))+B+1518500249+g,B=E,E=u,u=(z<<30|z>>>2)>>>0,z=k,k=g;for(;F<20;++F)D[F]=g=(g=D[F-3]^D[F-8]^D[F-14]^D[F-16])<<1|g>>>31,g=(k<<5|k>>>27)+(E^z&(u^E))+B+1518500249+g,B=E,E=u,u=(z<<30|z>>>2)>>>0,z=k,k=g;for(;F<32;++F)D[F]=g=(g=D[F-3]^D[F-8]^D[F-14]^D[F-16])<<1|g>>>31,g=(k<<5|k>>>27)+(z^u^E)+B+1859775393+g,B=E,E=u,u=(z<<30|z>>>2)>>>0,z=k,k=g;for(;F<40;++F)D[F]=g=(g=D[F-6]^D[F-16]^D[F-28]^D[F-32])<<2|g>>>30,g=(k<<5|k>>>27)+(z^u^E)+B+1859775393+g,B=E,E=u,u=(z<<30|z>>>2)>>>0,z=k,k=g;for(;F<60;++F)D[F]=g=(g=D[F-6]^D[F-16]^D[F-28]^D[F-32])<<2|g>>>30,g=(k<<5|k>>>27)+(z&u|E&(z^u))+B+2400959708+g,B=E,E=u,u=(z<<30|z>>>2)>>>0,z=k,k=g;for(;F<80;++F)D[F]=g=(g=D[F-6]^D[F-16]^D[F-28]^D[F-32])<<2|g>>>30,g=(k<<5|k>>>27)+(z^u^E)+B+3395469782+g,B=E,E=u,u=(z<<30|z>>>2)>>>0,z=k,k=g;m.h0=m.h0+k|0,m.h1=m.h1+z|0,m.h2=m.h2+u|0,m.h3=m.h3+E|0,m.h4=m.h4+B|0,M-=64}}},8892:(ot,ve,l)=>{"use strict";l.d(ve,{_:()=>f});var t=l(1360),o=l(9686);let f=(()=>{class A{constructor(w){this.fileDownloader=w,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(w){const m=this.actionUrl+"/specified",D=new Map;D.set("clientIds",w.join(",")),this.fileDownloader.buildFormWithCustomInputs(m,D).submitForm()}static{this.\u0275fac=function(m){return new(m||A)(t.KVO(o.D))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac})}}return A})()},8906:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>m});var t=l(8434),o=l(8389),f=l(9417),A=l(8018),e=l(3843),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,f.YN,f.X1,o.w,A.h,e.G]})}}return D})()},8939:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>D});var t=l(983),o=l(6354),f=l(9437),A=l(8284),e=l(1360),w=l(526),m=l(5424);let D=(()=>{class S{constructor(k,z){this.claimTypeService=k,this.errorService=z}resolve(k,z){return this.claimTypeService.getClaimType(k.params.id).pipe((0,o.T)(E=>(E&&this.claimTypeService.getCachedClaimType().next(E),E)),(0,f.W)((E,B)=>(404===E.status?this.errorService.resourceNotFound(A.v.claimType):this.errorService.handleError(E),(0,t.I)())))}static{this.\u0275fac=function(z){return new(z||S)(e.KVO(w.X),e.KVO(m.I))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},9030:(ot,ve,l)=>{"use strict";l.d(ve,{v:()=>f});var t=l(1985),o=l(8750);function f(A){return new t.c(e=>{(0,o.Tg)(A()).subscribe(e)})}},9069:(ot,ve,l)=>{"use strict";l.d(ve,{d:()=>f});var t=l(4412),o=l(1360);let f=(()=>{class A{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},9113:(ot,ve,l)=>{"use strict";l.d(ve,{Hh:()=>w,SD:()=>e,qJ:()=>A});var t=l(1360),o=l(3165),f=l(9564);let A=(()=>{class D{constructor(g,k){this.http=g,this.headersService=k,this.actionUrl="clients/import"}validateImportFile(g){const u=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,g,{headers:u})}completeImport(g,k){const z=this.appendImportConfiguration(g,k),E=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,z,{headers:E})}appendImportConfiguration(g,k){const z=JSON.parse(g);return z.importConfiguration={clients:k.clients,protectedResources:k.protectedResources},JSON.stringify(z)}static{this.\u0275fac=function(k){return new(k||D)(t.KVO(o.Qq),t.KVO(f.m))}}static{this.\u0275prov=t.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class e{}class w{constructor(){this.certificates=new m}}class m{}},9115:(ot,ve,l)=>{"use strict";l.d(ve,{P:()=>F});var t=l(8434),o=l(779),f=l(8018),A=l(9417),e=l(1683),w=l(8389),m=l(6599),D=l(2334),S=l(7677),g=l(8455),k=l(1993),z=l(4367),u=l(9947),E=l(4193),B=l(5731),V=l(1360);let F=(()=>{class M{static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275mod=V.$C({type:M})}static{this.\u0275inj=V.G2t({imports:[t.MD,A.YN,A.X1,o.Q_,f.h,e.Y,w.w,m.Y,D.ClaimTypesModule,S.N,g.p,k.E,z.N,u.a,E.c,B.i]})}}return M})()},9156:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>m});var t=l(2771),o=l(5312),f=l(1410),A=l(1360),e=l(3165),w=l(9564);let m=(()=>{class D{constructor(g,k){this.http=g,this.headersService=k,this.ServiceProviderSubject=new t.m(1),this.actionUrl=o.c.authServer==f.y.OpenIddict?"application/clients":"clients",this.headers=k.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(g){return this.http.get(`${this.actionUrl}/${g}/saml`,{headers:this.headers})}updateServiceProvider(g,k){const z=`${this.actionUrl}/${g}/saml`,u={allowIdpInitiatedSso:k.allowIdpInitiatedSso,assertionConsumerServices:k.assertionConsumerServices,artifactResolutionServices:k.artifactResolutionServices,claimMappings:k.claimMappings,encryptAssertions:k.encryptAssertions,requireSamlMessageDestination:k.requireSamlMessageDestination,signAssertions:k.signAssertions,singleLogoutServices:k.singleLogoutServices,requireAuthenticationRequestsSigned:k.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:k.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:k.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:k.requireSignedArtifactResponses,nameIdentifierFormat:k.nameIdentifierFormat},E=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(z,u,{headers:E})}setEncryptionCertificateViaFile(g,k){const z=`${this.actionUrl}/${g}/saml/certificates/encryption`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(z,u,{headers:E})}setEncryptionCertificateViaMetadata(g,k){const z=`${this.actionUrl}/${g}/saml/certificates/encryption`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(z,u,{headers:E})}deleteEncryptionCertificate(g){return this.http.delete(`${this.actionUrl}/${g}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(g,k){const z=`${this.actionUrl}/${g}/saml/certificates/signing`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(z,u,{headers:E})}addSigningCertificateViaMetadata(g,k){const z=`${this.actionUrl}/${g}/saml/certificates/signing`,u=k,E=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(z,u,{headers:E})}deleteSigningCertificate(g,k){return this.http.delete(`${this.actionUrl}/${g}/saml/certificates/signing/${k}`,{headers:this.headers})}static{this.\u0275fac=function(k){return new(k||D)(A.KVO(e.Qq),A.KVO(w.m))}}static{this.\u0275prov=A.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},9172:(ot,ve,l)=>{"use strict";l.d(ve,{Z:()=>A});var t=l(8793),o=l(9326),f=l(9974);function A(...e){const w=(0,o.lI)(e);return(0,f.N)((m,D)=>{(w?(0,t.x)(e,m,w):(0,t.x)(e,m)).subscribe(D)})}},9196:(ot,ve,l)=>{"use strict";l.d(ve,{w:()=>k});var t=l(3165),o=l(7673),f=l(1413),A=l(978);function w(z){return{...z,dynamicAuthenticationFlag:A.U[z.dynamicAuthenticationFlag]}}class S{constructor(){this.enableAuditing=!0,this.customGrantTypes=[],this.requireEmailInUsers=!0,this.dotNetNineOrLater=!1}}var g=l(1360);let k=(()=>{class z{constructor(E){this.http=E,this.headers=new t.Lr,this.actionUrl="UIConfiguration"}getConfig(E=!1){const B=new S;if(B.resetPasswordConfigured=!1,B.resetMfaConfigured=!1,B.policyPersistence=!1,B.webhookPersistence=!1,B.featureFlagOptions=new A.D,B.supportedLanguages=[],this.uiOptions&&!E)return(0,o.of)(this.uiOptions);const V=new f.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:F=>{this.uiOptions=function D(z){return{...z,featureFlagOptions:w(z.featureFlagOptions)}}(F),V.next(this.uiOptions)},error:F=>V.next(B)}),V.asObservable()}static{this.\u0275fac=function(B){return new(B||z)(g.KVO(t.Qq))}}static{this.\u0275prov=g.jDH({token:z,factory:z.\u0275fac})}}return z})()},9216:(ot,ve,l)=>{"use strict";l.d(ve,{R:()=>D});var t=l(1360),o=l(779),f=l(8018);const A=["simpleModal"],e=[[["","body",""]],[["","footer",""]]],w=["[body]","[footer]"],m=()=>({backdrop:"static",animated:!1});let D=(()=>{class S{constructor(){this.type=null,this.inFlight=!1,this.close=new t.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(z){return new(z||S)}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["app-simple-modal"]],viewQuery:function(z,u){if(1&z&&t.GBs(A,7),2&z){let E;t.mGM(E=t.lsd())&&(u.simpleModal=E.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},standalone:!1,ngContentSelectors:w,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(z,u){if(1&z){const E=t.RV6();t.NAR(e),t.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(E),t.Njj(u.closeModal())}),t.nrm(9,"span",6),t.j41(10,"span",7),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",8),t.SdG(14),t.k0s(),t.j41(15,"div",9),t.SdG(16,1),t.k0s()()()()}if(2&z){let E;t.Y8G("id",null!==(E=u.modalId)&&void 0!==E?E:"simpleModel")("config",t.lJ4(12,m)),t.R7$(2),t.ZvI("modal-dialog",u.modalType,""),t.R7$(4),t.JRh(t.bMT(7,8,u.title)),t.R7$(2),t.Y8G("id",u.modalId+"-closeBtn"),t.R7$(3),t.JRh(t.bMT(12,10,"Common.Close"))}},dependencies:[o.hZ,f.D9],encapsulation:2})}}return S})()},9228:(ot,ve,l)=>{ot.exports=l(5437),l(4846),l(8825),l(2507),l(1290)},9262:(ot,ve,l)=>{"use strict";l.d(ve,{Wk:()=>Qn,wQ:()=>vi,iI:()=>Li});var t=l(1482),o=l(1360),f=l(9361);let w=(()=>{class Dt{static \u0275prov=(0,o.jDH)({token:Dt,providedIn:"root",factory:()=>new m((0,o.WQX)(f.q),window)})}return Dt})();class m{document;window;offset=()=>[0,0];constructor(dn,Vt){this.document=dn,this.window=Vt}setOffset(dn){this.offset=Array.isArray(dn)?()=>dn:dn}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(dn){this.window.scrollTo(dn[0],dn[1])}scrollToAnchor(dn){const Vt=function D(Dt,dn){const Vt=Dt.getElementById(dn)||Dt.getElementsByName(dn)[0];if(Vt)return Vt;if("function"==typeof Dt.createTreeWalker&&Dt.body&&"function"==typeof Dt.body.attachShadow){const mn=Dt.createTreeWalker(Dt.body,NodeFilter.SHOW_ELEMENT);let Jn=mn.currentNode;for(;Jn;){const yi=Jn.shadowRoot;if(yi){const fi=yi.getElementById(dn)||yi.querySelector(`[name="${dn}"]`);if(fi)return fi}Jn=mn.nextNode()}}return null}(this.document,dn);Vt&&(this.scrollToElement(Vt),Vt.focus())}setHistoryScrollRestoration(dn){this.window.history.scrollRestoration=dn}scrollToElement(dn){const Vt=dn.getBoundingClientRect(),mn=Vt.left+this.window.pageXOffset,Jn=Vt.top+this.window.pageYOffset,yi=this.offset();this.window.scrollTo(mn-yi[0],Jn-yi[1])}}var Vn=l(8434),ln=l(2947),Xn=l(1413),qn=l(7673),Ht=l(6648),oi=l(6365),Xt=l(5964),Un=l(274),fn=l(1397);let Qn=(()=>{class Dt{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xn.B;constructor(Vt,mn,Jn,yi,fi,Us){this.router=Vt,this.route=mn,this.tabIndexAttribute=Jn,this.renderer=yi,this.el=fi,this.locationStrategy=Us;const Es=fi.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Es||"area"===Es,this.isAnchorElement?this.subscription=Vt.events.subscribe(xr=>{xr instanceof ln.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Vt){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Vt)}ngOnChanges(Vt){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Vt){null==Vt?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ln.wO)(Vt)||Array.isArray(Vt)?Vt:[Vt],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Vt,mn,Jn,yi,fi){const Us=this.urlTree;return!!(null===Us||this.isAnchorElement&&(0!==Vt||mn||Jn||yi||fi||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Us,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Vt=this.urlTree;this.href=null!==Vt&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Vt)):null;const mn=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",mn)}applyAttributeValue(Vt,mn){const Jn=this.renderer,yi=this.el.nativeElement;null!==mn?Jn.setAttribute(yi,Vt,mn):Jn.removeAttribute(yi,Vt)}get urlTree(){return null===this.routerLinkInput?null:(0,ln.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(mn){return new(mn||Dt)(o.rXU(ln.Ix),o.rXU(ln.nX),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(t.hb))};static \u0275dir=o.FsC({type:Dt,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(mn,Jn){1&mn&&o.bIt("click",function(fi){return Jn.onClick(fi.button,fi.ctrlKey,fi.shiftKey,fi.altKey,fi.metaKey)}),2&mn&&o.BMQ("target",Jn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",o.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",o.L39],replaceUrl:[2,"replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},features:[o.OA$]})}return Dt})(),vi=(()=>{class Dt{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new o.bkB;constructor(Vt,mn,Jn,yi,fi){this.router=Vt,this.element=mn,this.renderer=Jn,this.cdr=yi,this.link=fi,this.routerEventsSubscription=Vt.events.subscribe(Us=>{Us instanceof ln.wF&&this.update()})}ngAfterContentInit(){(0,qn.of)(this.links.changes,(0,qn.of)(null)).pipe((0,oi.U)()).subscribe(Vt=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Vt=[...this.links.toArray(),this.link].filter(mn=>!!mn).map(mn=>mn.onChanges);this.linkInputChangesSubscription=(0,Ht.H)(Vt).pipe((0,oi.U)()).subscribe(mn=>{this._isActive!==this.isLinkActive(this.router)(mn)&&this.update()})}set routerLinkActive(Vt){const mn=Array.isArray(Vt)?Vt:Vt.split(" ");this.classes=mn.filter(Jn=>!!Jn)}ngOnChanges(Vt){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Vt=this.hasActiveLinks();this.classes.forEach(mn=>{Vt?this.renderer.addClass(this.element.nativeElement,mn):this.renderer.removeClass(this.element.nativeElement,mn)}),Vt&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Vt&&(this._isActive=Vt,this.cdr.markForCheck(),this.isActiveChange.emit(Vt))})}isLinkActive(Vt){const mn=function Be(Dt){return!!Dt.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Jn=>{const yi=Jn.urlTree;return!!yi&&Vt.isActive(yi,mn)}}hasActiveLinks(){const Vt=this.isLinkActive(this.router);return this.link&&Vt(this.link)||this.links.some(Vt)}static \u0275fac=function(mn){return new(mn||Dt)(o.rXU(ln.Ix),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(Qn,8))};static \u0275dir=o.FsC({type:Dt,selectors:[["","routerLinkActive",""]],contentQueries:function(mn,Jn,yi){if(1&mn&&o.wni(yi,Qn,5),2&mn){let fi;o.mGM(fi=o.lsd())&&(Jn.links=fi)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.OA$]})}return Dt})();class Ze{}let Jt=(()=>{class Dt{router;injector;preloadingStrategy;loader;subscription;constructor(Vt,mn,Jn,yi){this.router=Vt,this.injector=mn,this.preloadingStrategy=Jn,this.loader=yi}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xt.p)(Vt=>Vt instanceof ln.wF),(0,Un.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Vt,mn){const Jn=[];for(const yi of mn){yi.providers&&!yi._injector&&(yi._injector=(0,o.Ol2)(yi.providers,Vt,`Route: ${yi.path}`));const fi=yi._injector??Vt,Us=yi._loadedInjector??fi;(yi.loadChildren&&!yi._loadedRoutes&&void 0===yi.canLoad||yi.loadComponent&&!yi._loadedComponent)&&Jn.push(this.preloadConfig(fi,yi)),(yi.children||yi._loadedRoutes)&&Jn.push(this.processRoutes(Us,yi.children??yi._loadedRoutes))}return(0,Ht.H)(Jn).pipe((0,oi.U)())}preloadConfig(Vt,mn){return this.preloadingStrategy.preload(mn,()=>{let Jn;Jn=mn.loadChildren&&void 0===mn.canLoad?this.loader.loadChildren(Vt,mn):(0,qn.of)(null);const yi=Jn.pipe((0,fn.Z)(fi=>null===fi?(0,qn.of)(void 0):(mn._loadedRoutes=fi.routes,mn._loadedInjector=fi.injector,this.processRoutes(fi.injector??Vt,fi.routes))));if(mn.loadComponent&&!mn._loadedComponent){const fi=this.loader.loadComponent(mn);return(0,Ht.H)([yi,fi]).pipe((0,oi.U)())}return yi})}static \u0275fac=function(mn){return new(mn||Dt)(o.KVO(ln.Ix),o.KVO(o.uvJ),o.KVO(Ze),o.KVO(ln.D$))};static \u0275prov=o.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const Mn=new o.nKC("");let hi=(()=>{class Dt{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Vt,mn,Jn,yi,fi={}){this.urlSerializer=Vt,this.transitions=mn,this.viewportScroller=Jn,this.zone=yi,this.options=fi,fi.scrollPositionRestoration||="disabled",fi.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Vt=>{Vt instanceof ln.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Vt.navigationTrigger,this.restoredId=Vt.restoredState?Vt.restoredState.navigationId:0):Vt instanceof ln.wF?(this.lastId=Vt.id,this.scheduleScrollEvent(Vt,this.urlSerializer.parse(Vt.urlAfterRedirects).fragment)):Vt instanceof ln.lW&&Vt.code===ln.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Vt,this.urlSerializer.parse(Vt.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Vt=>{Vt instanceof ln.OY&&(Vt.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Vt.position):Vt.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Vt.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Vt,mn){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ln.OY(Vt,"popstate"===this.lastSource?this.store[this.restoredId]:null,mn))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(mn){o.QTQ()};static \u0275prov=o.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();function Ki(Dt,dn){return{\u0275kind:Dt,\u0275providers:dn}}function Et(){const Dt=(0,o.WQX)(o.zZn);return dn=>{const Vt=Dt.get(o.o8S);if(dn!==Vt.components[0])return;const mn=Dt.get(ln.Ix),Jn=Dt.get(yn);1===Dt.get(Yt)&&mn.initialNavigation(),Dt.get(ue,null,o.$GK.Optional)?.setUpPreloading(),Dt.get(Mn,null,o.$GK.Optional)?.init(),mn.resetRootComponentType(Vt.componentTypes[0]),Jn.closed||(Jn.next(),Jn.complete(),Jn.unsubscribe())}}const yn=new o.nKC("",{factory:()=>new Xn.B}),Yt=new o.nKC("",{providedIn:"root",factory:()=>1}),ue=new o.nKC("");function Ae(Dt){return Ki(0,[{provide:ue,useExisting:Jt},{provide:Ze,useExisting:Dt}])}function pn(Dt){return(0,o.ngT)("NgRouterViewTransitions"),Ki(9,[{provide:ln.Pu,useValue:ln.Lg},{provide:ln.bK,useValue:{skipNextTransition:!!Dt?.skipInitialTransition,...Dt}}])}const Di=[t.aZ,{provide:ln.Sd,useClass:ln.nU},ln.Ix,ln.Zp,{provide:ln.nX,useFactory:function Nn(Dt){return Dt.routerState.root},deps:[ln.Ix]},ln.D$,[]];let Li=(()=>{class Dt{constructor(){}static forRoot(Vt,mn){return{ngModule:Dt,providers:[Di,[],{provide:ln.bw,multi:!0,useValue:Vt},[],mn?.errorHandler?{provide:ln.XR,useValue:mn.errorHandler}:[],{provide:ln.J_,useValue:mn||{}},mn?.useHash?{provide:t.hb,useClass:Vn.fw}:{provide:t.hb,useClass:t.Sm},{provide:Mn,useFactory:()=>{const Dt=(0,o.WQX)(w),dn=(0,o.WQX)(o.SKi),Vt=(0,o.WQX)(ln.J_),mn=(0,o.WQX)(ln.J2),Jn=(0,o.WQX)(ln.Sd);return Vt.scrollOffset&&Dt.setOffset(Vt.scrollOffset),new hi(Jn,mn,Dt,dn,Vt)}},mn?.preloadingStrategy?Ae(mn.preloadingStrategy).\u0275providers:[],mn?.initialNavigation?Fs(mn):[],mn?.bindToComponentInputs?Ki(8,[ln.tD,{provide:ln.c1,useExisting:ln.tD}]).\u0275providers:[],mn?.enableViewTransitions?pn().\u0275providers:[],[{provide:Or,useFactory:Et},{provide:o.iLQ,multi:!0,useExisting:Or}]]}}static forChild(Vt){return{ngModule:Dt,providers:[{provide:ln.bw,multi:!0,useValue:Vt}]}}static \u0275fac=function(mn){return new(mn||Dt)};static \u0275mod=o.$C({type:Dt});static \u0275inj=o.G2t({})}return Dt})();function Fs(Dt){return["disabled"===Dt.initialNavigation?Ki(3,[(0,o.phd)(()=>{(0,o.WQX)(ln.Ix).setUpLocationChangeListener()}),{provide:Yt,useValue:2}]).\u0275providers:[],"enabledBlocking"===Dt.initialNavigation?Ki(2,[{provide:Yt,useValue:0},(0,o.phd)(()=>{const dn=(0,o.WQX)(o.zZn);return dn.get(t.hj,Promise.resolve()).then(()=>new Promise(mn=>{const Jn=dn.get(ln.Ix),yi=dn.get(yn);(0,ln.gk)(Jn,()=>{mn(!0)}),dn.get(ln.J2).afterPreactivation=()=>(mn(!0),yi.closed?(0,qn.of)(void 0):yi),Jn.initialNavigation()}))})]).\u0275providers:[]]}const Or=new o.nKC("")},9270:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>t});const t={setTimeout(o,f,...A){const{delegate:e}=t;return e?.setTimeout?e.setTimeout(o,f,...A):setTimeout(o,f,...A)},clearTimeout(o){const{delegate:f}=t;return(f?.clearTimeout||clearTimeout)(o)},delegate:void 0}},9326:(ot,ve,l)=>{"use strict";l.d(ve,{R0:()=>w,lI:()=>e,ms:()=>A});var t=l(8071),o=l(9470);function f(m){return m[m.length-1]}function A(m){return(0,t.T)(f(m))?m.pop():void 0}function e(m){return(0,o.m)(f(m))?m.pop():void 0}function w(m,D){return"number"==typeof f(m)?m.pop():D}},9350:(ot,ve,l)=>{"use strict";l.d(ve,{G:()=>o});const o=(0,l(1853).L)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>o});const o=new(l(1360).nKC)("")},9368:(ot,ve,l)=>{var t=l(6589);l(812);var o=ot.exports=t.pem=t.pem||{};function f(e){for(var w=e.name+": ",m=[],D=function(u,E){return" "+E},S=0;S<e.values.length;++S)m.push(e.values[S].replace(/^(\S+\r\n)/,D));w+=m.join(",")+"\r\n";var g=0,k=-1;for(S=0;S<w.length;++S,++g)if(g>65&&-1!==k){var z=w[k];","===z?(++k,w=w.substr(0,k)+"\r\n "+w.substr(k)):w=w.substr(0,k)+"\r\n"+z+w.substr(k+1),g=S-k-1,k=-1,++S}else(" "===w[S]||"\t"===w[S]||","===w[S])&&(k=S);return w}function A(e){return e.replace(/^\s+/,"")}o.encode=function(e,w){w=w||{};var D,m="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(m+=f(D={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(m+=f(D={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(D={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&D.values.push(e.dekInfo.parameters),m+=f(D)),e.headers)for(var S=0;S<e.headers.length;++S)m+=f(e.headers[S]);return e.procType&&(m+="\r\n"),(m+=t.util.encode64(e.body,w.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},o.decode=function(e){for(var g,w=[],m=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,D=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,S=/\r?\n/;g=m.exec(e);){var k=g[1];"NEW CERTIFICATE REQUEST"===k&&(k="CERTIFICATE REQUEST");var z={type:k,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(g[3])};if(w.push(z),g[2]){for(var u=g[2].split(S),E=0;g&&E<u.length;){for(var B=u[E].replace(/\s+$/,""),V=E+1;V<u.length;++V){var F=u[V];if(!/\s/.test(F[0]))break;B+=F,E=V}if(g=B.match(D)){for(var M={name:g[1],values:[]},W=g[2].split(","),y=0;y<W.length;++y)M.values.push(A(W[y]));if(z.procType)if(z.contentDomain||"Content-Domain"!==M.name)if(z.dekInfo||"DEK-Info"!==M.name)z.headers.push(M);else{if(0===M.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');z.dekInfo={algorithm:W[0],parameters:W[1]||null}}else z.contentDomain=W[0]||"";else{if("Proc-Type"!==M.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==M.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');z.procType={version:W[0],type:W[1]}}}++E}if("ENCRYPTED"===z.procType&&!z.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===w.length)throw new Error("Invalid PEM formatted message.");return w}},9377:(ot,ve,l)=>{"use strict";function t(m,D){D=encodeURIComponent(D);for(const S of m.split(";")){const g=S.indexOf("="),[k,z]=-1==g?[S,""]:[S.slice(0,g),S.slice(g+1)];if(k.trim()===D)return decodeURIComponent(z)}return null}l.d(ve,{N0:()=>w,UE:()=>A,Vy:()=>e,Zn:()=>o,bS:()=>t});const o="browser",f="server";function A(m){return m===o}function e(m){return m===f}class w{}},9417:(ot,ve,l)=>{"use strict";l.d(ve,{$R:()=>mn,BC:()=>_t,Fm:()=>Ui,JD:()=>Es,Q0:()=>Wi,VZ:()=>fr,X1:()=>il,YN:()=>so,YS:()=>ta,Zm:()=>k,cV:()=>Ki,cb:()=>en,cz:()=>M,hs:()=>Ai,j4:()=>dn,k0:()=>X,kq:()=>S,l_:()=>Zr,me:()=>B,ok:()=>Yr,qT:()=>pn,tU:()=>Ia,vO:()=>he,vS:()=>Pe,wz:()=>Ir,xH:()=>qr,xh:()=>ka,y7:()=>Sr,ze:()=>nl});var t=l(1360),o=l(1482),f=l(6648),A=l(7468),e=l(1413),w=l(6354);let m=(()=>{class K{_renderer;_elementRef;onChange=ee=>{};onTouched=()=>{};constructor(ee,Te){this._renderer=ee,this._elementRef=Te}setProperty(ee,Te){this._renderer.setProperty(this._elementRef.nativeElement,ee,Te)}registerOnTouched(ee){this.onTouched=ee}registerOnChange(ee){this.onChange=ee}setDisabledState(ee){this.setProperty("disabled",ee)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(t.sFG),t.rXU(t.aKT))};static \u0275dir=t.FsC({type:K})}return K})(),D=(()=>{class K extends m{static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,features:[t.Vt3]})}return K})();const S=new t.nKC(""),g={provide:S,useExisting:(0,t.Rfq)(()=>k),multi:!0};let k=(()=>{class K extends D{writeValue(ee){this.setProperty("checked",ee)}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("change",function(bn){return qe.onChange(bn.target.checked)})("blur",function(){return qe.onTouched()})},standalone:!1,features:[t.Jv_([g]),t.Vt3]})}return K})();const z={provide:S,useExisting:(0,t.Rfq)(()=>B),multi:!0},E=new t.nKC("");let B=(()=>{class K extends m{_compositionMode;_composing=!1;constructor(ee,Te,qe){super(ee,Te),this._compositionMode=qe,null==this._compositionMode&&(this._compositionMode=!function u(){const K=(0,o.rb)()?(0,o.rb)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(ee){this.setProperty("value",ee??"")}_handleInput(ee){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ee)}_compositionStart(){this._composing=!0}_compositionEnd(ee){this._composing=!1,this._compositionMode&&this.onChange(ee)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(E,8))};static \u0275dir=t.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("input",function(bn){return qe._handleInput(bn.target.value)})("blur",function(){return qe.onTouched()})("compositionstart",function(){return qe._compositionStart()})("compositionend",function(bn){return qe._compositionEnd(bn.target.value)})},standalone:!1,features:[t.Jv_([z]),t.Vt3]})}return K})();function V(K){return null==K||0===F(K)}function F(K){return null==K?null:Array.isArray(K)||"string"==typeof K?K.length:K instanceof Set?K.size:null}const M=new t.nKC(""),W=new t.nKC(""),y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class X{static min(ie){return Z(ie)}static max(ie){return function v(K){return ie=>{if(null==ie.value||null==K)return null;const ee=parseFloat(ie.value);return!isNaN(ee)&&ee>K?{max:{max:K,actual:ie.value}}:null}}(ie)}static required(ie){return L(ie)}static requiredTrue(ie){return function Q(K){return!0===K.value?null:{required:!0}}(ie)}static email(ie){return function te(K){return V(K.value)||y.test(K.value)?null:{email:!0}}(ie)}static minLength(ie){return N(ie)}static maxLength(ie){return fe(ie)}static pattern(ie){return function oe(K){if(!K)return R;let ie,ee;return"string"==typeof K?(ee="","^"!==K.charAt(0)&&(ee+="^"),ee+=K,"$"!==K.charAt(K.length-1)&&(ee+="$"),ie=new RegExp(ee)):(ee=K.toString(),ie=K),Te=>{if(V(Te.value))return null;const qe=Te.value;return ie.test(qe)?null:{pattern:{requiredPattern:ee,actualValue:qe}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return Ue(ie)}static composeAsync(ie){return He(ie)}}function Z(K){return ie=>{if(null==ie.value||null==K)return null;const ee=parseFloat(ie.value);return!isNaN(ee)&&ee<K?{min:{min:K,actual:ie.value}}:null}}function L(K){return V(K.value)?{required:!0}:null}function N(K){return ie=>{const ee=ie.value?.length??F(ie.value);return null===ee||0===ee?null:ee<K?{minlength:{requiredLength:K,actualLength:ee}}:null}}function fe(K){return ie=>{const ee=ie.value?.length??F(ie.value);return null!==ee&&ee>K?{maxlength:{requiredLength:K,actualLength:ee}}:null}}function R(K){return null}function Fe(K){return null!=K}function we(K){return(0,t.jNT)(K)?(0,f.H)(K):K}function We(K){let ie={};return K.forEach(ee=>{ie=null!=ee?{...ie,...ee}:ie}),0===Object.keys(ie).length?null:ie}function rt(K,ie){return ie.map(ee=>ee(K))}function vt(K){return K.map(ie=>function lt(K){return!K.validate}(ie)?ie:ee=>ie.validate(ee))}function Ue(K){if(!K)return null;const ie=K.filter(Fe);return 0==ie.length?null:function(ee){return We(rt(ee,ie))}}function Ye(K){return null!=K?Ue(vt(K)):null}function He(K){if(!K)return null;const ie=K.filter(Fe);return 0==ie.length?null:function(ee){const Te=rt(ee,ie).map(we);return(0,A.p)(Te).pipe((0,w.T)(We))}}function it(K){return null!=K?He(vt(K)):null}function Le(K,ie){return null===K?[ie]:Array.isArray(K)?[...K,ie]:[K,ie]}function Ve(K){return K._rawValidators}function Xe(K){return K._rawAsyncValidators}function je(K){return K?Array.isArray(K)?K:[K]:[]}function ct(K,ie){return Array.isArray(K)?K.includes(ie):K===ie}function st(K,ie){const ee=je(ie);return je(K).forEach(qe=>{ct(ee,qe)||ee.push(qe)}),ee}function Qe(K,ie){return je(ie).filter(ee=>!ct(K,ee))}class ne{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,ee){return!!this.control&&this.control.hasError(ie,ee)}getError(ie,ee){return this.control?this.control.getError(ie,ee):null}}class Y extends ne{name;get formDirective(){return null}get path(){return null}}class he extends ne{_parent=null;name=null;valueAccessor=null}class ge{_cd;constructor(ie){this._cd=ie}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let _t=(()=>{class K extends ge{constructor(ee){super(ee)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(he,2))};static \u0275dir=t.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Te,qe){2&Te&&t.AVh("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)},standalone:!1,features:[t.Vt3]})}return K})(),en=(()=>{class K extends ge{constructor(ee){super(ee)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(Y,10))};static \u0275dir=t.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Te,qe){2&Te&&t.AVh("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)("ng-submitted",qe.isSubmitted)},standalone:!1,features:[t.Vt3]})}return K})();const Kn="VALID",ei="INVALID",Ot="PENDING",Gn="DISABLED";class Zt{}class Tn extends Zt{value;source;constructor(ie,ee){super(),this.value=ie,this.source=ee}}class In extends Zt{pristine;source;constructor(ie,ee){super(),this.pristine=ie,this.source=ee}}class rs extends Zt{touched;source;constructor(ie,ee){super(),this.touched=ie,this.source=ee}}class _i extends Zt{status;source;constructor(ie,ee){super(),this.status=ie,this.source=ee}}class Bi extends Zt{source;constructor(ie){super(),this.source=ie}}class Ni extends Zt{source;constructor(ie){super(),this.source=ie}}function os(K){return(wt(K)?K.validators:K)||null}function fs(K,ie){return(wt(ie)?ie.asyncValidators:K)||null}function wt(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Tt(K,ie,ee){const Te=K.controls;if(!(ie?Object.keys(Te):Te).length)throw new t.wOt(1e3,"");if(!Te[ee])throw new t.wOt(1001,"")}function xt(K,ie,ee){K._forEachChild((Te,qe)=>{if(void 0===ee[qe])throw new t.wOt(1002,"")})}class Wt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(ie,ee){this._assignValidators(ie),this._assignAsyncValidators(ee)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get status(){return(0,t.O8t)(this.statusReactive)}set status(ie){(0,t.O8t)(()=>this.statusReactive.set(ie))}_status=(0,t.EWP)(()=>this.statusReactive());statusReactive=(0,t.vPA)(void 0);get valid(){return this.status===Kn}get invalid(){return this.status===ei}get pending(){return this.status==Ot}get disabled(){return this.status===Gn}get enabled(){return this.status!==Gn}errors;get pristine(){return(0,t.O8t)(this.pristineReactive)}set pristine(ie){(0,t.O8t)(()=>this.pristineReactive.set(ie))}_pristine=(0,t.EWP)(()=>this.pristineReactive());pristineReactive=(0,t.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,t.O8t)(this.touchedReactive)}set touched(ie){(0,t.O8t)(()=>this.touchedReactive.set(ie))}_touched=(0,t.EWP)(()=>this.touchedReactive());touchedReactive=(0,t.vPA)(!1);get untouched(){return!this.touched}_events=new e.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(st(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(st(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Qe(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Qe(ie,this._rawAsyncValidators))}hasValidator(ie){return ct(this._rawValidators,ie)}hasAsyncValidator(ie){return ct(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){const ee=!1===this.touched;this.touched=!0;const Te=ie.sourceControl??this;this._parent&&!ie.onlySelf&&this._parent.markAsTouched({...ie,sourceControl:Te}),ee&&!1!==ie.emitEvent&&this._events.next(new rs(!0,Te))}markAllAsTouched(ie={}){this.markAsTouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:this}),this._forEachChild(ee=>ee.markAllAsTouched(ie))}markAsUntouched(ie={}){const ee=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Te=ie.sourceControl??this;this._forEachChild(qe=>{qe.markAsUntouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:Te})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,Te),ee&&!1!==ie.emitEvent&&this._events.next(new rs(!1,Te))}markAsDirty(ie={}){const ee=!0===this.pristine;this.pristine=!1;const Te=ie.sourceControl??this;this._parent&&!ie.onlySelf&&this._parent.markAsDirty({...ie,sourceControl:Te}),ee&&!1!==ie.emitEvent&&this._events.next(new In(!1,Te))}markAsPristine(ie={}){const ee=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Te=ie.sourceControl??this;this._forEachChild(qe=>{qe.markAsPristine({onlySelf:!0,emitEvent:ie.emitEvent})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,Te),ee&&!1!==ie.emitEvent&&this._events.next(new In(!0,Te))}markAsPending(ie={}){this.status=Ot;const ee=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new _i(this.status,ee)),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.markAsPending({...ie,sourceControl:ee})}disable(ie={}){const ee=this._parentMarkedDirty(ie.onlySelf);this.status=Gn,this.errors=null,this._forEachChild(qe=>{qe.disable({...ie,onlySelf:!0})}),this._updateValue();const Te=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new Tn(this.value,Te)),this._events.next(new _i(this.status,Te)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:ee},this),this._onDisabledChange.forEach(qe=>qe(!0))}enable(ie={}){const ee=this._parentMarkedDirty(ie.onlySelf);this.status=Kn,this._forEachChild(Te=>{Te.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:ee},this),this._onDisabledChange.forEach(Te=>Te(!1))}_updateAncestors(ie,ee){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine({},ee),this._parent._updateTouched({},ee))}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Te=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kn||this.status===Ot)&&this._runAsyncValidator(Te,ie.emitEvent)}const ee=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new Tn(this.value,ee)),this._events.next(new _i(this.status,ee)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity({...ie,sourceControl:ee})}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(ee=>ee._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gn:Kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie,ee){if(this.asyncValidator){this.status=Ot,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ee};const Te=we(this.asyncValidator(this));this._asyncValidationSubscription=Te.subscribe(qe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(qe,{emitEvent:ee,shouldHaveEmitted:ie})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const ie=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ie}return!1}setErrors(ie,ee={}){this.errors=ie,this._updateControlsErrors(!1!==ee.emitEvent,this,ee.shouldHaveEmitted)}get(ie){let ee=ie;return null==ee||(Array.isArray(ee)||(ee=ee.split(".")),0===ee.length)?null:ee.reduce((Te,qe)=>Te&&Te._find(qe),this)}getError(ie,ee){const Te=ee?this.get(ee):this;return Te&&Te.errors?Te.errors[ie]:null}hasError(ie,ee){return!!this.getError(ie,ee)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie,ee,Te){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),(ie||Te)&&this._events.next(new _i(this.status,ee)),this._parent&&this._parent._updateControlsErrors(ie,ee,Te)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?Gn:this.errors?ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ot)?Ot:this._anyControlsHaveStatus(ei)?ei:Kn}_anyControlsHaveStatus(ie){return this._anyControls(ee=>ee.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie,ee){const Te=!this._anyControlsDirty(),qe=this.pristine!==Te;this.pristine=Te,this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,ee),qe&&this._events.next(new In(this.pristine,ee))}_updateTouched(ie={},ee){this.touched=this._anyControlsTouched(),this._events.next(new rs(this.touched,ee)),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,ee)}_onDisabledChange=[];_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){wt(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function zn(K){return Array.isArray(K)?Ye(K):K||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function xi(K){return Array.isArray(K)?it(K):K||null}(this._rawAsyncValidators)}}class un extends Wt{constructor(ie,ee,Te){super(os(ee),fs(Te,ee)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(ie,ee){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=ee,ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange),ee)}addControl(ie,ee,Te={}){this.registerControl(ie,ee),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}removeControl(ie,ee={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}setControl(ie,ee,Te={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],ee&&this.registerControl(ie,ee),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,ee={}){xt(this,0,ie),Object.keys(ie).forEach(Te=>{Tt(this,!0,Te),this.controls[Te].setValue(ie[Te],{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee)}patchValue(ie,ee={}){null!=ie&&(Object.keys(ie).forEach(Te=>{const qe=this.controls[Te];qe&&qe.patchValue(ie[Te],{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee))}reset(ie={},ee={}){this._forEachChild((Te,qe)=>{Te.reset(ie?ie[qe]:null,{onlySelf:!0,emitEvent:ee.emitEvent})}),this._updatePristine(ee,this),this._updateTouched(ee,this),this.updateValueAndValidity(ee)}getRawValue(){return this._reduceChildren({},(ie,ee,Te)=>(ie[Te]=ee.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(ee,Te)=>!!Te._syncPendingControls()||ee);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(ee=>{const Te=this.controls[ee];Te&&ie(Te,ee)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[ee,Te]of Object.entries(this.controls))if(this.contains(ee)&&ie(Te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ee,Te,qe)=>((Te.enabled||this.disabled)&&(ee[qe]=Te.value),ee))}_reduceChildren(ie,ee){let Te=ie;return this._forEachChild((qe,Pt)=>{Te=ee(Te,qe,Pt)}),Te}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class Ti extends un{}const Vi=new t.nKC("",{providedIn:"root",factory:()=>ji}),ji="always";function zi(K,ie){return[...ie.path,K]}function ls(K,ie,ee=ji){nn(K,ie),ie.valueAccessor.writeValue(K.value),(K.disabled||"always"===ee)&&ie.valueAccessor.setDisabledState?.(K.disabled),function ln(K,ie){ie.valueAccessor.registerOnChange(ee=>{K._pendingValue=ee,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&qn(K,ie)})}(K,ie),function Ht(K,ie){const ee=(Te,qe)=>{ie.valueAccessor.writeValue(Te),qe&&ie.viewToModelUpdate(Te)};K.registerOnChange(ee),ie._registerOnDestroy(()=>{K._unregisterOnChange(ee)})}(K,ie),function Xn(K,ie){ie.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&qn(K,ie),"submit"!==K.updateOn&&K.markAsTouched()})}(K,ie),function yt(K,ie){if(ie.valueAccessor.setDisabledState){const ee=Te=>{ie.valueAccessor.setDisabledState(Te)};K.registerOnDisabledChange(ee),ie._registerOnDestroy(()=>{K._unregisterOnDisabledChange(ee)})}}(K,ie)}function ut(K,ie,ee=!0){const Te=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(Te),ie.valueAccessor.registerOnTouched(Te)),Vn(K,ie),K&&(ie._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Rt(K,ie){K.forEach(ee=>{ee.registerOnValidatorChange&&ee.registerOnValidatorChange(ie)})}function nn(K,ie){const ee=Ve(K);null!==ie.validator?K.setValidators(Le(ee,ie.validator)):"function"==typeof ee&&K.setValidators([ee]);const Te=Xe(K);null!==ie.asyncValidator?K.setAsyncValidators(Le(Te,ie.asyncValidator)):"function"==typeof Te&&K.setAsyncValidators([Te]);const qe=()=>K.updateValueAndValidity();Rt(ie._rawValidators,qe),Rt(ie._rawAsyncValidators,qe)}function Vn(K,ie){let ee=!1;if(null!==K){if(null!==ie.validator){const qe=Ve(K);if(Array.isArray(qe)&&qe.length>0){const Pt=qe.filter(bn=>bn!==ie.validator);Pt.length!==qe.length&&(ee=!0,K.setValidators(Pt))}}if(null!==ie.asyncValidator){const qe=Xe(K);if(Array.isArray(qe)&&qe.length>0){const Pt=qe.filter(bn=>bn!==ie.asyncValidator);Pt.length!==qe.length&&(ee=!0,K.setAsyncValidators(Pt))}}}const Te=()=>{};return Rt(ie._rawValidators,Te),Rt(ie._rawAsyncValidators,Te),ee}function qn(K,ie){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function oi(K,ie){nn(K,ie)}function Ze(K,ie){if(!K.hasOwnProperty("model"))return!1;const ee=K.model;return!!ee.isFirstChange()||!Object.is(ie,ee.currentValue)}function jt(K,ie){K._syncPendingControls(),ie.forEach(ee=>{const Te=ee.control;"submit"===Te.updateOn&&Te._pendingChange&&(ee.viewToModelUpdate(Te._pendingValue),Te._pendingChange=!1)})}function Jt(K,ie){if(!ie)return null;let ee,Te,qe;return Array.isArray(ie),ie.forEach(Pt=>{Pt.constructor===B?ee=Pt:function ht(K){return Object.getPrototypeOf(K.constructor)===D}(Pt)?Te=Pt:qe=Pt}),qe||Te||ee||null}const ri={provide:Y,useExisting:(0,t.Rfq)(()=>Ki)},Nn=Promise.resolve();let Ki=(()=>{class K extends Y{callSetDisabledState;get submitted(){return(0,t.O8t)(this.submittedReactive)}_submitted=(0,t.EWP)(()=>this.submittedReactive());submittedReactive=(0,t.vPA)(!1);_directives=new Set;form;ngSubmit=new t.bkB;options;constructor(ee,Te,qe){super(),this.callSetDisabledState=qe,this.form=new un({},Ye(ee),it(Te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ee){Nn.then(()=>{const Te=this._findContainer(ee.path);ee.control=Te.registerControl(ee.name,ee.control),ls(ee.control,ee,this.callSetDisabledState),ee.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ee)})}getControl(ee){return this.form.get(ee.path)}removeControl(ee){Nn.then(()=>{const Te=this._findContainer(ee.path);Te&&Te.removeControl(ee.name),this._directives.delete(ee)})}addFormGroup(ee){Nn.then(()=>{const Te=this._findContainer(ee.path),qe=new un({});oi(qe,ee),Te.registerControl(ee.name,qe),qe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ee){Nn.then(()=>{const Te=this._findContainer(ee.path);Te&&Te.removeControl(ee.name)})}getFormGroup(ee){return this.form.get(ee.path)}updateModel(ee,Te){Nn.then(()=>{this.form.get(ee.path).setValue(Te)})}setValue(ee){this.control.setValue(ee)}onSubmit(ee){return this.submittedReactive.set(!0),jt(this.form,this._directives),this.ngSubmit.emit(ee),this.form._events.next(new Bi(this.control)),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this.submittedReactive.set(!1),this.form._events.next(new Ni(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ee){return ee.pop(),ee.length?this.form.get(ee):this.form}static \u0275fac=function(Te){return new(Te||K)(t.rXU(M,10),t.rXU(W,10),t.rXU(Vi,8))};static \u0275dir=t.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("submit",function(bn){return qe.onSubmit(bn)})("reset",function(){return qe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[t.Jv_([ri]),t.Vt3]})}return K})();function Ji(K,ie){const ee=K.indexOf(ie);ee>-1&&K.splice(ee,1)}function Ms(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const $t=class extends Wt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(ie=null,ee,Te){super(os(ee),fs(Te,ee)),this._applyFormState(ie),this._setUpdateStrategy(ee),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wt(ee)&&(ee.nonNullable||ee.initialValueIsDefault)&&(this.defaultValue=Ms(ie)?ie.value:ie)}setValue(ie,ee={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==ee.emitModelToViewChange&&this._onChange.forEach(Te=>Te(this.value,!1!==ee.emitViewToModelChange)),this.updateValueAndValidity(ee)}patchValue(ie,ee={}){this.setValue(ie,ee)}reset(ie=this.defaultValue,ee={}){this._applyFormState(ie),this.markAsPristine(ee),this.markAsUntouched(ee),this.setValue(this.value,ee),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){Ji(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){Ji(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){Ms(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}},Ai=$t;let yn=(()=>{class K extends Y{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,standalone:!1,features:[t.Vt3]})}return K})();const ae={provide:he,useExisting:(0,t.Rfq)(()=>Pe)},Ce=Promise.resolve();let Pe=(()=>{class K extends he{_changeDetectorRef;callSetDisabledState;control=new $t;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new t.bkB;constructor(ee,Te,qe,Pt,bn,ai){super(),this._changeDetectorRef=bn,this.callSetDisabledState=ai,this._parent=ee,this._setValidators(Te),this._setAsyncValidators(qe),this.valueAccessor=Jt(0,Pt)}ngOnChanges(ee){if(this._checkForErrors(),!this._registered||"name"in ee){if(this._registered&&(this._checkName(),this.formDirective)){const Te=ee.name.previousValue;this.formDirective.removeControl({name:Te,path:this._getPath(Te)})}this._setUpControl()}"isDisabled"in ee&&this._updateDisabled(ee),Ze(ee,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ls(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ee){Ce.then(()=>{this.control.setValue(ee,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ee){const Te=ee.isDisabled.currentValue,qe=0!==Te&&(0,t.L39)(Te);Ce.then(()=>{qe&&!this.control.disabled?this.control.disable():!qe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ee){return this._parent?zi(ee,this._parent):[ee]}static \u0275fac=function(Te){return new(Te||K)(t.rXU(Y,9),t.rXU(M,10),t.rXU(W,10),t.rXU(S,10),t.rXU(t.gRc,8),t.rXU(Vi,8))};static \u0275dir=t.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[t.Jv_([ae]),t.Vt3,t.OA$]})}return K})(),pn=(()=>{class K{static \u0275fac=function(Te){return new(Te||K)};static \u0275dir=t.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return K})();const Bn={provide:S,useExisting:(0,t.Rfq)(()=>Wi),multi:!0};let Wi=(()=>{class K extends D{writeValue(ee){this.setProperty("value",ee??"")}registerOnChange(ee){this.onChange=Te=>{ee(""==Te?null:parseFloat(Te))}}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("input",function(bn){return qe.onChange(bn.target.value)})("blur",function(){return qe.onTouched()})},standalone:!1,features:[t.Jv_([Bn]),t.Vt3]})}return K})();const Di={provide:S,useExisting:(0,t.Rfq)(()=>Ui),multi:!0};let li=(()=>{class K{_accessors=[];add(ee,Te){this._accessors.push([ee,Te])}remove(ee){for(let Te=this._accessors.length-1;Te>=0;--Te)if(this._accessors[Te][1]===ee)return void this._accessors.splice(Te,1)}select(ee){this._accessors.forEach(Te=>{this._isSameGroup(Te,ee)&&Te[1]!==ee&&Te[1].fireUncheck(ee.value)})}_isSameGroup(ee,Te){return!!ee[0].control&&ee[0]._parent===Te._control._parent&&ee[1].name===Te.name}static \u0275fac=function(Te){return new(Te||K)};static \u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),Ui=(()=>{class K extends D{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,t.WQX)(Vi,{optional:!0})??ji;constructor(ee,Te,qe,Pt){super(ee,Te),this._registry=qe,this._injector=Pt}ngOnInit(){this._control=this._injector.get(he),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ee){this._state=ee===this.value,this.setProperty("checked",this._state)}registerOnChange(ee){this._fn=ee,this.onChange=()=>{ee(this.value),this._registry.select(this)}}setDisabledState(ee){(this.setDisabledStateFired||ee||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",ee),this.setDisabledStateFired=!0}fireUncheck(ee){this.writeValue(ee)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(li),t.rXU(t.zZn))};static \u0275dir=t.FsC({type:K,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("change",function(){return qe.onChange()})("blur",function(){return qe.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[t.Jv_([Di]),t.Vt3]})}return K})();const Fs=new t.nKC(""),Or={provide:he,useExisting:(0,t.Rfq)(()=>Zr)};let Zr=(()=>{class K extends he{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(ee){}model;update=new t.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(ee,Te,qe,Pt,bn){super(),this._ngModelWarningConfig=Pt,this.callSetDisabledState=bn,this._setValidators(ee),this._setAsyncValidators(Te),this.valueAccessor=Jt(0,qe)}ngOnChanges(ee){if(this._isControlChanged(ee)){const Te=ee.form.previousValue;Te&&ut(Te,this,!1),ls(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ze(ee,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ut(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_isControlChanged(ee){return ee.hasOwnProperty("form")}static \u0275fac=function(Te){return new(Te||K)(t.rXU(M,10),t.rXU(W,10),t.rXU(S,10),t.rXU(Fs,8),t.rXU(Vi,8))};static \u0275dir=t.FsC({type:K,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[t.Jv_([Or]),t.Vt3,t.OA$]})}return K})();const Dt={provide:Y,useExisting:(0,t.Rfq)(()=>dn)};let dn=(()=>{class K extends Y{callSetDisabledState;get submitted(){return(0,t.O8t)(this._submittedReactive)}set submitted(ee){this._submittedReactive.set(ee)}_submitted=(0,t.EWP)(()=>this._submittedReactive());_submittedReactive=(0,t.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new t.bkB;constructor(ee,Te,qe){super(),this.callSetDisabledState=qe,this._setValidators(ee),this._setAsyncValidators(Te)}ngOnChanges(ee){ee.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ee){const Te=this.form.get(ee.path);return ls(Te,ee,this.callSetDisabledState),Te.updateValueAndValidity({emitEvent:!1}),this.directives.push(ee),Te}getControl(ee){return this.form.get(ee.path)}removeControl(ee){ut(ee.control||null,ee,!1),function Mn(K,ie){const ee=K.indexOf(ie);ee>-1&&K.splice(ee,1)}(this.directives,ee)}addFormGroup(ee){this._setUpFormContainer(ee)}removeFormGroup(ee){this._cleanUpFormContainer(ee)}getFormGroup(ee){return this.form.get(ee.path)}addFormArray(ee){this._setUpFormContainer(ee)}removeFormArray(ee){this._cleanUpFormContainer(ee)}getFormArray(ee){return this.form.get(ee.path)}updateModel(ee,Te){this.form.get(ee.path).setValue(Te)}onSubmit(ee){return this._submittedReactive.set(!0),jt(this.form,this.directives),this.ngSubmit.emit(ee),this.form._events.next(new Bi(this.control)),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this._submittedReactive.set(!1),this.form._events.next(new Ni(this.form))}_updateDomValue(){this.directives.forEach(ee=>{const Te=ee.control,qe=this.form.get(ee.path);Te!==qe&&(ut(Te||null,ee),(K=>K instanceof $t)(qe)&&(ls(qe,ee,this.callSetDisabledState),ee.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ee){const Te=this.form.get(ee.path);oi(Te,ee),Te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ee){if(this.form){const Te=this.form.get(ee.path);Te&&function Xt(K,ie){return Vn(K,ie)}(Te,ee)&&Te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nn(this.form,this),this._oldForm&&Vn(this._oldForm,this)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(M,10),t.rXU(W,10),t.rXU(Vi,8))};static \u0275dir=t.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("submit",function(bn){return qe.onSubmit(bn)})("reset",function(){return qe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[t.Jv_([Dt]),t.Vt3,t.OA$]})}return K})();const Vt={provide:Y,useExisting:(0,t.Rfq)(()=>mn)};let mn=(()=>{class K extends yn{name=null;constructor(ee,Te,qe){super(),this._parent=ee,this._setValidators(Te),this._setAsyncValidators(qe)}_checkParentType(){fi(this._parent)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(Y,13),t.rXU(M,10),t.rXU(W,10))};static \u0275dir=t.FsC({type:K,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[t.Jv_([Vt]),t.Vt3]})}return K})();const Jn={provide:Y,useExisting:(0,t.Rfq)(()=>yi)};let yi=(()=>{class K extends Y{_parent;name=null;constructor(ee,Te,qe){super(),this._parent=ee,this._setValidators(Te),this._setAsyncValidators(qe)}ngOnInit(){fi(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zi(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(Te){return new(Te||K)(t.rXU(Y,13),t.rXU(M,10),t.rXU(W,10))};static \u0275dir=t.FsC({type:K,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[t.Jv_([Jn]),t.Vt3]})}return K})();function fi(K){return!(K instanceof mn||K instanceof dn||K instanceof yi)}const Us={provide:he,useExisting:(0,t.Rfq)(()=>Es)};let Es=(()=>{class K extends he{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(ee){}model;update=new t.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(ee,Te,qe,Pt,bn){super(),this._ngModelWarningConfig=bn,this._parent=ee,this._setValidators(Te),this._setAsyncValidators(qe),this.valueAccessor=Jt(0,Pt)}ngOnChanges(ee){this._added||this._setUpControl(),Ze(ee,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}get path(){return zi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(Te){return new(Te||K)(t.rXU(Y,13),t.rXU(M,10),t.rXU(W,10),t.rXU(S,10),t.rXU(Fs,8))};static \u0275dir=t.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[t.Jv_([Us]),t.Vt3,t.OA$]})}return K})();const xs={provide:S,useExisting:(0,t.Rfq)(()=>Ir),multi:!0};function ua(K,ie){return null==K?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${K}: ${ie}`.slice(0,50))}let Ir=(()=>{class K extends D{value;_optionMap=new Map;_idCounter=0;set compareWith(ee){this._compareWith=ee}_compareWith=Object.is;writeValue(ee){this.value=ee;const qe=ua(this._getOptionId(ee),ee);this.setProperty("value",qe)}registerOnChange(ee){this.onChange=Te=>{this.value=this._getOptionValue(Te),ee(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ee){for(const Te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Te),ee))return Te;return null}_getOptionValue(ee){const Te=function Ci(K){return K.split(":")[0]}(ee);return this._optionMap.has(Te)?this._optionMap.get(Te):ee}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("change",function(bn){return qe.onChange(bn.target.value)})("blur",function(){return qe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[t.Jv_([xs]),t.Vt3]})}return K})(),qr=(()=>{class K{_element;_renderer;_select;id;constructor(ee,Te,qe){this._element=ee,this._renderer=Te,this._select=qe,this._select&&(this.id=this._select._registerOption())}set ngValue(ee){null!=this._select&&(this._select._optionMap.set(this.id,ee),this._setElementValue(ua(this.id,ee)),this._select.writeValue(this._select.value))}set value(ee){this._setElementValue(ee),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ee){this._renderer.setProperty(this._element.nativeElement,"value",ee)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(Te){return new(Te||K)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Ir,9))};static \u0275dir=t.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return K})();const Oa={provide:S,useExisting:(0,t.Rfq)(()=>ma),multi:!0};function da(K,ie){return null==K?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${K}: ${ie}`.slice(0,50))}let ma=(()=>{class K extends D{value;_optionMap=new Map;_idCounter=0;set compareWith(ee){this._compareWith=ee}_compareWith=Object.is;writeValue(ee){let Te;if(this.value=ee,Array.isArray(ee)){const qe=ee.map(Pt=>this._getOptionId(Pt));Te=(Pt,bn)=>{Pt._setSelected(qe.indexOf(bn.toString())>-1)}}else Te=(qe,Pt)=>{qe._setSelected(!1)};this._optionMap.forEach(Te)}registerOnChange(ee){this.onChange=Te=>{const qe=[],Pt=Te.selectedOptions;if(void 0!==Pt){const bn=Pt;for(let ai=0;ai<bn.length;ai++){const $i=this._getOptionValue(bn[ai].value);qe.push($i)}}else{const bn=Te.options;for(let ai=0;ai<bn.length;ai++){const ts=bn[ai];if(ts.selected){const $i=this._getOptionValue(ts.value);qe.push($i)}}}this.value=qe,ee(qe)}}_registerOption(ee){const Te=(this._idCounter++).toString();return this._optionMap.set(Te,ee),Te}_getOptionId(ee){for(const Te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Te)._value,ee))return Te;return null}_getOptionValue(ee){const Te=function fo(K){return K.split(":")[0]}(ee);return this._optionMap.has(Te)?this._optionMap.get(Te)._value:ee}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Te,qe){1&Te&&t.bIt("change",function(bn){return qe.onChange(bn.target)})("blur",function(){return qe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[t.Jv_([Oa]),t.Vt3]})}return K})(),Sr=(()=>{class K{_element;_renderer;_select;id;_value;constructor(ee,Te,qe){this._element=ee,this._renderer=Te,this._select=qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ee){null!=this._select&&(this._value=ee,this._setElementValue(da(this.id,ee)),this._select.writeValue(this._select.value))}set value(ee){this._select?(this._value=ee,this._setElementValue(da(this.id,ee)),this._select.writeValue(this._select.value)):this._setElementValue(ee)}_setElementValue(ee){this._renderer.setProperty(this._element.nativeElement,"value",ee)}_setSelected(ee){this._renderer.setProperty(this._element.nativeElement,"selected",ee)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(Te){return new(Te||K)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(ma,9))};static \u0275dir=t.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return K})();function kr(K){return"number"==typeof K?K:parseInt(K,10)}let Pr=(()=>{class K{_validator=R;_onChange;_enabled;ngOnChanges(ee){if(this.inputName in ee){const Te=this.normalizeInput(ee[this.inputName].currentValue);this._enabled=this.enabled(Te),this._validator=this._enabled?this.createValidator(Te):R,this._onChange&&this._onChange()}}validate(ee){return this._validator(ee)}registerOnValidatorChange(ee){this._onChange=ee}enabled(ee){return null!=ee}static \u0275fac=function(Te){return new(Te||K)};static \u0275dir=t.FsC({type:K,features:[t.OA$]})}return K})();const Ua={provide:M,useExisting:(0,t.Rfq)(()=>fr),multi:!0};let fr=(()=>{class K extends Pr{min;inputName="min";normalizeInput=ee=>function Wr(K){return"number"==typeof K?K:parseFloat(K)}(ee);createValidator=ee=>Z(ee);static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Te,qe){2&Te&&t.BMQ("min",qe._enabled?qe.min:null)},inputs:{min:"min"},standalone:!1,features:[t.Jv_([Ua]),t.Vt3]})}return K})();const Fr={provide:M,useExisting:(0,t.Rfq)(()=>ta),multi:!0};let ta=(()=>{class K extends Pr{required;inputName="required";normalizeInput=t.L39;createValidator=ee=>L;enabled(ee){return ee}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Te,qe){2&Te&&t.BMQ("required",qe._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[t.Jv_([Fr]),t.Vt3]})}return K})();const mr={provide:M,useExisting:(0,t.Rfq)(()=>ka),multi:!0};let ka=(()=>{class K extends Pr{minlength;inputName="minlength";normalizeInput=ee=>kr(ee);createValidator=ee=>N(ee);static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Te,qe){2&Te&&t.BMQ("minlength",qe._enabled?qe.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[t.Jv_([mr]),t.Vt3]})}return K})();const io={provide:M,useExisting:(0,t.Rfq)(()=>Ia),multi:!0};let Ia=(()=>{class K extends Pr{maxlength;inputName="maxlength";normalizeInput=ee=>kr(ee);createValidator=ee=>fe(ee);static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275dir=t.FsC({type:K,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Te,qe){2&Te&&t.BMQ("maxlength",qe._enabled?qe.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[t.Jv_([io]),t.Vt3]})}return K})(),Ca=(()=>{class K{static \u0275fac=function(Te){return new(Te||K)};static \u0275mod=t.$C({type:K});static \u0275inj=t.G2t({})}return K})();class ar extends Wt{constructor(ie,ee,Te){super(os(ee),fs(Te,ee)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,ee={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}insert(ie,ee,Te={}){this.controls.splice(ie,0,ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:Te.emitEvent})}removeAt(ie,ee={}){let Te=this._adjustIndex(ie);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),this.updateValueAndValidity({emitEvent:ee.emitEvent})}setControl(ie,ee,Te={}){let qe=this._adjustIndex(ie);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),ee&&(this.controls.splice(qe,0,ee),this._registerControl(ee)),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,ee={}){xt(this,0,ie),ie.forEach((Te,qe)=>{Tt(this,!1,qe),this.at(qe).setValue(Te,{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee)}patchValue(ie,ee={}){null!=ie&&(ie.forEach((Te,qe)=>{this.at(qe)&&this.at(qe).patchValue(Te,{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee))}reset(ie=[],ee={}){this._forEachChild((Te,qe)=>{Te.reset(ie[qe],{onlySelf:!0,emitEvent:ee.emitEvent})}),this._updatePristine(ee,this),this._updateTouched(ee,this),this.updateValueAndValidity(ee)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(ee=>ee._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((ee,Te)=>!!Te._syncPendingControls()||ee,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((ee,Te)=>{ie(ee,Te)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(ee=>ee.enabled&&ie(ee))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}function ks(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Yr=(()=>{class K{useNonNullable=!1;get nonNullable(){const ee=new K;return ee.useNonNullable=!0,ee}group(ee,Te=null){const qe=this._reduceControls(ee);let Pt={};return ks(Te)?Pt=Te:null!==Te&&(Pt.validators=Te.validator,Pt.asyncValidators=Te.asyncValidator),new un(qe,Pt)}record(ee,Te=null){const qe=this._reduceControls(ee);return new Ti(qe,Te)}control(ee,Te,qe){let Pt={};return this.useNonNullable?(ks(Te)?Pt=Te:(Pt.validators=Te,Pt.asyncValidators=qe),new $t(ee,{...Pt,nonNullable:!0})):new $t(ee,Te,qe)}array(ee,Te,qe){const Pt=ee.map(bn=>this._createControl(bn));return new ar(Pt,Te,qe)}_reduceControls(ee){const Te={};return Object.keys(ee).forEach(qe=>{Te[qe]=this._createControl(ee[qe])}),Te}_createControl(ee){return ee instanceof $t||ee instanceof Wt?ee:Array.isArray(ee)?this.control(ee[0],ee.length>1?ee[1]:null,ee.length>2?ee[2]:null):this.control(ee)}static \u0275fac=function(Te){return new(Te||K)};static \u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),nl=(()=>{class K extends Yr{group(ee,Te=null){return super.group(ee,Te)}control(ee,Te,qe){return super.control(ee,Te,qe)}array(ee,Te,qe){return super.array(ee,Te,qe)}static \u0275fac=(()=>{let ee;return function(qe){return(ee||(ee=t.xGo(K)))(qe||K)}})();static \u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),so=(()=>{class K{static withConfig(ee){return{ngModule:K,providers:[{provide:Vi,useValue:ee.callSetDisabledState??ji}]}}static \u0275fac=function(Te){return new(Te||K)};static \u0275mod=t.$C({type:K});static \u0275inj=t.G2t({imports:[Ca]})}return K})(),il=(()=>{class K{static withConfig(ee){return{ngModule:K,providers:[{provide:Fs,useValue:ee.warnOnNgModelWithFormControl??"always"},{provide:Vi,useValue:ee.callSetDisabledState??ji}]}}static \u0275fac=function(Te){return new(Te||K)};static \u0275mod=t.$C({type:K});static \u0275inj=t.G2t({imports:[Ca]})}return K})()},9436:(ot,ve,l)=>{var t=l(6589);l(57),l(7097),l(3674),l(5437),l(8040),l(1817),l(9368),l(8588),l(2880),l(812);var o=t.asn1,f=ot.exports=t.pki=t.pki||{},A=f.oids,e={};e.CN=A.commonName,e.commonName="CN",e.C=A.countryName,e.countryName="C",e.L=A.localityName,e.localityName="L",e.ST=A.stateOrProvinceName,e.stateOrProvinceName="ST",e.O=A.organizationName,e.organizationName="O",e.OU=A.organizationalUnitName,e.organizationalUnitName="OU",e.E=A.emailAddress,e.emailAddress="E";var w=t.pki.rsa.publicKeyValidator,m={name:"Certificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},w,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},D={name:"rsapss",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},g={name:"CertificationRequest",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},w,{name:"CertificationRequestInfo.attributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function k(L,Q){"string"==typeof Q&&(Q={shortName:Q});for(var N,te=null,fe=0;null===te&&fe<L.attributes.length;++fe)N=L.attributes[fe],(Q.type&&Q.type===N.type||Q.name&&Q.name===N.name||Q.shortName&&Q.shortName===N.shortName)&&(te=N);return te}f.RDNAttributesAsArray=function(L,Q){for(var N,fe,oe,te=[],R=0;R<L.value.length;++R){N=L.value[R];for(var Fe=0;Fe<N.value.length;++Fe)(oe={}).type=o.derToOid((fe=N.value[Fe]).value[0].value),oe.value=fe.value[1].value,oe.valueTagClass=fe.value[1].type,oe.type in A&&(oe.name=A[oe.type],oe.name in e&&(oe.shortName=e[oe.name])),Q&&(Q.update(oe.type),Q.update(oe.value)),te.push(oe)}return te},f.CRIAttributesAsArray=function(L){for(var Q=[],te=0;te<L.length;++te)for(var N=L[te],fe=o.derToOid(N.value[0].value),oe=N.value[1].value,R=0;R<oe.length;++R){var Fe={};if(Fe.type=fe,Fe.value=oe[R].value,Fe.valueTagClass=oe[R].type,Fe.type in A&&(Fe.name=A[Fe.type],Fe.name in e&&(Fe.shortName=e[Fe.name])),Fe.type===A.extensionRequest){Fe.extensions=[];for(var we=0;we<Fe.value.length;++we)Fe.extensions.push(f.certificateExtensionFromAsn1(Fe.value[we]))}Q.push(Fe)}return Q};var z=function(L,Q,te){var N={};if(L!==A["RSASSA-PSS"])return N;te&&(N={hash:{algorithmOid:A.sha1},mgf:{algorithmOid:A.mgf1,hash:{algorithmOid:A.sha1}},saltLength:20});var fe={},oe=[];if(!o.validate(Q,D,fe,oe)){var R=new Error("Cannot read RSASSA-PSS parameter block.");throw R.errors=oe,R}return void 0!==fe.hashOid&&(N.hash=N.hash||{},N.hash.algorithmOid=o.derToOid(fe.hashOid)),void 0!==fe.maskGenOid&&(N.mgf=N.mgf||{},N.mgf.algorithmOid=o.derToOid(fe.maskGenOid),N.mgf.hash=N.mgf.hash||{},N.mgf.hash.algorithmOid=o.derToOid(fe.maskGenHashOid)),void 0!==fe.saltLength&&(N.saltLength=fe.saltLength.charCodeAt(0)),N},u=function(L){switch(A[L.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();default:var Q=new Error("Could not compute "+L.type+" digest. Unknown signature OID.");throw Q.signatureOid=L.signatureOid,Q}},E=function(L){var te,Q=L.certificate;switch(Q.signatureOid){case A.sha1WithRSAEncryption:case A.sha1WithRSASignature:break;case A["RSASSA-PSS"]:var N,fe,oe;if(void 0===(N=A[Q.signatureParameters.mgf.hash.algorithmOid])||void 0===t.md[N])throw(oe=new Error("Unsupported MGF hash function.")).oid=Q.signatureParameters.mgf.hash.algorithmOid,oe.name=N,oe;if(void 0===(fe=A[Q.signatureParameters.mgf.algorithmOid])||void 0===t.mgf[fe])throw(oe=new Error("Unsupported MGF function.")).oid=Q.signatureParameters.mgf.algorithmOid,oe.name=fe,oe;if(fe=t.mgf[fe].create(t.md[N].create()),void 0===(N=A[Q.signatureParameters.hash.algorithmOid])||void 0===t.md[N])throw(oe=new Error("Unsupported RSASSA-PSS hash function.")).oid=Q.signatureParameters.hash.algorithmOid,oe.name=N,oe;te=t.pss.create(t.md[N].create(),fe,Q.signatureParameters.saltLength)}return Q.publicKey.verify(L.md.digest().getBytes(),L.signature,te)};function B(L){for(var te,N,Q=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),fe=L.attributes,oe=0;oe<fe.length;++oe){var R=(te=fe[oe]).value,Fe=o.Type.PRINTABLESTRING;"valueTagClass"in te&&(Fe=te.valueTagClass)===o.Type.UTF8&&(R=t.util.encodeUtf8(R)),N=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(te.type).getBytes()),o.create(o.Class.UNIVERSAL,Fe,!1,R)])]),Q.value.push(N)}return Q}function F(L){for(var Q,te=0;te<L.length;++te){if(typeof(Q=L[te]).name>"u"&&(Q.type&&Q.type in f.oids?Q.name=f.oids[Q.type]:Q.shortName&&Q.shortName in e&&(Q.name=f.oids[e[Q.shortName]])),typeof Q.type>"u"){if(!Q.name||!(Q.name in f.oids))throw(N=new Error("Attribute type not specified.")).attribute=Q,N;Q.type=f.oids[Q.name]}if(typeof Q.shortName>"u"&&Q.name&&Q.name in e&&(Q.shortName=e[Q.name]),Q.type===A.extensionRequest&&(Q.valueConstructed=!0,Q.valueTagClass=o.Type.SEQUENCE,!Q.value&&Q.extensions)){Q.value=[];for(var fe=0;fe<Q.extensions.length;++fe)Q.value.push(f.certificateExtensionToAsn1(M(Q.extensions[fe])))}var N;if(typeof Q.value>"u")throw(N=new Error("Attribute value not specified.")).attribute=Q,N}}function M(L,Q){if(Q=Q||{},typeof L.name>"u"&&L.id&&L.id in f.oids&&(L.name=f.oids[L.id]),typeof L.id>"u"){if(!L.name||!(L.name in f.oids))throw(te=new Error("Extension ID not specified.")).extension=L,te;L.id=f.oids[L.name]}if(typeof L.value<"u")return L;if("keyUsage"===L.name){var N=0,fe=0,oe=0;L.digitalSignature&&(fe|=128,N=7),L.nonRepudiation&&(fe|=64,N=6),L.keyEncipherment&&(fe|=32,N=5),L.dataEncipherment&&(fe|=16,N=4),L.keyAgreement&&(fe|=8,N=3),L.keyCertSign&&(fe|=4,N=2),L.cRLSign&&(fe|=2,N=1),L.encipherOnly&&(fe|=1,N=0),L.decipherOnly&&(oe|=128,N=7);var R=String.fromCharCode(N);0!==oe?R+=String.fromCharCode(fe)+String.fromCharCode(oe):0!==fe&&(R+=String.fromCharCode(fe)),L.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,R)}else if("basicConstraints"===L.name)L.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),L.cA&&L.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in L&&L.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(L.pathLenConstraint).getBytes()));else if("extKeyUsage"===L.name){L.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);var Fe=L.value.value;for(var we in L)!0===L[we]&&(we in A?Fe.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(A[we]).getBytes())):-1!==we.indexOf(".")&&Fe.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(we).getBytes())))}else if("nsCertType"===L.name)N=0,fe=0,L.client&&(fe|=128,N=7),L.server&&(fe|=64,N=6),L.email&&(fe|=32,N=5),L.objsign&&(fe|=16,N=4),L.reserved&&(fe|=8,N=3),L.sslCA&&(fe|=4,N=2),L.emailCA&&(fe|=2,N=1),L.objCA&&(fe|=1,N=0),R=String.fromCharCode(N),0!==fe&&(R+=String.fromCharCode(fe)),L.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,R);else if("subjectAltName"===L.name||"issuerAltName"===L.name){L.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);for(var rt=0;rt<L.altNames.length;++rt){if(R=(We=L.altNames[rt]).value,7===We.type&&We.ip){if(null===(R=t.util.bytesFromIP(We.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===We.type&&(R=o.oidToDer(We.oid?o.oidToDer(We.oid):R));L.value.value.push(o.create(o.Class.CONTEXT_SPECIFIC,We.type,!1,R))}}else if("nsComment"===L.name&&Q.cert){if(!/^[\x00-\x7F]*$/.test(L.comment)||L.comment.length<1||L.comment.length>128)throw new Error('Invalid "nsComment" content.');L.value=o.create(o.Class.UNIVERSAL,o.Type.IA5STRING,!1,L.comment)}else if("subjectKeyIdentifier"===L.name&&Q.cert){var lt=Q.cert.generateSubjectKeyIdentifier();L.subjectKeyIdentifier=lt.toHex(),L.value=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,lt.getBytes())}else if("authorityKeyIdentifier"===L.name&&Q.cert){if(L.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),Fe=L.value.value,L.keyIdentifier){var vt=!0===L.keyIdentifier?Q.cert.generateSubjectKeyIdentifier().getBytes():L.keyIdentifier;Fe.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!1,vt))}if(L.authorityCertIssuer){var Ue=[o.create(o.Class.CONTEXT_SPECIFIC,4,!0,[B(!0===L.authorityCertIssuer?Q.cert.issuer:L.authorityCertIssuer)])];Fe.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,Ue))}if(L.serialNumber){var Ye=t.util.hexToBytes(!0===L.serialNumber?Q.cert.serialNumber:L.serialNumber);Fe.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!1,Ye))}}else if("cRLDistributionPoints"===L.name){L.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),Fe=L.value.value;var We,He=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),it=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(rt=0;rt<L.altNames.length;++rt){if(R=(We=L.altNames[rt]).value,7===We.type&&We.ip){if(null===(R=t.util.bytesFromIP(We.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===We.type&&(R=o.oidToDer(We.oid?o.oidToDer(We.oid):R));it.value.push(o.create(o.Class.CONTEXT_SPECIFIC,We.type,!1,R))}He.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[it])),Fe.push(He)}var te;if(typeof L.value>"u")throw(te=new Error("Extension value not specified.")).extension=L,te;return L}function W(L,Q){if(L===A["RSASSA-PSS"]){var te=[];return void 0!==Q.hash.algorithmOid&&te.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(Q.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])),void 0!==Q.mgf.algorithmOid&&te.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(Q.mgf.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(Q.mgf.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])])),void 0!==Q.saltLength&&te.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(Q.saltLength).getBytes())])),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,te)}return o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")}function y(L){var Q=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===L.attributes.length)return Q;for(var te=L.attributes,N=0;N<te.length;++N){var fe=te[N],oe=fe.value,R=o.Type.UTF8;"valueTagClass"in fe&&(R=fe.valueTagClass),R===o.Type.UTF8&&(oe=t.util.encodeUtf8(oe));var Fe=!1;"valueConstructed"in fe&&(Fe=fe.valueConstructed);var we=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(fe.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,R,Fe,oe)])]);Q.value.push(we)}return Q}f.certificateFromPem=function(L,Q,te){var N=t.pem.decode(L)[0];if("CERTIFICATE"!==N.type&&"X509 CERTIFICATE"!==N.type&&"TRUSTED CERTIFICATE"!==N.type){var fe=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw fe.headerType=N.type,fe}if(N.procType&&"ENCRYPTED"===N.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var oe=o.fromDer(N.body,te);return f.certificateFromAsn1(oe,Q)},f.certificateToPem=function(L,Q){var te={type:"CERTIFICATE",body:o.toDer(f.certificateToAsn1(L)).getBytes()};return t.pem.encode(te,{maxline:Q})},f.publicKeyFromPem=function(L){var Q=t.pem.decode(L)[0];if("PUBLIC KEY"!==Q.type&&"RSA PUBLIC KEY"!==Q.type){var te=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw te.headerType=Q.type,te}if(Q.procType&&"ENCRYPTED"===Q.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var N=o.fromDer(Q.body);return f.publicKeyFromAsn1(N)},f.publicKeyToPem=function(L,Q){var te={type:"PUBLIC KEY",body:o.toDer(f.publicKeyToAsn1(L)).getBytes()};return t.pem.encode(te,{maxline:Q})},f.publicKeyToRSAPublicKeyPem=function(L,Q){var te={type:"RSA PUBLIC KEY",body:o.toDer(f.publicKeyToRSAPublicKey(L)).getBytes()};return t.pem.encode(te,{maxline:Q})},f.getPublicKeyFingerprint=function(L,Q){var fe,te=(Q=Q||{}).md||t.md.sha1.create();switch(Q.type||"RSAPublicKey"){case"RSAPublicKey":fe=o.toDer(f.publicKeyToRSAPublicKey(L)).getBytes();break;case"SubjectPublicKeyInfo":fe=o.toDer(f.publicKeyToAsn1(L)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+Q.type+'".')}te.start(),te.update(fe);var oe=te.digest();if("hex"===Q.encoding){var R=oe.toHex();return Q.delimiter?R.match(/.{2}/g).join(Q.delimiter):R}if("binary"===Q.encoding)return oe.getBytes();if(Q.encoding)throw new Error('Unknown encoding "'+Q.encoding+'".');return oe},f.certificationRequestFromPem=function(L,Q,te){var N=t.pem.decode(L)[0];if("CERTIFICATE REQUEST"!==N.type){var fe=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw fe.headerType=N.type,fe}if(N.procType&&"ENCRYPTED"===N.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var oe=o.fromDer(N.body,te);return f.certificationRequestFromAsn1(oe,Q)},f.certificationRequestToPem=function(L,Q){var te={type:"CERTIFICATE REQUEST",body:o.toDer(f.certificationRequestToAsn1(L)).getBytes()};return t.pem.encode(te,{maxline:Q})},f.createCertificate=function(){var L={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.validity={},L.validity.notBefore=new Date,L.validity.notAfter=new Date,L.issuer={},L.issuer.getField=function(Q){return k(L.issuer,Q)},L.issuer.addField=function(Q){F([Q]),L.issuer.attributes.push(Q)},L.issuer.attributes=[],L.issuer.hash=null,L.subject={},L.subject.getField=function(Q){return k(L.subject,Q)},L.subject.addField=function(Q){F([Q]),L.subject.attributes.push(Q)},L.subject.attributes=[],L.subject.hash=null,L.extensions=[],L.publicKey=null,L.md=null,L.setSubject=function(Q,te){F(Q),L.subject.attributes=Q,delete L.subject.uniqueId,te&&(L.subject.uniqueId=te),L.subject.hash=null},L.setIssuer=function(Q,te){F(Q),L.issuer.attributes=Q,delete L.issuer.uniqueId,te&&(L.issuer.uniqueId=te),L.issuer.hash=null},L.setExtensions=function(Q){for(var te=0;te<Q.length;++te)M(Q[te],{cert:L});L.extensions=Q},L.getExtension=function(Q){"string"==typeof Q&&(Q={name:Q});for(var N,te=null,fe=0;null===te&&fe<L.extensions.length;++fe)N=L.extensions[fe],(Q.id&&N.id===Q.id||Q.name&&N.name===Q.name)&&(te=N);return te},L.sign=function(Q,te){L.md=te||t.md.sha1.create();var N=A[L.md.algorithm+"WithRSAEncryption"];if(!N){var fe=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw fe.algorithm=L.md.algorithm,fe}L.signatureOid=L.siginfo.algorithmOid=N,L.tbsCertificate=f.getTBSCertificate(L);var oe=o.toDer(L.tbsCertificate);L.md.update(oe.getBytes()),L.signature=Q.sign(L.md)},L.verify=function(Q){var te=!1;if(!L.issued(Q)){var N=Q.issuer,fe=L.subject,oe=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw oe.expectedIssuer=fe.attributes,oe.actualIssuer=N.attributes,oe}var R=Q.md;if(null===R){R=u({signatureOid:Q.signatureOid,type:"certificate"});var Fe=Q.tbsCertificate||f.getTBSCertificate(Q),we=o.toDer(Fe);R.update(we.getBytes())}return null!==R&&(te=E({certificate:L,md:R,signature:Q.signature})),te},L.isIssuer=function(Q){var te=!1,N=L.issuer,fe=Q.subject;if(N.hash&&fe.hash)te=N.hash===fe.hash;else if(N.attributes.length===fe.attributes.length){te=!0;for(var oe,R,Fe=0;te&&Fe<N.attributes.length;++Fe)((oe=N.attributes[Fe]).type!==(R=fe.attributes[Fe]).type||oe.value!==R.value)&&(te=!1)}return te},L.issued=function(Q){return Q.isIssuer(L)},L.generateSubjectKeyIdentifier=function(){return f.getPublicKeyFingerprint(L.publicKey,{type:"RSAPublicKey"})},L.verifySubjectKeyIdentifier=function(){for(var Q=A.subjectKeyIdentifier,te=0;te<L.extensions.length;++te){var N=L.extensions[te];if(N.id===Q){var fe=L.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(N.subjectKeyIdentifier)===fe}}return!1},L},f.certificateFromAsn1=function(L,Q){var te={},N=[];if(!o.validate(L,m,te,N)){var fe=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw fe.errors=N,fe}if(o.derToOid(te.publicKeyOid)!==f.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var R=f.createCertificate();R.version=te.certVersion?te.certVersion.charCodeAt(0):0;var Fe=t.util.createBuffer(te.certSerialNumber);R.serialNumber=Fe.toHex(),R.signatureOid=t.asn1.derToOid(te.certSignatureOid),R.signatureParameters=z(R.signatureOid,te.certSignatureParams,!0),R.siginfo.algorithmOid=t.asn1.derToOid(te.certinfoSignatureOid),R.siginfo.parameters=z(R.siginfo.algorithmOid,te.certinfoSignatureParams,!1),R.signature=te.certSignature;var we=[];if(void 0!==te.certValidity1UTCTime&&we.push(o.utcTimeToDate(te.certValidity1UTCTime)),void 0!==te.certValidity2GeneralizedTime&&we.push(o.generalizedTimeToDate(te.certValidity2GeneralizedTime)),void 0!==te.certValidity3UTCTime&&we.push(o.utcTimeToDate(te.certValidity3UTCTime)),void 0!==te.certValidity4GeneralizedTime&&we.push(o.generalizedTimeToDate(te.certValidity4GeneralizedTime)),we.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(we.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(R.validity.notBefore=we[0],R.validity.notAfter=we[1],R.tbsCertificate=te.tbsCertificate,Q){R.md=u({signatureOid:R.signatureOid,type:"certificate"});var We=o.toDer(R.tbsCertificate);R.md.update(We.getBytes())}var rt=t.md.sha1.create(),lt=o.toDer(te.certIssuer);rt.update(lt.getBytes()),R.issuer.getField=function(Ye){return k(R.issuer,Ye)},R.issuer.addField=function(Ye){F([Ye]),R.issuer.attributes.push(Ye)},R.issuer.attributes=f.RDNAttributesAsArray(te.certIssuer),te.certIssuerUniqueId&&(R.issuer.uniqueId=te.certIssuerUniqueId),R.issuer.hash=rt.digest().toHex();var vt=t.md.sha1.create(),Ue=o.toDer(te.certSubject);return vt.update(Ue.getBytes()),R.subject.getField=function(Ye){return k(R.subject,Ye)},R.subject.addField=function(Ye){F([Ye]),R.subject.attributes.push(Ye)},R.subject.attributes=f.RDNAttributesAsArray(te.certSubject),te.certSubjectUniqueId&&(R.subject.uniqueId=te.certSubjectUniqueId),R.subject.hash=vt.digest().toHex(),R.extensions=te.certExtensions?f.certificateExtensionsFromAsn1(te.certExtensions):[],R.publicKey=f.publicKeyFromAsn1(te.subjectPublicKeyInfo),R},f.certificateExtensionsFromAsn1=function(L){for(var Q=[],te=0;te<L.value.length;++te)for(var N=L.value[te],fe=0;fe<N.value.length;++fe)Q.push(f.certificateExtensionFromAsn1(N.value[fe]));return Q},f.certificateExtensionFromAsn1=function(L){var Q={};if(Q.id=o.derToOid(L.value[0].value),Q.critical=!1,L.value[1].type===o.Type.BOOLEAN?(Q.critical=0!==L.value[1].value.charCodeAt(0),Q.value=L.value[2].value):Q.value=L.value[1].value,Q.id in A)if(Q.name=A[Q.id],"keyUsage"===Q.name){var N=0,fe=0;(te=o.fromDer(Q.value)).value.length>1&&(N=te.value.charCodeAt(1),fe=te.value.length>2?te.value.charCodeAt(2):0),Q.digitalSignature=!(128&~N),Q.nonRepudiation=!(64&~N),Q.keyEncipherment=!(32&~N),Q.dataEncipherment=!(16&~N),Q.keyAgreement=!(8&~N),Q.keyCertSign=!(4&~N),Q.cRLSign=!(2&~N),Q.encipherOnly=!(1&~N),Q.decipherOnly=!(128&~fe)}else if("basicConstraints"===Q.name){var te=o.fromDer(Q.value);Q.cA=te.value.length>0&&te.value[0].type===o.Type.BOOLEAN&&0!==te.value[0].value.charCodeAt(0);var oe=null;te.value.length>0&&te.value[0].type===o.Type.INTEGER?oe=te.value[0].value:te.value.length>1&&(oe=te.value[1].value),null!==oe&&(Q.pathLenConstraint=o.derToInteger(oe))}else if("extKeyUsage"===Q.name){te=o.fromDer(Q.value);for(var R=0;R<te.value.length;++R){var Fe=o.derToOid(te.value[R].value);Fe in A?Q[A[Fe]]=!0:Q[Fe]=!0}}else if("nsCertType"===Q.name)N=0,(te=o.fromDer(Q.value)).value.length>1&&(N=te.value.charCodeAt(1)),Q.client=!(128&~N),Q.server=!(64&~N),Q.email=!(32&~N),Q.objsign=!(16&~N),Q.reserved=!(8&~N),Q.sslCA=!(4&~N),Q.emailCA=!(2&~N),Q.objCA=!(1&~N);else if("subjectAltName"===Q.name||"issuerAltName"===Q.name){Q.altNames=[],te=o.fromDer(Q.value);for(var we,We=0;We<te.value.length;++We){var rt={type:(we=te.value[We]).type,value:we.value};switch(Q.altNames.push(rt),we.type){case 1:case 2:case 6:break;case 7:rt.ip=t.util.bytesToIP(we.value);break;case 8:rt.oid=o.derToOid(we.value)}}}else"subjectKeyIdentifier"===Q.name&&(te=o.fromDer(Q.value),Q.subjectKeyIdentifier=t.util.bytesToHex(te.value));return Q},f.certificationRequestFromAsn1=function(L,Q){var te={},N=[];if(!o.validate(L,g,te,N)){var fe=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw fe.errors=N,fe}if(o.derToOid(te.publicKeyOid)!==f.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var R=f.createCertificationRequest();if(R.version=te.csrVersion?te.csrVersion.charCodeAt(0):0,R.signatureOid=t.asn1.derToOid(te.csrSignatureOid),R.signatureParameters=z(R.signatureOid,te.csrSignatureParams,!0),R.siginfo.algorithmOid=t.asn1.derToOid(te.csrSignatureOid),R.siginfo.parameters=z(R.siginfo.algorithmOid,te.csrSignatureParams,!1),R.signature=te.csrSignature,R.certificationRequestInfo=te.certificationRequestInfo,Q){R.md=u({signatureOid:R.signatureOid,type:"certification request"});var Fe=o.toDer(R.certificationRequestInfo);R.md.update(Fe.getBytes())}var we=t.md.sha1.create();return R.subject.getField=function(We){return k(R.subject,We)},R.subject.addField=function(We){F([We]),R.subject.attributes.push(We)},R.subject.attributes=f.RDNAttributesAsArray(te.certificationRequestInfoSubject,we),R.subject.hash=we.digest().toHex(),R.publicKey=f.publicKeyFromAsn1(te.subjectPublicKeyInfo),R.getAttribute=function(We){return k(R,We)},R.addAttribute=function(We){F([We]),R.attributes.push(We)},R.attributes=f.CRIAttributesAsArray(te.certificationRequestInfoAttributes||[]),R},f.createCertificationRequest=function(){var L={version:0,signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.subject={},L.subject.getField=function(Q){return k(L.subject,Q)},L.subject.addField=function(Q){F([Q]),L.subject.attributes.push(Q)},L.subject.attributes=[],L.subject.hash=null,L.publicKey=null,L.attributes=[],L.getAttribute=function(Q){return k(L,Q)},L.addAttribute=function(Q){F([Q]),L.attributes.push(Q)},L.md=null,L.setSubject=function(Q){F(Q),L.subject.attributes=Q,L.subject.hash=null},L.setAttributes=function(Q){F(Q),L.attributes=Q},L.sign=function(Q,te){L.md=te||t.md.sha1.create();var N=A[L.md.algorithm+"WithRSAEncryption"];if(!N){var fe=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw fe.algorithm=L.md.algorithm,fe}L.signatureOid=L.siginfo.algorithmOid=N,L.certificationRequestInfo=f.getCertificationRequestInfo(L);var oe=o.toDer(L.certificationRequestInfo);L.md.update(oe.getBytes()),L.signature=Q.sign(L.md)},L.verify=function(){var Q=!1,te=L.md;if(null===te){te=u({signatureOid:L.signatureOid,type:"certification request"});var N=L.certificationRequestInfo||f.getCertificationRequestInfo(L),fe=o.toDer(N);te.update(fe.getBytes())}return null!==te&&(Q=E({certificate:L,md:te,signature:L.signature})),Q},L};var X=new Date("1950-01-01T00:00:00Z"),Z=new Date("2050-01-01T00:00:00Z");function v(L){return L>=X&&L<Z?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(L)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(L))}f.getTBSCertificate=function(L){var Q=v(L.validity.notBefore),te=v(L.validity.notAfter),N=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(L.version).getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.util.hexToBytes(L.serialNumber)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(L.siginfo.algorithmOid).getBytes()),W(L.siginfo.algorithmOid,L.siginfo.parameters)]),B(L.issuer),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[Q,te]),B(L.subject),f.publicKeyToAsn1(L.publicKey)]);return L.issuer.uniqueId&&N.value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,"\0"+L.issuer.uniqueId)])),L.subject.uniqueId&&N.value.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,"\0"+L.subject.uniqueId)])),L.extensions.length>0&&N.value.push(f.certificateExtensionsToAsn1(L.extensions)),N},f.getCertificationRequestInfo=function(L){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(L.version).getBytes()),B(L.subject),f.publicKeyToAsn1(L.publicKey),y(L)])},f.distinguishedNameToAsn1=function(L){return B(L)},f.certificateToAsn1=function(L){var Q=L.tbsCertificate||f.getTBSCertificate(L);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[Q,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(L.signatureOid).getBytes()),W(L.signatureOid,L.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,"\0"+L.signature)])},f.certificateExtensionsToAsn1=function(L){var Q=o.create(o.Class.CONTEXT_SPECIFIC,3,!0,[]),te=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);Q.value.push(te);for(var N=0;N<L.length;++N)te.value.push(f.certificateExtensionToAsn1(L[N]));return Q},f.certificateExtensionToAsn1=function(L){var Q=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);Q.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(L.id).getBytes())),L.critical&&Q.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,"\xff"));var te=L.value;return"string"!=typeof L.value&&(te=o.toDer(te).getBytes()),Q.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,te)),Q},f.certificationRequestToAsn1=function(L){var Q=L.certificationRequestInfo||f.getCertificationRequestInfo(L);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[Q,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(L.signatureOid).getBytes()),W(L.signatureOid,L.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,"\0"+L.signature)])},f.createCaStore=function(L){var Q={certs:{}};function te(R){return N(R),Q.certs[R.hash]||null}function N(R){if(!R.hash){var Fe=t.md.sha1.create();R.attributes=f.RDNAttributesAsArray(B(R),Fe),R.hash=Fe.digest().toHex()}}if(Q.getIssuer=function(R){return te(R.issuer)},Q.addCertificate=function(R){if("string"==typeof R&&(R=t.pki.certificateFromPem(R)),N(R.subject),!Q.hasCertificate(R))if(R.subject.hash in Q.certs){var Fe=Q.certs[R.subject.hash];t.util.isArray(Fe)||(Fe=[Fe]),Fe.push(R),Q.certs[R.subject.hash]=Fe}else Q.certs[R.subject.hash]=R},Q.hasCertificate=function(R){"string"==typeof R&&(R=t.pki.certificateFromPem(R));var Fe=te(R.subject);if(!Fe)return!1;t.util.isArray(Fe)||(Fe=[Fe]);for(var we=o.toDer(f.certificateToAsn1(R)).getBytes(),We=0;We<Fe.length;++We)if(we===o.toDer(f.certificateToAsn1(Fe[We])).getBytes())return!0;return!1},Q.listAllCertificates=function(){var R=[];for(var Fe in Q.certs)if(Q.certs.hasOwnProperty(Fe)){var we=Q.certs[Fe];if(t.util.isArray(we))for(var We=0;We<we.length;++We)R.push(we[We]);else R.push(we)}return R},Q.removeCertificate=function(R){var Fe;if("string"==typeof R&&(R=t.pki.certificateFromPem(R)),N(R.subject),!Q.hasCertificate(R))return null;var we=te(R.subject);if(!t.util.isArray(we))return Fe=Q.certs[R.subject.hash],delete Q.certs[R.subject.hash],Fe;for(var We=o.toDer(f.certificateToAsn1(R)).getBytes(),rt=0;rt<we.length;++rt)We===o.toDer(f.certificateToAsn1(we[rt])).getBytes()&&(Fe=we[rt],we.splice(rt,1));return 0===we.length&&delete Q.certs[R.subject.hash],Fe},L)for(var fe=0;fe<L.length;++fe)Q.addCertificate(L[fe]);return Q},f.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},f.verifyCertificateChain=function(L,Q,te){"function"==typeof te&&(te={verify:te}),te=te||{};var N=(Q=Q.slice(0)).slice(0),fe=te.validityCheckDate;typeof fe>"u"&&(fe=new Date);var oe=!0,R=null,Fe=0;do{var we=Q.shift(),We=null,rt=!1;if(fe&&(fe<we.validity.notBefore||fe>we.validity.notAfter)&&(R={message:"Certificate is not valid yet or has expired.",error:f.certificateError.certificate_expired,notBefore:we.validity.notBefore,notAfter:we.validity.notAfter,now:fe}),null===R){if(null===(We=Q[0]||L.getIssuer(we))&&we.isIssuer(we)&&(rt=!0,We=we),We){var lt=We;t.util.isArray(lt)||(lt=[lt]);for(var vt=!1;!vt&&lt.length>0;){We=lt.shift();try{vt=We.verify(we)}catch{}}vt||(R={message:"Certificate signature is invalid.",error:f.certificateError.bad_certificate})}null===R&&(!We||rt)&&!L.hasCertificate(we)&&(R={message:"Certificate is not trusted.",error:f.certificateError.unknown_ca})}if(null===R&&We&&!we.isIssuer(We)&&(R={message:"Certificate issuer is invalid.",error:f.certificateError.bad_certificate}),null===R)for(var Ue={keyUsage:!0,basicConstraints:!0},Ye=0;null===R&&Ye<we.extensions.length;++Ye){var He=we.extensions[Ye];He.critical&&!(He.name in Ue)&&(R={message:"Certificate has an unsupported critical extension.",error:f.certificateError.unsupported_certificate})}if(null===R&&(!oe||0===Q.length&&(!We||rt))){var it=we.getExtension("basicConstraints"),Le=we.getExtension("keyUsage");null!==Le&&(!Le.keyCertSign||null===it)&&(R={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:f.certificateError.bad_certificate}),null===R&&null!==it&&!it.cA&&(R={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:f.certificateError.bad_certificate}),null===R&&null!==Le&&"pathLenConstraint"in it&&Fe-1>it.pathLenConstraint&&(R={message:"Certificate basicConstraints pathLenConstraint violated.",error:f.certificateError.bad_certificate})}var Xe=null===R||R.error,je=te.verify?te.verify(Xe,Fe,N):Xe;if(!0!==je)throw!0===Xe&&(R={message:"The application rejected the certificate.",error:f.certificateError.bad_certificate}),(je||0===je)&&("object"!=typeof je||t.util.isArray(je)?"string"==typeof je&&(R.error=je):(je.message&&(R.message=je.message),je.error&&(R.error=je.error))),R;R=null,oe=!1,++Fe}while(Q.length>0);return!0}},9437:(ot,ve,l)=>{"use strict";l.d(ve,{W:()=>A});var t=l(8750),o=l(4360),f=l(9974);function A(e){return(0,f.N)((w,m)=>{let g,D=null,S=!1;D=w.subscribe((0,o._)(m,void 0,void 0,k=>{g=(0,t.Tg)(e(k,A(e)(w))),D?(D.unsubscribe(),D=null,g.subscribe(m)):S=!0})),S&&(D.unsubscribe(),D=null,g.subscribe(m))})}},9470:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>o});var t=l(8071);function o(f){return f&&(0,t.T)(f.schedule)}},9475:(ot,ve,l)=>{"use strict";l.d(ve,{F:()=>E});var t=l(8434),o=l(5139),f=l(9417),A=l(534),e=l(1924),w=l(8018),m=l(5731),D=l(4193),S=l(7175),g=l(6599),k=l(1683),z=l(1575),u=l(1360);let E=(()=>{class B{static{this.\u0275fac=function(M){return new(M||B)}}static{this.\u0275mod=u.$C({type:B})}static{this.\u0275inj=u.G2t({providers:[z.v],imports:[t.MD,f.YN,f.X1,o.XE,w.h,e.h6,A.Ss,m.i,D.c,S.c,g.Y,k.Y]})}}return B})()},9550:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>w});var t=l(1360),o=l(8434);const f=["*"],A=(m,D)=>({"tw-form-switch__slider--traffic":m,"tw-form-switch__slider--alt":D}),e=(m,D)=>({"tw-form-switch__state--traffic":m,"tw-form-switch__state--alt":D});let w=(()=>{class m{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["app-form-toggle"]],inputs:{idFor:[0,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},standalone:!1,ngContentSelectors:f,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(g,k){1&g&&(t.NAR(),t.j41(0,"label",0),t.SdG(1),t.j41(2,"span",1),t.nrm(3,"span",2),t.k0s()()),2&g&&(t.Y8G("for",k.idFor),t.R7$(2),t.Y8G("ngClass",t.l_i(3,A,k.isTraffic,k.isAlt)),t.R7$(),t.Y8G("ngClass",t.l_i(6,e,k.isTraffic,k.isAlt)))},dependencies:[o.YU],encapsulation:2})}}return m})()},9564:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>f});var t=l(3165),o=l(1360);let f=(()=>{class A{setHeaders(w,m){return(new t.Lr).set("Content-Type",w||"application/json").set("Accept",m||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})()},9568:(ot,ve,l)=>{"use strict";l.d(ve,{t:()=>D});var t=l(2771),o=l(8750),f=l(1413),A=l(7707),e=l(9974);function m(S,g,...k){if(!0===g)return void S();if(!1===g)return;const z=new A.Ms({next:()=>{z.unsubscribe(),S()}});return(0,o.Tg)(g(...k)).subscribe(z)}function D(S,g,k){let z,u=!1;return S&&"object"==typeof S?({bufferSize:z=1/0,windowTime:g=1/0,refCount:u=!1,scheduler:k}=S):z=S??1/0,function w(S={}){const{connector:g=()=>new f.B,resetOnError:k=!0,resetOnComplete:z=!0,resetOnRefCountZero:u=!0}=S;return E=>{let B,V,F,M=0,W=!1,y=!1;const X=()=>{V?.unsubscribe(),V=void 0},Z=()=>{X(),B=F=void 0,W=y=!1},v=()=>{const L=B;Z(),L?.unsubscribe()};return(0,e.N)((L,Q)=>{M++,!y&&!W&&X();const te=F=F??g();Q.add(()=>{M--,0===M&&!y&&!W&&(V=m(v,u))}),te.subscribe(Q),!B&&M>0&&(B=new A.Ms({next:N=>te.next(N),error:N=>{y=!0,X(),V=m(Z,k,N),te.error(N)},complete:()=>{W=!0,X(),V=m(Z,z),te.complete()}}),(0,o.Tg)(L).subscribe(B))})(E)}}({connector:()=>new t.m(z,g,k),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},9622:(ot,ve,l)=>{var t=l(6589);l(7097),l(1817),l(1347),l(9368),l(1097),l(4724),l(8588),l(2880),l(812),l(9436);var o=t.asn1,f=ot.exports=t.pki=t.pki||{};f.pemToDer=function(A){var e=t.pem.decode(A)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(e.body)},f.privateKeyFromPem=function(A){var e=t.pem.decode(A)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var w=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw w.headerType=e.type,w}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var m=o.fromDer(e.body);return f.privateKeyFromAsn1(m)},f.privateKeyToPem=function(A,e){var w={type:"RSA PRIVATE KEY",body:o.toDer(f.privateKeyToAsn1(A)).getBytes()};return t.pem.encode(w,{maxline:e})},f.privateKeyInfoToPem=function(A,e){var w={type:"PRIVATE KEY",body:o.toDer(A).getBytes()};return t.pem.encode(w,{maxline:e})}},9624:(ot,ve,l)=>{"use strict";l.r(ve),l.d(ve,{StarterModeModule:()=>Ve});var t=l(9262),o=l(8018),f=l(779),A=l(5139),e=l(6976),w=l(9865),m=l(5312),D=l(1410),S=l(1360),g=l(2947),k=l(3680),z=l(6406);function u(Xe,je){1&Xe&&(S.j41(0,"li"),S.EFF(1),S.nI1(2,"translate"),S.k0s(),S.j41(3,"li"),S.EFF(4),S.nI1(5,"translate"),S.k0s(),S.j41(6,"li"),S.EFF(7),S.nI1(8,"translate"),S.k0s()),2&Xe&&(S.R7$(),S.JRh(S.bMT(2,3,"StarterMode.Teaser.Features.Audits")),S.R7$(3),S.JRh(S.bMT(5,5,"StarterMode.Teaser.Features.Import")),S.R7$(3),S.JRh(S.bMT(8,7,"StarterMode.Teaser.Features.DynamicAuth")))}let E=(()=>{class Xe{constructor(ct,st,Qe){this.route=ct,this.translate=st,this.router=Qe,this.LinkConstants=w.e,this.environment=m.c,this.IdentityPlatform=D.y,this.featureMap=new Map([[e.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[e.p.Auditing,this.translate.instant("Auditing.Title")],[e.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[e.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(ct=>{this.generateDescription()})}generateDescription(){const ct=+this.route.snapshot.queryParamMap.get("feature");if(ct in e.p&&ct!=e.p.None){const Qe=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(ct),this.preFeatureDescription=Qe[0],this.postFeatureDescription=Qe[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(st){return new(st||Xe)(S.rXU(g.nX),S.rXU(o.c$),S.rXU(g.Ix))}}static{this.\u0275cmp=S.VBU({type:Xe,selectors:[["ng-component"]],standalone:!1,decls:32,vars:27,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"href"],["id","ExtendDemo",1,"tw-btn","tw-mr-3","tw-mb-3",3,"href"]],template:function(st,Qe){1&st&&(S.nrm(0,"app-title-bar",0),S.nI1(1,"translate"),S.j41(2,"div",1)(3,"div",2)(4,"p",3),S.EFF(5),S.j41(6,"strong"),S.EFF(7),S.k0s(),S.EFF(8),S.k0s(),S.j41(9,"ul",4)(10,"li"),S.EFF(11),S.nI1(12,"translate"),S.k0s(),S.j41(13,"li"),S.EFF(14),S.nI1(15,"translate"),S.k0s(),S.j41(16,"li"),S.EFF(17),S.nI1(18,"translate"),S.k0s(),S.j41(19,"li"),S.EFF(20),S.nI1(21,"translate"),S.k0s(),S.DNE(22,u,9,9),S.k0s()()(),S.j41(23,"app-button-bar")(24,"a",5)(25,"span"),S.EFF(26),S.nI1(27,"translate"),S.k0s()(),S.j41(28,"a",6)(29,"span"),S.EFF(30),S.nI1(31,"translate"),S.k0s()()()),2&st&&(S.Y8G("title",S.bMT(1,13,"StarterMode.Teaser.Title")),S.R7$(5),S.SpI("",Qe.preFeatureDescription," "),S.R7$(2),S.JRh(Qe.featureDescription),S.R7$(),S.SpI(" ",Qe.postFeatureDescription,""),S.R7$(3),S.JRh(S.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),S.R7$(3),S.JRh(S.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),S.R7$(3),S.JRh(S.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),S.R7$(3),S.JRh(S.bMT(21,21,"StarterMode.Teaser.Features.Access")),S.R7$(2),S.vxM(Qe.environment.authServer==Qe.IdentityPlatform.Duende?22:-1),S.R7$(2),S.Y8G("href","https://www."+Qe.LinkConstants.AdminUIProviderDomain+".com/products/adminui/order-now?index=2&name=Enterprise",S.B4B),S.R7$(2),S.JRh(S.bMT(27,23,"StarterMode.UpgradeAdminUI")),S.R7$(2),S.Y8G("href",Qe.LinkConstants.ExtendLicense,S.B4B),S.R7$(2),S.JRh(S.bMT(31,25,"StarterMode.ExtendDemo")))},dependencies:[k.z,z.z,o.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var B=l(1594),V=l(3178),F=l(7773),M=l(3165),W=l(9564);let y=(()=>{class Xe{constructor(ct,st){this.http=ct,this.headersService=st,this.headers=new M.Lr,this.actionUrl="StarterMode",this.headers=st.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(st){return new(st||Xe)(S.KVO(M.Qq),S.KVO(W.m))}}static{this.\u0275prov=S.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})();var X=l(5794),Z=l(1339),v=l(9196),L=l(8434),Q=l(8114);function te(Xe,je){1&Xe&&(S.j41(0,"div",15)(1,"p",16)(2,"span"),S.EFF(3),S.nI1(4,"translate"),S.k0s()()()),2&Xe&&(S.R7$(3),S.JRh(S.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}function N(Xe,je){1&Xe&&(S.j41(0,"li"),S.EFF(1),S.nI1(2,"translate"),S.k0s(),S.j41(3,"li"),S.EFF(4),S.nI1(5,"translate"),S.k0s(),S.j41(6,"li"),S.EFF(7),S.nI1(8,"translate"),S.k0s()),2&Xe&&(S.R7$(),S.JRh(S.bMT(2,3,"StarterMode.Consent.Features.Import")),S.R7$(3),S.JRh(S.bMT(5,5,"StarterMode.Consent.Features.Audits")),S.R7$(3),S.JRh(S.bMT(8,7,"StarterMode.Consent.Features.DynamicAuth")))}let fe=(()=>{class Xe{constructor(ct,st,Qe,ne,Y,he){this.translate=ct,this.permissionService=st,this.starterModeConsentService=Qe,this.toastr=ne,this.authService=Y,this.configService=he,this.LinkConstants=w.e,this.environment=m.c,this.IdentityPlatform=D.y}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,B.$)()).subscribe({next:ct=>this.isAdmin=ct.permissions.includes(V.a.All)}),this.configService.getConfig().pipe((0,B.$)()).subscribe({next:ct=>this.starterModePersistance=ct.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,B.$)()).subscribe({next:()=>{this.authService.logoff()},error:ct=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(st){return new(st||Xe)(S.rXU(o.c$),S.rXU(F.n),S.rXU(y),S.rXU(X.tw),S.rXU(Z.u),S.rXU(v.w))}}static{this.\u0275cmp=S.VBU({type:Xe,selectors:[["ng-component"]],standalone:!1,decls:49,vars:50,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"href"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn-secondary","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo",1,"tw-btn-link","tw-mr-3","tw-mb-3",3,"href"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(st,Qe){if(1&st){const ne=S.RV6();S.nrm(0,"app-title-bar",2),S.nI1(1,"translate"),S.j41(2,"div",3),S.DNE(3,te,5,3,"div",4),S.j41(4,"div",5)(5,"p"),S.EFF(6),S.nI1(7,"translate"),S.k0s(),S.j41(8,"ul",6)(9,"li"),S.EFF(10),S.nI1(11,"translate"),S.k0s(),S.j41(12,"li"),S.EFF(13),S.nI1(14,"translate"),S.k0s(),S.j41(15,"li"),S.EFF(16),S.nI1(17,"translate"),S.k0s(),S.j41(18,"li"),S.EFF(19),S.nI1(20,"translate"),S.k0s(),S.DNE(21,N,9,9),S.k0s()()(),S.j41(22,"app-button-bar")(23,"a",7)(24,"span"),S.EFF(25),S.nI1(26,"translate"),S.k0s()(),S.j41(27,"button",8),S.bIt("click",function(){S.eBV(ne);const he=S.sdS(36),ge=S.sdS(44);return S.Njj(Qe.starterModePersistance?he.show():ge.show())}),S.j41(28,"span"),S.EFF(29),S.nI1(30,"translate"),S.k0s()(),S.j41(31,"a",9)(32,"span"),S.EFF(33),S.nI1(34,"translate"),S.k0s()()(),S.j41(35,"app-confirmation-modal",10,0),S.bIt("confirm",function(){return S.eBV(ne),S.Njj(Qe.giveConsentToStarterMode())}),S.qex(37,11),S.j41(38,"p",12),S.EFF(39),S.nI1(40,"translate"),S.k0s(),S.nrm(41,"p",13),S.nI1(42,"translate"),S.bVm(),S.k0s(),S.j41(43,"app-confirmation-modal",14,1),S.bIt("confirm",function(){return S.eBV(ne),S.Njj(Qe.openStartModeNoPersistranceDocs())}),S.qex(45,11),S.j41(46,"p",12),S.EFF(47),S.nI1(48,"translate"),S.k0s(),S.bVm(),S.k0s()}2&st&&(S.Y8G("title",S.bMT(1,26,"StarterMode.Consent.Title")),S.R7$(3),S.Y8G("ngIf",!Qe.isAdmin),S.R7$(3),S.JRh(S.bMT(7,28,"StarterMode.Consent.Description")),S.R7$(4),S.JRh(S.bMT(11,30,"StarterMode.Consent.Features.Authentication")),S.R7$(3),S.JRh(S.bMT(14,32,"StarterMode.Consent.Features.Users")),S.R7$(3),S.JRh(S.bMT(17,34,"StarterMode.Consent.Features.Clients")),S.R7$(3),S.JRh(S.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),S.R7$(2),S.vxM(Qe.environment.authServer==Qe.IdentityPlatform.Duende?21:-1),S.R7$(2),S.Y8G("href","https://www."+Qe.LinkConstants.AdminUIProviderDomain+".com/products/adminui/order-now?index=2&name=Enterprise",S.B4B),S.R7$(2),S.JRh(S.bMT(26,38,"StarterMode.UpgradeAdminUI")),S.R7$(2),S.Y8G("disabled",!Qe.isAdmin),S.R7$(2),S.JRh(S.bMT(30,40,"StarterMode.ConfirmStarterMode")),S.R7$(2),S.Y8G("href",Qe.LinkConstants.ExtendLicense,S.B4B),S.R7$(2),S.JRh(S.bMT(34,42,"StarterMode.ExtendDemo")),S.R7$(2),S.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),S.R7$(4),S.JRh(S.bMT(40,44,"StarterMode.ConfirmationModal.Description")),S.R7$(2),S.Y8G("innerHTML",S.bMT(42,46,"StarterMode.ConfirmationModal.Warning"),S.npT),S.R7$(2),S.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),S.R7$(4),S.JRh(S.bMT(48,48,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[L.bT,k.z,z.z,Q.B,o.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var oe=l(5517),R=l(2892),Fe=l(6354),we=l(3853);let We=(()=>{class Xe{constructor(ct,st,Qe){this.licenseService=ct,this.router=st,this.localizeRouter=Qe}canActivate(ct,st){return this.licenseService.getLicenseInfo().pipe((0,B.$)(),(0,Fe.T)(Qe=>{if(Qe.isExpectingStarterConsent())return!0;{const ne=this.localizeRouter.translateRoute("/home");this.router.navigate([ne])}}))}static{this.\u0275fac=function(st){return new(st||Xe)(S.KVO(we.X),S.KVO(g.Ix),S.KVO(A.QG))}}static{this.\u0275prov=S.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})();var rt=l(4446);const lt=[{path:"starter-mode/teaser",component:E,canActivate:[R.h,rt._,oe.H]},{path:"starter-mode/consent",component:fe,canActivate:[R.h,We]}];let vt=(()=>{class Xe{static{this.\u0275fac=function(st){return new(st||Xe)}}static{this.\u0275mod=S.$C({type:Xe})}static{this.\u0275inj=S.G2t({providers:[oe.H],imports:[t.iI.forChild(lt),A.XE.forChild(lt),t.iI]})}}return Xe})();var Ue=l(9962),Ye=l(4814),He=l(367),it=l(1993),Le=l(4367);let Ve=(()=>{class Xe{static{this.\u0275fac=function(st){return new(st||Xe)}}static{this.\u0275mod=S.$C({type:Xe})}static{this.\u0275inj=S.G2t({providers:[y,We,oe.H,Ue.m,Ye.y],imports:[t.iI,vt,o.h,He.m,f.Q_,it.E,Le.N]})}}return Xe})()},9686:(ot,ve,l)=>{"use strict";l.d(ve,{D:()=>A});class t{constructor(w){this.form=w}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var o=l(1360),f=l(7883);let A=(()=>{class e{constructor(m){this.securityService=m}buildForm(m){const D=this.buildStandardForm(m);return new t(D)}buildStandardForm(m){const D=document.createElement("form");return D.setAttribute("method","post"),D.setAttribute("action",m),D}appendInput(m,D,S){const g=document.createElement("input");g.setAttribute("type","text"),g.setAttribute("name",m),g.setAttribute("value",D),S.appendChild(g)}buildFormWithCustomInputs(m,D){const S=this.buildStandardForm(m);return D.forEach((g,k)=>{this.appendInput(k,g,S)}),new t(S)}static{this.\u0275fac=function(D){return new(D||e)(o.KVO(f.i))}}static{this.\u0275prov=o.jDH({token:e,factory:e.\u0275fac})}}return e})()},9687:(ot,ve,l)=>{"use strict";l.d(ve,{q:()=>f});var t=l(6129);class o{constructor(e,w=o.now){this.schedulerActionCtor=e,this.now=w}schedule(e,w=0,m){return new this.schedulerActionCtor(this,e).schedule(m,w)}}o.now=t.U.now;class f extends o{constructor(e,w=o.now){super(e,w),this.actions=[],this._active=!1}flush(e){const{actions:w}=this;if(this._active)return void w.push(e);let m;this._active=!0;do{if(m=e.execute(e.state,e.delay))break}while(e=w.shift());if(this._active=!1,m){for(;e=w.shift();)e.unsubscribe();throw m}}}},9764:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>rt});var t=l(467),o=l(1360),f=l(9417),A=l(9838),e=l(1413),w=l(7263),m=l(9767),D=l(4252),S=l(1258),g=l(4549),k=l(4754),z=l(9812),u=l(8434),E=l(5404),B=l(8698),V=l(9550),F=l(8577),M=l(3899),W=l(6536),y=l(8018);const X=["certificateReader"],Z=["addCertificateBtn"],v=["showModalButton"],L=["secretPicker"],Q=["certificateReaderNonModal"],te=["addCertificateBtnNonModal"];function N(lt,vt){if(1&lt&&(o.j41(0,"option",43),o.EFF(1),o.k0s()),2&lt){const Ue=vt.$implicit;o.Y8G("value",Ue.value),o.R7$(),o.JRh(Ue.value)}}function fe(lt,vt){1&lt&&(o.j41(0,"p",44),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&lt&&(o.R7$(),o.JRh(o.bMT(2,1,"Secret Picker.LastWarning")))}function oe(lt,vt){if(1&lt&&o.nrm(0,"app-date-time",45),2&lt){const Ue=o.XpG(2);o.Y8G("min",Ue.minDate)}}function R(lt,vt){if(1&lt){const Ue=o.RV6();o.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),o.DNE(6,N,2,2,"option",21),o.nI1(7,"keyvalue"),o.k0s()()(),o.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),o.nrm(11,"input",24),o.j41(12,"button",25),o.bIt("click",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.generateRandom())}),o.nrm(13,"span",26),o.j41(14,"span",27),o.EFF(15),o.nI1(16,"translate"),o.k0s()()(),o.nrm(17,"input",28),o.j41(18,"div",29)(19,"button",30,1),o.bIt("click",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.openCertificateReaderModel())}),o.j41(21,"span"),o.EFF(22),o.nI1(23,"translate"),o.k0s()()(),o.DNE(24,fe,3,3,"p",31),o.k0s()(),o.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),o.bIt("change",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.toggleExpirationDateInput())}),o.k0s()()()(),o.DNE(31,oe,1,1,"app-date-time",37),o.k0s()(),o.j41(32,"app-form-row",38),o.nrm(33,"textarea",39),o.k0s()()(),o.j41(34,"div",40)(35,"button",41),o.bIt("click",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.addSecret())}),o.EFF(36),o.nI1(37,"translate"),o.k0s(),o.j41(38,"button",42),o.bIt("click",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.resetForm())}),o.EFF(39),o.nI1(40,"translate"),o.k0s()()()}if(2&lt){const Ue=o.XpG();o.Y8G("formGroup",Ue.secretForm),o.R7$(3),o.Y8G("id","SecretType")("label","Common.Type"),o.R7$(3),o.Y8G("ngForOf",o.bMT(7,23,Ue.secretTypes)),o.R7$(2),o.Y8G("id","SecretValue")("label","Common.Value"),o.R7$(2),o.Y8G("hidden","Shared Secret"!==Ue.secretForm.controls.type.value),o.R7$(5),o.JRh(o.bMT(16,25,"Common.GenerateRandom")),o.R7$(2),o.Y8G("hidden","Shared Secret"===Ue.secretForm.controls.type.value),o.R7$(2),o.Y8G("hidden","Shared Secret"===Ue.secretForm.controls.type.value),o.R7$(3),o.JRh(o.bMT(23,27,"Common.ReadCertificate")),o.R7$(2),o.Y8G("ngIf",Ue.displayWarnings),o.R7$(),o.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),o.R7$(4),o.Y8G("id","expirationDateEnabled"),o.R7$(2),o.Y8G("ngIf",Ue.expirationDateEnabled),o.R7$(),o.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),o.R7$(3),o.Y8G("disabled",!Ue.secretForm.valid),o.R7$(),o.JRh(o.bMT(37,29,"Common.Add")),o.R7$(3),o.JRh(o.bMT(40,31,"Common.Clear"))}}function Fe(lt,vt){1&lt&&o.nrm(0,"app-data-table-column",46),2&lt&&o.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function we(lt,vt){if(1&lt){const Ue=o.RV6();o.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),o.nI1(5,"translate"),o.nI1(6,"translate"),o.nI1(7,"translate"),o.nI1(8,"translate"),o.bIt("dataExists",function(He){o.eBV(Ue);const it=o.XpG();return o.Njj(it.certificateDataLoaded(He))}),o.k0s()(),o.j41(9,"div",40)(10,"button",50,4),o.bIt("click",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.hideCertReaderNonModal(!0))}),o.EFF(12),o.nI1(13,"translate"),o.k0s(),o.j41(14,"button",42),o.bIt("click",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.hideCertReaderNonModal(!1))}),o.EFF(15),o.nI1(16,"translate"),o.k0s()()()}2&lt&&(o.R7$(3),o.Y8G("uploadCert",o.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",o.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",o.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",o.bMT(8,12,"Secret Picker.MetaDataHelp")),o.R7$(9),o.JRh(o.bMT(13,14,"Common.Use")),o.R7$(3),o.JRh(o.bMT(16,16,"Common.Cancel")))}function We(lt,vt){if(1&lt){const Ue=o.RV6();o.j41(0,"app-custom-modal",51),o.bIt("onSave",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){o.eBV(Ue);const He=o.XpG();return o.Njj(He.closeCertificateReaderModel())}),o.j41(1,"app-cert-reader",52,3),o.nI1(3,"translate"),o.nI1(4,"translate"),o.nI1(5,"translate"),o.nI1(6,"translate"),o.bIt("dataExists",function(He){o.eBV(Ue);const it=o.XpG();return o.Njj(it.certificateDataLoaded(He))}),o.k0s()()}if(2&lt){const Ue=o.XpG();o.Y8G("modalId",Ue.certModalId)("title","Secret Picker.ReadCertificate")("actions",Ue.modalActions),o.R7$(),o.Y8G("uploadCert",o.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",o.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",o.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",o.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let rt=(()=>{class lt{set clientSecrets(Ue){this._clientSecrets=Ue||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(Ue){this._isReadOnly=Ue||!1}get isReadOnly(){return this._isReadOnly}constructor(Ue,Ye,He){this.fb=Ue,this.modalService=Ye,this.dataTableService=He,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new A.S9,this.minDate=g.c9.now(),this.secretsAddStream=new e.B,this.secretsRemoveStream=new e.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[D.AA.Delete],this.modalActions=[S.N.Delete,S.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new o.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(Ue){"Enter"===Ue.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const Ue=g.c9.now().toISO();this.secretForm=this.fb.group({description:["",f.k0.maxLength(1e3)],value:["",f.k0.required],expiration:[{value:Ue,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ye=>{this.deleteSecret(Ye)})}selectedDate(Ue){this.secretForm.controls.expiration.setValue(Ue)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,w.Nl)())}dateSelected(Ue){this.secretForm.controls.expiration.setValue(Ue)}addSecret(){const Ue=this.secretForm.value;Ue.expiration=this.expirationDateEnabled?g.c9.fromISO(Ue.expiration).toString():null,this.secretsAddStream.next(Ue),this.secretForm.reset(),this.resetForm()}updateExpiration(){const Ue=this.secretForm.controls.expiration;this.expirationDateEnabled?(Ue.addValidators(f.k0.required),Ue.enable()):(Ue.removeValidators(f.k0.required),Ue.disable()),Ue.reset()}deleteSecret(Ue){this.secretsRemoveStream.next(this.clientSecrets[Ue])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var Ue=this;return(0,t.A)(function*(){Ue.modalService.hideById(Ue.certModalId),Ue.filepickerDisplayed.emit(!1),yield Ue.ReadCertificateModel()})()}ReadCertificateModel(){var Ue=this;return(0,t.A)(function*(){const Ye=yield Ue.certReaderComponent.getCertificateModel();let He="";switch(Ue.secretForm.controls.type.value){case"X509 Certificate Base64":He=Ye.base64Cert;break;case"X509 Name":He=Ye.subject;break;case"X509 Thumbprint":He=Ye.thumbprint}Ue.secretForm.controls.value.setValue(He)})()}certificateDataLoaded(Ue){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!Ue),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!Ue)}hideCertReaderNonModal(Ue){var Ye=this;return(0,t.A)(function*(){Ye.certificateReaderNonModal.nativeElement.hidden=!0,Ye.secretPicker.nativeElement.hidden=!1,Ue&&(yield Ye.ReadCertificateModel()),Ye.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Ye){return new(Ye||lt)(o.rXU(f.ze),o.rXU(k.B),o.rXU(z.I))}}static{this.\u0275cmp=o.VBU({type:lt,selectors:[["app-secret-picker"]],viewQuery:function(Ye,He){if(1&Ye&&(o.GBs(X,5),o.GBs(Z,5),o.GBs(v,5),o.GBs(L,5),o.GBs(Q,5),o.GBs(te,5)),2&Ye){let it;o.mGM(it=o.lsd())&&(He.certReaderComponent=it.first),o.mGM(it=o.lsd())&&(He.addCertificateButton=it.first),o.mGM(it=o.lsd())&&(He.showModalButton=it.first),o.mGM(it=o.lsd())&&(He.secretPicker=it.first),o.mGM(it=o.lsd())&&(He.certificateReaderNonModal=it.first),o.mGM(it=o.lsd())&&(He.addCertificateBtnNonModal=it.first)}},hostBindings:function(Ye,He){1&Ye&&o.bIt("keydown",function(Le){return He.keydown(Le)},!1,o.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},standalone:!1,decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Ye,He){1&Ye&&(o.j41(0,"div",5,0),o.DNE(2,R,41,33,"form",6),o.j41(3,"app-data-table",7),o.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),o.DNE(7,Fe,1,5,"app-data-table-column",11),o.nrm(8,"app-data-table-column",12),o.k0s()(),o.DNE(9,we,17,18,"div",13)(10,We,7,15,"app-custom-modal",14)),2&Ye&&(o.R7$(2),o.Y8G("ngIf",!He.isReadOnly),o.R7$(),o.Y8G("isReadOnly",He.isReadOnly)("rows",He.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",He.dataTableActions),o.R7$(),o.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),o.R7$(),o.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),o.R7$(),o.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),o.R7$(),o.Y8G("ngIf",He.showCreatedColumn),o.R7$(),o.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),o.R7$(),o.Y8G("ngIf",He.nonModelCertPicker),o.R7$(),o.Y8G("ngIf",!1===He.nonModelCertPicker))},dependencies:[u.Sq,u.bT,f.qT,f.xH,f.y7,f.me,f.Zm,f.wz,f.BC,f.cb,f.j4,f.JD,E.V,B.Y,V.m,D.up,F.w,M.G,W.Z,u.lG,y.D9],encapsulation:2,data:{animation:[(0,m.Ws)()]}})}}return lt})()},9767:(ot,ve,l)=>{"use strict";l.d(ve,{Ws:()=>o,l1:()=>f});var t=l(5218);function o(){return(0,t.hZ)("fadeInOut",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)("250ms",(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)("250ms",(0,t.iF)({opacity:0}))])])}function f(){return(0,t.hZ)("initLoad",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)("250ms",(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)("250ms",(0,t.iF)({opacity:0}))])])}},9786:(ot,ve,l)=>{"use strict";l.d(ve,{Y:()=>f,l:()=>A});var t=l(1026);let o=null;function f(e){if(t.$.useDeprecatedSynchronousErrorHandling){const w=!o;if(w&&(o={errorThrown:!1,error:null}),e(),w){const{errorThrown:m,error:D}=o;if(o=null,m)throw D}}else e()}function A(e){t.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},9807:(ot,ve,l)=>{var t=l(6589);l(7097),l(4579),l(4846),l(9368),l(9622),l(1675),l(8825),l(812);var o=function(ne,Y,he,ge){var s=t.util.createBuffer(),dt=ne.length>>1,_t=dt+(1&ne.length),en=ne.substr(0,_t),Cn=ne.substr(dt,_t),Wn=t.util.createBuffer(),tn=t.hmac.create();he=Y+he;var Ln=Math.ceil(ge/16),ni=Math.ceil(ge/20);tn.start("MD5",en);var ft=t.util.createBuffer();Wn.putBytes(he);for(var Qt=0;Qt<Ln;++Qt)tn.start(null,null),tn.update(Wn.getBytes()),Wn.putBuffer(tn.digest()),tn.start(null,null),tn.update(Wn.bytes()+he),ft.putBuffer(tn.digest());tn.start("SHA1",Cn);var pe=t.util.createBuffer();for(Wn.clear(),Wn.putBytes(he),Qt=0;Qt<ni;++Qt)tn.start(null,null),tn.update(Wn.getBytes()),Wn.putBuffer(tn.digest()),tn.start(null,null),tn.update(Wn.bytes()+he),pe.putBuffer(tn.digest());return s.putBytes(t.util.xorBytes(ft.getBytes(),pe.getBytes(),ge)),s},e=function(ne,Y,he){var ge=!1;try{var s=ne.deflate(Y.fragment.getBytes());Y.fragment=t.util.createBuffer(s),Y.length=s.length,ge=!0}catch{}return ge},w=function(ne,Y,he){var ge=!1;try{var s=ne.inflate(Y.fragment.getBytes());Y.fragment=t.util.createBuffer(s),Y.length=s.length,ge=!0}catch{}return ge},m=function(ne,Y){var he=0;switch(Y){case 1:he=ne.getByte();break;case 2:he=ne.getInt16();break;case 3:he=ne.getInt24();break;case 4:he=ne.getInt32()}return t.util.createBuffer(ne.getBytes(he))},D=function(ne,Y,he){ne.putInt(he.length(),Y<<3),ne.putBuffer(he)},S={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};S.SupportedVersions=[S.Versions.TLS_1_1,S.Versions.TLS_1_0],S.Version=S.SupportedVersions[0],S.MaxFragment=15360,S.ConnectionEnd={server:0,client:1},S.PRFAlgorithm={tls_prf_sha256:0},S.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},S.CipherType={stream:0,block:1,aead:2},S.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},S.CompressionMethod={none:0,deflate:1},S.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},S.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},S.Alert={},S.Alert.Level={warning:1,fatal:2},S.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},S.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},S.CipherSuites={},S.getCipherSuite=function(ne){var Y=null;for(var he in S.CipherSuites){var ge=S.CipherSuites[he];if(ge.id[0]===ne.charCodeAt(0)&&ge.id[1]===ne.charCodeAt(1)){Y=ge;break}}return Y},S.handleUnexpected=function(ne,Y){!ne.open&&ne.entity===S.ConnectionEnd.client||ne.error(ne,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})},S.handleHelloRequest=function(ne,Y,he){!ne.handshaking&&ne.handshakes>0&&(S.queue(ne,S.createAlert(ne,{level:S.Alert.Level.warning,description:S.Alert.Description.no_renegotiation})),S.flush(ne)),ne.process()},S.parseHelloMessage=function(ne,Y,he){var ge=null,s=ne.entity===S.ConnectionEnd.client;if(he<38)ne.error(ne,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});else{var dt=Y.fragment,_t=dt.length();if(ge={version:{major:dt.getByte(),minor:dt.getByte()},random:t.util.createBuffer(dt.getBytes(32)),session_id:m(dt,1),extensions:[]},s?(ge.cipher_suite=dt.getBytes(2),ge.compression_method=dt.getByte()):(ge.cipher_suites=m(dt,2),ge.compression_methods=m(dt,1)),(_t=he-(_t-dt.length()))>0){for(var en=m(dt,2);en.length()>0;)ge.extensions.push({type:[en.getByte(),en.getByte()],data:m(en,2)});if(!s)for(var Cn=0;Cn<ge.extensions.length;++Cn){var Wn=ge.extensions[Cn];if(0===Wn.type[0]&&0===Wn.type[1])for(var tn=m(Wn.data,2);tn.length()>0&&0===tn.getByte();)ne.session.extensions.server_name.serverNameList.push(m(tn,2).getBytes())}}if(ne.session.version&&(ge.version.major!==ne.session.version.major||ge.version.minor!==ne.session.version.minor))return ne.error(ne,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});if(s)ne.session.cipherSuite=S.getCipherSuite(ge.cipher_suite);else for(var ni=t.util.createBuffer(ge.cipher_suites.bytes());ni.length()>0&&(ne.session.cipherSuite=S.getCipherSuite(ni.getBytes(2)),null===ne.session.cipherSuite););if(null===ne.session.cipherSuite)return ne.error(ne,{message:"No cipher suites in common.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(ge.cipher_suite)});ne.session.compressionMethod=s?ge.compression_method:S.CompressionMethod.none}return ge},S.createSecurityParameters=function(ne,Y){var he=ne.entity===S.ConnectionEnd.client,ge=Y.random.bytes(),s=he?ne.session.sp.client_random:ge,dt=he?ge:S.createRandom().getBytes();ne.session.sp={entity:ne.entity,prf_algorithm:S.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:ne.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:dt}},S.handleServerHello=function(ne,Y,he){var ge=S.parseHelloMessage(ne,Y,he);if(!ne.fail){if(!(ge.version.minor<=ne.version.minor))return ne.error(ne,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});ne.version.minor=ge.version.minor,ne.session.version=ne.version;var s=ge.session_id.bytes();s.length>0&&s===ne.session.id?(ne.expect=B,ne.session.resuming=!0,ne.session.sp.server_random=ge.random.bytes()):(ne.expect=k,ne.session.resuming=!1,S.createSecurityParameters(ne,ge)),ne.session.id=s,ne.process()}},S.handleClientHello=function(ne,Y,he){var ge=S.parseHelloMessage(ne,Y,he);if(!ne.fail){var s=ge.session_id.bytes(),dt=null;if(ne.sessionCache&&(null===(dt=ne.sessionCache.getSession(s))?s="":(dt.version.major!==ge.version.major||dt.version.minor>ge.version.minor)&&(dt=null,s="")),0===s.length&&(s=t.random.getBytes(32)),ne.session.id=s,ne.session.clientHelloVersion=ge.version,ne.session.sp={},dt)ne.version=ne.session.version=dt.version,ne.session.sp=dt.sp;else{for(var _t,en=1;en<S.SupportedVersions.length&&!((_t=S.SupportedVersions[en]).minor<=ge.version.minor);++en);ne.version={major:_t.major,minor:_t.minor},ne.session.version=ne.version}null!==dt?(ne.expect=v,ne.session.resuming=!0,ne.session.sp.client_random=ge.random.bytes()):(ne.expect=!1!==ne.verifyClient?y:X,ne.session.resuming=!1,S.createSecurityParameters(ne,ge)),ne.open=!0,S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createServerHello(ne)})),ne.session.resuming?(S.queue(ne,S.createRecord(ne,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),ne.state.pending=S.createConnectionState(ne),ne.state.current.write=ne.state.pending.write,S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createFinished(ne)}))):(S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createCertificate(ne)})),ne.fail||(S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createServerKeyExchange(ne)})),!1!==ne.verifyClient&&S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createCertificateRequest(ne)})),S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createServerHelloDone(ne)})))),S.flush(ne),ne.process()}},S.handleCertificate=function(ne,Y,he){if(he<3)return ne.error(ne,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var dt,_t,s={certificate_list:m(Y.fragment,3)},en=[];try{for(;s.certificate_list.length()>0;)dt=m(s.certificate_list,3),_t=t.asn1.fromDer(dt),dt=t.pki.certificateFromAsn1(_t,!0),en.push(dt)}catch(Wn){return ne.error(ne,{message:"Could not parse certificate list.",cause:Wn,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var Cn=ne.entity===S.ConnectionEnd.client;!Cn&&!0!==ne.verifyClient||0!==en.length?0===en.length?ne.expect=Cn?z:X:(Cn?ne.session.serverCertificate=en[0]:ne.session.clientCertificate=en[0],S.verifyCertificateChain(ne,en)&&(ne.expect=Cn?z:X)):ne.error(ne,{message:Cn?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}}),ne.process()},S.handleServerKeyExchange=function(ne,Y,he){if(he>0)return ne.error(ne,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});ne.expect=u,ne.process()},S.handleClientKeyExchange=function(ne,Y,he){if(he<48)return ne.error(ne,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});var s={enc_pre_master_secret:m(Y.fragment,2).getBytes()},dt=null;if(ne.getPrivateKey)try{dt=ne.getPrivateKey(ne,ne.session.serverCertificate),dt=t.pki.privateKeyFromPem(dt)}catch(Cn){ne.error(ne,{message:"Could not get private key.",cause:Cn,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}if(null===dt)return ne.error(ne,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}});try{var _t=ne.session.sp;_t.pre_master_secret=dt.decrypt(s.enc_pre_master_secret);var en=ne.session.clientHelloVersion;if(en.major!==_t.pre_master_secret.charCodeAt(0)||en.minor!==_t.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{_t.pre_master_secret=t.random.getBytes(48)}ne.expect=v,null!==ne.session.clientCertificate&&(ne.expect=Z),ne.process()},S.handleCertificateRequest=function(ne,Y,he){if(he<3)return ne.error(ne,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var ge=Y.fragment,s={certificate_types:m(ge,1),certificate_authorities:m(ge,2)};ne.session.certificateRequest=s,ne.expect=E,ne.process()},S.handleCertificateVerify=function(ne,Y,he){if(he<2)return ne.error(ne,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var ge=Y.fragment;ge.read-=4;var s=ge.bytes();ge.read+=4;var dt={signature:m(ge,2).getBytes()},_t=t.util.createBuffer();_t.putBuffer(ne.session.md5.digest()),_t.putBuffer(ne.session.sha1.digest()),_t=_t.getBytes();try{if(!ne.session.clientCertificate.publicKey.verify(_t,dt.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");ne.session.md5.update(s),ne.session.sha1.update(s)}catch{return ne.error(ne,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure}})}ne.expect=v,ne.process()},S.handleServerHelloDone=function(ne,Y,he){if(he>0)return ne.error(ne,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.record_overflow}});if(null===ne.serverCertificate){var ge={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.insufficient_security}},dt=ne.verify(ne,ge.alert.description,0,[]);if(!0!==dt)return(dt||0===dt)&&("object"!=typeof dt||t.util.isArray(dt)?"number"==typeof dt&&(ge.alert.description=dt):(dt.message&&(ge.message=dt.message),dt.alert&&(ge.alert.description=dt.alert))),ne.error(ne,ge)}null!==ne.session.certificateRequest&&(Y=S.createRecord(ne,{type:S.ContentType.handshake,data:S.createCertificate(ne)}),S.queue(ne,Y)),Y=S.createRecord(ne,{type:S.ContentType.handshake,data:S.createClientKeyExchange(ne)}),S.queue(ne,Y),ne.expect=M;var _t=function(en,Cn){null!==en.session.certificateRequest&&null!==en.session.clientCertificate&&S.queue(en,S.createRecord(en,{type:S.ContentType.handshake,data:S.createCertificateVerify(en,Cn)})),S.queue(en,S.createRecord(en,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),en.state.pending=S.createConnectionState(en),en.state.current.write=en.state.pending.write,S.queue(en,S.createRecord(en,{type:S.ContentType.handshake,data:S.createFinished(en)})),en.expect=B,S.flush(en),en.process()};if(null===ne.session.certificateRequest||null===ne.session.clientCertificate)return _t(ne,null);S.getClientSignature(ne,_t)},S.handleChangeCipherSpec=function(ne,Y){if(1!==Y.fragment.getByte())return ne.error(ne,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var he=ne.entity===S.ConnectionEnd.client;(ne.session.resuming&&he||!ne.session.resuming&&!he)&&(ne.state.pending=S.createConnectionState(ne)),ne.state.current.read=ne.state.pending.read,(!ne.session.resuming&&he||ne.session.resuming&&!he)&&(ne.state.pending=null),ne.expect=he?V:L,ne.process()},S.handleFinished=function(ne,Y,he){var ge=Y.fragment;ge.read-=4;var s=ge.bytes();ge.read+=4;var dt=Y.fragment.getBytes();(ge=t.util.createBuffer()).putBuffer(ne.session.md5.digest()),ge.putBuffer(ne.session.sha1.digest());var _t=ne.entity===S.ConnectionEnd.client;if((ge=o(ne.session.sp.master_secret,_t?"server finished":"client finished",ge.getBytes(),12)).getBytes()!==dt)return ne.error(ne,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decrypt_error}});ne.session.md5.update(s),ne.session.sha1.update(s),(ne.session.resuming&&_t||!ne.session.resuming&&!_t)&&(S.queue(ne,S.createRecord(ne,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),ne.state.current.write=ne.state.pending.write,ne.state.pending=null,S.queue(ne,S.createRecord(ne,{type:S.ContentType.handshake,data:S.createFinished(ne)}))),ne.expect=_t?F:Q,ne.handshaking=!1,++ne.handshakes,ne.peerCertificate=_t?ne.session.serverCertificate:ne.session.clientCertificate,S.flush(ne),ne.isConnected=!0,ne.connected(ne),ne.process()},S.handleAlert=function(ne,Y){var s,he=Y.fragment,ge={level:he.getByte(),description:he.getByte()};switch(ge.description){case S.Alert.Description.close_notify:s="Connection closed.";break;case S.Alert.Description.unexpected_message:s="Unexpected message.";break;case S.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case S.Alert.Description.decryption_failed:s="Decryption failed.";break;case S.Alert.Description.record_overflow:s="Record overflow.";break;case S.Alert.Description.decompression_failure:s="Decompression failed.";break;case S.Alert.Description.handshake_failure:s="Handshake failure.";break;case S.Alert.Description.bad_certificate:s="Bad certificate.";break;case S.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case S.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case S.Alert.Description.certificate_expired:s="Certificate expired.";break;case S.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case S.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case S.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case S.Alert.Description.access_denied:s="Access denied.";break;case S.Alert.Description.decode_error:s="Decode error.";break;case S.Alert.Description.decrypt_error:s="Decrypt error.";break;case S.Alert.Description.export_restriction:s="Export restriction.";break;case S.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case S.Alert.Description.insufficient_security:s="Insufficient security.";break;case S.Alert.Description.internal_error:s="Internal error.";break;case S.Alert.Description.user_canceled:s="User canceled.";break;case S.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error."}if(ge.description===S.Alert.Description.close_notify)return ne.close();ne.error(ne,{message:s,send:!1,origin:ne.entity===S.ConnectionEnd.client?"server":"client",alert:ge}),ne.process()},S.handleHandshake=function(ne,Y){var he=Y.fragment,ge=he.getByte(),s=he.getInt24();if(s>he.length())return ne.fragmented=Y,Y.fragment=t.util.createBuffer(),he.read-=4,ne.process();ne.fragmented=null,he.read-=4;var dt=he.bytes(s+4);he.read+=4,ge in Le[ne.entity][ne.expect]?(ne.entity===S.ConnectionEnd.server&&!ne.open&&!ne.fail&&(ne.handshaking=!0,ne.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),ge!==S.HandshakeType.hello_request&&ge!==S.HandshakeType.certificate_verify&&ge!==S.HandshakeType.finished&&(ne.session.md5.update(dt),ne.session.sha1.update(dt)),Le[ne.entity][ne.expect][ge](ne,Y,s)):S.handleUnexpected(ne,Y)},S.handleApplicationData=function(ne,Y){ne.data.putBuffer(Y.fragment),ne.dataReady(ne),ne.process()},S.handleHeartbeat=function(ne,Y){var he=Y.fragment,ge=he.getByte(),s=he.getInt16(),dt=he.getBytes(s);if(ge===S.HeartbeatMessageType.heartbeat_request){if(ne.handshaking||s>dt.length)return ne.process();S.queue(ne,S.createRecord(ne,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_response,dt)})),S.flush(ne)}else if(ge===S.HeartbeatMessageType.heartbeat_response){if(dt!==ne.expectedHeartbeatPayload)return ne.process();ne.heartbeatReceived&&ne.heartbeatReceived(ne,t.util.createBuffer(dt))}ne.process()};var k=1,z=2,u=3,E=4,B=5,V=6,F=7,M=8,y=1,X=2,Z=3,v=4,L=5,Q=6,N=S.handleUnexpected,fe=S.handleChangeCipherSpec,oe=S.handleAlert,R=S.handleHandshake,Fe=S.handleApplicationData,we=S.handleHeartbeat,We=[];We[S.ConnectionEnd.client]=[[N,oe,R,N,we],[N,oe,R,N,we],[N,oe,R,N,we],[N,oe,R,N,we],[N,oe,R,N,we],[fe,oe,N,N,we],[N,oe,R,N,we],[N,oe,R,Fe,we],[N,oe,R,N,we]],We[S.ConnectionEnd.server]=[[N,oe,R,N,we],[N,oe,R,N,we],[N,oe,R,N,we],[N,oe,R,N,we],[fe,oe,N,N,we],[N,oe,R,N,we],[N,oe,R,Fe,we],[N,oe,R,N,we]];var rt=S.handleHelloRequest,vt=S.handleCertificate,Ue=S.handleServerKeyExchange,Ye=S.handleCertificateRequest,He=S.handleServerHelloDone,it=S.handleFinished,Le=[];Le[S.ConnectionEnd.client]=[[N,N,S.handleServerHello,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,vt,Ue,Ye,He,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,Ue,Ye,He,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,Ye,He,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,He,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,it],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[rt,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N]],Le[S.ConnectionEnd.server]=[[N,S.handleClientHello,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,vt,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,S.handleClientKeyExchange,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,S.handleCertificateVerify,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,it],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N]],S.generateKeys=function(ne,Y){var he=o,ge=Y.client_random+Y.server_random;ne.session.resuming||(Y.master_secret=he(Y.pre_master_secret,"master secret",ge,48).bytes(),Y.pre_master_secret=null);var s=2*Y.mac_key_length+2*Y.enc_key_length,dt=ne.version.major===S.Versions.TLS_1_0.major&&ne.version.minor===S.Versions.TLS_1_0.minor;dt&&(s+=2*Y.fixed_iv_length);var _t=he(Y.master_secret,"key expansion",ge=Y.server_random+Y.client_random,s),en={client_write_MAC_key:_t.getBytes(Y.mac_key_length),server_write_MAC_key:_t.getBytes(Y.mac_key_length),client_write_key:_t.getBytes(Y.enc_key_length),server_write_key:_t.getBytes(Y.enc_key_length)};return dt&&(en.client_write_IV=_t.getBytes(Y.fixed_iv_length),en.server_write_IV=_t.getBytes(Y.fixed_iv_length)),en},S.createConnectionState=function(ne){var Y=ne.entity===S.ConnectionEnd.client,he=function(){var dt={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(_t){return!0},compressionState:null,compressFunction:function(_t){return!0},updateSequenceNumber:function(){4294967295===dt.sequenceNumber[1]?(dt.sequenceNumber[1]=0,++dt.sequenceNumber[0]):++dt.sequenceNumber[1]}};return dt},ge={read:he(),write:he()};if(ge.read.update=function(dt,_t){return ge.read.cipherFunction(_t,ge.read)?ge.read.compressFunction(dt,_t,ge.read)||dt.error(dt,{message:"Could not decompress record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decompression_failure}}):dt.error(dt,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_record_mac}}),!dt.fail},ge.write.update=function(dt,_t){return ge.write.compressFunction(dt,_t,ge.write)?ge.write.cipherFunction(_t,ge.write)||dt.error(dt,{message:"Could not encrypt record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):dt.error(dt,{message:"Could not compress record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}),!dt.fail},ne.session){var s=ne.session.sp;switch(ne.session.cipherSuite.initSecurityParameters(s),s.keys=S.generateKeys(ne,s),ge.read.macKey=Y?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,ge.write.macKey=Y?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,ne.session.cipherSuite.initConnectionState(ge,ne,s),s.compression_algorithm){case S.CompressionMethod.none:break;case S.CompressionMethod.deflate:ge.read.compressFunction=w,ge.write.compressFunction=e;break;default:throw new Error("Unsupported compression algorithm.")}}return ge},S.createRandom=function(){var ne=new Date,Y=+ne+6e4*ne.getTimezoneOffset(),he=t.util.createBuffer();return he.putInt32(Y),he.putBytes(t.random.getBytes(28)),he},S.createRecord=function(ne,Y){return Y.data?{type:Y.type,version:{major:ne.version.major,minor:ne.version.minor},length:Y.data.length(),fragment:Y.data}:null},S.createAlert=function(ne,Y){var he=t.util.createBuffer();return he.putByte(Y.level),he.putByte(Y.description),S.createRecord(ne,{type:S.ContentType.alert,data:he})},S.createClientHello=function(ne){ne.session.clientHelloVersion={major:ne.version.major,minor:ne.version.minor};for(var Y=t.util.createBuffer(),he=0;he<ne.cipherSuites.length;++he){var ge=ne.cipherSuites[he];Y.putByte(ge.id[0]),Y.putByte(ge.id[1])}var s=Y.length(),dt=t.util.createBuffer();dt.putByte(S.CompressionMethod.none);var _t=dt.length(),en=t.util.createBuffer();if(ne.virtualHost){var Cn=t.util.createBuffer();Cn.putByte(0),Cn.putByte(0);var Wn=t.util.createBuffer();Wn.putByte(0),D(Wn,2,t.util.createBuffer(ne.virtualHost));var tn=t.util.createBuffer();D(tn,2,Wn),D(Cn,2,tn),en.putBuffer(Cn)}var Ln=en.length();Ln>0&&(Ln+=2);var ni=ne.session.id,ft=ni.length+1+2+4+28+2+s+1+_t+Ln,Qt=t.util.createBuffer();return Qt.putByte(S.HandshakeType.client_hello),Qt.putInt24(ft),Qt.putByte(ne.version.major),Qt.putByte(ne.version.minor),Qt.putBytes(ne.session.sp.client_random),D(Qt,1,t.util.createBuffer(ni)),D(Qt,2,Y),D(Qt,1,dt),Ln>0&&D(Qt,2,en),Qt},S.createServerHello=function(ne){var Y=ne.session.id,he=Y.length+1+2+4+28+2+1,ge=t.util.createBuffer();return ge.putByte(S.HandshakeType.server_hello),ge.putInt24(he),ge.putByte(ne.version.major),ge.putByte(ne.version.minor),ge.putBytes(ne.session.sp.server_random),D(ge,1,t.util.createBuffer(Y)),ge.putByte(ne.session.cipherSuite.id[0]),ge.putByte(ne.session.cipherSuite.id[1]),ge.putByte(ne.session.compressionMethod),ge},S.createCertificate=function(ne){var Y=ne.entity===S.ConnectionEnd.client,he=null;ne.getCertificate&&(he=ne.getCertificate(ne,Y?ne.session.certificateRequest:ne.session.extensions.server_name.serverNameList));var s=t.util.createBuffer();if(null!==he)try{t.util.isArray(he)||(he=[he]);for(var dt=null,_t=0;_t<he.length;++_t){var en=t.pem.decode(he[_t])[0];if("CERTIFICATE"!==en.type&&"X509 CERTIFICATE"!==en.type&&"TRUSTED CERTIFICATE"!==en.type){var Cn=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Cn.headerType=en.type,Cn}if(en.procType&&"ENCRYPTED"===en.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Wn=t.util.createBuffer(en.body);null===dt&&(dt=t.asn1.fromDer(Wn.bytes(),!1));var tn=t.util.createBuffer();D(tn,3,Wn),s.putBuffer(tn)}he=t.pki.certificateFromAsn1(dt),Y?ne.session.clientCertificate=he:ne.session.serverCertificate=he}catch(ft){return ne.error(ne,{message:"Could not send certificate list.",cause:ft,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var Ln=3+s.length(),ni=t.util.createBuffer();return ni.putByte(S.HandshakeType.certificate),ni.putInt24(Ln),D(ni,3,s),ni},S.createClientKeyExchange=function(ne){var Y=t.util.createBuffer();Y.putByte(ne.session.clientHelloVersion.major),Y.putByte(ne.session.clientHelloVersion.minor),Y.putBytes(t.random.getBytes(46));var he=ne.session.sp;he.pre_master_secret=Y.getBytes();var s=(Y=ne.session.serverCertificate.publicKey.encrypt(he.pre_master_secret)).length+2,dt=t.util.createBuffer();return dt.putByte(S.HandshakeType.client_key_exchange),dt.putInt24(s),dt.putInt16(Y.length),dt.putBytes(Y),dt},S.createServerKeyExchange=function(ne){return t.util.createBuffer()},S.getClientSignature=function(ne,Y){var he=t.util.createBuffer();he.putBuffer(ne.session.md5.digest()),he.putBuffer(ne.session.sha1.digest()),he=he.getBytes(),ne.getSignature=ne.getSignature||function(ge,s,dt){var _t=null;if(ge.getPrivateKey)try{_t=ge.getPrivateKey(ge,ge.session.clientCertificate),_t=t.pki.privateKeyFromPem(_t)}catch(en){ge.error(ge,{message:"Could not get private key.",cause:en,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}null===_t?ge.error(ge,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):s=_t.sign(s,null),dt(ge,s)},ne.getSignature(ne,he,Y)},S.createCertificateVerify=function(ne,Y){var he=Y.length+2,ge=t.util.createBuffer();return ge.putByte(S.HandshakeType.certificate_verify),ge.putInt24(he),ge.putInt16(Y.length),ge.putBytes(Y),ge},S.createCertificateRequest=function(ne){var Y=t.util.createBuffer();Y.putByte(1);var he=t.util.createBuffer();for(var ge in ne.caStore.certs){var dt=t.pki.distinguishedNameToAsn1(ne.caStore.certs[ge].subject),_t=t.asn1.toDer(dt);he.putInt16(_t.length()),he.putBuffer(_t)}var en=1+Y.length()+2+he.length(),Cn=t.util.createBuffer();return Cn.putByte(S.HandshakeType.certificate_request),Cn.putInt24(en),D(Cn,1,Y),D(Cn,2,he),Cn},S.createServerHelloDone=function(ne){var Y=t.util.createBuffer();return Y.putByte(S.HandshakeType.server_hello_done),Y.putInt24(0),Y},S.createChangeCipherSpec=function(){var ne=t.util.createBuffer();return ne.putByte(1),ne},S.createFinished=function(ne){var Y=t.util.createBuffer();Y.putBuffer(ne.session.md5.digest()),Y.putBuffer(ne.session.sha1.digest()),Y=o(ne.session.sp.master_secret,ne.entity===S.ConnectionEnd.client?"client finished":"server finished",Y.getBytes(),12);var en=t.util.createBuffer();return en.putByte(S.HandshakeType.finished),en.putInt24(Y.length()),en.putBuffer(Y),en},S.createHeartbeat=function(ne,Y,he){typeof he>"u"&&(he=Y.length);var ge=t.util.createBuffer();ge.putByte(ne),ge.putInt16(he),ge.putBytes(Y);var s=ge.length(),dt=Math.max(16,s-he-3);return ge.putBytes(t.random.getBytes(dt)),ge},S.queue=function(ne,Y){if(Y&&(0!==Y.fragment.length()||Y.type!==S.ContentType.handshake&&Y.type!==S.ContentType.alert&&Y.type!==S.ContentType.change_cipher_spec)){if(Y.type===S.ContentType.handshake){var he=Y.fragment.bytes();ne.session.md5.update(he),ne.session.sha1.update(he),he=null}var ge;if(Y.fragment.length()<=S.MaxFragment)ge=[Y];else{ge=[];for(var s=Y.fragment.bytes();s.length>S.MaxFragment;)ge.push(S.createRecord(ne,{type:Y.type,data:t.util.createBuffer(s.slice(0,S.MaxFragment))})),s=s.slice(S.MaxFragment);s.length>0&&ge.push(S.createRecord(ne,{type:Y.type,data:t.util.createBuffer(s)}))}for(var dt=0;dt<ge.length&&!ne.fail;++dt){var _t=ge[dt];ne.state.current.write.update(ne,_t)&&ne.records.push(_t)}}},S.flush=function(ne){for(var Y=0;Y<ne.records.length;++Y){var he=ne.records[Y];ne.tlsData.putByte(he.type),ne.tlsData.putByte(he.version.major),ne.tlsData.putByte(he.version.minor),ne.tlsData.putInt16(he.fragment.length()),ne.tlsData.putBuffer(ne.records[Y].fragment)}return ne.records=[],ne.tlsDataReady(ne)};var ct=function(ne){switch(ne){case!0:return!0;case t.pki.certificateError.bad_certificate:return S.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return S.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return S.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return S.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return S.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return S.Alert.Description.unknown_ca;default:return S.Alert.Description.bad_certificate}};for(var Qe in S.verifyCertificateChain=function(ne,Y){try{var he={};for(var ge in ne.verifyOptions)he[ge]=ne.verifyOptions[ge];he.verify=function(dt,_t,en){ct(dt);var Wn=ne.verify(ne,dt,_t,en);if(!0!==Wn){if("object"==typeof Wn&&!t.util.isArray(Wn)){var tn=new Error("The application rejected the certificate.");throw tn.send=!0,tn.alert={level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate},Wn.message&&(tn.message=Wn.message),Wn.alert&&(tn.alert.description=Wn.alert),tn}Wn!==dt&&(Wn=function(ne){switch(ne){case!0:return!0;case S.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case S.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case S.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case S.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case S.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case S.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}}(Wn))}return Wn},t.pki.verifyCertificateChain(ne.caStore,Y,he)}catch(dt){var s=dt;("object"!=typeof s||t.util.isArray(s))&&(s={send:!0,alert:{level:S.Alert.Level.fatal,description:ct(dt)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:S.Alert.Level.fatal,description:ct(s.error)}),ne.error(ne,s)}return!ne.fail},S.createSessionCache=function(ne,Y){var he=null;if(ne&&ne.getSession&&ne.setSession&&ne.order)he=ne;else{for(var ge in(he={}).cache=ne||{},he.capacity=Math.max(Y||100,1),he.order=[],ne)he.order.length<=Y?he.order.push(ge):delete ne[ge];he.getSession=function(s){var dt=null,_t=null;if(s?_t=t.util.bytesToHex(s):he.order.length>0&&(_t=he.order[0]),null!==_t&&_t in he.cache)for(var en in dt=he.cache[_t],delete he.cache[_t],he.order)if(he.order[en]===_t){he.order.splice(en,1);break}return dt},he.setSession=function(s,dt){if(he.order.length===he.capacity){var _t=he.order.shift();delete he.cache[_t]}_t=t.util.bytesToHex(s),he.order.push(_t),he.cache[_t]=dt}}return he},S.createConnection=function(ne){var Y;Y=ne.caStore?t.util.isArray(ne.caStore)?t.pki.createCaStore(ne.caStore):ne.caStore:t.pki.createCaStore();var he=ne.cipherSuites||null;if(null===he)for(var ge in he=[],S.CipherSuites)he.push(S.CipherSuites[ge]);var s=ne.server?S.ConnectionEnd.server:S.ConnectionEnd.client,dt=ne.sessionCache?S.createSessionCache(ne.sessionCache):null,_t={version:{major:S.Version.major,minor:S.Version.minor},entity:s,sessionId:ne.sessionId,caStore:Y,sessionCache:dt,cipherSuites:he,connected:ne.connected,virtualHost:ne.virtualHost||null,verifyClient:ne.verifyClient||!1,verify:ne.verify||function(tn,Ln,ni,ft){return Ln},verifyOptions:ne.verifyOptions||{},getCertificate:ne.getCertificate||null,getPrivateKey:ne.getPrivateKey||null,getSignature:ne.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:ne.tlsDataReady,dataReady:ne.dataReady,heartbeatReceived:ne.heartbeatReceived,closed:ne.closed,error:function(tn,Ln){Ln.origin=Ln.origin||(tn.entity===S.ConnectionEnd.client?"client":"server"),Ln.send&&(S.queue(tn,S.createAlert(tn,Ln.alert)),S.flush(tn));var ni=!1!==Ln.fatal;ni&&(tn.fail=!0),ne.error(tn,Ln),ni&&tn.close(!1)},deflate:ne.deflate||null,inflate:ne.inflate||null,reset:function(tn){_t.version={major:S.Version.major,minor:S.Version.minor},_t.record=null,_t.session=null,_t.peerCertificate=null,_t.state={pending:null,current:null},_t.expect=0,_t.fragmented=null,_t.records=[],_t.open=!1,_t.handshakes=0,_t.handshaking=!1,_t.isConnected=!1,_t.fail=!(tn||typeof tn>"u"),_t.input.clear(),_t.tlsData.clear(),_t.data.clear(),_t.state.current=S.createConnectionState(_t)}};return _t.reset(),_t.handshake=function(tn){if(_t.entity!==S.ConnectionEnd.client)_t.error(_t,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(_t.handshaking)_t.error(_t,{message:"Handshake already in progress.",fatal:!1});else{_t.fail&&!_t.open&&0===_t.handshakes&&(_t.fail=!1),_t.handshaking=!0;var Ln=null;(tn=tn||"").length>0&&(_t.sessionCache&&(Ln=_t.sessionCache.getSession(tn)),null===Ln&&(tn="")),0===tn.length&&_t.sessionCache&&null!==(Ln=_t.sessionCache.getSession())&&(tn=Ln.id),_t.session={id:tn,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Ln&&(_t.version=Ln.version,_t.session.sp=Ln.sp),_t.session.sp.client_random=S.createRandom().getBytes(),_t.open=!0,S.queue(_t,S.createRecord(_t,{type:S.ContentType.handshake,data:S.createClientHello(_t)})),S.flush(_t)}},_t.process=function(tn){var Ln=0;return tn&&_t.input.putBytes(tn),_t.fail||(null!==_t.record&&_t.record.ready&&_t.record.fragment.isEmpty()&&(_t.record=null),null===_t.record&&(Ln=function(tn){var Ln=0,ni=tn.input,ft=ni.length();if(ft<5)Ln=5-ft;else{tn.record={type:ni.getByte(),version:{major:ni.getByte(),minor:ni.getByte()},length:ni.getInt16(),fragment:t.util.createBuffer(),ready:!1};var Qt=tn.record.version.major===tn.version.major;Qt&&tn.session&&tn.session.version&&(Qt=tn.record.version.minor===tn.version.minor),Qt||tn.error(tn,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}})}return Ln}(_t)),!_t.fail&&null!==_t.record&&!_t.record.ready&&(Ln=function(tn){var Ln=0,ni=tn.input,ft=ni.length();return ft<tn.record.length?Ln=tn.record.length-ft:(tn.record.fragment.putBytes(ni.getBytes(tn.record.length)),ni.compact(),tn.state.current.read.update(tn,tn.record)&&(null!==tn.fragmented&&(tn.fragmented.type===tn.record.type?(tn.fragmented.fragment.putBuffer(tn.record.fragment),tn.record=tn.fragmented):tn.error(tn,{message:"Invalid fragmented record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})),tn.record.ready=!0)),Ln}(_t)),!_t.fail&&null!==_t.record&&_t.record.ready&&function(tn,Ln){var ni=Ln.type-S.ContentType.change_cipher_spec,ft=We[tn.entity][tn.expect];ni in ft?ft[ni](tn,Ln):S.handleUnexpected(tn,Ln)}(_t,_t.record)),Ln},_t.prepare=function(tn){return S.queue(_t,S.createRecord(_t,{type:S.ContentType.application_data,data:t.util.createBuffer(tn)})),S.flush(_t)},_t.prepareHeartbeatRequest=function(tn,Ln){return tn instanceof t.util.ByteBuffer&&(tn=tn.bytes()),typeof Ln>"u"&&(Ln=tn.length),_t.expectedHeartbeatPayload=tn,S.queue(_t,S.createRecord(_t,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_request,tn,Ln)})),S.flush(_t)},_t.close=function(tn){if(!_t.fail&&_t.sessionCache&&_t.session){var Ln={id:_t.session.id,version:_t.session.version,sp:_t.session.sp};Ln.sp.keys=null,_t.sessionCache.setSession(Ln.id,Ln)}_t.open&&(_t.open=!1,_t.input.clear(),(_t.isConnected||_t.handshaking)&&(_t.isConnected=_t.handshaking=!1,S.queue(_t,S.createAlert(_t,{level:S.Alert.Level.warning,description:S.Alert.Description.close_notify})),S.flush(_t)),_t.closed(_t)),_t.reset(tn)},_t},ot.exports=t.tls=t.tls||{},S)"function"!=typeof S[Qe]&&(t.tls[Qe]=S[Qe]);t.tls.prf_tls1=o,t.tls.hmac_sha1=function(ne,Y,he){var ge=t.hmac.create();ge.start("SHA1",ne);var s=t.util.createBuffer();return s.putInt32(Y[0]),s.putInt32(Y[1]),s.putByte(he.type),s.putByte(he.version.major),s.putByte(he.version.minor),s.putInt16(he.length),s.putBytes(he.fragment.bytes()),ge.update(s.getBytes()),ge.digest().getBytes()},t.tls.createSessionCache=S.createSessionCache,t.tls.createConnection=S.createConnection},9812:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>f});var t=l(1413),o=l(1360);let f=(()=>{class A{constructor(){this.sortColumnEvent=new t.B,this.sortCompletedEvent=new t.B,this.deleteRowEvent=new t.B}static{this.\u0275fac=function(m){return new(m||A)}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},9838:(ot,ve,l)=>{"use strict";l.d(ve,{$9:()=>A,S9:()=>f,Vk:()=>o});var t=l(1360);let o=(()=>{class e{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(D){return new(D||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();class f{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let A=(()=>{class e{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return e})()},9858:(ot,ve,l)=>{"use strict";l.d(ve,{y:()=>o});var t=l(8071);function o(f){return(0,t.T)(f?.then)}},9861:(ot,ve,l)=>{"use strict";l.d(ve,{k:()=>ni});var t=l(9417),o=l(9172),f=l(1397),A=l(4549),e=l(1413),w=l(7263);class m{constructor(Qt,pe,de,P){this.auditAction=Qt||"",this.subject=pe||"",this.resourceName=de||"",this.source=P||""}}class D{constructor(Qt){this.auditAction=Qt.auditSearch.auditAction,this.subject=Qt.auditSearch.subject,this.resourceName=Qt.auditSearch.resourceName,this.source=Qt.auditSearch.source,this.fromDate=Qt.fromDate.toString(),this.toDate=Qt.toDate.toString(),this.page=Qt.page,this.pageSize=Qt.pageSize,this.sortCriteria=Qt.sortCriteria,this.success=Qt.success,this.bySubject=Qt.bySubject}}class S{constructor(Qt,pe,de,P,q,Ne,De,et){this.auditSearch=Qt,this.fromDate=pe,this.toDate=de,this.page=P,this.pageSize=q,this.sortCriteria=Ne,this.success=De,this.bySubject=et}}var g=l(1360),k=l(2734),z=l(5139),u=l(2947),E=l(7883),B=l(9686),V=l(1575),F=l(8434),M=l(534),W=l(7156),y=l(7294),X=l(7384),Z=l(6536),v=l(8018),L=l(1589);function Q(ft,Qt){1&ft&&(g.j41(0,"span",65),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&ft&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.FromDateWarning")," "))}function te(ft,Qt){1&ft&&(g.j41(0,"span",66),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&ft&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function N(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"div",10)(1,"p",53),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"ul",19)(5,"li")(6,"button",67),g.bIt("click",function(){g.eBV(pe);const P=g.XpG();return g.Njj(P.setActorOrResource(!0))}),g.EFF(7),g.nI1(8,"translate"),g.k0s()(),g.j41(9,"li")(10,"button",68),g.bIt("click",function(){g.eBV(pe);const P=g.XpG();return g.Njj(P.setActorOrResource(!1))}),g.EFF(11),g.nI1(12,"translate"),g.k0s()()()()}if(2&ft){const pe=g.XpG();g.R7$(2),g.JRh(g.bMT(3,7,"Auditing.ByFilter")),g.R7$(4),g.AVh("tw-btn-link",!pe.getBySubjectFilterState),g.R7$(),g.SpI(" ",g.bMT(8,9,"Auditing.BySubject")," "),g.R7$(3),g.AVh("tw-btn-link",pe.getBySubjectFilterState),g.R7$(),g.SpI(" ",g.bMT(12,11,"Auditing.ByResource")," ")}}function fe(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"li",72)(1,"button",73),g.bIt("click",function(){g.eBV(pe);const P=g.XpG(2);return g.Njj(P.removeFilter("source"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&ft){const pe=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Source"),":"),g.R7$(3),g.JRh(pe.filterForm.get("auditSearch").get("source").value)}}function oe(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"li",72)(1,"button",76),g.bIt("click",function(){g.eBV(pe);const P=g.XpG(2);return g.Njj(P.removeFilter("subject"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&ft){const pe=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Subject"),":"),g.R7$(3),g.JRh(pe.filterForm.get("auditSearch").get("subject").value)}}function R(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"li",72)(1,"button",76),g.bIt("click",function(){g.eBV(pe);const P=g.XpG(2);return g.Njj(P.removeFilter("auditAction"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&ft){const pe=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Action"),":"),g.R7$(3),g.JRh(pe.filterForm.get("auditSearch").get("auditAction").value)}}function Fe(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"li",72)(1,"button",76),g.bIt("click",function(){g.eBV(pe);const P=g.XpG(2);return g.Njj(P.removeFilter("resourceName"))}),g.j41(2,"b",74),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s(),g.nrm(7,"span",75),g.k0s()()}if(2&ft){const pe=g.XpG(2);g.R7$(3),g.SpI("",g.bMT(4,2,"Auditing.Resource"),":"),g.R7$(3),g.JRh(pe.filterForm.get("auditSearch").get("resourceName").value)}}function we(ft,Qt){if(1&ft&&(g.j41(0,"div",69)(1,"p",51),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"ul",70),g.DNE(5,fe,8,4,"li",71)(6,oe,8,4,"li",71)(7,R,8,4,"li",71)(8,Fe,8,4,"li",71),g.k0s()()),2&ft){const pe=g.XpG();g.R7$(2),g.JRh(g.bMT(3,5,"Auditing.ActiveFilters")),g.R7$(3),g.Y8G("ngIf",pe.filterForm.get("auditSearch").get("source").value),g.R7$(),g.Y8G("ngIf",pe.filterForm.get("auditSearch").get("subject").value),g.R7$(),g.Y8G("ngIf",pe.filterForm.get("auditSearch").get("auditAction").value),g.R7$(),g.Y8G("ngIf",pe.filterForm.get("auditSearch").get("resourceName").value)}}function We(ft,Qt){1&ft&&(g.j41(0,"span"),g.nrm(1,"span",77),g.EFF(2),g.nI1(3,"translate"),g.k0s()),2&ft&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Auditing.ShowFilters")," "))}function rt(ft,Qt){1&ft&&(g.j41(0,"span"),g.nrm(1,"span",78),g.EFF(2),g.nI1(3,"translate"),g.k0s()),2&ft&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Auditing.HideFilters")," "))}function lt(ft,Qt){1&ft&&(g.j41(0,"option",79),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&ft&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Subject"),""))}function vt(ft,Qt){1&ft&&(g.j41(0,"option",80),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&ft&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Resource"),""))}function Ue(ft,Qt){1&ft&&(g.j41(0,"p",81),g.nrm(1,"span",82),g.EFF(2),g.nI1(3,"translate"),g.k0s()),2&ft&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Auditing.UpdateWarning")," "))}function Ye(ft,Qt){1&ft&&(g.j41(0,"span",87)(1,"span",51),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&ft&&(g.R7$(2),g.JRh(g.bMT(3,1,"Common.Loading")))}function He(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"app-action-bar"),g.qex(1,83),g.DNE(2,Ye,4,3,"span",84),g.j41(3,"button",85),g.nI1(4,"translate"),g.bIt("click",function(){g.eBV(pe);const P=g.XpG();return g.Njj(P.getCSV())}),g.j41(5,"span"),g.nrm(6,"span",86),g.k0s(),g.j41(7,"span",51),g.EFF(8),g.nI1(9,"translate"),g.k0s()(),g.bVm(),g.k0s()}if(2&ft){const pe=g.XpG();g.R7$(2),g.Y8G("ngIf",pe.loadingCSV),g.R7$(),g.Y8G("tooltip",g.bMT(4,4,"Auditing.DownloadResults"))("disabled",(null==pe.pagedResult?null:pe.pagedResult.results.length)<1&&!pe.isLoading||pe.loadingCSV),g.R7$(5),g.JRh(g.bMT(9,6,"Auditing.DownloadResults"))}}function it(ft,Qt){1&ft&&g.nrm(0,"app-simple-loader")}function Le(ft,Qt){1&ft&&(g.j41(0,"div",88)(1,"div"),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&ft&&(g.R7$(2),g.JRh(g.bMT(3,1,"Auditing.NoAuditsFound")))}function Ve(ft,Qt){1&ft&&(g.j41(0,"th",101),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&ft&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Subject")," "))}function Xe(ft,Qt){1&ft&&(g.j41(0,"th",102),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&ft&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Auditing.Resource")," "))}function je(ft,Qt){if(1&ft&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&ft){const pe=g.XpG(2).$implicit;g.R7$(),g.JRh(pe.subject.name)}}function ct(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"span")(1,"a",115),g.bIt("click",function(){g.eBV(pe);const P=g.XpG(2).$implicit,q=g.XpG(2);return g.Njj(!!q.resourceNavigate(P.subject))}),g.EFF(2),g.k0s()()}if(2&ft){const pe=g.XpG(2).$implicit,de=g.XpG(2);g.R7$(),g.FS9("href",de.buildLink(pe.subject),g.B4B),g.R7$(),g.SpI(" ",pe.subject.name," ")}}function st(ft,Qt){if(1&ft&&(g.j41(0,"td",114),g.DNE(1,je,2,1,"span",35)(2,ct,3,2,"span",35),g.k0s()),2&ft){const pe=g.XpG().$implicit,de=g.XpG(2);g.R7$(),g.Y8G("ngIf",""==de.buildLink(pe.subject)),g.R7$(),g.Y8G("ngIf",""!=de.buildLink(pe.subject))}}function Qe(ft,Qt){if(1&ft&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&ft){const pe=g.XpG(2).$implicit;g.R7$(),g.SpI(" ",pe.resource.name," ")}}function ne(ft,Qt){if(1&ft&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&ft){const pe=g.XpG(3).$implicit;g.R7$(),g.JRh(pe.resource.identifier)}}function Y(ft,Qt){if(1&ft&&(g.j41(0,"span"),g.EFF(1),g.k0s()),2&ft){const pe=g.XpG(3).$implicit;g.R7$(),g.JRh(pe.resource.name)}}function he(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"span")(1,"a",115),g.bIt("click",function(){g.eBV(pe);const P=g.XpG(2).$implicit,q=g.XpG(2);return g.Njj(!!q.resourceNavigate(P.resource))}),g.DNE(2,ne,2,1,"span",35)(3,Y,2,1,"span",35),g.k0s()()}if(2&ft){const pe=g.XpG(2).$implicit,de=g.XpG(2);g.R7$(),g.FS9("href",de.buildLink(pe.resource),g.B4B),g.R7$(),g.Y8G("ngIf",""==pe.name),g.R7$(),g.Y8G("ngIf",""!=pe.name)}}function ge(ft,Qt){if(1&ft&&(g.j41(0,"td",116),g.DNE(1,Qe,2,1,"span",35)(2,he,4,3,"span",35),g.k0s()),2&ft){const pe=g.XpG().$implicit,de=g.XpG(2);g.R7$(),g.Y8G("ngIf","*"==pe.resource.name||""==de.buildLink(pe.resource)),g.R7$(),g.Y8G("ngIf","*"!=pe.resource.name&&""!=de.buildLink(pe.resource))}}function s(ft,Qt){1&ft&&(g.j41(0,"span",117)(1,"span",51),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&ft&&(g.R7$(2),g.JRh(g.bMT(3,1,"Common.Yes")))}function dt(ft,Qt){1&ft&&(g.j41(0,"span",118)(1,"span",51),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&ft&&(g.R7$(2),g.JRh(g.bMT(3,1,"Common.No")))}function _t(ft,Qt){1&ft&&g.nrm(0,"span",125)}function en(ft,Qt){1&ft&&g.nrm(0,"span",126)}function Cn(ft,Qt){if(1&ft&&(g.j41(0,"tr",119),g.nrm(1,"td"),g.j41(2,"td",120)(3,"div",121)(4,"span",122),g.DNE(5,_t,1,0,"span",123)(6,en,1,0,"span",124),g.k0s(),g.j41(7,"span"),g.EFF(8),g.k0s()()()()),2&ft){const pe=g.XpG().$implicit;g.R7$(5),g.Y8G("ngIf",pe.succeeded),g.R7$(),g.Y8G("ngIf",!pe.succeeded),g.R7$(2),g.JRh(pe.description)}}function Wn(ft,Qt){if(1&ft){const pe=g.RV6();g.qex(0,null,4),g.j41(2,"tr")(3,"td",103)(4,"button",104),g.bIt("click",function(){g.eBV(pe);const P=g.sdS(1);return g.Njj(P.isOpen=!P.isOpen)}),g.nrm(5,"span",105),g.j41(6,"span",51),g.EFF(7),g.nI1(8,"translate"),g.k0s()()(),g.j41(9,"td"),g.EFF(10),g.nI1(11,"standardDateTime"),g.nrm(12,"div"),g.k0s(),g.j41(13,"td",106),g.EFF(14),g.k0s(),g.DNE(15,st,3,2,"td",107)(16,ge,3,2,"td",108),g.j41(17,"td",109),g.EFF(18),g.k0s(),g.j41(19,"td",110),g.DNE(20,s,4,3,"span",111)(21,dt,4,3,"span",112),g.k0s()(),g.DNE(22,Cn,9,3,"tr",113),g.bVm()}if(2&ft){const pe=Qt.$implicit,de=g.sdS(1),P=g.XpG(2);g.R7$(5),g.AVh("fa-caret-right",!de.isOpen),g.R7$(2),g.SpI(" ",g.bMT(8,11,"Auditing.ToggleDetails")," "),g.R7$(3),g.SpI(" ",g.bMT(11,13,pe.when)," "),g.R7$(4),g.SpI(" ",pe.source," "),g.R7$(),g.Y8G("ngIf",!P.resourceBySubject),g.R7$(),g.Y8G("ngIf",!P.resourceByResource),g.R7$(2),g.SpI(" ",pe.action," "),g.R7$(2),g.Y8G("ngIf",pe.succeeded),g.R7$(),g.Y8G("ngIf",!pe.succeeded),g.R7$(),g.Y8G("ngIf",de.isOpen)}}function tn(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"table",89)(1,"thead")(2,"tr")(3,"th",90)(4,"span",51),g.EFF(5),g.nI1(6,"translate"),g.k0s()(),g.j41(7,"th",91),g.bIt("click",function(){g.eBV(pe);const P=g.XpG();return g.Njj(P.sortResults())}),g.j41(8,"span",92),g.EFF(9),g.nI1(10,"translate"),g.k0s(),g.nrm(11,"span",93),g.k0s(),g.j41(12,"th",94),g.EFF(13),g.nI1(14,"translate"),g.k0s(),g.DNE(15,Ve,3,3,"th",95)(16,Xe,3,3,"th",96),g.j41(17,"th",97),g.EFF(18),g.nI1(19,"translate"),g.k0s(),g.j41(20,"th",98),g.EFF(21),g.nI1(22,"translate"),g.k0s()()(),g.j41(23,"tbody",99),g.DNE(24,Wn,23,15,"ng-container",100),g.k0s()()}if(2&ft){const pe=g.XpG();g.R7$(5),g.JRh(g.bMT(6,10,"Common.Actions")),g.R7$(4),g.JRh(g.bMT(10,12,"Auditing.When")),g.R7$(2),g.AVh("fa-caret-up","when"==pe.filterSort),g.R7$(2),g.JRh(g.bMT(14,14,"Auditing.Source")),g.R7$(2),g.Y8G("ngIf",!pe.resourceBySubject),g.R7$(),g.Y8G("ngIf",!pe.resourceByResource),g.R7$(2),g.JRh(g.bMT(19,16,"Auditing.Action")),g.R7$(3),g.SpI(" ",g.bMT(22,18,"Notifications.Success")," "),g.R7$(3),g.Y8G("ngForOf",pe.pagedResult.results)}}function Ln(ft,Qt){if(1&ft){const pe=g.RV6();g.j41(0,"app-pager",127),g.bIt("onGoToPage",function(P){g.eBV(pe);const q=g.XpG();return g.Njj(q.goToPage(P))}),g.k0s()}if(2&ft){const pe=g.XpG();g.Y8G("totalResults",null==pe.pagedResult?null:pe.pagedResult.totalCount)("currentPage",pe.filterForm.get("page").value)("lastPage",null==pe.pagedResult?null:pe.pagedResult.pageCount)}}let ni=(()=>{class ft{get getBySubjectFilterState(){return JSON.parse(this.filterForm.value.bySubject)}get resourceOnly(){return!(0,w.gP)(this.resourceName)}get resourceBySubject(){return this.resourceOnly&&this.getBySubjectFilterState}get resourceByResource(){return this.resourceOnly&&!this.getBySubjectFilterState}constructor(pe,de,P,q,Ne,De,et,gt){this.auditingService=pe,this.localizeRouter=de,this.router=P,this.fb=q,this.activatedRoute=Ne,this.securityService=De,this.fileDownloader=et,this.timeService=gt,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new e.B}userManagerReadOnly(){return(0,w.zG)(this.securityService.userPermissions)}authorizationServerManagerReadOnly(){return(0,w.tb)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,o.Z)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success,bySubject:this.filterForm.value.bySubject}),(0,f.Z)(de=>(this.isLoading=!0,this.resourceOnly?this.auditingService.getResourceAudits(this.resourceName,de.bySubject,de.auditSearch,de.toDate.toString(),de.fromDate.toString(),de.page,de.pageSize,de.sortCriteria,de.success):this.auditingService.getAudits(de.auditSearch,de.toDate.toString(),de.fromDate.toString(),de.page,de.pageSize,de.sortCriteria,de.success)))).subscribe(de=>{this.isLoading=!1,this.pagedResult=de;const P=new D(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:P}),this.aplliedBySubjectFilter=JSON.parse(this.filterForm.value.bySubject)})}applyForm(pe){pe&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(pe){this.filterForm.patchValue({page:pe}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(pe){this.router.config.find(P=>void 0!==P.children)}auditSearch(pe,de){this.filterForm.patchValue({auditSearch:{[pe]:de.value}})}selectFilterType(pe,de){const P=this.filterForm.get("auditSearch").get(pe).value;de.value=P}removeFilter(pe){this.filterForm.patchValue({auditSearch:{[pe]:""}})}checkQuickDate(pe){switch(pe){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(pe){return this.stripSecondsFromDateTime(A.c9.fromISO(pe))}stripSecondsFromDateTime(pe){return pe.set({second:0,millisecond:0}).toString()}setActorOrResource(pe){this.filterForm.patchValue({bySubject:pe})}setShowing(pe,de){this.successfulFilter=pe,this.unsuccessfulFilter=de,this.filter()}showActiveFilters(){const pe=this.filterForm.get("auditSearch");return!!(pe.get("source").value||pe.get("subject").value||pe.get("auditAction").value||pe.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let pe=`${this.auditingService.actionUrl}`;const de=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(pe+=`/${this.resourceName}/auditedEvents`),pe+=`?sort=${de.sortCriteria}`,(0,w.gP)(de.auditAction)||(pe+=`&auditAction=${de.auditAction}`),(0,w.gP)(de.subject)||(pe+=`&subject=${de.subject}`),(0,w.gP)(de.resourceName)||(pe+=`&resource=${de.resourceName}`),(0,w.gP)(de.source)||(pe+=`&source=${de.source}`),null!=de.success&&(pe+=`&success=${de.success}`),null!=de.toDate&&(pe+=`&to=${de.toDate}`),null!=de.fromDate&&(pe+=`&from=${de.fromDate}`),(0,w.hX)(de.bySubject)||(pe+=`&bySubject=${de.bySubject}`),pe}sortResults(){const pe=this.activatedRoute.snapshot.queryParams,de=new m(pe.auditAction,pe.subject,pe.resourceName,pe.source),P=void 0===pe.fromDate?this.timeService.now().startOf("day"):A.c9.fromISO(pe.fromDate),q=void 0===pe.toDate?this.timeService.now().startOf("day"):A.c9.fromISO(pe.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const Ne=new S(de,P,q,pe.page,pe.pageSize,this.filterSort,pe.success,pe.bySubject);this.auditStream.next(Ne),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(pe){const de=void 0===pe.fromDate?this.timeService.now().startOf("day"):A.c9.fromISO(pe.fromDate),P=void 0===pe.toDate?this.timeService.now().endOf("day"):A.c9.fromISO(pe.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[de,[t.k0.required,w.TO]],toDate:[P],auditSearch:this.fb.group({auditAction:[pe.auditAction||""],resourceName:[pe.resourceName||""],subject:[pe.subject||""],source:[pe.source||""]}),page:[pe.page||1],pageSize:[pe.pageSize>1e3?1e3:pe.pageSize||25],sortCriteria:[pe.sortCriteria||this.sortDesc],success:[pe.success||null],bySubject:[pe.bySubject??!0]},{validators:w.$N}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(pe,de){this.router.navigate([pe,de])}resourceNavigate(pe){const de=this.buildTranslatedRoute(pe);"*"!==pe.name&&this.Navigate(de,pe.identifier)}buildLink(pe){let de=this.buildTranslatedRoute(pe);return de+=`/${pe.identifier}`,de}buildTranslatedRoute(pe){switch(pe.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.authorizationServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.authorizationServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.authorizationServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}static{this.\u0275fac=function(de){return new(de||ft)(g.rXU(k.x),g.rXU(z.QG),g.rXU(u.Ix),g.rXU(t.ok),g.rXU(u.nX),g.rXU(E.i),g.rXU(B.D),g.rXU(V.v))}}static{this.\u0275cmp=g.VBU({type:ft,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},standalone:!1,decls:131,vars:105,consts:[["pageLength",""],["filterType",""],["filterValue",""],["sortCriteria",""],["group",""],["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-ml-0"],["class","tw-form-group tw-mb-0",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-0"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["value","source"],["value","subject",4,"ngIf"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["id","bySubjectFilter",1,"tw-btn",3,"click"],["id","byResourceFilter",1,"tw-btn",3,"click"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","subject"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"click","tooltip","disabled"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],["class","tw-hidden xs:tw-table-cell lg:tw-w-1/4",4,"ngIf"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","xl:tw-table-cell"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate xs:tw-table-cell subject",4,"ngIf"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell","subject"],[3,"click","href"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(de,P){if(1&de){const q=g.RV6();g.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),g.EFF(7),g.nI1(8,"translate"),g.k0s(),g.j41(9,"div"),g.nrm(10,"app-date-time",12),g.DNE(11,Q,3,3,"span",13),g.k0s()()(),g.j41(12,"div",9)(13,"div",10)(14,"label",14),g.EFF(15),g.nI1(16,"translate"),g.k0s(),g.j41(17,"div"),g.nrm(18,"app-date-time",15),g.DNE(19,te,3,3,"span",16),g.k0s()()(),g.j41(20,"div",17)(21,"div",10)(22,"label",18),g.EFF(23,"\xa0"),g.k0s(),g.j41(24,"ul",19)(25,"li")(26,"button",20),g.nI1(27,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateToday())}),g.EFF(28),g.nI1(29,"translate"),g.k0s()(),g.j41(30,"li")(31,"button",21),g.nI1(32,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateLast24Hours())}),g.EFF(33),g.nI1(34,"translate"),g.k0s()(),g.j41(35,"li")(36,"button",22),g.nI1(37,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateYesterday())}),g.EFF(38),g.nI1(39,"translate"),g.k0s()(),g.j41(40,"li")(41,"button",23),g.nI1(42,"translate"),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setDateLastWeek())}),g.EFF(43),g.nI1(44,"translate"),g.k0s()()()()()(),g.j41(45,"div",8)(46,"div",24),g.DNE(47,N,13,13,"div",25),g.k0s(),g.j41(48,"div",26)(49,"div",10)(50,"label",27),g.EFF(51),g.nI1(52,"translate"),g.k0s(),g.j41(53,"div",28)(54,"select",29,0)(56,"option",30),g.EFF(57,"25 "),g.k0s(),g.j41(58,"option",30),g.EFF(59,"50"),g.k0s(),g.j41(60,"option",30),g.EFF(61,"100"),g.k0s()()()()()(),g.j41(62,"form",31),g.DNE(63,we,9,7,"div",32),g.j41(64,"div",33)(65,"button",34),g.bIt("click",function(){return g.eBV(q),g.Njj(P.showAddFilter=!P.showAddFilter)}),g.DNE(66,We,4,3,"span",35)(67,rt,4,3,"span",35),g.k0s(),g.j41(68,"div",36)(69,"div",37)(70,"div",38)(71,"div",10)(72,"label",39),g.EFF(73),g.nI1(74,"translate"),g.k0s(),g.j41(75,"div",40)(76,"div",41)(77,"div",28)(78,"select",42,1),g.bIt("change",function(){g.eBV(q);const De=g.sdS(79),et=g.sdS(90);return g.Njj(P.selectFilterType(De.value,et))}),g.j41(80,"option",43),g.EFF(81),g.nI1(82,"translate"),g.k0s(),g.DNE(83,lt,3,3,"option",44),g.j41(84,"option",45),g.EFF(85),g.nI1(86,"translate"),g.k0s(),g.DNE(87,vt,3,3,"option",46),g.k0s()()(),g.j41(88,"div",47),g.nrm(89,"input",48,2),g.nI1(91,"translate"),g.nI1(92,"translate"),g.j41(93,"button",49),g.bIt("click",function(){g.eBV(q);const De=g.sdS(79),et=g.sdS(90);return g.Njj(P.auditSearch(De.value,et))}),g.nrm(94,"span",50),g.j41(95,"span",51),g.EFF(96),g.nI1(97,"translate"),g.k0s()()()()()(),g.j41(98,"div",52)(99,"div",10)(100,"p",53),g.EFF(101),g.nI1(102,"translate"),g.k0s(),g.j41(103,"ul",19)(104,"li")(105,"button",54),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setShowing(!1,!1))}),g.EFF(106),g.nI1(107,"translate"),g.k0s()(),g.j41(108,"li")(109,"button",55),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setShowing(!0,!1))}),g.EFF(110),g.nI1(111,"translate"),g.k0s()(),g.j41(112,"li")(113,"button",56),g.bIt("click",function(){return g.eBV(q),g.Njj(P.setShowing(!1,!0))}),g.EFF(114),g.nI1(115,"translate"),g.k0s()()()()()()()(),g.j41(116,"div",57),g.nrm(117,"input",58,3),g.j41(119,"button",59),g.bIt("click",function(){return g.eBV(q),g.Njj(P.applyForm(!0))}),g.EFF(120),g.nI1(121,"translate"),g.k0s(),g.j41(122,"button",60),g.bIt("click",function(){return g.eBV(q),g.Njj(P.resetForm())}),g.EFF(123),g.nI1(124,"translate"),g.k0s(),g.DNE(125,Ue,4,3,"p",61),g.k0s()()()(),g.DNE(126,He,10,8,"app-action-bar",35)(127,it,1,0,"app-simple-loader",35)(128,Le,4,3,"div",62)(129,tn,25,20,"table",63)(130,Ln,1,3,"app-pager",64),g.k0s()}if(2&de){let q;g.R7$(),g.Y8G("formGroup",P.filterForm),g.R7$(6),g.JRh(g.bMT(8,59,"Auditing.FromDate")),g.R7$(3),g.Y8G("displayType","datetime"),g.R7$(),g.Y8G("ngIf",P.filterForm.get("fromDate").hasError("dateInFuture")),g.R7$(4),g.JRh(g.bMT(16,61,"Auditing.ToDate")),g.R7$(3),g.Y8G("displayType","datetime"),g.R7$(),g.Y8G("ngIf",P.filterForm.hasError("fromDateIsAfterToDate")),g.R7$(7),g.AVh("tw-btn-link",!P.checkQuickDate("today")),g.BMQ("aria-label",g.bMT(27,63,"Auditing.SetDateToday")),g.R7$(2),g.SpI(" ",g.bMT(29,65,"Auditing.Today")," "),g.R7$(3),g.AVh("tw-btn-link",!P.checkQuickDate("24hours")),g.BMQ("aria-label",g.bMT(32,67,"Auditing.SetDateLast24Hours")),g.R7$(2),g.SpI(" ",g.bMT(34,69,"Auditing.24Hours")," "),g.R7$(3),g.AVh("tw-btn-link",!P.checkQuickDate("yesterday")),g.BMQ("aria-label",g.bMT(37,71,"Auditing.SetDateYesterday")),g.R7$(2),g.SpI(" ",g.bMT(39,73,"Auditing.Yesterday")," "),g.R7$(3),g.AVh("tw-btn-link",!P.checkQuickDate("week")),g.BMQ("aria-label",g.bMT(42,75,"Auditing.SetDateLastWeek")),g.R7$(2),g.SpI(" ",g.bMT(44,77,"Auditing.Week")," "),g.R7$(4),g.Y8G("ngIf",P.resourceOnly),g.R7$(4),g.JRh(g.bMT(52,79,"Auditing.ResultsPerPage")),g.R7$(5),g.Y8G("value",25),g.R7$(2),g.Y8G("value",50),g.R7$(2),g.Y8G("value",100),g.R7$(3),g.Y8G("ngIf",P.showActiveFilters()),g.R7$(3),g.Y8G("ngIf",!P.showAddFilter),g.R7$(),g.Y8G("ngIf",P.showAddFilter),g.R7$(),g.Y8G("hidden",!P.showAddFilter),g.R7$(5),g.JRh(g.bMT(74,81,"Auditing.AddFilter")),g.R7$(8),g.JRh(g.bMT(82,83,"Auditing.Source")),g.R7$(2),g.Y8G("ngIf",!P.resourceBySubject),g.R7$(2),g.SpI("",g.bMT(86,85,"Auditing.Action")," "),g.R7$(2),g.Y8G("ngIf",!P.resourceByResource),g.R7$(2),g.BMQ("placeholder",g.bMT(91,87,"Auditing.FilterTermPlaceholder"))("aria-label",g.bMT(92,89,"Auditing.AddFilterTerm")),g.R7$(7),g.JRh(g.bMT(97,91,"Common.Add")),g.R7$(5),g.JRh(g.bMT(102,93,"Auditing.Showing")),g.R7$(4),g.AVh("tw-btn-link",!(!P.successfulFilter&&!P.unsuccessfulFilter)),g.R7$(),g.SpI(" ",g.bMT(107,95,"Permission.All")," "),g.R7$(3),g.AVh("tw-btn-link",!(P.successfulFilter&&!P.unsuccessfulFilter)),g.R7$(),g.SpI(" ",g.bMT(111,97,"Notifications.Success")," "),g.R7$(3),g.AVh("tw-btn-link",!(P.unsuccessfulFilter&&!P.successfulFilter)),g.R7$(),g.SpI(" ",g.bMT(115,99,"Notifications.Failure")," "),g.R7$(5),g.Y8G("disabled",(null==P.filterForm?null:P.filterForm.errors)||(null==(q=P.filterForm.get("fromDate"))?null:q.hasError("dateInFuture"))),g.R7$(),g.SpI(" ",g.bMT(121,101,"Auditing.ExecuteAndDisplay")," "),g.R7$(3),g.SpI(" ",g.bMT(124,103,"Auditing.Reset")," "),g.R7$(2),g.Y8G("ngIf",P.filterHasChanged),g.R7$(),g.Y8G("ngIf",!P.isLoading),g.R7$(),g.Y8G("ngIf",P.isLoading),g.R7$(),g.Y8G("ngIf",(null==P.pagedResult?null:P.pagedResult.results.length)<1&&!P.isLoading),g.R7$(),g.Y8G("ngIf",(null==P.pagedResult?null:P.pagedResult.results.length)>0&&!P.isLoading),g.R7$(),g.Y8G("ngIf",(null==P.pagedResult?null:P.pagedResult.results.length)>0&&!P.isLoading)}},dependencies:[F.Sq,F.bT,t.qT,t.xH,t.y7,t.wz,t.BC,t.cb,t.cV,t.j4,t.JD,t.$R,M.dg,W.B,y.n,X.d,Z.Z,v.D9,L.r7],encapsulation:2})}}return ft})()},9865:(ot,ve,l)=>{"use strict";l.d(ve,{e:()=>f});var t=l(5312),o=l(1410);let f=(()=>{class A{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static get AdminUIProviderDomain(){return t.c.authServer==o.y.OpenIddict?"openiddictcomponents":"identityserver"}static get SupportLink(){return`mailto:support@${this.AdminUIProviderDomain}.com?subject=AdminUI`}static get ExtendLicense(){return`mailto:support@${this.AdminUIProviderDomain}.com?subject=Extend my AdminUI demo license`}static get SalesLink(){return`mailto:sales@${this.AdminUIProviderDomain}.com?subject=AdminUI`}}return A})()},9898:(ot,ve,l)=>{"use strict";l.d(ve,{B:()=>f});var t=l(9974),o=l(4360);function f(){return(0,t.N)((A,e)=>{let w=null;A._refCount++;const m=(0,o._)(e,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(w=null);const D=A._connection,S=w;w=null,D&&(!S||D===S)&&D.unsubscribe(),e.unsubscribe()});A.subscribe(m),m.closed||(w=A.connect())})}},9901:(ot,ve,l)=>{"use strict";l.d(ve,{U:()=>f});var t=l(9974),o=l(4360);function f(A){return(0,t.N)((e,w)=>{let m=!1;e.subscribe((0,o._)(w,D=>{m=!0,w.next(D)},()=>{m||w.next(A),w.complete()}))})}},9945:(ot,ve,l)=>{"use strict";l.d(ve,{f:()=>m});var t=l(8434),o=l(9417),f=l(1683),A=l(8389),e=l(8018),w=l(1360);let m=(()=>{class D{static{this.\u0275fac=function(k){return new(k||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[t.MD,o.YN,o.X1,A.w,f.Y,e.h]})}}return D})()},9947:(ot,ve,l)=>{"use strict";l.d(ve,{a:()=>Z});var t=l(9417),o=l(8434),f=l(8018),A=l(8400),e=l(1683),w=l(4179),m=l(2571),D=l(5826),S=l(7175),g=l(5847),k=l(779),z=l(534),u=l(6193),E=l(75),B=l(8389),V=l(2653),F=l(7677),M=l(5667),W=l(3843),y=l(8906),X=l(1360);let Z=(()=>{class v{static{this.\u0275fac=function(te){return new(te||v)}}static{this.\u0275mod=X.$C({type:v})}static{this.\u0275inj=X.G2t({providers:[V.f,D.o,g.a,u.V],imports:[o.MD,t.YN,t.X1,A.qP,f.h,z.Ss,e.Y,k.Q_,w.z,m.A,S.c,E.U,B.w,F.N,M.g,W.G,y.G]})}}return v})()},9957:(ot,ve,l)=>{"use strict";l.d(ve,{I:()=>t});var t=function(o){return o[o.NotHandled=0]="NotHandled",o[o.Toast=1]="Toast",o[o.Navigate=2]="Navigate",o}(t||{})},9962:(ot,ve,l)=>{"use strict";l.d(ve,{m:()=>S});var t=l(1594),o=l(6354),f=l(7380),A=l(1360),e=l(3853),w=l(5794),m=l(8018),D=l(2947);let S=(()=>{class g extends f.Q{constructor(z,u,E,B){super(B),this.licenseService=z,this.toastr=u,this.tranlate=E}canActivate(z,u){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,o.T)(E=>{if(!E.overClientLimit)return!0;{const B=this.tranlate.instant("Nav.Clients"),V=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:B}),F=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:B});this.toastr.warning(F,V,{timeOut:1e4}),super.redirectToView(z,u)}}))}static{this.\u0275fac=function(u){return new(u||g)(A.KVO(e.X),A.KVO(w.tw),A.KVO(m.c$),A.KVO(D.Ix))}}static{this.\u0275prov=A.jDH({token:g,factory:g.\u0275fac})}}return g})()},9973:(ot,ve,l)=>{"use strict";l.d(ve,{s:()=>B});var t=l(8434),o=l(9417),f=l(1683),A=l(8018),e=l(5731),w=l(7175),m=l(6599),D=l(9262),S=l(4367),g=l(8251),k=l(5663),z=l(5302),u=l(4288),E=l(1360);let B=(()=>{class V{static{this.\u0275fac=function(W){return new(W||V)}}static{this.\u0275mod=E.$C({type:V})}static{this.\u0275inj=E.G2t({providers:[k.Q,z.PC,u.f],imports:[t.MD,A.h,D.iI,e.i,f.Y,w.c,o.X1,m.Y,g.h,S.N]})}}return V})()},9974:(ot,ve,l)=>{"use strict";l.d(ve,{N:()=>f,S:()=>o});var t=l(8071);function o(A){return(0,t.T)(A?.lift)}function f(A){return e=>{if(o(e))return e.lift(function(w){try{return A(w,this)}catch(m){this.error(m)}});throw new TypeError("Unable to lift unknown Observable type")}}},9988:(ot,ve,l)=>{"use strict";l.d(ve,{$:()=>t});var t=function(o){return o.Home="Home",o.SinglePageApplication="SinglePageApplication",o.WebApplication="WebApplication",o.NativeApplication="NativeApplication",o.RobotApplication="RobotApplication",o.CIBARobotApplication="CIBARobotApplication",o.DeviceApplication="DeviceApplication",o.SamlApplication="SamlApplication",o.WsFedApplication="WsFedApplication",o.LegacySinglePageApplication="LegacySinglePageApplication",o.PKCEWebApplication="PKCEWebApplication",o.PKCENativeApplication="PKCENativeApplication",o.ImportWizard="ImportWizard",o.AddDynamicAuth="AddDynamicAuth",o.AddOidcDynamicAuth="AddOidcDynamicAuth",o.AddSamlDynamicAuth="AddSamlDynamicAuth",o.AddOpenIddictScope="AddOpenIddictScope",o.AddApi="AddApi",o.MergeUser="MergeUser",o}(t||{})}},ot=>{ot(ot.s=8044)}]);