"use strict";(self.webpackChunkadmin_ui_duende=self.webpackChunkadmin_ui_duende||[]).push([[708],{8708:(ae,v,i)=>{i.r(v),i.d(v,{ViewProtectedResourceModule:()=>ne});var a=i(8434),G=i(9262),$=i(5139),n=i(8018),m=i(1924),Y=i(1683),O=i(2571),g=i(8389),I=i(5731),P=i(3843),w=i(6843),F=i(4179),V=i(7175),j=i(367),U=i(9838),e=i(1360),N=i(345),l=i(5893),S=i(6520);let M=(()=>{class t{constructor(s,o,r){this.titleService=s,this.protectedResourceService=o,this.translate=r,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(s=>{this.protectedResource=s,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${U.$9.SITE_TITLE}`)})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(N.hE),e.rXU(l.x),e.rXU(n.c$))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-view-protected-resource-properties"]],standalone:!1,decls:1,vars:3,consts:[[3,"modalId","isReadOnly","properties"]],template:function(o,r){1&o&&e.nrm(0,"app-properties-editor",0),2&o&&e.Y8G("modalId",r.protectedResource.id)("isReadOnly",!0)("properties",r.protectedResource.properties)},dependencies:[S.C],encapsulation:2})}}return t})();var C=i(1746),R=i(6303),h=i(8698),y=i(8762);const X=["ClaimsPicker"];function E(t,u){if(1&t&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&t){const s=e.XpG();e.Y8G("label","Resources.AssignedClaims"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Multi)("values",s.displayClaims)}}let A=(()=>{class t{get ReadOnlyFieldType(){return R.t}constructor(s){this.protectedResourceService=s,this.displayClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(s=>{this.protectedResource=s,this.displayClaims=this.protectedResource.allowedClaims.sort().map(o=>new C.w(o))})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(l.x))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-view-protectedresource-claims"]],viewQuery:function(o,r){if(1&o&&e.GBs(X,7),2&o){let c;e.mGM(c=e.lsd())&&(r.claimsPicker=c.first)}},standalone:!1,decls:5,vars:4,consts:[[1,"cms"],[3,"label",4,"ngIf"],[3,"label"],[3,"fieldType","values"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,E,2,3,"app-form-row",1)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,2,"ProtectedResources.UserClaimTypes")),e.R7$(2),e.Y8G("ngIf",r.displayClaims))},dependencies:[a.bT,h.Y,y.O,n.D9],encapsulation:2})}}return t})();var T=i(7921);const d=t=>[t];let B=(()=>{class t{constructor(s){this.protectedResourceService=s}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(s=>{this.protectedResourceDictionary=new T.b(s)})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}get ReadOnlyFieldType(){return R.t}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(l.x))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-view-protectedresource-details"]],standalone:!1,decls:12,vars:30,consts:[["id","protectedResourceDetails"],[3,"label","help"],[3,"fieldType","values"],["id","requireResourceIndicatorInput",3,"fieldType","values"],[3,"label","isLast"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"form")(2,"app-form-row",1),e.nrm(3,"app-readonly",2),e.k0s(),e.j41(4,"app-form-row",1),e.nrm(5,"app-readonly",2),e.k0s(),e.j41(6,"app-form-row",1),e.nrm(7,"app-readonly",2),e.k0s(),e.j41(8,"app-form-row",1),e.nrm(9,"app-readonly",3),e.k0s(),e.j41(10,"app-form-row",4),e.nrm(11,"app-readonly",2),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(20,d,r.protectedResourceDictionary.name)),e.R7$(),e.Y8G("label","Common.DisplayName")("help","Resources.ResourceName"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(22,d,r.protectedResourceDictionary.displayName)),e.R7$(),e.Y8G("label","Common.Description")("help","Resources.ResourceDescription"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(24,d,r.protectedResourceDictionary.description)),e.R7$(),e.Y8G("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(26,d,r.protectedResourceDictionary.requireResourceIndicator)),e.R7$(),e.Y8G("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.CommaSeparated)("values",e.eq3(28,d,r.protectedResourceDictionary.allowedAccessTokenSigningAlgorithms)))},dependencies:[h.Y,y.O],encapsulation:2})}}return t})();var k=i(5615),Q=i(9417),z=i(5794),J=i(7156),b=i(632),L=i(526),H=i(5586),f=i(3816);const x=["tabs"],p=t=>[t];function Z(t,u){if(1&t&&(e.j41(0,"app-form-row",10),e.nrm(1,"app-readonly",5),e.k0s()),2&t){const s=e.XpG();e.Y8G("label","Resources.AssignedClaims"),e.R7$(),e.Y8G("fieldType",s.ReadOnlyFieldType.Multi)("values",s.displayClaims)}}let K=(()=>{class t{set scope(s){this._scope=s||new b.H}get scope(){return this._scope}constructor(s,o,r){this.claimsService=s,this.translate=o,this.scopesClaimService=r,this._scope=new b.H,this.displayClaims=[],this.properties=[]}ngOnInit(){this.scopesClaimService.cachedClaimTypes$.subscribe(s=>{const o=this.findAssignedClaims(s);this.displayClaims=o.map(r=>new C.w(r.name))}),this.scopeDictionary=new T.b(this.scope),this.properties=this.scope.properties}findAssignedClaims(s){const o=[];return this.scope.userClaims.forEach(r=>{s.forEach(c=>{c.name===r&&o.push(c)})}),o}get ReadOnlyFieldType(){return R.t}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(L.X),e.rXU(n.c$),e.rXU(H.N))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-view-api-scope"]],viewQuery:function(o,r){if(1&o&&e.GBs(x,7),2&o){let c;e.mGM(c=e.lsd())&&(r.tabsComponent=c.first)}},inputs:{scope:"scope"},standalone:!1,decls:27,vars:49,consts:[["tabs",""],[3,"heading"],["id","readOnlyBlock"],[1,"tw-pt-5"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help","isLast"],[1,"cms","tw-pt-5"],[3,"label",4,"ngIf"],[3,"modalId","isReadOnly","properties"],[3,"label"]],template:function(o,r){1&o&&(e.j41(0,"tabset",null,0)(2,"tab",1),e.nI1(3,"translate"),e.j41(4,"div",2)(5,"form",3)(6,"app-form-row",4),e.nrm(7,"app-readonly",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"app-readonly",5),e.k0s(),e.j41(10,"app-form-row",4),e.nrm(11,"app-readonly",5),e.k0s(),e.j41(12,"app-form-row",4),e.nrm(13,"app-readonly",5),e.k0s(),e.j41(14,"app-form-row",4),e.nrm(15,"app-readonly",5),e.k0s(),e.j41(16,"app-form-row",6),e.nrm(17,"app-readonly",5),e.k0s()()()(),e.j41(18,"tab",1)(19,"div",7)(20,"p"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.DNE(23,Z,2,3,"app-form-row",8),e.k0s(),e.j41(24,"tab",1),e.nrm(25,"div",3)(26,"app-properties-editor",9),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("heading",e.bMT(3,33,"Nav.Details")),e.R7$(4),e.Y8G("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(37,p,r.scopeDictionary.name)),e.R7$(),e.Y8G("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(39,p,r.scopeDictionary.displayName)),e.R7$(),e.Y8G("label","Common.Description")("help","Resources.Scope.Description"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(41,p,r.scopeDictionary.description)),e.R7$(),e.Y8G("label","Common.Required")("help","Resources.Scope.Consent"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(43,p,r.scopeDictionary.required)),e.R7$(),e.Y8G("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(45,p,r.scopeDictionary.showInDiscoveryDocument)),e.R7$(),e.Y8G("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(47,p,r.scopeDictionary.emphasize)),e.R7$(),e.Y8G("heading","Claims"),e.R7$(3),e.JRh(e.bMT(22,35,"Resources.Scope.UserClaimTypes")),e.R7$(2),e.Y8G("ngIf",r.displayClaims),e.R7$(),e.Y8G("heading","Properties"),e.R7$(2),e.Y8G("modalId",r.scope.id)("isReadOnly",!0)("properties",r.scope.properties))},dependencies:[a.bT,f.V6,f.fw,h.Y,S.C,y.O,n.D9],encapsulation:2,changeDetection:0})}}return t})();function W(t,u){1&t&&(e.j41(0,"div",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.DisplayName")," "))}function q(t,u){if(1&t&&(e.j41(0,"accordion-group",null,0)(2,"button",6)(3,"b",7),e.EFF(4),e.k0s(),e.j41(5,"div",8),e.nrm(6,"span",9),e.k0s()(),e.j41(7,"div"),e.nrm(8,"app-view-api-scope",10),e.k0s()()),2&t){const s=u.$implicit;e.R7$(4),e.JRh(s.displayName),e.R7$(4),e.Y8G("scope",s)}}function _(t,u){if(1&t&&e.nrm(0,"app-pager",11),2&t){const s=e.XpG();e.Y8G("totalResults",null==s.protectedResource.scopes?null:s.protectedResource.scopes.length)}}let ee=(()=>{class t{constructor(s,o,r,c){this.protectedResourceService=s,this.fb=o,this.toastr=r,this.translate=c}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(s=>{this.protectedResource=s})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(l.x),e.rXU(Q.ze),e.rXU(z.tw),e.rXU(n.c$))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-protectedresource-scopes"]],standalone:!1,features:[e.Jv_([{provide:m.P0,useFactory:k.r}])],decls:5,vars:3,consts:[["group",""],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","tw-transition-all","tw-ease-in-out"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"scope"],["hidePager","true",3,"totalResults"]],template:function(o,r){1&o&&(e.j41(0,"div",1),e.DNE(1,W,3,3,"div",2),e.j41(2,"accordion"),e.DNE(3,q,9,2,"accordion-group",3),e.k0s(),e.DNE(4,_,1,1,"app-pager",4),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",r.protectedResource.scopes.length>0),e.R7$(2),e.Y8G("ngForOf",r.protectedResource.scopes),e.R7$(),e.Y8G("ngIf",(null==r.protectedResource.scopes?null:r.protectedResource.scopes.length)>0))},dependencies:[a.Sq,a.bT,J.B,m.Mj,m.kt,K,n.D9],encapsulation:2})}}return t})();var te=i(9764);const se=["SecretPicker"];let oe=(()=>{class t{constructor(s){this.protectedResourceService=s,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(s=>{this.protectedResource=s,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(l.x))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-view-protectedresource-secrets"]],viewQuery:function(o,r){if(1&o&&e.GBs(se,7),2&o){let c;e.mGM(c=e.lsd())&&(r.secretPicker=c.first)}},standalone:!1,decls:2,vars:3,consts:[["SecretPicker",""],[3,"isReadOnly","clientSecrets","nonModelCertPicker"]],template:function(o,r){1&o&&e.nrm(0,"app-secret-picker",1,0),2&o&&e.Y8G("isReadOnly",!0)("clientSecrets",r.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[te.s],encapsulation:2})}}return t})();var D=i(7677),re=i(534);let ie=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[a.MD,f.jr,n.h,re.Ss,g.w,w.l,D.N]})}}return t})();const ce=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:B},{path:"secrets",component:oe},{path:"scopes",component:ee},{path:"claims",component:A},{path:"properties",component:M}];let ne=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[a.MD,n.h.forChild({extend:!0}),G.iI.forChild(ce),Y.Y,j.m,I.i,$.XE,g.w,O.A,V.c,w.l,P.G,F.z,m.h6,D.N,ie]})}}return t})()}}]);